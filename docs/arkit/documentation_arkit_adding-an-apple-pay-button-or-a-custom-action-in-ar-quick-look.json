{
  "abstract" : "Provide a banner that users can tap to make a purchase or perform a custom action in an AR experience.",
  "codeExamples" : [
    {
      "code" : "https:\/\/example.com\/biplane.usdz#applePayButtonType=plain",
      "language" : "javascript"
    },
    {
      "code" : "https:\/\/example.com\/biplane.usdz#callToAction=Add%20to%20cart",
      "language" : "javascript"
    },
    {
      "code" : "https:\/\/example.com\/biplane.usdz#applePayButtonType=buy&checkoutTitle=Biplane%20Toy&checkoutSubtitle=Rustic%20finish%20with%20rotating%20propeller&price=$15",
      "language" : "javascript"
    },
    {
      "code" : "https:\/\/example.com\/biplane.usdz#custom=https:\/\/example.com\/customBanners\/comingSoonBanner.html\n",
      "language" : "swift"
    },
    {
      "code" : "https:\/\/example.com\/biplane.usdz#custom=https:\/\/example.com\/my-custom-page.html&customHeight=large",
      "language" : "javascript"
    },
    {
      "code" : "<a id=\"ar-link\" rel=\"ar\" href=\"https:\/\/example.com\/cool-model.usdz#applePayButtonType=pay....etc\">  <img src=\"poster.jpg\"><\/a>",
      "language" : "javascript"
    },
    {
      "code" : "const linkElement = document.getElementById(\"ar-link\");\nlinkElement.addEventListener(\"message\", function (event) { ... }, false);",
      "language" : "javascript"
    },
    {
      "code" : "const linkElement = document.getElementById(\"ar-link\");\nlinkElement.addEventListener(\"message\", function (event) {   \n    if (event.data == \"_apple_ar_quicklook_button_tapped\") {\n        \/\/ Handle the user tap.   \n    }\n}, false);",
      "language" : "swift"
    }
  ],
  "contentHash" : "91c660ba5a14fb8061006141e4900d2ae9b5acfb42a4a5be18821d575c69c33d",
  "crawledAt" : "2025-12-02T19:28:38Z",
  "id" : "3C126307-8C3D-4E4B-9428-056F8E1FCAEE",
  "kind" : "article",
  "language" : "swift",
  "module" : "ARKit",
  "overview" : "## Overview\n\nFor AR experiences initiated through the web in iOS 13.3 or later, you can display an Apple Pay button so users can make purchases from your website.\n\n\n\nAlternatively, you can provide text in the banner that users can tap to invoke a custom action in your website, like adding a previewed item to a shopping cart.\n\n\n\nIn addition, you can supply AR Quick Look with custom HTML that completely customizes the banner’s graphics.\n\n\n\nTo add an Apple Pay button or custom text or graphics in a banner, choose URL parameters to configure AR Quick Look for your website. Finally, detect and react to customer taps to the banner.\n\n### Choose an Apple Pay Button Style\n\nTo select a style of Apple Pay button for your AR experience, append the `applePayButtonType` parameter to your website URL.\n\nYou can choose from the button options using the button type values shown here.\n\n\n\n### Provide Custom Text\n\nInstead of an Apple Pay button, you can supply text that AR Quick Look displays as a custom action button, as in the following image.\n\n\n\nAppend the `callToAction` URL parameter with the custom text as the value. The following example URL renders a banner with the text “Add to cart”:\n\nBecause URLs can’t contain spaces, be sure to URL-encode the custom text before appending it as a URL parameter. If your website supports multiple languages, localize the custom text before URL-encoding it for the URL parameter list.\n\n### Define the Item\n\nWhen you add an Apple Pay button or a custom action button to AR Quick Look, set the description of the previewed items using the `checkoutTitle`, `checkoutSubtitle`, and `price` URL parameters. AR Quick Look displays the subtitle and price separated by a comma below the title.\n\n\n\nIf AR Quick Look can’t fit the subtitle and price on one line, it truncates the subtitle with an ellipsis. The following example URL renders the banner.\n\nIf your website supports multiple languages, localize the item title, subtitle, and price before URL-encoding them for the URL parameter list.\n\n### Display a Custom Banner\n\nTo take full control of the banner’s graphics, supply a custom HTML file through the `custom` URL parameter. The following example URL renders a banner from a custom file named `comingSoonBanner`.\n\nThis example URL creates the AR experience illustrated below.\n\n\n\nIf you use the `custom` URL parameter, the value must be an absolute URL. To comply with AR Quick Look’s security standards, ensure the server sends the HTML resource over HTTPS.\n\n### Define the Custom Banner’s Height\n\nWhen you display a custom banner, you can set the banner height using the `customHeight` URL parameter.\n\nSupply a value of `small`, `medium`, or `large` to set the banner height to 81, 121, or 161 points, respectively. For example:\n\nAR Quick Look automatically scales the width of the banner to the size and orientation of the device on which it displays. The maximum width of the custom banner is 450 points. If you omit the `customHeight` URL parameter, AR Quick Look uses the default value, `small`.\n\n### Detect a Tap\n\nWhen the user taps the Apple Pay button or custom action button, WebKit sends a DOM message to the `<a>` element of your code that references the 3D asset.\n\nTo be notified of the tap, define a JavaScript listener for the `message` event on your anchor.\n\nWhen WebKit invokes your listener, check the `data` property. A value of `_apple_ar_quicklook_button_tapped` confirms the user tapped the banner in AR Quick Look.\n\nThe `message` event follows normal DOM processing rules. Rather than adding a listener for a specific anchor, you can add a listener at the document root for all AR links, and use the `event.target` to determine which anchor the user invoked.\n\n### React to a Tap\n\nDefine the actions your website takes in response to a user tap in your event listener. When the user taps the custom action button, you might add the previewed item to a shopping cart or take the user to a checkout page, depending on the banner’s text and custom action.\n\nIf your banner displays an Apple Pay button, bring up the Apple Pay prompt using [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/apple-pay-js-api].\n\nIf your banner displays an Apple Messages for Business button, send the user to Messages using your company’s custom Apple Messages for Business URL. For more infomation, see [https:\/\/register.apple.com\/resources\/messages\/messaging-documentation\/chat-with-customers#starting-a-chat-from-a-url].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ARKit\/adding-an-apple-pay-button-or-a-custom-action-in-ar-quick-look\ncrawled: 2025-12-02T19:28:38Z\n---\n\n# Adding an Apple Pay Button or a Custom Action in AR Quick Look\n\n**Article**\n\nProvide a banner that users can tap to make a purchase or perform a custom action in an AR experience.\n\n## Overview\n\nFor AR experiences initiated through the web in iOS 13.3 or later, you can display an Apple Pay button so users can make purchases from your website.\n\n\n\nAlternatively, you can provide text in the banner that users can tap to invoke a custom action in your website, like adding a previewed item to a shopping cart.\n\n\n\nIn addition, you can supply AR Quick Look with custom HTML that completely customizes the banner’s graphics.\n\n\n\nTo add an Apple Pay button or custom text or graphics in a banner, choose URL parameters to configure AR Quick Look for your website. Finally, detect and react to customer taps to the banner.\n\n### Choose an Apple Pay Button Style\n\nTo select a style of Apple Pay button for your AR experience, append the `applePayButtonType` parameter to your website URL.\n\n```javascript\nhttps:\/\/example.com\/biplane.usdz#applePayButtonType=plain\n```\n\nYou can choose from the button options using the button type values shown here.\n\n\n\n### Provide Custom Text\n\nInstead of an Apple Pay button, you can supply text that AR Quick Look displays as a custom action button, as in the following image.\n\n\n\nAppend the `callToAction` URL parameter with the custom text as the value. The following example URL renders a banner with the text “Add to cart”:\n\n```javascript\nhttps:\/\/example.com\/biplane.usdz#callToAction=Add%20to%20cart\n```\n\nBecause URLs can’t contain spaces, be sure to URL-encode the custom text before appending it as a URL parameter. If your website supports multiple languages, localize the custom text before URL-encoding it for the URL parameter list.\n\n### Define the Item\n\nWhen you add an Apple Pay button or a custom action button to AR Quick Look, set the description of the previewed items using the `checkoutTitle`, `checkoutSubtitle`, and `price` URL parameters. AR Quick Look displays the subtitle and price separated by a comma below the title.\n\n\n\nIf AR Quick Look can’t fit the subtitle and price on one line, it truncates the subtitle with an ellipsis. The following example URL renders the banner.\n\n```javascript\nhttps:\/\/example.com\/biplane.usdz#applePayButtonType=buy&checkoutTitle=Biplane%20Toy&checkoutSubtitle=Rustic%20finish%20with%20rotating%20propeller&price=$15\n```\n\nIf your website supports multiple languages, localize the item title, subtitle, and price before URL-encoding them for the URL parameter list.\n\n### Display a Custom Banner\n\nTo take full control of the banner’s graphics, supply a custom HTML file through the `custom` URL parameter. The following example URL renders a banner from a custom file named `comingSoonBanner`.\n\n```swift\nhttps:\/\/example.com\/biplane.usdz#custom=https:\/\/example.com\/customBanners\/comingSoonBanner.html\n\n```\n\nThis example URL creates the AR experience illustrated below.\n\n\n\nIf you use the `custom` URL parameter, the value must be an absolute URL. To comply with AR Quick Look’s security standards, ensure the server sends the HTML resource over HTTPS.\n\n\n\n### Define the Custom Banner’s Height\n\nWhen you display a custom banner, you can set the banner height using the `customHeight` URL parameter.\n\nSupply a value of `small`, `medium`, or `large` to set the banner height to 81, 121, or 161 points, respectively. For example:\n\n```javascript\nhttps:\/\/example.com\/biplane.usdz#custom=https:\/\/example.com\/my-custom-page.html&customHeight=large\n```\n\nAR Quick Look automatically scales the width of the banner to the size and orientation of the device on which it displays. The maximum width of the custom banner is 450 points. If you omit the `customHeight` URL parameter, AR Quick Look uses the default value, `small`.\n\n### Detect a Tap\n\nWhen the user taps the Apple Pay button or custom action button, WebKit sends a DOM message to the `<a>` element of your code that references the 3D asset.\n\n```javascript\n<a id=\"ar-link\" rel=\"ar\" href=\"https:\/\/example.com\/cool-model.usdz#applePayButtonType=pay....etc\">  <img src=\"poster.jpg\"><\/a>\n```\n\nTo be notified of the tap, define a JavaScript listener for the `message` event on your anchor.\n\n```javascript\nconst linkElement = document.getElementById(\"ar-link\");\nlinkElement.addEventListener(\"message\", function (event) { ... }, false);\n```\n\nWhen WebKit invokes your listener, check the `data` property. A value of `_apple_ar_quicklook_button_tapped` confirms the user tapped the banner in AR Quick Look.\n\n```swift\nconst linkElement = document.getElementById(\"ar-link\");\nlinkElement.addEventListener(\"message\", function (event) {   \n    if (event.data == \"_apple_ar_quicklook_button_tapped\") {\n        \/\/ Handle the user tap.   \n    }\n}, false);\n```\n\nThe `message` event follows normal DOM processing rules. Rather than adding a listener for a specific anchor, you can add a listener at the document root for all AR links, and use the `event.target` to determine which anchor the user invoked.\n\n### React to a Tap\n\nDefine the actions your website takes in response to a user tap in your event listener. When the user taps the custom action button, you might add the previewed item to a shopping cart or take the user to a checkout page, depending on the banner’s text and custom action.\n\nIf your banner displays an Apple Pay button, bring up the Apple Pay prompt using [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/apple-pay-js-api].\n\nIf your banner displays an Apple Messages for Business button, send the user to Messages using your company’s custom Apple Messages for Business URL. For more infomation, see [https:\/\/register.apple.com\/resources\/messages\/messaging-documentation\/chat-with-customers#starting-a-chat-from-a-url].\n\n## AR Quick Look\n\n- **Previewing a Model with AR Quick Look**: Display a model or scene that the user can move, scale, and share with others.\n- **Adding Visual Effects in AR Quick Look and RealityKit**: Balance the appearance and performance of your AR experiences with modeling strategies.\n- **OpenUSD schemas for AR**: Add augmented reality functionality to your 3D content using USD schemas.\n- **Specifying a lighting environment in AR Quick Look**: Add metadata to your USDZ file to specify its lighting characteristics.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Display a model or scene that the user can move, scale, and share with others.",
          "name" : "Previewing a Model with AR Quick Look",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/previewing-a-model-with-ar-quick-look"
        },
        {
          "description" : "Balance the appearance and performance of your AR experiences with modeling strategies.",
          "name" : "Adding Visual Effects in AR Quick Look and RealityKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/adding-visual-effects-in-ar-quick-look-and-realitykit"
        },
        {
          "description" : "Add augmented reality functionality to your 3D content using USD schemas.",
          "name" : "OpenUSD schemas for AR",
          "url" : "https:\/\/developer.apple.com\/documentation\/USD\/usd-schemas-for-ar"
        },
        {
          "description" : "Add metadata to your USDZ file to specify its lighting characteristics.",
          "name" : "Specifying a lighting environment in AR Quick Look",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/specifying-a-lighting-environment-in-ar-quick-look"
        }
      ],
      "title" : "AR Quick Look"
    }
  ],
  "source" : "appleJSON",
  "title" : "Adding an Apple Pay Button or a Custom Action in AR Quick Look",
  "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/adding-an-apple-pay-button-or-a-custom-action-in-ar-quick-look"
}