{
  "abstract" : "Keep the user informed on the current session state and recover from interruptions.",
  "codeExamples" : [

  ],
  "contentHash" : "dc991fbaea2102672aa2dc851f3bda925e9df9fc3d6fa91f381a068e6edfcd7e",
  "crawledAt" : "2025-12-03T15:28:56Z",
  "id" : "EE1B53C1-29D2-43BD-90F5-24A962CB92C6",
  "kind" : "article",
  "language" : "swift",
  "module" : "ARKit",
  "overview" : "## Overview\n\nWorld-tracking AR sessions use a technique called *visual-inertial odometry.* This process combines motion sensor data with computer vision analysis of camera imagery to track the device’s position and orientation in real-world space, also known as *pose*, which is expressed in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera] [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/transform] property. For best results, world tracking needs consistent sensor data and camera imagery with visual complexity or recognizable features.\n\nWhen you start a session, it takes some time for ARKit to gather enough data to precisely model device pose. During a session, the conditions that affect world-tracking quality can change. Use [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSessionObserver] delegate methods and [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera] properties to follow these changes.\n\n### Basic Lifecycle of an AR Session\n\nThe figure below shows the changes in tracking state when you start running an AR session.\n\n\n\nImmediately after you run a new session, the tracking state for provided frames is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/notAvailable], indicating that ARKit has not yet gathered enough information to estimate the device’s pose.\n\nA few frames later, the tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)], indicating that a device pose is available but its accuracy is uncertain. A limited state always includes a reason for reduced tracking quality; in this case, the session is still [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/initializing].\n\nAfter a short time, the tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal], indicating that the device pose is accurate and all ARKit features are available.\n\n### Provide Feedback for Tracking Quality Changes\n\nThe figure below shows changes in tracking state that can occur due to user interaction or changes in the environment.\n\n\n\nWhen tracking quality is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)], features that depend on ARKit mapping the user’s local environment are not available:\n\nA session can enter a [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] tracking state at any time, based on changes in the user’s local environment or the user moving the device. For example, if the user points the device at a blank wall, or the lights in the room go out, tracking quality may be reduced due to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/insufficientFeatures].\n\nUse the associated [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason] value to provide feedback that guides the user to resolving the situation so that the tracking state can return to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal].\n\n### Recover from Session Interruptions\n\nARKit can’t track device pose without a running [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession]. By default, if your session is interrupted (for example, by switching to another app), any virtual content in that session is likely out of place relative to the real-world environment.\n\nYou can use *relocalization* to try to recover from an interruption. If you return true from the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSessionObserver\/sessionShouldAttemptRelocalization(_:)] method, ARKit attempts to reconcile its knowledge of the user’s environment from before the interruption with current camera and sensor data. During this process, the tracking state is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] (with [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] as the reason). If successful, the tracking state returns to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal] after a short time.\n\n\n\nFor relocalization to succeed, the device must be returned to a position and orientation near where it was when the session was interrupted. If these conditions never occur (for example, if the device has moved to an entirely different environment), the session remains in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] state indefinitely.\n\n### Create a Persistent AR Experience\n\nIn iOS 12.0 and later, the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] class stores the information that ARKit uses to resume a session. By saving a world map to a file, you can use the same relocalization process either to recover from a brief interruption or to resume from an earlier session, even if your app has relaunched. World maps include anchors, so you can also replace virtual content to match an earlier session.\n\n\n\nTo allow the user to come back to the same AR session after leaving your app, you might save the world map explicitly upon a user action, or automatically in [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationDidEnterBackground(_:)]. Save the world map only if your AR session has state worth saving—for example, if the user has placed virtual objects whose positions you want to remember, and the session is in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARFrame\/WorldMappingStatus-swift.enum\/mapped] state (or has been in that state at least once during the session).\n\nTo relocalize to a saved world map, use the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] property when running a session. Like when resuming from an interruption, the session starts in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] ([doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing]) tracking state. If ARKit can reconcile the world map with the current environment, the tracking state becomes [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal] after a short time, indicating that the session matches the recorded world map.\n\nA session resumed from a world map includes all anchors saved in that world map. If you use the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARAnchor\/name] property to identify virtual objects you’ve placed anchors for, you can refer to the anchors in the resumed session to recreate that virtual content. To ensure that such content is placed correctly, display it only after the session’s tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal].\n\nIf ARKit cannot reconcile the recorded world map with the current environment (for example, if the device is in an entirely different place from where the world map was recorded), the session remains in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] state indefinitely. Provide users with a way to restart the session in case they can’t resume it. To give up on world map relocalization, call [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/run(_:options:)] on the session again, with the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/RunOptions\/resetTracking] option and a configuration whose [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] is `nil`.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ARKit\/managing-session-life-cycle-and-tracking-quality\ncrawled: 2025-12-03T15:28:56Z\n---\n\n# Managing Session Life Cycle and Tracking Quality\n\n**Article**\n\nKeep the user informed on the current session state and recover from interruptions.\n\n## Overview\n\nWorld-tracking AR sessions use a technique called *visual-inertial odometry.* This process combines motion sensor data with computer vision analysis of camera imagery to track the device’s position and orientation in real-world space, also known as *pose*, which is expressed in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera] [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/transform] property. For best results, world tracking needs consistent sensor data and camera imagery with visual complexity or recognizable features.\n\nWhen you start a session, it takes some time for ARKit to gather enough data to precisely model device pose. During a session, the conditions that affect world-tracking quality can change. Use [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSessionObserver] delegate methods and [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera] properties to follow these changes.\n\n### Basic Lifecycle of an AR Session\n\nThe figure below shows the changes in tracking state when you start running an AR session.\n\n\n\nImmediately after you run a new session, the tracking state for provided frames is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/notAvailable], indicating that ARKit has not yet gathered enough information to estimate the device’s pose.\n\nA few frames later, the tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)], indicating that a device pose is available but its accuracy is uncertain. A limited state always includes a reason for reduced tracking quality; in this case, the session is still [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/initializing].\n\nAfter a short time, the tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal], indicating that the device pose is accurate and all ARKit features are available.\n\n### Provide Feedback for Tracking Quality Changes\n\nThe figure below shows changes in tracking state that can occur due to user interaction or changes in the environment.\n\n\n\nWhen tracking quality is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)], features that depend on ARKit mapping the user’s local environment are not available:\n\n- Plane detection does not add or update plane anchors\n- Hit-testing methods provide no results\n\nA session can enter a [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] tracking state at any time, based on changes in the user’s local environment or the user moving the device. For example, if the user points the device at a blank wall, or the lights in the room go out, tracking quality may be reduced due to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/insufficientFeatures].\n\nUse the associated [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason] value to provide feedback that guides the user to resolving the situation so that the tracking state can return to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal].\n\n### Recover from Session Interruptions\n\nARKit can’t track device pose without a running [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession]. By default, if your session is interrupted (for example, by switching to another app), any virtual content in that session is likely out of place relative to the real-world environment.\n\nYou can use *relocalization* to try to recover from an interruption. If you return true from the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSessionObserver\/sessionShouldAttemptRelocalization(_:)] method, ARKit attempts to reconcile its knowledge of the user’s environment from before the interruption with current camera and sensor data. During this process, the tracking state is [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] (with [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] as the reason). If successful, the tracking state returns to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal] after a short time.\n\n\n\nFor relocalization to succeed, the device must be returned to a position and orientation near where it was when the session was interrupted. If these conditions never occur (for example, if the device has moved to an entirely different environment), the session remains in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] state indefinitely.\n\n\n\n### Create a Persistent AR Experience\n\nIn iOS 12.0 and later, the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] class stores the information that ARKit uses to resume a session. By saving a world map to a file, you can use the same relocalization process either to recover from a brief interruption or to resume from an earlier session, even if your app has relaunched. World maps include anchors, so you can also replace virtual content to match an earlier session.\n\n\n\n\n\nTo allow the user to come back to the same AR session after leaving your app, you might save the world map explicitly upon a user action, or automatically in [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationDidEnterBackground(_:)]. Save the world map only if your AR session has state worth saving—for example, if the user has placed virtual objects whose positions you want to remember, and the session is in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARFrame\/WorldMappingStatus-swift.enum\/mapped] state (or has been in that state at least once during the session).\n\nTo relocalize to a saved world map, use the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] property when running a session. Like when resuming from an interruption, the session starts in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/limited(_:)] ([doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing]) tracking state. If ARKit can reconcile the world map with the current environment, the tracking state becomes [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal] after a short time, indicating that the session matches the recorded world map.\n\n\n\nA session resumed from a world map includes all anchors saved in that world map. If you use the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARAnchor\/name] property to identify virtual objects you’ve placed anchors for, you can refer to the anchors in the resumed session to recreate that virtual content. To ensure that such content is placed correctly, display it only after the session’s tracking state changes to [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/normal].\n\nIf ARKit cannot reconcile the recorded world map with the current environment (for example, if the device is in an entirely different place from where the world map was recorded), the session remains in the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARCamera\/TrackingState-swift.enum\/Reason\/relocalizing] state indefinitely. Provide users with a way to restart the session in case they can’t resume it. To give up on world map relocalization, call [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/run(_:options:)] on the session again, with the [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/RunOptions\/resetTracking] option and a configuration whose [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] is `nil`.\n\n## Setup\n\n- **Choosing Which Camera Feed to Augment**: Add visual effects to the user’s environment in an AR experience through the front or rear camera.\n- **Displaying an AR Experience with Metal**: Control rendering of your app’s virtual content on top of a camera feed.\n- **ARSession**: The object that manages the major tasks associated with every AR experience, such as motion tracking, camera passthrough, and image analysis.\n- **Configuration Objects**: Configure your augmented reality session to detect and track specific types of content.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add visual effects to the user’s environment in an AR experience through the front or rear camera.",
          "name" : "Choosing Which Camera Feed to Augment",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/choosing-which-camera-feed-to-augment"
        },
        {
          "description" : "Control rendering of your app’s virtual content on top of a camera feed.",
          "name" : "Displaying an AR Experience with Metal",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/displaying-an-ar-experience-with-metal"
        },
        {
          "description" : "The object that manages the major tasks associated with every AR experience, such as motion tracking, camera passthrough, and image analysis.",
          "name" : "ARSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARSession"
        },
        {
          "description" : "Configure your augmented reality session to detect and track specific types of content.",
          "name" : "Configuration Objects",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/configuration-objects"
        }
      ],
      "title" : "Setup"
    }
  ],
  "source" : "appleJSON",
  "title" : "Managing Session Life Cycle and Tracking Quality",
  "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/managing-session-life-cycle-and-tracking-quality"
}