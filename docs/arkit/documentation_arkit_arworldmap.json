{
  "abstract" : "The state in a world-tracking AR session during which a device maps the user’s position in physical space and proximity to anchor objects.",
  "codeExamples" : [
    {
      "code" : "func writeWorldMap(_ worldMap: ARWorldMap, to url: URL) throws {\n    let data = try NSKeyedArchiver.archivedData(withRootObject: worldMap, requiringSecureCoding: true)\n    try data.write(to: url)\n}",
      "language" : "swift"
    },
    {
      "code" : "func loadWorldMap(from url: URL) throws -> ARWorldMap {\n    let mapData = try Data(contentsOf: url)\n    guard let worldMap = try NSKeyedUnarchiver.unarchivedObject(ofClass: ARWorldMap.self, from: mapData)\n        else { throw ARError(.invalidWorldMap) }\n    return worldMap\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding"
  ],
  "contentHash" : "80c42717baf60c57ef4a0ae1b9cbb0a4b8e84342806595fb3a70b0c44ac3e395",
  "crawledAt" : "2025-12-02T15:49:52Z",
  "declaration" : {
    "code" : "class ARWorldMap",
    "language" : "swift"
  },
  "id" : "B622F802-0142-4A22-8958-7383D5034BFA",
  "kind" : "class",
  "language" : "swift",
  "module" : "ARKit",
  "overview" : "## Overview\n\nThe session state in a world map includes ARKit’s awareness of the physical space in which the user moves the device. ARKit uses the details of the user’s physical space to determine the device’s position and orientation, as well as any [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARAnchor] objects added to the session that can represent detected real-world features or virtual content placed by your app.\n\n### Serialize and Deserialize a World Map\n\nWhen your app quits, you can save the current world map (acquired using [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/getCurrentWorldMap(completionHandler:)]). Because [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] conforms to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding], you serialize it using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver].\n\nTo restore the world map the next time your app launches, use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedUnarchiver].\n\nYou can use anchors from a resumed world map to place the same virtual content at the same positions from the saved session, if the app launches in the same physical environment.\n\nFor more information, see [doc:\/\/com.apple.arkit\/documentation\/ARKit\/saving-and-loading-world-data].\n\n### Share a Saved World Map\n\nWith two devices tracking the same world map, you can build a networked experience in which both users can see and interact with the same virtual content. To send an [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] to another device:\n\nFor more information, see [doc:\/\/com.apple.arkit\/documentation\/ARKit\/creating-a-multiuser-ar-experience].\n\n### Run a Deserialized World Map\n\nTo begin a new session from an existing [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap], set a world-tracking configuration’s [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] property and use [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/run(_:options:)]. This starts a new session using the same spatial awareness and anchors loaded from the saved world map.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap\ncrawled: 2025-12-02T15:49:52Z\n---\n\n# ARWorldMap\n\n**Class**\n\nThe state in a world-tracking AR session during which a device maps the user’s position in physical space and proximity to anchor objects.\n\n## Declaration\n\n```swift\nclass ARWorldMap\n```\n\n## Overview\n\nThe session state in a world map includes ARKit’s awareness of the physical space in which the user moves the device. ARKit uses the details of the user’s physical space to determine the device’s position and orientation, as well as any [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARAnchor] objects added to the session that can represent detected real-world features or virtual content placed by your app.\n\n### Serialize and Deserialize a World Map\n\nWhen your app quits, you can save the current world map (acquired using [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/getCurrentWorldMap(completionHandler:)]). Because [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] conforms to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding], you serialize it using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver].\n\n```swift\nfunc writeWorldMap(_ worldMap: ARWorldMap, to url: URL) throws {\n    let data = try NSKeyedArchiver.archivedData(withRootObject: worldMap, requiringSecureCoding: true)\n    try data.write(to: url)\n}\n```\n\nTo restore the world map the next time your app launches, use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedUnarchiver].\n\n```swift\nfunc loadWorldMap(from url: URL) throws -> ARWorldMap {\n    let mapData = try Data(contentsOf: url)\n    guard let worldMap = try NSKeyedUnarchiver.unarchivedObject(ofClass: ARWorldMap.self, from: mapData)\n        else { throw ARError(.invalidWorldMap) }\n    return worldMap\n}\n```\n\nYou can use anchors from a resumed world map to place the same virtual content at the same positions from the saved session, if the app launches in the same physical environment.\n\nFor more information, see [doc:\/\/com.apple.arkit\/documentation\/ARKit\/saving-and-loading-world-data].\n\n### Share a Saved World Map\n\nWith two devices tracking the same world map, you can build a networked experience in which both users can see and interact with the same virtual content. To send an [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] to another device:\n\n1. On one device, use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver] to convert the world map to a data object. You don’t need to write the data to a file to send it over the network.\n2. Use the networking technology of your choice to send the resulting data to another device. For example, in a [doc:\/\/com.apple.documentation\/documentation\/MultipeerConnectivity] session, call [doc:\/\/com.apple.documentation\/documentation\/MultipeerConnectivity\/MCSession\/send(_:toPeers:with:)] to send data, and implement [doc:\/\/com.apple.documentation\/documentation\/MultipeerConnectivity\/MCSessionDelegate] methods on the other device to receive data.\n3. On the receiving device, use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedUnarchiver] to instantiate an [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap] from the data.\n\nFor more information, see [doc:\/\/com.apple.arkit\/documentation\/ARKit\/creating-a-multiuser-ar-experience].\n\n### Run a Deserialized World Map\n\nTo begin a new session from an existing [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldMap], set a world-tracking configuration’s [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARWorldTrackingConfiguration\/initialWorldMap] property and use [doc:\/\/com.apple.arkit\/documentation\/ARKit\/ARSession\/run(_:options:)]. This starts a new session using the same spatial awareness and anchors loaded from the saved world map.\n\n## Examining a World Map\n\n- **anchors**: The set of anchors recorded in the world map.\n- **center**: The center point of the world map’s space-mapping data, relative to the world coordinate origin of the session the map was recorded in.\n- **extent**: The size of the world map’s space-mapping data, relative to the world coordinate origin of the session the map was recorded in.\n\n## Debugging a World Map\n\n- **rawFeaturePoints**: A coarse representation of the space-mapping data recorded in the world map.\n\n## World Data\n\n- **Saving and loading world data**: Serialize a world-tracking session to resume it later on.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The set of anchors recorded in the world map.",
          "name" : "anchors",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap\/anchors"
        },
        {
          "description" : "The center point of the world map’s space-mapping data, relative to the world coordinate origin of the session the map was recorded in.",
          "name" : "center",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap\/center"
        },
        {
          "description" : "The size of the world map’s space-mapping data, relative to the world coordinate origin of the session the map was recorded in.",
          "name" : "extent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap\/extent"
        }
      ],
      "title" : "Examining a World Map"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A coarse representation of the space-mapping data recorded in the world map.",
          "name" : "rawFeaturePoints",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap\/rawFeaturePoints"
        }
      ],
      "title" : "Debugging a World Map"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Serialize a world-tracking session to resume it later on.",
          "name" : "Saving and loading world data",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/saving-and-loading-world-data"
        }
      ],
      "title" : "World Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "ARWorldMap",
  "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/ARWorldMap"
}