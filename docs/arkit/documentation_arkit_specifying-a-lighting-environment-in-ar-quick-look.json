{
  "abstract" : "Add metadata to your USDZ file to specify its lighting characteristics.",
  "codeExamples" : [
    {
      "code" : "\/\/ asset.usda\n#usda 1.0\n(\n    customLayerData = {\n        dictionary Apple = {\n            int preferredIblVersion = 2\n        }\n    }\n)"
    },
    {
      "code" : "usdzconvert fireHydrant.obj --useObjMtl --preferrediblversion 2 ",
      "language" : "swift"
    }
  ],
  "contentHash" : "bf06b9838467283fed90a30526a1ddc16927dfe7f249003c7f833cd3c32d6c94",
  "crawledAt" : "2025-12-02T19:28:35Z",
  "id" : "4DCC1560-FCDB-4AA4-896E-9627D522A09A",
  "kind" : "article",
  "language" : "swift",
  "module" : "ARKit",
  "overview" : "## Overview\n\nAR Quick Look in iOS 16 and later enhances lighting to deliver more brightness, contrast, and visual definition for your scene’s virtual content.\n\nYou can set an asset’s lighting environment, or *image-based lighting* (IBL), by adding the [doc:\/\/com.apple.documentation\/documentation\/USD\/preferrediblversion] metadata to the file’s `.usda` textual definition, or by generating the asset with Apple-provided tools.\n\n### Set the lighting metadata\n\nTo define the lighting environment in the asset’s `.usda` textual format using a tool like [https:\/\/graphics.pixar.com\/usd\/docs\/USD-Toolset.html], add the following metadata:\n\nA value of `1` indicates the classic lighting environment, and a value of `2` indicates the new lighting environment.\n\n\n\nIf you omit the [doc:\/\/com.apple.documentation\/documentation\/USD\/preferrediblversion] metadata or give it a value of `0`, the system checks the asset’s creation timestamp. A timestamp of July 1, 2022, or later results in the new lighting environment; otherwise, the scene features classic lighting for backward compatibility. The system checks the timestamp of the `.usd` asset within the `.usdz` archive, not the archive’s file creation date.\n\n### Set the lighting environment with Apple-provided tools\n\nWith [https:\/\/developer.apple.com\/news\/?id=01132020a], you can choose a lighting preference for your 3D asset by previewing the available options one after the other. By default, Reality Converter previews an imported 3D asset with `preferrediblversion` = `2`. You can select the Use Classic Lighting option to set `preferrediblversion` to `1` in the file.\n\n\n\nAlternatively, you can use `usdzconvert` in the Apple [https:\/\/developer.apple.com\/augmented-reality\/tools\/] suite to output from another file format. Pass an integer value between `0` and `2` for the `--preferrediblversion` argument to add this metadata in the file, as the following example shows:\n\n### Match AR Quick Look lighting in third-party apps and tools\n\nTo design your content in a third-party digital content creation tool (DCC) under the same lighting conditions as AR Quick Look’s lighting environment, configure the tool to use one of the following `.exr` files. Alternatively, you can apply an `.exr` file in your third-party app, such as one that renders with RealityKit, to accommodate the new lighting environment in your app’s runtime experience.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ARKit\/specifying-a-lighting-environment-in-ar-quick-look\ncrawled: 2025-12-02T19:28:35Z\n---\n\n# Specifying a lighting environment in AR Quick Look\n\n**Article**\n\nAdd metadata to your USDZ file to specify its lighting characteristics.\n\n## Overview\n\nAR Quick Look in iOS 16 and later enhances lighting to deliver more brightness, contrast, and visual definition for your scene’s virtual content.\n\nYou can set an asset’s lighting environment, or *image-based lighting* (IBL), by adding the [doc:\/\/com.apple.documentation\/documentation\/USD\/preferrediblversion] metadata to the file’s `.usda` textual definition, or by generating the asset with Apple-provided tools.\n\n### Set the lighting metadata\n\nTo define the lighting environment in the asset’s `.usda` textual format using a tool like [https:\/\/graphics.pixar.com\/usd\/docs\/USD-Toolset.html], add the following metadata:\n\n```\n\/\/ asset.usda\n#usda 1.0\n(\n    customLayerData = {\n        dictionary Apple = {\n            int preferredIblVersion = 2\n        }\n    }\n)\n```\n\nA value of `1` indicates the classic lighting environment, and a value of `2` indicates the new lighting environment.\n\n\n\nIf you omit the [doc:\/\/com.apple.documentation\/documentation\/USD\/preferrediblversion] metadata or give it a value of `0`, the system checks the asset’s creation timestamp. A timestamp of July 1, 2022, or later results in the new lighting environment; otherwise, the scene features classic lighting for backward compatibility. The system checks the timestamp of the `.usd` asset within the `.usdz` archive, not the archive’s file creation date.\n\n### Set the lighting environment with Apple-provided tools\n\nWith [https:\/\/developer.apple.com\/news\/?id=01132020a], you can choose a lighting preference for your 3D asset by previewing the available options one after the other. By default, Reality Converter previews an imported 3D asset with `preferrediblversion` = `2`. You can select the Use Classic Lighting option to set `preferrediblversion` to `1` in the file.\n\n\n\nAlternatively, you can use `usdzconvert` in the Apple [https:\/\/developer.apple.com\/augmented-reality\/tools\/] suite to output from another file format. Pass an integer value between `0` and `2` for the `--preferrediblversion` argument to add this metadata in the file, as the following example shows:\n\n```swift\nusdzconvert fireHydrant.obj --useObjMtl --preferrediblversion 2 \n```\n\n### Match AR Quick Look lighting in third-party apps and tools\n\nTo design your content in a third-party digital content creation tool (DCC) under the same lighting conditions as AR Quick Look’s lighting environment, configure the tool to use one of the following `.exr` files. Alternatively, you can apply an `.exr` file in your third-party app, such as one that renders with RealityKit, to accommodate the new lighting environment in your app’s runtime experience.\n\n- The [https:\/\/developer.apple.com\/sample-code\/ar\/studio_lighting_objectmode_v002.exr] file provides reflections that match AR Quick Look’s studio object mode. This IBL is appropriate for asset creation in a third-party DCC. Consult the DCC documentation about enabling custom image-based lighting in the tool.\n- The [https:\/\/developer.apple.com\/sample-code\/ar\/studio_lighting_armode_v002.exr] file provides enhanced highlights according to AR Quick Look’s new lighting environment in AR mode. This IBL is appropriate for use in your AR app as a combination with an environment texture that composes captures of the user’s environment. Together, the combination enhances reflections on your app’s virtual content that feature the particular tints and hues of the real world.\n\n\n\n\n\n## AR Quick Look\n\n- **Previewing a Model with AR Quick Look**: Display a model or scene that the user can move, scale, and share with others.\n- **Adding Visual Effects in AR Quick Look and RealityKit**: Balance the appearance and performance of your AR experiences with modeling strategies.\n- **Adding an Apple Pay Button or a Custom Action in AR Quick Look**: Provide a banner that users can tap to make a purchase or perform a custom action in an AR experience.\n- **OpenUSD schemas for AR**: Add augmented reality functionality to your 3D content using USD schemas.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Display a model or scene that the user can move, scale, and share with others.",
          "name" : "Previewing a Model with AR Quick Look",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/previewing-a-model-with-ar-quick-look"
        },
        {
          "description" : "Balance the appearance and performance of your AR experiences with modeling strategies.",
          "name" : "Adding Visual Effects in AR Quick Look and RealityKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/adding-visual-effects-in-ar-quick-look-and-realitykit"
        },
        {
          "description" : "Provide a banner that users can tap to make a purchase or perform a custom action in an AR experience.",
          "name" : "Adding an Apple Pay Button or a Custom Action in AR Quick Look",
          "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/adding-an-apple-pay-button-or-a-custom-action-in-ar-quick-look"
        },
        {
          "description" : "Add augmented reality functionality to your 3D content using USD schemas.",
          "name" : "OpenUSD schemas for AR",
          "url" : "https:\/\/developer.apple.com\/documentation\/USD\/usd-schemas-for-ar"
        }
      ],
      "title" : "AR Quick Look"
    }
  ],
  "source" : "appleJSON",
  "title" : "Specifying a lighting environment in AR Quick Look",
  "url" : "https:\/\/developer.apple.com\/documentation\/ARKit\/specifying-a-lighting-environment-in-ar-quick-look"
}