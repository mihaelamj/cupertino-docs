{
  "abstract" : "Identify topics, actions, objects, and emotions in input text with a content tagging model.",
  "codeExamples" : [
    {
      "code" : "\/\/ Create an instance of the on-device language model's content tagging use case.\nlet model = SystemLanguageModel(useCase: .contentTagging)\n\n\/\/ Initialize a session with the model and instructions.\nlet session = LanguageModelSession(model: model, instructions: \"\"\"\n    Provide the two tags that are most significant in the context of topics.\n    \"\"\"\n)"
    },
    {
      "code" : "@Generable\nstruct ContentTaggingResult {\n    @Guide(\n        description: \"Most important actions in the input text.\",\n        .maximumCount(2)\n    )\n    let actions: [String]\n\n    @Guide(\n        description: \"Most important emotions in the input text.\",\n        .maximumCount(3)\n    )\n    let emotions: [String]\n\n    @Guide(\n        description: \"Most important objects in the input text.\",\n        .maximumCount(5)\n    )\n    let objects: [String]\n\n    @Guide(\n        description: \"Most important topics in the input text.\",\n        .maximumCount(2)\n    )\n    let topics: [String]\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Create an instance of the model with the content tagging use case.\nlet model = SystemLanguageModel(useCase: .contentTagging)\n\n\n\/\/ Initialize a session with the model.\nlet session = LanguageModelSession(model: model)",
      "language" : "swift"
    },
    {
      "code" : "let prompt = \"\"\"\n    Today we had a lovely picnic with friends at the beach.\n    \"\"\"\nlet response = try await session.respond(\n    to: prompt,\n    generating: ContentTaggingResult.self\n)",
      "language" : "swift"
    }
  ],
  "contentHash" : "e1020655c050637bbd974c9023b555495af2b1d5a02cf539a60e3550265886f5",
  "crawledAt" : "2025-12-02T17:01:30Z",
  "id" : "2C4B2733-6E89-4641-941B-054BE33389B7",
  "kind" : "article",
  "language" : "swift",
  "module" : "Foundation Models",
  "overview" : "## Overview\n\nThe Foundation Models framework provides an adapted on-device system language model that specializes in content tagging. A content tagging model produces a list of categorizing tags based on the input text you provide. When you prompt the content tagging model, it produces a tag that uses one to a few lowercase words. The model finds the similarity between the terms in your prompt so tags are semantically consistent. For example, the model produces the topic tag “greet” when it encounters words such as “hi,” “hello,” and “yo”. Use the content tagging model to:\n\nIf you’re tagging content that’s not an action, object, emotion, or topic, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] instead. Use the general model to generate content like hashtags for social media posts. If you adopt the tool calling API, and want to generate tags, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] and pass the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Tool] output to the content tagging model. For more information about tool-calling, see [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/expanding-generation-with-tool-calling].\n\n## Provide instructions to the model\n\nThe content tagging model isn’t a typical language model that responds to a query from a person: instead, it evaluates and groups the input you provide. For example, if you ask the model questions, it produces tags about asking questions. Before you prompt the model, consider the instructions you want it to follow: instructions to the the model produce a more precise outcome than instructions in the prompt.\n\nThe model identifies topics, actions, objects, and emotions from the input text you provide, so include the type of tags you want in your instructions. It’s also helpful to provide the number of tags you want the model to produce. You can also specify the number of elements in your instructions.\n\nYou don’t need to provide a lot of custom tagging instructions; the content tagging model respects the output format you want, even in the absence of instructions. If you create a generable data type that describes properties with [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide], you can save context window space by not including custom instructions. If you don’t provide generation guides, the model generates topic-related tags by default.\n\n## Create a generable type\n\nThe content tagging model supports [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Generable], so you can define a custom data type that the model uses when generating a response. Use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide\/maximumCount(_:)] on your generable type to enforce a maximum number of tags that you want the model to return. The code below uses [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Generable] guide descriptions to specify the kinds and quantities of tags the model produces:\n\nIdeally, match the maximum count you use in your instructions with what you define using the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide\/maximumCount(_:)] generation guide. If you use a different maximum for each, consider putting the larger maximum in your instructions.\n\nLong queries can produce a large number of actions and objects, so define a maximum count to limit the number of tags. This step helps the model focus on the most relevant parts of long queries, avoids duplicate actions and objects, and improves decoding time.\n\nIf you have a complex set of constraints on tagging that are more complicated than the maximum count support of the tagging model, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] instead.\n\nFor more information on guided generation, see [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/generating-swift-data-structures-with-guided-generation].\n\n## Generate a content tagging response\n\nInitialize your session by using the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/contentTagging] model:\n\nThe code below prompts the model to respond about a picnic at the beach with tags like “outdoor activity,” “beach,” and “picnic”:\n\nThe prompt “Grocery list: 1. Bread flour 2. Salt 3. Instant yeast” prompts the model to respond with the topic “grocery shopping” and includes the objects “grocery list” and “bread flour”.\n\nFor some queries, lists may produce the same tag. For example, some topic and emotion tags, like humor, may overlap. When the model produces duplicates, handle it in code, and choose the tag you prefer. When you reuse the same [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/LanguageModelSession], the model may produce tags related to the previous turn or a combination of turns. The model produces what it views as the most important.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FoundationModels\/categorizing-and-organizing-data-with-content-tags\ncrawled: 2025-12-02T17:01:30Z\n---\n\n# Categorizing and organizing data with content tags\n\n**Article**\n\nIdentify topics, actions, objects, and emotions in input text with a content tagging model.\n\n## Overview\n\nThe Foundation Models framework provides an adapted on-device system language model that specializes in content tagging. A content tagging model produces a list of categorizing tags based on the input text you provide. When you prompt the content tagging model, it produces a tag that uses one to a few lowercase words. The model finds the similarity between the terms in your prompt so tags are semantically consistent. For example, the model produces the topic tag “greet” when it encounters words such as “hi,” “hello,” and “yo”. Use the content tagging model to:\n\n- Gather statistics about popular topics and opinions in a social app.\n- Customize your app’s experience by matching tags to a person’s interests.\n- Help people organize their content for tasks such as email autolabeling using the tags your app detects.\n- Identify trends by aggregating tags across your content.\n\nIf you’re tagging content that’s not an action, object, emotion, or topic, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] instead. Use the general model to generate content like hashtags for social media posts. If you adopt the tool calling API, and want to generate tags, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] and pass the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Tool] output to the content tagging model. For more information about tool-calling, see [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/expanding-generation-with-tool-calling].\n\n## Provide instructions to the model\n\nThe content tagging model isn’t a typical language model that responds to a query from a person: instead, it evaluates and groups the input you provide. For example, if you ask the model questions, it produces tags about asking questions. Before you prompt the model, consider the instructions you want it to follow: instructions to the the model produce a more precise outcome than instructions in the prompt.\n\nThe model identifies topics, actions, objects, and emotions from the input text you provide, so include the type of tags you want in your instructions. It’s also helpful to provide the number of tags you want the model to produce. You can also specify the number of elements in your instructions.\n\n```\n\/\/ Create an instance of the on-device language model's content tagging use case.\nlet model = SystemLanguageModel(useCase: .contentTagging)\n\n\/\/ Initialize a session with the model and instructions.\nlet session = LanguageModelSession(model: model, instructions: \"\"\"\n    Provide the two tags that are most significant in the context of topics.\n    \"\"\"\n)\n```\n\nYou don’t need to provide a lot of custom tagging instructions; the content tagging model respects the output format you want, even in the absence of instructions. If you create a generable data type that describes properties with [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide], you can save context window space by not including custom instructions. If you don’t provide generation guides, the model generates topic-related tags by default.\n\n\n\n## Create a generable type\n\nThe content tagging model supports [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Generable], so you can define a custom data type that the model uses when generating a response. Use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide\/maximumCount(_:)] on your generable type to enforce a maximum number of tags that you want the model to return. The code below uses [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/Generable] guide descriptions to specify the kinds and quantities of tags the model produces:\n\n```swift\n@Generable\nstruct ContentTaggingResult {\n    @Guide(\n        description: \"Most important actions in the input text.\",\n        .maximumCount(2)\n    )\n    let actions: [String]\n\n    @Guide(\n        description: \"Most important emotions in the input text.\",\n        .maximumCount(3)\n    )\n    let emotions: [String]\n\n    @Guide(\n        description: \"Most important objects in the input text.\",\n        .maximumCount(5)\n    )\n    let objects: [String]\n\n    @Guide(\n        description: \"Most important topics in the input text.\",\n        .maximumCount(2)\n    )\n    let topics: [String]\n}\n```\n\nIdeally, match the maximum count you use in your instructions with what you define using the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/GenerationGuide\/maximumCount(_:)] generation guide. If you use a different maximum for each, consider putting the larger maximum in your instructions.\n\nLong queries can produce a large number of actions and objects, so define a maximum count to limit the number of tags. This step helps the model focus on the most relevant parts of long queries, avoids duplicate actions and objects, and improves decoding time.\n\nIf you have a complex set of constraints on tagging that are more complicated than the maximum count support of the tagging model, use [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/general] instead.\n\nFor more information on guided generation, see [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/generating-swift-data-structures-with-guided-generation].\n\n## Generate a content tagging response\n\nInitialize your session by using the [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/contentTagging] model:\n\n```swift\n\/\/ Create an instance of the model with the content tagging use case.\nlet model = SystemLanguageModel(useCase: .contentTagging)\n\n\n\/\/ Initialize a session with the model.\nlet session = LanguageModelSession(model: model)\n```\n\nThe code below prompts the model to respond about a picnic at the beach with tags like “outdoor activity,” “beach,” and “picnic”:\n\n```swift\nlet prompt = \"\"\"\n    Today we had a lovely picnic with friends at the beach.\n    \"\"\"\nlet response = try await session.respond(\n    to: prompt,\n    generating: ContentTaggingResult.self\n)\n```\n\nThe prompt “Grocery list: 1. Bread flour 2. Salt 3. Instant yeast” prompts the model to respond with the topic “grocery shopping” and includes the objects “grocery list” and “bread flour”.\n\nFor some queries, lists may produce the same tag. For example, some topic and emotion tags, like humor, may overlap. When the model produces duplicates, handle it in code, and choose the tag you prefer. When you reuse the same [doc:\/\/com.apple.foundationmodels\/documentation\/FoundationModels\/LanguageModelSession], the model may produce tags related to the previous turn or a combination of turns. The model produces what it views as the most important.\n\n## Getting the content tagging use case\n\n- **contentTagging**: A use case for content tagging.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A use case for content tagging.",
          "name" : "contentTagging",
          "url" : "https:\/\/developer.apple.com\/documentation\/FoundationModels\/SystemLanguageModel\/UseCase\/contentTagging"
        }
      ],
      "title" : "Getting the content tagging use case"
    }
  ],
  "source" : "appleJSON",
  "title" : "Categorizing and organizing data with content tags",
  "url" : "https:\/\/developer.apple.com\/documentation\/FoundationModels\/categorizing-and-organizing-data-with-content-tags"
}