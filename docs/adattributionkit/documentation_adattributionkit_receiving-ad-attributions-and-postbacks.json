{
  "abstract" : "Understand timeframes and priorities for ad impressions that result in ad attributions, and how impressions qualify for postbacks.",
  "codeExamples" : [
    {
      "code" : "private func attributeCustomerAccountCreated() async {\n    do {\n        \/\/ Updates any active install postbacks with a conversion value of 20.\n        let installPostbackUpdate = PostbackUpdate(fineConversionValue: 20, lockPostback: false, conversionTypes: [.install])\n        try await Postback.updateConversionValue(installPostbackUpdate)\n\n        \/\/ Updates any active reengagement postbacks with a conversion value of 12.\n        let reengagementPostbackUpdate = PostbackUpdate(fineConversionValue: 12, lockPostback: false, conversionTypes: [.reengagement])\n        try await Postback.updateConversionValue(installPostbackUpdate)\n    }\n    catch {\n        print(\"Failed to update postback conversion value: \\(error)\")\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "f0ec4d1e34b180e886c84915f5c08a2daedf0318067fce3b90975faef05583e4",
  "crawledAt" : "2025-12-03T03:48:29Z",
  "id" : "0FF9A5BC-F557-4263-806D-FBE60FF0E518",
  "kind" : "article",
  "language" : "swift",
  "module" : "AdAttributionKit",
  "overview" : "## Overview\n\nAd networks receive attributions in the form of postbacks. Before an ad network can receive a postback, the following events need to occur within limited time-windows:\n\nThe following table shows the time-windows for the events:\n\nThe minimum elapsed time between a conversion event for the advertised app and the time the ad network receives a postback is 24 to 48 hours. To reduce that time to 5 to 10 minutes during testing, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/testing-adattributionkit-with-developer-mode].\n\nTime-windows for events apply equally to winning and nonwinning postbacks.\n\n## Process install conversions\n\nInstall conversion events occur when someone installs the app from the App Store or alternative app marketplace after interacting with an AdAttributionKit ad. Install conversions create winning and nonwinning postbacks for ad networks that had qualifying ad impressions.\n\nAdAttributionKit represents install postbacks as either `download` or `redownload` in the postback’s `conversion-type` field. For more information about the postback parameters, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/identifying-the-parameters-in-a-postback].\n\n### Receive a winning postback\n\nWhen multiple ad impressions qualify for postbacks from an install conversion, the device sorts the ad impressions and selects a single winner. The system considers ad impressions from both AdAttributionKit and SKAdNetwork when evaluating the attribution after someone installs the advertised app. For more information about the ad sorting criteria, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/adattributionkit-skadnetwork-interoperability].\n\n### Receive a nonwinning postback\n\nEach ad network can receive only one postback, winning or nonwinning. If you receive the winning postback, you don’t receive any nonwinning postbacks even if your ads have multiple qualifying ad impressions. Up to five ad networks receive one nonwinning postback each. The system sorts the recorded ad impressions based on recency and whether they are click-through or view-through, with the most recent ad views and click-through taking precedence. Devices send nonwinning postbacks for the top five ad impressions from different ad networks that qualify for ad attribution.\n\n## Handle reengagement conversions\n\nReengagement conversions occur when someone already has the advertised app installed and taps a custom rendered ad, or they tap the Open button on a StoreKit rendered ad. Reengagement only involves the impression that drives the conversion, so there are no nonwinning postbacks. Additionally, the system only processes reengagement conversions as a result of click interactions on ads. The system doesn’t create reengagement postbacks from view-through ads.\n\nIn iOS 18 and later, AdAttributionsKit allows publisher apps to pass a reengagement URL. The system opens the reengagement URL if the device has the advertised app installed, and the URL is a registered universal link for the advertised app. The system also appends the query parameter `AdAttributionKitReengagementOpen` to the URL to indicate AdAttributionKit opened it. When the advertised app receives the universal link, it can check the URL for the presence of this parameter to determine whether AdAttributionKit opened it. The [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/reengagementOpenURLParameter] property also defines this parameter as a constant. For more information about universal links, see [https:\/\/developer.apple.com\/documentation\/xcode\/allowing-apps-and-websites-to-link-to-your-content].\n\nThe system also strips known tracking parameters from the URL before delivering them to the advertised app.\n\nIt’s possible a reengagement conversion may occur for an app when there’s already an existing install or reengagement conversion for that app. In this case, the system locks the active postbacks from the prior conversion and schedules them for transmission. AdAttributionsKit removes postbacks from the prior conversions that you haven’t registered and replaces them with any postbacks from the latest conversion.\n\nAdAttributionsKit represents reengagement postbacks as `reengagement` in the postback’s `conversion-type` field. For more information about the postback parameters, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/identifying-the-parameters-in-a-postback].\n\n## Update postbacks by their conversion type\n\nAdvertisers may attribute conversion values differently inside their app, depending on the conversion type: `install` or `reengagement`. In iOS 18 and later, use [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/updateConversionValue(_:)] to specify which types of postbacks to update. The system defaults to updating all types of postbacks if you specify `nil` for the conversion types, or if you use an API that doesn’t contain conversion types to update the conversion value, such as [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/updateConversionValue(_:coarseConversionValue:lockPostback:)].\n\nFor example in an onboarding flow, an advertiser can attribute conversion values differently, depending on whether the conversion is an install or a reengagement.\n\n## Opt in to receive a copy of the winning postback\n\nDevices can send a copy of the winning postback to the developer of the advertised app. Developers opt in to receive the postback by specifying a server endpoint in their app’s information property list. For more information about opting in and specifying the endpoint, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/configuring-an-advertised-app]. The postback that developers receive is an exact copy of the winning postback that the device sends to the ad network. The device sends the postback to developers at the same time it sends the winning postback to the ad network. To verify the postback, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/verifying-a-postback].\n\n## Limit the number of view-through ad impressions from a publisher app\n\nAdAttributionKit records a maximum of 15 view-through ad impressions per publisher app before discarding the oldest one. The recorded ad impressions may advertise various products, and are each eligible to become pending attributions until they expire (after 24 hours).",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/adattributionkit\/receiving-ad-attributions-and-postbacks\ncrawled: 2025-12-03T03:48:29Z\n---\n\n# Receiving ad attributions and postbacks\n\n**Article**\n\nUnderstand timeframes and priorities for ad impressions that result in ad attributions, and how impressions qualify for postbacks.\n\n## Overview\n\nAd networks receive attributions in the form of postbacks. Before an ad network can receive a postback, the following events need to occur within limited time-windows:\n\n- Ad networks sign and present ads in the form of StoreKit-rendered ads and custom-rendered ads.\n- Someone installs or reengages with the advertised app.\n- A person or AdAttributionKit launches the app.\n- The app updates the conversion values when the app launches, and continues to update it as needed.\n\nThe following table shows the time-windows for the events:\n\n\n\nThe minimum elapsed time between a conversion event for the advertised app and the time the ad network receives a postback is 24 to 48 hours. To reduce that time to 5 to 10 minutes during testing, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/testing-adattributionkit-with-developer-mode].\n\nTime-windows for events apply equally to winning and nonwinning postbacks.\n\n## Process install conversions\n\nInstall conversion events occur when someone installs the app from the App Store or alternative app marketplace after interacting with an AdAttributionKit ad. Install conversions create winning and nonwinning postbacks for ad networks that had qualifying ad impressions.\n\nAdAttributionKit represents install postbacks as either `download` or `redownload` in the postback’s `conversion-type` field. For more information about the postback parameters, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/identifying-the-parameters-in-a-postback].\n\n### Receive a winning postback\n\nWhen multiple ad impressions qualify for postbacks from an install conversion, the device sorts the ad impressions and selects a single winner. The system considers ad impressions from both AdAttributionKit and SKAdNetwork when evaluating the attribution after someone installs the advertised app. For more information about the ad sorting criteria, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/adattributionkit-skadnetwork-interoperability].\n\n\n\n### Receive a nonwinning postback\n\nEach ad network can receive only one postback, winning or nonwinning. If you receive the winning postback, you don’t receive any nonwinning postbacks even if your ads have multiple qualifying ad impressions. Up to five ad networks receive one nonwinning postback each. The system sorts the recorded ad impressions based on recency and whether they are click-through or view-through, with the most recent ad views and click-through taking precedence. Devices send nonwinning postbacks for the top five ad impressions from different ad networks that qualify for ad attribution.\n\n## Handle reengagement conversions\n\nReengagement conversions occur when someone already has the advertised app installed and taps a custom rendered ad, or they tap the Open button on a StoreKit rendered ad. Reengagement only involves the impression that drives the conversion, so there are no nonwinning postbacks. Additionally, the system only processes reengagement conversions as a result of click interactions on ads. The system doesn’t create reengagement postbacks from view-through ads.\n\nIn iOS 18 and later, AdAttributionsKit allows publisher apps to pass a reengagement URL. The system opens the reengagement URL if the device has the advertised app installed, and the URL is a registered universal link for the advertised app. The system also appends the query parameter `AdAttributionKitReengagementOpen` to the URL to indicate AdAttributionKit opened it. When the advertised app receives the universal link, it can check the URL for the presence of this parameter to determine whether AdAttributionKit opened it. The [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/reengagementOpenURLParameter] property also defines this parameter as a constant. For more information about universal links, see [https:\/\/developer.apple.com\/documentation\/xcode\/allowing-apps-and-websites-to-link-to-your-content].\n\nThe system also strips known tracking parameters from the URL before delivering them to the advertised app.\n\nIt’s possible a reengagement conversion may occur for an app when there’s already an existing install or reengagement conversion for that app. In this case, the system locks the active postbacks from the prior conversion and schedules them for transmission. AdAttributionsKit removes postbacks from the prior conversions that you haven’t registered and replaces them with any postbacks from the latest conversion.\n\nAdAttributionsKit represents reengagement postbacks as `reengagement` in the postback’s `conversion-type` field. For more information about the postback parameters, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/identifying-the-parameters-in-a-postback].\n\n\n\n## Update postbacks by their conversion type\n\nAdvertisers may attribute conversion values differently inside their app, depending on the conversion type: `install` or `reengagement`. In iOS 18 and later, use [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/updateConversionValue(_:)] to specify which types of postbacks to update. The system defaults to updating all types of postbacks if you specify `nil` for the conversion types, or if you use an API that doesn’t contain conversion types to update the conversion value, such as [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/Postback\/updateConversionValue(_:coarseConversionValue:lockPostback:)].\n\nFor example in an onboarding flow, an advertiser can attribute conversion values differently, depending on whether the conversion is an install or a reengagement.\n\n```swift\nprivate func attributeCustomerAccountCreated() async {\n    do {\n        \/\/ Updates any active install postbacks with a conversion value of 20.\n        let installPostbackUpdate = PostbackUpdate(fineConversionValue: 20, lockPostback: false, conversionTypes: [.install])\n        try await Postback.updateConversionValue(installPostbackUpdate)\n\n        \/\/ Updates any active reengagement postbacks with a conversion value of 12.\n        let reengagementPostbackUpdate = PostbackUpdate(fineConversionValue: 12, lockPostback: false, conversionTypes: [.reengagement])\n        try await Postback.updateConversionValue(installPostbackUpdate)\n    }\n    catch {\n        print(\"Failed to update postback conversion value: \\(error)\")\n    }\n}\n```\n\n## Opt in to receive a copy of the winning postback\n\nDevices can send a copy of the winning postback to the developer of the advertised app. Developers opt in to receive the postback by specifying a server endpoint in their app’s information property list. For more information about opting in and specifying the endpoint, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/configuring-an-advertised-app]. The postback that developers receive is an exact copy of the winning postback that the device sends to the ad network. The device sends the postback to developers at the same time it sends the winning postback to the ad network. To verify the postback, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/verifying-a-postback].\n\n## Limit the number of view-through ad impressions from a publisher app\n\nAdAttributionKit records a maximum of 15 view-through ad impressions per publisher app before discarding the oldest one. The recorded ad impressions may advertise various products, and are each eligible to become pending attributions until they expire (after 24 hours).\n\n## Essentials\n\n- **Understanding AdAttributionKit and SKAdNetwork interoperability**: Learn how attribution APIs interact to deliver ad impressions.\n- **Presenting ads in your app**: Render different ad styles in your app.\n- **Identifying conversion values with conversion tags**: Use conversion tags to identify and update specific postbacks when you have overlapping conversion windows.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn how attribution APIs interact to deliver ad impressions.",
          "name" : "Understanding AdAttributionKit and SKAdNetwork interoperability",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/adattributionkit-skadnetwork-interoperability"
        },
        {
          "description" : "Render different ad styles in your app.",
          "name" : "Presenting ads in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/presenting-ads-in-your-app"
        },
        {
          "description" : "Use conversion tags to identify and update specific postbacks when you have overlapping conversion windows.",
          "name" : "Identifying conversion values with conversion tags",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/conversion-tags"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Receiving ad attributions and postbacks",
  "url" : "https:\/\/developer.apple.com\/documentation\/adattributionkit\/receiving-ad-attributions-and-postbacks"
}