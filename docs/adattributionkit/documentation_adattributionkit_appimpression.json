{
  "abstract" : "A structure that represents an attributable impression you generate in response to a person’s interaction with an ad in an app.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "Equatable",
    "Hashable",
    "Identifiable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "4bc22e2735120c1e5b0f5bc04ce6257dfbdc5fb0d439658c48daf3426397a252",
  "crawledAt" : "2025-12-02T15:57:59Z",
  "declaration" : {
    "code" : "struct AppImpression",
    "language" : "swift"
  },
  "id" : "8D07C622-0694-4FE4-8107-3AB3B15FC31A",
  "kind" : "struct",
  "language" : "swift",
  "module" : "AdAttributionKit",
  "overview" : "## Discussion\n\nTo record a view-through impression, call [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/beginView()] when the ad content corresponding to the impression becomes visible, and [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/endView()] when the ad content disappears. The advertisement needs to be visible for at least two seconds for AdAttributionKit to record a view through impression; otherwise, the framework throws an error.\n\nTo support click-through attribution, place a [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIEventAttributionView] over the ad content and call  either [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap(reengagementURL:)] or [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap()] after a person taps the ad content. The framework then validates that a person taps a `UIEventAttributionView` before recording the impression, and throws an error if it can’t validate that a tap occurred in a `UIEventAttributionView`.\n\nAfter the framework validates the tap, it records the impression and then attempts to launch one of the user’s installed marketplaces to show the product page for the advertised app. The system uses the advertised item ID from the JSON Web Signature (JWS) string you provide to initialize the `AppImpression`, in addition to the user’s preferred marketplaces, to help determine which marketplace the framework needs to launch. If the app is already installed, the framework launches into the app’s Home Screen instead.\n\nIn iOS 18 and later, `AppImpression` supports reengagement for click-through interactions when the advertised app is already installed on the device. The system can deep-link into the advertised app when using [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap(reengagementURL:)]. Click-through impressions can also qualify for reengagement postbacks by opting in for reengagement in the impression JWS. For more information about opting in for re-engagement, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/generating-jws-impressions].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\ncrawled: 2025-12-02T15:57:59Z\n---\n\n# AppImpression\n\n**Structure**\n\nA structure that represents an attributable impression you generate in response to a person’s interaction with an ad in an app.\n\n## Declaration\n\n```swift\nstruct AppImpression\n```\n\n## Discussion\n\nTo record a view-through impression, call [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/beginView()] when the ad content corresponding to the impression becomes visible, and [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/endView()] when the ad content disappears. The advertisement needs to be visible for at least two seconds for AdAttributionKit to record a view through impression; otherwise, the framework throws an error.\n\n\n\nTo support click-through attribution, place a [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIEventAttributionView] over the ad content and call  either [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap(reengagementURL:)] or [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap()] after a person taps the ad content. The framework then validates that a person taps a `UIEventAttributionView` before recording the impression, and throws an error if it can’t validate that a tap occurred in a `UIEventAttributionView`.\n\nAfter the framework validates the tap, it records the impression and then attempts to launch one of the user’s installed marketplaces to show the product page for the advertised app. The system uses the advertised item ID from the JSON Web Signature (JWS) string you provide to initialize the `AppImpression`, in addition to the user’s preferred marketplaces, to help determine which marketplace the framework needs to launch. If the app is already installed, the framework launches into the app’s Home Screen instead.\n\nIn iOS 18 and later, `AppImpression` supports reengagement for click-through interactions when the advertised app is already installed on the device. The system can deep-link into the advertised app when using [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap(reengagementURL:)]. Click-through impressions can also qualify for reengagement postbacks by opting in for reengagement in the impression JWS. For more information about opting in for re-engagement, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/generating-jws-impressions].\n\n## Creating an ad impression\n\n- **init(compactJWS:)**: Creates a new app impression with the provided compact JSON Web Signature (JWS).\n\n## Displaying view-through ads\n\n- **beginView()**: Begins recording a view-through impression when ad content corresponding to the impression becomes visible.\n- **endView()**: Ends the view-through impression when the ad content corresponding to the impression disappears.\n- **handleView()**: Handles a view through ad impression.\n\n## Processing interactions with click-through ads\n\n- **handleTap()**: Processes click-through interactions on your custom rendered ad content.\n- **handleTap(reengagementURL:)**: Processes click-through interactions on your custom rendered ad content, and delivers a URL to the advertised app if it’s installed.\n\n## Accessing ad impression properties\n\n- **adNetworkID**: The advertising network ID.\n- **advertisedItemID**: The advertised item’s ID.\n- **compactJWSRepresentation**: A string that presents the compact representation of the impression’s JSON Web Signature (JWS).\n- **eligibleForReengagement**: A Boolean value that indicates whether this impression is eligible for reengagement.\n- **id**: The impression’s unique ID.\n- **keyID**: The JSON Web Signature (JWS) key ID.\n- **publisherItemID**: The publisher app’s item ID.\n- **sourceID**: A four-digit integer that ad networks define to represent the ad campaign.\n- **timestamp**: The impression’s timestamp, in milliseconds since 1970.\n\n## Checking device support\n\n- **isSupported**: A Boolean value that indicates whether the framework supports app impressions on a person’s device.\n\n## Comparing and hashing ad impressions\n\n- **==(_:_:)**: Returns a Boolean value that indicates whether two values are equal.\n- **hash(into:)**: A function that hashes the essential components of the value by passing them into the hasher.\n\n## Conforms To\n\n- Equatable\n- Hashable\n- Identifiable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new app impression with the provided compact JSON Web Signature (JWS).",
          "name" : "init(compactJWS:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/init(compactJWS:)"
        }
      ],
      "title" : "Creating an ad impression"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Begins recording a view-through impression when ad content corresponding to the impression becomes visible.",
          "name" : "beginView()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/beginView()"
        },
        {
          "description" : "Ends the view-through impression when the ad content corresponding to the impression disappears.",
          "name" : "endView()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/endView()"
        },
        {
          "description" : "Handles a view through ad impression.",
          "name" : "handleView()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/handleView()"
        }
      ],
      "title" : "Displaying view-through ads"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Processes click-through interactions on your custom rendered ad content.",
          "name" : "handleTap()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/handleTap()"
        },
        {
          "description" : "Processes click-through interactions on your custom rendered ad content, and delivers a URL to the advertised app if it’s installed.",
          "name" : "handleTap(reengagementURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/handleTap(reengagementURL:)"
        }
      ],
      "title" : "Processing interactions with click-through ads"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The advertising network ID.",
          "name" : "adNetworkID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/adNetworkID"
        },
        {
          "description" : "The advertised item’s ID.",
          "name" : "advertisedItemID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/advertisedItemID"
        },
        {
          "description" : "A string that presents the compact representation of the impression’s JSON Web Signature (JWS).",
          "name" : "compactJWSRepresentation",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/compactJWSRepresentation"
        },
        {
          "description" : "A Boolean value that indicates whether this impression is eligible for reengagement.",
          "name" : "eligibleForReengagement",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/eligibleForReengagement"
        },
        {
          "description" : "The impression’s unique ID.",
          "name" : "id",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/id"
        },
        {
          "description" : "The JSON Web Signature (JWS) key ID.",
          "name" : "keyID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/keyID"
        },
        {
          "description" : "The publisher app’s item ID.",
          "name" : "publisherItemID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/publisherItemID"
        },
        {
          "description" : "A four-digit integer that ad networks define to represent the ad campaign.",
          "name" : "sourceID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/sourceID"
        },
        {
          "description" : "The impression’s timestamp, in milliseconds since 1970.",
          "name" : "timestamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/timestamp"
        }
      ],
      "title" : "Accessing ad impression properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the framework supports app impressions on a person’s device.",
          "name" : "isSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/isSupported"
        }
      ],
      "title" : "Checking device support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether two values are equal.",
          "name" : "==(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/==(_:_:)"
        },
        {
          "description" : "A function that hashes the essential components of the value by passing them into the hasher.",
          "name" : "hash(into:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression\/hash(into:)"
        }
      ],
      "title" : "Comparing and hashing ad impressions"
    }
  ],
  "source" : "appleJSON",
  "title" : "AppImpression",
  "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/AppImpression"
}