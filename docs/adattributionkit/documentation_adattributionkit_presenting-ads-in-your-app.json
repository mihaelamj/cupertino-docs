{
  "abstract" : "Render different ad styles in your app.",
  "codeExamples" : [
    {
      "code" : "struct AdContentView: View {\n    let impression: AppImpression\n\n    var body: some View {\n        VStack {\n            \/\/ Advertisement content\n        }\n        .onDisappear(perform: { handleAdDisappeared() })\n        .onTapGesture(perform: { handleAdTapped() })\n    }\n\n\n    init(impression: AppImpression) {\n        self.impression = impression\n    }\n\n\n    func handleAdDisappeared() {\n        guard shouldRecordView() else {\n            return\n        }\n        \n        Task {\n            do {\n                try await impression.handleView()\n            }\n            catch {\n                print(\"Failed to end view through impression: \\(error).\")\n            }\n        }\n    }\n    \n    func shouldRecordView() -> Bool {\n        \/\/ TODO: Implement logic to determine if you need to record the view impression to your own system based on your app's ad display requirements.\n        return false\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "    func handleAdTapped(impression: AppImpression) async {\n        do {\n            \/\/ This fails if a person didn't tap `UIEventAttributionView`.\n            try await impression.handleTap()\n        }\n        catch {\n            print(\"Failed to perform click through impression: \\(error).\")\n        }\n    }",
      "language" : "swift"
    }
  ],
  "contentHash" : "2a9b6a3615d9e07c2b40bfae5948deab3e058b59083ee1b0071825782d0ade23",
  "crawledAt" : "2025-12-02T15:57:52Z",
  "id" : "C264E734-F524-49A1-BED1-EA76F8932150",
  "kind" : "article",
  "language" : "swift",
  "module" : "AdAttributionKit",
  "overview" : "## Overview\n\nAdAttributionKit and StoreKit provide several ways to display in-app ads so you can customize ad display based on your app’s ad positioning or other advertising goals.\n\nThe first step to presenting ads in your app is to initialize an [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression] with an impression in compact JSON Web Signature (JWS) format. For more information about generating JWS impressions, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/generating-jws-impressions]\n\n## Record view-through impressions using custom rendered ads\n\nCustom rendered ads include content that overlays the app view. Record view-through impressions when your ad content has been displayed. To record a view-through impression, use the AdAttributionKit [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleView()] method, as in the following SwiftUI example:\n\n## Record click-through impressions\n\nTo respond to a click-through interaction and redirect a person to open or install the advertised app, first display a [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIEventAttributionView] over your ad content. Once the ad receives a tap, call [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap()]. The system then records a click-through impression, and if the app specified by the impression’s advertised item ID isn’t installed, the system launches the app’s product page on the App Store or alternative marketplace according to the user’s preferences in Settings. If the app is already installed, the system launches the app directly.\n\n## Display StoreKit rendered ads\n\nPass an `AppImpression` when configuring a StoreKit rendered ad, and it handles recording a view-through impression after the framework displays it for 2 seconds; it records a click-through impression if a person taps through the ad. For more information on StoreKit rendered ads, see  [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKStoreProductViewController], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKOverlay\/AppConfiguration], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKOverlay\/AppConfiguration\/appImpression], and  [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(parameters:impression:)]",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/presenting-ads-in-your-app\ncrawled: 2025-12-02T15:57:52Z\n---\n\n# Presenting ads in your app\n\n**Article**\n\nRender different ad styles in your app.\n\n## Overview\n\nAdAttributionKit and StoreKit provide several ways to display in-app ads so you can customize ad display based on your app’s ad positioning or other advertising goals.\n\nThe first step to presenting ads in your app is to initialize an [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression] with an impression in compact JSON Web Signature (JWS) format. For more information about generating JWS impressions, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/generating-jws-impressions]\n\n## Record view-through impressions using custom rendered ads\n\nCustom rendered ads include content that overlays the app view. Record view-through impressions when your ad content has been displayed. To record a view-through impression, use the AdAttributionKit [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleView()] method, as in the following SwiftUI example:\n\n```swift\nstruct AdContentView: View {\n    let impression: AppImpression\n\n    var body: some View {\n        VStack {\n            \/\/ Advertisement content\n        }\n        .onDisappear(perform: { handleAdDisappeared() })\n        .onTapGesture(perform: { handleAdTapped() })\n    }\n\n\n    init(impression: AppImpression) {\n        self.impression = impression\n    }\n\n\n    func handleAdDisappeared() {\n        guard shouldRecordView() else {\n            return\n        }\n        \n        Task {\n            do {\n                try await impression.handleView()\n            }\n            catch {\n                print(\"Failed to end view through impression: \\(error).\")\n            }\n        }\n    }\n    \n    func shouldRecordView() -> Bool {\n        \/\/ TODO: Implement logic to determine if you need to record the view impression to your own system based on your app's ad display requirements.\n        return false\n    }\n}\n```\n\n## Record click-through impressions\n\nTo respond to a click-through interaction and redirect a person to open or install the advertised app, first display a [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIEventAttributionView] over your ad content. Once the ad receives a tap, call [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression\/handleTap()]. The system then records a click-through impression, and if the app specified by the impression’s advertised item ID isn’t installed, the system launches the app’s product page on the App Store or alternative marketplace according to the user’s preferences in Settings. If the app is already installed, the system launches the app directly.\n\n```swift\n    func handleAdTapped(impression: AppImpression) async {\n        do {\n            \/\/ This fails if a person didn't tap `UIEventAttributionView`.\n            try await impression.handleTap()\n        }\n        catch {\n            print(\"Failed to perform click through impression: \\(error).\")\n        }\n    }\n```\n\n## Display StoreKit rendered ads\n\nPass an `AppImpression` when configuring a StoreKit rendered ad, and it handles recording a view-through impression after the framework displays it for 2 seconds; it records a click-through impression if a person taps through the ad. For more information on StoreKit rendered ads, see  [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKStoreProductViewController], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKOverlay\/AppConfiguration], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKOverlay\/AppConfiguration\/appImpression], and  [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(parameters:impression:)]\n\n## Essentials\n\n- **Understanding AdAttributionKit and SKAdNetwork interoperability**: Learn how attribution APIs interact to deliver ad impressions.\n- **Receiving ad attributions and postbacks**: Understand timeframes and priorities for ad impressions that result in ad attributions, and how impressions qualify for postbacks.\n- **Identifying conversion values with conversion tags**: Use conversion tags to identify and update specific postbacks when you have overlapping conversion windows.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn how attribution APIs interact to deliver ad impressions.",
          "name" : "Understanding AdAttributionKit and SKAdNetwork interoperability",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/adattributionkit-skadnetwork-interoperability"
        },
        {
          "description" : "Understand timeframes and priorities for ad impressions that result in ad attributions, and how impressions qualify for postbacks.",
          "name" : "Receiving ad attributions and postbacks",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/receiving-ad-attributions-and-postbacks"
        },
        {
          "description" : "Use conversion tags to identify and update specific postbacks when you have overlapping conversion windows.",
          "name" : "Identifying conversion values with conversion tags",
          "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/conversion-tags"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Presenting ads in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/presenting-ads-in-your-app"
}