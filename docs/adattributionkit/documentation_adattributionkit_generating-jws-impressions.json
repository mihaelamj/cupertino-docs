{
  "abstract" : "Create a JSON Web Signature (JWS) for use with app impressions in AdAttributionKit.",
  "codeExamples" : [
    {
      "code" : "    {\n        \"alg\": \"ES256\",\n        \"kid\": \"example.adattributionkit\"\n    }",
      "language" : "json"
    },
    {
      "code" : "{\n \"impression-identifier\": \"7aa9f8cc-5689-4c02-b963-22ca22136015\",\n \"publisher-item-identifier\": 0,\n \"impression-type\": \"app-impression\",\n \"ad-network-identifier\": \"example.adattributionkit\",\n \"source-identifier\": 5239,\n \"timestamp\": 1679790422446,\n \"advertised-item-identifier\": 1108187390\n}",
      "language" : "json"
    },
    {
      "code" : "{\n    \/\/ Other payload properties.\n    \"eligible-for-re-engagement\": true\n}",
      "language" : "json"
    },
    {
      "code" : "ASCII(BASE64URL(UTF8(JWS Protected Header)) || '.' || BASE64URL(JWS Payload))"
    },
    {
      "code" : "eyJraWQiOiJleGFtcGxlLmFkYXR0cmlidXRpb25raXQiLCJhbGciOiJFUzI1NiJ9.eyJhZHZlcnRpc2VkLWl0ZW0taWRlbnRpZmllciI6MTEwODE4NzM5MCwiYWQtbmV0d29yay1pZGVudGlmaWVyIjoiZXhhbXBsZS5hZGF0dHJpYnV0aW9ua2l0IiwiaW1wcmVzc2lvbi10eXBlIjoiYXBwLWltcHJlc3Npb24iLCJlbGlnaWJsZS1mb3ItcmUtZW5nYWdlbWVudCI6dHJ1ZSwidGltZXN0YW1wIjoxNzE5NTk5OTU3MjM5LCJwdWJsaXNoZXItaXRlbS1pZGVudGlmaWVyIjo1ODM4NDkyLCJpbXByZXNzaW9uLWlkZW50aWZpZXIiOiI1NDRCOEZBRC0wQUQ1LTQ0MzQtOThCMi0zMjcxMTNBRjg0REIiLCJzb3VyY2UtaWRlbnRpZmllciI6NTIzOX0.zxQ_HcpB7pK6lWOms4LZ8uK3sZu_0S-bPR0My7UY4QlEAYFP-wp5eN1WuHOmNwoPD5cgazpwA3o5xq-fhfpOEQ"
    }
  ],
  "contentHash" : "2b700236bf98f4697956b82eb2e9f2c8bd082781879d919efca6d6ade97b2eb9",
  "crawledAt" : "2025-12-02T15:57:59Z",
  "id" : "38FB7AD4-97D8-4584-AC7D-9E7C81B987D4",
  "kind" : "article",
  "language" : "swift",
  "module" : "AdAttributionKit",
  "overview" : "## Overview\n\nA JSON Web Signature (JWS) is an open standard ([https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515]) that defines a way to securely transmit information. AdAttributionKit requires a JWS to create an [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression]. You create the JWS and sign it with your private key. For more information about creating keys, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/registering-an-ad-network]\n\nTo generate a signed compact JWS:\n\n## Create the JOSE header\n\nTo create a JWS impression to use with AdAttributionKit, use the following fields and values in the header:\n\nHere’s an example of a JOSE header:\n\n## Create the JWS payload\n\nThe JWS payload contains information about the advertisement, such as the advertised app item ID, publisher app item ID, source identifier, and type of impression. Use the following fields to include these values in the JWS payload:\n\nHere’s an example of a JWS payload:\n\nTo create impressions eligible for reengagement conversions, add the following field and value to the JWS payload:\n\n## Sign the JWS\n\nUse the private key you generated during ad network registration to sign the JWS using ES256 encryption.\n\nYou need to sign the JWS in the compact format outlined in [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515#section-5.1?] that describes the JWS signature process and format, and conforms to the following format as a UTF-8 string:\n\nThis renders a compact JWS impression like the example below that you can pass into the API:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/generating-jws-impressions\ncrawled: 2025-12-02T15:57:59Z\n---\n\n# Generating JWS impressions\n\n**Article**\n\nCreate a JSON Web Signature (JWS) for use with app impressions in AdAttributionKit.\n\n## Overview\n\nA JSON Web Signature (JWS) is an open standard ([https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515]) that defines a way to securely transmit information. AdAttributionKit requires a JWS to create an [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/AppImpression]. You create the JWS and sign it with your private key. For more information about creating keys, see [doc:\/\/com.apple.AdAttributionKit\/documentation\/AdAttributionKit\/registering-an-ad-network]\n\nTo generate a signed compact JWS:\n\n1. Create the JOSE (JSON Object Signing and Encryption) header.\n2. Create the JWS payload.\n3. Sign the JWS.\n\n## Create the JOSE header\n\nTo create a JWS impression to use with AdAttributionKit, use the following fields and values in the header:\n\n\n\nHere’s an example of a JOSE header:\n\n```json\n    {\n        \"alg\": \"ES256\",\n        \"kid\": \"example.adattributionkit\"\n    }\n```\n\n## Create the JWS payload\n\nThe JWS payload contains information about the advertisement, such as the advertised app item ID, publisher app item ID, source identifier, and type of impression. Use the following fields to include these values in the JWS payload:\n\n\n\nHere’s an example of a JWS payload:\n\n```json\n{\n \"impression-identifier\": \"7aa9f8cc-5689-4c02-b963-22ca22136015\",\n \"publisher-item-identifier\": 0,\n \"impression-type\": \"app-impression\",\n \"ad-network-identifier\": \"example.adattributionkit\",\n \"source-identifier\": 5239,\n \"timestamp\": 1679790422446,\n \"advertised-item-identifier\": 1108187390\n}\n```\n\nTo create impressions eligible for reengagement conversions, add the following field and value to the JWS payload:\n\n```json\n{\n    \/\/ Other payload properties.\n    \"eligible-for-re-engagement\": true\n}\n```\n\n## Sign the JWS\n\nUse the private key you generated during ad network registration to sign the JWS using ES256 encryption.\n\nYou need to sign the JWS in the compact format outlined in [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515#section-5.1?] that describes the JWS signature process and format, and conforms to the following format as a UTF-8 string:\n\n```\nASCII(BASE64URL(UTF8(JWS Protected Header)) || '.' || BASE64URL(JWS Payload))\n```\n\nThis renders a compact JWS impression like the example below that you can pass into the API:\n\n```\neyJraWQiOiJleGFtcGxlLmFkYXR0cmlidXRpb25raXQiLCJhbGciOiJFUzI1NiJ9.eyJhZHZlcnRpc2VkLWl0ZW0taWRlbnRpZmllciI6MTEwODE4NzM5MCwiYWQtbmV0d29yay1pZGVudGlmaWVyIjoiZXhhbXBsZS5hZGF0dHJpYnV0aW9ua2l0IiwiaW1wcmVzc2lvbi10eXBlIjoiYXBwLWltcHJlc3Npb24iLCJlbGlnaWJsZS1mb3ItcmUtZW5nYWdlbWVudCI6dHJ1ZSwidGltZXN0YW1wIjoxNzE5NTk5OTU3MjM5LCJwdWJsaXNoZXItaXRlbS1pZGVudGlmaWVyIjo1ODM4NDkyLCJpbXByZXNzaW9uLWlkZW50aWZpZXIiOiI1NDRCOEZBRC0wQUQ1LTQ0MzQtOThCMi0zMjcxMTNBRjg0REIiLCJzb3VyY2UtaWRlbnRpZmllciI6NTIzOX0.zxQ_HcpB7pK6lWOms4LZ8uK3sZu_0S-bPR0My7UY4QlEAYFP-wp5eN1WuHOmNwoPD5cgazpwA3o5xq-fhfpOEQ\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Generating JWS impressions",
  "url" : "https:\/\/developer.apple.com\/documentation\/AdAttributionKit\/generating-jws-impressions"
}