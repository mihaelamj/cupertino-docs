{
  "abstract" : "Creates a multiarray sharing the surface of a pixel buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "f7fa1b89a714d8d9e728024c13d17239784199b082bcbefe634f2670c60a3d7a",
  "crawledAt" : "2025-12-04T10:15:54Z",
  "declaration" : {
    "code" : "init(pixelBuffer: CVPixelBuffer, shape: [NSNumber])",
    "language" : "swift"
  },
  "id" : "CC827140-861A-4DA4-8AC2-7770FEB7BA8F",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Core ML",
  "overview" : "## Discussion\n\nUse this initializer to create an [doc:\/\/com.apple.documentation\/documentation\/IOSurface]-backed `MLMultiArray` that reduces the inference latency by avoiding the buffer copy to and from some compute units.\n\nThe instance will own the pixel buffer and release it on the deallocation.\n\nThe pixel buffer’s pixel format type must be [doc:\/\/com.apple.documentation\/documentation\/CoreVideo\/kCVPixelFormatType_OneComponent16Half]. The `MLMultiArray` data type is [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLMultiArrayDataType\/float16].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(pixelBuffer:shape:)\ncrawled: 2025-12-04T10:15:54Z\n---\n\n# init(pixelBuffer:shape:)\n\n**Initializer**\n\nCreates a multiarray sharing the surface of a pixel buffer.\n\n## Declaration\n\n```swift\ninit(pixelBuffer: CVPixelBuffer, shape: [NSNumber])\n```\n\n## Parameters\n\n- **pixelBuffer**: The pixel buffer owned by the instance.\n- **shape**: The shape of the `MLMultiArray`. The last dimension of `shape` must match the pixel buffer’s width. The product of the rest of the dimensions must match the height.\n\n## Discussion\n\nUse this initializer to create an [doc:\/\/com.apple.documentation\/documentation\/IOSurface]-backed `MLMultiArray` that reduces the inference latency by avoiding the buffer copy to and from some compute units.\n\nThe instance will own the pixel buffer and release it on the deallocation.\n\nThe pixel buffer’s pixel format type must be [doc:\/\/com.apple.documentation\/documentation\/CoreVideo\/kCVPixelFormatType_OneComponent16Half]. The `MLMultiArray` data type is [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLMultiArrayDataType\/float16].\n\n## Creating a multiarray\n\n- **init(_:)**: An MLMultiArray constructed with the FixedWidthInteger elements of the collection converted to Int32.\n- **init(shape:dataType:)**: Creates a multidimensional array with a shape and type.\n- **init(shape:dataType:strides:)**: Creates the object with specified strides.\n- **init(dataPointer:shape:dataType:strides:deallocator:)**: Creates a multiarray from a data pointer.\n- **init(byConcatenatingMultiArrays:alongAxis:dataType:)**: Merges an array of multiarrays into one multiarray along an axis.\n- **MLMultiArrayDataType**: Constants that define the underlying element types a multiarray can store.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An MLMultiArray constructed with the FixedWidthInteger elements of the collection converted to Int32.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(_:)"
        },
        {
          "description" : "Creates a multidimensional array with a shape and type.",
          "name" : "init(shape:dataType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(shape:dataType:)"
        },
        {
          "description" : "Creates the object with specified strides.",
          "name" : "init(shape:dataType:strides:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(shape:dataType:strides:)"
        },
        {
          "description" : "Creates a multiarray from a data pointer.",
          "name" : "init(dataPointer:shape:dataType:strides:deallocator:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(dataPointer:shape:dataType:strides:deallocator:)"
        },
        {
          "description" : "Merges an array of multiarrays into one multiarray along an axis.",
          "name" : "init(byConcatenatingMultiArrays:alongAxis:dataType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(byConcatenatingMultiArrays:alongAxis:dataType:)"
        },
        {
          "description" : "Constants that define the underlying element types a multiarray can store.",
          "name" : "MLMultiArrayDataType",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArrayDataType"
        }
      ],
      "title" : "Creating a multiarray"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(pixelBuffer:shape:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLMultiArray\/init(pixelBuffer:shape:)"
}