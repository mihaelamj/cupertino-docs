{
  "abstract" : "An interface that defines the behavior of a custom layer in your neural network model.",
  "codeExamples" : [

  ],
  "contentHash" : "92e7a0fee3f4fde8fdeee5337509e56719881bb6fa276d67af34e2f59b0a1cfe",
  "crawledAt" : "2025-12-02T19:14:03Z",
  "declaration" : {
    "code" : "protocol MLCustomLayer",
    "language" : "swift"
  },
  "id" : "613CEA2A-B6F5-4A45-AED4-36E15295D311",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Core ML",
  "overview" : "## Overview\n\nYou use the [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLCustomLayer] protocol to define the behavior of your own neural network layers in Core ML models. You can deploy novel or proprietary models on your own release schedule. Custom layers also provide a mechanism for pre- or post-processing during model evaluation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\ncrawled: 2025-12-02T19:14:03Z\n---\n\n# MLCustomLayer\n\n**Protocol**\n\nAn interface that defines the behavior of a custom layer in your neural network model.\n\n## Declaration\n\n```swift\nprotocol MLCustomLayer\n```\n\n## Overview\n\nYou use the [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLCustomLayer] protocol to define the behavior of your own neural network layers in Core ML models. You can deploy novel or proprietary models on your own release schedule. Custom layers also provide a mechanism for pre- or post-processing during model evaluation.\n\n## Creating a layer\n\n- **init(parameters:)**: Initializes the custom layer implementation.\n\n## Integrating a layer\n\n- **setWeightData(_:)**: Assigns the weights for the connections within the layer.\n- **outputShapes(forInputShapes:)**: Calculates the shapes of the output of this layer for the given input shapes.\n\n## Evaluating a layer\n\n- **evaluate(inputs:outputs:)**: Evaluates the custom layer with the given inputs.\n- **encode(commandBuffer:inputs:outputs:)**: Encodes GPU commands to evaluate the custom layer.\n\n## Custom model layers\n\n- **Creating and Integrating a Model with Custom Layers**: Add models with custom neural-network layers to your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes the custom layer implementation.",
          "name" : "init(parameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\/init(parameters:)"
        }
      ],
      "title" : "Creating a layer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Assigns the weights for the connections within the layer.",
          "name" : "setWeightData(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\/setWeightData(_:)"
        },
        {
          "description" : "Calculates the shapes of the output of this layer for the given input shapes.",
          "name" : "outputShapes(forInputShapes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\/outputShapes(forInputShapes:)"
        }
      ],
      "title" : "Integrating a layer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Evaluates the custom layer with the given inputs.",
          "name" : "evaluate(inputs:outputs:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\/evaluate(inputs:outputs:)"
        },
        {
          "description" : "Encodes GPU commands to evaluate the custom layer.",
          "name" : "encode(commandBuffer:inputs:outputs:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer\/encode(commandBuffer:inputs:outputs:)"
        }
      ],
      "title" : "Evaluating a layer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add models with custom neural-network layers to your app.",
          "name" : "Creating and Integrating a Model with Custom Layers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/creating-and-integrating-a-model-with-custom-layers"
        }
      ],
      "title" : "Custom model layers"
    }
  ],
  "source" : "appleJSON",
  "title" : "MLCustomLayer",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/MLCustomLayer"
}