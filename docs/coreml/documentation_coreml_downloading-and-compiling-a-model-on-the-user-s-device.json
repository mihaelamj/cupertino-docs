{
  "abstract" : "Install Core ML models on the user’s device dynamically at runtime.",
  "codeExamples" : [
    {
      "code" : "let compiledModelURL = try MLModel.compileModel(at: modelDescriptionURL)",
      "language" : "swift"
    },
    {
      "code" : "let model = try MLModel(contentsOf: compiledModelURL)",
      "language" : "swift"
    },
    {
      "code" : "let fileManager = FileManager.default\nlet appSupportURL = fileManager.urls(for: .applicationSupportDirectory,\n                                     in: .userDomainMask).first!",
      "language" : "swift"
    },
    {
      "code" : "let compiledModelName = compiledModelURL.lastPathComponentlet\npermanentURL = appSupportURL.appendingPathComponent(compiledModelName)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Copy the file to the permanent location, replacing it if necessary.\n_ = try fileManager.replaceItemAt(permanentURL,\n                                  withItemAt: compiledModelURL)\n",
      "language" : "swift"
    }
  ],
  "contentHash" : "2ec226f7bf3c441e6947c00030f4712152ac4e439132ed6061e07d3983c61ee8",
  "crawledAt" : "2025-12-03T03:56:10Z",
  "id" : "7EEF3518-4659-4F43-A17C-9A3CBF25B0C7",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core ML",
  "overview" : "## Overview\n\nDownload and compile models within your app as an alternative to bundling with the app. Scenarios where this is a practical approach include:\n\n### Download and compile the model in the background\n\nDownload the model definition file (ending in `.mlmodel`) onto the user’s device by using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession], [doc:\/\/com.apple.documentation\/documentation\/CloudKit], or another networking toolkit. Then compile the model definition by calling [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel\/compileModel(at:)-6442s].\n\nThis creates a new, compiled model file with the same name as the model description but ending in `.mlmodelc`. Create a new [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel] instance by passing the compiled model [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] to its initializer.\n\nModel instances you create from model files you’ve downloaded have the same capabilities as those you create from model files that you bundle with your app.\n\n### Save Reusable Models to a Permanent Location\n\n[doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel] saves models it compiles to a temporary location. If your app can reuse the model later, reduce your resource consumption by saving the compiled model to a permanent location.\n\nBuild the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] to a permanent location that your app can access in the future, such as Application Support.\n\nCreate the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] for the permanent compiled model file.\n\nMove or copy the file to its permanent location.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreML\/downloading-and-compiling-a-model-on-the-user-s-device\ncrawled: 2025-12-03T03:56:10Z\n---\n\n# Downloading and Compiling a Model on the User’s Device\n\n**Article**\n\nInstall Core ML models on the user’s device dynamically at runtime.\n\n## Overview\n\nDownload and compile models within your app as an alternative to bundling with the app. Scenarios where this is a practical approach include:\n\n- Reducing the app’s download size of your app on the App Store\n- Determining the right models for the user after installation based on their location, specific interests, and A\/B testing\n- Providing model updates over the network\n\n### Download and compile the model in the background\n\nDownload the model definition file (ending in `.mlmodel`) onto the user’s device by using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession], [doc:\/\/com.apple.documentation\/documentation\/CloudKit], or another networking toolkit. Then compile the model definition by calling [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel\/compileModel(at:)-6442s].\n\n```swift\nlet compiledModelURL = try MLModel.compileModel(at: modelDescriptionURL)\n```\n\nThis creates a new, compiled model file with the same name as the model description but ending in `.mlmodelc`. Create a new [doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel] instance by passing the compiled model [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] to its initializer.\n\n```swift\nlet model = try MLModel(contentsOf: compiledModelURL)\n```\n\nModel instances you create from model files you’ve downloaded have the same capabilities as those you create from model files that you bundle with your app.\n\n### Save Reusable Models to a Permanent Location\n\n[doc:\/\/com.apple.coreml\/documentation\/CoreML\/MLModel] saves models it compiles to a temporary location. If your app can reuse the model later, reduce your resource consumption by saving the compiled model to a permanent location.\n\nBuild the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] to a permanent location that your app can access in the future, such as Application Support.\n\n```swift\nlet fileManager = FileManager.default\nlet appSupportURL = fileManager.urls(for: .applicationSupportDirectory,\n                                     in: .userDomainMask).first!\n```\n\nCreate the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL] for the permanent compiled model file.\n\n```swift\nlet compiledModelName = compiledModelURL.lastPathComponentlet\npermanentURL = appSupportURL.appendingPathComponent(compiledModelName)\n```\n\nMove or copy the file to its permanent location.\n\n```swift\n\/\/ Copy the file to the permanent location, replacing it if necessary.\n_ = try fileManager.replaceItemAt(permanentURL,\n                                  withItemAt: compiledModelURL)\n\n```\n\n\n\n## App integration\n\n- **Model Integration Samples**: Integrate tabular, image, and text classifcation models into your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Integrate tabular, image, and text classifcation models into your app.",
          "name" : "Model Integration Samples",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/model-integration-samples"
        }
      ],
      "title" : "App integration"
    }
  ],
  "source" : "appleJSON",
  "title" : "Downloading and Compiling a Model on the User’s Device",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreML\/downloading-and-compiling-a-model-on-the-user-s-device"
}