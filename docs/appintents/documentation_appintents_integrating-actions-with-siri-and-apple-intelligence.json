{
  "abstract" : "Create app intents, entities, and enumerations that conform to assistant schemas to tap into the enhanced action capabilities of Siri and Apple Intelligence.",
  "codeExamples" : [
    {
      "code" : "@AppIntent(schema: .photos.openAsset)\nstruct OpenAssetIntent: OpenIntent {\n    var target: AssetEntity\n\n    @Dependency\n    var library: MediaLibrary\n\n    @Dependency\n    var navigation: NavigationManager\n\n    @MainActor\n    func perform() async throws -> some IntentResult {\n        let assets = library.assets(for: [target.id])\n        guard let asset = assets.first else {\n            throw IntentError.noEntity\n        }\n\n        navigation.openAsset(asset)\n        return .result()\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "@AppEntity(schema: .photos.asset)\nstruct AssetEntity: IndexedEntity {\n\n    static let defaultQuery = AssetQuery()\n\n    let id: String\n    let asset: Asset\n\n    @Property(title: \"Title\")\n    var title: String?\n\n    var creationDate: Date?\n    var location: CLPlacemark?\n    var assetType: AssetType?\n    var isFavorite: Bool\n    var isHidden: Bool\n    var hasSuggestedEdits: Bool\n\n    var displayRepresentation: DisplayRepresentation {\n        DisplayRepresentation(\n            title: title.map { \"\\($0)\" } ?? \"Unknown\",\n            subtitle: assetType?.localizedStringResource ?? \"Photo\"\n        )\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "@AppIntent(schema: .photos.createAssets)\nstruct CreateAssetsIntent: AppIntent {\n    \n    \/\/ ...\n\n    static let isAssistantOnly: Bool = true\n    \n    \/\/ ...\n\n    @MainActor\n    func perform() async throws -> some ReturnsValue<[AssetEntity]> {\n        \/\/ ... \n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "10246ae7989c28e0ebedac93c078fd32ab1b8f81a159abc3aa57535a33c24006",
  "crawledAt" : "2025-12-03T08:30:59Z",
  "id" : "724BC424-FF09-468A-854D-7DBA76EFA1EF",
  "kind" : "article",
  "language" : "swift",
  "module" : "App Intents",
  "overview" : "## Overview\n\nApple Intelligence is a new personal intelligence system that deeply integrates powerful generative models into the core of iPhone, iPad and Mac. Siri will draw on the capabilities of Apple Intelligence to deliver assistance that’s more natural, contextually relevant and personal to users.\n\nA big part of people’s personal context are the apps they use every day. The App Intents framework gives you a means to express your app’s capabilities and content to the system and integrate them with Siri and Apple Intelligence. This will unlock new ways for your users to interact with your app from anywhere on their device.\n\n### Understand assistant schemas\n\nTo integrate your app with Siri and Apple Intelligence, provide [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppIntent], [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity], and [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum] implementations that work well with the pre-trained models Apple Intelligence uses. To provide the implementation that Apple Intelligence needs, create the necessary code using Swift macros to generate additional properties, and add the relevant protocol conformance for your app intent, app entity, and app enum implementation. Xcode offers templates for the macros and verifies the conformance of your code at compile time.\n\nTo create implementations that work well with Siri and Apple Intelligence:\n\nEach macro requires you to provide a `schema` value to generate app intent, app entity, or app enum code that Apple Intelligence can understand. The value you provide to the macros, the *assistant schema*, has two parts:\n\nFor example, an app intent that opens a photo from a photo library uses `@AppIntent(schema: .photos.openAsset)` to make sure the intent provides necessary metadata that allows Apple Intelligence to understand it well.\n\nFor a list of available assistant schemas, see [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/app-intent-domains].\n\n### Review schema requirements\n\nConforming to an assistant schema comes with requirements that vary depending on the domain and schema. However, all assistant schemas share the following constraints:\n\n### Create an app intent that implements a schema\n\nTo create an app intent that integrates your app functionality with Apple Intelligence:\n\nThe following code snippet shows how the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/making-your-app-s-functionality-available-to-siri] sample declares an app intent that opens a video from a device’s media library:\n\n### Ensure app entities and app enums conform to the schema\n\nMany actions you describe as an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppIntent] require parameters or return results, often with custom types you describe as an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] or [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum]. If you use an app entity or app enum in an intent that conforms to an assistant schema, the entity or enum also needs to conform to the assistant schema. Ensuring conformance works similar to conformance for your app intent:\n\nFor example, the  `AssetEntity` implementation from the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/making-your-app-s-functionality-available-to-siri] sample looks like this:\n\n### Consider the impact of updating existing app intents\n\nYour existing app intents might overlap with functionality that assistant schemas provide. If you can make an existing app intent conform to a schema without making changes to parameters that the intent uses, proceed with adding schema conformance. However, changing existing app intent implementations or removing app intents can directly impact people because their custom shortcuts may no longer work.\n\nTo not break people’s existing workflows, create a new app intent in addition to an existing app intent. As a result, both intents appear in the Shortcuts app as actions. To avoid them appearing as duplicates, mark your new app intent as available to Apple Intelligence only by setting [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AssistantSchemaIntent\/isAssistantOnly-p4hd] to `true`. For example, an app intent implementation could look like this:\n\nSimilarly, you can set `isAssistantOnly` to `true` for any applicable app entities and app enums that conform to an assistant schema.\n\nAfter some time, you can remove the  `isAssistantOnly` code and remove your old app intent. For more information about giving people time to update their custom shortcuts with new app intents, see [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/Making-actions-and-content-discoverable-and-widely-available#Understand-the-impact-of-removing-app-intents-and-shortcuts].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/appintents\/integrating-actions-with-siri-and-apple-intelligence\ncrawled: 2025-12-03T08:30:59Z\n---\n\n# Integrating actions with Siri and Apple Intelligence\n\n**Article**\n\nCreate app intents, entities, and enumerations that conform to assistant schemas to tap into the enhanced action capabilities of Siri and Apple Intelligence.\n\n## Overview\n\nApple Intelligence is a new personal intelligence system that deeply integrates powerful generative models into the core of iPhone, iPad and Mac. Siri will draw on the capabilities of Apple Intelligence to deliver assistance that’s more natural, contextually relevant and personal to users.\n\n\n\nA big part of people’s personal context are the apps they use every day. The App Intents framework gives you a means to express your app’s capabilities and content to the system and integrate them with Siri and Apple Intelligence. This will unlock new ways for your users to interact with your app from anywhere on their device.\n\n\n\n### Understand assistant schemas\n\nTo integrate your app with Siri and Apple Intelligence, provide [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppIntent], [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity], and [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum] implementations that work well with the pre-trained models Apple Intelligence uses. To provide the implementation that Apple Intelligence needs, create the necessary code using Swift macros to generate additional properties, and add the relevant protocol conformance for your app intent, app entity, and app enum implementation. Xcode offers templates for the macros and verifies the conformance of your code at compile time.\n\nTo create implementations that work well with Siri and Apple Intelligence:\n\n- For your  [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents] implementation, use the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppIntent(schema:)] macro.\n- For your [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] implementation, use the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity(schema:)] macro.\n- For your  [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum] implementation, use the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum(schema:)] macro.\n\nEach macro requires you to provide a `schema` value to generate app intent, app entity, or app enum code that Apple Intelligence can understand. The value you provide to the macros, the *assistant schema*, has two parts:\n\n- The *App intent domain* that describes a collection of APIs for specific functionality; for example, the `.photos` domain if an app has photos or video functionality.\n- The *schema*, an action or a content type within the domain, the specific API for the app intent, app entity, or app enum you create.\n\nFor example, an app intent that opens a photo from a photo library uses `@AppIntent(schema: .photos.openAsset)` to make sure the intent provides necessary metadata that allows Apple Intelligence to understand it well.\n\n\n\nFor a list of available assistant schemas, see [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/app-intent-domains].\n\n### Review schema requirements\n\nConforming to an assistant schema comes with requirements that vary depending on the domain and schema. However, all assistant schemas share the following constraints:\n\n- App intents can’t require parameters in addition to the parameters a schema expects. If your app intent uses additional parameters, make them optional.\n- Optional parameters that extend the schema are only available to the app intent when it appears in the Shortcuts app.\n- App entities can’t use required properties in addition to the properties the schema expects. However, you can use optional properties.\n- App enums don’t come with requirements for their enumeration cases and offer full flexibility, but you can’t use more than a total of 10 app enums that conform to assistant schemas.\n\n### Create an app intent that implements a schema\n\nTo create an app intent that integrates your app functionality with Apple Intelligence:\n\n1. Identify an action or existing app intent implementation in your app that matches a domain listed in [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/app-intent-domains].\n2. Create a new Swift file for your app intent code.\n3. Use Xcode code completion to generate code that conforms to an assistant schema: Type the name of the domain, followed by an underscore (`<domain>_`) and choose the schema that fits your action. For example, type `photos_` to see a list of available schemas for the `.photos` domain and choose the action to open an asset (`photos_openAsset` ). To ensure assistant schema conformance for an existing app intent, add the macro — for example, `@AppIntent(schema: .photos.openAsset)` — to your existing app intent implementation.\n4. Build your app to check for errors that indicate that your app intent implementation doesn’t match the chosen assistant schema.\n5. Make changes to meet the schema requirements and rebuild your app.\n\n\n\nThe following code snippet shows how the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/making-your-app-s-functionality-available-to-siri] sample declares an app intent that opens a video from a device’s media library:\n\n```swift\n@AppIntent(schema: .photos.openAsset)\nstruct OpenAssetIntent: OpenIntent {\n    var target: AssetEntity\n\n    @Dependency\n    var library: MediaLibrary\n\n    @Dependency\n    var navigation: NavigationManager\n\n    @MainActor\n    func perform() async throws -> some IntentResult {\n        let assets = library.assets(for: [target.id])\n        guard let asset = assets.first else {\n            throw IntentError.noEntity\n        }\n\n        navigation.openAsset(asset)\n        return .result()\n    }\n}\n```\n\n\n\n### Ensure app entities and app enums conform to the schema\n\nMany actions you describe as an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppIntent] require parameters or return results, often with custom types you describe as an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] or [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum]. If you use an app entity or app enum in an intent that conforms to an assistant schema, the entity or enum also needs to conform to the assistant schema. Ensuring conformance works similar to conformance for your app intent:\n\n1. Annotate your app entity or app enum with the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity(schema:)] or [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEnum(schema:)] macro or create a new entity or enum using Xcode code completion to automatically generate code that conforms to a schema. For more information, see the previous section.\n2. Pass the corresponding domain and entity or enum parts to the macro.\n3. Update your code to meet the requirements of the schema.\n\nFor example, the  `AssetEntity` implementation from the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/making-your-app-s-functionality-available-to-siri] sample looks like this:\n\n```swift\n@AppEntity(schema: .photos.asset)\nstruct AssetEntity: IndexedEntity {\n\n    static let defaultQuery = AssetQuery()\n\n    let id: String\n    let asset: Asset\n\n    @Property(title: \"Title\")\n    var title: String?\n\n    var creationDate: Date?\n    var location: CLPlacemark?\n    var assetType: AssetType?\n    var isFavorite: Bool\n    var isHidden: Bool\n    var hasSuggestedEdits: Bool\n\n    var displayRepresentation: DisplayRepresentation {\n        DisplayRepresentation(\n            title: title.map { \"\\($0)\" } ?? \"Unknown\",\n            subtitle: assetType?.localizedStringResource ?? \"Photo\"\n        )\n    }\n}\n```\n\n### Consider the impact of updating existing app intents\n\nYour existing app intents might overlap with functionality that assistant schemas provide. If you can make an existing app intent conform to a schema without making changes to parameters that the intent uses, proceed with adding schema conformance. However, changing existing app intent implementations or removing app intents can directly impact people because their custom shortcuts may no longer work.\n\nTo not break people’s existing workflows, create a new app intent in addition to an existing app intent. As a result, both intents appear in the Shortcuts app as actions. To avoid them appearing as duplicates, mark your new app intent as available to Apple Intelligence only by setting [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AssistantSchemaIntent\/isAssistantOnly-p4hd] to `true`. For example, an app intent implementation could look like this:\n\n```swift\n@AppIntent(schema: .photos.createAssets)\nstruct CreateAssetsIntent: AppIntent {\n    \n    \/\/ ...\n\n    static let isAssistantOnly: Bool = true\n    \n    \/\/ ...\n\n    @MainActor\n    func perform() async throws -> some ReturnsValue<[AssetEntity]> {\n        \/\/ ... \n    }\n}\n```\n\nSimilarly, you can set `isAssistantOnly` to `true` for any applicable app entities and app enums that conform to an assistant schema.\n\nAfter some time, you can remove the  `isAssistantOnly` code and remove your old app intent. For more information about giving people time to update their custom shortcuts with new app intents, see [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/Making-actions-and-content-discoverable-and-widely-available#Understand-the-impact-of-removing-app-intents-and-shortcuts].\n\n## Siri and Apple Intelligence\n\n- **Making onscreen content available to Siri and Apple Intelligence**: Enable Siri and Apple Intelligence to respond to a person’s questions and action requests for your app’s onscreen content.\n- **App intent domains**: Make your app’s actions and content available to Siri and Apple Intelligence with assistant schemas.\n- **Making your app’s functionality available to Siri**: Add app intent schemas to your app so Siri can complete requests, and integrate your app with Apple Intelligence, Spotlight, and other system experiences.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable Siri and Apple Intelligence to respond to a person’s questions and action requests for your app’s onscreen content.",
          "name" : "Making onscreen content available to Siri and Apple Intelligence",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/Making-onscreen-content-available-to-siri-and-apple-intelligence"
        },
        {
          "description" : "Make your app’s actions and content available to Siri and Apple Intelligence with assistant schemas.",
          "name" : "App intent domains",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/app-intent-domains"
        },
        {
          "description" : "Add app intent schemas to your app so Siri can complete requests, and integrate your app with Apple Intelligence, Spotlight, and other system experiences.",
          "name" : "Making your app’s functionality available to Siri",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/making-your-app-s-functionality-available-to-siri"
        }
      ],
      "title" : "Siri and Apple Intelligence"
    }
  ],
  "source" : "appleJSON",
  "title" : "Integrating actions with Siri and Apple Intelligence",
  "url" : "https:\/\/developer.apple.com\/documentation\/appintents\/integrating-actions-with-siri-and-apple-intelligence"
}