{
  "abstract" : "An interface for locating entities using their identifiers.",
  "codeExamples" : [
    {
      "code" : "struct MyPhotoQuery: EntityQuery {\n    func entities(for identifiers: [UUID]) async throws -> [MyPhoto] {\n        myPhotoStore.filter { identifiers.contains($0.id) }\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformingTypes" : [
    "UniqueAppEntityProvider"
  ],
  "contentHash" : "45e6c5ea56fe24c267d1f4f42952fc54aeabdee5d928d5840a98a181d2461c78",
  "crawledAt" : "2025-12-05T20:42:07Z",
  "declaration" : {
    "code" : "protocol EntityQuery : DynamicOptionsProvider, PersistentlyIdentifiable, Sendable",
    "language" : "swift"
  },
  "id" : "1657A408-03C4-417D-AB2D-E32433FE4308",
  "inheritedBy" : [
    "EntityPropertyQuery",
    "EntityStringQuery",
    "EnumerableEntityQuery",
    "UniqueAppEntityQuery"
  ],
  "kind" : "protocol",
  "language" : "swift",
  "module" : "App Intents",
  "overview" : "## Overview\n\nThe entity query provides the model object in which ways instances of a particular app entity type can be queried by Siri and the Shortcuts app, and implements the retrieval of such instances.\n\n### Conform to the EntityQuery Protocol\n\nIn order to allow Siri and Shortcuts to retrieve [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] instances, create a new type conforming to `EntityQuery`.\n\n### Resolving Entities by identifier\n\nIn some scenarios, Siri or Shortcuts already knows exactly which entity the user is referring to, and needs to retrieve the actual entity instance given its unique identifier.\n\nTo support this retrieval method, implement [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/EntityQuery\/entities(for:)], which given an array of AppEntity identifiers, returns corresponding entity instances. The method should first lookup if said instance already exists in memory. If the instance doesn’t exist, then `perform` can make asynchronous calls to retrieve the entity (ex: from disk or from a remote back-end). If the entity corresponding to a supplied identifier is not available anymore, then it should be omitted from the returned array.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/appintents\/entityquery\ncrawled: 2025-12-05T20:42:07Z\n---\n\n# EntityQuery\n\n**Protocol**\n\nAn interface for locating entities using their identifiers.\n\n## Declaration\n\n```swift\nprotocol EntityQuery : DynamicOptionsProvider, PersistentlyIdentifiable, Sendable\n```\n\n## Overview\n\nThe entity query provides the model object in which ways instances of a particular app entity type can be queried by Siri and the Shortcuts app, and implements the retrieval of such instances.\n\n### Conform to the EntityQuery Protocol\n\nIn order to allow Siri and Shortcuts to retrieve [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] instances, create a new type conforming to `EntityQuery`.\n\n### Resolving Entities by identifier\n\nIn some scenarios, Siri or Shortcuts already knows exactly which entity the user is referring to, and needs to retrieve the actual entity instance given its unique identifier.\n\nTo support this retrieval method, implement [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/EntityQuery\/entities(for:)], which given an array of AppEntity identifiers, returns corresponding entity instances. The method should first lookup if said instance already exists in memory. If the instance doesn’t exist, then `perform` can make asynchronous calls to retrieve the entity (ex: from disk or from a remote back-end). If the entity corresponding to a supplied identifier is not available anymore, then it should be omitted from the returned array.\n\n```swift\nstruct MyPhotoQuery: EntityQuery {\n    func entities(for identifiers: [UUID]) async throws -> [MyPhoto] {\n        myPhotoStore.filter { identifiers.contains($0.id) }\n    }\n}\n```\n\n## Creating a query\n\n- **init()**\n\n## Searching for entities\n\n- **entities(for:)**: Retrieves instances by identifier.\n- **Entity**: The entity type that this query knows how to resolve.\n\n## Suggesting entities\n\n- **suggestedEntities()**: Returns the initial results shown when a list of options backed by this query is presented.\n\n## Associated Types\n\n- **Result**\n\n## Identifier-based queries\n\n- **EnumerableEntityQuery**: An interface you use to provide a short list of entities that are relatively small in size.\n\n## Inherits From\n\n- DynamicOptionsProvider\n- PersistentlyIdentifiable\n- Sendable\n- SendableMetatype\n\n## Inherited By\n\n- EntityPropertyQuery\n- EntityStringQuery\n- EnumerableEntityQuery\n- UniqueAppEntityQuery\n\n## Conforming Types\n\n- UniqueAppEntityProvider\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EntityQuery\/init()"
        }
      ],
      "title" : "Creating a query"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves instances by identifier.",
          "name" : "entities(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EntityQuery\/entities(for:)"
        },
        {
          "description" : "The entity type that this query knows how to resolve.",
          "name" : "Entity",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EntityQuery\/Entity"
        }
      ],
      "title" : "Searching for entities"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the initial results shown when a list of options backed by this query is presented.",
          "name" : "suggestedEntities()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EntityQuery\/suggestedEntities()"
        }
      ],
      "title" : "Suggesting entities"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "Result",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EntityQuery\/Result"
        }
      ],
      "title" : "Associated Types"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An interface you use to provide a short list of entities that are relatively small in size.",
          "name" : "EnumerableEntityQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/EnumerableEntityQuery"
        }
      ],
      "title" : "Identifier-based queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "DynamicOptionsProvider"
        },
        {
          "name" : "PersistentlyIdentifiable"
        },
        {
          "name" : "Sendable"
        },
        {
          "name" : "SendableMetatype"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "EntityQuery",
  "url" : "https:\/\/developer.apple.com\/documentation\/appintents\/entityquery"
}