{
  "abstract" : "Allow people to find your app’s content in Spotlight by donating app entities to its semantic index.",
  "codeExamples" : [
    {
      "code" : "import AppIntents\n\nstruct OpenLandmarkIntent: OpenIntent {\n    static let title: LocalizedStringResource = \"Open Landmark\"\n\n    @Parameter(title: \"Landmark\", requestValueDialog: \"Which landmark?\")\n    var target: LandmarkEntity\n}",
      "language" : "swift"
    },
    {
      "code" : "struct LandmarkEntity: IndexedEntity {\n\n    \/\/ ...\n\n}",
      "language" : "swift"
    },
    {
      "code" : "struct LandmarkEntity: IndexedEntity {\n    \/\/ ...\n\n    \/\/ Maps the description variable to the Spotlight indexing key `contentDescription`.\n    @ComputedProperty(indexingKey: \\.contentDescription)\n    var description: String { landmark.description }\n\n    \/\/ Maps the continent variable to a custom Spotlight indexing key. \n    @ComputedProperty(\n        customIndexingKey: CSCustomAttributeKey(\n            keyName: \"com_AppIntentsTravelTracking_LandmarkEntity_continent\"\n        )!\n    )\n    var continent: String { landmark.continent }\n\n    \/\/ ...\n}",
      "language" : "swift"
    },
    {
      "code" : "import AppIntents\nimport CoreSpotlight\n\nenum EntityDonator {\n    static func donateLandmarks(modelData: ModelData) async throws {\n        let landmarkEntities = await modelData.landmarkEntities\n        try await CSSearchableIndex.default().indexAppEntities(landmarkEntities)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "var searchableAttributes: CSSearchableItemAttributeSet {\n        let attributes = CSSearchableItemAttributeSet()\n        \n        attributes.title = name\n        attributes.namedLocation = regionDescription\n        attributes.keywords = activities.localizedElements\n        \n        attributes.latitude = NSNumber(value: coordinate.latitude)\n        attributes.longitude = NSNumber(value: coordinate.longitude)\n        attributes.supportsNavigation = true\n        \n        return attributes\n    }",
      "language" : "swift"
    },
    {
      "code" : "func updateSpotlightIndex() async {\n    guard CSSearchableIndex.isIndexingAvailable() else {\n        Logger.spotlightLogging.info(\"[Spotlight] Indexing is unavailable\")\n        return\n    }\n    \n    \/\/ Create an array of the searchable information for each `Trail`.\n    let searchableItems = trails.map { trail in\n        let item = CSSearchableItem(uniqueIdentifier: String(trail.id),\n                                    domainIdentifier: nil,\n                                    attributeSet: trail.searchableAttributes)\n        \n        let isFavorite = favoritesCollection.members.contains(trail.id)\n        let weight = isFavorite ? 10 : 1\n        let intent = TrailEntity(trail: trail)\n        \n        \/**\n         Associate `TrailEntity` with the data that the `Trail` structure provides so the system recognizes that\n         both types represent the same data. You need to create this association before adding `CSSearchableItem`\n         to `CSSearchableIndex`.\n         *\/\n        item.associateAppEntity(intent, priority: weight)\n        return item\n    }\n    \n    do {\n        \/\/ Add the trails to the search index so people can find them through Spotlight.\n        \/\/ You need to do this as part of the app's initial setup on launch.\n        let index = CSSearchableIndex.default()\n        try await index.indexSearchableItems(searchableItems)\n        Logger.spotlightLogging.info(\"[Spotlight] Trails indexed by Spotlight\")\n    } catch let error {\n        Logger.spotlightLogging.error(\"[Spotlight] Trails were not indexed by Spotlight. Reason: \\(error.localizedDescription)\")\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "58586eee3136a452162c03419af75acf3e40758382106f7b47d1084c4d859873",
  "crawledAt" : "2025-12-02T17:01:36Z",
  "id" : "A19A3417-1BB7-4281-9E43-EFB0ADD91F4C",
  "kind" : "article",
  "language" : "swift",
  "module" : "App Intents",
  "overview" : "## Overview\n\nWith Spotlight, people access information from within apps and the web, and use it to launch apps and perform actions. When you adopt the App Intents framework and create App Shortcuts, people can perform your app’s actions from Spotlight. Additionally, you can donate your [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] objects to Spotlight, allowing people to find your content and launch your app to view more information. For example, people might search nearby landmarks in Spotlight, find a travel app’s content, and tap it to launch the app for detailed information.\n\n### Create an intent that displays your entity in your app\n\nWhen an app entity appears in Spotlight, people can tap it to open your app to the scene that shows detailed information matching the entity. For example, the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] sample app makes landmarks available to Spotlight. When someone taps a landmark in Spotlight, the app opens to display detailed information about that landmark.\n\nFor each entity type that you want to make available to Spotlight, create an app intent that conforms to [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/OpenIntent] and takes the entity as a parameter, as in the following example:\n\n### Make your app entity indexable\n\nTo donate your app entities to the semantic index of Spotlight, they need to conform to the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity] protocol. For example, the sample app for [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] extends its `LandmarkEntity` to add the protocol conformance.\n\nBy stating that your entity conforms to `IndexedEntity`, you can then donate it to Spotlight. By default, the title, subtitle, and image of the entity’s [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/DisplayRepresentation] become indexed attributes in Spotlight, and Spotlight shows your entity if a search matches one of those attributes.\n\nHowever, your entity likely contains additional information that you want to be searchable and findable in Spotlight. To declare additional attributes that are searchable in Spotlight, implement a custom attribute set for your entity:\n\nFor more information about each option, refer to the applicable section below.\n\n### Mark your entity’s variables as indexable properties\n\nThe system can automatically extract the keys for Spotlight indexing at compile time and store them in the App Intents metadata that Xcode generates as part of your app’s bundle. As a result, Spotlight indexing is faster and can find your app entities without launching your app, and without you having to explicitly donate the entities to Spotlight. You also don’t need to manually update or remove entities from the Spotlight index when your app’s data changes.\n\nTo add your indexed entity’s variables to the Spotlight index, use the `@Property` or `@ComputedProperty` Swift macro as follows:\n\nThe following example shows how the `LandmarkEntity` of the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] sample app uses the different `@ComputedProperty` Swift macros to the entity’s variables as searchable attributes to the Spotlight index:\n\nOn app launch, donate your app entities to the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex] and its [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/indexAppEntities(_:priority:)].\n\nThe following example shows the implementation of the donation in the `AppIntentsTravelTracking` app:\n\nIf your app’s data changes, delete app entities that no longer exist from the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(identifiedBy:ofType:)] or [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(ofType:)].\n\n### Implement the optional searchable attribute set for your indexed entity\n\nIn iOS 18, you can’t donate your app entities and their attributes to the Spotlight index using the `@ComputedProperty` or `@Property` Swift macros. Instead, your app entity needs to provide the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity\/attributeSet] property. You need to manually donate each entity to the index, and then update the index when your data changes.\n\nThe following example shows how the sample app for [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AcceleratingAppInteractionsWithAppIntents] creates the [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItemAttributeSet]:\n\nOn launch of your app, add your entities to the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex] and its [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/indexAppEntities(_:priority:)]. If your app’s data changes, delete app entities that no longer exist from the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(identifiedBy:ofType:)] or [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(ofType:)].\n\n### Associate existing Core Spotlight indexable items with app entities\n\nIf your app already supports Spotlight or uses [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight] for its search functionality, follow these steps to create app entities and associate them with the [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItem] that represents the entity in the Spotlight index:\n\nThe following code example from [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AcceleratingAppInteractionsWithAppIntents] shows how the sample app’s `TrailDataManager` creates searchable items, associates each item with the matching app entity, and then donates them to the Spotlight index:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppIntents\/making-app-entities-available-in-spotlight\ncrawled: 2025-12-02T17:01:36Z\n---\n\n# Making app entities available in Spotlight\n\n**Article**\n\nAllow people to find your app’s content in Spotlight by donating app entities to its semantic index.\n\n## Overview\n\nWith Spotlight, people access information from within apps and the web, and use it to launch apps and perform actions. When you adopt the App Intents framework and create App Shortcuts, people can perform your app’s actions from Spotlight. Additionally, you can donate your [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AppEntity] objects to Spotlight, allowing people to find your content and launch your app to view more information. For example, people might search nearby landmarks in Spotlight, find a travel app’s content, and tap it to launch the app for detailed information.\n\n### Create an intent that displays your entity in your app\n\nWhen an app entity appears in Spotlight, people can tap it to open your app to the scene that shows detailed information matching the entity. For example, the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] sample app makes landmarks available to Spotlight. When someone taps a landmark in Spotlight, the app opens to display detailed information about that landmark.\n\nFor each entity type that you want to make available to Spotlight, create an app intent that conforms to [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/OpenIntent] and takes the entity as a parameter, as in the following example:\n\n```swift\nimport AppIntents\n\nstruct OpenLandmarkIntent: OpenIntent {\n    static let title: LocalizedStringResource = \"Open Landmark\"\n\n    @Parameter(title: \"Landmark\", requestValueDialog: \"Which landmark?\")\n    var target: LandmarkEntity\n}\n```\n\n### Make your app entity indexable\n\nTo donate your app entities to the semantic index of Spotlight, they need to conform to the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity] protocol. For example, the sample app for [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] extends its `LandmarkEntity` to add the protocol conformance.\n\n```swift\nstruct LandmarkEntity: IndexedEntity {\n\n    \/\/ ...\n\n}\n```\n\nBy stating that your entity conforms to `IndexedEntity`, you can then donate it to Spotlight. By default, the title, subtitle, and image of the entity’s [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/DisplayRepresentation] become indexed attributes in Spotlight, and Spotlight shows your entity if a search matches one of those attributes.\n\nHowever, your entity likely contains additional information that you want to be searchable and findable in Spotlight. To declare additional attributes that are searchable in Spotlight, implement a custom attribute set for your entity:\n\n- Use the `@Property` or `@ComputedProperty` Swift property wrappers to add your entity’s variables to the Spotlight index.\n- In iOS 18, provide an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity\/attributeSet] for your indexed entities that contains attributes for Spotlight indexing.\n- If you already use [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight], associate your app entities with a matching [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItem].\n\nFor more information about each option, refer to the applicable section below.\n\n### Mark your entity’s variables as indexable properties\n\nThe system can automatically extract the keys for Spotlight indexing at compile time and store them in the App Intents metadata that Xcode generates as part of your app’s bundle. As a result, Spotlight indexing is faster and can find your app entities without launching your app, and without you having to explicitly donate the entities to Spotlight. You also don’t need to manually update or remove entities from the Spotlight index when your app’s data changes.\n\nTo add your indexed entity’s variables to the Spotlight index, use the `@Property` or `@ComputedProperty` Swift macro as follows:\n\n- Map the indexed entity’s variable to an indexing key that [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItemAttributeSet] defines, and use `@ComputedProperty(indexingKey:` or `@Property(indexingKey:)`.\n- If an indexed entity’s variable doesn’t fit any of the indexing keys that `CSSearchableItemAttributeSet` defines, use `@ComputedProperty(customIndexingKey:)`  or `@Property(customIndexingKey:)` to match the variable to a custom Spotlight indexing key.\n\n\n\nThe following example shows how the `LandmarkEntity` of the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/adopting-app-intents-to-support-system-experiences] sample app uses the different `@ComputedProperty` Swift macros to the entity’s variables as searchable attributes to the Spotlight index:\n\n```swift\nstruct LandmarkEntity: IndexedEntity {\n    \/\/ ...\n\n    \/\/ Maps the description variable to the Spotlight indexing key `contentDescription`.\n    @ComputedProperty(indexingKey: \\.contentDescription)\n    var description: String { landmark.description }\n\n    \/\/ Maps the continent variable to a custom Spotlight indexing key. \n    @ComputedProperty(\n        customIndexingKey: CSCustomAttributeKey(\n            keyName: \"com_AppIntentsTravelTracking_LandmarkEntity_continent\"\n        )!\n    )\n    var continent: String { landmark.continent }\n\n    \/\/ ...\n}\n```\n\nOn app launch, donate your app entities to the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex] and its [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/indexAppEntities(_:priority:)].\n\nThe following example shows the implementation of the donation in the `AppIntentsTravelTracking` app:\n\n```swift\nimport AppIntents\nimport CoreSpotlight\n\nenum EntityDonator {\n    static func donateLandmarks(modelData: ModelData) async throws {\n        let landmarkEntities = await modelData.landmarkEntities\n        try await CSSearchableIndex.default().indexAppEntities(landmarkEntities)\n    }\n}\n```\n\nIf your app’s data changes, delete app entities that no longer exist from the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(identifiedBy:ofType:)] or [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(ofType:)].\n\n### Implement the optional searchable attribute set for your indexed entity\n\nIn iOS 18, you can’t donate your app entities and their attributes to the Spotlight index using the `@ComputedProperty` or `@Property` Swift macros. Instead, your app entity needs to provide the [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity\/attributeSet] property. You need to manually donate each entity to the index, and then update the index when your data changes.\n\nThe following example shows how the sample app for [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AcceleratingAppInteractionsWithAppIntents] creates the [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItemAttributeSet]:\n\n```swift\nvar searchableAttributes: CSSearchableItemAttributeSet {\n        let attributes = CSSearchableItemAttributeSet()\n        \n        attributes.title = name\n        attributes.namedLocation = regionDescription\n        attributes.keywords = activities.localizedElements\n        \n        attributes.latitude = NSNumber(value: coordinate.latitude)\n        attributes.longitude = NSNumber(value: coordinate.longitude)\n        attributes.supportsNavigation = true\n        \n        return attributes\n    }\n```\n\nOn launch of your app, add your entities to the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex] and its [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/indexAppEntities(_:priority:)]. If your app’s data changes, delete app entities that no longer exist from the Spotlight index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(identifiedBy:ofType:)] or [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/deleteAppEntities(ofType:)].\n\n### Associate existing Core Spotlight indexable items with app entities\n\nIf your app already supports Spotlight or uses [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight] for its search functionality, follow these steps to create app entities and associate them with the [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItem] that represents the entity in the Spotlight index:\n\n1. Create the `CSSearchabileItem` that represents the entity in the Spotlight index.\n2. Set the searchable attributes for `CSSearchableItem`.\n3. Associate the searchable item with the app entity it represents with [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableItem\/associateAppEntity(_:priority:)]. Alternatively, initialize `CSSearchabileItem` using one of its initializers that takes an [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/IndexedEntity] as a parameter. Make sure to associate the app entity with the searchable item before adding the item to the Spotlight index.\n4. Add all items to the index using [doc:\/\/com.apple.documentation\/documentation\/CoreSpotlight\/CSSearchableIndex\/indexSearchableItems(_:completionHandler:)].\n\nThe following code example from [doc:\/\/com.apple.AppIntents\/documentation\/AppIntents\/AcceleratingAppInteractionsWithAppIntents] shows how the sample app’s `TrailDataManager` creates searchable items, associates each item with the matching app entity, and then donates them to the Spotlight index:\n\n```swift\nfunc updateSpotlightIndex() async {\n    guard CSSearchableIndex.isIndexingAvailable() else {\n        Logger.spotlightLogging.info(\"[Spotlight] Indexing is unavailable\")\n        return\n    }\n    \n    \/\/ Create an array of the searchable information for each `Trail`.\n    let searchableItems = trails.map { trail in\n        let item = CSSearchableItem(uniqueIdentifier: String(trail.id),\n                                    domainIdentifier: nil,\n                                    attributeSet: trail.searchableAttributes)\n        \n        let isFavorite = favoritesCollection.members.contains(trail.id)\n        let weight = isFavorite ? 10 : 1\n        let intent = TrailEntity(trail: trail)\n        \n        \/**\n         Associate `TrailEntity` with the data that the `Trail` structure provides so the system recognizes that\n         both types represent the same data. You need to create this association before adding `CSSearchableItem`\n         to `CSSearchableIndex`.\n         *\/\n        item.associateAppEntity(intent, priority: weight)\n        return item\n    }\n    \n    do {\n        \/\/ Add the trails to the search index so people can find them through Spotlight.\n        \/\/ You need to do this as part of the app's initial setup on launch.\n        let index = CSSearchableIndex.default()\n        try await index.indexSearchableItems(searchableItems)\n        Logger.spotlightLogging.info(\"[Spotlight] Trails indexed by Spotlight\")\n    } catch let error {\n        Logger.spotlightLogging.error(\"[Spotlight] Trails were not indexed by Spotlight. Reason: \\(error.localizedDescription)\")\n    }\n}\n```\n\n## Other system experiences\n\n- **Focus**: Adjust your app’s behavior and filter incoming notifications when the current Focus changes.\n- **Action button on iPhone and Apple Watch**: Enable people to run your App Shortcuts with the Action button on iPhone or to start your app’s workout or dive sessions using the Action button on Apple Watch.\n- **Launching your voice-based conversational app from the side button of iPhone**: Let people in Japan configure the side button of iPhone to launch your voice-based conversational app.\n- **Developing a WidgetKit strategy**: Explore features, tasks, related frameworks, and constraints as you make a plan to implement widgets, controls, watch complications, and Live Activities.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adjust your app’s behavior and filter incoming notifications when the current Focus changes.",
          "name" : "Focus",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/focus"
        },
        {
          "description" : "Enable people to run your App Shortcuts with the Action button on iPhone or to start your app’s workout or dive sessions using the Action button on Apple Watch.",
          "name" : "Action button on iPhone and Apple Watch",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/ActionButton"
        },
        {
          "description" : "Let people in Japan configure the side button of iPhone to launch your voice-based conversational app.",
          "name" : "Launching your voice-based conversational app from the side button of iPhone",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/Launching-your-voice-based-conversational-app-from-the-side-button-of-iPhone"
        },
        {
          "description" : "Explore features, tasks, related frameworks, and constraints as you make a plan to implement widgets, controls, watch complications, and Live Activities.",
          "name" : "Developing a WidgetKit strategy",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/Developing-a-WidgetKit-strategy"
        }
      ],
      "title" : "Other system experiences"
    }
  ],
  "source" : "appleJSON",
  "title" : "Making app entities available in Spotlight",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppIntents\/making-app-entities-available-in-spotlight"
}