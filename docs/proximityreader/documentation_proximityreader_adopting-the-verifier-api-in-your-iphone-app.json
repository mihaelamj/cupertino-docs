{
  "abstract" : "Configure and test ID Verifier support in your app for reading mobile documents.",
  "codeExamples" : [
    {
      "code" : "actor MyActor {\n\n    \/\/ The mobile document reader you use to prepare the device and create a reader session.\n    private let reader: MobileDocumentReader\n\n    \/\/ Returns `nil` if the Verifier API isn't supported on this device. \n    init?() {\n        guard MobileDocumentReader.isSupported else {\n            \/\/ This device doesn't support the Verifier API.\n            return nil\n        }\n\n        self.reader = MobileDocumentReader()\n    }\n\n}",
      "language" : "swift"
    },
    {
      "code" : "actor MyActor {\n\n    \/\/ The mobile document reader, you use to prepare the device and retrieve a reader session.\n    private let reader: MobileDocumentReader\n\n    \/\/ The current reader session. If nil, prepare the device. \n    private var session: MobileDocumentReaderSession?\n\n    func prepareDevice() async {\n        \/\/ Check whether the device is already prepared to read mobile documents.\n        guard self.session == nil else {\n            return\n        }\n\n        \/\/ Fetch the reader configuration. This requires network access.\n        let configuration = try await self.reader.configuration\n\n        \/\/ Get the current reader instance identifier -- do not cache this value directly.\n        let identifier = configuration.readerInstanceIdentifier\n\n        \/\/ Send the identifier to your server in exchange for a reader token.\n        let tokenString = try await MyWebService().fetchToken(for: identifier)\n\n        \/\/ Create a reader token from the token string.\n        let readerToken = MobileDocumentReader.Token(tokenString)\n\n        do {\n            self.session = try await self.reader.prepare(using: readerToken)\n        } catch MobileDocumentReader.invalidToken {\n            print(\"The reader token provided to prepare was invalid.\")\n        } catch {\n            print(\"An error occurred while preparing the reader: \\(error.localizedDescription).\")\n        }\n    }\n\n}",
      "language" : "swift"
    },
    {
      "code" : "actor MyActor {\n\n    \/\/ A currently valid, prepared session.\n    private var session: MobileDocumentReaderSession?\n\n    \/\/ Invalidate the reader session by deallocating it.\n    func stopReadingDocuments() {\n        self.session = nil\n    }\n\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "f62c8c431499a0b7e0c0feb7945324d4fc46b9a054a67dbf74c93679476c5f9c",
  "crawledAt" : "2025-12-02T16:06:33Z",
  "id" : "780C1D2B-393D-4D4C-A9EE-A6E03C8B7FB1",
  "kind" : "article",
  "language" : "swift",
  "module" : "ProximityReader",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader] enables support for the Verifier API, which allows your app to read mobile documents such as driver’s licenses, state IDs, and national IDs without any additional hardware. After configuration, `ProximityReader` can begin a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] to read a mobile document. A `MobileDocumentReaderSession` brings up a sheet that collects and returns the document information you need to perform age and identity verification.\n\nTo enable the Verifier API, verify that the person’s iPhone supports it, then prepare the device to read mobile documents.\n\nFor design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/id-verifier].\n\n## Verify device support\n\nTo support the Verifier API, a person’s iPhone requires iOS 17 and later. The following example demonstrates how to check if the person’s device supports the Verifier API:\n\nIf the device doesn’t support the Verifier API, the framework throws a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError\/notSupported] error.\n\n## Prepare a device to read mobile documents\n\nBefore you can perform mobile document requests, your app needs to prepare the device by instantiating a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader] object and calling its [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader\/prepare(using:)] method.\n\nIf you want to show your brand’s name and logo in the system UI during a document request, pass a reader token generated from your server into the prepare method. For more information about reader tokens and how to generate on your server, see [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/generating-reader-tokens-for-the-verifier-api].\n\nIf the call to [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader\/prepare(using:)] is successful, the framework returns a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] object that you can use to read mobile documents. If the call fails, you — or the person using your app — may need to take action, depending on the reasons for the failure. Review [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError] for more details of the kinds of errors that you can encounter.\n\nThe following example shows how to prepare device to read mobile documents:\n\nThe first time you use a reader token to prepare a session, the framework performs a network call to the Verifier API server. The framework can perform subsequent prepare calls with the same reader token offline. After you use a reader token to successfully prepare the device and create a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession], you can reuse it to prepare the device repeatedly for up to 48 hours.\n\n## Read mobile documents\n\nUse [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] to present a system UI to prompt the person using your app to present their mobile document to the reader and approve the request. After successfully reading the mobile document, the system UI either shows the document information onscreen for review or dismisses it entirely, returning the response to your app. Whether the system UI displays the document information onscreen, or returns the data to your app depends on which [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentRequest] your app performs.\n\nIf a read isn’t successful, the framework dismisses the system UI and [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession\/requestDocument(_:)] throws a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError]. If the person dismissed the system UI, the framework throws [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError\/cancelled].\n\n## Stop reading mobile documents\n\nWhen you’re finished reading mobile documents, you can invalidate the reader session by deallocating it.\n\n## Test your implementation\n\nEven if you don’t live in an area that supports mobile documents, you can test your implementation in the Simulator or by downloading a developer profile on your local device.\n\nWhen you perform a document request, the system simulates a successful document read and displays or returns a mock response.\n\nTo enable the simulated test mode on your iPhone, download and install the “Mobile Document Reader (Developer)” profile from [https:\/\/developer.apple.com\/bug-reporting\/profiles-and-logs\/?name=mobile%20document%20reader].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ProximityReader\/adopting-the-verifier-api-in-your-iphone-app\ncrawled: 2025-12-02T16:06:33Z\n---\n\n# Adopting the Verifier API in your iPhone app\n\n**Article**\n\nConfigure and test ID Verifier support in your app for reading mobile documents.\n\n## Overview\n\n[doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader] enables support for the Verifier API, which allows your app to read mobile documents such as driver’s licenses, state IDs, and national IDs without any additional hardware. After configuration, `ProximityReader` can begin a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] to read a mobile document. A `MobileDocumentReaderSession` brings up a sheet that collects and returns the document information you need to perform age and identity verification.\n\nTo enable the Verifier API, verify that the person’s iPhone supports it, then prepare the device to read mobile documents.\n\nFor design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/id-verifier].\n\n\n\n## Verify device support\n\nTo support the Verifier API, a person’s iPhone requires iOS 17 and later. The following example demonstrates how to check if the person’s device supports the Verifier API:\n\n```swift\nactor MyActor {\n\n    \/\/ The mobile document reader you use to prepare the device and create a reader session.\n    private let reader: MobileDocumentReader\n\n    \/\/ Returns `nil` if the Verifier API isn't supported on this device. \n    init?() {\n        guard MobileDocumentReader.isSupported else {\n            \/\/ This device doesn't support the Verifier API.\n            return nil\n        }\n\n        self.reader = MobileDocumentReader()\n    }\n\n}\n```\n\nIf the device doesn’t support the Verifier API, the framework throws a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError\/notSupported] error.\n\n## Prepare a device to read mobile documents\n\nBefore you can perform mobile document requests, your app needs to prepare the device by instantiating a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader] object and calling its [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader\/prepare(using:)] method.\n\nIf you want to show your brand’s name and logo in the system UI during a document request, pass a reader token generated from your server into the prepare method. For more information about reader tokens and how to generate on your server, see [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/generating-reader-tokens-for-the-verifier-api].\n\nIf the call to [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReader\/prepare(using:)] is successful, the framework returns a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] object that you can use to read mobile documents. If the call fails, you — or the person using your app — may need to take action, depending on the reasons for the failure. Review [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError] for more details of the kinds of errors that you can encounter.\n\nThe following example shows how to prepare device to read mobile documents:\n\n```swift\nactor MyActor {\n\n    \/\/ The mobile document reader, you use to prepare the device and retrieve a reader session.\n    private let reader: MobileDocumentReader\n\n    \/\/ The current reader session. If nil, prepare the device. \n    private var session: MobileDocumentReaderSession?\n\n    func prepareDevice() async {\n        \/\/ Check whether the device is already prepared to read mobile documents.\n        guard self.session == nil else {\n            return\n        }\n\n        \/\/ Fetch the reader configuration. This requires network access.\n        let configuration = try await self.reader.configuration\n\n        \/\/ Get the current reader instance identifier -- do not cache this value directly.\n        let identifier = configuration.readerInstanceIdentifier\n\n        \/\/ Send the identifier to your server in exchange for a reader token.\n        let tokenString = try await MyWebService().fetchToken(for: identifier)\n\n        \/\/ Create a reader token from the token string.\n        let readerToken = MobileDocumentReader.Token(tokenString)\n\n        do {\n            self.session = try await self.reader.prepare(using: readerToken)\n        } catch MobileDocumentReader.invalidToken {\n            print(\"The reader token provided to prepare was invalid.\")\n        } catch {\n            print(\"An error occurred while preparing the reader: \\(error.localizedDescription).\")\n        }\n    }\n\n}\n```\n\nThe first time you use a reader token to prepare a session, the framework performs a network call to the Verifier API server. The framework can perform subsequent prepare calls with the same reader token offline. After you use a reader token to successfully prepare the device and create a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession], you can reuse it to prepare the device repeatedly for up to 48 hours.\n\n\n\n## Read mobile documents\n\nUse [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession] to present a system UI to prompt the person using your app to present their mobile document to the reader and approve the request. After successfully reading the mobile document, the system UI either shows the document information onscreen for review or dismisses it entirely, returning the response to your app. Whether the system UI displays the document information onscreen, or returns the data to your app depends on which [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentRequest] your app performs.\n\nIf a read isn’t successful, the framework dismisses the system UI and [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderSession\/requestDocument(_:)] throws a [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError]. If the person dismissed the system UI, the framework throws [doc:\/\/com.apple.ProximityReader\/documentation\/ProximityReader\/MobileDocumentReaderError\/cancelled].\n\n## Stop reading mobile documents\n\nWhen you’re finished reading mobile documents, you can invalidate the reader session by deallocating it.\n\n```swift\nactor MyActor {\n\n    \/\/ A currently valid, prepared session.\n    private var session: MobileDocumentReaderSession?\n\n    \/\/ Invalidate the reader session by deallocating it.\n    func stopReadingDocuments() {\n        self.session = nil\n    }\n\n}\n```\n\n## Test your implementation\n\nEven if you don’t live in an area that supports mobile documents, you can test your implementation in the Simulator or by downloading a developer profile on your local device.\n\nWhen you perform a document request, the system simulates a successful document read and displays or returns a mock response.\n\nTo enable the simulated test mode on your iPhone, download and install the “Mobile Document Reader (Developer)” profile from [https:\/\/developer.apple.com\/bug-reporting\/profiles-and-logs\/?name=mobile%20document%20reader].\n\n## Mobile document reader\n\n- **Generating reader tokens for the Verifier API**: Configure your server to generate reader tokens to prepare a device for mobile document reading.\n- **Checking IDs with the Verifier API**: Read and verify mobile driver’s license information without any additional hardware.\n- **MobileDocumentReader**: An object for configuring mobile document reading on the current device.\n- **MobileDocumentReaderSession**: The object you use to start reading a mobile document.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure your server to generate reader tokens to prepare a device for mobile document reading.",
          "name" : "Generating reader tokens for the Verifier API",
          "url" : "https:\/\/developer.apple.com\/documentation\/ProximityReader\/generating-reader-tokens-for-the-verifier-api"
        },
        {
          "description" : "Read and verify mobile driver’s license information without any additional hardware.",
          "name" : "Checking IDs with the Verifier API",
          "url" : "https:\/\/developer.apple.com\/documentation\/ProximityReader\/checking-ids-with-the-verifier-api"
        },
        {
          "description" : "An object for configuring mobile document reading on the current device.",
          "name" : "MobileDocumentReader",
          "url" : "https:\/\/developer.apple.com\/documentation\/ProximityReader\/MobileDocumentReader"
        },
        {
          "description" : "The object you use to start reading a mobile document.",
          "name" : "MobileDocumentReaderSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ProximityReader\/MobileDocumentReaderSession"
        }
      ],
      "title" : "Mobile document reader"
    }
  ],
  "source" : "appleJSON",
  "title" : "Adopting the Verifier API in your iPhone app",
  "url" : "https:\/\/developer.apple.com\/documentation\/ProximityReader\/adopting-the-verifier-api-in-your-iphone-app"
}