{
  "abstract" : "Defer the system’s authorization request dialog until your app is ready.",
  "codeExamples" : [
    {
      "code" : "func doPromptingFlow() async {\n    await showHelloPrompt()\n\n    \/\/ Obtain a session. This causes Core Location to display the authorization prompt.\n    let session = CLServiceSession.session(authorization: .whenInUse)\n\n    \/\/ Wait for interaction with the prompot to complete (successfully or with denial).\n    for try await diagnostic in session.diagnostics {\n        if !diagnostic.authorizationRequestInProgress {\n            \/\/ A denial occurred.\n            break\n        }\n    }\n\n    await doFurtherWork()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "da4936b2a68e987eb78958f6c8f317ce119030f61bf90736ffd347ae3157605d",
  "crawledAt" : "2025-12-04T02:57:08Z",
  "id" : "EC54F816-B4B0-49AE-A4CF-249C16A47072",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core Location",
  "overview" : "## Overview\n\nIf your app has an onboarding flow that includes obtaining location updates, you may want to defer the Core Location’s request for authorization from the user. You can inhibit the auto-prompting in your app by creating a [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLServiceSession-pt7n] at a convenient time in your app, then iterating over its diagnostics property to determine the level of authorization the person using your app selects. The following code snippet demonstrates how to defer the prompting.\n\nAdd the `CLRequireExplicitServiceSession` property to your app’s Info.plist file to opt into this control behavior.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/corelocation\/suspending-authorization-requests\ncrawled: 2025-12-04T02:57:08Z\n---\n\n# Suspending authorization requests\n\n**Article**\n\nDefer the system’s authorization request dialog until your app is ready.\n\n## Overview\n\nIf your app has an onboarding flow that includes obtaining location updates, you may want to defer the Core Location’s request for authorization from the user. You can inhibit the auto-prompting in your app by creating a [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLServiceSession-pt7n] at a convenient time in your app, then iterating over its diagnostics property to determine the level of authorization the person using your app selects. The following code snippet demonstrates how to defer the prompting.\n\n```swift\nfunc doPromptingFlow() async {\n    await showHelloPrompt()\n\n    \/\/ Obtain a session. This causes Core Location to display the authorization prompt.\n    let session = CLServiceSession.session(authorization: .whenInUse)\n\n    \/\/ Wait for interaction with the prompot to complete (successfully or with denial).\n    for try await diagnostic in session.diagnostics {\n        if !diagnostic.authorizationRequestInProgress {\n            \/\/ A denial occurred.\n            break\n        }\n    }\n\n    await doFurtherWork()\n}\n```\n\nAdd the `CLRequireExplicitServiceSession` property to your app’s Info.plist file to opt into this control behavior.\n\n## Authorization\n\n- **Requesting authorization to use location services**: Obtain authorization to use location services and manage changes to your app’s authorization status.\n- **CLAuthorizationStatus**: Constants that indicate the app’s authorization to use location services.\n- **CLAccuracyAuthorization**: Constants that indicate the level of location accuracy the app has authorization to use.\n- **NSLocationAlwaysAndWhenInUseUsageDescription**: A message that tells people why the app is requesting access to their location information at all times.\n- **NSLocationWhenInUseUsageDescription**: A message that tells people why the app is requesting access to their location information while the app is running in the foreground.\n- **NSLocationUsageDescription**: A message that tells people why the app is requesting access to their location information.\n- **NSLocationDefaultAccuracyReduced**: A Boolean value that indicates whether the app requests reduced location accuracy by default.\n- **NSLocationAlwaysUsageDescription**: A message that tells people why the app is requesting access to their location at all times.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Obtain authorization to use location services and manage changes to your app’s authorization status.",
          "name" : "Requesting authorization to use location services",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/requesting-authorization-to-use-location-services"
        },
        {
          "description" : "Constants that indicate the app’s authorization to use location services.",
          "name" : "CLAuthorizationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLAuthorizationStatus"
        },
        {
          "description" : "Constants that indicate the level of location accuracy the app has authorization to use.",
          "name" : "CLAccuracyAuthorization",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLAccuracyAuthorization"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their location information at all times.",
          "name" : "NSLocationAlwaysAndWhenInUseUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSLocationAlwaysAndWhenInUseUsageDescription"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their location information while the app is running in the foreground.",
          "name" : "NSLocationWhenInUseUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSLocationWhenInUseUsageDescription"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their location information.",
          "name" : "NSLocationUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSLocationUsageDescription"
        },
        {
          "description" : "A Boolean value that indicates whether the app requests reduced location accuracy by default.",
          "name" : "NSLocationDefaultAccuracyReduced",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSLocationDefaultAccuracyReduced"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their location at all times.",
          "name" : "NSLocationAlwaysUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSLocationAlwaysUsageDescription"
        }
      ],
      "title" : "Authorization"
    }
  ],
  "source" : "appleJSON",
  "title" : "Suspending authorization requests",
  "url" : "https:\/\/developer.apple.com\/documentation\/corelocation\/suspending-authorization-requests"
}