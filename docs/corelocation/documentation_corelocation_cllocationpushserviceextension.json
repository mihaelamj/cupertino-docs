{
  "abstract" : "The interface you adopt in the type that acts as the main entry point for a Location Push Service Extension.",
  "codeExamples" : [

  ],
  "contentHash" : "9fb8e00dd8e8c7d1364cb6246bbb6a3b49b83721b252d42bb4b12ef1c5d6a3d1",
  "crawledAt" : "2025-12-01T09:11:26Z",
  "declaration" : {
    "code" : "protocol CLLocationPushServiceExtension : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "CE130148-66DA-464F-ABC1-02B186E383A4",
  "kind" : "protocol",
  "module" : "Core Location",
  "overview" : "## Overview\n\nA type that adopts the [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationPushServiceExtension] protocol acts as the entry point to a Location Push Service Extension. You use this type to respond to incoming location push notifications and perform app-specific tasks. For example, you use it to get someone’s current location and send it to your server.\n\nDon’t adopt this protocol in your own custom types. Instead, add a Location Push Service Extension target to your project and modify the type that Xcode provides. To start the delivery of location push notifications, call the [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationManager\/startMonitoringLocationPushes(completion:)] method to request a unique token from the device. Send that token to your server and use it to generate HTTP requests for APNs to deliver to the device.\n\nWhen the device receives a location push notification that your server generated, the system loads your app extension and calls its [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationPushServiceExtension\/didReceiveLocationPushPayload(_:completion:)] method. Use that method to configure a [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationManager] object and request the person’s current location. Collect the location, encrypt it, and send it back to your server using a custom connection.\n\nLocation Push Service Extensions aren’t supported in visionOS. If a compatible iPad or iPhone app contains an app extension of this type, the system doesn’t load it.\n\nFor more information about adding the extension to your app, see [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/creating-a-location-push-service-extension]. For information about how to generate push notifications from your server, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].",
  "platforms" : [
    "iOS",
    "iPadOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceExtension\ncrawled: 2025-12-01T09:11:26Z\n---\n\n# CLLocationPushServiceExtension\n\n**Protocol**\n\nThe interface you adopt in the type that acts as the main entry point for a Location Push Service Extension.\n\n## Declaration\n\n```swift\nprotocol CLLocationPushServiceExtension : NSObjectProtocol\n```\n\n## Overview\n\nA type that adopts the [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationPushServiceExtension] protocol acts as the entry point to a Location Push Service Extension. You use this type to respond to incoming location push notifications and perform app-specific tasks. For example, you use it to get someone’s current location and send it to your server.\n\nDon’t adopt this protocol in your own custom types. Instead, add a Location Push Service Extension target to your project and modify the type that Xcode provides. To start the delivery of location push notifications, call the [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationManager\/startMonitoringLocationPushes(completion:)] method to request a unique token from the device. Send that token to your server and use it to generate HTTP requests for APNs to deliver to the device.\n\nWhen the device receives a location push notification that your server generated, the system loads your app extension and calls its [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationPushServiceExtension\/didReceiveLocationPushPayload(_:completion:)] method. Use that method to configure a [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/CLLocationManager] object and request the person’s current location. Collect the location, encrypt it, and send it back to your server using a custom connection.\n\n\n\nLocation Push Service Extensions aren’t supported in visionOS. If a compatible iPad or iPhone app contains an app extension of this type, the system doesn’t load it.\n\nFor more information about adding the extension to your app, see [doc:\/\/com.apple.corelocation\/documentation\/CoreLocation\/creating-a-location-push-service-extension]. For information about how to generate push notifications from your server, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].\n\n## Getting the push notification payload\n\n- **didReceiveLocationPushPayload(_:completion:)**: Delivers a location push notification for your app extension to process.\n\n## Handling the extension termination\n\n- **serviceExtensionWillTerminate()**: Notifies your app extension that the system is about to terminate the extension because it’s taking too long to complete its task.\n\n## Location push service extension\n\n- **Location Push Service Extension**: An entitlement to enable a location-sharing app to query someone’s location in response to a push notification.\n- **CLLocationPushServiceError**: Error codes the location manager returns if starting to monitor for location push notifications fails.\n- **CLLocationPushServiceErrorDomain**: The domain for Location Push Service Extension errors.\n- **CLLocationPushServiceError.Code**: Error codes the location manager returns if starting to monitor for location push notifications fails.\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Delivers a location push notification for your app extension to process.",
          "name" : "didReceiveLocationPushPayload(_:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceExtension\/didReceiveLocationPushPayload(_:completion:)"
        }
      ],
      "title" : "Getting the push notification payload"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Notifies your app extension that the system is about to terminate the extension because it’s taking too long to complete its task.",
          "name" : "serviceExtensionWillTerminate()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceExtension\/serviceExtensionWillTerminate()"
        }
      ],
      "title" : "Handling the extension termination"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An entitlement to enable a location-sharing app to query someone’s location in response to a push notification.",
          "name" : "Location Push Service Extension",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.location.push"
        },
        {
          "description" : "Error codes the location manager returns if starting to monitor for location push notifications fails.",
          "name" : "CLLocationPushServiceError",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceError-swift.struct"
        },
        {
          "description" : "The domain for Location Push Service Extension errors.",
          "name" : "CLLocationPushServiceErrorDomain",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceErrorDomain"
        },
        {
          "description" : "Error codes the location manager returns if starting to monitor for location push notifications fails.",
          "name" : "CLLocationPushServiceError.Code",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceError-swift.struct\/Code"
        }
      ],
      "title" : "Location push service extension"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CLLocationPushServiceExtension",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreLocation\/CLLocationPushServiceExtension"
}