{
  "abstract" : "Notifies you when the session removes one or more nearby objects.",
  "codeExamples" : [
    {
      "code" : "func session(_ session: NISession, didRemove nearbyObjects: [NINearbyObject],\n        reason: NINearbyObject.RemovalReason) {\n\n    \/\/ Only retry if the peer timed out.\n    guard reason == .timeout else { return }\n\n    \/\/ The session runs with one accessory.\n    guard let peer = nearbyObjects.first else { return }\n\n    if shouldResume(peer) {\n        \/\/ Restart the session.\n        if let config = session.configuration {\n            session.run(config)\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "d89039b0567243b55909ec91ef5c0994e0a05e2897600dc3f0d2ca289c53a334",
  "crawledAt" : "2025-12-04T10:47:13Z",
  "declaration" : {
    "code" : "optional func session(_ session: NISession, didRemove nearbyObjects: [NINearbyObject], reason: NINearbyObject.RemovalReason)",
    "language" : "swift"
  },
  "id" : "D5AC3800-AF50-4758-B3A4-C257A91C1AB4",
  "kind" : "method",
  "language" : "swift",
  "module" : "Nearby Interaction",
  "overview" : "## Discussion\n\nThe session invokes this callback to notify an app when an interaction ended for the argument `reason`. After Nearby Interaction calls this function, the framework no longer calls [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didUpdate:)] for the argument `trackedObjects`.\n\n### Restart the Session on Timeout\n\nA peer may exceed the supported range for too long or a session may fail to start after the initial attempt. If the peer remains nearby or comes back within the supported range, an app may want to try again. To handle this situation, check for [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/RemovalReason\/timeout] in this callback and then restart the session. In the following code, the app implements a hypothetical `shouldResume(_:NINearbyObject)` function with app-specific logic that determinations whether to retry. The function may check how many times it’s retried and failed, whether an accessory indicated it stopped, and whether the existing configuration suffices unchanged. Then, the app calls [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NISession\/run(_:)] again on the session.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didRemove:reason:)\ncrawled: 2025-12-04T10:47:13Z\n---\n\n# session(_:didRemove:reason:)\n\n**Instance Method**\n\nNotifies you when the session removes one or more nearby objects.\n\n## Declaration\n\n```swift\noptional func session(_ session: NISession, didRemove nearbyObjects: [NINearbyObject], reason: NINearbyObject.RemovalReason)\n```\n\n## Parameters\n\n- **session**: The session that removed a tracked object or objects.\n- **nearbyObjects**: The tracked objects the session removed.\n- **reason**: The reason the session removed the objects.\n\n## Discussion\n\nThe session invokes this callback to notify an app when an interaction ended for the argument `reason`. After Nearby Interaction calls this function, the framework no longer calls [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didUpdate:)] for the argument `trackedObjects`.\n\n### Restart the Session on Timeout\n\nA peer may exceed the supported range for too long or a session may fail to start after the initial attempt. If the peer remains nearby or comes back within the supported range, an app may want to try again. To handle this situation, check for [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/RemovalReason\/timeout] in this callback and then restart the session. In the following code, the app implements a hypothetical `shouldResume(_:NINearbyObject)` function with app-specific logic that determinations whether to retry. The function may check how many times it’s retried and failed, whether an accessory indicated it stopped, and whether the existing configuration suffices unchanged. Then, the app calls [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NISession\/run(_:)] again on the session.\n\n```swift\nfunc session(_ session: NISession, didRemove nearbyObjects: [NINearbyObject],\n        reason: NINearbyObject.RemovalReason) {\n\n    \/\/ Only retry if the peer timed out.\n    guard reason == .timeout else { return }\n\n    \/\/ The session runs with one accessory.\n    guard let peer = nearbyObjects.first else { return }\n\n    if shouldResume(peer) {\n        \/\/ Restart the session.\n        if let config = session.configuration {\n            session.run(config)\n        }\n    }\n}\n```\n\n## Monitoring peers\n\n- **session(_:didUpdate:)**: Notifies you when the session updates nearby objects.\n- **session(_:didGenerateShareableConfigurationData:for:)**: Provides configuration data to share with a third-party accessory.\n- **NINearbyObject.RemovalReason**: The reason a session removed a nearby object.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Notifies you when the session updates nearby objects.",
          "name" : "session(_:didUpdate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didUpdate:)"
        },
        {
          "description" : "Provides configuration data to share with a third-party accessory.",
          "name" : "session(_:didGenerateShareableConfigurationData:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didGenerateShareableConfigurationData:for:)"
        },
        {
          "description" : "The reason a session removed a nearby object.",
          "name" : "NINearbyObject.RemovalReason",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NINearbyObject\/RemovalReason"
        }
      ],
      "title" : "Monitoring peers"
    }
  ],
  "source" : "appleJSON",
  "title" : "session(_:didRemove:reason:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didRemove:reason:)"
}