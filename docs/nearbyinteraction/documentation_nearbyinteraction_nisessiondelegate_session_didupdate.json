{
  "abstract" : "Notifies you when the session updates nearby objects.",
  "codeExamples" : [
    {
      "code" : "func session(_ session: NISession, didUpdate nearbyObjects: [NINearbyObject]) {\n    \/\/ Ensure there's a current peer token.\n    guard let peerToken = peerDiscoveryToken else {\n        fatalError(\"don't have peer token\")\n    }\n\n    \/\/ Find the right peer from session update.\n    guard let peerObj = nearbyObjects.first (where: { $0.discoveryToken == peerToken }) else {\n        return\n    }\n\n    \/\/ Retrieve the peer's distance, in meters.\n    if let distance = peerObj.distance {\n        \/\/ Compute peer object's distance.\n    }\n                \n    \/\/ Retrieve the peer's horizontal angle, in radians.\n    if let horizontalAngle = peerObj.horizontalAngle {\n        \/\/ Compute peer object's angle.\n    }\n\n    \/\/ Retrieve the peer's direction, in `simd_float3`.\n    if let direction = peerObj.direction {\n        \/\/ Compute peer object's direction.\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "6bbd740ad8f71b7e883f5c23ffd3c71cc6d1e585aabb68e74545244dcef17491",
  "crawledAt" : "2025-12-02T14:19:36Z",
  "declaration" : {
    "code" : "optional func session(_ session: NISession, didUpdate nearbyObjects: [NINearbyObject])",
    "language" : "swift"
  },
  "id" : "D50B741F-7E5D-4195-903A-50C421D760AC",
  "kind" : "method",
  "module" : "Nearby Interaction",
  "overview" : "## Discussion\n\nImplement this callback to receive new nearby object updates for the argument session.\n\nIn Swift, if a peer is out of range or line of sight, the delegate reads the [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/distance-676dm] and [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/direction-4qh5w] as `nil`. An app can monitor this state and guide a person into range as necessary. For more information, see [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/initiating-and-maintaining-a-session].\n\nIn Objective-C, if a peer is out of range or line of sight, the delegate reads the [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/distance-676dm] as [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObjectDistanceNotAvailable], and [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/direction-4qh5w] as [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObjectDirectionNotAvailable].\n\nAn app can monitor this state and guide the user into range as necessary. For more information, see [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/initiating-and-maintaining-a-session].\n\n### Provide feedback based on proximity\n\nApps can react to positional information in an interaction session to create spatial awareness. For example, an app can play audio, invoke haptics, or display visual feedback when a peer is nearby. The following code calls two functions: it calls `enableFunctionalityA` when the device achieves a 1.5-meter proximity to the peer device, and `enableFunctionalityB` when the device achieves a 3-meter proximity to the peer device.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didUpdate:)\ncrawled: 2025-12-02T14:19:36Z\n---\n\n# session(_:didUpdate:)\n\n**Instance Method**\n\nNotifies you when the session updates nearby objects.\n\n## Declaration\n\n```swift\noptional func session(_ session: NISession, didUpdate nearbyObjects: [NINearbyObject])\n```\n\n## Parameters\n\n- **session**: The session that updated.\n- **nearbyObjects**: The array of nearby objects that the session updated.\n\n## Discussion\n\nImplement this callback to receive new nearby object updates for the argument session.\n\nIn Swift, if a peer is out of range or line of sight, the delegate reads the [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/distance-676dm] and [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/direction-4qh5w] as `nil`. An app can monitor this state and guide a person into range as necessary. For more information, see [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/initiating-and-maintaining-a-session].\n\nIn Objective-C, if a peer is out of range or line of sight, the delegate reads the [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/distance-676dm] as [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObjectDistanceNotAvailable], and [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObject\/direction-4qh5w] as [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/NINearbyObjectDirectionNotAvailable].\n\nAn app can monitor this state and guide the user into range as necessary. For more information, see [doc:\/\/com.apple.nearbyinteraction\/documentation\/NearbyInteraction\/initiating-and-maintaining-a-session].\n\n### Provide feedback based on proximity\n\nApps can react to positional information in an interaction session to create spatial awareness. For example, an app can play audio, invoke haptics, or display visual feedback when a peer is nearby. The following code calls two functions: it calls `enableFunctionalityA` when the device achieves a 1.5-meter proximity to the peer device, and `enableFunctionalityB` when the device achieves a 3-meter proximity to the peer device.\n\n```swift\nfunc session(_ session: NISession, didUpdate nearbyObjects: [NINearbyObject]) {\n    \/\/ Ensure there's a current peer token.\n    guard let peerToken = peerDiscoveryToken else {\n        fatalError(\"don't have peer token\")\n    }\n\n    \/\/ Find the right peer from session update.\n    guard let peerObj = nearbyObjects.first (where: { $0.discoveryToken == peerToken }) else {\n        return\n    }\n\n    \/\/ Retrieve the peer's distance, in meters.\n    if let distance = peerObj.distance {\n        \/\/ Compute peer object's distance.\n    }\n                \n    \/\/ Retrieve the peer's horizontal angle, in radians.\n    if let horizontalAngle = peerObj.horizontalAngle {\n        \/\/ Compute peer object's angle.\n    }\n\n    \/\/ Retrieve the peer's direction, in `simd_float3`.\n    if let direction = peerObj.direction {\n        \/\/ Compute peer object's direction.\n    }\n}\n```\n\n## Monitoring peers\n\n- **session(_:didGenerateShareableConfigurationData:for:)**: Provides configuration data to share with a third-party accessory.\n- **session(_:didRemove:reason:)**: Notifies you when the session removes one or more nearby objects.\n- **NINearbyObject.RemovalReason**: The reason a session removed a nearby object.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provides configuration data to share with a third-party accessory.",
          "name" : "session(_:didGenerateShareableConfigurationData:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didGenerateShareableConfigurationData:for:)"
        },
        {
          "description" : "Notifies you when the session removes one or more nearby objects.",
          "name" : "session(_:didRemove:reason:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didRemove:reason:)"
        },
        {
          "description" : "The reason a session removed a nearby object.",
          "name" : "NINearbyObject.RemovalReason",
          "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NINearbyObject\/RemovalReason"
        }
      ],
      "title" : "Monitoring peers"
    }
  ],
  "source" : "appleJSON",
  "title" : "session(_:didUpdate:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NearbyInteraction\/NISessionDelegate\/session(_:didUpdate:)"
}