{
  "abstract" : "Declare the types of PushKit notifications your app supports and configure objects to respond to them.",
  "codeExamples" : [

  ],
  "contentHash" : "7d8d33b8e6a1b57643560dea8fbbdced61406038027d69b5d054bbebef5a3623",
  "crawledAt" : "2025-12-05T16:06:49Z",
  "id" : "B3D26085-33A1-449E-9CC3-F1997FBFBF78",
  "kind" : "article",
  "language" : "swift",
  "module" : "PushKit",
  "overview" : "## Overview\n\nYou must configure your app to handle PushKit-related notifications, and you must supply a server to generate those notifications. In your app, you tell PushKit what types of push notifications your app handles, and you write code to respond when a notification arrives. You use your server to generate the push notifications that your app receives. When a user initiates a call with your service, your server creates a push notification request for that call and sends it to Apple Push Notification service (APNs), which delivers that notification to the user’s device.\n\nFor information about how to set up a server to generate push notifications, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].\n\n### Enable Push Notification Support for Your App\n\nApps must have the proper entitlements to receive push notifications. To create these entitlements, [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/devdfd3d04a1] to your Xcode project. When you add this capability, Xcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/aps-environment] to your app and configures your App ID with the push notification service for development purposes.\n\n### Register Your App with PushKit at Launch Time\n\nThe system can’t deliver push notifications to your app until you create a [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry] object and specify the types of notifications you support. Typically, you create this object at launch time and store a reference to it for the duration of your app’s runtime. The following example shows how to create this object and configure it with the Voice-over-IP (VoIP) push type. During configuration, always specify a delegate object to receive notifications.\n\nAssigning a value to the [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry\/desiredPushTypes] property begins the registration process, so always update that property last. The server reports the success or failure of the registration process to your delegate object.\n\n### Send the Device Token to Your Server\n\nIn order to deliver notifications to a user device, your server must know the address of that device. PushKit provides the address to you in the form of a device token, which is an opaque data object. When you register your app’s supported push types, the [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry] object creates a [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushCredentials] object and delivers it to your delegate’s [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistryDelegate\/pushRegistry(_:didUpdate:for:)] method. The credentials object contains the device token for the current device.\n\nUpon receiving a device token, forward it to your server along with any other information you need to identify the user, such as their account unique identifier. To ensure the security of the user’s information, always encrypt the token and all user data before sending it over the network. On your server, store device tokens securely with the user’s other account details. Because users can run your app on multiple devices, be prepared to handle multiple tokens for each notification type your app supports.\n\nFor information about how to set up your server to handle push notifications, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].\n\n### Generate Push Notifications Using the Device Token\n\nWhen you have data to send to the user, generate an appropriate POST request and send it to APNs. A VoIP service generates a request each time it receives an incoming call for the user. An app with a complication might generate a request whenever it receives urgent updates for that complication.\n\nEach POST request contains a JSON payload with the data you want to send to the user. For most notification types, you may send up to 4 KB (4096 bytes) of data in your payload, but for VoIP notifications, the limit is 5 KB (5120 bytes). Include information in the payload that your app needs to respond. For example, include the new data you want your watchOS complication to display. If you cannot fit all of the data in the payload, your app can open a network connection and fetch any additional data it needs.\n\nFor information about how to construct and send POST requests to APNs, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/sending-notification-requests-to-apns]. For specific information on how to configure VoIP push notifications, see [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/responding-to-voip-notifications-from-pushkit].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/PushKit\/supporting-pushkit-notifications-in-your-app\ncrawled: 2025-12-05T16:06:49Z\n---\n\n# Supporting PushKit Notifications in Your App\n\n**Article**\n\nDeclare the types of PushKit notifications your app supports and configure objects to respond to them.\n\n## Overview\n\nYou must configure your app to handle PushKit-related notifications, and you must supply a server to generate those notifications. In your app, you tell PushKit what types of push notifications your app handles, and you write code to respond when a notification arrives. You use your server to generate the push notifications that your app receives. When a user initiates a call with your service, your server creates a push notification request for that call and sends it to Apple Push Notification service (APNs), which delivers that notification to the user’s device.\n\nFor information about how to set up a server to generate push notifications, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].\n\n### Enable Push Notification Support for Your App\n\nApps must have the proper entitlements to receive push notifications. To create these entitlements, [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/devdfd3d04a1] to your Xcode project. When you add this capability, Xcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/aps-environment] to your app and configures your App ID with the push notification service for development purposes.\n\n\n\n### Register Your App with PushKit at Launch Time\n\nThe system can’t deliver push notifications to your app until you create a [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry] object and specify the types of notifications you support. Typically, you create this object at launch time and store a reference to it for the duration of your app’s runtime. The following example shows how to create this object and configure it with the Voice-over-IP (VoIP) push type. During configuration, always specify a delegate object to receive notifications.\n\n\n\nAssigning a value to the [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry\/desiredPushTypes] property begins the registration process, so always update that property last. The server reports the success or failure of the registration process to your delegate object.\n\n### Send the Device Token to Your Server\n\nIn order to deliver notifications to a user device, your server must know the address of that device. PushKit provides the address to you in the form of a device token, which is an opaque data object. When you register your app’s supported push types, the [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistry] object creates a [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushCredentials] object and delivers it to your delegate’s [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/PKPushRegistryDelegate\/pushRegistry(_:didUpdate:for:)] method. The credentials object contains the device token for the current device.\n\nUpon receiving a device token, forward it to your server along with any other information you need to identify the user, such as their account unique identifier. To ensure the security of the user’s information, always encrypt the token and all user data before sending it over the network. On your server, store device tokens securely with the user’s other account details. Because users can run your app on multiple devices, be prepared to handle multiple tokens for each notification type your app supports.\n\nFor information about how to set up your server to handle push notifications, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/setting-up-a-remote-notification-server].\n\n### Generate Push Notifications Using the Device Token\n\nWhen you have data to send to the user, generate an appropriate POST request and send it to APNs. A VoIP service generates a request each time it receives an incoming call for the user. An app with a complication might generate a request whenever it receives urgent updates for that complication.\n\nEach POST request contains a JSON payload with the data you want to send to the user. For most notification types, you may send up to 4 KB (4096 bytes) of data in your payload, but for VoIP notifications, the limit is 5 KB (5120 bytes). Include information in the payload that your app needs to respond. For example, include the new data you want your watchOS complication to display. If you cannot fit all of the data in the payload, your app can open a network connection and fetch any additional data it needs.\n\nFor information about how to construct and send POST requests to APNs, see [doc:\/\/com.apple.documentation\/documentation\/UserNotifications\/sending-notification-requests-to-apns]. For specific information on how to configure VoIP push notifications, see [doc:\/\/com.apple.pushkit\/documentation\/PushKit\/responding-to-voip-notifications-from-pushkit].\n\n## Registration\n\n- **PKPushRegistry**: An object that requests the delivery and handles the receipt of PushKit notifications.\n- **PKPushRegistryDelegate**: The methods that you use to handle incoming PushKit notifications and registration events.\n- **PKPushCredentials**: An object that encapsulates the device token you use to deliver push notifications to your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that requests the delivery and handles the receipt of PushKit notifications.",
          "name" : "PKPushRegistry",
          "url" : "https:\/\/developer.apple.com\/documentation\/PushKit\/PKPushRegistry"
        },
        {
          "description" : "The methods that you use to handle incoming PushKit notifications and registration events.",
          "name" : "PKPushRegistryDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/PushKit\/PKPushRegistryDelegate"
        },
        {
          "description" : "An object that encapsulates the device token you use to deliver push notifications to your app.",
          "name" : "PKPushCredentials",
          "url" : "https:\/\/developer.apple.com\/documentation\/PushKit\/PKPushCredentials"
        }
      ],
      "title" : "Registration"
    }
  ],
  "source" : "appleJSON",
  "title" : "Supporting PushKit Notifications in Your App",
  "url" : "https:\/\/developer.apple.com\/documentation\/PushKit\/supporting-pushkit-notifications-in-your-app"
}