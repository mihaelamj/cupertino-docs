{
  "abstract" : "Let users choose the music they want to play by displaying a media picker interface from within your app.",
  "codeExamples" : [
    {
      "code" : "class ViewController: UIViewController, MPMediaPickerControllerDelegate {\n    ...\n}",
      "language" : "swift"
    },
    {
      "code" : "@IBAction func selectSongs(_ sender: UIButton) {\n    let controller = MPMediaPickerController(mediaTypes: .music)\n    controller.allowsPickingMultipleItems = true\n    controller.popoverPresentationController?.sourceView = sender\n    controller.delegate = self\n    present(controller, animated: true)\n}",
      "language" : "swift"
    },
    {
      "code" : "func mediaPicker(_ mediaPicker: MPMediaPickerController,\n                 didPickMediaItems mediaItemCollection: MPMediaItemCollection) {\n    \/\/ Get the system music player.\n    let musicPlayer = MPMusicPlayerController.systemMusicPlayer\n    musicPlayer.setQueue(with: mediaItemCollection)\n    mediaPicker.dismiss(animated: true)\n    \/\/ Begin playback.\n    musicPlayer.play()\n}\n\nfunc mediaPickerDidCancel(_ mediaPicker: MPMediaPickerController) {\n    mediaPicker.dismiss(animated: true)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "73d57bf2eac3446fb8bc9a7364a54b079bea3079c2654fff089a9af0045d6eb4",
  "crawledAt" : "2025-12-03T04:40:51Z",
  "id" : "2C69E24F-70A3-443E-A33D-4ADF50DF8B43",
  "kind" : "article",
  "language" : "swift",
  "module" : "Media Player",
  "overview" : "## Overview\n\nAdd a media picker view controller to your app to enable users to choose music items from their Apple Music library without leaving your app. You can configure the media picker to accept single or multiple items from the user.\n\n### Adopt the Protocol, and Create the System Music Player\n\nTo enable your app to respond to user input, adopt the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate] protocol.\n\n### Add the media picker view controller\n\nSet the media picker view controller as a popover presentation controller when you target an iPad. Set the source view and delegate, and present the media picker. In this example, the media picker allows the user to select multiple items, and the source view is a button object.\n\n### Add a select music button, and target the previously created function\n\nTo create a button that gives the user access to their Apple Music library from within your app:\n\n\n\nThe Select Songs button is the source view for the media picker that the view controller presents modally. The media picker displays the user’s Apple Music library, which allows them to choose the music they want to play.\n\n### Implement the protocol methods\n\nImplement two methods from the `MPMediaPickerControllerDelegate` protocol: [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate\/mediaPicker(_:didPickMediaItems:)] and [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate\/mediaPickerDidCancel(_:)]. Inside these methods, add code to handle the user’s choice of items to create a music queue, and code to dismiss the view controller. The following code shows how to set the music player queue, begin playing the user’s choices, and dismiss the view controller if the user doesn’t choose any media items:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MediaPlayer\/displaying-a-media-picker-from-your-app\ncrawled: 2025-12-03T04:40:51Z\n---\n\n# Displaying a media picker from your app\n\n**Article**\n\nLet users choose the music they want to play by displaying a media picker interface from within your app.\n\n## Overview\n\nAdd a media picker view controller to your app to enable users to choose music items from their Apple Music library without leaving your app. You can configure the media picker to accept single or multiple items from the user.\n\n\n\n### Adopt the Protocol, and Create the System Music Player\n\nTo enable your app to respond to user input, adopt the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate] protocol.\n\n```swift\nclass ViewController: UIViewController, MPMediaPickerControllerDelegate {\n    ...\n}\n```\n\n### Add the media picker view controller\n\nSet the media picker view controller as a popover presentation controller when you target an iPad. Set the source view and delegate, and present the media picker. In this example, the media picker allows the user to select multiple items, and the source view is a button object.\n\n```swift\n@IBAction func selectSongs(_ sender: UIButton) {\n    let controller = MPMediaPickerController(mediaTypes: .music)\n    controller.allowsPickingMultipleItems = true\n    controller.popoverPresentationController?.sourceView = sender\n    controller.delegate = self\n    present(controller, animated: true)\n}\n```\n\n### Add a select music button, and target the previously created function\n\nTo create a button that gives the user access to their Apple Music library from within your app:\n\n1. Add a [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIButton] object, and name it Select Songs.\n2. Attach restraints to center the button in the display.\n3. Control-drag from the new button object to View Controller in the Outline view, and select `selectSongs:` from the menu that appears.\n\n\n\nThe Select Songs button is the source view for the media picker that the view controller presents modally. The media picker displays the user’s Apple Music library, which allows them to choose the music they want to play.\n\n### Implement the protocol methods\n\nImplement two methods from the `MPMediaPickerControllerDelegate` protocol: [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate\/mediaPicker(_:didPickMediaItems:)] and [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaPickerControllerDelegate\/mediaPickerDidCancel(_:)]. Inside these methods, add code to handle the user’s choice of items to create a music queue, and code to dismiss the view controller. The following code shows how to set the music player queue, begin playing the user’s choices, and dismiss the view controller if the user doesn’t choose any media items:\n\n```swift\nfunc mediaPicker(_ mediaPicker: MPMediaPickerController,\n                 didPickMediaItems mediaItemCollection: MPMediaItemCollection) {\n    \/\/ Get the system music player.\n    let musicPlayer = MPMusicPlayerController.systemMusicPlayer\n    musicPlayer.setQueue(with: mediaItemCollection)\n    mediaPicker.dismiss(animated: true)\n    \/\/ Begin playback.\n    musicPlayer.play()\n}\n\nfunc mediaPickerDidCancel(_ mediaPicker: MPMediaPickerController) {\n    mediaPicker.dismiss(animated: true)\n}\n```\n\n## Related Documentation\n\n- **Playing audio using the built-in music player**: Create a media player inside your app to play audio from the user’s media library.\n\n## Media player user interface\n\n- **MPMediaPickerController**: A specialized view controller that provides a graphical interface for selecting media items.\n- **MPVolumeView**: A slider control for setting the system audio output volume, and a button for choosing the audio output route.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create a media player inside your app to play audio from the user’s media library.",
          "name" : "Playing audio using the built-in music player",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/playing-audio-using-the-built-in-music-player"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A specialized view controller that provides a graphical interface for selecting media items.",
          "name" : "MPMediaPickerController",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaPickerController"
        },
        {
          "description" : "A slider control for setting the system audio output volume, and a button for choosing the audio output route.",
          "name" : "MPVolumeView",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPVolumeView"
        }
      ],
      "title" : "Media player user interface"
    }
  ],
  "source" : "appleJSON",
  "title" : "Displaying a media picker from your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/displaying-a-media-picker-from-your-app"
}