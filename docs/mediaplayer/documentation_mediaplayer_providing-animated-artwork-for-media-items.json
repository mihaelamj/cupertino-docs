{
  "abstract" : "Display animated artwork for your app’s media in system views, such as the lock screen, by providing video assets through your now playing info.",
  "codeExamples" : [
    {
      "code" : "MPNowPlayingInfoCenter.default().nowPlayingInfo = [\n    \/\/ Existing media item metadata.\n    MPMediaItemPropertyTitle: songTitle,\n    MPMediaItemPropertyAlbumTitle: albumTitle,\n    \/\/ ... other keys.\n\n    \/\/ Animated artwork keys.\n    MPNowPlayingInfoProperty1x1AnimatedArtwork: squareAnimatedArtwork,\n    MPNowPlayingInfoProperty3x4AnimatedArtwork: tallAnimatedArtwork,\n]",
      "language" : "swift"
    },
    {
      "code" : "let availableKeys = MPNowPlayingInfoCenter.supportedAnimatedArtworkKeys\nlet squareArtworkSupported = availableKeys.contains(MPNowPlayingInfoProperty1x1AnimatedArtwork)\nlet tallArtworkSupported = availableKeys.contains(MPNowPlayingInfoProperty3x4AnimatedArtwork)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Call when `currentSong` changes.\nfunc updateInfoCenter() {\n    let currentSong = self.currentSong\n\n    let squareAnimatedArtwork = MPMediaItemAnimatedArtwork(\n        artworkID: currentSong.artworkID,\n        previewImageRequestHandler: { _ in\n            \/\/ When possible, have the preview image available synchronously when building the\n            \/\/ `MPMediaItemAnimatedArtwork`.\n            currentSong.squareAnimatedArtwork.previewFrame\n        },\n        videoAssetFileURLRequestHandler: { _ in\n            do {\n                \/\/ Retrieve the video asset on demand, saving it locally and providing a local\n                \/\/ file URL.\n                let assetFileURL = Self.videoAssetStorage.makeAssetFileURL()\n                try await currentSong.squareAnimatedArtwork.fetchVideo(destination: assetFileURL)\n                return assetFileURL\n            } catch {\n                \/\/ If you’re unable to provide the video asset, return `nil`.\n                return nil\n            }\n        }\n    )\n\n    MPNowPlayingInfoCenter.default().nowPlayingInfo = [\n        MPNowPlayingInfoProperty1x1AnimatedArtwork: squareAnimatedArtwork,\n        \/\/ ... other keys.\n    ]\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "d2ba0d28bcedd6ecfb64b3a77f41eb4501506f8514d016b02feb85f86193aba0",
  "crawledAt" : "2025-12-03T04:40:45Z",
  "id" : "D9534C8A-C3D7-4C19-B8F6-7CDDFDF44A9A",
  "kind" : "article",
  "language" : "swift",
  "module" : "Media Player",
  "overview" : "## Overview\n\nIf your app provides media with static artwork (such as music with associated album artwork), you can augment your media with additional expressive animated artwork that the system may display in place of the static artwork. Use animated artwork to highlight unique aspects of your content and provide a more immersive experience for people who use your app. To make your content more appealing, aim to provide animated artwork that functions as an extension of your static artwork, such as an animated variant of your existing static album artwork.\n\n## Provide animated artwork\n\nAnimated artwork consists of a video asset for the animated artwork itself and a static preview image which should ideally match the first frame of the video. The system displays the preview image while loading the video into the view, or under certain device conditions, including when:\n\nProvide animated artwork alongside existing media item metadata through [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter]. Use the key appropriate for the aspect ratio of your animated artwork within [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo]:\n\nProvide animated artwork for either, neither, or both of these keys, depending on the available formats for your media. Depending on the current platform, the system only uses certain variants of animated artwork. Query [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/supportedAnimatedArtworkKeys] to fetch the animated artwork keys that are relevant for the current platform. The system ignores any animated artwork you provide to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo] for a key not in this collection.\n\n## Construct animated artwork\n\nFor each animated artwork variant you want to provide, include an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] instance keyed by the relevant animated artwork key in the now playing info you set to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo].  Each [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] describes the animated artwork content for a single variant. Initialize an instance with an `artworkID` (uniquely identifying the artwork for the associated variant), and request handlers for the preview image and video asset (`previewImageRequestHandler` and `videoAssetFileURLRequestHandler`, respectively).\n\nThe system uses the `artworkID` to detect changes in the provided animated artwork. When you need to change your animated artwork, provide a new [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo] with an updated `artworkID`. This prompts the system to re-request the preview image and video asset, if required. Aim to use the same `artworkID` between media items if the animated artwork doesn’t change; for example, the album artwork for songs within an album is constant.\n\n## Return animated artwork assets\n\nWhen the system requires a preview image, it uses the `previewImageRequestHandler` for the currently-provided [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] (for the required animated artwork variant). It passes the dimensions of the requested image to this handler; however, you can return an image of any size as long as the aspect ratio is appropriate for the associated animated artwork key. You can use the requested size if you require this information in order to provide the resulting preview image.\n\nSimilarly, when the system requires the video asset, it uses the `videoAssetFileURLRequestHandler` for the relevant [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork]. The same considerations around the requested pixel dimensions passed to this handler apply: you can provide a video of any size as long as it matches the aspect ratio of the associated animated artwork key. As part of your handler, return a local file URL for the artwork video. The system doesn’t support remote or streaming URLs.\n\nProvide preview images from your `previewImageRequestHandler` quickly, and ideally synchronously. If you provide an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] as part of your now playing info but fail to provide a preview image in a timely manner when requested, the system may fallback to displaying the static artwork while it waits for the preview image to become available. Conversely, you can require additional time to return your video assets from your `videoAssetFileURLRequestHandler`. For example, you can download the required video over the network, when requested, before returning a local file URL to the resulting on-disk asset. The system displays the preview image during this time. Avoid excessive latency when you return this local file URL, as the system may timeout the request after 30 seconds.\n\nEnsure any local file URLs you return from a `videoAssetFileURLRequestHandler` remain valid for as long as the associated [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] is part of your now playing info. You can invalidate these URLs — for example, when you need to delete the associated asset — when you replace (or remove) the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] in your now playing info. If you later provide an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] with an `artworkID` that’s identical to one you provided previously, you don’t need to provide the same assets, as the system re-requests them.\n\n## Follow asset recommendations\n\nEnsure the aspect ratio of any preview images or video assets you provide matches the aspect ratio indicated by the animated artwork key you associate the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] with. Avoid high frame rate video (greater than 60 fps), as the system may not display your animated artwork. The system doesn’t impose a technical limitation on the file size of the video assets you provide, and it supports any local asset playable by an `AVPlayerLayer`.\n\nFor videos, the system prefers a short (less than 30 second) clip that loops seamlessly. Avoid a noticeable jump or fade effect when the video repeats. Make your videos complementary to any existing static artwork you provide, and avoid providing video content unrelated to the playing media item.\n\nThe system only requests the preview image and video asset when someone is viewing the animated artwork. Avoid performing expensive network requests for video assets in advance, as the system may ultimately not request the asset. The system doesn’t cache assets between different `artworkID`s. To prevent unnecessary downloads if you want to display the same artwork again, consider caching your video assets locally.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MediaPlayer\/providing-animated-artwork-for-media-items\ncrawled: 2025-12-03T04:40:45Z\n---\n\n# Providing animated artwork for media items\n\n**Article**\n\nDisplay animated artwork for your app’s media in system views, such as the lock screen, by providing video assets through your now playing info.\n\n## Overview\n\nIf your app provides media with static artwork (such as music with associated album artwork), you can augment your media with additional expressive animated artwork that the system may display in place of the static artwork. Use animated artwork to highlight unique aspects of your content and provide a more immersive experience for people who use your app. To make your content more appealing, aim to provide animated artwork that functions as an extension of your static artwork, such as an animated variant of your existing static album artwork.\n\n## Provide animated artwork\n\nAnimated artwork consists of a video asset for the animated artwork itself and a static preview image which should ideally match the first frame of the video. The system displays the preview image while loading the video into the view, or under certain device conditions, including when:\n\n- the device is in low-power mode\n- the device is in low-data mode\n- the device’s thermal level is too high\n- a person turns on the Reduce Motion setting in Settings > Accessibility > Motion\n- a person turns off the Auto-Play Animated Images setting in Settings > Accessibility > Motion\n\nProvide animated artwork alongside existing media item metadata through [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter]. Use the key appropriate for the aspect ratio of your animated artwork within [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo]:\n\n\n\n```swift\nMPNowPlayingInfoCenter.default().nowPlayingInfo = [\n    \/\/ Existing media item metadata.\n    MPMediaItemPropertyTitle: songTitle,\n    MPMediaItemPropertyAlbumTitle: albumTitle,\n    \/\/ ... other keys.\n\n    \/\/ Animated artwork keys.\n    MPNowPlayingInfoProperty1x1AnimatedArtwork: squareAnimatedArtwork,\n    MPNowPlayingInfoProperty3x4AnimatedArtwork: tallAnimatedArtwork,\n]\n```\n\nProvide animated artwork for either, neither, or both of these keys, depending on the available formats for your media. Depending on the current platform, the system only uses certain variants of animated artwork. Query [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/supportedAnimatedArtworkKeys] to fetch the animated artwork keys that are relevant for the current platform. The system ignores any animated artwork you provide to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo] for a key not in this collection.\n\n```swift\nlet availableKeys = MPNowPlayingInfoCenter.supportedAnimatedArtworkKeys\nlet squareArtworkSupported = availableKeys.contains(MPNowPlayingInfoProperty1x1AnimatedArtwork)\nlet tallArtworkSupported = availableKeys.contains(MPNowPlayingInfoProperty3x4AnimatedArtwork)\n```\n\n## Construct animated artwork\n\nFor each animated artwork variant you want to provide, include an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] instance keyed by the relevant animated artwork key in the now playing info you set to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo].  Each [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] describes the animated artwork content for a single variant. Initialize an instance with an `artworkID` (uniquely identifying the artwork for the associated variant), and request handlers for the preview image and video asset (`previewImageRequestHandler` and `videoAssetFileURLRequestHandler`, respectively).\n\nThe system uses the `artworkID` to detect changes in the provided animated artwork. When you need to change your animated artwork, provide a new [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] to [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter\/nowPlayingInfo] with an updated `artworkID`. This prompts the system to re-request the preview image and video asset, if required. Aim to use the same `artworkID` between media items if the animated artwork doesn’t change; for example, the album artwork for songs within an album is constant.\n\n## Return animated artwork assets\n\nWhen the system requires a preview image, it uses the `previewImageRequestHandler` for the currently-provided [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] (for the required animated artwork variant). It passes the dimensions of the requested image to this handler; however, you can return an image of any size as long as the aspect ratio is appropriate for the associated animated artwork key. You can use the requested size if you require this information in order to provide the resulting preview image.\n\n\n\nSimilarly, when the system requires the video asset, it uses the `videoAssetFileURLRequestHandler` for the relevant [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork]. The same considerations around the requested pixel dimensions passed to this handler apply: you can provide a video of any size as long as it matches the aspect ratio of the associated animated artwork key. As part of your handler, return a local file URL for the artwork video. The system doesn’t support remote or streaming URLs.\n\nProvide preview images from your `previewImageRequestHandler` quickly, and ideally synchronously. If you provide an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] as part of your now playing info but fail to provide a preview image in a timely manner when requested, the system may fallback to displaying the static artwork while it waits for the preview image to become available. Conversely, you can require additional time to return your video assets from your `videoAssetFileURLRequestHandler`. For example, you can download the required video over the network, when requested, before returning a local file URL to the resulting on-disk asset. The system displays the preview image during this time. Avoid excessive latency when you return this local file URL, as the system may timeout the request after 30 seconds.\n\n```swift\n\/\/ Call when `currentSong` changes.\nfunc updateInfoCenter() {\n    let currentSong = self.currentSong\n\n    let squareAnimatedArtwork = MPMediaItemAnimatedArtwork(\n        artworkID: currentSong.artworkID,\n        previewImageRequestHandler: { _ in\n            \/\/ When possible, have the preview image available synchronously when building the\n            \/\/ `MPMediaItemAnimatedArtwork`.\n            currentSong.squareAnimatedArtwork.previewFrame\n        },\n        videoAssetFileURLRequestHandler: { _ in\n            do {\n                \/\/ Retrieve the video asset on demand, saving it locally and providing a local\n                \/\/ file URL.\n                let assetFileURL = Self.videoAssetStorage.makeAssetFileURL()\n                try await currentSong.squareAnimatedArtwork.fetchVideo(destination: assetFileURL)\n                return assetFileURL\n            } catch {\n                \/\/ If you’re unable to provide the video asset, return `nil`.\n                return nil\n            }\n        }\n    )\n\n    MPNowPlayingInfoCenter.default().nowPlayingInfo = [\n        MPNowPlayingInfoProperty1x1AnimatedArtwork: squareAnimatedArtwork,\n        \/\/ ... other keys.\n    ]\n}\n```\n\nEnsure any local file URLs you return from a `videoAssetFileURLRequestHandler` remain valid for as long as the associated [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] is part of your now playing info. You can invalidate these URLs — for example, when you need to delete the associated asset — when you replace (or remove) the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] in your now playing info. If you later provide an [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] with an `artworkID` that’s identical to one you provided previously, you don’t need to provide the same assets, as the system re-requests them.\n\n## Follow asset recommendations\n\nEnsure the aspect ratio of any preview images or video assets you provide matches the aspect ratio indicated by the animated artwork key you associate the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork] with. Avoid high frame rate video (greater than 60 fps), as the system may not display your animated artwork. The system doesn’t impose a technical limitation on the file size of the video assets you provide, and it supports any local asset playable by an `AVPlayerLayer`.\n\nFor videos, the system prefers a short (less than 30 second) clip that loops seamlessly. Avoid a noticeable jump or fade effect when the video repeats. Make your videos complementary to any existing static artwork you provide, and avoid providing video content unrelated to the playing media item.\n\nThe system only requests the preview image and video asset when someone is viewing the animated artwork. Avoid performing expensive network requests for video assets in advance, as the system may ultimately not request the asset. The system doesn’t cache assets between different `artworkID`s. To prevent unnecessary downloads if you want to display the same artwork again, consider caching your video assets locally.\n\n## Media items and playlists\n\n- **MPMediaItem**: A collection of properties that represents a single item in the media library.\n- **MPMediaItemArtwork**: A graphical image, such as music album cover art, associated with a media item.\n- **MPMediaItemAnimatedArtwork**: An animated image, such as an animated music album cover art, for a media item.\n- **MPMediaItemCollection**: A sorted set of media items from the media library.\n- **MPMediaPlaylist**: A playable collection of related media items.\n- **MPMediaPlaylistCreationMetadata**: A set of attributes for describing a playlist when creating it.\n- **MPMediaEntity**: The abstract superclass for media items, media item collections, and media playlist instances.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A collection of properties that represents a single item in the media library.",
          "name" : "MPMediaItem",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaItem"
        },
        {
          "description" : "A graphical image, such as music album cover art, associated with a media item.",
          "name" : "MPMediaItemArtwork",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaItemArtwork"
        },
        {
          "description" : "An animated image, such as an animated music album cover art, for a media item.",
          "name" : "MPMediaItemAnimatedArtwork",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaItemAnimatedArtwork"
        },
        {
          "description" : "A sorted set of media items from the media library.",
          "name" : "MPMediaItemCollection",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaItemCollection"
        },
        {
          "description" : "A playable collection of related media items.",
          "name" : "MPMediaPlaylist",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaPlaylist"
        },
        {
          "description" : "A set of attributes for describing a playlist when creating it.",
          "name" : "MPMediaPlaylistCreationMetadata",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaPlaylistCreationMetadata"
        },
        {
          "description" : "The abstract superclass for media items, media item collections, and media playlist instances.",
          "name" : "MPMediaEntity",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMediaEntity"
        }
      ],
      "title" : "Media items and playlists"
    }
  ],
  "source" : "appleJSON",
  "title" : "Providing animated artwork for media items",
  "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/providing-animated-artwork-for-media-items"
}