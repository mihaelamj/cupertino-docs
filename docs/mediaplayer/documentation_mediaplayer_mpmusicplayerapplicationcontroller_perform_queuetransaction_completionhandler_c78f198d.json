{
  "abstract" : "Changes the contents of the media items in the queue.",
  "codeExamples" : [

  ],
  "contentHash" : "a10836b19250e246385b700b19f455c83a40bb558ec817ad5f9402c76ade659d",
  "crawledAt" : "2025-12-04T09:31:49Z",
  "declaration" : {
    "code" : "func perform(queueTransaction: @escaping (MPMusicPlayerControllerMutableQueue) -> Void, completionHandler: @escaping (MPMusicPlayerControllerQueue, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "E90E7117-EC58-4E66-B149-7A5C6E869A74",
  "kind" : "method",
  "language" : "swift",
  "module" : "Media Player",
  "overview" : "## Discussion\n\nPerform all of your queue modifications inside of the queue transition block. After the system modifies the queue inside of the queue transition block, it returns the new queue from the completion handler after the user accepts the new queue. Don’t access the completion handler’s queue outside of the completion handler.\n\nIf you modify the queue outside of the completion handler, register for the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMusicPlayerControllerQueueDidChangeNotification] notification and ensure your app responds accordingly.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMusicPlayerApplicationController\/perform(queueTransaction:completionHandler:)\ncrawled: 2025-12-04T09:31:49Z\n---\n\n# perform(queueTransaction:completionHandler:)\n\n**Instance Method**\n\nChanges the contents of the media items in the queue.\n\n## Declaration\n\n```swift\nfunc perform(queueTransaction: @escaping (MPMusicPlayerControllerMutableQueue) -> Void, completionHandler: @escaping (MPMusicPlayerControllerQueue, (any Error)?) -> Void)\n```\n\n```swift\nfunc perform(queueTransaction: @escaping (MPMusicPlayerControllerMutableQueue) -> Void) async throws -> MPMusicPlayerControllerQueue\n```\n\n## Parameters\n\n- **queueTransaction**: A block that the system calls while it creates the queue.\n\n\n- **completionHandler**: A block that the system calls after the user accepts the new queue.\n\n\n\n## Discussion\n\nPerform all of your queue modifications inside of the queue transition block. After the system modifies the queue inside of the queue transition block, it returns the new queue from the completion handler after the user accepts the new queue. Don’t access the completion handler’s queue outside of the completion handler.\n\nIf you modify the queue outside of the completion handler, register for the [doc:\/\/com.apple.mediaplayer\/documentation\/MediaPlayer\/MPMusicPlayerControllerQueueDidChangeNotification] notification and ensure your app responds accordingly.\n\n## Changing the queue contents\n\n- **MPMusicPlayerControllerQueueDidChange**: Indicates the music player’s queue changed.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicates the music player’s queue changed.",
          "name" : "MPMusicPlayerControllerQueueDidChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/MPMusicPlayerControllerQueueDidChange"
        }
      ],
      "title" : "Changing the queue contents"
    }
  ],
  "source" : "appleJSON",
  "title" : "perform(queueTransaction:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/MediaPlayer\/MPMusicPlayerApplicationController\/perform(queueTransaction:completionHandler:)"
}