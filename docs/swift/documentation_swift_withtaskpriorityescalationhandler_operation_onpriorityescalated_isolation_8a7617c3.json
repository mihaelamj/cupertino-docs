{
  "abstract" : "Runs the passed `operation` while registering a task priority escalation handler. The handler will be triggered concurrently to the current task if the current is subject to priority escalation.",
  "codeExamples" : [

  ],
  "contentHash" : "e17f54bb481096d54152184a3a136f510781ca758ff5968ffe4f983b491ae4d5",
  "crawledAt" : "2025-12-02T21:36:20Z",
  "declaration" : {
    "code" : "func withTaskPriorityEscalationHandler<T, E>(operation: () async throws(E) -> T, onPriorityEscalated handler: (TaskPriority, TaskPriority) -> Void, isolation: isolated (any Actor)? = #isolation) async throws(E) -> T where E : Error",
    "language" : "swift"
  },
  "id" : "FDC3761C-887C-44A5-B271-0CBF93AB3EB6",
  "kind" : "function",
  "language" : "swift",
  "module" : "Swift",
  "overview" : "## Return Value\n\nThe value returned by `operation`\n\n## Discussion\n\nThe handler may perform additional actions upon priority escalation, but cannot influence how the escalation influences the task, i.e. the task’s priority will be escalated regardless of actions performed in the handler.\n\nThe handler will only trigger if a priority escalation occurs while the operation is in progress.\n\nIf multiple task escalation handlers are nester they will all be triggered.\n\nTask escalation propagates through structured concurrency child-tasks.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Swift\/withTaskPriorityEscalationHandler(operation:onPriorityEscalated:isolation:)\ncrawled: 2025-12-02T21:36:20Z\n---\n\n# withTaskPriorityEscalationHandler(operation:onPriorityEscalated:isolation:)\n\n**Function**\n\nRuns the passed `operation` while registering a task priority escalation handler. The handler will be triggered concurrently to the current task if the current is subject to priority escalation.\n\n## Declaration\n\n```swift\nfunc withTaskPriorityEscalationHandler<T, E>(operation: () async throws(E) -> T, onPriorityEscalated handler: (TaskPriority, TaskPriority) -> Void, isolation: isolated (any Actor)? = #isolation) async throws(E) -> T where E : Error\n```\n\n## Parameters\n\n- **operation**: The operation during which to listen for priority escalation\n- **handler**: Handler to invoke, concurrently to `operation`, when priority escalation happens\n\n## Return Value\n\nThe value returned by `operation`\n\n## Discussion\n\nThe handler may perform additional actions upon priority escalation, but cannot influence how the escalation influences the task, i.e. the task’s priority will be escalated regardless of actions performed in the handler.\n\nThe handler will only trigger if a priority escalation occurs while the operation is in progress.\n\nIf multiple task escalation handlers are nester they will all be triggered.\n\nTask escalation propagates through structured concurrency child-tasks.\n\n\n\n## Creating a Task\n\n- **init(name:priority:operation:)**: Runs the given nonthrowing operation asynchronously as part of a new *unstructured* top-level task.\n- **init(name:priority:operation:)**: Runs the given throwing operation asynchronously as part of a new *unstructured* top-level task.\n- **init(name:executorPreference:priority:operation:)**: Runs the given throwing operation asynchronously as part of a new *unstructured* top-level task.\n- **init(name:executorPreference:priority:operation:)**: Runs the given nonthrowing operation asynchronously as part of a new *unstructured* top-level task.\n- **currentPriority**: The current task’s priority.\n- **basePriority**: The current task’s base priority.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Runs the given nonthrowing operation asynchronously as part of a new *unstructured* top-level task.",
          "name" : "init(name:priority:operation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/init(name:priority:operation:)-2dll5"
        },
        {
          "description" : "Runs the given throwing operation asynchronously as part of a new *unstructured* top-level task.",
          "name" : "init(name:priority:operation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/init(name:priority:operation:)-43wmk"
        },
        {
          "description" : "Runs the given throwing operation asynchronously as part of a new *unstructured* top-level task.",
          "name" : "init(name:executorPreference:priority:operation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/init(name:executorPreference:priority:operation:)-59bfi"
        },
        {
          "description" : "Runs the given nonthrowing operation asynchronously as part of a new *unstructured* top-level task.",
          "name" : "init(name:executorPreference:priority:operation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/init(name:executorPreference:priority:operation:)-81pay"
        },
        {
          "description" : "The current task’s priority.",
          "name" : "currentPriority",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/currentPriority"
        },
        {
          "description" : "The current task’s base priority.",
          "name" : "basePriority",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/Task\/basePriority"
        }
      ],
      "title" : "Creating a Task"
    }
  ],
  "source" : "appleJSON",
  "title" : "withTaskPriorityEscalationHandler(operation:onPriorityEscalated:isolation:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/withTaskPriorityEscalationHandler(operation:onPriorityEscalated:isolation:)"
}