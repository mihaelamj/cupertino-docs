{
  "abstract" : "Call the given closure with the unsafe buffer pointer addressed by this OutputSpan and a mutable reference to its count of initialized elements.",
  "codeExamples" : [

  ],
  "contentHash" : "98e8fc7470c2b4ca16f3f2d8afb0d5b8a259a7110a1df07c159eb134d254ba0e",
  "crawledAt" : "2025-12-04T17:23:39Z",
  "declaration" : {
    "code" : "mutating func withUnsafeMutableBufferPointer<E, R>(_ body: (UnsafeMutableBufferPointer<Element>, inout Int) throws(E) -> R) throws(E) -> R where E : Error, R : ~Copyable",
    "language" : "swift"
  },
  "id" : "B7796AA7-F925-4AF5-A4F9-5F41C28FBA64",
  "kind" : "method",
  "language" : "swift",
  "module" : "Swift",
  "overview" : "## Discussion\n\nThis method provides a way to process or populate an `OutputSpan` using unsafe operations, such as dispatching to code written in legacy (memory-unsafe) languages.\n\nThe supplied closure may process the buffer in any way it wants; however, when it finishes (whether by returning or throwing), it must leave the buffer in a state that satisfies the invariants of the output span:\n\nThis function cannot verify these two invariants, and therefore this is an unsafe operation. Violating the invariants of `OutputSpan` may result in undefined behavior.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/swift\/outputspan\/withunsafemutablebufferpointer(_:)\ncrawled: 2025-12-04T17:23:39Z\n---\n\n# withUnsafeMutableBufferPointer(_:)\n\n**Instance Method**\n\nCall the given closure with the unsafe buffer pointer addressed by this OutputSpan and a mutable reference to its count of initialized elements.\n\n## Declaration\n\n```swift\nmutating func withUnsafeMutableBufferPointer<E, R>(_ body: (UnsafeMutableBufferPointer<Element>, inout Int) throws(E) -> R) throws(E) -> R where E : Error, R : ~Copyable\n```\n\n## Discussion\n\nThis method provides a way to process or populate an `OutputSpan` using unsafe operations, such as dispatching to code written in legacy (memory-unsafe) languages.\n\nThe supplied closure may process the buffer in any way it wants; however, when it finishes (whether by returning or throwing), it must leave the buffer in a state that satisfies the invariants of the output span:\n\n1. The inout integer passed in as the second argument must be the exact number of initialized items in the buffer passed in as the first argument.\n2. These initialized elements must be located in a single contiguous region starting at the beginning of the buffer. The rest of the buffer must hold uninitialized memory.\n\nThis function cannot verify these two invariants, and therefore this is an unsafe operation. Violating the invariants of `OutputSpan` may result in undefined behavior.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "withUnsafeMutableBufferPointer(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/swift\/outputspan\/withunsafemutablebufferpointer(_:)"
}