{
  "abstract" : "Returns an asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given error-throwing predicate.",
  "codeExamples" : [
    {
      "code" : "do {\n    let stream = try Counter(howHigh: 10)\n        .prefix {\n            if $0 % 5 == 0 {\n                throw MyError()\n            }\n            return $0 < 8\n        }\n    for try await number in stream {\n        print(number, terminator: \" \")\n    }\n} catch {\n    print(\"Error: \\(error)\")\n}\n\/\/ Prints \"1 2 3 4 Error: MyError() \"",
      "language" : "swift"
    }
  ],
  "contentHash" : "d88503df0fc3c62258552de6e2e90fa076fe2da7ec369958e0f21da5a3c05a2a",
  "crawledAt" : "2025-12-03T20:29:04Z",
  "declaration" : {
    "code" : "@preconcurrency func prefix(while predicate: @escaping (Self.Element) async throws -> Bool) rethrows -> AsyncThrowingPrefixWhileSequence<Self>",
    "language" : "swift"
  },
  "id" : "E2885AA9-5FB1-406A-924A-DB2BA59DA15D",
  "kind" : "method",
  "language" : "swift",
  "module" : "Swift",
  "overview" : "## Return Value\n\nAn asynchronous sequence that contains, in order, the elements of the base sequence that satisfy the given predicate. If the predicate throws an error, the sequence contains only values produced prior to the error.\n\n## Discussion\n\nUse `prefix(while:)` to produce values while elements from the base sequence meet a condition you specify. The modified sequence ends when the predicate closure returns `false` or throws an error.\n\nIn this example, an asynchronous sequence called `Counter` produces `Int` values from `1` to `10`. The `prefix(_:)` method causes the modified sequence to pass through values less than `8`, but throws an error when it receives a value that’s divisible by `5`:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Swift\/AsyncSequence\/prefix(while:)-6yp5n\ncrawled: 2025-12-03T20:29:04Z\n---\n\n# prefix(while:)\n\n**Instance Method**\n\nReturns an asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given error-throwing predicate.\n\n## Declaration\n\n```swift\n@preconcurrency func prefix(while predicate: @escaping (Self.Element) async throws -> Bool) rethrows -> AsyncThrowingPrefixWhileSequence<Self>\n```\n\n## Parameters\n\n- **predicate**: A error-throwing closure that takes an element of the asynchronous sequence as its argument and returns a Boolean value that indicates whether to include the element in the modified sequence.\n\n## Return Value\n\nAn asynchronous sequence that contains, in order, the elements of the base sequence that satisfy the given predicate. If the predicate throws an error, the sequence contains only values produced prior to the error.\n\n## Discussion\n\nUse `prefix(while:)` to produce values while elements from the base sequence meet a condition you specify. The modified sequence ends when the predicate closure returns `false` or throws an error.\n\nIn this example, an asynchronous sequence called `Counter` produces `Int` values from `1` to `10`. The `prefix(_:)` method causes the modified sequence to pass through values less than `8`, but throws an error when it receives a value that’s divisible by `5`:\n\n```swift\ndo {\n    let stream = try Counter(howHigh: 10)\n        .prefix {\n            if $0 % 5 == 0 {\n                throw MyError()\n            }\n            return $0 < 8\n        }\n    for try await number in stream {\n        print(number, terminator: \" \")\n    }\n} catch {\n    print(\"Error: \\(error)\")\n}\n\/\/ Prints \"1 2 3 4 Error: MyError() \"\n```\n\n## Selecting Elements\n\n- **prefix(_:)**: Returns an asynchronous sequence, up to the specified maximum length, containing the initial elements of the base asynchronous sequence.\n- **AsyncPrefixSequence**: An asynchronous sequence, up to a specified maximum length, containing the initial elements of a base asynchronous sequence.\n- **prefix(while:)**: Returns an asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given predicate.\n- **AsyncPrefixWhileSequence**: An asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy a given predicate.\n- **AsyncThrowingPrefixWhileSequence**: An asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given error-throwing predicate.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an asynchronous sequence, up to the specified maximum length, containing the initial elements of the base asynchronous sequence.",
          "name" : "prefix(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncSequence\/prefix(_:)"
        },
        {
          "description" : "An asynchronous sequence, up to a specified maximum length, containing the initial elements of a base asynchronous sequence.",
          "name" : "AsyncPrefixSequence",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncPrefixSequence"
        },
        {
          "description" : "Returns an asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given predicate.",
          "name" : "prefix(while:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncSequence\/prefix(while:)-2xy95"
        },
        {
          "description" : "An asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy a given predicate.",
          "name" : "AsyncPrefixWhileSequence",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncPrefixWhileSequence"
        },
        {
          "description" : "An asynchronous sequence, containing the initial, consecutive elements of the base sequence that satisfy the given error-throwing predicate.",
          "name" : "AsyncThrowingPrefixWhileSequence",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncThrowingPrefixWhileSequence"
        }
      ],
      "title" : "Selecting Elements"
    }
  ],
  "source" : "appleJSON",
  "title" : "prefix(while:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/AsyncSequence\/prefix(while:)-6yp5n"
}