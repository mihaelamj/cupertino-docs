{
  "abstract" : "Use this code to follow along with a guide to migrating your code to take advantage of the full concurrency protection that the Swift 6 language mode provides.",
  "codeExamples" : [

  ],
  "contentHash" : "b8121d1819d543b069b63efdf5d190126f667d18e65ca4514578e3e9d72b43a4",
  "crawledAt" : "2025-12-02T15:50:49Z",
  "id" : "D8C83BCF-46D9-4232-A506-86C3CFAAA39C",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Swift",
  "overview" : "## Overview\n\nThis sample provides two separate versions of the app:\n\nWatch the session to see the process step by step, and then compare the two projects to see the differences.\n\n### Configure the sample code project\n\nTo add the complication to an active watch face, start by building and running the sample code project in the simulator, and follow these steps:\n\nFor more information on setting up watch faces, see [https:\/\/support.apple.com\/en-us\/HT205536].\n\nAfter configuring and running the app, you can test the background updates. Make sure that the complication appears on the active watch face. Then build and run the app in Simulator, and follow these steps:\n\n### Adopt strict concurrency checking in Swift\n\nTo see the issues highlighted in the original project, follow these steps:\n\nCompare the original project to the updated project to see how it resolves the concurrency issues.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Swift\/updating-an-app-to-use-strict-concurrency\ncrawled: 2025-12-02T15:50:49Z\n---\n\n# Updating an app to use strict concurrency\n\n**Sample Code**\n\nUse this code to follow along with a guide to migrating your code to take advantage of the full concurrency protection that the Swift 6 language mode provides.\n\n## Overview\n\n\n\nThis sample provides two separate versions of the app:\n\n- The original version uses Swift concurrency features but contains a number of issues that are detected by enabling Swift complete concurrency checking and that need to be resolved before enabling the Swift 6 language mode.\n- The updated version resolves these issues and has enabled Swift 6. It also adds new features that record the location of the user when they log that they drank coffee.\n\nWatch the session to see the process step by step, and then compare the two projects to see the differences.\n\n### Configure the sample code project\n\nTo add the complication to an active watch face, start by building and running the sample code project in the simulator, and follow these steps:\n\n1. Click the Digital Crown to exit the app and return to the watch face.\n2. Using the trackpad, firmly press the watch face to put the face in edit mode, and then click Customize.\n3. Swipe left until the configuration screen highlights the complications. Select the complication to modify.\n4. Scroll to the complication for the sample app, and then click the Digital Crown again to save your changes.\n5. Click the newly added complication to go to the app.\n\nFor more information on setting up watch faces, see [https:\/\/support.apple.com\/en-us\/HT205536].\n\nAfter configuring and running the app, you can test the background updates. Make sure that the complication appears on the active watch face. Then build and run the app in Simulator, and follow these steps:\n\n1. Add one or more drinks using the app’s main view.\n2. Click the Digital Crown to send the app to the background.\n3. Open Settings, and scroll down to Health > Health Data > Nutrition > Caffeine to see all of the drinks you added to the app.\n4. Click Delete Caffeine Data to clear all of the caffeine samples from HealthKit.\n5. Navigate back to the watch face.\n6. The complication will update within 15 minutes; however, the update may be delayed based on the system’s current state.\n\n### Adopt strict concurrency checking in Swift\n\nTo see the issues highlighted in the original project, follow these steps:\n\n1. In Xcode, navigate to the project settings.\n2. For each target, change the Strict Concurrency Checking below Build Settings to Complete.\n3. Each target generates warnings that must be resolved.\n4. After the warnings are resolved, change the Swift Language Version in Build settings to Swift 6.\n\nCompare the original project to the updated project to see how it resolves the concurrency issues.\n\n## Essentials\n\n- **Code-along: Elevating an app with Swift concurrency**: Code along with the WWDC presenter to elevate a SwiftUI app with Swift concurrency.\n- **Updating an App to Use Swift Concurrency**: Improve your app’s performance by refactoring your code to take advantage of asynchronous functions in Swift.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Code along with the WWDC presenter to elevate a SwiftUI app with Swift concurrency.",
          "name" : "Code-along: Elevating an app with Swift concurrency",
          "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/code-along-elevating-an-app-with-swift-concurrency"
        },
        {
          "description" : "Improve your app’s performance by refactoring your code to take advantage of asynchronous functions in Swift.",
          "name" : "Updating an App to Use Swift Concurrency",
          "url" : "https:\/\/developer.apple.com\/documentation\/swift\/updating_an_app_to_use_swift_concurrency"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Updating an app to use strict concurrency",
  "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/updating-an-app-to-use-strict-concurrency"
}