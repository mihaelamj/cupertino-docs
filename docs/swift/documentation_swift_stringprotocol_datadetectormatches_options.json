{
  "abstract" : "Searches for known data types in a string or a substring.",
  "codeExamples" : [
    {
      "code" : "import DataDetection\n\n\/\/\/ Returns the number of emails from example.com in the provided string.\nfunc countExampleEmails(text: String) async -> Int {\n    var countExampleEmails: Int = 0\n    for await match in text.dataDetectorMatches([.emailAddress]) {\n        if case let .emailAddress(email) = match.details {\n            if email.emailAddress.hasSuffix(\"@example.com\") {\n                countExampleEmails += 1\n            }\n        }\n    }\n    return countExampleEmails\n}\n\n\/\/\/ Returns an attributed string that highlights links, calendar events, and measurements the data detection finds in the provided string.\nfunc underline(text: String) async -> AttributedString {\n    var attributedText = AttributedString(text)\n    for await match in text.dataDetectorMatches([.link, .calendarEvent, .measurement]) {\n        if let range = match.range, let attributedRange = Range(range, in: attributedText) {\n            var attributes = AttributeContainer ()\n            switch match.preferredHighlightStyle {\n            case .hidden:\n                continue\n            case .url:\n                attributes.underlineColor = .linkColor\n            default:\n                let color = attributedText[attributedRange].foregroundColor ?? .textColor\n                attributes.underlineColor = color.withAlphaComponent(0.26)\n            }\n            attributedText[attributedRange].mergeAttributes(attributes, mergePolicy: .keepNew)\n        }\n    }\n    return attributedText\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "be7d648ef28d2c0aa04fd4c994b4a2a21d583e658a8b3771790ed541c0c25894",
  "crawledAt" : "2025-12-01T21:24:39Z",
  "declaration" : {
    "code" : "func dataDetectorMatches(_ types: DataDetector.MatchType = .all, options: DataDetector.Options = DataDetector.Options()) -> some AsyncSequence<DataDetector.Match, Never>\n",
    "language" : "swift"
  },
  "id" : "650B1811-35FC-4E5E-A4DC-53CFC8FC8A65",
  "kind" : "method",
  "module" : "Swift",
  "overview" : "## Return Value\n\nAn [doc:\/\/com.apple.Swift\/documentation\/Swift\/AsyncSequence] of `DataDetector\/Match` objects that match the provided string.\n\n## Discussion\n\nDataDetection only searches for known data types in natural language text. There’s no guarantee that the framework can find a particular matching string in the  data, especially in ambiguous cases. The scanner expects an input string in a person’s language and region, if supported. However, the framework may consider some additional languages and regions. Don’t use this functionality to validate form inputs such as email addresses, postal addresses, URLs, and so on.\n\nThe following example functions show how to scan for email addresses, links, calendar events, and measurements in strings.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Swift\/StringProtocol\/dataDetectorMatches(_:options:)\ncrawled: 2025-12-01T21:24:39Z\n---\n\n# dataDetectorMatches(_:options:)\n\n**Instance Method**\n\nSearches for known data types in a string or a substring.\n\n## Declaration\n\n```swift\nfunc dataDetectorMatches(_ types: DataDetector.MatchType = .all, options: DataDetector.Options = DataDetector.Options()) -> some AsyncSequence<DataDetector.Match, Never>\n\n```\n\n## Parameters\n\n- **options**: The `DataDetector.Options` to customize the search.\n\n## Return Value\n\nAn [doc:\/\/com.apple.Swift\/documentation\/Swift\/AsyncSequence] of `DataDetector\/Match` objects that match the provided string.\n\n## Discussion\n\nDataDetection only searches for known data types in natural language text. There’s no guarantee that the framework can find a particular matching string in the  data, especially in ambiguous cases. The scanner expects an input string in a person’s language and region, if supported. However, the framework may consider some additional languages and regions. Don’t use this functionality to validate form inputs such as email addresses, postal addresses, URLs, and so on.\n\nThe following example functions show how to scan for email addresses, links, calendar events, and measurements in strings.\n\n```swift\nimport DataDetection\n\n\/\/\/ Returns the number of emails from example.com in the provided string.\nfunc countExampleEmails(text: String) async -> Int {\n    var countExampleEmails: Int = 0\n    for await match in text.dataDetectorMatches([.emailAddress]) {\n        if case let .emailAddress(email) = match.details {\n            if email.emailAddress.hasSuffix(\"@example.com\") {\n                countExampleEmails += 1\n            }\n        }\n    }\n    return countExampleEmails\n}\n\n\/\/\/ Returns an attributed string that highlights links, calendar events, and measurements the data detection finds in the provided string.\nfunc underline(text: String) async -> AttributedString {\n    var attributedText = AttributedString(text)\n    for await match in text.dataDetectorMatches([.link, .calendarEvent, .measurement]) {\n        if let range = match.range, let attributedRange = Range(range, in: attributedText) {\n            var attributes = AttributeContainer ()\n            switch match.preferredHighlightStyle {\n            case .hidden:\n                continue\n            case .url:\n                attributes.underlineColor = .linkColor\n            default:\n                let color = attributedText[attributedRange].foregroundColor ?? .textColor\n                attributes.underlineColor = color.withAlphaComponent(0.26)\n            }\n            attributedText[attributedRange].mergeAttributes(attributes, mergePolicy: .keepNew)\n        }\n    }\n    return attributedText\n}\n```\n\n\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "dataDetectorMatches(_:options:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Swift\/StringProtocol\/dataDetectorMatches(_:options:)"
}