{
  "abstract" : "Request a valid session from the Apple Pay server.",
  "codeExamples" : [
    {
      "code" : "{\n    merchantIdentifier: \"merchant.com.example.mystore\",\n    displayName: \"MyStore\",\n    initiative: \"web\",\n    initiativeContext: \"mystore.example.com\"\n}",
      "language" : "javascript"
    }
  ],
  "contentHash" : "9852bd44454132cbc568ea929d5a66ad1fc59145bcb4e496faac744f2e328168",
  "crawledAt" : "2025-12-04T03:17:56Z",
  "id" : "83456586-D451-4844-ADCD-DDA66638F24D",
  "kind" : "article",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Overview\n\nUse a new Apple Pay payment session for each transaction.\n\n### Post a request\n\nYour server posts a request using mutual TLS (mTLS) by calling the Apple Pay server’s Payment Session endpoint.\n\nThe endpoint returns an opaque Apple Pay session object for Apple Pay on the web, Apple Pay on macOS, and for Apple Pay in Apple Messages for Business.\n\nFor Apple Pay on the web, you can also use the endpoint `POST https:\/\/<validation URL>\/paymentSession` with a fully qualified validation URL that you receive in [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/onvalidatemerchant]. Be sure to allow all of the domains listed in [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/setting-up-your-server].\n\n### Provide request parameters\n\nUse the merchant identity certificate associated with your merchant ID in the request. See [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/configuring-your-environment] for more information.\n\nThe values for `initiative` and `initiativeContext` depend on the kind of application you’re building:\n\nOn supported models of MacBook Pro, the Touch Bar displays the value you supply for the `displayName` parameter. The following table lists the valid fonts.\n\n### Receive the payment session object\n\nIn response to the `POST` request, your server receives an opaque Apple Pay session object. The session expires after five minutes.\n\n### Example\n\nA session request with a JSON payload for Apple Pay on the web.\n\nThe `displayName` you provide in the payload appears in the Touch Bar like this:\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/requesting-an-apple-pay-payment-session\ncrawled: 2025-12-04T03:17:56Z\n---\n\n# Requesting an Apple Pay payment session\n\n**Article**\n\nRequest a valid session from the Apple Pay server.\n\n## Overview\n\nUse a new Apple Pay payment session for each transaction.\n\n### Post a request\n\nYour server posts a request using mutual TLS (mTLS) by calling the Apple Pay server’s Payment Session endpoint.\n\n\n\nThe endpoint returns an opaque Apple Pay session object for Apple Pay on the web, Apple Pay on macOS, and for Apple Pay in Apple Messages for Business.\n\nFor Apple Pay on the web, you can also use the endpoint `POST https:\/\/<validation URL>\/paymentSession` with a fully qualified validation URL that you receive in [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/onvalidatemerchant]. Be sure to allow all of the domains listed in [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/setting-up-your-server].\n\n\n\n### Provide request parameters\n\nUse the merchant identity certificate associated with your merchant ID in the request. See [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/configuring-your-environment] for more information.\n\n\n\nThe values for `initiative` and `initiativeContext` depend on the kind of application you’re building:\n\n- For Apple Pay on the web, use `“web”` for the `initiative` parameter. For the `initiativeContext` parameter, provide your fully qualified domain name associated with your Apple Pay Merchant Identity Certificate.\n- For Apple Messages for Business, use `“messaging”` for the `initiative` parameter. For the `initiativeContext` parameter, provide your payment gateway URL. See [https:\/\/register.apple.com\/resources\/messages\/msp-rest-api\/type-interactive] for more information.\n- For Apple Pay on macOS, use `“in_app”` for the `initiative` parameter. For the `initiativeContext` parameter, provide your developer team ID.\n\nOn supported models of MacBook Pro, the Touch Bar displays the value you supply for the `displayName` parameter. The following table lists the valid fonts.\n\n\n\n### Receive the payment session object\n\nIn response to the `POST` request, your server receives an opaque Apple Pay session object. The session expires after five minutes.\n\n- For Apple Pay on the web, pass the session object to the completion method, [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeMerchantValidation].\n- For Apple Pay in Apple Messages for Business, pass the session object to your Messaging Service Provider (MSP), which handles communicating with Apple Messages for Business on your behalf.\n\n### Example\n\nA session request with a JSON payload for Apple Pay on the web.\n\n```javascript\n{\n    merchantIdentifier: \"merchant.com.example.mystore\",\n    displayName: \"MyStore\",\n    initiative: \"web\",\n    initiativeContext: \"mystore.example.com\"\n}\n```\n\nThe `displayName` you provide in the payload appears in the Touch Bar like this:\n\n\n\n\n\n## Apple Pay session\n\n- **Creating an Apple Pay Session**: Provide a payment request and create the session.\n- **Providing Merchant Validation**: Validate your merchant identity and receive a session object for each payment request.\n- **ApplePaySession**: A session object for managing the payment process on the web.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provide a payment request and create the session.",
          "name" : "Creating an Apple Pay Session",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session"
        },
        {
          "description" : "Validate your merchant identity and receive a session object for each payment request.",
          "name" : "Providing Merchant Validation",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/providing-merchant-validation"
        },
        {
          "description" : "A session object for managing the payment process on the web.",
          "name" : "ApplePaySession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession"
        }
      ],
      "title" : "Apple Pay session"
    }
  ],
  "source" : "appleJSON",
  "title" : "Requesting an Apple Pay payment session",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/requesting-an-apple-pay-payment-session"
}