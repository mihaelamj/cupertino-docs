{
  "abstract" : "Completes the selection of a payment method with an update.",
  "codeExamples" : [

  ],
  "contentHash" : "a9cd00147ec9d392a21d7e592a6ab1e3b347f1ed0811065a0c7be07ab66017f4",
  "crawledAt" : "2025-12-04T10:45:04Z",
  "declaration" : {
    "code" : "undefined completePaymentMethodSelection(\n\tApplePayLineItem newTotal,\n\tsequence<ApplePayLineItem> newLineItems\n);",
    "language" : "swift"
  },
  "id" : "511D3CA2-51BE-483C-A82E-6777CD12961A",
  "kind" : "method",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Discussion\n\nThis method must be called by [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/onpaymentmethodselected] .\n\nThe parameter for the Apple Pay JS API version 3 is an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate] instance. Use the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayShippingMethodUpdate\/newLineItems] only if you have new or updated costs or discounts, otherwise pass an empty array or null. Set the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate\/newTotal] argument with the total cost of all the purchased items.\n\n### completePaymentMethodSelection in Apple Pay JS API versions 1 and 2\n\nThe parameters for [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePaymentMethodSelection] in API versions 1 and 2 are:\n\n`newTotal`\n\nAn [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayLineItem] dictionary representing the total price for the purchase. Set the `label` to the merchant’s name, and the `amount` to the total price. The `amount` must be greater than zero.\n\n`newLineItems`\n\nA sequence of [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayLineItem] dictionaries. Use these line items to represent all other costs or discounts.\n\nDo not use line items to represent the individual items purchased by the user. Instead, combine all the purchases into a single subtotal item. Use additional line items to represent other costs or discounts (tax, shipping, coupons, and so forth.).",
  "platforms" : [
    "Unsupported OS: Safari Desktop",
    "Unsupported OS: Safari Mobile"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePaymentMethodSelection\ncrawled: 2025-12-04T10:45:04Z\n---\n\n# completePaymentMethodSelection\n\n**Instance Method**\n\nCompletes the selection of a payment method with an update.\n\n## Declaration\n\n```swift\nundefined completePaymentMethodSelection(\n\tApplePayLineItem newTotal,\n\tsequence<ApplePayLineItem> newLineItems\n);\n```\n\n## Discussion\n\nThis method must be called by [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/onpaymentmethodselected] .\n\nThe parameter for the Apple Pay JS API version 3 is an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate] instance. Use the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayShippingMethodUpdate\/newLineItems] only if you have new or updated costs or discounts, otherwise pass an empty array or null. Set the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate\/newTotal] argument with the total cost of all the purchased items.\n\n### completePaymentMethodSelection in Apple Pay JS API versions 1 and 2\n\nThe parameters for [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePaymentMethodSelection] in API versions 1 and 2 are:\n\n`newTotal`\n\nAn [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayLineItem] dictionary representing the total price for the purchase. Set the `label` to the merchant’s name, and the `amount` to the total price. The `amount` must be greater than zero.\n\n`newLineItems`\n\nA sequence of [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayLineItem] dictionaries. Use these line items to represent all other costs or discounts.\n\nDo not use line items to represent the individual items purchased by the user. Instead, combine all the purchases into a single subtotal item. Use additional line items to represent other costs or discounts (tax, shipping, coupons, and so forth.).\n\n## Related Documentation\n\n- **supportsVersion**: Detects whether a web browser supports a particular Apple Pay version.\n\n## Handling payment method updates\n\n- **onpaymentmethodselected**: An event handler to call when the user selects a new payment method.\n- **ApplePayPaymentMethodUpdate**: Updated transaction details to provide after the user changes the payment method in the payment sheet.\n- **ApplePayPaymentMethodSelectedEvent**: An event object that contains the payment method.\n- **ApplePayPaymentMethod**: A dictionary that describes an Apple Pay payment method.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detects whether a web browser supports a particular Apple Pay version.",
          "name" : "supportsVersion",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/supportsVersion"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler to call when the user selects a new payment method.",
          "name" : "onpaymentmethodselected",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onpaymentmethodselected"
        },
        {
          "description" : "Updated transaction details to provide after the user changes the payment method in the payment sheet.",
          "name" : "ApplePayPaymentMethodUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate"
        },
        {
          "description" : "An event object that contains the payment method.",
          "name" : "ApplePayPaymentMethodSelectedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodSelectedEvent"
        },
        {
          "description" : "A dictionary that describes an Apple Pay payment method.",
          "name" : "ApplePayPaymentMethod",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethod"
        }
      ],
      "title" : "Handling payment method updates"
    }
  ],
  "source" : "appleJSON",
  "title" : "completePaymentMethodSelection",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePaymentMethodSelection"
}