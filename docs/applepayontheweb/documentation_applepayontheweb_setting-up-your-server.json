{
  "abstract" : "Set up your server for secure communications with Apple Pay.",
  "codeExamples" : [
    {
      "code" : "Domain\napple-pay-gateway.apple.com (Global)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n17.171.78.7\/32, 17.171.78.71\/32, 17.171.78.135\/32, 17.171.78.199\/32, 17.171.79.12\/32\n17.141.128.7\/32, 17.141.128.71\/32, 17.141.128.135\/32, 17.141.128.199\/32, 17.141.129.12\/32\n17.32.214.7\/32, 17.157.96.181\/32\n17.33.194.239\/32, 17.33.192.38\/32, 17.33.193.110\/32\n17.33.202.35\/32, 17.33.201.101\/32, 17.33.200.169\/32\n\n\nDomain\ncn-apple-pay-gateway.apple.com (China Region)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n101.230.204.232\/32, 101.230.204.242\/32, 101.230.204.240\/32\n60.29.205.104\/32, 60.29.205.106\/32, 60.29.205.108\/32",
      "language" : "other"
    },
    {
      "code" : "For sandbox testing only:\nDomain\napple-pay-gateway-cert.apple.com (Global)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n17.171.85.7\/32\n17.179.124.181\/32, 17.32.214.56\/32\n17.33.194.218\/32, 17.33.192.145\/32, 17.33.193.45\/32\n17.33.200.47\/32, 17.33.202.99\/32, 17.33.201.105\/32\n\nDomain\ncn-apple-pay-gateway-cert.apple.com (China Region)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n101.230.204.235\/32",
      "language" : "other"
    },
    {
      "code" : "17.23.4.96\/27\n17.23.19.0\/27\n17.23.24.32\/27\n17.32.139.128\/26\n17.132.108.64\/26\n17.140.126.0\/26\n17.157.32.0\/27\n17.157.40.128\/27\n17.157.44.128\/27\n17.179.144.128\/25\n17.253.0.0\/16",
      "language" : "other"
    }
  ],
  "contentHash" : "e09494a3788fe31293ab2959363e0a43894b02f62c7c72abab674ee5304d410d",
  "crawledAt" : "2025-12-04T10:46:30Z",
  "id" : "9D1B44EB-ACA0-4FD1-BBCC-E2C66FD31661",
  "kind" : "article",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Overview\n\nThese are the requirements for incorporating Apple Pay on your website:\n\n### Allow Apple Pay IP Addresses\n\nTo successfully connect with Apple Pay IP addresses and domains, your server needs to allow access over HTTPS (TCP over port 443)  and include the TLS Server Name Indication (SNI) extension. Apple Pay requires SNI on all connections. Your server needs to connect to the Apple Pay IP addresses and domains provided listed in [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/setting-up-your-server#Listing-1], below.\n\nListing 1. Apple Pay IP addresses and domain names for production.\n\nListing 2. Apple Pay IP addresses and domain names for testing (development sandbox).\n\nFor more information about merchant validation, see [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/providing-merchant-validation].\n\n### Allow Apple IP Addresses for Domain Verification\n\nApple uses the following IP addresses when you register or verify your merchant domain. If you protect your domain from public access and you wish to complete domain verification, you need to allow the following IP address ranges.\n\nSee [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/configuring-your-environment#Register-and-Verify-Your-Domain] for more information.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/applepayontheweb\/setting-up-your-server\ncrawled: 2025-12-04T10:46:30Z\n---\n\n# Setting Up Your Server\n\n**Article**\n\nSet up your server for secure communications with Apple Pay.\n\n## Overview\n\nThese are the requirements for incorporating Apple Pay on your website:\n\n- You must serve all pages that include Apple Pay over HTTPS.\n- Your domain must have a valid SSL certificate.\n- Your server must support the Transport Layer Security (TLS) protocol version 1.2 or later, and one of the cipher suites listed here:\n\n\n\n### Allow Apple Pay IP Addresses\n\nTo successfully connect with Apple Pay IP addresses and domains, your server needs to allow access over HTTPS (TCP over port 443)  and include the TLS Server Name Indication (SNI) extension. Apple Pay requires SNI on all connections. Your server needs to connect to the Apple Pay IP addresses and domains provided listed in [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/setting-up-your-server#Listing-1], below.\n\n\n\nListing 1. Apple Pay IP addresses and domain names for production.\n\n```other\nDomain\napple-pay-gateway.apple.com (Global)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n17.171.78.7\/32, 17.171.78.71\/32, 17.171.78.135\/32, 17.171.78.199\/32, 17.171.79.12\/32\n17.141.128.7\/32, 17.141.128.71\/32, 17.141.128.135\/32, 17.141.128.199\/32, 17.141.129.12\/32\n17.32.214.7\/32, 17.157.96.181\/32\n17.33.194.239\/32, 17.33.192.38\/32, 17.33.193.110\/32\n17.33.202.35\/32, 17.33.201.101\/32, 17.33.200.169\/32\n\n\nDomain\ncn-apple-pay-gateway.apple.com (China Region)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n101.230.204.232\/32, 101.230.204.242\/32, 101.230.204.240\/32\n60.29.205.104\/32, 60.29.205.106\/32, 60.29.205.108\/32\n```\n\n\n\nListing 2. Apple Pay IP addresses and domain names for testing (development sandbox).\n\n```other\nFor sandbox testing only:\nDomain\napple-pay-gateway-cert.apple.com (Global)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n17.171.85.7\/32\n17.179.124.181\/32, 17.32.214.56\/32\n17.33.194.218\/32, 17.33.192.145\/32, 17.33.193.45\/32\n17.33.200.47\/32, 17.33.202.99\/32, 17.33.201.105\/32\n\nDomain\ncn-apple-pay-gateway-cert.apple.com (China Region)\n\nThis name resolves to the IP addresses \/ CIDR block below:\n101.230.204.235\/32\n```\n\nFor more information about merchant validation, see [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/providing-merchant-validation].\n\n### Allow Apple IP Addresses for Domain Verification\n\nApple uses the following IP addresses when you register or verify your merchant domain. If you protect your domain from public access and you wish to complete domain verification, you need to allow the following IP address ranges.\n\n```other\n17.23.4.96\/27\n17.23.19.0\/27\n17.23.24.32\/27\n17.32.139.128\/26\n17.132.108.64\/26\n17.140.126.0\/26\n17.157.32.0\/27\n17.157.40.128\/27\n17.157.44.128\/27\n17.179.144.128\/25\n17.253.0.0\/16\n```\n\nSee [doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/configuring-your-environment#Register-and-Verify-Your-Domain] for more information.\n\n## Apple Pay setup\n\n- **Configuring Your Environment**: Create your Apple Pay merchant ID and certificates, and verify your domain.\n- **Maintaining Your Environment**: Prevent interruptions in your Apple Pay service by keeping certificates and domain verification current.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create your Apple Pay merchant ID and certificates, and verify your domain.",
          "name" : "Configuring Your Environment",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/configuring-your-environment"
        },
        {
          "description" : "Prevent interruptions in your Apple Pay service by keeping certificates and domain verification current.",
          "name" : "Maintaining Your Environment",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/maintaining-your-environment"
        }
      ],
      "title" : "Apple Pay setup"
    }
  ],
  "source" : "appleJSON",
  "title" : "Setting Up Your Server",
  "url" : "https:\/\/developer.apple.com\/documentation\/applepayontheweb\/setting-up-your-server"
}