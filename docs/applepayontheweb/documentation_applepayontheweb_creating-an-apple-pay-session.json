{
  "abstract" : "Provide a payment request and create the session.",
  "codeExamples" : [
    {
      "code" : "var request = {\n  countryCode: 'US',\n  currencyCode: 'USD',\n  supportedNetworks: ['visa', 'masterCard', 'amex', 'discover'],\n  merchantCapabilities: ['supports3DS'],\n  total: { label: 'Your Merchant Name', amount: '10.00' },\n}\nvar session = new ApplePaySession(3, request);",
      "language" : "javascript"
    }
  ],
  "contentHash" : "457579ddeaa0b31dce6e267fc4b8e6b78a63ddb0c09b97e4e055a520789a80d4",
  "crawledAt" : "2025-12-04T03:17:54Z",
  "id" : "AC04416E-59F1-4294-8EF3-CD5EC0C3D8B0",
  "kind" : "article",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Overview\n\nAfter you’ve checked that the Apple Pay JS API is available and is enabled on the current device, you’re ready to create the payment request and start the session.  You can create a session only when a user explicitly asks to make a payment.  For example, you can create the session when the user taps the Apple Pay button.\n\nYou supply two parameters to [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/ApplePaySession]:\n\nCreating an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] object throws a JavaScript exception if any of the following occur:\n\nAfter the session is created, call its [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/begin] method to show the payment sheet.\n\n[doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session#Listing-1] shows creating a payment request and a new Apple Pay session, and displaying the payment sheet.\n\nListing 1. Example of constructing an Apple Pay session",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session\ncrawled: 2025-12-04T03:17:54Z\n---\n\n# Creating an Apple Pay Session\n\n**Article**\n\nProvide a payment request and create the session.\n\n## Overview\n\nAfter you’ve checked that the Apple Pay JS API is available and is enabled on the current device, you’re ready to create the payment request and start the session.  You can create a session only when a user explicitly asks to make a payment.  For example, you can create the session when the user taps the Apple Pay button.\n\nYou supply two parameters to [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/ApplePaySession]:\n\n- Version number. The Apple Pay version you’re using.  (See [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/apple-pay-on-the-web-version-history] for version information.)\n- Payment Request. An [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayPaymentRequest] dictionary that contains all the information needed to display the payment sheet.\n\nCreating an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] object throws a JavaScript exception if any of the following occur:\n\n- Any Apple Pay JS API is called from an insecure page.\n- You pass an invalid payment request. Payment requests are invalid if they contain missing, unknown, or invalid properties, or if they have a total that is zero or less.\n- You attempt to create the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] outside of a user gesture handler.  The exception error  “Must create a new ApplePaySession from a user gesture handler” appears.\n\nAfter the session is created, call its [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/begin] method to show the payment sheet.\n\n[doc:\/\/com.apple.documentation\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session#Listing-1] shows creating a payment request and a new Apple Pay session, and displaying the payment sheet.\n\nListing 1. Example of constructing an Apple Pay session\n\n```javascript\nvar request = {\n  countryCode: 'US',\n  currencyCode: 'USD',\n  supportedNetworks: ['visa', 'masterCard', 'amex', 'discover'],\n  merchantCapabilities: ['supports3DS'],\n  total: { label: 'Your Merchant Name', amount: '10.00' },\n}\nvar session = new ApplePaySession(3, request);\n```\n\n## Apple Pay session\n\n- **Providing Merchant Validation**: Validate your merchant identity and receive a session object for each payment request.\n- **Requesting an Apple Pay payment session**: Request a valid session from the Apple Pay server.\n- **ApplePaySession**: A session object for managing the payment process on the web.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Validate your merchant identity and receive a session object for each payment request.",
          "name" : "Providing Merchant Validation",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/providing-merchant-validation"
        },
        {
          "description" : "Request a valid session from the Apple Pay server.",
          "name" : "Requesting an Apple Pay payment session",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/requesting-an-apple-pay-payment-session"
        },
        {
          "description" : "A session object for managing the payment process on the web.",
          "name" : "ApplePaySession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession"
        }
      ],
      "title" : "Apple Pay session"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating an Apple Pay Session",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session"
}