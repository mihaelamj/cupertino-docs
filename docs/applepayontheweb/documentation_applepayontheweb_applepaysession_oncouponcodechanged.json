{
  "abstract" : "An event handler called by the system when the user enters or updates a coupon code.",
  "codeExamples" : [
    {
      "code" : "\/\/ Add a listener for the couponcodechanged event to the Apple Pay session.\nsession.addEventListener(\"couponcodechanged\", function(event) {\n    var newCode = event.couponCode;\n\n    \/\/ Process the coupon code.\n    ...\n\n    \/\/ Call the Apple Pay session completion method for this event.\n    session.completeCouponCodeChange({\n        \/\/ Update the payment request with any changed information.\n        newTotal: ...\n    });\n});",
      "language" : "javascript"
    }
  ],
  "contentHash" : "284dfae300c11b7291c3f35e374e1f7cd7d1f82e04f2fff85b4432a28f4a780e",
  "crawledAt" : "2025-12-02T17:05:30Z",
  "declaration" : {
    "code" : "attribute EventHandler oncouponcodechanged;",
    "language" : "swift"
  },
  "id" : "BDC8D7E4-2543-4CB0-BEEA-1525D1110B18",
  "kind" : "property",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Discussion\n\nSet this attribute to a function with one parameter that contains an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeChangedEvent]. This function processes the coupon code update, and then calls [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeCouponCodeChange] with the results.\n\nThe code below shows adding a listener for the coupon code changed event to the Apple Pay session:",
  "platforms" : [
    "Unsupported OS: Safari Desktop",
    "Unsupported OS: Safari Mobile"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/oncouponcodechanged\ncrawled: 2025-12-02T17:05:30Z\n---\n\n# oncouponcodechanged\n\n**Instance Property**\n\nAn event handler called by the system when the user enters or updates a coupon code.\n\n## Declaration\n\n```swift\nattribute EventHandler oncouponcodechanged;\n```\n\n## Discussion\n\nSet this attribute to a function with one parameter that contains an [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeChangedEvent]. This function processes the coupon code update, and then calls [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeCouponCodeChange] with the results.\n\nThe code below shows adding a listener for the coupon code changed event to the Apple Pay session:\n\n```javascript\n\/\/ Add a listener for the couponcodechanged event to the Apple Pay session.\nsession.addEventListener(\"couponcodechanged\", function(event) {\n    var newCode = event.couponCode;\n\n    \/\/ Process the coupon code.\n    ...\n\n    \/\/ Call the Apple Pay session completion method for this event.\n    session.completeCouponCodeChange({\n        \/\/ Update the payment request with any changed information.\n        newTotal: ...\n    });\n});\n```\n\n\n\n## Handling coupons\n\n- **completeCouponCodeChange**: Completes the entry of a coupon code with an update.\n- **ApplePayCouponCodeChangedEvent**: An event object that contains the coupon code entered by the user.\n- **ApplePayCouponCodeUpdate**: A dictionary that contains the updated transaction details for responding to a coupon changed event.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Completes the entry of a coupon code with an update.",
          "name" : "completeCouponCodeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeCouponCodeChange"
        },
        {
          "description" : "An event object that contains the coupon code entered by the user.",
          "name" : "ApplePayCouponCodeChangedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeChangedEvent"
        },
        {
          "description" : "A dictionary that contains the updated transaction details for responding to a coupon changed event.",
          "name" : "ApplePayCouponCodeUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeUpdate"
        }
      ],
      "title" : "Handling coupons"
    }
  ],
  "source" : "appleJSON",
  "title" : "oncouponcodechanged",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/oncouponcodechanged"
}