{
  "abstract" : "A session object for managing the payment process on the web.",
  "codeExamples" : [

  ],
  "contentHash" : "059483d9d61f688951b1f0d4e9ef955c54d5423d46fd62f5768eca7fefe1adb6",
  "crawledAt" : "2025-12-04T04:49:21Z",
  "declaration" : {
    "code" : "interface ApplePaySession",
    "language" : "swift"
  },
  "id" : "E7F8C343-5D3F-4F0E-84B3-DA567581C0A3",
  "kind" : "class",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] is the entry point for Apple Pay on the web.  All the steps of the payment process for a single transaction occur in a session.\n\n[doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] belongs to the Apple Pay JS API.",
  "platforms" : [
    "Unsupported OS: Safari Desktop",
    "Unsupported OS: Safari Mobile"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\ncrawled: 2025-12-04T04:49:21Z\n---\n\n# ApplePaySession\n\n**Class**\n\nA session object for managing the payment process on the web.\n\n## Declaration\n\n```swift\ninterface ApplePaySession\n```\n\n## Overview\n\n[doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] is the entry point for Apple Pay on the web.  All the steps of the payment process for a single transaction occur in a session.\n\n[doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession] belongs to the Apple Pay JS API.\n\n## Determining support for API and payments\n\n- **supportsVersion**: Detects whether a web browser supports a particular Apple Pay version.\n- **applePayCapabilities**: Indicates whether the device supports Apple Pay and whether the person has an active card in Wallet that qualifies for web payments.\n- **canMakePayments**: Indicates whether the device supports Apple Pay.\n- **canMakePaymentsWithActiveCard**: Indicates whether the device supports Apple Pay and whether the user has an active card in Wallet.\n\n## Creating an Apple Pay session\n\n- **ApplePaySession**: The entry point for Apple Pay on the web.\n\n## Getting merchant validation\n\n- **begin**: Begins the merchant validation process.\n- **onvalidatemerchant**: An event handler the system calls when it displays the payment sheet.\n- **completeMerchantValidation**: Completes the validation for a merchant session.\n- **ApplePayValidateMerchantEvent**: An event object that contains the validation URL.\n\n## Handling payment method updates\n\n- **onpaymentmethodselected**: An event handler to call when the user selects a new payment method.\n- **completePaymentMethodSelection**: Completes the selection of a payment method with an update.\n- **ApplePayPaymentMethodUpdate**: Updated transaction details to provide after the user changes the payment method in the payment sheet.\n- **ApplePayPaymentMethodSelectedEvent**: An event object that contains the payment method.\n- **ApplePayPaymentMethod**: A dictionary that describes an Apple Pay payment method.\n\n## Handling coupons\n\n- **oncouponcodechanged**: An event handler called by the system when the user enters or updates a coupon code.\n- **completeCouponCodeChange**: Completes the entry of a coupon code with an update.\n- **ApplePayCouponCodeChangedEvent**: An event object that contains the coupon code entered by the user.\n- **ApplePayCouponCodeUpdate**: A dictionary that contains the updated transaction details for responding to a coupon changed event.\n\n## Handling shipping contact updates\n\n- **onshippingcontactselected**: An event handler to call when the user selects a shipping contact in the payment sheet.\n- **completeShippingContactSelection**: Completes the selection of a shipping contact with an update.\n- **ApplePayShippingContactSelectedEvent**: An event object that contains the shipping address the user selects.\n- **ApplePayShippingContactUpdate**: Updated transaction details that result from a change in shipping contact, including any errors.\n\n## Handling shipping method updates\n\n- **onshippingmethodselected**: An event handler to call when the user selects a shipping method.\n- **completeShippingMethodSelection**: Completes the selection of a shipping method with an update.\n- **ApplePayShippingMethodSelectedEvent**: An event object that contains the shipping method.\n- **ApplePayShippingMethodUpdate**: Updated transaction details that result from a change in shipping method.\n\n## Handling payment authorization\n\n- **onpaymentauthorized**: An event handler the system calls when the user has authorized the Apple Pay payment with Touch ID, Face ID, or a passcode.\n- **completePayment**: Completes the payment authorization with a result.\n- **ApplePayPaymentAuthorizedEvent**: An event object that contains the token used to authorize a payment.\n- **ApplePayPayment**: The result of authorizing a payment request that contains payment information.\n- **ApplePayPaymentAuthorizationResult**: The result of payment authorization, including status and errors.\n\n## Ending the session\n\n- **oncancel**: An event handler that is automatically called when the payment UI is dismissed.\n- **abort**: Aborts the current Apple Pay session.\n\n## Displaying an Apple Pay setup button\n\n- **openPaymentSetup**: A method that displays the Set up Apple Pay button.\n\n## Status code constants\n\n- **STATUS_FAILURE**: The requested action failed.\n- **STATUS_INVALID_BILLING_POSTAL_ADDRESS**: The billing address is invalid.\n- **STATUS_INVALID_SHIPPING_CONTACT**: The shipping contact information is invalid.\n- **STATUS_INVALID_SHIPPING_POSTAL_ADDRESS**: The shipping address is invalid.\n- **STATUS_PIN_INCORRECT**: The PIN information is not valid.\n- **STATUS_PIN_LOCKOUT**: The maximum number of tries for a PIN has been reached and the user has been locked out.\n- **STATUS_PIN_REQUIRED**: The required PIN information was not provided.\n- **STATUS_SUCCESS**: The requested action succeeded.\n\n## Apple Pay session\n\n- **Creating an Apple Pay Session**: Provide a payment request and create the session.\n- **Providing Merchant Validation**: Validate your merchant identity and receive a session object for each payment request.\n- **Requesting an Apple Pay payment session**: Request a valid session from the Apple Pay server.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detects whether a web browser supports a particular Apple Pay version.",
          "name" : "supportsVersion",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/supportsVersion"
        },
        {
          "description" : "Indicates whether the device supports Apple Pay and whether the person has an active card in Wallet that qualifies for web payments.",
          "name" : "applePayCapabilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities"
        },
        {
          "description" : "Indicates whether the device supports Apple Pay.",
          "name" : "canMakePayments",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments"
        },
        {
          "description" : "Indicates whether the device supports Apple Pay and whether the user has an active card in Wallet.",
          "name" : "canMakePaymentsWithActiveCard",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePaymentsWithActiveCard"
        }
      ],
      "title" : "Determining support for API and payments"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The entry point for Apple Pay on the web.",
          "name" : "ApplePaySession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/ApplePaySession"
        }
      ],
      "title" : "Creating an Apple Pay session"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Begins the merchant validation process.",
          "name" : "begin",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/begin"
        },
        {
          "description" : "An event handler the system calls when it displays the payment sheet.",
          "name" : "onvalidatemerchant",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onvalidatemerchant"
        },
        {
          "description" : "Completes the validation for a merchant session.",
          "name" : "completeMerchantValidation",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeMerchantValidation"
        },
        {
          "description" : "An event object that contains the validation URL.",
          "name" : "ApplePayValidateMerchantEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayValidateMerchantEvent"
        }
      ],
      "title" : "Getting merchant validation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler to call when the user selects a new payment method.",
          "name" : "onpaymentmethodselected",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onpaymentmethodselected"
        },
        {
          "description" : "Completes the selection of a payment method with an update.",
          "name" : "completePaymentMethodSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePaymentMethodSelection"
        },
        {
          "description" : "Updated transaction details to provide after the user changes the payment method in the payment sheet.",
          "name" : "ApplePayPaymentMethodUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodUpdate"
        },
        {
          "description" : "An event object that contains the payment method.",
          "name" : "ApplePayPaymentMethodSelectedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethodSelectedEvent"
        },
        {
          "description" : "A dictionary that describes an Apple Pay payment method.",
          "name" : "ApplePayPaymentMethod",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentMethod"
        }
      ],
      "title" : "Handling payment method updates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler called by the system when the user enters or updates a coupon code.",
          "name" : "oncouponcodechanged",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/oncouponcodechanged"
        },
        {
          "description" : "Completes the entry of a coupon code with an update.",
          "name" : "completeCouponCodeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeCouponCodeChange"
        },
        {
          "description" : "An event object that contains the coupon code entered by the user.",
          "name" : "ApplePayCouponCodeChangedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeChangedEvent"
        },
        {
          "description" : "A dictionary that contains the updated transaction details for responding to a coupon changed event.",
          "name" : "ApplePayCouponCodeUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayCouponCodeUpdate"
        }
      ],
      "title" : "Handling coupons"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler to call when the user selects a shipping contact in the payment sheet.",
          "name" : "onshippingcontactselected",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onshippingcontactselected"
        },
        {
          "description" : "Completes the selection of a shipping contact with an update.",
          "name" : "completeShippingContactSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeShippingContactSelection"
        },
        {
          "description" : "An event object that contains the shipping address the user selects.",
          "name" : "ApplePayShippingContactSelectedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayShippingContactSelectedEvent"
        },
        {
          "description" : "Updated transaction details that result from a change in shipping contact, including any errors.",
          "name" : "ApplePayShippingContactUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayShippingContactUpdate"
        }
      ],
      "title" : "Handling shipping contact updates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler to call when the user selects a shipping method.",
          "name" : "onshippingmethodselected",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onshippingmethodselected"
        },
        {
          "description" : "Completes the selection of a shipping method with an update.",
          "name" : "completeShippingMethodSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completeShippingMethodSelection"
        },
        {
          "description" : "An event object that contains the shipping method.",
          "name" : "ApplePayShippingMethodSelectedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayShippingMethodSelectedEvent"
        },
        {
          "description" : "Updated transaction details that result from a change in shipping method.",
          "name" : "ApplePayShippingMethodUpdate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayShippingMethodUpdate"
        }
      ],
      "title" : "Handling shipping method updates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler the system calls when the user has authorized the Apple Pay payment with Touch ID, Face ID, or a passcode.",
          "name" : "onpaymentauthorized",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/onpaymentauthorized"
        },
        {
          "description" : "Completes the payment authorization with a result.",
          "name" : "completePayment",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/completePayment"
        },
        {
          "description" : "An event object that contains the token used to authorize a payment.",
          "name" : "ApplePayPaymentAuthorizedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentAuthorizedEvent"
        },
        {
          "description" : "The result of authorizing a payment request that contains payment information.",
          "name" : "ApplePayPayment",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPayment"
        },
        {
          "description" : "The result of payment authorization, including status and errors.",
          "name" : "ApplePayPaymentAuthorizationResult",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePayPaymentAuthorizationResult"
        }
      ],
      "title" : "Handling payment authorization"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An event handler that is automatically called when the payment UI is dismissed.",
          "name" : "oncancel",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/oncancel"
        },
        {
          "description" : "Aborts the current Apple Pay session.",
          "name" : "abort",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/abort"
        }
      ],
      "title" : "Ending the session"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method that displays the Set up Apple Pay button.",
          "name" : "openPaymentSetup",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/openPaymentSetup"
        }
      ],
      "title" : "Displaying an Apple Pay setup button"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The requested action failed.",
          "name" : "STATUS_FAILURE",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_FAILURE"
        },
        {
          "description" : "The billing address is invalid.",
          "name" : "STATUS_INVALID_BILLING_POSTAL_ADDRESS",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_INVALID_BILLING_POSTAL_ADDRESS"
        },
        {
          "description" : "The shipping contact information is invalid.",
          "name" : "STATUS_INVALID_SHIPPING_CONTACT",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_INVALID_SHIPPING_CONTACT"
        },
        {
          "description" : "The shipping address is invalid.",
          "name" : "STATUS_INVALID_SHIPPING_POSTAL_ADDRESS",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_INVALID_SHIPPING_POSTAL_ADDRESS"
        },
        {
          "description" : "The PIN information is not valid.",
          "name" : "STATUS_PIN_INCORRECT",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_PIN_INCORRECT"
        },
        {
          "description" : "The maximum number of tries for a PIN has been reached and the user has been locked out.",
          "name" : "STATUS_PIN_LOCKOUT",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_PIN_LOCKOUT"
        },
        {
          "description" : "The required PIN information was not provided.",
          "name" : "STATUS_PIN_REQUIRED",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_PIN_REQUIRED"
        },
        {
          "description" : "The requested action succeeded.",
          "name" : "STATUS_SUCCESS",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/STATUS_SUCCESS"
        }
      ],
      "title" : "Status code constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provide a payment request and create the session.",
          "name" : "Creating an Apple Pay Session",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/creating-an-apple-pay-session"
        },
        {
          "description" : "Validate your merchant identity and receive a session object for each payment request.",
          "name" : "Providing Merchant Validation",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/providing-merchant-validation"
        },
        {
          "description" : "Request a valid session from the Apple Pay server.",
          "name" : "Requesting an Apple Pay payment session",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/requesting-an-apple-pay-payment-session"
        }
      ],
      "title" : "Apple Pay session"
    }
  ],
  "source" : "appleJSON",
  "title" : "ApplePaySession",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession"
}