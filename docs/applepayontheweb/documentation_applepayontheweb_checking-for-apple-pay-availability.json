{
  "abstract" : "Use the Apple Pay JS API to check whether Apple Pay is available, to check whether a device has a payment credential provisioned in Wallet, and to determine when to display an Apple Pay button.",
  "codeExamples" : [
    {
      "code" : "if (window.ApplePaySession) {\n   \/\/ The Apple Pay JS API is available.\n}",
      "language" : "javascript"
    },
    {
      "code" : "\/\/ Check if the Apple Pay JS API is available.\n  if (window.ApplePaySession) {\n    var merchantIdentifier = 'YOUR MERCHANT IDENTIFIER';\n    var promise = ApplePaySession.applePayCapabilities(merchantIdentifier);\n    promise.then(function(capabilities) {\n      \/\/ Check if the person has an active payment credential provisioned in Wallet.\n      switch (capabilities.paymentCredentialStatus) {\n        case \"paymentCredentialsAvailable\":\n          \/\/ Display an Apple Pay button and offer Apple Pay as the primary payment option. \n        case \"paymentCredentialStatusUnknown\":\n          \/\/ Display an Apple Pay button and offer Apple Pay as a payment option.\n        case \"paymentCredentialsUnavailable\":\n          \/\/ Consider displaying an Apple Pay button.\n        case \"applePayUnsupported\":\n          \/\/ Don't show an Apple Pay button or offer Apple Pay.\n      }\n    })\n  }",
      "language" : "javascript"
    },
    {
      "code" : "Mozilla\/5.0 (iPhone; CPU iPhone OS 11_2 like Mac OS X) AppleWebKit\/604.1.34 (KHTML, like Gecko)CriOS\/64.0.3282.112 Mobile\/15C202 Safari\/604.1",
      "language" : "other"
    }
  ],
  "contentHash" : "812c5d66ec20065dd11b47143b5a830cd6c73963ff00fec81f2f799b81e723c4",
  "crawledAt" : "2025-12-04T04:49:12Z",
  "id" : "90515E16-8345-4125-B453-C2680E73913F",
  "kind" : "article",
  "language" : "data",
  "module" : "Apple Pay on the Web",
  "overview" : "## Overview\n\nBefore displaying an Apple Pay button or creating an Apple Pay session, ensure that the Apple Pay JS API is available and enabled on the current device. To check whether the Apple Pay JS API is available in the browser, verify that the `window`.`ApplePaySession` class exists:\n\nNext, check whether payments are possible. Call either the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] or [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] methods, as follows:\n\n### Verify whether the device supports Apple Pay\n\nAccording to the [https:\/\/developer.apple.com\/apple-pay\/acceptable-use-guidelines-for-websites\/], if you invoke the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] API and determine that a person has an active card provisioned into Wallet, then Apple Pay should be the primary, but not necessarily sole payment option on any webpage that accepts payments, like the checkout page or product detail page. In all other situations, use [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] instead.\n\nThe [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] method asynchronously contacts Apple Pay servers as part of the verification process and returns the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/PaymentCredentialStatusResponse\/paymentCredentialStatus] of the device. This verifies on Safari and third-party browsers that the device is capable of making Apple Pay payments. It also verifies on Safari browsers that the device has at least one payment credential provisioned in Wallet. Depending on the response, you can determine if the device supports Apple Pay and whether to display an Apple Pay button.\n\nThe following are possible return values:\n\nThe following code shows how to check that a payment method is available before displaying an Apple Pay button:\n\n### Verify Apple Pay availability in China\n\nTo provide Apple Pay on the web for customers in China, you must first verify compatibility by checking the browser’s `userAgent` string. This string provides information about the customer’s device and operating system.\n\nFor the Chinese market, you need to check the user agent string to confirm that:\n\nFor example, the following shows a user agent string received from Safari on an iPhone running iOS 11.2:\n\nAfter verifying the person’s device type and iOS version, call [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] or [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] as shown earlier, and display the Apple Pay button if the call returns `paymentCredentialsAvailable`.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/checking-for-apple-pay-availability\ncrawled: 2025-12-04T04:49:12Z\n---\n\n# Checking for Apple Pay availability\n\n**Article**\n\nUse the Apple Pay JS API to check whether Apple Pay is available, to check whether a device has a payment credential provisioned in Wallet, and to determine when to display an Apple Pay button.\n\n## Overview\n\nBefore displaying an Apple Pay button or creating an Apple Pay session, ensure that the Apple Pay JS API is available and enabled on the current device. To check whether the Apple Pay JS API is available in the browser, verify that the `window`.`ApplePaySession` class exists:\n\n```javascript\nif (window.ApplePaySession) {\n   \/\/ The Apple Pay JS API is available.\n}\n```\n\nNext, check whether payments are possible. Call either the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] or [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] methods, as follows:\n\n\n\n### Verify whether the device supports Apple Pay\n\nAccording to the [https:\/\/developer.apple.com\/apple-pay\/acceptable-use-guidelines-for-websites\/], if you invoke the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] API and determine that a person has an active card provisioned into Wallet, then Apple Pay should be the primary, but not necessarily sole payment option on any webpage that accepts payments, like the checkout page or product detail page. In all other situations, use [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] instead.\n\nThe [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] method asynchronously contacts Apple Pay servers as part of the verification process and returns the [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/PaymentCredentialStatusResponse\/paymentCredentialStatus] of the device. This verifies on Safari and third-party browsers that the device is capable of making Apple Pay payments. It also verifies on Safari browsers that the device has at least one payment credential provisioned in Wallet. Depending on the response, you can determine if the device supports Apple Pay and whether to display an Apple Pay button.\n\nThe following are possible return values:\n\n\n\nThe following code shows how to check that a payment method is available before displaying an Apple Pay button:\n\n```javascript\n\/\/ Check if the Apple Pay JS API is available.\n  if (window.ApplePaySession) {\n    var merchantIdentifier = 'YOUR MERCHANT IDENTIFIER';\n    var promise = ApplePaySession.applePayCapabilities(merchantIdentifier);\n    promise.then(function(capabilities) {\n      \/\/ Check if the person has an active payment credential provisioned in Wallet.\n      switch (capabilities.paymentCredentialStatus) {\n        case \"paymentCredentialsAvailable\":\n          \/\/ Display an Apple Pay button and offer Apple Pay as the primary payment option. \n        case \"paymentCredentialStatusUnknown\":\n          \/\/ Display an Apple Pay button and offer Apple Pay as a payment option.\n        case \"paymentCredentialsUnavailable\":\n          \/\/ Consider displaying an Apple Pay button.\n        case \"applePayUnsupported\":\n          \/\/ Don't show an Apple Pay button or offer Apple Pay.\n      }\n    })\n  }\n```\n\n### Verify Apple Pay availability in China\n\nTo provide Apple Pay on the web for customers in China, you must first verify compatibility by checking the browser’s `userAgent` string. This string provides information about the customer’s device and operating system.\n\nFor the Chinese market, you need to check the user agent string to confirm that:\n\n- The person’s device is an `“iPhone`” or an `“iPad`”.\n- The device is running iOS 11.2 or later.\n\nFor example, the following shows a user agent string received from Safari on an iPhone running iOS 11.2:\n\n```other\nMozilla\/5.0 (iPhone; CPU iPhone OS 11_2 like Mac OS X) AppleWebKit\/604.1.34 (KHTML, like Gecko)CriOS\/64.0.3282.112 Mobile\/15C202 Safari\/604.1\n```\n\nAfter verifying the person’s device type and iOS version, call [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments] or [doc:\/\/com.apple.applepayontheweb\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities] as shown earlier, and display the Apple Pay button if the call returns `paymentCredentialsAvailable`.\n\n\n\n## Apple Pay availability\n\n- **canMakePayments**: Indicates whether the device supports Apple Pay.\n- **applePayCapabilities**: Indicates whether the device supports Apple Pay and whether the person has an active card in Wallet that qualifies for web payments.\n- **canMakePaymentsWithActiveCard**: Indicates whether the device supports Apple Pay and whether the user has an active card in Wallet.\n- **PaymentCredentialStatus**: Information about whether the device supports Apple Pay and the possible payment credentials the person has provisioned in Wallet.\n- **PaymentCredentialStatusResponse**: The response for information about the device’s support for Apple Pay and the payment credential status.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicates whether the device supports Apple Pay.",
          "name" : "canMakePayments",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePayments"
        },
        {
          "description" : "Indicates whether the device supports Apple Pay and whether the person has an active card in Wallet that qualifies for web payments.",
          "name" : "applePayCapabilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/applePayCapabilities"
        },
        {
          "description" : "Indicates whether the device supports Apple Pay and whether the user has an active card in Wallet.",
          "name" : "canMakePaymentsWithActiveCard",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/ApplePaySession\/canMakePaymentsWithActiveCard"
        },
        {
          "description" : "Information about whether the device supports Apple Pay and the possible payment credentials the person has provisioned in Wallet.",
          "name" : "PaymentCredentialStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/PaymentCredentialStatus"
        },
        {
          "description" : "The response for information about the device’s support for Apple Pay and the payment credential status.",
          "name" : "PaymentCredentialStatusResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/PaymentCredentialStatusResponse"
        }
      ],
      "title" : "Apple Pay availability"
    }
  ],
  "source" : "appleJSON",
  "title" : "Checking for Apple Pay availability",
  "url" : "https:\/\/developer.apple.com\/documentation\/ApplePayontheWeb\/checking-for-apple-pay-availability"
}