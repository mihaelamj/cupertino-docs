{
  "abstract" : "Annotate a map with location-specific data using default and customized annotation views and callouts.",
  "codeExamples" : [
    {
      "code" : "class SanFranciscoAnnotation: NSObject, MKAnnotation {\n    \n    \/\/ This property must be key-value observable, which the `@objc dynamic` attributes provide.\n    @objc dynamic var coordinate = CLLocationCoordinate2D(latitude: 37.779_379, longitude: -122.418_433)\n    \n    \/\/ Required if you set the annotation view's `canShowCallout` property to `true`\n    var title: String? = NSLocalizedString(\"SAN_FRANCISCO_TITLE\", comment: \"SF annotation\")\n    \n    \/\/ This property defined by `MKAnnotation` is not required.\n    var subtitle: String? = NSLocalizedString(\"SAN_FRANCISCO_SUBTITLE\", comment: \"SF annotation\")\n}",
      "language" : "swift"
    },
    {
      "code" : "private func registerMapAnnotationViews() {\n    mapView.register(MKMarkerAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(BridgeAnnotation.self))\n    mapView.register(CustomAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(CustomAnnotation.self))\n    mapView.register(MKAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(SanFranciscoAnnotation.self))\n    mapView.register(MKMarkerAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(FerryBuildingAnnotation.self))\n}",
      "language" : "swift"
    },
    {
      "code" : "func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {\n    \n    guard !annotation.isKind(of: MKUserLocation.self) else {\n        \/\/ Make a fast exit if the annotation is the `MKUserLocation`, as it's not an annotation view we wish to customize.\n        return nil\n    }\n    \n    var annotationView: MKAnnotationView?\n    \n    if let annotation = annotation as? BridgeAnnotation {\n        annotationView = setupBridgeAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? CustomAnnotation {\n        annotationView = setupCustomAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? SanFranciscoAnnotation {\n        annotationView = setupSanFranciscoAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? FerryBuildingAnnotation {\n        annotationView = setupFerryBuildingAnnotationView(for: annotation, on: mapView)\n    }\n    \n    return annotationView\n}",
      "language" : "swift"
    },
    {
      "code" : "private func setupSanFranciscoAnnotationView(for annotation: SanFranciscoAnnotation, on mapView: MKMapView) -> MKAnnotationView {\n    let reuseIdentifier = NSStringFromClass(SanFranciscoAnnotation.self)\n    let flagAnnotationView = mapView.dequeueReusableAnnotationView(withIdentifier: reuseIdentifier, for: annotation)\n    \n    flagAnnotationView.canShowCallout = true\n    \n    \/\/ Provide the annotation view's image.\n    let image = #imageLiteral(resourceName: \"flag\")\n    flagAnnotationView.image = image\n    \n    \/\/ Provide the left image icon for the annotation.\n    flagAnnotationView.leftCalloutAccessoryView = UIImageView(image: #imageLiteral(resourceName: \"sf_icon\"))\n    \n    \/\/ Offset the flag annotation so that the flag pole rests on the map coordinate.\n    let offset = CGPoint(x: image.size.width \/ 2, y: -(image.size.height \/ 2) )\n    flagAnnotationView.centerOffset = offset\n    \n    return flagAnnotationView\n}",
      "language" : "swift"
    },
    {
      "code" : "let rightButton = UIButton(type: .detailDisclosure)\nmarkerAnnotationView.rightCalloutAccessoryView = rightButton",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Provide an image view to use as the accessory view's detail view.\nmarkerAnnotationView.detailCalloutAccessoryView = UIImageView(image: #imageLiteral(resourceName: \"ferry_building\"))",
      "language" : "swift"
    }
  ],
  "contentHash" : "363319aa261a682d59c1828b2d35464d71b84a75d1b9bc78bb6e3034f4813509",
  "crawledAt" : "2025-12-02T15:30:49Z",
  "id" : "DDEAE91C-9AD2-4AD1-8EE6-637F09B0B048",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "MapKit",
  "overview" : "## Overview\n\nThis sample code project demonstrates how to display a map with custom annotations, each with a customized callout provided by its [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView]. In addition, the Map Callouts sample project shows how you can extend annotations with custom views, strings, and callout accessory views using [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation] and [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView].\n\n### Provide an Annotation\n\nAnnotations offer a way to highlight specific coordinates on a map and provide additional information. You can use annotations to call out addresses, points of interest, and particular destinations.\n\nTo display an annotation on a map, your app must provide two distinct objects: an annotation object and an annotation view.\n\nAn annotation object conforms to the `MKAnnotation` protocol and manages the data for the annotation, such as the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/coordinate], [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/title], and [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/subtitle] properties as shown in this section of the sample code.\n\nDerived from the `MKAnnotationView` class, an annotation view draws the visual representation of the annotation on the map surface. Register annotation views with the `MKMapView` so the map view can create and efficiently reuse them. Use a default annotation view if you need to customize the content with  a callout, or change the default marker. Use a custom annotation view if you want to have a completely custom view appear for the annotation.\n\nWhen an annotation comes into view, the map view asks the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKMapViewDelegate] to provide the appropriate annotation view.\n\nBefore returning from the delegate call providing the annotation view, you configure the annotation view with any customizations required for the annotation. For example, use a flag icon for an annotation view representing San Francisco.\n\n### Create Callouts\n\nA callout is a standard or custom view that can appear with an annotation view. A standard callout displays the annotation’s title, and it can display additional content such as a subtitle, images, and a control.\n\nA callout can be customized in multiple ways. To place a disclosure button inside a callout:\n\nWhen the disclosure button is tapped, MapKit calls [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKMapViewDelegate\/mapView(_:annotationView:calloutAccessoryControlTapped:)] for the app to handle the tap event.\n\nCallouts can also include images, such as the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView\/detailCalloutAccessoryView]:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MapKit\/annotating-a-map-with-custom-data\ncrawled: 2025-12-02T15:30:49Z\n---\n\n# Annotating a Map with Custom Data\n\n**Sample Code**\n\nAnnotate a map with location-specific data using default and customized annotation views and callouts.\n\n## Overview\n\nThis sample code project demonstrates how to display a map with custom annotations, each with a customized callout provided by its [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView]. In addition, the Map Callouts sample project shows how you can extend annotations with custom views, strings, and callout accessory views using [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation] and [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView].\n\n### Provide an Annotation\n\nAnnotations offer a way to highlight specific coordinates on a map and provide additional information. You can use annotations to call out addresses, points of interest, and particular destinations.\n\nTo display an annotation on a map, your app must provide two distinct objects: an annotation object and an annotation view.\n\nAn annotation object conforms to the `MKAnnotation` protocol and manages the data for the annotation, such as the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/coordinate], [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/title], and [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotation\/subtitle] properties as shown in this section of the sample code.\n\n```swift\nclass SanFranciscoAnnotation: NSObject, MKAnnotation {\n    \n    \/\/ This property must be key-value observable, which the `@objc dynamic` attributes provide.\n    @objc dynamic var coordinate = CLLocationCoordinate2D(latitude: 37.779_379, longitude: -122.418_433)\n    \n    \/\/ Required if you set the annotation view's `canShowCallout` property to `true`\n    var title: String? = NSLocalizedString(\"SAN_FRANCISCO_TITLE\", comment: \"SF annotation\")\n    \n    \/\/ This property defined by `MKAnnotation` is not required.\n    var subtitle: String? = NSLocalizedString(\"SAN_FRANCISCO_SUBTITLE\", comment: \"SF annotation\")\n}\n```\n\nDerived from the `MKAnnotationView` class, an annotation view draws the visual representation of the annotation on the map surface. Register annotation views with the `MKMapView` so the map view can create and efficiently reuse them. Use a default annotation view if you need to customize the content with  a callout, or change the default marker. Use a custom annotation view if you want to have a completely custom view appear for the annotation.\n\n```swift\nprivate func registerMapAnnotationViews() {\n    mapView.register(MKMarkerAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(BridgeAnnotation.self))\n    mapView.register(CustomAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(CustomAnnotation.self))\n    mapView.register(MKAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(SanFranciscoAnnotation.self))\n    mapView.register(MKMarkerAnnotationView.self, forAnnotationViewWithReuseIdentifier: NSStringFromClass(FerryBuildingAnnotation.self))\n}\n```\n\nWhen an annotation comes into view, the map view asks the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKMapViewDelegate] to provide the appropriate annotation view.\n\n```swift\nfunc mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {\n    \n    guard !annotation.isKind(of: MKUserLocation.self) else {\n        \/\/ Make a fast exit if the annotation is the `MKUserLocation`, as it's not an annotation view we wish to customize.\n        return nil\n    }\n    \n    var annotationView: MKAnnotationView?\n    \n    if let annotation = annotation as? BridgeAnnotation {\n        annotationView = setupBridgeAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? CustomAnnotation {\n        annotationView = setupCustomAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? SanFranciscoAnnotation {\n        annotationView = setupSanFranciscoAnnotationView(for: annotation, on: mapView)\n    } else if let annotation = annotation as? FerryBuildingAnnotation {\n        annotationView = setupFerryBuildingAnnotationView(for: annotation, on: mapView)\n    }\n    \n    return annotationView\n}\n```\n\nBefore returning from the delegate call providing the annotation view, you configure the annotation view with any customizations required for the annotation. For example, use a flag icon for an annotation view representing San Francisco.\n\n```swift\nprivate func setupSanFranciscoAnnotationView(for annotation: SanFranciscoAnnotation, on mapView: MKMapView) -> MKAnnotationView {\n    let reuseIdentifier = NSStringFromClass(SanFranciscoAnnotation.self)\n    let flagAnnotationView = mapView.dequeueReusableAnnotationView(withIdentifier: reuseIdentifier, for: annotation)\n    \n    flagAnnotationView.canShowCallout = true\n    \n    \/\/ Provide the annotation view's image.\n    let image = #imageLiteral(resourceName: \"flag\")\n    flagAnnotationView.image = image\n    \n    \/\/ Provide the left image icon for the annotation.\n    flagAnnotationView.leftCalloutAccessoryView = UIImageView(image: #imageLiteral(resourceName: \"sf_icon\"))\n    \n    \/\/ Offset the flag annotation so that the flag pole rests on the map coordinate.\n    let offset = CGPoint(x: image.size.width \/ 2, y: -(image.size.height \/ 2) )\n    flagAnnotationView.centerOffset = offset\n    \n    return flagAnnotationView\n}\n```\n\n### Create Callouts\n\nA callout is a standard or custom view that can appear with an annotation view. A standard callout displays the annotation’s title, and it can display additional content such as a subtitle, images, and a control.\n\nA callout can be customized in multiple ways. To place a disclosure button inside a callout:\n\n```swift\nlet rightButton = UIButton(type: .detailDisclosure)\nmarkerAnnotationView.rightCalloutAccessoryView = rightButton\n```\n\nWhen the disclosure button is tapped, MapKit calls [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKMapViewDelegate\/mapView(_:annotationView:calloutAccessoryControlTapped:)] for the app to handle the tap event.\n\nCallouts can also include images, such as the [doc:\/\/com.apple.documentation\/documentation\/MapKit\/MKAnnotationView\/detailCalloutAccessoryView]:\n\n```swift\n\/\/ Provide an image view to use as the accessory view's detail view.\nmarkerAnnotationView.detailCalloutAccessoryView = UIImageView(image: #imageLiteral(resourceName: \"ferry_building\"))\n```\n\n## Location annotations\n\n- **MKPointAnnotation**: A string-based piece of location-specific data that you apply to a specific point on a map.\n- **MKMapItemAnnotation**: An annotation that represents a map item\n- **MKMarkerAnnotationView**: An annotation view that displays a balloon-shaped marker at the designated location.\n- **MKPinAnnotationView**: An annotation view that displays a pin image on the map.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A string-based piece of location-specific data that you apply to a specific point on a map.",
          "name" : "MKPointAnnotation",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKPointAnnotation"
        },
        {
          "description" : "An annotation that represents a map item",
          "name" : "MKMapItemAnnotation",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKMapItemAnnotation"
        },
        {
          "description" : "An annotation view that displays a balloon-shaped marker at the designated location.",
          "name" : "MKMarkerAnnotationView",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKMarkerAnnotationView"
        },
        {
          "description" : "An annotation view that displays a pin image on the map.",
          "name" : "MKPinAnnotationView",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKPinAnnotationView"
        }
      ],
      "title" : "Location annotations"
    }
  ],
  "source" : "appleJSON",
  "title" : "Annotating a Map with Custom Data",
  "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/annotating-a-map-with-custom-data"
}