{
  "abstract" : "Sets the drag state for the annotation view.",
  "codeExamples" : [

  ],
  "contentHash" : "792fb0a26c723d86478cb7b55851512d80333e17b8b156ca6060b5a8c1eaebaf",
  "crawledAt" : "2025-12-03T12:45:12Z",
  "declaration" : {
    "code" : "@MainActor func setDragState(_ newDragState: MKAnnotationView.DragState, animated: Bool)",
    "language" : "swift"
  },
  "id" : "1916059A-5CD2-4ED0-B3A8-C6EFC1F8A985",
  "kind" : "method",
  "language" : "swift",
  "module" : "MapKit",
  "overview" : "## Discussion\n\nApps can override this method and use it to implement drag support for custom annotation views. As the system detects user actions that indicate a drag, it calls this method to update the drag state. In response to these changes, your custom implementation of this method needs to do the following:\n\nThe default implementation of this method sets the value of the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/dragState-swift.property] property to the value in the `newDragState` parameter only. Therefore, direct subclasses can call the inherited version of this method to change the drag state; otherwise, change the value in the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/isDraggable] property directly.\n\nChanging the state to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/dragging] or [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/none] is the way to signal to the map view when you finish performing animations. For example, when a drag operation begins for an annotation, the class executes an animation to lift the view off the map. Similarly, when the user drops the annotation, the class performs a drop animation. Even if you don’t perform any animations, call the inherited version of this method to update the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/dragState-swift.property] property.\n\nDon’t try to stop a new drag operation by changing the state from [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/starting] to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/none]. If you don’t want your annotation view to be draggable, set the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/isDraggable] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MapKit\/MKAnnotationView\/setDragState(_:animated:)\ncrawled: 2025-12-03T12:45:12Z\n---\n\n# setDragState(_:animated:)\n\n**Instance Method**\n\nSets the drag state for the annotation view.\n\n## Declaration\n\n```swift\n@MainActor func setDragState(_ newDragState: MKAnnotationView.DragState, animated: Bool)\n```\n\n## Parameters\n\n- **newDragState**: The new drag state for the annotation view.\n- **animated**: If [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the map view animates the change to the new drag state; otherwise, the map view makes the change without animations.\n\n## Discussion\n\nApps can override this method and use it to implement drag support for custom annotation views. As the system detects user actions that indicate a drag, it calls this method to update the drag state. In response to these changes, your custom implementation of this method needs to do the following:\n\n- When the drag state changes to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/starting], set the state to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/dragging]. If you perform an animation to indicate the beginning of a drag, and the `animated` parameter is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], perform that animation before changing the state.\n- When the state changes to either [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/canceling] or [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/ending], set the state to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/none]. If you perform an animation at the end of a drag, and the `animated` parameter is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], perform that animation before changing the state.\n\nThe default implementation of this method sets the value of the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/dragState-swift.property] property to the value in the `newDragState` parameter only. Therefore, direct subclasses can call the inherited version of this method to change the drag state; otherwise, change the value in the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/isDraggable] property directly.\n\nChanging the state to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/dragging] or [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/none] is the way to signal to the map view when you finish performing animations. For example, when a drag operation begins for an annotation, the class executes an animation to lift the view off the map. Similarly, when the user drops the annotation, the class performs a drop animation. Even if you don’t perform any animations, call the inherited version of this method to update the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/dragState-swift.property] property.\n\nDon’t try to stop a new drag operation by changing the state from [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/starting] to [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/DragState-swift.enum\/none]. If you don’t want your annotation view to be draggable, set the [doc:\/\/com.apple.mapkit\/documentation\/MapKit\/MKAnnotationView\/isDraggable] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false].\n\n## Supporting drag operations\n\n- **isDraggable**: A Boolean value that indicates whether the annotation view is draggable.\n- **dragState**: The drag state of the annotation view.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the annotation view is draggable.",
          "name" : "isDraggable",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKAnnotationView\/isDraggable"
        },
        {
          "description" : "The drag state of the annotation view.",
          "name" : "dragState",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKAnnotationView\/dragState-swift.property"
        }
      ],
      "title" : "Supporting drag operations"
    }
  ],
  "source" : "appleJSON",
  "title" : "setDragState(_:animated:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/MapKit\/MKAnnotationView\/setDragState(_:animated:)"
}