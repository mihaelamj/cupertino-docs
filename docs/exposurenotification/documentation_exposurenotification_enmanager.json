{
  "abstract" : "A class that manages exposure notifications.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "9a97fbd3ea1fca172b05c3a16e791f843d03e7adfc282705b9450799308dc25d",
  "crawledAt" : "2025-12-04T10:02:01Z",
  "declaration" : {
    "code" : "class ENManager",
    "language" : "swift"
  },
  "id" : "0DEEF0CA-CAD2-48D1-826E-9AB4B17FB004",
  "kind" : "class",
  "language" : "swift",
  "module" : "Exposure Notification",
  "overview" : "## Overview\n\nBefore using an instance of this class, call [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/activate(completionHandler:)]. If the completion handler completes successfully, you can work with the remaining properties and methods on the class. Activating this object doesn’t enable exposure notification; it only allows this object to be used. Once activated, exposure notification can be enabled with [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/setExposureNotificationEnabled(_:completionHandler:)], if needed.\n\nIf the app no longer needs an instance of this class, you must call [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()], which stops any outstanding operations and invokes the invalidation handler.\n\nThe framework invokes the invalidation handler once invalidation finishes, and performs the invocation exactly once, even if [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()] is called multiple times. It does not call any additional handlers.\n\nAfter calling [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()], your app can’t reuse the object. A new object must be created for subsequent use. The framework clears strong references once invalidation completes to break potential retain cycles. You don’t need to use weak references within your handlers to avoid retain cycles when using this class.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/exposurenotification\/enmanager\ncrawled: 2025-12-04T10:02:01Z\n---\n\n# ENManager\n\n**Class**\n\nA class that manages exposure notifications.\n\n## Declaration\n\n```swift\nclass ENManager\n```\n\n## Overview\n\n\n\nBefore using an instance of this class, call [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/activate(completionHandler:)]. If the completion handler completes successfully, you can work with the remaining properties and methods on the class. Activating this object doesn’t enable exposure notification; it only allows this object to be used. Once activated, exposure notification can be enabled with [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/setExposureNotificationEnabled(_:completionHandler:)], if needed.\n\nIf the app no longer needs an instance of this class, you must call [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()], which stops any outstanding operations and invokes the invalidation handler.\n\n\n\nThe framework invokes the invalidation handler once invalidation finishes, and performs the invocation exactly once, even if [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()] is called multiple times. It does not call any additional handlers.\n\nAfter calling [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENManager\/invalidate()], your app can’t reuse the object. A new object must be created for subsequent use. The framework clears strong references once invalidation completes to break potential retain cycles. You don’t need to use weak references within your handlers to avoid retain cycles when using this class.\n\n## Activating the Manager\n\n- **activate(completionHandler:)**: Prepares the manager for use.\n- **activityHandler**: The handler that the framework invokes when the app activates a notification manager.\n- **ENActivityHandler**: The handler the system invokes to report activities that occurred while the app wasn’t running.\n- **ENActivityFlags**: Activities that occur while the app isn’t running.\n- **setExposureNotificationEnabled(_:completionHandler:)**: Enables or disables exposure notification.\n\n## Obtaining Exposure Information\n\n- **detectExposures(configuration:diagnosisKeyURLs:completionHandler:)**: Detects exposures using the configuration that you specify for controlling the scoring algorithm.\n- **detectExposures(configuration:completionHandler:)**: Detects exposures using the specified configuration to control the scoring algorithm.\n- **getExposureWindows(summary:completionHandler:)**: Obtains information from the provided summary about the user’s exposure within a window of time.\n- **ENGetExposureWindowsHandler**: The handler the system invokes when the acquisition of windows completes.\n- **getUserTraveled(completionHandler:)**: Obtains information about the user’s travel within an exposure period.\n- **ENGetUserTraveledHandler**: The handler the system invokes when acquistiion of the user’s travel status completes.\n- **getExposureInfo(summary:userExplanation:completionHandler:)**: Returns information about each exposure.\n\n## Obtaining Exposure Keys\n\n- **getDiagnosisKeys(completionHandler:)**: Requests the temporary exposure keys from the user’s device to share with a server.\n- **getTestDiagnosisKeys(completionHandler:)**: Requests the temporary exposure keys, including the current key, used by this device for testing.\n- **ENTemporaryExposureKey**: The key used to generate rolling proximity identifiers.\n\n## Configuring the Manager\n\n- **exposureNotificationStatus**: A property that indicates the status of exposure notifications.\n- **exposureNotificationEnabled**: A property that indicates that a user enabled exposure notification.\n- **authorizationStatus**: A property that reports the current authorization status of the app, and never prompts the user.\n- **dispatchQueue**: The dispatch queue on which to invoke handlers.\n\n## Preauthorizing Exposure Keys\n\n- **requestPreAuthorizedDiagnosisKeys(completionHandler:)**: Requests diagnosis keys after the user authorizes sharing them.\n- **preAuthorizeDiagnosisKeys(completionHandler:)**: Allows users to authorize a one-time release of diagnosis keys within five days of the authorization.\n- **ENDiagnosisKeysAvailableHandler**: The handler the system invokes after requesting diagnosis keys.\n- **diagnosisKeysAvailableHandler**: The handler that receives available diagnosis keys after a successful preauthorization.\n\n## Invalidating the Manager\n\n- **invalidate()**: Stops any outstanding operations and invalidates the manager.\n\n## Instance Properties\n\n- **invalidationHandler**: The handler that the framework invokes when invalidation completes.\n\n## Essentials\n\n- **Supporting Exposure Notifications Express**: Configure servers to notify users of potential exposures to COVID-19 without an app.\n- **Building an App to Notify Users of COVID-19 Exposure**: Inform people when they may have been exposed to COVID-19.\n- **Setting Up a Key Server**: Ensure that your server meets the requirements for supporting Exposure Notifications.\n- **ENDeveloperRegion**: A string that specifies the region that the app supports.\n- **ENAPIVersion**: A number that specifies the version of the API to use.\n- **Changing Configuration Values Using the Server‑to‑Server API**: Update Exposure Notifications configuration values from a Public Health Authority’s server.\n- **Testing Exposure Notifications Apps in iOS 13.7 and Later**: Perform end-to-end validation of Exposure Notifications apps on a device by manually loading configuration files.\n- **Supporting Exposure Notifications in iOS 12.5**: Prepare your Exposure Notifications app to run on a previous version of iOS.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prepares the manager for use.",
          "name" : "activate(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/activate(completionHandler:)"
        },
        {
          "description" : "The handler that the framework invokes when the app activates a notification manager.",
          "name" : "activityHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/activityHandler"
        },
        {
          "description" : "The handler the system invokes to report activities that occurred while the app wasn’t running.",
          "name" : "ENActivityHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENActivityHandler"
        },
        {
          "description" : "Activities that occur while the app isn’t running.",
          "name" : "ENActivityFlags",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENActivityFlags"
        },
        {
          "description" : "Enables or disables exposure notification.",
          "name" : "setExposureNotificationEnabled(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/setExposureNotificationEnabled(_:completionHandler:)"
        }
      ],
      "title" : "Activating the Manager"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detects exposures using the configuration that you specify for controlling the scoring algorithm.",
          "name" : "detectExposures(configuration:diagnosisKeyURLs:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/detectExposures(configuration:diagnosisKeyURLs:completionHandler:)"
        },
        {
          "description" : "Detects exposures using the specified configuration to control the scoring algorithm.",
          "name" : "detectExposures(configuration:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/detectExposures(configuration:completionHandler:)"
        },
        {
          "description" : "Obtains information from the provided summary about the user’s exposure within a window of time.",
          "name" : "getExposureWindows(summary:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/getExposureWindows(summary:completionHandler:)"
        },
        {
          "description" : "The handler the system invokes when the acquisition of windows completes.",
          "name" : "ENGetExposureWindowsHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENGetExposureWindowsHandler"
        },
        {
          "description" : "Obtains information about the user’s travel within an exposure period.",
          "name" : "getUserTraveled(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/getUserTraveled(completionHandler:)"
        },
        {
          "description" : "The handler the system invokes when acquistiion of the user’s travel status completes.",
          "name" : "ENGetUserTraveledHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENGetUserTraveledHandler"
        },
        {
          "description" : "Returns information about each exposure.",
          "name" : "getExposureInfo(summary:userExplanation:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/getExposureInfo(summary:userExplanation:completionHandler:)"
        }
      ],
      "title" : "Obtaining Exposure Information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Requests the temporary exposure keys from the user’s device to share with a server.",
          "name" : "getDiagnosisKeys(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/getDiagnosisKeys(completionHandler:)"
        },
        {
          "description" : "Requests the temporary exposure keys, including the current key, used by this device for testing.",
          "name" : "getTestDiagnosisKeys(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/getTestDiagnosisKeys(completionHandler:)"
        },
        {
          "description" : "The key used to generate rolling proximity identifiers.",
          "name" : "ENTemporaryExposureKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENTemporaryExposureKey"
        }
      ],
      "title" : "Obtaining Exposure Keys"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A property that indicates the status of exposure notifications.",
          "name" : "exposureNotificationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/exposureNotificationStatus"
        },
        {
          "description" : "A property that indicates that a user enabled exposure notification.",
          "name" : "exposureNotificationEnabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/exposureNotificationEnabled"
        },
        {
          "description" : "A property that reports the current authorization status of the app, and never prompts the user.",
          "name" : "authorizationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/authorizationStatus"
        },
        {
          "description" : "The dispatch queue on which to invoke handlers.",
          "name" : "dispatchQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/dispatchQueue"
        }
      ],
      "title" : "Configuring the Manager"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Requests diagnosis keys after the user authorizes sharing them.",
          "name" : "requestPreAuthorizedDiagnosisKeys(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/requestPreAuthorizedDiagnosisKeys(completionHandler:)"
        },
        {
          "description" : "Allows users to authorize a one-time release of diagnosis keys within five days of the authorization.",
          "name" : "preAuthorizeDiagnosisKeys(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/preAuthorizeDiagnosisKeys(completionHandler:)"
        },
        {
          "description" : "The handler the system invokes after requesting diagnosis keys.",
          "name" : "ENDiagnosisKeysAvailableHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENDiagnosisKeysAvailableHandler"
        },
        {
          "description" : "The handler that receives available diagnosis keys after a successful preauthorization.",
          "name" : "diagnosisKeysAvailableHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/diagnosisKeysAvailableHandler"
        }
      ],
      "title" : "Preauthorizing Exposure Keys"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Stops any outstanding operations and invalidates the manager.",
          "name" : "invalidate()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/invalidate()"
        }
      ],
      "title" : "Invalidating the Manager"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The handler that the framework invokes when invalidation completes.",
          "name" : "invalidationHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENManager\/invalidationHandler"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure servers to notify users of potential exposures to COVID-19 without an app.",
          "name" : "Supporting Exposure Notifications Express",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/supporting-exposure-notifications-express"
        },
        {
          "description" : "Inform people when they may have been exposed to COVID-19.",
          "name" : "Building an App to Notify Users of COVID-19 Exposure",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/building-an-app-to-notify-users-of-covid-19-exposure"
        },
        {
          "description" : "Ensure that your server meets the requirements for supporting Exposure Notifications.",
          "name" : "Setting Up a Key Server",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/setting-up-a-key-server"
        },
        {
          "description" : "A string that specifies the region that the app supports.",
          "name" : "ENDeveloperRegion",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/ENDeveloperRegion"
        },
        {
          "description" : "A number that specifies the version of the API to use.",
          "name" : "ENAPIVersion",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/ENAPIVersion"
        },
        {
          "description" : "Update Exposure Notifications configuration values from a Public Health Authority’s server.",
          "name" : "Changing Configuration Values Using the Server‑to‑Server API",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/changing-configuration-values-using-the-server-to-server-api"
        },
        {
          "description" : "Perform end-to-end validation of Exposure Notifications apps on a device by manually loading configuration files.",
          "name" : "Testing Exposure Notifications Apps in iOS 13.7 and Later",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/testing-exposure-notifications-apps-in-ios-13-7-and-later"
        },
        {
          "description" : "Prepare your Exposure Notifications app to run on a previous version of iOS.",
          "name" : "Supporting Exposure Notifications in iOS 12.5",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/supporting-exposure-notifications-in-ios-12-5"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "ENManager",
  "url" : "https:\/\/developer.apple.com\/documentation\/exposurenotification\/enmanager"
}