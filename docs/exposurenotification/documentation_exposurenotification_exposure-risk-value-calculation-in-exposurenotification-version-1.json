{
  "abstract" : "Learn how to determine a user’s risk of exposure.",
  "codeExamples" : [
    {
      "code" : "totalRiskScore = transmissionRiskValue * durationRiskValue *\ndaysSinceLastExposureRiskValue * attenuationRiskValue",
      "language" : "swift"
    }
  ],
  "contentHash" : "8ddbf5b9c8adf587731b9e06f0d4f2c0ca31b8f0acd45d1410cd6e76c99bf576",
  "crawledAt" : "2025-12-04T10:00:31Z",
  "id" : "0DE17B93-CC89-4276-A247-DB0774040C55",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Exposure Notification",
  "overview" : "## Overview\n\nThe ExposureNotification framework uses an Exposure Risk Value to assist the user in determining whether they may have been exposed to the coronavirus. Health authorities have flexibility in calculating this value by setting weights and values in a configuration object.\n\nTo adopt this method of risk assessment, set the `ENAPIVersion` key to the integer value `1` in the app’s `Info.plist`.\n\nThe following diagram illustrates the data structure and formula used to calculate the Exposure Risk Value.\n\n\n\nThe following parameters are used to calculate a risk for each exposure incident:\n\nThe [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureInfo\/totalRiskScore] is calculated using the following formula:\n\nLevel values are in the range of 0-8. While the formula’s range can be up to 4096, the framework limits [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureInfo\/totalRiskScore] to the upper limit of [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENRiskScore], which has a maximum value of 255.\n\nThe following diagram illustrates an example of an Exposure Risk Value calculated for a person who was exposed to another person who was diagnosed positive.\n\n\n\nFor this example, the other user reported a positive diagnosis, the encounter between the two devices lasted 14 minutes, it happened 4 days ago, and the signal strength attenuation between their phones had a weighted average of 68. The `totalRiskScore` is limited and set to 255.\n\nTo exclude exposure incidents with a risk score below a certain amount, set  [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureConfiguration\/minimumRiskScoreFullRange]. The framework doesn’t use this property when calculating [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureDetectionSummary\/matchedKeyCount] or [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureConfiguration\/daysSinceLastExposureThreshold].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ExposureNotification\/exposure-risk-value-calculation-in-exposurenotification-version-1\ncrawled: 2025-12-04T10:00:31Z\n---\n\n# Exposure Risk Value Calculation in ExposureNotification Version 1\n\n**API Collection**\n\nLearn how to determine a user’s risk of exposure.\n\n## Overview\n\nThe ExposureNotification framework uses an Exposure Risk Value to assist the user in determining whether they may have been exposed to the coronavirus. Health authorities have flexibility in calculating this value by setting weights and values in a configuration object.\n\nTo adopt this method of risk assessment, set the `ENAPIVersion` key to the integer value `1` in the app’s `Info.plist`.\n\nThe following diagram illustrates the data structure and formula used to calculate the Exposure Risk Value.\n\n\n\nThe following parameters are used to calculate a risk for each exposure incident:\n\n\n\nThe [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureInfo\/totalRiskScore] is calculated using the following formula:\n\n```swift\ntotalRiskScore = transmissionRiskValue * durationRiskValue *\ndaysSinceLastExposureRiskValue * attenuationRiskValue\n```\n\nLevel values are in the range of 0-8. While the formula’s range can be up to 4096, the framework limits [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureInfo\/totalRiskScore] to the upper limit of [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENRiskScore], which has a maximum value of 255.\n\nThe following diagram illustrates an example of an Exposure Risk Value calculated for a person who was exposed to another person who was diagnosed positive.\n\n\n\nFor this example, the other user reported a positive diagnosis, the encounter between the two devices lasted 14 minutes, it happened 4 days ago, and the signal strength attenuation between their phones had a weighted average of 68. The `totalRiskScore` is limited and set to 255.\n\nTo exclude exposure incidents with a risk score below a certain amount, set  [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureConfiguration\/minimumRiskScoreFullRange]. The framework doesn’t use this property when calculating [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureDetectionSummary\/matchedKeyCount] or [doc:\/\/com.apple.exposurenotification\/documentation\/ExposureNotification\/ENExposureConfiguration\/daysSinceLastExposureThreshold].\n\n## Exposure Information\n\n- **ENExposureInfo**: The incident information related to a potential exposure.\n- **ENRiskScore**: A value signifying the risk of an exposure event.\n- **ENRiskLevel**: The user’s estimated risk of exposure.\n- **ENRiskLevelValue**: The value associated with a particular risk level.\n\n## Level Configuration\n\n- **attenuationDurationThresholds**: The configurable signal-loss thresholds for calculating exposure risk.\n- **attenuationLevelValues**: The level values for attenuation.\n- **daysSinceLastExposureLevelValues**: The level values for days since last exposure.\n- **durationLevelValues**: The level values for duration.\n- **transmissionRiskLevelValues**: The level values for transmission risk.\n- **metadata**: The metadata you use to configure the exposure calculations.\n\n## Minimum Threshold Configuration\n\n- **minimumRiskScore**: The value that is the user’s minimum risk score.\n- **minimumRiskScoreFullRange**: The value that is the user’s full-range minimum risk score.\n\n## Weight Configuration\n\n- **attenuationWeight**: The weight assigned to a score for the Bluetooth signal strength.\n- **daysSinceLastExposureWeight**: The weight assigned to a score for the days since the user’s exposure.\n- **durationWeight**: The weight assigned to a score for the duration of the user’s exposure.\n- **transmissionRiskWeight**: The weight assigned to a score for the affected user’s estimated risk of transmission.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The incident information related to a potential exposure.",
          "name" : "ENExposureInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureInfo"
        },
        {
          "description" : "A value signifying the risk of an exposure event.",
          "name" : "ENRiskScore",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENRiskScore"
        },
        {
          "description" : "The user’s estimated risk of exposure.",
          "name" : "ENRiskLevel",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENRiskLevel"
        },
        {
          "description" : "The value associated with a particular risk level.",
          "name" : "ENRiskLevelValue",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENRiskLevelValue"
        }
      ],
      "title" : "Exposure Information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The configurable signal-loss thresholds for calculating exposure risk.",
          "name" : "attenuationDurationThresholds",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/attenuationDurationThresholds"
        },
        {
          "description" : "The level values for attenuation.",
          "name" : "attenuationLevelValues",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/attenuationLevelValues"
        },
        {
          "description" : "The level values for days since last exposure.",
          "name" : "daysSinceLastExposureLevelValues",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/daysSinceLastExposureLevelValues"
        },
        {
          "description" : "The level values for duration.",
          "name" : "durationLevelValues",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/durationLevelValues"
        },
        {
          "description" : "The level values for transmission risk.",
          "name" : "transmissionRiskLevelValues",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/transmissionRiskLevelValues"
        },
        {
          "description" : "The metadata you use to configure the exposure calculations.",
          "name" : "metadata",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/metadata"
        }
      ],
      "title" : "Level Configuration"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The value that is the user’s minimum risk score.",
          "name" : "minimumRiskScore",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/minimumRiskScore"
        },
        {
          "description" : "The value that is the user’s full-range minimum risk score.",
          "name" : "minimumRiskScoreFullRange",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/minimumRiskScoreFullRange"
        }
      ],
      "title" : "Minimum Threshold Configuration"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The weight assigned to a score for the Bluetooth signal strength.",
          "name" : "attenuationWeight",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/attenuationWeight"
        },
        {
          "description" : "The weight assigned to a score for the days since the user’s exposure.",
          "name" : "daysSinceLastExposureWeight",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/daysSinceLastExposureWeight"
        },
        {
          "description" : "The weight assigned to a score for the duration of the user’s exposure.",
          "name" : "durationWeight",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/durationWeight"
        },
        {
          "description" : "The weight assigned to a score for the affected user’s estimated risk of transmission.",
          "name" : "transmissionRiskWeight",
          "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/ENExposureConfiguration\/transmissionRiskWeight"
        }
      ],
      "title" : "Weight Configuration"
    }
  ],
  "source" : "appleJSON",
  "title" : "Exposure Risk Value Calculation in ExposureNotification Version 1",
  "url" : "https:\/\/developer.apple.com\/documentation\/ExposureNotification\/exposure-risk-value-calculation-in-exposurenotification-version-1"
}