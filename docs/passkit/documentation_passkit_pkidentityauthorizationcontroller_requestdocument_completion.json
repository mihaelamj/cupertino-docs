{
  "abstract" : "Prompts the user to approve the request to get the identity information.",
  "codeExamples" : [

  ],
  "contentHash" : "8d668c6ff0f2f63f31d846eb28e57ee34691c82519d0e988f934b5ee031e7a56",
  "crawledAt" : "2025-12-02T08:12:31Z",
  "declaration" : {
    "code" : "func requestDocument(_ request: PKIdentityRequest, completion: @escaping (PKIdentityDocument?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "75E4B29E-D225-4915-BAD5-2291C4FBD802",
  "kind" : "method",
  "module" : "PassKit (Apple Pay and Wallet)",
  "overview" : "## Discussion\n\nThe user needs to approve the request before releasing any data. When the user approves the request, the system returns the document. If the user doesn’t approve the request, the handler returns a [doc:\/\/com.apple.passkit\/documentation\/PassKit\/PKIdentityError-swift.struct\/Code\/cancelled] error.\n\nOnly one request can be in progress at a time; otherwise, the method returns a [doc:\/\/com.apple.passkit\/documentation\/PassKit\/PKIdentityError-swift.struct\/Code\/requestAlreadyInProgress] error.\n\nYour app’s `Info.plist` file needs to provide a message for the `NSIdentityUsageDescription` key. If this key is missing, any attempt to request a document fails.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/PassKit\/PKIdentityAuthorizationController\/requestDocument(_:completion:)\ncrawled: 2025-12-02T08:12:31Z\n---\n\n# requestDocument(_:completion:)\n\n**Instance Method**\n\nPrompts the user to approve the request to get the identity information.\n\n## Declaration\n\n```swift\nfunc requestDocument(_ request: PKIdentityRequest, completion: @escaping (PKIdentityDocument?, (any Error)?) -> Void)\n```\n\n```swift\nfunc requestDocument(_ request: PKIdentityRequest) async throws -> PKIdentityDocument\n```\n\n## Parameters\n\n- **request**: The object that contains the identity elements the app requests.\n- **completion**: The callback the system invokes after retrieving the document, or an error if one occurs.\n\n## Discussion\n\nThe user needs to approve the request before releasing any data. When the user approves the request, the system returns the document. If the user doesn’t approve the request, the handler returns a [doc:\/\/com.apple.passkit\/documentation\/PassKit\/PKIdentityError-swift.struct\/Code\/cancelled] error.\n\nOnly one request can be in progress at a time; otherwise, the method returns a [doc:\/\/com.apple.passkit\/documentation\/PassKit\/PKIdentityError-swift.struct\/Code\/requestAlreadyInProgress] error.\n\nYour app’s `Info.plist` file needs to provide a message for the `NSIdentityUsageDescription` key. If this key is missing, any attempt to request a document fails.\n\n## Requesting a document\n\n- **checkCanRequestDocument(_:completion:)**: Returns whether an identity document is available to request.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns whether an identity document is available to request.",
          "name" : "checkCanRequestDocument(_:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKIdentityAuthorizationController\/checkCanRequestDocument(_:completion:)"
        }
      ],
      "title" : "Requesting a document"
    }
  ],
  "source" : "appleJSON",
  "title" : "requestDocument(_:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKIdentityAuthorizationController\/requestDocument(_:completion:)"
}