{
  "abstract" : "Tells the delegate that the user authorized the payment request, and asks for a result.",
  "codeExamples" : [

  ],
  "contentHash" : "1f6961a193bc0a5bfb9126214e32b51e7434d5bb88ffe7610670a2447bc9d5aa",
  "crawledAt" : "2025-12-07T17:41:47Z",
  "declaration" : {
    "code" : "optional func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController, didAuthorizePayment payment: PKPayment, handler completion: @escaping (PKPaymentAuthorizationResult) -> Void)",
    "language" : "swift"
  },
  "id" : "44455AFC-0C41-42C1-AA4C-F79A794A3293",
  "kind" : "method",
  "language" : "swift",
  "module" : "PassKit (Apple Pay and Wallet)",
  "overview" : "## Discussion\n\nThe system calls this method after it authorizes the payment request. You submit the payment information to your payment processor to authorize the transaction, and then call the completion handler.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didAuthorizePayment:handler:)\ncrawled: 2025-12-07T17:41:47Z\n---\n\n# paymentAuthorizationViewController(_:didAuthorizePayment:handler:)\n\n**Instance Method**\n\nTells the delegate that the user authorized the payment request, and asks for a result.\n\n## Declaration\n\n```swift\noptional func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController, didAuthorizePayment payment: PKPayment, handler completion: @escaping (PKPaymentAuthorizationResult) -> Void)\n```\n\n```swift\noptional func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController, didAuthorizePayment payment: PKPayment) async -> PKPaymentAuthorizationResult\n```\n\n## Parameters\n\n- **controller**: The payment authorization view controller.\n- **payment**: The authorized payment. This object contains the payment token you need to submit to your payment processor, as well as the billing and shipping information required by the payment request.\n- **completion**: The completion handler to call with the result of authorizing the payment.\n\n## Discussion\n\nThe system calls this method after it authorizes the payment request. You submit the payment information to your payment processor to authorize the transaction, and then call the completion handler.\n\n## Handling user’s payment authorization\n\n- **paymentAuthorizationViewController(_:didRequestMerchantSessionUpdate:)**: Requests an object that validates the identity of a merchant for a payment request.\n- **paymentAuthorizationViewControllerWillAuthorizePayment(_:)**: Tells the delegate that the user is authorizing the payment request.\n- **paymentAuthorizationViewController(_:didAuthorizePayment:completion:)**: Tells the delegate that the user authorized the payment request, and asks for a result.\n- **paymentAuthorizationViewControllerDidFinish(_:)**: Tells the delegate that payment authorization finished.\n- **paymentAuthorizationViewController(_:didSelect:handler:)**: Tells the delegate that the user changed the payment method, and asks for an updated payment request.\n- **paymentAuthorizationViewController(_:didSelect:completion:)**: Tells the delegate that the user changed the payment method, and asks for an updated payment request.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Requests an object that validates the identity of a merchant for a payment request.",
          "name" : "paymentAuthorizationViewController(_:didRequestMerchantSessionUpdate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didRequestMerchantSessionUpdate:)"
        },
        {
          "description" : "Tells the delegate that the user is authorizing the payment request.",
          "name" : "paymentAuthorizationViewControllerWillAuthorizePayment(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewControllerWillAuthorizePayment(_:)"
        },
        {
          "description" : "Tells the delegate that the user authorized the payment request, and asks for a result.",
          "name" : "paymentAuthorizationViewController(_:didAuthorizePayment:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didAuthorizePayment:completion:)"
        },
        {
          "description" : "Tells the delegate that payment authorization finished.",
          "name" : "paymentAuthorizationViewControllerDidFinish(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewControllerDidFinish(_:)"
        },
        {
          "description" : "Tells the delegate that the user changed the payment method, and asks for an updated payment request.",
          "name" : "paymentAuthorizationViewController(_:didSelect:handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didSelect:handler:)-3bex6"
        },
        {
          "description" : "Tells the delegate that the user changed the payment method, and asks for an updated payment request.",
          "name" : "paymentAuthorizationViewController(_:didSelect:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didSelect:completion:)-30s85"
        }
      ],
      "title" : "Handling user’s payment authorization"
    }
  ],
  "source" : "appleJSON",
  "title" : "paymentAuthorizationViewController(_:didAuthorizePayment:handler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/PassKit\/PKPaymentAuthorizationViewControllerDelegate\/paymentAuthorizationViewController(_:didAuthorizePayment:handler:)"
}