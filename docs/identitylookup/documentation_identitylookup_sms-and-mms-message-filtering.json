{
  "abstract" : "Create an app extension that identifies and filters unwanted SMS and MMS messages while preserving user privacy.",
  "codeExamples" : [

  ],
  "contentHash" : "24b5be3b10b64fde0d82ab41691a9290ad6c5d3aaae559c559c74913384ee97e",
  "crawledAt" : "2025-12-07T16:29:49Z",
  "id" : "F46B33D5-263F-4D7B-94FE-660292C18875",
  "kind" : "collection",
  "language" : "swift",
  "module" : "SMS and Call Reporting",
  "overview" : "## Overview\n\nWhen a user receives an SMS or MMS message from an unknown sender, the Messages app can ask your Message Filter app extension to determine whether the message is unsolicited or otherwise unwanted. Your app extension can make this determination by using its own built-in data and logic or by deferring to analysis done by your associated server.\n\nTo find out if a message from an unknown sender is unwanted, the Messages app launches the currently enabled Message Filter app extension and queries it, as shown in the figure below.\n\n\n\nThe Messages app uses an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryRequest] object to pass information about the message to your Message Filter app extension. If your app extension can determine whether the message is unwanted, it returns its decision to Messages in an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryResponse] object.\n\nIf your app extension can’t make this determination by itself, it tells Messages to send the information about the message to a server associated with your app. Your server examines the message information and sends a response to Messages, which passes the response to your app extension. The app extension parses the server’s response and returns the final decision to Messages in an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryResponse] object, as shown in the figure below.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/IdentityLookup\/sms-and-mms-message-filtering\ncrawled: 2025-12-07T16:29:49Z\n---\n\n# SMS and MMS Message Filtering\n\n**API Collection**\n\nCreate an app extension that identifies and filters unwanted SMS and MMS messages while preserving user privacy.\n\n## Overview\n\nWhen a user receives an SMS or MMS message from an unknown sender, the Messages app can ask your Message Filter app extension to determine whether the message is unsolicited or otherwise unwanted. Your app extension can make this determination by using its own built-in data and logic or by deferring to analysis done by your associated server.\n\n\n\nTo find out if a message from an unknown sender is unwanted, the Messages app launches the currently enabled Message Filter app extension and queries it, as shown in the figure below.\n\n\n\nThe Messages app uses an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryRequest] object to pass information about the message to your Message Filter app extension. If your app extension can determine whether the message is unwanted, it returns its decision to Messages in an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryResponse] object.\n\nIf your app extension can’t make this determination by itself, it tells Messages to send the information about the message to a server associated with your app. Your server examines the message information and sends a response to Messages, which passes the response to your app extension. The app extension parses the server’s response and returns the final decision to Messages in an [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryResponse] object, as shown in the figure below.\n\n\n\n\n\n## First Steps\n\n- **Creating a Message Filter App Extension**: Create an app extension that helps identify unwanted messages.\n\n## App Extension\n\n- **ILMessageFilterExtensionContext**: The extension context for a Message Filter app extension.\n- **ILMessageFilterExtension**: The abstract base class for the principal class of a Message Filter app extension.\n\n## Queries\n\n- **ILMessageFilterQueryRequest**: A request for a Message Filter app extension to determine the status of a message received from an unknown sender.\n- **ILMessageFilterQueryHandling**: A set of methods implemented by a Message Filter app extension to handle query requests.\n\n## Responses\n\n- **ILMessageFilterQueryResponse**: A response to a message filter query request.\n- **ILNetworkResponse**: A response to an HTTPS network request performed on behalf of a Message Filter app extension.\n- **ILMessageFilterAction**: Responds to a received message with a filter action.\n\n## Errors\n\n- **ILMessageFilterError**: An error type that indicates problems with network requests and responses related to IdentityLookup APIs.\n- **ILMessageFilterErrorDomain**: The error domain for errors associated with the IdentityLookup APIs.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create an app extension that helps identify unwanted messages.",
          "name" : "Creating a Message Filter App Extension",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/creating-a-message-filter-app-extension"
        }
      ],
      "title" : "First Steps"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The extension context for a Message Filter app extension.",
          "name" : "ILMessageFilterExtensionContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterExtensionContext"
        },
        {
          "description" : "The abstract base class for the principal class of a Message Filter app extension.",
          "name" : "ILMessageFilterExtension",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterExtension"
        }
      ],
      "title" : "App Extension"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A request for a Message Filter app extension to determine the status of a message received from an unknown sender.",
          "name" : "ILMessageFilterQueryRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterQueryRequest"
        },
        {
          "description" : "A set of methods implemented by a Message Filter app extension to handle query requests.",
          "name" : "ILMessageFilterQueryHandling",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterQueryHandling"
        }
      ],
      "title" : "Queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A response to a message filter query request.",
          "name" : "ILMessageFilterQueryResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterQueryResponse"
        },
        {
          "description" : "A response to an HTTPS network request performed on behalf of a Message Filter app extension.",
          "name" : "ILNetworkResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILNetworkResponse"
        },
        {
          "description" : "Responds to a received message with a filter action.",
          "name" : "ILMessageFilterAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterAction"
        }
      ],
      "title" : "Responses"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An error type that indicates problems with network requests and responses related to IdentityLookup APIs.",
          "name" : "ILMessageFilterError",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterError-swift.struct"
        },
        {
          "description" : "The error domain for errors associated with the IdentityLookup APIs.",
          "name" : "ILMessageFilterErrorDomain",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/ILMessageFilterErrorDomain"
        }
      ],
      "title" : "Errors"
    }
  ],
  "source" : "appleJSON",
  "title" : "SMS and MMS Message Filtering",
  "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/sms-and-mms-message-filtering"
}