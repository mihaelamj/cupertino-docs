{
  "abstract" : "Create an app extension that helps identify unwanted messages.",
  "codeExamples" : [
    {
      "code" : "<key>NSExtension<\/key>\n    <dict>\n        <key>NSExtensionPrincipalClass<\/key>\n            <string>MessageFilterExtension<\/string>\n        <key>NSExtensionAttributes<\/key>\n            <dict>\n                <key>ILMessageFilterExtensionNetworkURL<\/key>\n                <string>https:\/\/www.example-sms-filter-application.com\/api<\/string>\n            <\/dict>\n        <key>NSExtensionPointIdentifier<\/key>\n        <string>com.apple.identitylookup.message-filter<\/string>\n     <\/dict>",
      "language" : "xml"
    }
  ],
  "contentHash" : "3963c09c6adbeda2fef434c6868846efa724e0eaf775317603b2f3f23bd1a293",
  "crawledAt" : "2025-12-07T16:30:31Z",
  "id" : "3837EAA0-3C67-40F5-9641-B1B28A04A076",
  "kind" : "article",
  "language" : "swift",
  "module" : "SMS and Call Reporting",
  "overview" : "## Overview\n\nTo create a Message Filter app extension, add a target that uses the Message Filter Extension template to the Xcode project for your containing app. The principal view controller in your app extension is a subclass of [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterExtension] that adopts the [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryHandling] protocol.\n\nIf you have servers that can help your app extension determine how to handle a message, you must add the Associated Domains capability to your Xcode project and specify those domains. Then, you must set up shared credentials as described in [doc:\/\/com.apple.documentation\/documentation\/Security\/shared-web-credentials], substituting `messagefilter` for `webcredentials` throughout the steps. Lastly, you must specify the domains in your `Info.plist` file, which should look similar to the dictionary shown below.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/IdentityLookup\/creating-a-message-filter-app-extension\ncrawled: 2025-12-07T16:30:31Z\n---\n\n# Creating a Message Filter App Extension\n\n**Article**\n\nCreate an app extension that helps identify unwanted messages.\n\n## Overview\n\nTo create a Message Filter app extension, add a target that uses the Message Filter Extension template to the Xcode project for your containing app. The principal view controller in your app extension is a subclass of [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterExtension] that adopts the [doc:\/\/com.apple.identitylookup\/documentation\/IdentityLookup\/ILMessageFilterQueryHandling] protocol.\n\nIf you have servers that can help your app extension determine how to handle a message, you must add the Associated Domains capability to your Xcode project and specify those domains. Then, you must set up shared credentials as described in [doc:\/\/com.apple.documentation\/documentation\/Security\/shared-web-credentials], substituting `messagefilter` for `webcredentials` throughout the steps. Lastly, you must specify the domains in your `Info.plist` file, which should look similar to the dictionary shown below.\n\n```xml\n<key>NSExtension<\/key>\n    <dict>\n        <key>NSExtensionPrincipalClass<\/key>\n            <string>MessageFilterExtension<\/string>\n        <key>NSExtensionAttributes<\/key>\n            <dict>\n                <key>ILMessageFilterExtensionNetworkURL<\/key>\n                <string>https:\/\/www.example-sms-filter-application.com\/api<\/string>\n            <\/dict>\n        <key>NSExtensionPointIdentifier<\/key>\n        <string>com.apple.identitylookup.message-filter<\/string>\n     <\/dict>\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Creating a Message Filter App Extension",
  "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/creating-a-message-filter-app-extension"
}