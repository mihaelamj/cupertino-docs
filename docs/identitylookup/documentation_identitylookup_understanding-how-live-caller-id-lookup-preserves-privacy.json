{
  "abstract" : "Use Live Caller ID Lookup to protect user privacy by hiding the client’s IP address, using anonymous authentication, and hiding the incoming phone number.",
  "codeExamples" : [

  ],
  "contentHash" : "92405a964e10a7493bf79f937869d977599b6d7ab6e1936e732d9ab19ede12bb",
  "crawledAt" : "2025-12-05T12:31:33Z",
  "id" : "A161DF6C-1B84-4D17-B242-DC951A9F6335",
  "kind" : "article",
  "language" : "swift",
  "module" : "SMS and Call Reporting",
  "overview" : "## Overview\n\nThe Live Caller ID Lookup feature allows you to check incoming calls against your server for known spam numbers while preserving user privacy. When someone’s device receives a phone call, the system communicates with your back-end server to retrieve caller ID and blocking information, and then displays that information on the incoming call screen and in the device’s recent calls.\n\n\n\nApple’s implementation of Live Caller ID Lookup upholds user privacy while providing useful information. It does this by:\n\n### Hide the client’s IP address\n\nLive Caller ID Lookup hides identifiable information using Apple’s Oblivious HTTP.\n\n\n\nThe Oblivious HTTP routes requests through two relays hosted by different parties. The first relay removes the client’s IP address from the incoming request and can’t see the destination address. A third-party provider hosts the second relay. This removes the IP address before it reaches the server.\n\n### Use anonymous authentication\n\nLive Caller ID Lookup uses the Privacy Pass protocol, which requires you to authenticate the users who register with the service without sharing their identity or linking the client’s identity to the query. First, your on-device app authenticates the client using a temporary ID and receives a long-term token (user token). Then, the app hands this token to the on-device system. From there, the system runs multiple round protocols with your server, and receives several private tokens that it can use to make authenticated anonymous queries.\n\nYour server doesn’t learn which user token the system has. Additionally, your on-device, client-side app only participates in the initial authentication. The client-side app doesn’t know the private tokens and query phone numbers because the system controls them. This ensures authentication while preserving privacy.\n\n### Hide the incoming number\n\nApple’s Oblivious HTTP and Privacy Pass hide the client’s identity from your server. However, they don’t hide the query itself. Live Caller ID Lookup uses KPIR to hide client queries. KPIR is a cryptographic protocol that calls the server to fetch data corresponding to a particular keyword from the hosted database without revealing the keyword to the server. Implementing the Live Caller ID Lookup feature requires the service provider to run a KPIR server on its database and handle all of the client’s KPIR encrypted queries. For more information, see the [https:\/\/github.com\/apple\/live-caller-id-lookup-example].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/identitylookup\/understanding-how-live-caller-id-lookup-preserves-privacy\ncrawled: 2025-12-05T12:31:33Z\n---\n\n# Understanding how Live Caller ID Lookup preserves privacy\n\n**Article**\n\nUse Live Caller ID Lookup to protect user privacy by hiding the client’s IP address, using anonymous authentication, and hiding the incoming phone number.\n\n## Overview\n\nThe Live Caller ID Lookup feature allows you to check incoming calls against your server for known spam numbers while preserving user privacy. When someone’s device receives a phone call, the system communicates with your back-end server to retrieve caller ID and blocking information, and then displays that information on the incoming call screen and in the device’s recent calls.\n\n\n\nApple’s implementation of Live Caller ID Lookup upholds user privacy while providing useful information. It does this by:\n\n- Hiding the client’s IP address using Apple’s Oblivious HTTP.\n- Using anonymous authentication with the Privacy Pass protocol.\n- Hiding the incoming number by using keyword private information retrieval (KPIR).\n\n### Hide the client’s IP address\n\nLive Caller ID Lookup hides identifiable information using Apple’s Oblivious HTTP.\n\n\n\nThe Oblivious HTTP routes requests through two relays hosted by different parties. The first relay removes the client’s IP address from the incoming request and can’t see the destination address. A third-party provider hosts the second relay. This removes the IP address before it reaches the server.\n\n### Use anonymous authentication\n\nLive Caller ID Lookup uses the Privacy Pass protocol, which requires you to authenticate the users who register with the service without sharing their identity or linking the client’s identity to the query. First, your on-device app authenticates the client using a temporary ID and receives a long-term token (user token). Then, the app hands this token to the on-device system. From there, the system runs multiple round protocols with your server, and receives several private tokens that it can use to make authenticated anonymous queries.\n\nYour server doesn’t learn which user token the system has. Additionally, your on-device, client-side app only participates in the initial authentication. The client-side app doesn’t know the private tokens and query phone numbers because the system controls them. This ensures authentication while preserving privacy.\n\n### Hide the incoming number\n\nApple’s Oblivious HTTP and Privacy Pass hide the client’s identity from your server. However, they don’t hide the query itself. Live Caller ID Lookup uses KPIR to hide client queries. KPIR is a cryptographic protocol that calls the server to fetch data corresponding to a particular keyword from the hosted database without revealing the keyword to the server. Implementing the Live Caller ID Lookup feature requires the service provider to run a KPIR server on its database and handle all of the client’s KPIR encrypted queries. For more information, see the [https:\/\/github.com\/apple\/live-caller-id-lookup-example].\n\n## Live Caller ID Lookup\n\n- **Formatting data for blocking and identity information**: Set up your PIR payload for call blocking and identity information.\n- **Setting up the HTTP endpoints for Live Caller ID Lookup**: Connect the on-device system to your server.\n- **Getting up-to-date calling and blocking information for your app**: Implement the Live Caller ID Lookup app extension to provide call-blocking and identity services.\n- **LiveCallerIDLookupProtocol**: Information the system uses to query the app extension for context.\n- **LiveCallerIDLookupExtensionConfiguration**: An object that allows the system to query the app extension.\n- **LiveCallerIDLookupExtensionContext**: The information the system uses for configuration.\n- **CallLookupExtensionStatus**: Returns a value with the current state of the app extension.\n- **LiveCallerIDLookupManager**: The entry point that provides access to a collection of functions that help manage the state of the Live Caller ID Lookup app extension.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Set up your PIR payload for call blocking and identity information.",
          "name" : "Formatting data for blocking and identity information",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/formatting-data-for-blocking-and-identity-information"
        },
        {
          "description" : "Connect the on-device system to your server.",
          "name" : "Setting up the HTTP endpoints for Live Caller ID Lookup",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/setting-up-the-http-endpoints-for-live-caller-id-lookup"
        },
        {
          "description" : "Implement the Live Caller ID Lookup app extension to provide call-blocking and identity services.",
          "name" : "Getting up-to-date calling and blocking information for your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/getting-up-to-date-calling-and-blocking-information-for-your-app"
        },
        {
          "description" : "Information the system uses to query the app extension for context.",
          "name" : "LiveCallerIDLookupProtocol",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/LiveCallerIDLookupProtocol"
        },
        {
          "description" : "An object that allows the system to query the app extension.",
          "name" : "LiveCallerIDLookupExtensionConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/LiveCallerIDLookupExtensionConfiguration"
        },
        {
          "description" : "The information the system uses for configuration.",
          "name" : "LiveCallerIDLookupExtensionContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/LiveCallerIDLookupExtensionContext"
        },
        {
          "description" : "Returns a value with the current state of the app extension.",
          "name" : "CallLookupExtensionStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/CallLookupExtensionStatus"
        },
        {
          "description" : "The entry point that provides access to a collection of functions that help manage the state of the Live Caller ID Lookup app extension.",
          "name" : "LiveCallerIDLookupManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/IdentityLookup\/LiveCallerIDLookupManager"
        }
      ],
      "title" : "Live Caller ID Lookup"
    }
  ],
  "source" : "appleJSON",
  "title" : "Understanding how Live Caller ID Lookup preserves privacy",
  "url" : "https:\/\/developer.apple.com\/documentation\/identitylookup\/understanding-how-live-caller-id-lookup-preserves-privacy"
}