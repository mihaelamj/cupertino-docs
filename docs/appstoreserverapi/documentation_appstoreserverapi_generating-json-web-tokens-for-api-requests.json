{
  "abstract" : "Create JSON Web Tokens signed with your private key to authorize requests for App Store Server API and External Purchase Server API.",
  "codeExamples" : [
    {
      "code" : "{\n  \"alg\": \"ES256\",\n  \"kid\": \"2X9R4HXF34\",\n  \"typ\": \"JWT\"\n}",
      "language" : "javascript"
    },
    {
      "code" : "{\n  \"iss\": \"57246542-96fe-1a63e053-0824d011072a\",\n  \"iat\": 1623085200,\n  \"exp\": 1623086400,\n  \"aud\": \"appstoreconnect-v1\",\n  \"bid\": \"com.example.testbundleid\"\n}",
      "language" : "javascript"
    },
    {
      "code" : "curl -v -H 'Authorization: Bearer [signed token]' \n\"https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/subscriptions\/{transactionId}\"",
      "language" : "other"
    }
  ],
  "contentHash" : "202327851a3460acf44a937880858f1c337137cfba8854e7233c04b321ef1e06",
  "crawledAt" : "2025-12-01T09:11:51Z",
  "id" : "AA387690-4C26-4D39-AFC2-7BFB8646A12D",
  "kind" : "article",
  "module" : "App Store Server API",
  "overview" : "## Overview\n\nJSON Web Token (JWT) is an open standard ([https:\/\/tools.ietf.org\/html\/rfc7519]) that defines a way to securely transmit information. The [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] and [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI] require a JWT to authorize each request you make to the API. You create the token, signing it with the private key you downloaded from App Store Connect. For more information about creating keys, see [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/creating-api-keys-to-authorize-api-requests].\n\nTo generate a signed JWT:\n\nInclude the signed JWT in the authorization header of each API request. Generate a new signed JWT for each new request.\n\n### Create the JWT header\n\nTo create a JWT to communicate with the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] or [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI], use the following fields and values in the header:\n\nTo get your key ID, copy it from App Store Connect by logging in to [https:\/\/appstoreconnect.apple.com\/], then:\n\nIf you have more than one API key, copy the key ID of the private key that you use to sign the JWT.\n\nHere’s an example of a JWT header:\n\n### Create the JWT payload\n\nThe JWT payload contains information specific to the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] and [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI], such as issuer ID and expiration time. Use the following fields — also known as JWT claims — to include these values in the JWT payload:\n\nTo get your issuer ID, log in to [https:\/\/appstoreconnect.apple.com\/], then:\n\nHere’s an example of a JWT payload:\n\nNote that the JWT is valid for up to one hour after the time you indicate in the `iat` field, or it expires sooner if you set the `exp` field for an earlier time.\n\n### Sign the JWT\n\nUse the private key associated with the key ID you specified in the header to sign the token using ES256 encryption.\n\nThere are a variety of open source libraries available online for creating and signing JWT tokens. See [https:\/\/jwt.io\/] for more information.  For calls to the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI], consider using the App Store Server Library to create the JWTs instead. For more information, see [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/simplifying-your-implementation-by-using-the-app-store-server-library].\n\n### Include the JWT in the authorization header of the request\n\nAfter you create and sign the JWT, provide it in the request’s authorization header as a bearer token.\n\nThe following example for the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] shows a `curl` command using a bearer token. Replace the text `[signed token]` with the value of the signed JWT itself. Replace `{transactionId}` with a transaction identifier of your customer.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/generating-json-web-tokens-for-api-requests\ncrawled: 2025-12-01T09:11:51Z\n---\n\n# Generating JSON Web Tokens for API requests\n\n**Article**\n\nCreate JSON Web Tokens signed with your private key to authorize requests for App Store Server API and External Purchase Server API.\n\n## Overview\n\nJSON Web Token (JWT) is an open standard ([https:\/\/tools.ietf.org\/html\/rfc7519]) that defines a way to securely transmit information. The [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] and [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI] require a JWT to authorize each request you make to the API. You create the token, signing it with the private key you downloaded from App Store Connect. For more information about creating keys, see [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/creating-api-keys-to-authorize-api-requests].\n\nTo generate a signed JWT:\n\n1. Create the JWT header.\n2. Create the JWT payload.\n3. Sign the JWT.\n\nInclude the signed JWT in the authorization header of each API request. Generate a new signed JWT for each new request.\n\n\n\n### Create the JWT header\n\nTo create a JWT to communicate with the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] or [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI], use the following fields and values in the header:\n\n\n\nTo get your key ID, copy it from App Store Connect by logging in to [https:\/\/appstoreconnect.apple.com\/], then:\n\n1. Select Users and Access, then select the Keys tab.\n2. The key IDs appear in a column under the Active heading. Hover the cursor next to a key ID to display the Copy Key ID link.\n3. Click Copy Key ID.\n\nIf you have more than one API key, copy the key ID of the private key that you use to sign the JWT.\n\nHere’s an example of a JWT header:\n\n```javascript\n{\n  \"alg\": \"ES256\",\n  \"kid\": \"2X9R4HXF34\",\n  \"typ\": \"JWT\"\n}\n```\n\n### Create the JWT payload\n\nThe JWT payload contains information specific to the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] and [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI], such as issuer ID and expiration time. Use the following fields — also known as JWT claims — to include these values in the JWT payload:\n\n\n\nTo get your issuer ID, log in to [https:\/\/appstoreconnect.apple.com\/], then:\n\n1. Select Users and Access, then select the Keys tab.\n2. The issuer ID appears near the top of the page. To copy the issuer ID, click Copy next to the ID.\n\nHere’s an example of a JWT payload:\n\n```javascript\n{\n  \"iss\": \"57246542-96fe-1a63e053-0824d011072a\",\n  \"iat\": 1623085200,\n  \"exp\": 1623086400,\n  \"aud\": \"appstoreconnect-v1\",\n  \"bid\": \"com.example.testbundleid\"\n}\n```\n\nNote that the JWT is valid for up to one hour after the time you indicate in the `iat` field, or it expires sooner if you set the `exp` field for an earlier time.\n\n### Sign the JWT\n\nUse the private key associated with the key ID you specified in the header to sign the token using ES256 encryption.\n\nThere are a variety of open source libraries available online for creating and signing JWT tokens. See [https:\/\/jwt.io\/] for more information.  For calls to the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI], consider using the App Store Server Library to create the JWTs instead. For more information, see [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/simplifying-your-implementation-by-using-the-app-store-server-library].\n\n### Include the JWT in the authorization header of the request\n\nAfter you create and sign the JWT, provide it in the request’s authorization header as a bearer token.\n\nThe following example for the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI] shows a `curl` command using a bearer token. Replace the text `[signed token]` with the value of the signed JWT itself. Replace `{transactionId}` with a transaction identifier of your customer.\n\n```other\ncurl -v -H 'Authorization: Bearer [signed token]' \n\"https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/subscriptions\/{transactionId}\"\n```\n\n## Essentials\n\n- **Simplifying your implementation by using the App Store Server Library**: Use Apple’s open source library to create JSON Web Tokens (JWT) to authorize your calls, verify transactions, extract transaction identifiers from receipts, and more.\n- **Creating API keys to authorize API requests**: Create API keys you use to sign JSON Web Tokens and authorize API requests.\n- **Identifying rate limits**: Recognize the rate limits that apply to App Store Server API endpoints and handle them in your code.\n- **App Store Server API changelog**: Learn about new features and updates in the App Store Server API.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use Apple’s open source library to create JSON Web Tokens (JWT) to authorize your calls, verify transactions, extract transaction identifiers from receipts, and more.",
          "name" : "Simplifying your implementation by using the App Store Server Library",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/simplifying-your-implementation-by-using-the-app-store-server-library"
        },
        {
          "description" : "Create API keys you use to sign JSON Web Tokens and authorize API requests.",
          "name" : "Creating API keys to authorize API requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/creating-api-keys-to-authorize-api-requests"
        },
        {
          "description" : "Recognize the rate limits that apply to App Store Server API endpoints and handle them in your code.",
          "name" : "Identifying rate limits",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/identifying-rate-limits"
        },
        {
          "description" : "Learn about new features and updates in the App Store Server API.",
          "name" : "App Store Server API changelog",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/app-store-server-api-changelog"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Generating JSON Web Tokens for API requests",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/generating-json-web-tokens-for-api-requests"
}