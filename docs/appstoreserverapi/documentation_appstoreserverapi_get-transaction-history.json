{
  "abstract" : "Get a customer’s in-app purchase transaction history for your app.",
  "codeExamples" : [
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}?productType=NON_CONSUMABLE&productType=AUTO_RENEWABLE",
      "language" : "javascript"
    },
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}} ",
      "language" : "javascript"
    },
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}?revision={revision}",
      "language" : "javascript"
    }
  ],
  "contentHash" : "cc47e86f974e942aed67e0e418d09fa614488bad85c472bd03362a9cc4f74939",
  "crawledAt" : "2025-12-07T16:41:36Z",
  "id" : "2903CE22-5AD1-49C5-86D7-A2F87A990459",
  "kind" : "unknown",
  "language" : "data",
  "module" : "App Store Server API",
  "overview" : "## Discussion\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Get-Transaction-History] endpoint returns results for all in-app purchase product types: auto-renewable subscriptions, non-renewing subscriptions, non-consumable, and consumable. The result returns transactions in any state, including transactions that are refunded or revoked, and transactions that the app has or hasn’t marked as finished.\n\nYou can customize your request by including query parameters that filter the transaction history. The query parameters limit the scope of the request by dates, product IDs, product types, and subscription group identifiers. You can also exclude revoked or nonrevoked transactions, and limit the transactions by in-app ownership type. If you provide multiple filters in the query, the transactions that return match all the filters.\n\nYou can also specify a sort order. The App Store sorts the transactions based on their recently modified dates. Use a `DESCENDING` order to get the most recent transactions first. The App Store updates the recently modified date if the customer upgrades a subscription or the App Store revokes an in-app purchase. If a transaction updates while you’re receiving transaction history and the response is sorted in `ASCENDING` order, you may receive the transaction again with updated data.\n\nThe `productId`, `productType`, and `subscriptionGroupIdentifier` query parameters allow you to specify multiple values. To specify more than one value for a query parameter, include it in the request multiple times. For example, to filter the transaction history by non-consumable and auto-renewable product types, include the following within your request:\n\nWhen you specify multiple values for a single query parameter, the response contains transactions that match any of the values.\n\nTo request a full transaction history in ascending order for your app, start by calling the endpoint without any query parameters, as follows:\n\nFor subsequent requests, include the `revision` token from the previous [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/HistoryResponse].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/appstoreserverapi\/get-transaction-history\ncrawled: 2025-12-07T16:41:36Z\n---\n\n# Get Transaction History\n\n**Web Service Endpoint**\n\nGet a customer’s in-app purchase transaction history for your app.\n\n## Discussion\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Get-Transaction-History] endpoint returns results for all in-app purchase product types: auto-renewable subscriptions, non-renewing subscriptions, non-consumable, and consumable. The result returns transactions in any state, including transactions that are refunded or revoked, and transactions that the app has or hasn’t marked as finished.\n\nYou can customize your request by including query parameters that filter the transaction history. The query parameters limit the scope of the request by dates, product IDs, product types, and subscription group identifiers. You can also exclude revoked or nonrevoked transactions, and limit the transactions by in-app ownership type. If you provide multiple filters in the query, the transactions that return match all the filters.\n\nYou can also specify a sort order. The App Store sorts the transactions based on their recently modified dates. Use a `DESCENDING` order to get the most recent transactions first. The App Store updates the recently modified date if the customer upgrades a subscription or the App Store revokes an in-app purchase. If a transaction updates while you’re receiving transaction history and the response is sorted in `ASCENDING` order, you may receive the transaction again with updated data.\n\nThe `productId`, `productType`, and `subscriptionGroupIdentifier` query parameters allow you to specify multiple values. To specify more than one value for a query parameter, include it in the request multiple times. For example, to filter the transaction history by non-consumable and auto-renewable product types, include the following within your request:\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}?productType=NON_CONSUMABLE&productType=AUTO_RENEWABLE\n```\n\nWhen you specify multiple values for a single query parameter, the response contains transactions that match any of the values.\n\n\n\nTo request a full transaction history in ascending order for your app, start by calling the endpoint without any query parameters, as follows:\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}} \n```\n\nFor subsequent requests, include the `revision` token from the previous [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/HistoryResponse].\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v2\/history\/{transactionId}?revision={revision}\n```\n\n## In-App Purchase history\n\n- **HistoryResponse**: A response that contains the customer’s transaction history for an app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A response that contains the customer’s transaction history for an app.",
          "name" : "HistoryResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/HistoryResponse"
        }
      ],
      "title" : "In-App Purchase history"
    }
  ],
  "source" : "appleJSON",
  "title" : "Get Transaction History",
  "url" : "https:\/\/developer.apple.com\/documentation\/appstoreserverapi\/get-transaction-history"
}