{
  "abstract" : "Send consumption information about a consumable in-app purchase or auto-renewable subscription to the App Store after your server receives a consumption request notification.",
  "codeExamples" : [

  ],
  "contentHash" : "17af96b972c2df53cbbbf351403b071f51b71cfb74dfb73a6c3e3f5fda93bc9b",
  "crawledAt" : "2025-12-03T04:22:42Z",
  "id" : "8DE1C902-E57A-41D1-9CBC-C40C9AB5148C",
  "kind" : "unknown",
  "language" : "data",
  "module" : "App Store Server API",
  "overview" : "## Discussion\n\nThe App Store uses a variety of factors to determine if a refund request is approved or denied. To help inform and improve the refund process, you can send information about a user’s consumption of the in-app purchase to the App Store when the user requests a refund. The App Store uses the consumption information you provide to inform its refund decisions.\n\nWhen a customer initiates a refund request for a consumable in-app purchase or auto-renewable subscription, the App Store sends a `CONSUMPTION_REQUEST` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType] to your server through your [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] endpoint. If the customer provided consent, respond by calling this API and sending the consumption data in the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/ConsumptionRequest] to the App Store. If not, don’t respond to the `CONSUMPTION_REQUEST` notification.\n\nRespond within 12 hours of receiving the `CONSUMPTION_REQUEST` notification.\n\nFor information about configuring your server to receive App Store server notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/enabling-app-store-server-notifications]. For information about initiating refund requests in an app, see any of the refund request methods, including [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-9k0pj], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-65tph], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-63bvd], and [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-9mscy].\n\n### Obtain valid consent\n\nYou must obtain valid consent from the user before sharing their personal data with Apple in the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API. You, the developer, are solely responsible for obtaining valid consent because you’re sharing with Apple the data that you collected from the user.\n\nThe requirements to obtain valid consent vary under applicable law, and Apple can’t advise you on specific ways to obtain valid consent. Developers are responsible for determining specific compliance with applicable laws. If your app violates Apple’s guidelines, App Review will reach out and work with you to address any concerns.\n\nHere are some general guidelines to keep in mind for obtaining valid consent:\n\nThe data you share with Apple through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API isn’t used for tracking. You must separately obtain consent from users when sharing data with Apple using the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API.\n\n### Disclose data usage\n\nIf you adopt the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API, answer the app privacy questions to disclose in your labels any data you collect from your users and what you’re using it for. For more information about app privacy labels, see [https:\/\/developer.apple.com\/app-store\/app-privacy-details\/].\n\nApple uses and protects the data you share through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API in accordance with [https:\/\/www.apple.com\/legal\/privacy\/en-ww\/]. For additional information about how Apple protects data, see [https:\/\/support.apple.com\/guide\/security\/welcome\/web]. Apple retains the data you provide through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API for the period necessary to fulfill the purpose for which the data was collected, which is to improve the refund process by obtaining data that assists with reviewing the customer’s refund request. Apple may share the data you provide through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API with service providers who act on our behalf, our partners, or others at your direction. Apple will not share the data with third parties for their own marketing purposes. For more information, see [https:\/\/www.apple.com\/legal\/privacy\/data\/en\/app-store\/].\n\n### Handle requests to access or delete consumption data\n\nIf your users request access to or deletion of their personal data related to consumption information, inform them that they may submit requests directly to Apple by visiting [https:\/\/privacy.apple.com]. If your app stores data in CloudKit on behalf of your users, see [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/responding-to-requests-to-delete-data], [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/providing-user-access-to-cloudkit-data], and [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/changing-access-controls-on-user-data] for more information.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/Send-Consumption-Information\ncrawled: 2025-12-03T04:22:42Z\n---\n\n# Send Consumption Information\n\n**Web Service Endpoint**\n\nSend consumption information about a consumable in-app purchase or auto-renewable subscription to the App Store after your server receives a consumption request notification.\n\n## Discussion\n\nThe App Store uses a variety of factors to determine if a refund request is approved or denied. To help inform and improve the refund process, you can send information about a user’s consumption of the in-app purchase to the App Store when the user requests a refund. The App Store uses the consumption information you provide to inform its refund decisions.\n\nWhen a customer initiates a refund request for a consumable in-app purchase or auto-renewable subscription, the App Store sends a `CONSUMPTION_REQUEST` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType] to your server through your [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] endpoint. If the customer provided consent, respond by calling this API and sending the consumption data in the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/ConsumptionRequest] to the App Store. If not, don’t respond to the `CONSUMPTION_REQUEST` notification.\n\nRespond within 12 hours of receiving the `CONSUMPTION_REQUEST` notification.\n\nFor information about configuring your server to receive App Store server notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/enabling-app-store-server-notifications]. For information about initiating refund requests in an app, see any of the refund request methods, including [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-9k0pj], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-65tph], [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-63bvd], and [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-9mscy].\n\n### Obtain valid consent\n\nYou must obtain valid consent from the user before sharing their personal data with Apple in the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API. You, the developer, are solely responsible for obtaining valid consent because you’re sharing with Apple the data that you collected from the user.\n\nThe requirements to obtain valid consent vary under applicable law, and Apple can’t advise you on specific ways to obtain valid consent. Developers are responsible for determining specific compliance with applicable laws. If your app violates Apple’s guidelines, App Review will reach out and work with you to address any concerns.\n\nHere are some general guidelines to keep in mind for obtaining valid consent:\n\n- Valid consent is freely given, specific, informed, and unambiguous as to a user’s wishes with respect to their personal data.\n- As an example, when requesting consent, you may include: clear language that conveys to a user that you will provide Apple with some of their personal data to assist with reviewing the user’s app refund requests; clear language that conveys to users that they can withdraw their consent at any time; and a method for users to give their affirmative consent.\n- Opt-in consent is a higher standard for consent than offering an opt-out. Generally, if you don’t offer an individual the opportunity to opt out, it can be difficult to show that consent is freely given.\n- After you’ve obtained consent, if there is a change in circumstances causing you to conclude that the user’s consent is no longer valid — for example, due to a change in the way you use or share data, or if the user withdraws consent for this purpose — you should update the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/customerConsented] flag and not send any further data from that user.\n\n\n\nThe data you share with Apple through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API isn’t used for tracking. You must separately obtain consent from users when sharing data with Apple using the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API.\n\n### Disclose data usage\n\nIf you adopt the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API, answer the app privacy questions to disclose in your labels any data you collect from your users and what you’re using it for. For more information about app privacy labels, see [https:\/\/developer.apple.com\/app-store\/app-privacy-details\/].\n\nApple uses and protects the data you share through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API in accordance with [https:\/\/www.apple.com\/legal\/privacy\/en-ww\/]. For additional information about how Apple protects data, see [https:\/\/support.apple.com\/guide\/security\/welcome\/web]. Apple retains the data you provide through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API for the period necessary to fulfill the purpose for which the data was collected, which is to improve the refund process by obtaining data that assists with reviewing the customer’s refund request. Apple may share the data you provide through the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Send-Consumption-Information] API with service providers who act on our behalf, our partners, or others at your direction. Apple will not share the data with third parties for their own marketing purposes. For more information, see [https:\/\/www.apple.com\/legal\/privacy\/data\/en\/app-store\/].\n\n### Handle requests to access or delete consumption data\n\nIf your users request access to or deletion of their personal data related to consumption information, inform them that they may submit requests directly to Apple by visiting [https:\/\/privacy.apple.com]. If your app stores data in CloudKit on behalf of your users, see [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/responding-to-requests-to-delete-data], [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/providing-user-access-to-cloudkit-data], and [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/changing-access-controls-on-user-data] for more information.\n\n## Consumption information\n\n- **ConsumptionRequest**: The request body containing consumption information.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The request body containing consumption information.",
          "name" : "ConsumptionRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/ConsumptionRequest"
        }
      ],
      "title" : "Consumption information"
    }
  ],
  "source" : "appleJSON",
  "title" : "Send Consumption Information",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/Send-Consumption-Information"
}