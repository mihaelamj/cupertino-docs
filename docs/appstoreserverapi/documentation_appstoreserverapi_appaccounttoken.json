{
  "abstract" : "The UUID that you generate to associate a customer’s In-App Purchase with its resulting App Store transaction.",
  "codeExamples" : [

  ],
  "contentHash" : "ba79aff5bf99ec7c399794746d108701792f46dd977b5076093b426cd5795600",
  "crawledAt" : "2025-12-02T06:33:34Z",
  "declaration" : {
    "code" : "uuid appAccountToken",
    "language" : "swift"
  },
  "id" : "F183D4F7-2DE4-4545-AC1F-71DA0CF14653",
  "kind" : "unknown",
  "module" : "App Store Server API",
  "overview" : "## Discussion\n\nWhen a customer initiates an In-App Purchase in your app, you can optionally generate an app account token and call [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product\/PurchaseOption\/appAccountToken(_:)] to associate it with the purchase. If you use the [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/original-api-for-in-app-purchase], you can provide a UUID in the [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKMutablePayment\/applicationUsername] property. The App Store returns the same UUID in [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/appAccountToken] in the transaction information and subscription renewal information after the customer completes the purchase.\n\nTo provide an app account token for a transaction that the customer completes outside of your app, or to update the value of an existing app account token, call the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Set-App-Account-Token] endpoint.\n\n### Use the app account token with consumption requests\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/ConsumptionRequest] response body requires that you set the `appAccountToken` value to a valid value of either a UUID or an empty string. Set the `appAccountToken` value to the value you received in the `CONSUMPTION_REQUEST` notification, or, if you choose not to provide this information, set the value to an empty string.\n\nIf you receive a `CONSUMPTION_REQUEST` notification for a transaction, find its associated `appAccountToken` value as follows:\n\nThe `appAccountToken` value may be an empty string if your app doesn’t use app account tokens.\n\nFor more information about App Store Server Notifications versions, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].",
  "platforms" : [
    "Unsupported OS: App Store Server API"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/appAccountToken\ncrawled: 2025-12-02T06:33:34Z\n---\n\n# appAccountToken\n\n**Type**\n\nThe UUID that you generate to associate a customer’s In-App Purchase with its resulting App Store transaction.\n\n## Declaration\n\n```swift\nuuid appAccountToken\n```\n\n## Discussion\n\nWhen a customer initiates an In-App Purchase in your app, you can optionally generate an app account token and call [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product\/PurchaseOption\/appAccountToken(_:)] to associate it with the purchase. If you use the [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/original-api-for-in-app-purchase], you can provide a UUID in the [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKMutablePayment\/applicationUsername] property. The App Store returns the same UUID in [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/appAccountToken] in the transaction information and subscription renewal information after the customer completes the purchase.\n\nTo provide an app account token for a transaction that the customer completes outside of your app, or to update the value of an existing app account token, call the [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Set-App-Account-Token] endpoint.\n\n### Use the app account token with consumption requests\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/ConsumptionRequest] response body requires that you set the `appAccountToken` value to a valid value of either a UUID or an empty string. Set the `appAccountToken` value to the value you received in the `CONSUMPTION_REQUEST` notification, or, if you choose not to provide this information, set the value to an empty string.\n\nIf you receive a `CONSUMPTION_REQUEST` notification for a transaction, find its associated `appAccountToken` value as follows:\n\n- If you receive App Store Server Notifications version 2, the `appAccountToken` value is in [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/JWSTransactionDecodedPayload].\n- If you receive App Store Server Notifications version 1, the `appAccountToken` value is in [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/unified_receipt\/Latest_receipt_info-data.dictionary].\n\nThe `appAccountToken` value may be an empty string if your app doesn’t use app account tokens.\n\nFor more information about App Store Server Notifications versions, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].\n\n## Consumption Data Types\n\n- **accountTenure**: The age of the customer’s account.\n- **consumptionStatus**: A value that indicates the extent to which the customer consumed the in-app purchase.\n- **customerConsented**: A Boolean value that indicates whether the customer consented to provide consumption data to the App Store.\n- **deliveryStatus**: A value that indicates whether the app successfully delivered an in-app purchase that works properly.\n- **lifetimeDollarsPurchased**: A value that indicates the dollar amount of in-app purchases the customer has made in your app, since purchasing the app, across all platforms.\n- **lifetimeDollarsRefunded**: A value that indicates the dollar amount of refunds the customer has received in your app, since purchasing the app, across all platforms.\n- **platform**: The platform on which the customer consumed the in-app purchase.\n- **playTime**: A value that indicates the amount of time that the customer used the app.\n- **refundPreference**: A value that indicates your preferred outcome for the refund request.\n- **sampleContentProvided**: A Boolean value that indicates whether you provided, prior to its purchase, a free sample or trial of the content, or information about its functionality.\n- **userStatus**: The status of a customer’s account within your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The age of the customer’s account.",
          "name" : "accountTenure",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/accountTenure"
        },
        {
          "description" : "A value that indicates the extent to which the customer consumed the in-app purchase.",
          "name" : "consumptionStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/consumptionStatus"
        },
        {
          "description" : "A Boolean value that indicates whether the customer consented to provide consumption data to the App Store.",
          "name" : "customerConsented",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/customerConsented"
        },
        {
          "description" : "A value that indicates whether the app successfully delivered an in-app purchase that works properly.",
          "name" : "deliveryStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/deliveryStatus"
        },
        {
          "description" : "A value that indicates the dollar amount of in-app purchases the customer has made in your app, since purchasing the app, across all platforms.",
          "name" : "lifetimeDollarsPurchased",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/lifetimeDollarsPurchased"
        },
        {
          "description" : "A value that indicates the dollar amount of refunds the customer has received in your app, since purchasing the app, across all platforms.",
          "name" : "lifetimeDollarsRefunded",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/lifetimeDollarsRefunded"
        },
        {
          "description" : "The platform on which the customer consumed the in-app purchase.",
          "name" : "platform",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/platform"
        },
        {
          "description" : "A value that indicates the amount of time that the customer used the app.",
          "name" : "playTime",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/playTime"
        },
        {
          "description" : "A value that indicates your preferred outcome for the refund request.",
          "name" : "refundPreference",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/refundPreference"
        },
        {
          "description" : "A Boolean value that indicates whether you provided, prior to its purchase, a free sample or trial of the content, or information about its functionality.",
          "name" : "sampleContentProvided",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/sampleContentProvided"
        },
        {
          "description" : "The status of a customer’s account within your app.",
          "name" : "userStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/userStatus"
        }
      ],
      "title" : "Consumption Data Types"
    }
  ],
  "source" : "appleJSON",
  "title" : "appAccountToken",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/appAccountToken"
}