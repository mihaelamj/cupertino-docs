{
  "abstract" : "Get a customer’s in-app purchase transaction history for your app, except finished consumable in-app purchases.",
  "codeExamples" : [
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}?productType=NON_CONSUMABLE&productType=AUTO_RENEWABLE",
      "language" : "javascript"
    },
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}",
      "language" : "javascript"
    },
    {
      "code" : "GET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}?revision={revision}",
      "language" : "javascript"
    }
  ],
  "contentHash" : "6b415f1a433091127f114c510b233361b8967ec93439cfd62b0daaa2523d921b",
  "crawledAt" : "2025-12-01T09:12:29Z",
  "id" : "D8A6B831-EB71-4040-9C17-0972EBACBA79",
  "kind" : "unknown",
  "module" : "App Store Server API",
  "overview" : "## Discussion\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Get-Transaction-History-V1] endpoint returns results for the following product types:\n\nYou can customize your request by including query parameters that filter the transaction history. The query parameters limit the scope of the request by dates, product IDs, product types, and subscription group identifiers. You can also exclude revoked or nonrevoked transactions, and limit the transactions by in-app ownership type. If you provide multiple filters in the query, the transactions that return match all the filters.\n\nYou can also specify a sort order. The App Store sorts the transactions based on their recently modified dates. Use a `DESCENDING` order to get the most recent transactions first. The App Store updates the recently modified date if the customer upgrades a subscription or the App Store revokes an in-app purchase. If a transaction updates while you’re receiving transaction history and the response is sorted in `ASCENDING` order, you may receive the transaction again with updated data.\n\nThe `productId`, `productType`, and `subscriptionGroupIdentifier` query parameters allow you to specify multiple values. To specify more than one value for a query parameter, include it in the request multiple times. For example, to filter the transaction history by non-consumable and auto-renewable product types, include the following within your request:\n\nWhen you specify multiple values for a single query parameter, the response contains transactions that match any of the values.\n\nTo request a full transaction history in ascending order for your app, start by calling the endpoint without any query parameters, as follows:\n\nFor subsequent requests, include the `revision` token from the previous [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/HistoryResponse].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/Get-Transaction-History-V1\ncrawled: 2025-12-01T09:12:29Z\n---\n\n# Get Transaction History V1\n\n**Web Service Endpoint**\n\nGet a customer’s in-app purchase transaction history for your app, except finished consumable in-app purchases.\n\n## Discussion\n\nThe [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/Get-Transaction-History-V1] endpoint returns results for the following product types:\n\n- Auto-renewable subscriptions\n- Non-renewing subscriptions\n- Non-consumable in-app purchases\n- Consumable in-app purchases if the transaction is refunded or revoked, or if the app hasn’t finished processing the transaction. The results don’t include consumable in-app purchases that the app marks as finished. For more information about finishing transactions, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Transaction\/finish()] and [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)].\n\n\n\nYou can customize your request by including query parameters that filter the transaction history. The query parameters limit the scope of the request by dates, product IDs, product types, and subscription group identifiers. You can also exclude revoked or nonrevoked transactions, and limit the transactions by in-app ownership type. If you provide multiple filters in the query, the transactions that return match all the filters.\n\nYou can also specify a sort order. The App Store sorts the transactions based on their recently modified dates. Use a `DESCENDING` order to get the most recent transactions first. The App Store updates the recently modified date if the customer upgrades a subscription or the App Store revokes an in-app purchase. If a transaction updates while you’re receiving transaction history and the response is sorted in `ASCENDING` order, you may receive the transaction again with updated data.\n\nThe `productId`, `productType`, and `subscriptionGroupIdentifier` query parameters allow you to specify multiple values. To specify more than one value for a query parameter, include it in the request multiple times. For example, to filter the transaction history by non-consumable and auto-renewable product types, include the following within your request:\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}?productType=NON_CONSUMABLE&productType=AUTO_RENEWABLE\n```\n\nWhen you specify multiple values for a single query parameter, the response contains transactions that match any of the values.\n\n\n\nTo request a full transaction history in ascending order for your app, start by calling the endpoint without any query parameters, as follows:\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}\n```\n\nFor subsequent requests, include the `revision` token from the previous [doc:\/\/com.apple.appstoreserverapi\/documentation\/AppStoreServerAPI\/HistoryResponse].\n\n```javascript\nGET https:\/\/api.storekit.itunes.apple.com\/inApps\/v1\/history\/{transactionId}?revision={revision}\n```\n\n## Deprecated\n\n- **Get Refund History V1**: Get a list of up to 50 of a customer’s refunded in-app purchases for your app.\n- **RefundLookupResponse**: A response that contains an array of signed JSON Web Signature (JWS) transactions.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Get a list of up to 50 of a customer’s refunded in-app purchases for your app.",
          "name" : "Get Refund History V1",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/Get-Refund-History-V1"
        },
        {
          "description" : "A response that contains an array of signed JSON Web Signature (JWS) transactions.",
          "name" : "RefundLookupResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/RefundLookupResponse"
        }
      ],
      "title" : "Deprecated"
    }
  ],
  "source" : "appleJSON",
  "title" : "Get Transaction History V1",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerAPI\/Get-Transaction-History-V1"
}