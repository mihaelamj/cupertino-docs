{
  "abstract" : "The main key used to append data to an existing archive.",
  "codeExamples" : [

  ],
  "contentHash" : "2d9971964ec272b4417ed65f5409773714c0941eda34c2d798e1b9b5277e64f0",
  "crawledAt" : "2025-12-02T20:47:36Z",
  "declaration" : {
    "code" : "var mainKey: SymmetricKey? { get set }",
    "language" : "swift"
  },
  "id" : "6450328D-4F50-439A-9BFF-3A5EEEEA9B14",
  "kind" : "property",
  "language" : "swift",
  "module" : "Apple Archive",
  "overview" : "## Discussion\n\nUse the main key to append data to an existing AEA archive with the [doc:\/\/com.apple.applearchive\/documentation\/AppleArchive\/ArchiveByteStream\/encryptionStream(appendingTo:encryptionContext:flags:threadCount:)] function.\n\nYou can use the original credentials for symmetric key or password encryption. You need this key to reopen archives created with the ECDHE profiles.\n\nThe main key can’t be used to open the stream for decryption.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/mainKey\ncrawled: 2025-12-02T20:47:36Z\n---\n\n# mainKey\n\n**Instance Property**\n\nThe main key used to append data to an existing archive.\n\n## Declaration\n\n```swift\nvar mainKey: SymmetricKey? { get set }\n```\n\n## Discussion\n\nUse the main key to append data to an existing AEA archive with the [doc:\/\/com.apple.applearchive\/documentation\/AppleArchive\/ArchiveByteStream\/encryptionStream(appendingTo:encryptionContext:flags:threadCount:)] function.\n\nYou can use the original credentials for symmetric key or password encryption. You need this key to reopen archives created with the ECDHE profiles.\n\nThe main key can’t be used to open the stream for decryption.\n\n## Setting and retrieving keys\n\n- **symmetricKey**: The symmetric encryption key used to encrypt or decrypt an archive.\n- **generateSymmetricKey()**: Generates a symmetric encryption key.\n- **setSymmetricKey(_:)**: Sets the symmetric encryption key that the context requires for symmetric encryption mode.\n- **setRecipientPrivateKey(_:)**: Sets the recipient private key that the context requires to decrypt an archive to a specific recipient in ECDHE encryption profiles.\n- **setSigningPrivateKey(_:)**: Sets the signing private key that corresponds to the signing public key that you used to create the archive.\n- **setRecipientPublicKey(_:)**: Sets the recipient public key that the context requires to encrypt an archive to a specific recipient in ECDHE encryption profiles.\n- **setSigningPublicKey(_:)**: Sets the signing public key that the context requires to unlock a signed archive.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The symmetric encryption key used to encrypt or decrypt an archive.",
          "name" : "symmetricKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/symmetricKey"
        },
        {
          "description" : "Generates a symmetric encryption key.",
          "name" : "generateSymmetricKey()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/generateSymmetricKey()"
        },
        {
          "description" : "Sets the symmetric encryption key that the context requires for symmetric encryption mode.",
          "name" : "setSymmetricKey(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/setSymmetricKey(_:)"
        },
        {
          "description" : "Sets the recipient private key that the context requires to decrypt an archive to a specific recipient in ECDHE encryption profiles.",
          "name" : "setRecipientPrivateKey(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/setRecipientPrivateKey(_:)"
        },
        {
          "description" : "Sets the signing private key that corresponds to the signing public key that you used to create the archive.",
          "name" : "setSigningPrivateKey(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/setSigningPrivateKey(_:)"
        },
        {
          "description" : "Sets the recipient public key that the context requires to encrypt an archive to a specific recipient in ECDHE encryption profiles.",
          "name" : "setRecipientPublicKey(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/setRecipientPublicKey(_:)"
        },
        {
          "description" : "Sets the signing public key that the context requires to unlock a signed archive.",
          "name" : "setSigningPublicKey(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/setSigningPublicKey(_:)"
        }
      ],
      "title" : "Setting and retrieving keys"
    }
  ],
  "source" : "appleJSON",
  "title" : "mainKey",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveEncryptionContext\/mainKey"
}