{
  "abstract" : "An archive stream that reads from and writes to data blobs",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "ArchiveStreamProtocol"
  ],
  "contentHash" : "88de355ca01a548bca2931f89483e2a676bded7143e19306f3dfc5d024213d4b",
  "crawledAt" : "2025-12-07T03:31:12Z",
  "declaration" : {
    "code" : "class ArchiveStream",
    "language" : "swift"
  },
  "id" : "1D0F686D-F6EA-4932-9AF4-F4E5A7E2E13D",
  "kind" : "class",
  "language" : "swift",
  "module" : "Apple Archive",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\ncrawled: 2025-12-07T03:31:12Z\n---\n\n# ArchiveStream\n\n**Class**\n\nAn archive stream that reads from and writes to data blobs\n\n## Declaration\n\n```swift\nclass ArchiveStream\n```\n\n## Creating an Archive Stream\n\n- **init(object:owned:messageProc:)**: Returns a new archive stream from the specified traits and entry message processing callback.\n\n## Writing Directory Contents\n\n- **writeDirectoryContents(archiveFrom:path:keySet:selectUsing:flags:threadCount:)**: Writes all entries from a directory to the archive stream.\n\n## Extracting Data\n\n- **extractStream(extractingTo:selectUsing:flags:threadCount:)**: Opens an extract output archive stream.\n- **withExtractStream(extractingTo:selectUsing:flags:threadCount:_:)**: Calls the given closure with an extract output archive stream.\n\n## Encoding Data\n\n- **encodeStream(writingTo:selectUsing:flags:threadCount:)**: Opens an encode output archive stream.\n- **withEncodeStream(writingTo:selectUsing:flags:threadCount:_:)**: Calls the given closure with an encode output archive stream.\n\n## Decoding Data\n\n- **decodeStream(readingFrom:selectUsing:flags:threadCount:)**: Opens a decode input archive stream.\n- **withDecodeStream(readingFrom:selectUsing:flags:threadCount:_:)**: Calls the given closure with a decode input archive stream.\n\n## Converting Data\n\n- **convertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:)**: Opens a convert output archive stream.\n- **withConvertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:_:)**: Calls the given closure with a convert output archive stream.\n\n## Processing Data\n\n- **process(readingFrom:writingTo:selectUsing:flags:threadCount:)**: Processes archive elements between two archive streams.\n\n## Using Custom Streams\n\n- **customStream(instance:)**: Returns a new archive stream instance mapped to an object that conforms to the archive stream protocol.\n- **withStream(wrapping:_:)**: Calls the given closure with an archive stream instance mapped to an object that conforms to the archive stream protocol.\n\n## Apple Archive streams\n\n- **ArchiveStreamProtocol**: A set of methods that defines the interface for using an archive stream that reads from and writes to data blobs.\n- **ArchiveByteStreamProtocol**: A set of methods that defines the interface for using an archive stream that reads from and writes to buffers.\n- **ArchiveByteStream**: An archive stream that reads from and writes to buffers.\n\n## Conforms To\n\n- ArchiveStreamProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a new archive stream from the specified traits and entry message processing callback.",
          "name" : "init(object:owned:messageProc:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/init(object:owned:messageProc:)"
        }
      ],
      "title" : "Creating an Archive Stream"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Writes all entries from a directory to the archive stream.",
          "name" : "writeDirectoryContents(archiveFrom:path:keySet:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/writeDirectoryContents(archiveFrom:path:keySet:selectUsing:flags:threadCount:)"
        }
      ],
      "title" : "Writing Directory Contents"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Opens an extract output archive stream.",
          "name" : "extractStream(extractingTo:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/extractStream(extractingTo:selectUsing:flags:threadCount:)"
        },
        {
          "description" : "Calls the given closure with an extract output archive stream.",
          "name" : "withExtractStream(extractingTo:selectUsing:flags:threadCount:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/withExtractStream(extractingTo:selectUsing:flags:threadCount:_:)"
        }
      ],
      "title" : "Extracting Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Opens an encode output archive stream.",
          "name" : "encodeStream(writingTo:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/encodeStream(writingTo:selectUsing:flags:threadCount:)"
        },
        {
          "description" : "Calls the given closure with an encode output archive stream.",
          "name" : "withEncodeStream(writingTo:selectUsing:flags:threadCount:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/withEncodeStream(writingTo:selectUsing:flags:threadCount:_:)"
        }
      ],
      "title" : "Encoding Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Opens a decode input archive stream.",
          "name" : "decodeStream(readingFrom:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/decodeStream(readingFrom:selectUsing:flags:threadCount:)"
        },
        {
          "description" : "Calls the given closure with a decode input archive stream.",
          "name" : "withDecodeStream(readingFrom:selectUsing:flags:threadCount:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/withDecodeStream(readingFrom:selectUsing:flags:threadCount:_:)"
        }
      ],
      "title" : "Decoding Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Opens a convert output archive stream.",
          "name" : "convertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/convertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:)"
        },
        {
          "description" : "Calls the given closure with a convert output archive stream.",
          "name" : "withConvertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/withConvertStream(writingTo:insertKeySet:removeKeySet:selectUsing:flags:threadCount:_:)"
        }
      ],
      "title" : "Converting Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Processes archive elements between two archive streams.",
          "name" : "process(readingFrom:writingTo:selectUsing:flags:threadCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/process(readingFrom:writingTo:selectUsing:flags:threadCount:)"
        }
      ],
      "title" : "Processing Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a new archive stream instance mapped to an object that conforms to the archive stream protocol.",
          "name" : "customStream(instance:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/customStream(instance:)"
        },
        {
          "description" : "Calls the given closure with an archive stream instance mapped to an object that conforms to the archive stream protocol.",
          "name" : "withStream(wrapping:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream\/withStream(wrapping:_:)"
        }
      ],
      "title" : "Using Custom Streams"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A set of methods that defines the interface for using an archive stream that reads from and writes to data blobs.",
          "name" : "ArchiveStreamProtocol",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStreamProtocol"
        },
        {
          "description" : "A set of methods that defines the interface for using an archive stream that reads from and writes to buffers.",
          "name" : "ArchiveByteStreamProtocol",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveByteStreamProtocol"
        },
        {
          "description" : "An archive stream that reads from and writes to buffers.",
          "name" : "ArchiveByteStream",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveByteStream"
        }
      ],
      "title" : "Apple Archive streams"
    }
  ],
  "source" : "appleJSON",
  "title" : "ArchiveStream",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppleArchive\/ArchiveStream"
}