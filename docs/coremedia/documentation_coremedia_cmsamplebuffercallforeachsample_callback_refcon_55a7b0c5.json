{
  "abstract" : "Calls a function for every individual sample in a sample buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "ef6bd2d2475122d81fef1395883629d2ef566e4a3d658521e220da15a816b8d6",
  "crawledAt" : "2025-12-07T23:08:27Z",
  "declaration" : {
    "code" : "func CMSampleBufferCallForEachSample(_ sbuf: CMSampleBuffer, callback: (CMSampleBuffer, CMItemCount, UnsafeMutableRawPointer?) -> OSStatus, refcon: UnsafeMutableRawPointer?) -> OSStatus",
    "language" : "swift"
  },
  "id" : "18C069DA-EAF7-461D-98D4-339E0AD2CBDE",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Return Value\n\nA result code. See [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/sample-buffer-errors].\n\n## Discussion\n\nThe system will create temporary sample buffers for individual samples. Each sample buffer will refer to the sample data and contain its timing, size, and attachments.\n\nThe callback function may retain these sample buffers if desired. If the callback function returns an error, iteration will stop immediately and function returns the error received from the callback. The function will return `kCMSampleBufferError_CannotSubdivide` error if there are no sample sizes in the provided sample buffer. This will happen, for example, if the samples in the buffer are non-contiguous (for example, non-interleaved audio, where the channel values for a single sample are scattered through the buffer).",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferCallForEachSample(_:callback:refcon:)\ncrawled: 2025-12-07T23:08:27Z\n---\n\n# CMSampleBufferCallForEachSample(_:callback:refcon:)\n\n**Function**\n\nCalls a function for every individual sample in a sample buffer.\n\n## Declaration\n\n```swift\nfunc CMSampleBufferCallForEachSample(_ sbuf: CMSampleBuffer, callback: (CMSampleBuffer, CMItemCount, UnsafeMutableRawPointer?) -> OSStatus, refcon: UnsafeMutableRawPointer?) -> OSStatus\n```\n\n## Parameters\n\n- **sbuf**: The sample buffer that may contain multiple samples.\n- **callback**: Function to be called for each individual sample.\n- **refcon**: Refcon to be passed to the callback function.\n\n## Return Value\n\nA result code. See [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/sample-buffer-errors].\n\n## Discussion\n\nThe system will create temporary sample buffers for individual samples. Each sample buffer will refer to the sample data and contain its timing, size, and attachments.\n\nThe callback function may retain these sample buffers if desired. If the callback function returns an error, iteration will stop immediately and function returns the error received from the callback. The function will return `kCMSampleBufferError_CannotSubdivide` error if there are no sample sizes in the provided sample buffer. This will happen, for example, if the samples in the buffer are non-contiguous (for example, non-interleaved audio, where the channel values for a single sample are scattered through the buffer).\n\n## Processing Samples\n\n- **CMSampleBufferCallBlockForEachSample(_:_:)**: Calls a block for every individual sample in a sample buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Calls a block for every individual sample in a sample buffer.",
          "name" : "CMSampleBufferCallBlockForEachSample(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferCallBlockForEachSample(_:_:)"
        }
      ],
      "title" : "Processing Samples"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMSampleBufferCallForEachSample(_:callback:refcon:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferCallForEachSample(_:callback:refcon:)"
}