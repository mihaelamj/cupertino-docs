{
  "abstract" : "Returns an array of keys that you use for video format description extensions, image buffer attachments, and attributes.",
  "codeExamples" : [

  ],
  "contentHash" : "5a2b54330413076d76b1391ea1c2f3d29524b47a54245ce6bbec1dc88cfc728d",
  "crawledAt" : "2025-12-08T00:34:06Z",
  "declaration" : {
    "code" : "func CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers() -> CFArray",
    "language" : "swift"
  },
  "id" : "96D7DE89-FE7B-4760-8EB5-332A30FCB86A",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Discussion\n\nWhen specifying a `CMFormatDescription` for a `CMSampleBuffer`, the format description must be consistent with formatting information attached to the `CVImageBuffer`. The width, height, and codecType must match (for `CVPixelBuffers` the codec type is given by `CVPixelBufferGetPixelFormatType`(pixelBuffer); for other `CVImageBuffers`, the codecType must be 0). The format description extensions must match the image buffer attachments for all the keys in the list returned by this function (if absent in either they must be absent in both). Currently, the list is:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()\ncrawled: 2025-12-08T00:34:06Z\n---\n\n# CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()\n\n**Function**\n\nReturns an array of keys that you use for video format description extensions, image buffer attachments, and attributes.\n\n## Declaration\n\n```swift\nfunc CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers() -> CFArray\n```\n\n## Discussion\n\nWhen specifying a `CMFormatDescription` for a `CMSampleBuffer`, the format description must be consistent with formatting information attached to the `CVImageBuffer`. The width, height, and codecType must match (for `CVPixelBuffers` the codec type is given by `CVPixelBufferGetPixelFormatType`(pixelBuffer); for other `CVImageBuffers`, the codecType must be 0). The format description extensions must match the image buffer attachments for all the keys in the list returned by this function (if absent in either they must be absent in both). Currently, the list is:\n\n- kCMFormatDescriptionExtension_CleanAperture\n- kCMFormatDescriptionExtension_FieldCount\n- kCMFormatDescriptionExtension_FieldDetail\n- kCMFormatDescriptionExtension_PixelAspectRatio\n- kCMFormatDescriptionExtension_ColorPrimaries\n- kCMFormatDescriptionExtension_TransferFunction\n- kCMFormatDescriptionExtension_GammaLevel\n- kCMFormatDescriptionExtension_YCbCrMatrix\n- kCMFormatDescriptionExtension_ICCProfile\n- kCMFormatDescriptionExtension_ChromaLocationTopField\n- kCMFormatDescriptionExtension_ChromaLocationBottomField\n\n## Working with Video Descriptions\n\n- **CMImageDescriptionFlavor**: Types that represent image format descriptions.\n- **CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)**: Creates a format description for a video media stream.\n- **CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)**: Creates a format description for a video media stream by using an image buffer.\n- **CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)**: Returns a rectangle that defines the portion of the encoded pixel dimensions that represent the image data that’s valid for displaying.\n- **CMVideoFormatDescriptionGetDimensions(_:)**: Returns the video dimensions, in encoded pixels.\n- **CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)**: Returns the dimensions after taking the pixel aspect ratio and clean aperture into account.\n- **CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)**: Returns a Boolean value that indicates whether a format description matches an image buffer.\n- **CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)**: Creates a format description for a video media stream that the parameter set describes.\n- **CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)**: Creates a format description for a video media stream using HEVC (H.265) parameter set NAL units.\n- **CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)**: Returns a parameter set that an H.264 format description contains.\n- **CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)**: Copies the contents of a video format description to a buffer in big-endian byte ordering.\n- **CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)**: Creates a video format description from a big-endian image description inside a buffer.\n- **CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)**: Creates a video format description from a big-endian image description structure.\n- **CMSwapBigEndianImageDescriptionToHost(_:_:)**: Converts an image description data structure from big-endian to host-endian, in place.\n- **CMSwapHostEndianImageDescriptionToBig(_:_:)**: Converts an image description data structure from host-endian to big-endian, in place.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Types that represent image format descriptions.",
          "name" : "CMImageDescriptionFlavor",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMImageDescriptionFlavor"
        },
        {
          "description" : "Creates a format description for a video media stream.",
          "name" : "CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a format description for a video media stream by using an image buffer.",
          "name" : "CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)"
        },
        {
          "description" : "Returns a rectangle that defines the portion of the encoded pixel dimensions that represent the image data that’s valid for displaying.",
          "name" : "CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)"
        },
        {
          "description" : "Returns the video dimensions, in encoded pixels.",
          "name" : "CMVideoFormatDescriptionGetDimensions(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetDimensions(_:)"
        },
        {
          "description" : "Returns the dimensions after taking the pixel aspect ratio and clean aperture into account.",
          "name" : "CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)"
        },
        {
          "description" : "Returns a Boolean value that indicates whether a format description matches an image buffer.",
          "name" : "CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)"
        },
        {
          "description" : "Creates a format description for a video media stream that the parameter set describes.",
          "name" : "CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a format description for a video media stream using HEVC (H.265) parameter set NAL units.",
          "name" : "CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)"
        },
        {
          "description" : "Returns a parameter set that an H.264 format description contains.",
          "name" : "CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)"
        },
        {
          "description" : "Copies the contents of a video format description to a buffer in big-endian byte ordering.",
          "name" : "CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)"
        },
        {
          "description" : "Creates a video format description from a big-endian image description inside a buffer.",
          "name" : "CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a video format description from a big-endian image description structure.",
          "name" : "CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)"
        },
        {
          "description" : "Converts an image description data structure from big-endian to host-endian, in place.",
          "name" : "CMSwapBigEndianImageDescriptionToHost(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSwapBigEndianImageDescriptionToHost(_:_:)"
        },
        {
          "description" : "Converts an image description data structure from host-endian to big-endian, in place.",
          "name" : "CMSwapHostEndianImageDescriptionToBig(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSwapHostEndianImageDescriptionToBig(_:_:)"
        }
      ],
      "title" : "Working with Video Descriptions"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()"
}