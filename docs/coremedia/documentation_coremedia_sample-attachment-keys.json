{
  "abstract" : "Keys that specify attachments to individual samples in a buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "315bb726102f871d16142a2a35d1bd430b5dbc9c1df5126a7866afc5cc74aecf",
  "crawledAt" : "2025-12-07T23:08:26Z",
  "id" : "24D90D80-4839-412C-82A2-19CA6875A00E",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Overview\n\nYou can get and set sample-level attachments in a sample buffer using the [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)] function.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/sample-attachment-keys\ncrawled: 2025-12-07T23:08:26Z\n---\n\n# Sample Attachment Keys\n\n**API Collection**\n\nKeys that specify attachments to individual samples in a buffer.\n\n## Overview\n\nYou can get and set sample-level attachments in a sample buffer using the [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)] function.\n\n## Sample Keys\n\n- **kCMSampleAttachmentKey_NotSync**: Indicates whether the sample is a sync sample (type `CFBoolean`, default false).\n- **kCMSampleAttachmentKey_PartialSync**: Indicates whether the sample is a partial sync sample (type `CFBoolean`, default false).\n- **kCMSampleAttachmentKey_DependsOnOthers**: Indicates whether the sample depends on other samples for decoding (type `CFBoolean`).\n- **kCMSampleAttachmentKey_IsDependedOnByOthers**: Indicates whether other samples depend on this sample for decoding (type `CFBoolean`).\n- **kCMSampleAttachmentKey_DisplayImmediately**: Indicates whether the sample should be displayed immediately (type `CFBoolean`, default false).\n- **kCMSampleAttachmentKey_DoNotDisplay**: Indicates whether the sample should be decoded but not displayed (type `CFBoolean`, default false).\n- **kCMSampleAttachmentKey_EarlierDisplayTimesAllowed**: Indicates whether later samples may have earlier display times (type `CFBoolean`).\n- **kCMSampleAttachmentKey_HasRedundantCoding**: Indicates whether the sample has redundant coding (type `CFBoolean`).\n- **kCMSampleAttachmentKey_PostDecodeProcessingMetadata**\n\n## Sample Buffer Keys\n\n- **kCMSampleBufferAttachmentKey_DisplayEmptyMediaImmediately**: Tells that the empty marker should be dequeued immediately regardless of its timestamp (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_DrainAfterDecoding**: Indicates whether the sample buffer should be drained after decoding type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_DroppedFrameReason**: Indicates the reason the current video frame was dropped (type `CFString`).\n- **kCMSampleBufferDroppedFrameReason_FrameWasLate**: The frame was dropped because it was late.\n- **kCMSampleBufferDroppedFrameReason_OutOfBuffers**: The frame was dropped because the module providing frames is out of buffers.\n- **kCMSampleBufferDroppedFrameReason_Discontinuity**: An unknown number of frames were dropped.\n- **kCMSampleBufferAttachmentKey_DroppedFrameReasonInfo**: Indicates additional information regarding the dropped video frame (type `CFString`).\n- **kCMSampleBufferDroppedFrameReasonInfo_CameraModeSwitch**: A discontinuity was caused by a camera mode switch.\n- **kCMSampleBufferAttachmentKey_EmptyMedia**: Marks an intentionally empty interval in the sequence of samples (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_EndsPreviousSampleDuration**: Indicates that sample buffer’s decode timestamp may be used to define the previous sample buffer’s duration (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_FillDiscontinuitiesWithSilence**: Fill the difference between discontiguous sample buffers with silence (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_ForceKeyFrame**: Indicates that the current or next video sample buffer should be forced to be encoded as a key frame.\n- **kCMSampleBufferAttachmentKey_GradualDecoderRefresh**: Indicates the decoder refresh count (type `CFNumber`).\n- **kCMSampleBufferAttachmentKey_PermanentEmptyMedia**: Marks the end of the sequence of samples (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_PostNotificationWhenConsumed**: If present, indicates that decode pipelines should post a notification when consuming the sample buffer(type `CFDictionary`).\n- **kCMSampleBufferAttachmentKey_ResetDecoderBeforeDecoding**: Indicates whether the sample buffer should be reset before decoding (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_ResumeOutput**: If present, indicates that output should be resumed following a discontinuity `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_Reverse**: Indicates that the decoded contents of the sample buffer should be reversed (type `CFBoolean`, default false).\n- **kCMSampleBufferAttachmentKey_SampleReferenceByteOffset**: Indicates the byte offset at which the sample data begins (type `CFNumber`).\n- **kCMSampleBufferAttachmentKey_SampleReferenceURL**: Indicates the URL where the sample data is (type `CFURL`).\n- **kCMSampleBufferAttachmentKey_SpeedMultiplier**: The factor by which the sample buffer’s presentation should be accelerated (type `CFNumber`, default 1.0).\n- **kCMSampleBufferAttachmentKey_StillImageLensStabilizationInfo**: Indicates information about the lens stabilization applied to the current still image buffer.\n- **kCMSampleBufferLensStabilizationInfo_Active**: The lens stabilization module was active for the duration this buffer.\n- **kCMSampleBufferLensStabilizationInfo_OutOfRange**: The motion of the device or duration of the capture was outside of what the stabilization mechanism could support.\n- **kCMSampleBufferLensStabilizationInfo_Unavailable**: The lens stabilization module was unavailable for use.\n- **kCMSampleBufferLensStabilizationInfo_Off**: The lens stabilization module was not used during this capture.\n- **kCMSampleBufferAttachmentKey_TransitionID**: Marks a transition from one source of buffers to another.\n- **kCMSampleBufferAttachmentKey_TrimDurationAtEnd**: The duration that should be removed at the end of the sample buffer, after decoding.\n- **kCMSampleBufferAttachmentKey_TrimDurationAtStart**: The duration that should be removed at the beginning of the sample buffer, after decoding.\n\n## Managing Attachments\n\n- **CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)**: Retrieves an array of sample attachment dictionaries that represents each sample in a sample buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicates whether the sample is a sync sample (type `CFBoolean`, default false).",
          "name" : "kCMSampleAttachmentKey_NotSync",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_NotSync"
        },
        {
          "description" : "Indicates whether the sample is a partial sync sample (type `CFBoolean`, default false).",
          "name" : "kCMSampleAttachmentKey_PartialSync",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_PartialSync"
        },
        {
          "description" : "Indicates whether the sample depends on other samples for decoding (type `CFBoolean`).",
          "name" : "kCMSampleAttachmentKey_DependsOnOthers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_DependsOnOthers"
        },
        {
          "description" : "Indicates whether other samples depend on this sample for decoding (type `CFBoolean`).",
          "name" : "kCMSampleAttachmentKey_IsDependedOnByOthers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_IsDependedOnByOthers"
        },
        {
          "description" : "Indicates whether the sample should be displayed immediately (type `CFBoolean`, default false).",
          "name" : "kCMSampleAttachmentKey_DisplayImmediately",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_DisplayImmediately"
        },
        {
          "description" : "Indicates whether the sample should be decoded but not displayed (type `CFBoolean`, default false).",
          "name" : "kCMSampleAttachmentKey_DoNotDisplay",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_DoNotDisplay"
        },
        {
          "description" : "Indicates whether later samples may have earlier display times (type `CFBoolean`).",
          "name" : "kCMSampleAttachmentKey_EarlierDisplayTimesAllowed",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_EarlierDisplayTimesAllowed"
        },
        {
          "description" : "Indicates whether the sample has redundant coding (type `CFBoolean`).",
          "name" : "kCMSampleAttachmentKey_HasRedundantCoding",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_HasRedundantCoding"
        },
        {
          "description" : "",
          "name" : "kCMSampleAttachmentKey_PostDecodeProcessingMetadata",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleAttachmentKey_PostDecodeProcessingMetadata"
        }
      ],
      "title" : "Sample Keys"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells that the empty marker should be dequeued immediately regardless of its timestamp (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_DisplayEmptyMediaImmediately",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_DisplayEmptyMediaImmediately"
        },
        {
          "description" : "Indicates whether the sample buffer should be drained after decoding type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_DrainAfterDecoding",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_DrainAfterDecoding"
        },
        {
          "description" : "Indicates the reason the current video frame was dropped (type `CFString`).",
          "name" : "kCMSampleBufferAttachmentKey_DroppedFrameReason",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_DroppedFrameReason"
        },
        {
          "description" : "The frame was dropped because it was late.",
          "name" : "kCMSampleBufferDroppedFrameReason_FrameWasLate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferDroppedFrameReason_FrameWasLate"
        },
        {
          "description" : "The frame was dropped because the module providing frames is out of buffers.",
          "name" : "kCMSampleBufferDroppedFrameReason_OutOfBuffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferDroppedFrameReason_OutOfBuffers"
        },
        {
          "description" : "An unknown number of frames were dropped.",
          "name" : "kCMSampleBufferDroppedFrameReason_Discontinuity",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferDroppedFrameReason_Discontinuity"
        },
        {
          "description" : "Indicates additional information regarding the dropped video frame (type `CFString`).",
          "name" : "kCMSampleBufferAttachmentKey_DroppedFrameReasonInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_DroppedFrameReasonInfo"
        },
        {
          "description" : "A discontinuity was caused by a camera mode switch.",
          "name" : "kCMSampleBufferDroppedFrameReasonInfo_CameraModeSwitch",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferDroppedFrameReasonInfo_CameraModeSwitch"
        },
        {
          "description" : "Marks an intentionally empty interval in the sequence of samples (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_EmptyMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_EmptyMedia"
        },
        {
          "description" : "Indicates that sample buffer’s decode timestamp may be used to define the previous sample buffer’s duration (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_EndsPreviousSampleDuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_EndsPreviousSampleDuration"
        },
        {
          "description" : "Fill the difference between discontiguous sample buffers with silence (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_FillDiscontinuitiesWithSilence",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_FillDiscontinuitiesWithSilence"
        },
        {
          "description" : "Indicates that the current or next video sample buffer should be forced to be encoded as a key frame.",
          "name" : "kCMSampleBufferAttachmentKey_ForceKeyFrame",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_ForceKeyFrame"
        },
        {
          "description" : "Indicates the decoder refresh count (type `CFNumber`).",
          "name" : "kCMSampleBufferAttachmentKey_GradualDecoderRefresh",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_GradualDecoderRefresh"
        },
        {
          "description" : "Marks the end of the sequence of samples (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_PermanentEmptyMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_PermanentEmptyMedia"
        },
        {
          "description" : "If present, indicates that decode pipelines should post a notification when consuming the sample buffer(type `CFDictionary`).",
          "name" : "kCMSampleBufferAttachmentKey_PostNotificationWhenConsumed",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_PostNotificationWhenConsumed"
        },
        {
          "description" : "Indicates whether the sample buffer should be reset before decoding (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_ResetDecoderBeforeDecoding",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_ResetDecoderBeforeDecoding"
        },
        {
          "description" : "If present, indicates that output should be resumed following a discontinuity `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_ResumeOutput",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_ResumeOutput"
        },
        {
          "description" : "Indicates that the decoded contents of the sample buffer should be reversed (type `CFBoolean`, default false).",
          "name" : "kCMSampleBufferAttachmentKey_Reverse",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_Reverse"
        },
        {
          "description" : "Indicates the byte offset at which the sample data begins (type `CFNumber`).",
          "name" : "kCMSampleBufferAttachmentKey_SampleReferenceByteOffset",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_SampleReferenceByteOffset"
        },
        {
          "description" : "Indicates the URL where the sample data is (type `CFURL`).",
          "name" : "kCMSampleBufferAttachmentKey_SampleReferenceURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_SampleReferenceURL"
        },
        {
          "description" : "The factor by which the sample buffer’s presentation should be accelerated (type `CFNumber`, default 1.0).",
          "name" : "kCMSampleBufferAttachmentKey_SpeedMultiplier",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_SpeedMultiplier"
        },
        {
          "description" : "Indicates information about the lens stabilization applied to the current still image buffer.",
          "name" : "kCMSampleBufferAttachmentKey_StillImageLensStabilizationInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_StillImageLensStabilizationInfo"
        },
        {
          "description" : "The lens stabilization module was active for the duration this buffer.",
          "name" : "kCMSampleBufferLensStabilizationInfo_Active",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferLensStabilizationInfo_Active"
        },
        {
          "description" : "The motion of the device or duration of the capture was outside of what the stabilization mechanism could support.",
          "name" : "kCMSampleBufferLensStabilizationInfo_OutOfRange",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferLensStabilizationInfo_OutOfRange"
        },
        {
          "description" : "The lens stabilization module was unavailable for use.",
          "name" : "kCMSampleBufferLensStabilizationInfo_Unavailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferLensStabilizationInfo_Unavailable"
        },
        {
          "description" : "The lens stabilization module was not used during this capture.",
          "name" : "kCMSampleBufferLensStabilizationInfo_Off",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferLensStabilizationInfo_Off"
        },
        {
          "description" : "Marks a transition from one source of buffers to another.",
          "name" : "kCMSampleBufferAttachmentKey_TransitionID",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_TransitionID"
        },
        {
          "description" : "The duration that should be removed at the end of the sample buffer, after decoding.",
          "name" : "kCMSampleBufferAttachmentKey_TrimDurationAtEnd",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_TrimDurationAtEnd"
        },
        {
          "description" : "The duration that should be removed at the beginning of the sample buffer, after decoding.",
          "name" : "kCMSampleBufferAttachmentKey_TrimDurationAtStart",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/kCMSampleBufferAttachmentKey_TrimDurationAtStart"
        }
      ],
      "title" : "Sample Buffer Keys"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves an array of sample attachment dictionaries that represents each sample in a sample buffer.",
          "name" : "CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)"
        }
      ],
      "title" : "Managing Attachments"
    }
  ],
  "source" : "appleJSON",
  "title" : "Sample Attachment Keys",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/sample-attachment-keys"
}