{
  "abstract" : "Returns a parameter set that an H.264 format description contains.",
  "codeExamples" : [

  ],
  "contentHash" : "99e0d26258322eada986b4b80aa64b94662f828986fe3d19c15756656da64a9d",
  "crawledAt" : "2025-12-08T00:34:09Z",
  "declaration" : {
    "code" : "func CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_ videoDesc: CMFormatDescription, parameterSetIndex: Int, parameterSetPointerOut: UnsafeMutablePointer<UnsafePointer<UInt8>?>?, parameterSetSizeOut: UnsafeMutablePointer<Int>?, parameterSetCountOut: UnsafeMutablePointer<Int>?, nalUnitHeaderLengthOut NALUnitHeaderLengthOut: UnsafeMutablePointer<Int32>?) -> OSStatus",
    "language" : "swift"
  },
  "id" : "21D3146A-1040-482F-8E8A-AF66C8BF6AAB",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Discussion\n\nThis function parses the AVC decoder configuration record contained in a H.264 video format description and returns the parameter set NAL unit at the given index from it.Both parameterSetPointerOut and parameterSetSizeOut may be NULL, parameterSetCountOut will return the total number of parameter set NAL units contained in the AVC decoder configuration record.The parameter set NAL units returned will already have any emulation prevention bytes needed.The pointer returned in parameterSetPointerOut points to internal memory of videoDesc, and may only be accessed as long as a retain on videoDesc is held.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)\ncrawled: 2025-12-08T00:34:09Z\n---\n\n# CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)\n\n**Function**\n\nReturns a parameter set that an H.264 format description contains.\n\n## Declaration\n\n```swift\nfunc CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_ videoDesc: CMFormatDescription, parameterSetIndex: Int, parameterSetPointerOut: UnsafeMutablePointer<UnsafePointer<UInt8>?>?, parameterSetSizeOut: UnsafeMutablePointer<Int>?, parameterSetCountOut: UnsafeMutablePointer<Int>?, nalUnitHeaderLengthOut NALUnitHeaderLengthOut: UnsafeMutablePointer<Int32>?) -> OSStatus\n```\n\n## Parameters\n\n- **videoDesc**: The format description being interrogated.\n- **parameterSetIndex**: Index of the parameter set to be returned in parameterSetPointerOut and parameterSetSizeOut. This parameter is ignored if both parameterSetPointerOut and parameterSetSizeOut are NULL.\n- **parameterSetPointerOut**: Points to a pointer to receive the parameter set. Pass NULL if you do not want this information.\n- **parameterSetSizeOut**: Points to a size_t to receive the size in bytes of the parameter set. Pass NULL if you do not want this information.\n- **parameterSetCountOut**: Number of parameter sets in the AVC decoder configuration record contained in videoDesc. Pass NULL if you do not want this information.\n- **NALUnitHeaderLengthOut**: Points to an int to receive the size, in bytes, of the NALUnitLength field in an AVC video sample or AVC parameter set sample. Pass NULL if you do not want this information.\n\n## Discussion\n\nThis function parses the AVC decoder configuration record contained in a H.264 video format description and returns the parameter set NAL unit at the given index from it.Both parameterSetPointerOut and parameterSetSizeOut may be NULL, parameterSetCountOut will return the total number of parameter set NAL units contained in the AVC decoder configuration record.The parameter set NAL units returned will already have any emulation prevention bytes needed.The pointer returned in parameterSetPointerOut points to internal memory of videoDesc, and may only be accessed as long as a retain on videoDesc is held.\n\n## Working with Video Descriptions\n\n- **CMImageDescriptionFlavor**: Types that represent image format descriptions.\n- **CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)**: Creates a format description for a video media stream.\n- **CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)**: Creates a format description for a video media stream by using an image buffer.\n- **CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)**: Returns a rectangle that defines the portion of the encoded pixel dimensions that represent the image data that’s valid for displaying.\n- **CMVideoFormatDescriptionGetDimensions(_:)**: Returns the video dimensions, in encoded pixels.\n- **CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()**: Returns an array of keys that you use for video format description extensions, image buffer attachments, and attributes.\n- **CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)**: Returns the dimensions after taking the pixel aspect ratio and clean aperture into account.\n- **CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)**: Returns a Boolean value that indicates whether a format description matches an image buffer.\n- **CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)**: Creates a format description for a video media stream that the parameter set describes.\n- **CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)**: Creates a format description for a video media stream using HEVC (H.265) parameter set NAL units.\n- **CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)**: Copies the contents of a video format description to a buffer in big-endian byte ordering.\n- **CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)**: Creates a video format description from a big-endian image description inside a buffer.\n- **CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)**: Creates a video format description from a big-endian image description structure.\n- **CMSwapBigEndianImageDescriptionToHost(_:_:)**: Converts an image description data structure from big-endian to host-endian, in place.\n- **CMSwapHostEndianImageDescriptionToBig(_:_:)**: Converts an image description data structure from host-endian to big-endian, in place.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Types that represent image format descriptions.",
          "name" : "CMImageDescriptionFlavor",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMImageDescriptionFlavor"
        },
        {
          "description" : "Creates a format description for a video media stream.",
          "name" : "CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreate(allocator:codecType:width:height:extensions:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a format description for a video media stream by using an image buffer.",
          "name" : "CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateForImageBuffer(allocator:imageBuffer:formatDescriptionOut:)"
        },
        {
          "description" : "Returns a rectangle that defines the portion of the encoded pixel dimensions that represent the image data that’s valid for displaying.",
          "name" : "CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetCleanAperture(_:originIsAtTopLeft:)"
        },
        {
          "description" : "Returns the video dimensions, in encoded pixels.",
          "name" : "CMVideoFormatDescriptionGetDimensions(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetDimensions(_:)"
        },
        {
          "description" : "Returns an array of keys that you use for video format description extensions, image buffer attachments, and attributes.",
          "name" : "CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetExtensionKeysCommonWithImageBuffers()"
        },
        {
          "description" : "Returns the dimensions after taking the pixel aspect ratio and clean aperture into account.",
          "name" : "CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetPresentationDimensions(_:usePixelAspectRatio:useCleanAperture:)"
        },
        {
          "description" : "Returns a Boolean value that indicates whether a format description matches an image buffer.",
          "name" : "CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionMatchesImageBuffer(_:imageBuffer:)"
        },
        {
          "description" : "Creates a format description for a video media stream that the parameter set describes.",
          "name" : "CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromH264ParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a format description for a video media stream using HEVC (H.265) parameter set NAL units.",
          "name" : "CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromHEVCParameterSets(allocator:parameterSetCount:parameterSetPointers:parameterSetSizes:nalUnitHeaderLength:extensions:formatDescriptionOut:)"
        },
        {
          "description" : "Copies the contents of a video format description to a buffer in big-endian byte ordering.",
          "name" : "CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCopyAsBigEndianImageDescriptionBlockBuffer(allocator:videoFormatDescription:stringEncoding:flavor:blockBufferOut:)"
        },
        {
          "description" : "Creates a video format description from a big-endian image description inside a buffer.",
          "name" : "CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionBlockBuffer(allocator:bigEndianImageDescriptionBlockBuffer:stringEncoding:flavor:formatDescriptionOut:)"
        },
        {
          "description" : "Creates a video format description from a big-endian image description structure.",
          "name" : "CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionCreateFromBigEndianImageDescriptionData(allocator:bigEndianImageDescriptionData:size:stringEncoding:flavor:formatDescriptionOut:)"
        },
        {
          "description" : "Converts an image description data structure from big-endian to host-endian, in place.",
          "name" : "CMSwapBigEndianImageDescriptionToHost(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSwapBigEndianImageDescriptionToHost(_:_:)"
        },
        {
          "description" : "Converts an image description data structure from host-endian to big-endian, in place.",
          "name" : "CMSwapHostEndianImageDescriptionToBig(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSwapHostEndianImageDescriptionToBig(_:_:)"
        }
      ],
      "title" : "Working with Video Descriptions"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMVideoFormatDescriptionGetH264ParameterSetAtIndex(_:parameterSetIndex:parameterSetPointerOut:parameterSetSizeOut:parameterSetCountOut:nalUnitHeaderLengthOut:)"
}