{
  "abstract" : "Buffer carrying readily available samples of media data.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "AVAssetReaderOutput.SupportedPayload",
    "Copyable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "e6f5ff7a698c4f1236cf5c15038001a6aabd53683823a61542038e7844d81795",
  "crawledAt" : "2025-12-07T23:07:12Z",
  "declaration" : {
    "code" : "struct CMReadySampleBuffer<Content> where Content : CMSampleBuffer.Content",
    "language" : "swift"
  },
  "id" : "3021EB1A-27A3-4DAE-AE37-D45E2A3D96FD",
  "kind" : "struct",
  "language" : "swift",
  "module" : "Core Media",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\ncrawled: 2025-12-07T23:07:12Z\n---\n\n# CMReadySampleBuffer\n\n**Structure**\n\nBuffer carrying readily available samples of media data.\n\n## Declaration\n\n```swift\nstruct CMReadySampleBuffer<Content> where Content : CMSampleBuffer.Content\n```\n\n## Initializers\n\n- **init(_:)**: Convert a ready sample buffer to dynamic content.\n- **init(_:)**: Converts dynamic sample buffer to a marker sample buffer.\n- **init(_:)**: Converts dynamic sample buffer to a sample buffer containing pixel buffer.\n- **init(_:)**: Converts dynamic sample buffer to a sample buffer containing data buffer.\n- **init(_:)**: Converts dynamic sample buffer to a sample buffer containing tagged buffers.\n- **init(audioDataBuffer:formatDescription:sampleCount:presentationTimeStamp:)**: Creates a sample buffer carrying audio media data.\n- **init(compressedAudioDataBuffer:formatDescription:presentationTimeStamp:packetDescriptions:)**: Creates a sample buffer carrying compressed audio media data.\n- **init(dataBuffer:formatDescription:sampleProperties:)**: Creates a sample buffer with media data.\n- **init(markerAt:duration:)**: Creates a marker-only sample buffer with no payload and no format description.\n- **init(pixelBuffer:formatDescription:presentationTimeStamp:duration:)**: Creates a sample buffer carrying image buffer.\n- **init(sampleDataReference:formatDescription:sampleProperties:)**: Creates a sample buffer with references to sample data.\n- **init(taggedBuffers:formatDescription:presentationTimeStamp:duration:)**: Creates a sample buffer carrying tagged buffers.\n- **init(unsafeBuffer:)**: Create a ready sample buffer with dynamic content from an existing sample buffer.\n- **init(unsafeMarkerOnlySampleBuffer:)**: Create a ready sample buffer with marker content from an existing sample buffer.\n- **init(unsafeSampleDataReferenceBuffer:)**: Create a ready sample buffer with data reference content from an existing sample buffer.\n- **init(unsafeWithDataBuffer:)**: Creates a ready sample buffer with data buffer content from an existing sample buffer.\n- **init(unsafeWithPixelBuffer:)**: Creates a ready sample buffer with pixel buffer content from an existing sample buffer.\n- **init(unsafeWithTaggedBuffers:)**: Create a ready sample buffer with tagged buffers content from an existing sample buffer.\n\n## Instance Properties\n\n- **audioStreamPacketDescriptions**: Get an array of AudioStreamPacketDescriptions describing audio samples in the buffer.\n- **content**: Payload containing the samples.\n- **content**: Payload containing the samples.\n- **content**: Payload containing the samples.\n- **content**: Payload containing the samples.\n- **content**: Payload containing the samples.\n- **contentType**: Type of the content carried by this sample buffer\n- **decodeTimeStamp**: Numerically earliest sample decode timestamp in the sample buffer.\n- **duration**: The unmodified sum of the durations of all samples in the sample buffer.\n- **duration**: Duration of the sample buffer.\n- **duration**: Duration of the sample buffer.\n- **duration**: Duration of the sample buffer.\n- **formatDescription**: The format description of the samples in the sample buffer.\n- **formatDescription**: The format description of the samples in the sample buffer.\n- **markerTimeStamp**: Presentation timestamp of the sample buffer.\n- **outputDecodeTimeStamp**: The output decode timestamp of the sample buffer.\n- **outputDuration**: The output duration of the sample buffer.\n- **outputPresentationTimeStamp**: The output presentation timestamp of the sample buffer.\n- **outputSampleTimings**: Output timing information of each sample in the sample buffer.\n- **presentationTimeStamp**: Presentation timestamp of the sample buffer.\n- **presentationTimeStamp**: Presentation timestamp of the sample buffer.\n- **presentationTimeStamp**: Numerically earliest sample presentation timestamp in the sample buffer.\n- **sampleAttachments**: Attachments for the sample in this buffer.\n- **sampleAttachments**: Attachments for the sample in this buffer.\n- **sampleCount**: Number of samples in the sample buffer.\n- **sampleProperties**: Information about the samples in the sample buffer.\n- **totalSampleSize**: Total size in bytes of all samples in the sample buffer.\n\n## Instance Methods\n\n- **attach(contentKey:)**: Attaches an AVContentKey to a CMReadySampleBuffer for the purpose of content decryption. The client is expected to attach AVContentKeys to CMReadySampleBuffers that have been created by the client for enqueueing with AVSampleBufferDisplayLayer or AVSampleBufferAudioRenderer, for which the AVContentKeySpecifier matches indications of suitability that are available to the client according to the content key system that’s in use.\n- **copyPCMData(fromRange:into:)**: Copies PCM audio data from the sample buffer into a pre-allocated `AudioBufferList`.\n- **splitSamples()**: Split sample buffer into a smaller representation, ideally carrying a single sample per resulting sample buffer.\n- **withUnsafeSampleBuffer(_:)**: Access the underlying CMSampleBuffer instance.\n\n## Sample Processing\n\n- **CMSampleBuffer**: An object that contains zero or more media samples of a uniform media type.\n- **CMBlockBuffer**: An object the system uses to move blocks of memory through a processing system.\n- **CMTaggedBufferGroup**: Objective-C types and interfaces for working with Core Media tagged buffer groups.\n- **CMFormatDescription**: A media format descriptor that describes the samples in a sample buffer.\n- **CMAttachment**: Add supporting metadata to sample buffers.\n- **CMTaggedBuffer**: An instance of a media buffer containing metadata tags.\n- **CMMutableDataBlockBuffer**: A block buffer that provides read-write access to a range of bytes.\n- **CMReadOnlyDataBlockBuffer**: A block buffer that provides read-only access to the a range of bytes.\n- **CMSampleDataReference**: References sample data in at a URL.\n- **CMTaggedDynamicBuffer**: Contains a collection of tags associated with a read-only media buffer.\n\n## Conforms To\n\n- AVAssetReaderOutput.SupportedPayload\n- Copyable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Convert a ready sample buffer to dynamic content.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(_:)-35rzo"
        },
        {
          "description" : "Converts dynamic sample buffer to a marker sample buffer.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(_:)-3rj25"
        },
        {
          "description" : "Converts dynamic sample buffer to a sample buffer containing pixel buffer.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(_:)-3tjyq"
        },
        {
          "description" : "Converts dynamic sample buffer to a sample buffer containing data buffer.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(_:)-4j97d"
        },
        {
          "description" : "Converts dynamic sample buffer to a sample buffer containing tagged buffers.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(_:)-6uyu8"
        },
        {
          "description" : "Creates a sample buffer carrying audio media data.",
          "name" : "init(audioDataBuffer:formatDescription:sampleCount:presentationTimeStamp:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(audioDataBuffer:formatDescription:sampleCount:presentationTimeStamp:)"
        },
        {
          "description" : "Creates a sample buffer carrying compressed audio media data.",
          "name" : "init(compressedAudioDataBuffer:formatDescription:presentationTimeStamp:packetDescriptions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(compressedAudioDataBuffer:formatDescription:presentationTimeStamp:packetDescriptions:)"
        },
        {
          "description" : "Creates a sample buffer with media data.",
          "name" : "init(dataBuffer:formatDescription:sampleProperties:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(dataBuffer:formatDescription:sampleProperties:)"
        },
        {
          "description" : "Creates a marker-only sample buffer with no payload and no format description.",
          "name" : "init(markerAt:duration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(markerAt:duration:)"
        },
        {
          "description" : "Creates a sample buffer carrying image buffer.",
          "name" : "init(pixelBuffer:formatDescription:presentationTimeStamp:duration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(pixelBuffer:formatDescription:presentationTimeStamp:duration:)"
        },
        {
          "description" : "Creates a sample buffer with references to sample data.",
          "name" : "init(sampleDataReference:formatDescription:sampleProperties:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(sampleDataReference:formatDescription:sampleProperties:)"
        },
        {
          "description" : "Creates a sample buffer carrying tagged buffers.",
          "name" : "init(taggedBuffers:formatDescription:presentationTimeStamp:duration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(taggedBuffers:formatDescription:presentationTimeStamp:duration:)"
        },
        {
          "description" : "Create a ready sample buffer with dynamic content from an existing sample buffer.",
          "name" : "init(unsafeBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeBuffer:)"
        },
        {
          "description" : "Create a ready sample buffer with marker content from an existing sample buffer.",
          "name" : "init(unsafeMarkerOnlySampleBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeMarkerOnlySampleBuffer:)"
        },
        {
          "description" : "Create a ready sample buffer with data reference content from an existing sample buffer.",
          "name" : "init(unsafeSampleDataReferenceBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeSampleDataReferenceBuffer:)"
        },
        {
          "description" : "Creates a ready sample buffer with data buffer content from an existing sample buffer.",
          "name" : "init(unsafeWithDataBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeWithDataBuffer:)"
        },
        {
          "description" : "Creates a ready sample buffer with pixel buffer content from an existing sample buffer.",
          "name" : "init(unsafeWithPixelBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeWithPixelBuffer:)"
        },
        {
          "description" : "Create a ready sample buffer with tagged buffers content from an existing sample buffer.",
          "name" : "init(unsafeWithTaggedBuffers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/init(unsafeWithTaggedBuffers:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Get an array of AudioStreamPacketDescriptions describing audio samples in the buffer.",
          "name" : "audioStreamPacketDescriptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/audioStreamPacketDescriptions"
        },
        {
          "description" : "Payload containing the samples.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/content-12bds"
        },
        {
          "description" : "Payload containing the samples.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/content-14qb7"
        },
        {
          "description" : "Payload containing the samples.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/content-4peot"
        },
        {
          "description" : "Payload containing the samples.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/content-5fko2"
        },
        {
          "description" : "Payload containing the samples.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/content-6ihvr"
        },
        {
          "description" : "Type of the content carried by this sample buffer",
          "name" : "contentType",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/contentType"
        },
        {
          "description" : "Numerically earliest sample decode timestamp in the sample buffer.",
          "name" : "decodeTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/decodeTimeStamp"
        },
        {
          "description" : "The unmodified sum of the durations of all samples in the sample buffer.",
          "name" : "duration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/duration-2ssr4"
        },
        {
          "description" : "Duration of the sample buffer.",
          "name" : "duration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/duration-54778"
        },
        {
          "description" : "Duration of the sample buffer.",
          "name" : "duration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/duration-94fnq"
        },
        {
          "description" : "Duration of the sample buffer.",
          "name" : "duration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/duration-9lx3g"
        },
        {
          "description" : "The format description of the samples in the sample buffer.",
          "name" : "formatDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/formatDescription-6rp0o"
        },
        {
          "description" : "The format description of the samples in the sample buffer.",
          "name" : "formatDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/formatDescription-9i48t"
        },
        {
          "description" : "Presentation timestamp of the sample buffer.",
          "name" : "markerTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/markerTimeStamp"
        },
        {
          "description" : "The output decode timestamp of the sample buffer.",
          "name" : "outputDecodeTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/outputDecodeTimeStamp"
        },
        {
          "description" : "The output duration of the sample buffer.",
          "name" : "outputDuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/outputDuration"
        },
        {
          "description" : "The output presentation timestamp of the sample buffer.",
          "name" : "outputPresentationTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/outputPresentationTimeStamp"
        },
        {
          "description" : "Output timing information of each sample in the sample buffer.",
          "name" : "outputSampleTimings",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/outputSampleTimings"
        },
        {
          "description" : "Presentation timestamp of the sample buffer.",
          "name" : "presentationTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/presentationTimeStamp-19vwq"
        },
        {
          "description" : "Presentation timestamp of the sample buffer.",
          "name" : "presentationTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/presentationTimeStamp-266ka"
        },
        {
          "description" : "Numerically earliest sample presentation timestamp in the sample buffer.",
          "name" : "presentationTimeStamp",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/presentationTimeStamp-7ea7z"
        },
        {
          "description" : "Attachments for the sample in this buffer.",
          "name" : "sampleAttachments",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/sampleAttachments-8g6nm"
        },
        {
          "description" : "Attachments for the sample in this buffer.",
          "name" : "sampleAttachments",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/sampleAttachments-9g3d5"
        },
        {
          "description" : "Number of samples in the sample buffer.",
          "name" : "sampleCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/sampleCount"
        },
        {
          "description" : "Information about the samples in the sample buffer.",
          "name" : "sampleProperties",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/sampleProperties"
        },
        {
          "description" : "Total size in bytes of all samples in the sample buffer.",
          "name" : "totalSampleSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/totalSampleSize"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Attaches an AVContentKey to a CMReadySampleBuffer for the purpose of content decryption. The client is expected to attach AVContentKeys to CMReadySampleBuffers that have been created by the client for enqueueing with AVSampleBufferDisplayLayer or AVSampleBufferAudioRenderer, for which the AVContentKeySpecifier matches indications of suitability that are available to the client according to the content key system that’s in use.",
          "name" : "attach(contentKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/attach(contentKey:)"
        },
        {
          "description" : "Copies PCM audio data from the sample buffer into a pre-allocated `AudioBufferList`.",
          "name" : "copyPCMData(fromRange:into:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/copyPCMData(fromRange:into:)"
        },
        {
          "description" : "Split sample buffer into a smaller representation, ideally carrying a single sample per resulting sample buffer.",
          "name" : "splitSamples()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/splitSamples()"
        },
        {
          "description" : "Access the underlying CMSampleBuffer instance.",
          "name" : "withUnsafeSampleBuffer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer\/withUnsafeSampleBuffer(_:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that contains zero or more media samples of a uniform media type.",
          "name" : "CMSampleBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/cmsamplebuffer-api"
        },
        {
          "description" : "An object the system uses to move blocks of memory through a processing system.",
          "name" : "CMBlockBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/cmblockbuffer-api"
        },
        {
          "description" : "Objective-C types and interfaces for working with Core Media tagged buffer groups.",
          "name" : "CMTaggedBufferGroup",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/cmtaggedbuffergroup"
        },
        {
          "description" : "A media format descriptor that describes the samples in a sample buffer.",
          "name" : "CMFormatDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/cmformatdescription-api"
        },
        {
          "description" : "Add supporting metadata to sample buffers.",
          "name" : "CMAttachment",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/cmattachment-api"
        },
        {
          "description" : "An instance of a media buffer containing metadata tags.",
          "name" : "CMTaggedBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMTaggedBuffer"
        },
        {
          "description" : "A block buffer that provides read-write access to a range of bytes.",
          "name" : "CMMutableDataBlockBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMMutableDataBlockBuffer"
        },
        {
          "description" : "A block buffer that provides read-only access to the a range of bytes.",
          "name" : "CMReadOnlyDataBlockBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadOnlyDataBlockBuffer"
        },
        {
          "description" : "References sample data in at a URL.",
          "name" : "CMSampleDataReference",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleDataReference"
        },
        {
          "description" : "Contains a collection of tags associated with a read-only media buffer.",
          "name" : "CMTaggedDynamicBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMTaggedDynamicBuffer"
        }
      ],
      "title" : "Sample Processing"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMReadySampleBuffer",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMReadySampleBuffer"
}