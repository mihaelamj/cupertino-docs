{
  "abstract" : "Copies PCM audio data from a sample buffer into a prepopulated audio buffer list.",
  "codeExamples" : [

  ],
  "contentHash" : "5d631f630da2e569e6bfe230af2473107115f188f9f2072323e7552bd60505f2",
  "crawledAt" : "2025-12-08T01:41:33Z",
  "declaration" : {
    "code" : "func copyPCMData(fromRange range: Range<Int>, into bufferList: UnsafeMutablePointer<AudioBufferList>) throws",
    "language" : "swift"
  },
  "id" : "D4606A4C-30F7-4F6A-AF24-ACE87DB27904",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Discussion\n\nThe audio buffer list must contain the same number of channels, and must be appropriately sized for its data buffers to hold the specified number of frames. This API is specific to audio format sample buffers, and throws an [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/CMSampleBuffer\/Error\/invalidMediaTypeForOperation] if called with a nonaudio sample buffer. Likewise, this method throws an error if the sample buffer doesn’t contain PCM audio data or if its data buffer isn’t ready.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/copyPCMData(fromRange:into:)\ncrawled: 2025-12-08T01:41:33Z\n---\n\n# copyPCMData(fromRange:into:)\n\n**Instance Method**\n\nCopies PCM audio data from a sample buffer into a prepopulated audio buffer list.\n\n## Declaration\n\n```swift\nfunc copyPCMData(fromRange range: Range<Int>, into bufferList: UnsafeMutablePointer<AudioBufferList>) throws\n```\n\n## Parameters\n\n- **range**: The range of the data buffer to copy from.\n- **bufferList**: The audio buffer list to populate.\n\n## Discussion\n\nThe audio buffer list must contain the same number of channels, and must be appropriately sized for its data buffers to hold the specified number of frames. This API is specific to audio format sample buffers, and throws an [doc:\/\/com.apple.coremedia\/documentation\/CoreMedia\/CMSampleBuffer\/Error\/invalidMediaTypeForOperation] if called with a nonaudio sample buffer. Likewise, this method throws an error if the sample buffer doesn’t contain PCM audio data or if its data buffer isn’t ready.\n\n## Modifying Sample Buffers\n\n- **dataBuffer**: A block buffer that contains the media data.\n- **setDataBuffer(_:)**: Associates a block buffer of media data with a sample buffer.\n- **imageBuffer**: An image buffer that contains the media data.\n- **withAudioBufferList(blockBufferMemoryAllocator:flags:body:)**: Calls a closure with an audio buffer list that contains the data from a sample buffer and a block buffer backing the audio buffers.\n- **setDataBuffer(fromAudioBufferList:blockBufferMemoryAllocator:flags:)**: Creates a block buffer that contains a copy of the data from an audio buffer list, and sets it as the sample buffer’s data.\n- **audioStreamPacketDescriptions()**: Creates an array of audio stream packet descriptions for the variable bytes per packet or variable frames per packet audio data in a sample buffer.\n- **withUnsafeAudioStreamPacketDescriptions(_:)**: Calls a closure with an audio stream packet description.\n- **singleSampleBuffers()**: Returns all samples in a sample buffer.\n- **CMSampleBuffer.SingleSampleBuffers**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A block buffer that contains the media data.",
          "name" : "dataBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/dataBuffer"
        },
        {
          "description" : "Associates a block buffer of media data with a sample buffer.",
          "name" : "setDataBuffer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/setDataBuffer(_:)"
        },
        {
          "description" : "An image buffer that contains the media data.",
          "name" : "imageBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/imageBuffer"
        },
        {
          "description" : "Calls a closure with an audio buffer list that contains the data from a sample buffer and a block buffer backing the audio buffers.",
          "name" : "withAudioBufferList(blockBufferMemoryAllocator:flags:body:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/withAudioBufferList(blockBufferMemoryAllocator:flags:body:)"
        },
        {
          "description" : "Creates a block buffer that contains a copy of the data from an audio buffer list, and sets it as the sample buffer’s data.",
          "name" : "setDataBuffer(fromAudioBufferList:blockBufferMemoryAllocator:flags:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/setDataBuffer(fromAudioBufferList:blockBufferMemoryAllocator:flags:)"
        },
        {
          "description" : "Creates an array of audio stream packet descriptions for the variable bytes per packet or variable frames per packet audio data in a sample buffer.",
          "name" : "audioStreamPacketDescriptions()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/audioStreamPacketDescriptions()"
        },
        {
          "description" : "Calls a closure with an audio stream packet description.",
          "name" : "withUnsafeAudioStreamPacketDescriptions(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/withUnsafeAudioStreamPacketDescriptions(_:)"
        },
        {
          "description" : "Returns all samples in a sample buffer.",
          "name" : "singleSampleBuffers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/singleSampleBuffers()"
        },
        {
          "description" : "",
          "name" : "CMSampleBuffer.SingleSampleBuffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/SingleSampleBuffers"
        }
      ],
      "title" : "Modifying Sample Buffers"
    }
  ],
  "source" : "appleJSON",
  "title" : "copyPCMData(fromRange:into:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBuffer\/copyPCMData(fromRange:into:)"
}