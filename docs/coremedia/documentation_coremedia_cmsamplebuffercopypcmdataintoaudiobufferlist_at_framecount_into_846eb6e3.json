{
  "abstract" : "Copies PCM audio data from a sample buffer into an audio buffer list.",
  "codeExamples" : [

  ],
  "contentHash" : "aec080cd77d60f3ac59f4059de869d7e1d2c5f601664b4d05483bf2c3c58dffa",
  "crawledAt" : "2025-12-07T23:08:23Z",
  "declaration" : {
    "code" : "func CMSampleBufferCopyPCMDataIntoAudioBufferList(_ sbuf: CMSampleBuffer, at frameOffset: Int32, frameCount numFrames: Int32, into bufferList: UnsafeMutablePointer<AudioBufferList>) -> OSStatus",
    "language" : "swift"
  },
  "id" : "D6CA6606-B51B-479B-A671-EC9425327E3E",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Discussion\n\nThe [doc:\/\/com.apple.documentation\/documentation\/CoreAudioTypes\/AudioBufferList] must contain the same number of channels and its data buffers must be sized to hold the specified number of frames.\n\nThis API is specific to audio format sample buffers, and will return `kCMSampleBufferError_InvalidMediaTypeForOperation` if called with a non-audio sample buffer. It will return an error if the sample buffer doesn’t contain PCM audio data or if its data buffer isn’t ready.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferCopyPCMDataIntoAudioBufferList(_:at:frameCount:into:)\ncrawled: 2025-12-07T23:08:23Z\n---\n\n# CMSampleBufferCopyPCMDataIntoAudioBufferList(_:at:frameCount:into:)\n\n**Function**\n\nCopies PCM audio data from a sample buffer into an audio buffer list.\n\n## Declaration\n\n```swift\nfunc CMSampleBufferCopyPCMDataIntoAudioBufferList(_ sbuf: CMSampleBuffer, at frameOffset: Int32, frameCount numFrames: Int32, into bufferList: UnsafeMutablePointer<AudioBufferList>) -> OSStatus\n```\n\n## Parameters\n\n- **sbuf**: The sample buffer containing the PCM audio data to be copied.\n- **frameOffset**: The frame offset number from which to begin the copy.\n- **numFrames**: The total number of frames to copy.\n- **bufferList**: The audio buffer list to populate.\n\n## Discussion\n\nThe [doc:\/\/com.apple.documentation\/documentation\/CoreAudioTypes\/AudioBufferList] must contain the same number of channels and its data buffers must be sized to hold the specified number of frames.\n\nThis API is specific to audio format sample buffers, and will return `kCMSampleBufferError_InvalidMediaTypeForOperation` if called with a non-audio sample buffer. It will return an error if the sample buffer doesn’t contain PCM audio data or if its data buffer isn’t ready.\n\n## Modifying Sample Buffers\n\n- **CMSampleBufferGetDataBuffer(_:)**: Returns a block buffer that contains the media data.\n- **CMSampleBufferSetDataBuffer(_:newValue:)**: Sets a block buffer of media data on a sample buffer.\n- **CMSampleBufferGetImageBuffer(_:)**: Returns an image buffer that contains the media data.\n- **CMSampleBufferGetAudioBufferListWithRetainedBlockBuffer(_:bufferListSizeNeededOut:bufferListOut:bufferListSize:blockBufferAllocator:blockBufferMemoryAllocator:flags:blockBufferOut:)**: Returns an audio buffer list that contains the media data.\n- **CMSampleBufferSetDataBufferFromAudioBufferList(_:blockBufferAllocator:blockBufferMemoryAllocator:flags:bufferList:)**: Creates a block buffer that contains a copy of the data from an audio buffer list.\n- **CMSampleBufferGetAudioStreamPacketDescriptions(_:allocatedSize:packetDescriptionsOut:packetDescriptionsSizeNeededOut:)**: Creates an array of audio stream packet descriptions.\n- **CMSampleBufferGetAudioStreamPacketDescriptionsPtr(_:packetDescriptionsPointerOut:sizeOut:)**: Returns a pointer to a constant array of audio stream packet descriptions.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a block buffer that contains the media data.",
          "name" : "CMSampleBufferGetDataBuffer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetDataBuffer(_:)"
        },
        {
          "description" : "Sets a block buffer of media data on a sample buffer.",
          "name" : "CMSampleBufferSetDataBuffer(_:newValue:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferSetDataBuffer(_:newValue:)"
        },
        {
          "description" : "Returns an image buffer that contains the media data.",
          "name" : "CMSampleBufferGetImageBuffer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetImageBuffer(_:)"
        },
        {
          "description" : "Returns an audio buffer list that contains the media data.",
          "name" : "CMSampleBufferGetAudioBufferListWithRetainedBlockBuffer(_:bufferListSizeNeededOut:bufferListOut:bufferListSize:blockBufferAllocator:blockBufferMemoryAllocator:flags:blockBufferOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetAudioBufferListWithRetainedBlockBuffer(_:bufferListSizeNeededOut:bufferListOut:bufferListSize:blockBufferAllocator:blockBufferMemoryAllocator:flags:blockBufferOut:)"
        },
        {
          "description" : "Creates a block buffer that contains a copy of the data from an audio buffer list.",
          "name" : "CMSampleBufferSetDataBufferFromAudioBufferList(_:blockBufferAllocator:blockBufferMemoryAllocator:flags:bufferList:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferSetDataBufferFromAudioBufferList(_:blockBufferAllocator:blockBufferMemoryAllocator:flags:bufferList:)"
        },
        {
          "description" : "Creates an array of audio stream packet descriptions.",
          "name" : "CMSampleBufferGetAudioStreamPacketDescriptions(_:allocatedSize:packetDescriptionsOut:packetDescriptionsSizeNeededOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetAudioStreamPacketDescriptions(_:allocatedSize:packetDescriptionsOut:packetDescriptionsSizeNeededOut:)"
        },
        {
          "description" : "Returns a pointer to a constant array of audio stream packet descriptions.",
          "name" : "CMSampleBufferGetAudioStreamPacketDescriptionsPtr(_:packetDescriptionsPointerOut:sizeOut:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetAudioStreamPacketDescriptionsPtr(_:packetDescriptionsPointerOut:sizeOut:)"
        }
      ],
      "title" : "Modifying Sample Buffers"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMSampleBufferCopyPCMDataIntoAudioBufferList(_:at:frameCount:into:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferCopyPCMDataIntoAudioBufferList(_:at:frameCount:into:)"
}