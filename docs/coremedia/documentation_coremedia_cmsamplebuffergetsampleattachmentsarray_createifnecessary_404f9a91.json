{
  "abstract" : "Retrieves an array of sample attachment dictionaries that represents each sample in a sample buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "0f3881e5d9566a2701188407cfce440c67fa23ffba946498cb090a6e86788aaa",
  "crawledAt" : "2025-12-07T23:08:25Z",
  "declaration" : {
    "code" : "func CMSampleBufferGetSampleAttachmentsArray(_ sbuf: CMSampleBuffer, createIfNecessary: Bool) -> CFArray?",
    "language" : "swift"
  },
  "id" : "10368526-1515-4A6F-B3AF-3A7150B6FA96",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Media",
  "overview" : "## Return Value\n\nA reference to the `CMSampleBuffer's` immutable array of mutable sample attachments dictionaries (one dictionary per sample in the `CMSampleBuffer`). `NULL` is returned if there is an error\n\n## Discussion\n\nAttachments can then be added\/removed directly by the caller, using Core Foundation APIs. On return, the caller doesn’t own the returned array of attachments dictionaries, and must retain it if the caller needs to maintain a reference to it. If there are no sample attachments yet, and createIfNecessary is true, a new `CFArray` containing N empty `CFMutableDictionaries` is returned (where N is the number of samples in the `CMSampleBuffer`), so that attachments can be added directly by the caller. If there are no sample attachments yet, and `createIfNecessary` is false, `NULL` is returned. Once the `CFArray` has been created, subsequent calls will return it, even if there are still no sample attachments in the array.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)\ncrawled: 2025-12-07T23:08:25Z\n---\n\n# CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)\n\n**Function**\n\nRetrieves an array of sample attachment dictionaries that represents each sample in a sample buffer.\n\n## Declaration\n\n```swift\nfunc CMSampleBufferGetSampleAttachmentsArray(_ sbuf: CMSampleBuffer, createIfNecessary: Bool) -> CFArray?\n```\n\n## Parameters\n\n- **sbuf**: The `CMSampleBuffer` being interrogated.\n- **createIfNecessary**: Specifies whether an empty array should be created (if there are no sample attachments yet).\n\n## Return Value\n\nA reference to the `CMSampleBuffer's` immutable array of mutable sample attachments dictionaries (one dictionary per sample in the `CMSampleBuffer`). `NULL` is returned if there is an error\n\n## Discussion\n\nAttachments can then be added\/removed directly by the caller, using Core Foundation APIs. On return, the caller doesn’t own the returned array of attachments dictionaries, and must retain it if the caller needs to maintain a reference to it. If there are no sample attachments yet, and createIfNecessary is true, a new `CFArray` containing N empty `CFMutableDictionaries` is returned (where N is the number of samples in the `CMSampleBuffer`), so that attachments can be added directly by the caller. If there are no sample attachments yet, and `createIfNecessary` is false, `NULL` is returned. Once the `CFArray` has been created, subsequent calls will return it, even if there are still no sample attachments in the array.\n\n## Managing Attachments\n\n- **Sample Attachment Keys**: Keys that specify attachments to individual samples in a buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Keys that specify attachments to individual samples in a buffer.",
          "name" : "Sample Attachment Keys",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/sample-attachment-keys"
        }
      ],
      "title" : "Managing Attachments"
    }
  ],
  "source" : "appleJSON",
  "title" : "CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMedia\/CMSampleBufferGetSampleAttachmentsArray(_:createIfNecessary:)"
}