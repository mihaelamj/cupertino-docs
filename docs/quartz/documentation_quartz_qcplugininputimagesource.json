{
  "abstract" : "The `QCPlugInInputImageSource` protocol eliminates the need to use explicit image types for the image input ports on your custom patch. Not only does using the protocol avoid restrictions of a specific image type, but it avoids impedance mismatches, and provides better performance by deferring pixel computation until it is needed. When you need to access the pixels in an image, you simply convert the image to a representation (texture or buffer) using one of the methods defined by the `QCPlugInInputImageSource` protocol. Use a texture representation when you want to use input images on the GPU. Use a buffer representation when you want to use input images on the CPU.",
  "codeExamples" : [
    {
      "code" : "@property(dynamic) id<QCPlugInInputImageSource> inputImage;",
      "language" : "objc"
    },
    {
      "code" : "[self addInputPortWithType:QCPortTypeImage\n                    forKey:@\"inputImage\"\n            withAttributes:nil];",
      "language" : "objc"
    }
  ],
  "contentHash" : "1864fbaf2fae10bbfd752d155c65359d5690e074863c3c4e35ebf51087a7f530",
  "crawledAt" : "2025-12-09T18:48:37Z",
  "declaration" : {
    "code" : "protocol QCPlugInInputImageSource",
    "language" : "swift"
  },
  "id" : "4793D2B2-040B-4D50-B821-78C9A0BEE4A1",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Quartz",
  "overview" : "## Overview\n\nInput images are opaque source objects that comply to this protocol. To create an image input port as an Objective-C 2.0 property, declare it as follows:\n\nTo create an image input port dynamically. use the type `QCPortTypeImage`:",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/quartz\/qcplugininputimagesource\ncrawled: 2025-12-09T18:48:37Z\n---\n\n# QCPlugInInputImageSource\n\n**Protocol**\n\nThe `QCPlugInInputImageSource` protocol eliminates the need to use explicit image types for the image input ports on your custom patch. Not only does using the protocol avoid restrictions of a specific image type, but it avoids impedance mismatches, and provides better performance by deferring pixel computation until it is needed. When you need to access the pixels in an image, you simply convert the image to a representation (texture or buffer) using one of the methods defined by the `QCPlugInInputImageSource` protocol. Use a texture representation when you want to use input images on the GPU. Use a buffer representation when you want to use input images on the CPU.\n\n## Declaration\n\n```swift\nprotocol QCPlugInInputImageSource\n```\n\n## Overview\n\nInput images are opaque source objects that comply to this protocol. To create an image input port as an Objective-C 2.0 property, declare it as follows:\n\n```objc\n@property(dynamic) id<QCPlugInInputImageSource> inputImage;\n```\n\nTo create an image input port dynamically. use the type `QCPortTypeImage`:\n\n```objc\n[self addInputPortWithType:QCPortTypeImage\n                    forKey:@\"inputImage\"\n            withAttributes:nil];\n```\n\n## Converting an Image to a Representation\n\n- **lockTextureRepresentation(with:forBounds:)**: Creates an OpenGL texture representation from a subregion of the image source using the provided color space.\n- **unlockTextureRepresentation()**: Releases the OpenGL texture representation of the image source.\n- **lockBufferRepresentation(withPixelFormat:colorSpace:forBounds:)**: Creates a memory buffer representation from a subregion of the image source using the provided pixel format and color space.\n- **bindTextureRepresentation(toCGLContext:textureUnit:normalizeCoordinates:)**: Binds the texture to a given texture unit and optionally scales or flips the texture.\n- **unbindTextureRepresentation(fromCGLContext:textureUnit:)**: Unbinds the texture from a texture unit.\n- **unlockBufferRepresentation()**: Releases the memory buffer representation of the image source.\n\n## Getting Color Space Information\n\n- **imageColorSpace()**: Returns the color space of the image source.\n- **shouldColorMatch()**: Returns whether or not the image source should be color matched.\n\n## Getting Texture Information\n\n- **texturePixelsWide()**: Returns the width of the texture representation.\n- **texturePixelsHigh()**: Returns the height of the texture representation.\n- **textureTarget()**: Returns the texture target.\n- **textureName()**: Returns the texture name.\n- **textureColorSpace()**: Returns the color space of the texture representation.\n- **textureFlipped()**: Returns whether or not the contents of the texture are flipped vertically.\n- **textureMatrix()**: Returns a texture matrix.\n\n## Getting Image Buffer Information\n\n- **imageBounds()**: Returns the actual bounds of the image source expressed in pixels and aligned to integer boundaries.\n- **bufferPixelsWide()**: Returns the width of the image buffer representation.\n- **bufferPixelsHigh()**: Returns the height of the image buffer representation.\n- **bufferPixelFormat()**: Returns the pixel format of the image buffer representation.\n- **bufferColorSpace()**: Returns the color space of the image buffer representation.\n- **bufferBaseAddress()**: Returns the base address of the image buffer.\n- **bufferBytesPerRow()**: Returns the  bytes per row of the buffer representation.\n\n## Protocols\n\n- **QCCompositionParameterViewDelegate**: A protocol for composition parameter view’s delegate.\n- **QCCompositionPickerViewDelegate**: The `QCCompositionPickerViewDelegate` informal protocol defines methods that allow  your application to respond to changes in a composition picker view (a [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionPickerView] object).\n- **QCCompositionRenderer**: The `QCRenderer` protocol defines the methods used to pass data to the input ports or retrieve data from the output ports of the root patch of a Quartz Composer composition. This protocol is adopted by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], and [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] classes.\n- **QCPlugInContext**: The `QCPlugInContext` protocol defines methods that you use only from within the execution method ([doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)]) of a `QCPlugIn` object.\n- **QCPlugInOutputImageProvider**: The `QCPlugInOuputImageProvider` protocol eliminates the need to use explicit image types for the image output ports on a custom patch. The methods in this protocol are called by the Quartz Composer engine when the output image is needed. If your custom patch has an image output port, you need to implement the appropriate methods for rendering image data and to supply information about the rendering destination and the image bounds.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an OpenGL texture representation from a subregion of the image source using the provided color space.",
          "name" : "lockTextureRepresentation(with:forBounds:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/lockTextureRepresentation(with:forBounds:)"
        },
        {
          "description" : "Releases the OpenGL texture representation of the image source.",
          "name" : "unlockTextureRepresentation()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/unlockTextureRepresentation()"
        },
        {
          "description" : "Creates a memory buffer representation from a subregion of the image source using the provided pixel format and color space.",
          "name" : "lockBufferRepresentation(withPixelFormat:colorSpace:forBounds:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/lockBufferRepresentation(withPixelFormat:colorSpace:forBounds:)"
        },
        {
          "description" : "Binds the texture to a given texture unit and optionally scales or flips the texture.",
          "name" : "bindTextureRepresentation(toCGLContext:textureUnit:normalizeCoordinates:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bindTextureRepresentation(toCGLContext:textureUnit:normalizeCoordinates:)"
        },
        {
          "description" : "Unbinds the texture from a texture unit.",
          "name" : "unbindTextureRepresentation(fromCGLContext:textureUnit:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/unbindTextureRepresentation(fromCGLContext:textureUnit:)"
        },
        {
          "description" : "Releases the memory buffer representation of the image source.",
          "name" : "unlockBufferRepresentation()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/unlockBufferRepresentation()"
        }
      ],
      "title" : "Converting an Image to a Representation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the color space of the image source.",
          "name" : "imageColorSpace()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/imageColorSpace()"
        },
        {
          "description" : "Returns whether or not the image source should be color matched.",
          "name" : "shouldColorMatch()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/shouldColorMatch()"
        }
      ],
      "title" : "Getting Color Space Information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the width of the texture representation.",
          "name" : "texturePixelsWide()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/texturePixelsWide()"
        },
        {
          "description" : "Returns the height of the texture representation.",
          "name" : "texturePixelsHigh()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/texturePixelsHigh()"
        },
        {
          "description" : "Returns the texture target.",
          "name" : "textureTarget()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/textureTarget()"
        },
        {
          "description" : "Returns the texture name.",
          "name" : "textureName()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/textureName()"
        },
        {
          "description" : "Returns the color space of the texture representation.",
          "name" : "textureColorSpace()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/textureColorSpace()"
        },
        {
          "description" : "Returns whether or not the contents of the texture are flipped vertically.",
          "name" : "textureFlipped()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/textureFlipped()"
        },
        {
          "description" : "Returns a texture matrix.",
          "name" : "textureMatrix()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/textureMatrix()"
        }
      ],
      "title" : "Getting Texture Information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the actual bounds of the image source expressed in pixels and aligned to integer boundaries.",
          "name" : "imageBounds()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/imageBounds()"
        },
        {
          "description" : "Returns the width of the image buffer representation.",
          "name" : "bufferPixelsWide()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferPixelsWide()"
        },
        {
          "description" : "Returns the height of the image buffer representation.",
          "name" : "bufferPixelsHigh()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferPixelsHigh()"
        },
        {
          "description" : "Returns the pixel format of the image buffer representation.",
          "name" : "bufferPixelFormat()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferPixelFormat()"
        },
        {
          "description" : "Returns the color space of the image buffer representation.",
          "name" : "bufferColorSpace()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferColorSpace()"
        },
        {
          "description" : "Returns the base address of the image buffer.",
          "name" : "bufferBaseAddress()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferBaseAddress()"
        },
        {
          "description" : "Returns the  bytes per row of the buffer representation.",
          "name" : "bufferBytesPerRow()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource\/bufferBytesPerRow()"
        }
      ],
      "title" : "Getting Image Buffer Information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A protocol for composition parameter view’s delegate.",
          "name" : "QCCompositionParameterViewDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/qccompositionparameterviewdelegate"
        },
        {
          "description" : "The `QCCompositionPickerViewDelegate` informal protocol defines methods that allow  your application to respond to changes in a composition picker view (a [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionPickerView] object).",
          "name" : "QCCompositionPickerViewDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/qccompositionpickerviewdelegate"
        },
        {
          "description" : "The `QCRenderer` protocol defines the methods used to pass data to the input ports or retrieve data from the output ports of the root patch of a Quartz Composer composition. This protocol is adopted by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], and [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] classes.",
          "name" : "QCCompositionRenderer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionRenderer"
        },
        {
          "description" : "The `QCPlugInContext` protocol defines methods that you use only from within the execution method ([doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)]) of a `QCPlugIn` object.",
          "name" : "QCPlugInContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInContext"
        },
        {
          "description" : "The `QCPlugInOuputImageProvider` protocol eliminates the need to use explicit image types for the image output ports on a custom patch. The methods in this protocol are called by the Quartz Composer engine when the output image is needed. If your custom patch has an image output port, you need to implement the appropriate methods for rendering image data and to supply information about the rendering destination and the image bounds.",
          "name" : "QCPlugInOutputImageProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider"
        }
      ],
      "title" : "Protocols"
    }
  ],
  "source" : "appleJSON",
  "title" : "QCPlugInInputImageSource",
  "url" : "https:\/\/developer.apple.com\/documentation\/quartz\/qcplugininputimagesource"
}