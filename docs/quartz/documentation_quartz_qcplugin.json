{
  "abstract" : "A base class to subclass for writing custom patches.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "68f3e606daf627050c063601868fded6850a64fcaaa5f044b6a603796fab1b2a",
  "crawledAt" : "2025-12-09T18:48:32Z",
  "declaration" : {
    "code" : "class QCPlugIn",
    "language" : "swift"
  },
  "id" : "50DBBD74-37A7-4CB2-9D51-BCD1EA480F92",
  "kind" : "class",
  "language" : "swift",
  "module" : "Quartz",
  "overview" : "## Overview\n\nThe `QCPlugIn` class provides the base class to subclass for writing custom  Quartz Composer patches. You implement a custom patch by subclassing `QCPlugIn`, overriding the appropriate methods, packaging the code as an `NSBundle` object, and installing the bundle in the appropriate location. A bundle can contain more than one subclass  of `QCPlugIn`, allowing you to provide a suite of custom patches in one bundle. [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Conceptual\/QuartzComposer_Patch_PlugIn_ProgGuide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40004787] provides detailed instructions on how to create and package a custom patch. *QCPlugIn Class Reference* supplements the information in the programming guide.\n\nThe methods related to the executing the custom patch (called when the Quartz Composer engine is rendering) are passed an opaque object that conforms to the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugInContext] protocol. This object represents the execution context of the `QCPlugIn` object. You should not retain the execution context or use it outside of the scope of the execution method that it is passed to.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/quartz\/qcplugin\ncrawled: 2025-12-09T18:48:32Z\n---\n\n# QCPlugIn\n\n**Class**\n\nA base class to subclass for writing custom patches.\n\n## Declaration\n\n```swift\nclass QCPlugIn\n```\n\n## Overview\n\nThe `QCPlugIn` class provides the base class to subclass for writing custom  Quartz Composer patches. You implement a custom patch by subclassing `QCPlugIn`, overriding the appropriate methods, packaging the code as an `NSBundle` object, and installing the bundle in the appropriate location. A bundle can contain more than one subclass  of `QCPlugIn`, allowing you to provide a suite of custom patches in one bundle. [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Conceptual\/QuartzComposer_Patch_PlugIn_ProgGuide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40004787] provides detailed instructions on how to create and package a custom patch. *QCPlugIn Class Reference* supplements the information in the programming guide.\n\nThe methods related to the executing the custom patch (called when the Quartz Composer engine is rendering) are passed an opaque object that conforms to the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugInContext] protocol. This object represents the execution context of the `QCPlugIn` object. You should not retain the execution context or use it outside of the scope of the execution method that it is passed to.\n\n## Defining the Characteristics of a Custom Patch\n\n- **executionMode()**: Returns the execution mode of the custom patch.\n- **timeMode()**: Returns the time mode for the custom patch.\n\n## Executing a Custom Patch\n\n- **execute(_:atTime:withArguments:)**: Performs the processing or rendering tasks appropriate for the custom patch.\n\n## Performing Custom Tasks During Execution\n\n- **startExecution(_:)**: Allows you to perform custom setup tasks before the Quartz Composer engine starts rendering.\n- **enableExecution(_:)**: Allows you to perform custom tasks when the execution of the `QCPlugIn` object is resumed.\n- **disableExecution(_:)**: Allows you to perform custom tasks when the execution of the `QCPlugIn` object is paused.\n- **stopExecution(_:)**: Allows you to perform custom tasks when the `QCPlugIn` object stops executing.\n\n## Defining Patch and Property Port Attributes\n\n- **attributes()**: Returns a dictionary that contains strings for the user interface that describe the custom patch.\n- **attributesForPropertyPort(withKey:)**: Returns a dictionary that contains strings for the user interface that describe the optional attributes for ports created from properties.\n\n## Defining Internal Settings\n\n- **createViewController()**: Creates and returns a view controller for the Settings pane of a custom patch.\n- **plugInKeys()**: Returns the keys for the internal settings of a custom patch.\n\n## Supporting Saving and Retrieving Internal Settings\n\n- **serializedValue(forKey:)**: A method implemented to override serialization.\n- **setSerializedValue(_:forKey:)**: Provides custom deserialization for patch internal settings that were previously serialized using the method [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/serializedValue(forKey:)].\n\n## Adding Ports Dynamically\n\n- **addInputPort(withType:forKey:withAttributes:)**: Adds an input port of the specified type and associates a key and attributes with the port.\n- **removeInputPort(forKey:)**: Removes the input port for a given key.\n- **addOutputPort(withType:forKey:withAttributes:)**: Adds an output port of the specified type and associates a key and attributes with the port.\n- **removeOutputPort(forKey:)**: Removes the output port for a given key.\n\n## Getting and Setting Port Values\n\n- **didValue(forInputKeyChange:)**: Returns whether the input port value changed since the last execution of the custom patch.\n- **value(forInputKey:)**: Returns the current value for an input port.\n- **setValue(_:forOutputKey:)**: Sets the value of an output port.\n\n## Loading Bundle and Custom Patches Manually\n\n- **load(atPath:)**: Loads a Quartz Composer plug-in bundle from the specified path.\n- **registerClass(_:)**: Registers a `QCPlugIn` subclass.\n\n## Ordering Property Ports\n\n- **sortedPropertyPortKeys()**: Returns and array of property port keys in the order you want them to appear in the user interface.\n\n## Constants\n\n- **Patch Attributes**: Attributes for custom patches.\n- **Input and Output Port Attributes**: Attributes for input and output ports.\n- **Port Input and Output Types**: Data types for input and output ports.\n- **Pixel Formats**: Supported image pixel formats.\n- **Execution Arguments**: Arguments to the method [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)].\n- **QCPlugInExecutionMode**: Execution modes for custom patches.\n- **QCPlugInTimeMode**: Time modes for custom patches.\n\n## Instance Methods\n\n- **executionTime(for:atTime:withArguments:)**\n\n## Related Documentation\n\n- **Quartz Composer Custom Patch Programming Guide**\n\n## Classes\n\n- **QCComposition**: The `QCComposition` class represents a Quartz Composer composition that either:\n- **QCCompositionLayer**: A layer that loads, plays, and controls Quartz Composer compositions in a Core Animation layer hierarchy.\n- **QCCompositionParameterView**: A class that allows users to edit the input parameters of a composition in real time. The composition can be rendering in any of the following objects: [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], or [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer].\n- **QCCompositionPickerPanel**: The `QCCompositionPickerPanel` class represents a utility window that allows users to browse compositions that are in the Quartz Composer composition repository and, if supported, preview the composition. The `QCCompositionPickerPanel` class cannot be subclassed.\n- **QCCompositionPickerView**: The `QCCompositionPickerView` class allows users to browse compositions that are in the Quartz Composer composition repository, and to preview them. You can set the default input parameters for a composition preview  by using the method setDefaultValue:forInputKey:.\n- **QCCompositionRepository**: The `QCCompositionRepository` class represents a system-wide centralized repository of built-in and installed Quartz Composer compositions (`\/Library\/Compositions` and `~\/Library\/Compositions`). The `QCCompositionRepository` class cannot be subclassed.\n- **QCPatchController**\n- **QCPlugInViewController**: The `QCPlugInViewController` class communicates (through Cocoa bindings) between a custom patch and the view used for the internal settings of the custom patch. Only custom patches that use internal settings exposed to the user need to use the `QCPlugInViewController` class.\n- **QCRenderer**: A base class for low-level rendering.\n- **QCView**: The `QCView` class is a custom `NSView` class that loads, plays, and controls Quartz Composer compositions. It is an autonomous view that is driven by an internal timer running on the main thread.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the execution mode of the custom patch.",
          "name" : "executionMode()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/executionMode()"
        },
        {
          "description" : "Returns the time mode for the custom patch.",
          "name" : "timeMode()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/timeMode()"
        }
      ],
      "title" : "Defining the Characteristics of a Custom Patch"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Performs the processing or rendering tasks appropriate for the custom patch.",
          "name" : "execute(_:atTime:withArguments:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)"
        }
      ],
      "title" : "Executing a Custom Patch"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Allows you to perform custom setup tasks before the Quartz Composer engine starts rendering.",
          "name" : "startExecution(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/startExecution(_:)"
        },
        {
          "description" : "Allows you to perform custom tasks when the execution of the `QCPlugIn` object is resumed.",
          "name" : "enableExecution(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/enableExecution(_:)"
        },
        {
          "description" : "Allows you to perform custom tasks when the execution of the `QCPlugIn` object is paused.",
          "name" : "disableExecution(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/disableExecution(_:)"
        },
        {
          "description" : "Allows you to perform custom tasks when the `QCPlugIn` object stops executing.",
          "name" : "stopExecution(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/stopExecution(_:)"
        }
      ],
      "title" : "Performing Custom Tasks During Execution"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a dictionary that contains strings for the user interface that describe the custom patch.",
          "name" : "attributes()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/attributes()"
        },
        {
          "description" : "Returns a dictionary that contains strings for the user interface that describe the optional attributes for ports created from properties.",
          "name" : "attributesForPropertyPort(withKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/attributesForPropertyPort(withKey:)"
        }
      ],
      "title" : "Defining Patch and Property Port Attributes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates and returns a view controller for the Settings pane of a custom patch.",
          "name" : "createViewController()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/createViewController()"
        },
        {
          "description" : "Returns the keys for the internal settings of a custom patch.",
          "name" : "plugInKeys()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/plugInKeys()"
        }
      ],
      "title" : "Defining Internal Settings"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method implemented to override serialization.",
          "name" : "serializedValue(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/serializedValue(forKey:)"
        },
        {
          "description" : "Provides custom deserialization for patch internal settings that were previously serialized using the method [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/serializedValue(forKey:)].",
          "name" : "setSerializedValue(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/setSerializedValue(_:forKey:)"
        }
      ],
      "title" : "Supporting Saving and Retrieving Internal Settings"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds an input port of the specified type and associates a key and attributes with the port.",
          "name" : "addInputPort(withType:forKey:withAttributes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/addInputPort(withType:forKey:withAttributes:)"
        },
        {
          "description" : "Removes the input port for a given key.",
          "name" : "removeInputPort(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/removeInputPort(forKey:)"
        },
        {
          "description" : "Adds an output port of the specified type and associates a key and attributes with the port.",
          "name" : "addOutputPort(withType:forKey:withAttributes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/addOutputPort(withType:forKey:withAttributes:)"
        },
        {
          "description" : "Removes the output port for a given key.",
          "name" : "removeOutputPort(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/removeOutputPort(forKey:)"
        }
      ],
      "title" : "Adding Ports Dynamically"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns whether the input port value changed since the last execution of the custom patch.",
          "name" : "didValue(forInputKeyChange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/didValue(forInputKeyChange:)"
        },
        {
          "description" : "Returns the current value for an input port.",
          "name" : "value(forInputKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/value(forInputKey:)"
        },
        {
          "description" : "Sets the value of an output port.",
          "name" : "setValue(_:forOutputKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/setValue(_:forOutputKey:)"
        }
      ],
      "title" : "Getting and Setting Port Values"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Loads a Quartz Composer plug-in bundle from the specified path.",
          "name" : "load(atPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/load(atPath:)"
        },
        {
          "description" : "Registers a `QCPlugIn` subclass.",
          "name" : "registerClass(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/registerClass(_:)"
        }
      ],
      "title" : "Loading Bundle and Custom Patches Manually"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns and array of property port keys in the order you want them to appear in the user interface.",
          "name" : "sortedPropertyPortKeys()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/sortedPropertyPortKeys()"
        }
      ],
      "title" : "Ordering Property Ports"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Attributes for custom patches.",
          "name" : "Patch Attributes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/patch-attributes"
        },
        {
          "description" : "Attributes for input and output ports.",
          "name" : "Input and Output Port Attributes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/input-and-output-port-attributes"
        },
        {
          "description" : "Data types for input and output ports.",
          "name" : "Port Input and Output Types",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/port-input-and-output-types"
        },
        {
          "description" : "Supported image pixel formats.",
          "name" : "Pixel Formats",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/pixel-formats"
        },
        {
          "description" : "Arguments to the method [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)].",
          "name" : "Execution Arguments",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/execution-arguments"
        },
        {
          "description" : "Execution modes for custom patches.",
          "name" : "QCPlugInExecutionMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInExecutionMode"
        },
        {
          "description" : "Time modes for custom patches.",
          "name" : "QCPlugInTimeMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInTimeMode"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "executionTime(for:atTime:withArguments:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn\/executionTime(for:atTime:withArguments:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "Quartz Composer Custom Patch Programming Guide"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The `QCComposition` class represents a Quartz Composer composition that either:",
          "name" : "QCComposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCComposition"
        },
        {
          "description" : "A layer that loads, plays, and controls Quartz Composer compositions in a Core Animation layer hierarchy.",
          "name" : "QCCompositionLayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionLayer"
        },
        {
          "description" : "A class that allows users to edit the input parameters of a composition in real time. The composition can be rendering in any of the following objects: [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], or [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer].",
          "name" : "QCCompositionParameterView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionParameterView"
        },
        {
          "description" : "The `QCCompositionPickerPanel` class represents a utility window that allows users to browse compositions that are in the Quartz Composer composition repository and, if supported, preview the composition. The `QCCompositionPickerPanel` class cannot be subclassed.",
          "name" : "QCCompositionPickerPanel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionPickerPanel"
        },
        {
          "description" : "The `QCCompositionPickerView` class allows users to browse compositions that are in the Quartz Composer composition repository, and to preview them. You can set the default input parameters for a composition preview  by using the method setDefaultValue:forInputKey:.",
          "name" : "QCCompositionPickerView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionPickerView"
        },
        {
          "description" : "The `QCCompositionRepository` class represents a system-wide centralized repository of built-in and installed Quartz Composer compositions (`\/Library\/Compositions` and `~\/Library\/Compositions`). The `QCCompositionRepository` class cannot be subclassed.",
          "name" : "QCCompositionRepository",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionRepository"
        },
        {
          "description" : "",
          "name" : "QCPatchController",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPatchController"
        },
        {
          "description" : "The `QCPlugInViewController` class communicates (through Cocoa bindings) between a custom patch and the view used for the internal settings of the custom patch. Only custom patches that use internal settings exposed to the user need to use the `QCPlugInViewController` class.",
          "name" : "QCPlugInViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInViewController"
        },
        {
          "description" : "A base class for low-level rendering.",
          "name" : "QCRenderer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCRenderer"
        },
        {
          "description" : "The `QCView` class is a custom `NSView` class that loads, plays, and controls Quartz Composer compositions. It is an autonomous view that is driven by an internal timer running on the main thread.",
          "name" : "QCView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCView"
        }
      ],
      "title" : "Classes"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "QCPlugIn",
  "url" : "https:\/\/developer.apple.com\/documentation\/quartz\/qcplugin"
}