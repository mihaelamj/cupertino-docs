{
  "abstract" : "A layer that loads, plays, and controls Quartz Composer compositions in a Core Animation layer hierarchy.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CAMediaTiming",
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSObjectProtocol",
    "NSSecureCoding",
    "QCCompositionRenderer",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "08697c74971548899cb1de5f1069055fb6218988a62ab8438ab97d2e0ce6430b",
  "crawledAt" : "2025-12-09T18:48:17Z",
  "declaration" : {
    "code" : "class QCCompositionLayer",
    "language" : "swift"
  },
  "id" : "7BAA9C3E-3F3E-487D-A5F0-6A4A01EBC16E",
  "kind" : "class",
  "language" : "swift",
  "module" : "Quartz",
  "overview" : "## Overview\n\nThe composition tracks the Core Animation layer time and is rendered directly at the current dimensions of the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] object.\n\nAn archived `QCCompositionLayer` object saves the composition that’s loaded at the time the layer is archived. It detects layer usage and pauses or resumes the composition appropriately. A `QCCompositionLayer` object starts rendering the composition automatically when the layer is placed in a visible layer hierarchy. The layer stops rendering when it is hidden or removed from the visible layer hierarchy.\n\nYou can pass data to the input ports, or retrieve data from the output ports, of the root patch of a composition by accessing the `patch` attribute of the `QCCompositionLayer` instance using methods provided by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionRenderer] protocol.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/quartz\/qccompositionlayer\ncrawled: 2025-12-09T18:48:17Z\n---\n\n# QCCompositionLayer\n\n**Class**\n\nA layer that loads, plays, and controls Quartz Composer compositions in a Core Animation layer hierarchy.\n\n## Declaration\n\n```swift\nclass QCCompositionLayer\n```\n\n## Overview\n\nThe composition tracks the Core Animation layer time and is rendered directly at the current dimensions of the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] object.\n\nAn archived `QCCompositionLayer` object saves the composition that’s loaded at the time the layer is archived. It detects layer usage and pauses or resumes the composition appropriately. A `QCCompositionLayer` object starts rendering the composition automatically when the layer is placed in a visible layer hierarchy. The layer stops rendering when it is hidden or removed from the visible layer hierarchy.\n\nYou can pass data to the input ports, or retrieve data from the output ports, of the root patch of a composition by accessing the `patch` attribute of the `QCCompositionLayer` instance using methods provided by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionRenderer] protocol.\n\n\n\n## Creating a Composition Layer\n\n- **init(file:)**: Initializes and returns a composition layer using the Quartz Composer composition in the specified file.\n- **init(composition:)**: Initializes and returns a  composition layer using the provided Quartz Composer composition.\n\n## Getting the Composition\n\n- **composition()**: Returns the composition associated with the layer.\n\n## Classes\n\n- **QCComposition**: The `QCComposition` class represents a Quartz Composer composition that either:\n- **QCCompositionParameterView**: A class that allows users to edit the input parameters of a composition in real time. The composition can be rendering in any of the following objects: [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], or [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer].\n- **QCCompositionPickerPanel**: The `QCCompositionPickerPanel` class represents a utility window that allows users to browse compositions that are in the Quartz Composer composition repository and, if supported, preview the composition. The `QCCompositionPickerPanel` class cannot be subclassed.\n- **QCCompositionPickerView**: The `QCCompositionPickerView` class allows users to browse compositions that are in the Quartz Composer composition repository, and to preview them. You can set the default input parameters for a composition preview  by using the method setDefaultValue:forInputKey:.\n- **QCCompositionRepository**: The `QCCompositionRepository` class represents a system-wide centralized repository of built-in and installed Quartz Composer compositions (`\/Library\/Compositions` and `~\/Library\/Compositions`). The `QCCompositionRepository` class cannot be subclassed.\n- **QCPatchController**\n- **QCPlugIn**: A base class to subclass for writing custom patches.\n- **QCPlugInViewController**: The `QCPlugInViewController` class communicates (through Cocoa bindings) between a custom patch and the view used for the internal settings of the custom patch. Only custom patches that use internal settings exposed to the user need to use the `QCPlugInViewController` class.\n- **QCRenderer**: A base class for low-level rendering.\n- **QCView**: The `QCView` class is a custom `NSView` class that loads, plays, and controls Quartz Composer compositions. It is an autonomous view that is driven by an internal timer running on the main thread.\n\n## Inherits From\n\n- CAOpenGLLayer\n\n## Conforms To\n\n- CAMediaTiming\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSObjectProtocol\n- NSSecureCoding\n- QCCompositionRenderer\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes and returns a composition layer using the Quartz Composer composition in the specified file.",
          "name" : "init(file:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionLayer\/init(file:)"
        },
        {
          "description" : "Initializes and returns a  composition layer using the provided Quartz Composer composition.",
          "name" : "init(composition:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionLayer\/init(composition:)"
        }
      ],
      "title" : "Creating a Composition Layer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the composition associated with the layer.",
          "name" : "composition()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionLayer\/composition()"
        }
      ],
      "title" : "Getting the Composition"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The `QCComposition` class represents a Quartz Composer composition that either:",
          "name" : "QCComposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCComposition"
        },
        {
          "description" : "A class that allows users to edit the input parameters of a composition in real time. The composition can be rendering in any of the following objects: [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], or [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer].",
          "name" : "QCCompositionParameterView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionParameterView"
        },
        {
          "description" : "The `QCCompositionPickerPanel` class represents a utility window that allows users to browse compositions that are in the Quartz Composer composition repository and, if supported, preview the composition. The `QCCompositionPickerPanel` class cannot be subclassed.",
          "name" : "QCCompositionPickerPanel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionPickerPanel"
        },
        {
          "description" : "The `QCCompositionPickerView` class allows users to browse compositions that are in the Quartz Composer composition repository, and to preview them. You can set the default input parameters for a composition preview  by using the method setDefaultValue:forInputKey:.",
          "name" : "QCCompositionPickerView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionPickerView"
        },
        {
          "description" : "The `QCCompositionRepository` class represents a system-wide centralized repository of built-in and installed Quartz Composer compositions (`\/Library\/Compositions` and `~\/Library\/Compositions`). The `QCCompositionRepository` class cannot be subclassed.",
          "name" : "QCCompositionRepository",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionRepository"
        },
        {
          "description" : "",
          "name" : "QCPatchController",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPatchController"
        },
        {
          "description" : "A base class to subclass for writing custom patches.",
          "name" : "QCPlugIn",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugIn"
        },
        {
          "description" : "The `QCPlugInViewController` class communicates (through Cocoa bindings) between a custom patch and the view used for the internal settings of the custom patch. Only custom patches that use internal settings exposed to the user need to use the `QCPlugInViewController` class.",
          "name" : "QCPlugInViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInViewController"
        },
        {
          "description" : "A base class for low-level rendering.",
          "name" : "QCRenderer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCRenderer"
        },
        {
          "description" : "The `QCView` class is a custom `NSView` class that loads, plays, and controls Quartz Composer compositions. It is an autonomous view that is driven by an internal timer running on the main thread.",
          "name" : "QCView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCView"
        }
      ],
      "title" : "Classes"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "CAOpenGLLayer"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "QCCompositionLayer",
  "url" : "https:\/\/developer.apple.com\/documentation\/quartz\/qccompositionlayer"
}