{
  "abstract" : "The `QCPlugInOuputImageProvider` protocol eliminates the need to use explicit image types for the image output ports on a custom patch. The methods in this protocol are called by the Quartz Composer engine when the output image is needed. If your custom patch has an image output port, you need to implement the appropriate methods for rendering image data and to supply information about the rendering destination and the image bounds.",
  "codeExamples" : [
    {
      "code" : "@property(dynamic) id<QCPlugInOutputImageProvider> outputImage;",
      "language" : "objc"
    },
    {
      "code" : "[self addOutputPortWithType:QCPortTypeImage\n                    forKey:@\"outputImage\"\n            withAttributes:nil];",
      "language" : "objc"
    },
    {
      "code" : "@interface MyOutputImage : NSObject <QCPlugInOutputImageProvider>\n{\n    NSUInteger _width;\n    NSUInteger _height;\n}",
      "language" : "objc"
    }
  ],
  "contentHash" : "698eea595578662508864f835fa21d1074c1387fcd3609c5ece217d437053452",
  "crawledAt" : "2025-12-09T18:48:38Z",
  "declaration" : {
    "code" : "protocol QCPlugInOutputImageProvider",
    "language" : "swift"
  },
  "id" : "22EB91B2-5074-4E00-AB0A-91BE5518B0F5",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Quartz",
  "overview" : "## Overview\n\nOutput images are opaque provider objects that comply to this protocol. To create an image output port as an Objective-C 2.0 property, declare it as follows:\n\nTo create an image input port dynamically use the type `QCPortTypeImage`:\n\nTo write images to that port, you need to implement the methods in this protocol and create an internal class that represents the images produced by the custom patch. For example, a simple interface for an image provider is:",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/quartz\/qcpluginoutputimageprovider\ncrawled: 2025-12-09T18:48:38Z\n---\n\n# QCPlugInOutputImageProvider\n\n**Protocol**\n\nThe `QCPlugInOuputImageProvider` protocol eliminates the need to use explicit image types for the image output ports on a custom patch. The methods in this protocol are called by the Quartz Composer engine when the output image is needed. If your custom patch has an image output port, you need to implement the appropriate methods for rendering image data and to supply information about the rendering destination and the image bounds.\n\n## Declaration\n\n```swift\nprotocol QCPlugInOutputImageProvider\n```\n\n## Overview\n\nOutput images are opaque provider objects that comply to this protocol. To create an image output port as an Objective-C 2.0 property, declare it as follows:\n\n```objc\n@property(dynamic) id<QCPlugInOutputImageProvider> outputImage;\n```\n\nTo create an image input port dynamically use the type `QCPortTypeImage`:\n\n```objc\n[self addOutputPortWithType:QCPortTypeImage\n                    forKey:@\"outputImage\"\n            withAttributes:nil];\n```\n\nTo write images to that port, you need to implement the methods in this protocol and create an internal class that represents the images produced by the custom patch. For example, a simple interface for an image provider is:\n\n```objc\n@interface MyOutputImage : NSObject <QCPlugInOutputImageProvider>\n{\n    NSUInteger _width;\n    NSUInteger _height;\n}\n```\n\n## Rendering an Image to a Destination\n\n- **render(toBuffer:withBytesPerRow:pixelFormat:forBounds:)**: Renders a subregion of the image into  the supplied memory buffer using the specified pixel format.\n- **copyRenderedTexture(forCGLContext:pixelFormat:bounds:isFlipped:)**: Returns the name of an OpenGL texture of type `GL_TEXTURE_RECTANGLE_EXT` that contains a subregion of the image in a given pixel format.\n- **render(withCGLContext:forBounds:)**: Renders a subregion of the image to the provided CGL context.\n- **releaseRenderedTexture(_:forCGLContext:)**: Releases the previously copied texture.\n\n## Providing Information About the Image\n\n- **imageBounds()**: Returns the bounds of the image expressed in pixels and aligned to integer boundaries.\n- **imageColorSpace()**: Returns the color space of the image or `NULL` if the image should not be color matched.\n- **shouldColorMatch()**: Returns whether the image should be color matched.\n\n## Providing Information About the Rendering Destination\n\n- **supportedBufferPixelFormats()**: Returns a list of pixel formats that are supported for rendering to a memory buffer.\n- **supportedRenderedTexturePixelFormats()**: Returns a list of pixel formats that are supported for rendering to an onscreen OpenGL context.\n- **canRender(withCGLContext:)**: Returns whether the image data can be rendered into the provided CGL context.\n\n## Protocols\n\n- **QCCompositionParameterViewDelegate**: A protocol for composition parameter view’s delegate.\n- **QCCompositionPickerViewDelegate**: The `QCCompositionPickerViewDelegate` informal protocol defines methods that allow  your application to respond to changes in a composition picker view (a [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionPickerView] object).\n- **QCCompositionRenderer**: The `QCRenderer` protocol defines the methods used to pass data to the input ports or retrieve data from the output ports of the root patch of a Quartz Composer composition. This protocol is adopted by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], and [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] classes.\n- **QCPlugInContext**: The `QCPlugInContext` protocol defines methods that you use only from within the execution method ([doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)]) of a `QCPlugIn` object.\n- **QCPlugInInputImageSource**: The `QCPlugInInputImageSource` protocol eliminates the need to use explicit image types for the image input ports on your custom patch. Not only does using the protocol avoid restrictions of a specific image type, but it avoids impedance mismatches, and provides better performance by deferring pixel computation until it is needed. When you need to access the pixels in an image, you simply convert the image to a representation (texture or buffer) using one of the methods defined by the `QCPlugInInputImageSource` protocol. Use a texture representation when you want to use input images on the GPU. Use a buffer representation when you want to use input images on the CPU.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Renders a subregion of the image into  the supplied memory buffer using the specified pixel format.",
          "name" : "render(toBuffer:withBytesPerRow:pixelFormat:forBounds:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/render(toBuffer:withBytesPerRow:pixelFormat:forBounds:)"
        },
        {
          "description" : "Returns the name of an OpenGL texture of type `GL_TEXTURE_RECTANGLE_EXT` that contains a subregion of the image in a given pixel format.",
          "name" : "copyRenderedTexture(forCGLContext:pixelFormat:bounds:isFlipped:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/copyRenderedTexture(forCGLContext:pixelFormat:bounds:isFlipped:)"
        },
        {
          "description" : "Renders a subregion of the image to the provided CGL context.",
          "name" : "render(withCGLContext:forBounds:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/render(withCGLContext:forBounds:)"
        },
        {
          "description" : "Releases the previously copied texture.",
          "name" : "releaseRenderedTexture(_:forCGLContext:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/releaseRenderedTexture(_:forCGLContext:)"
        }
      ],
      "title" : "Rendering an Image to a Destination"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the bounds of the image expressed in pixels and aligned to integer boundaries.",
          "name" : "imageBounds()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/imageBounds()"
        },
        {
          "description" : "Returns the color space of the image or `NULL` if the image should not be color matched.",
          "name" : "imageColorSpace()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/imageColorSpace()"
        },
        {
          "description" : "Returns whether the image should be color matched.",
          "name" : "shouldColorMatch()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/shouldColorMatch()"
        }
      ],
      "title" : "Providing Information About the Image"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a list of pixel formats that are supported for rendering to a memory buffer.",
          "name" : "supportedBufferPixelFormats()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/supportedBufferPixelFormats()"
        },
        {
          "description" : "Returns a list of pixel formats that are supported for rendering to an onscreen OpenGL context.",
          "name" : "supportedRenderedTexturePixelFormats()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/supportedRenderedTexturePixelFormats()"
        },
        {
          "description" : "Returns whether the image data can be rendered into the provided CGL context.",
          "name" : "canRender(withCGLContext:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInOutputImageProvider\/canRender(withCGLContext:)"
        }
      ],
      "title" : "Providing Information About the Rendering Destination"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A protocol for composition parameter view’s delegate.",
          "name" : "QCCompositionParameterViewDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/qccompositionparameterviewdelegate"
        },
        {
          "description" : "The `QCCompositionPickerViewDelegate` informal protocol defines methods that allow  your application to respond to changes in a composition picker view (a [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionPickerView] object).",
          "name" : "QCCompositionPickerViewDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/qccompositionpickerviewdelegate"
        },
        {
          "description" : "The `QCRenderer` protocol defines the methods used to pass data to the input ports or retrieve data from the output ports of the root patch of a Quartz Composer composition. This protocol is adopted by the [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCRenderer], [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCView], and [doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCCompositionLayer] classes.",
          "name" : "QCCompositionRenderer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCCompositionRenderer"
        },
        {
          "description" : "The `QCPlugInContext` protocol defines methods that you use only from within the execution method ([doc:\/\/com.apple.quartz\/documentation\/Quartz\/QCPlugIn\/execute(_:atTime:withArguments:)]) of a `QCPlugIn` object.",
          "name" : "QCPlugInContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInContext"
        },
        {
          "description" : "The `QCPlugInInputImageSource` protocol eliminates the need to use explicit image types for the image input ports on your custom patch. Not only does using the protocol avoid restrictions of a specific image type, but it avoids impedance mismatches, and provides better performance by deferring pixel computation until it is needed. When you need to access the pixels in an image, you simply convert the image to a representation (texture or buffer) using one of the methods defined by the `QCPlugInInputImageSource` protocol. Use a texture representation when you want to use input images on the GPU. Use a buffer representation when you want to use input images on the CPU.",
          "name" : "QCPlugInInputImageSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/Quartz\/QCPlugInInputImageSource"
        }
      ],
      "title" : "Protocols"
    }
  ],
  "source" : "appleJSON",
  "title" : "QCPlugInOutputImageProvider",
  "url" : "https:\/\/developer.apple.com\/documentation\/quartz\/qcpluginoutputimageprovider"
}