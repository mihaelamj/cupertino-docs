{
  "abstract" : "Configure your JavaScript project to use CKTool JS.",
  "codeExamples" : [
    {
      "code" : "{\n  \"dependencies\": {\n    \"@apple\/cktool.database\": \"^1.3.2\",\n    \"@apple\/cktool.target.nodejs\": \"^1.3.2\",\n    ...\n  },\n  ...\n}",
      "language" : "javascript"
    },
    {
      "code" : "$ npm install",
      "language" : "other"
    },
    {
      "code" : "import { createConfiguration } from \"@apple\/cktool.target.nodejs\";",
      "language" : "javascript"
    },
    {
      "code" : "\/\/ Place additional imports at the top.\nimport { PromisesApi } from \"@apple\/cktool.database\";\n\nconst api = new PromisesApi({\n  configuration: createConfiguration(),\n  security: { \"ManagementTokenAuth\": \"YOUR_MANAGEMENT_TOKEN\" }\n});\n",
      "language" : "javascript"
    },
    {
      "code" : "const defaultParams = {\n  teamId: \"YOUR_TEAM_ID\",\n  containerId: \"YOUR_CONTAINER_ID\",\n  environment: CKEnvironment.DEVELOPMENT\n};",
      "language" : "javascript"
    },
    {
      "code" : "const response = await api.importSchema({\n  ...defaultParams,\n  file: yourFile,\n});",
      "language" : "javascript"
    },
    {
      "code" : "import { toInt64 } from \"@apple\/cktool.database\";\nconst int64Field = createCKDBRecordFieldInt64Value({\n  value: toInt64(123)\n});",
      "language" : "javascript"
    }
  ],
  "contentHash" : "e98e89dd8c9840f5ccaf68382c30be6d93029dc05c05497805ed5cce669fd5d2",
  "crawledAt" : "2025-12-07T05:21:19Z",
  "id" : "95B9998B-54F3-4690-8740-26D4889BFC3A",
  "kind" : "article",
  "language" : "data",
  "module" : "CKTool JS",
  "overview" : "## Overview\n\nInclude CKTool JS in your JavaScript automation testing and continuous integration tasks to manipulate the schema and the data in your database. To start using CKTool JS in your scripts, you need to:\n\n### Obtain a CloudKit management token\n\nCKTool JS requires a CloudKit management token from the CloudKit Console within the [https:\/\/developer.apple.com]. Generate the token from the CloudKit Console by choosing the Settings section for your account. Save this token, because it won’t be visible again.\n\nIf you’ll be accessing with data in a container, then you’ll also require a user token. You can obtain a user token from CloudKit Console.\n\n### Specify and install the CKTool JS packages\n\nTo install the CKTool JS client library, you need to have the `npm` package management tool already installed on your machine. The client library suite includes a main database package and a package used to target Node.js.\n\nAdd the CKTool JS database package to your `package.json`, alongside any other runtime dependencies that you may have.\n\nNow that you’ve specified your additional `package.json` dependencies, install them. Run the following command in your project directory.\n\nThis command downloads the CKTool JS packages specified in your dependencies.\n\n### Prepare the client library for use in your scripts\n\nIn your code, import the configuration factory function for Node.js. This prepares a configuration object for your target platform that the client library requires for initialization.\n\nAfter importing the `createConfiguration` function, you instantiate `PromisesApi`, passing the `configuration` instance along with the management token that you generated from CloudKit Console.\n\nUse the [doc:\/\/com.apple.cktooljs\/documentation\/CKToolJS\/PromisesApi] instance to access your containers from your scripts.\n\n### Create a default parameters object to provide required parameters\n\nMost methods on the API object require `teamId`, `containerId`, and `environment`. Each method on the API object takes a single parameters dictionary to pass required and optional values to the method.\n\nIf you create a plain JavaScript object to hold these frequently required parameters, you can use the JavaScript object spread operator to create a parameter dictionary to pass to a method.\n\nThe following code shows how you call an API object method with your parameters object.\n\nIn the above example, `importSchema` requires a `file` value as well as the values held in `defaultParams`. Using the object spread syntax copies all of the values from `defaultParams` along with the `file` parameter for you to pass it to `importSchema`.\n\n### Convert value types into the library’s expected types\n\nIn order to pass values to CKTool JS functions that expect `Float`, `Double`, `Int32`, `Int64`, `Byte`, `ByteArray`, or `UUID` values, you must convert the parameters into the appropriate type.\n\nFor example, `createCKDBRecordFieldInt64Value` expects a value that’s an `Int64`. To use that function, first convert the value to the expected type using the `toInt64` function.\n\nIn TypeScript, the compiler catches attempts to pass values of the wrong type. If the value types are mismatched, JavaScript throws a runtime error.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/cktooljs\/integrating-cloudkit-access-into-your-javascript-automation-scripts\ncrawled: 2025-12-07T05:21:19Z\n---\n\n# Integrating CloudKit access into your JavaScript automation scripts\n\n**Article**\n\nConfigure your JavaScript project to use CKTool JS.\n\n## Overview\n\nInclude CKTool JS in your JavaScript automation testing and continuous integration tasks to manipulate the schema and the data in your database. To start using CKTool JS in your scripts, you need to:\n\n- Generate a CloudKit management token\n- Install CKTool JS and configure it for your environment\n- Initialize the database API for your scripts to use\n\n### Obtain a CloudKit management token\n\nCKTool JS requires a CloudKit management token from the CloudKit Console within the [https:\/\/developer.apple.com]. Generate the token from the CloudKit Console by choosing the Settings section for your account. Save this token, because it won’t be visible again.\n\nIf you’ll be accessing with data in a container, then you’ll also require a user token. You can obtain a user token from CloudKit Console.\n\n### Specify and install the CKTool JS packages\n\nTo install the CKTool JS client library, you need to have the `npm` package management tool already installed on your machine. The client library suite includes a main database package and a package used to target Node.js.\n\n\n\nAdd the CKTool JS database package to your `package.json`, alongside any other runtime dependencies that you may have.\n\n```javascript\n{\n  \"dependencies\": {\n    \"@apple\/cktool.database\": \"^1.3.2\",\n    \"@apple\/cktool.target.nodejs\": \"^1.3.2\",\n    ...\n  },\n  ...\n}\n```\n\nNow that you’ve specified your additional `package.json` dependencies, install them. Run the following command in your project directory.\n\n```other\n$ npm install\n```\n\nThis command downloads the CKTool JS packages specified in your dependencies.\n\n### Prepare the client library for use in your scripts\n\nIn your code, import the configuration factory function for Node.js. This prepares a configuration object for your target platform that the client library requires for initialization.\n\n```javascript\nimport { createConfiguration } from \"@apple\/cktool.target.nodejs\";\n```\n\nAfter importing the `createConfiguration` function, you instantiate `PromisesApi`, passing the `configuration` instance along with the management token that you generated from CloudKit Console.\n\n```javascript\n\/\/ Place additional imports at the top.\nimport { PromisesApi } from \"@apple\/cktool.database\";\n\nconst api = new PromisesApi({\n  configuration: createConfiguration(),\n  security: { \"ManagementTokenAuth\": \"YOUR_MANAGEMENT_TOKEN\" }\n});\n\n```\n\nUse the [doc:\/\/com.apple.cktooljs\/documentation\/CKToolJS\/PromisesApi] instance to access your containers from your scripts.\n\n### Create a default parameters object to provide required parameters\n\nMost methods on the API object require `teamId`, `containerId`, and `environment`. Each method on the API object takes a single parameters dictionary to pass required and optional values to the method.\n\nIf you create a plain JavaScript object to hold these frequently required parameters, you can use the JavaScript object spread operator to create a parameter dictionary to pass to a method.\n\n```javascript\nconst defaultParams = {\n  teamId: \"YOUR_TEAM_ID\",\n  containerId: \"YOUR_CONTAINER_ID\",\n  environment: CKEnvironment.DEVELOPMENT\n};\n```\n\nThe following code shows how you call an API object method with your parameters object.\n\n```javascript\nconst response = await api.importSchema({\n  ...defaultParams,\n  file: yourFile,\n});\n```\n\nIn the above example, `importSchema` requires a `file` value as well as the values held in `defaultParams`. Using the object spread syntax copies all of the values from `defaultParams` along with the `file` parameter for you to pass it to `importSchema`.\n\n\n\n### Convert value types into the library’s expected types\n\nIn order to pass values to CKTool JS functions that expect `Float`, `Double`, `Int32`, `Int64`, `Byte`, `ByteArray`, or `UUID` values, you must convert the parameters into the appropriate type.\n\nFor example, `createCKDBRecordFieldInt64Value` expects a value that’s an `Int64`. To use that function, first convert the value to the expected type using the `toInt64` function.\n\n```javascript\nimport { toInt64 } from \"@apple\/cktool.database\";\nconst int64Field = createCKDBRecordFieldInt64Value({\n  value: toInt64(123)\n});\n```\n\nIn TypeScript, the compiler catches attempts to pass values of the wrong type. If the value types are mismatched, JavaScript throws a runtime error.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Integrating CloudKit access into your JavaScript automation scripts",
  "url" : "https:\/\/developer.apple.com\/documentation\/cktooljs\/integrating-cloudkit-access-into-your-javascript-automation-scripts"
}