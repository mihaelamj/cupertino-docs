{
  "abstract" : "Specifies the world position and orientation to apply to the current frame.",
  "codeExamples" : [

  ],
  "contentHash" : "316ba2d81223a94a338af36be2964fe1f8b6fcc82d34856c27c024eabd0c716b",
  "crawledAt" : "2025-12-08T02:14:30Z",
  "declaration" : {
    "code" : "void cp_drawable_set_device_anchor(cp_drawable_t drawable, ar_device_anchor_t device_anchor);",
    "language" : "swift"
  },
  "id" : "E2F15F68-D450-423B-8DFE-15D44A28FC54",
  "kind" : "function",
  "language" : "occ",
  "module" : "Compositor Services",
  "overview" : "## Discussion\n\nDuring rendering, match the camera position in your scene to the device anchor to create a better experience. In a visionOS app, the device anchor corresponds to the movements of someone’s head. If your camera movements aren’t synchronized to the device movements, the person might experience discomfort while viewing your content.\n\nBecause you encode your drawing commands before the final rendered frame appears, you must predict the device anchor in advance. ARKit provides the [doc:\/\/com.apple.documentation\/documentation\/ARKit\/ar_world_tracking_provider_query_device_anchor_at_timestamp] function to help you determine this information. Use the value from the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_frame_timing_get_presentation_time] function as the time for the request. Start the prediction process at some point after the time the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_frame_timing_get_optimal_input_time] function returns.\n\nAt display time, Compositor Services compares your predicted device anchor with the actual position and orientation of the device at that time. If the two values don’t match, Compositor Services adjusts the pixels of your frame to align it with the hardware. If you don’t want it to make this adjustment, specify `nil` for the `device_anchor` parameter or don’t call this function.",
  "platforms" : [
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_drawable_set_device_anchor\ncrawled: 2025-12-08T02:14:30Z\n---\n\n# cp_drawable_set_device_anchor\n\n**Function**\n\nSpecifies the world position and orientation to apply to the current frame.\n\n## Declaration\n\n```swift\nvoid cp_drawable_set_device_anchor(cp_drawable_t drawable, ar_device_anchor_t device_anchor);\n```\n\n## Parameters\n\n- **drawable**: The drawable for a frame.\n- **device_anchor**: The anchor that specifies the 3D rotation, translation, and scaling factors you applied to your content when you rendered the frame. If you specify `nil`, Compositor Services doesn’t adjust your content to match the actual display-time position and orientation of the device.\n\n## Discussion\n\nDuring rendering, match the camera position in your scene to the device anchor to create a better experience. In a visionOS app, the device anchor corresponds to the movements of someone’s head. If your camera movements aren’t synchronized to the device movements, the person might experience discomfort while viewing your content.\n\nBecause you encode your drawing commands before the final rendered frame appears, you must predict the device anchor in advance. ARKit provides the [doc:\/\/com.apple.documentation\/documentation\/ARKit\/ar_world_tracking_provider_query_device_anchor_at_timestamp] function to help you determine this information. Use the value from the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_frame_timing_get_presentation_time] function as the time for the request. Start the prediction process at some point after the time the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_frame_timing_get_optimal_input_time] function returns.\n\nAt display time, Compositor Services compares your predicted device anchor with the actual position and orientation of the device at that time. If the two values don’t match, Compositor Services adjusts the pixels of your frame to align it with the hardware. If you don’t want it to make this adjustment, specify `nil` for the `device_anchor` parameter or don’t call this function.\n\n## Accessing the device orientation\n\n- **cp_drawable_get_device_anchor**: Returns the position and orientation you specified for the frame.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the position and orientation you specified for the frame.",
          "name" : "cp_drawable_get_device_anchor",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_drawable_get_device_anchor"
        }
      ],
      "title" : "Accessing the device orientation"
    }
  ],
  "source" : "appleJSON",
  "title" : "cp_drawable_set_device_anchor",
  "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_drawable_set_device_anchor"
}