{
  "abstract" : "A type that provides the Metal types and timing information you need to draw your content.",
  "codeExamples" : [

  ],
  "contentHash" : "07e9dfc2dfa53f2339e7858f595ca0b449a2acd04d7cf93a9cb58bebe44bdd7f",
  "crawledAt" : "2025-12-08T00:49:35Z",
  "id" : "4F909468-9344-456E-A7FE-C472C9A64977",
  "kind" : "collection",
  "language" : "occ",
  "module" : "Compositor Services",
  "overview" : "## Overview\n\nA layer renderer type creates a bridge between a SwiftUI scene and the Metal code you use to draw fully immersive experiences. When you present an immersive space with [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/CompositorLayer] content, the system creates a [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_layer_renderer_t] type and makes it available to the content’s closure. Use the information in the layer renderer to set up your app’s rendering loop, and to start drawing frames of content.\n\nEach layer renderer has information that tells the system how to configure the Metal textures and data types your app needs. Compositor Services provides a default configuration for layer renderers, but you can customize the configuration as needed. Specify your custom configuration details using the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/CompositorLayerConfiguration] protocol and pass a type with those details to the initializer for your immersive space’s content. Use the layer renderer’s capability information to validate any configuration choices you make.\n\nFor information about how to create and configure a layer and use it to run your rendering loop, see [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/drawing-fully-immersive-content-using-metal].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CompositorServices\/layer-renderer\ncrawled: 2025-12-08T00:49:35Z\n---\n\n# Layer renderer\n\n**API Collection**\n\nA type that provides the Metal types and timing information you need to draw your content.\n\n## Overview\n\nA layer renderer type creates a bridge between a SwiftUI scene and the Metal code you use to draw fully immersive experiences. When you present an immersive space with [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/CompositorLayer] content, the system creates a [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_layer_renderer_t] type and makes it available to the content’s closure. Use the information in the layer renderer to set up your app’s rendering loop, and to start drawing frames of content.\n\nEach layer renderer has information that tells the system how to configure the Metal textures and data types your app needs. Compositor Services provides a default configuration for layer renderers, but you can customize the configuration as needed. Specify your custom configuration details using the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/CompositorLayerConfiguration] protocol and pass a type with those details to the initializer for your immersive space’s content. Use the layer renderer’s capability information to validate any configuration choices you make.\n\nFor information about how to create and configure a layer and use it to run your rendering loop, see [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/drawing-fully-immersive-content-using-metal].\n\n## Configuring the layer\n\n- **Layer capabilities**: The color formats, depth formats, and features that you can use to configure your rendering engine.\n- **Layer configuration**: The pixel formats, depth mask, texture layout, and other drawing-related settings you use to configure your drawing code.\n- **Layer properties**: Information about the textures and views that the system created for your drawing code.\n\n## Getting the GPU device\n\n- **device**: The GPU device that the layer renderer uses for drawing operations\n\n## Managing the rendering loop\n\n- **state**: A value that indicates whether the layer renderer is currently visible and ready for you to draw content.\n- **waitUntilRunning()**: Stops further execution of your code until the layer renderer leaves the paused state.\n- **LayerRenderer.State**: The states of the layer renderer, which tell you how to proceed with drawing operations.\n\n## Drawing a frame of content\n\n- **cp_layer_renderer_query_next_frame**: Returns the next frame to use for drawing.\n- **LayerFrameIndex**: A frame index in the layer’s timeline.\n\n## Configuring the frame update rate\n\n- **minimumFrameRepeatCount**: The number of additional frames for which the system displays the same content.\n- **cp_layer_renderer_set_minimum_frame_repeat_count**: Sets the number of additional times the system displays a frame.\n\n## Getting the layer type\n\n- **cp_layer_renderer_t**: A type that provides the Metal types and timing information you need to draw your content.\n- **LayerRenderer**: A type that provides the Metal types and timing information you need to draw your content.\n\n## Render-loop setup\n\n- **Frames**: A type that represents a single frame of content, manages the pace of animations, and provides access to the drawable environment.\n- **Utilities**: Common types and utilities to manage your app’s rendering process.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The color formats, depth formats, and features that you can use to configure your rendering engine.",
          "name" : "Layer capabilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/layer-capabilities"
        },
        {
          "description" : "The pixel formats, depth mask, texture layout, and other drawing-related settings you use to configure your drawing code.",
          "name" : "Layer configuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/layer-configuration"
        },
        {
          "description" : "Information about the textures and views that the system created for your drawing code.",
          "name" : "Layer properties",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/layer-properties"
        }
      ],
      "title" : "Configuring the layer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The GPU device that the layer renderer uses for drawing operations",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer\/device"
        }
      ],
      "title" : "Getting the GPU device"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A value that indicates whether the layer renderer is currently visible and ready for you to draw content.",
          "name" : "state",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer\/state-swift.property"
        },
        {
          "description" : "Stops further execution of your code until the layer renderer leaves the paused state.",
          "name" : "waitUntilRunning()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer\/waitUntilRunning()"
        },
        {
          "description" : "The states of the layer renderer, which tell you how to proceed with drawing operations.",
          "name" : "LayerRenderer.State",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer\/State-swift.enum"
        }
      ],
      "title" : "Managing the rendering loop"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the next frame to use for drawing.",
          "name" : "cp_layer_renderer_query_next_frame",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_layer_renderer_query_next_frame"
        },
        {
          "description" : "A frame index in the layer’s timeline.",
          "name" : "LayerFrameIndex",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerFrameIndex"
        }
      ],
      "title" : "Drawing a frame of content"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The number of additional frames for which the system displays the same content.",
          "name" : "minimumFrameRepeatCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer\/minimumFrameRepeatCount"
        },
        {
          "description" : "Sets the number of additional times the system displays a frame.",
          "name" : "cp_layer_renderer_set_minimum_frame_repeat_count",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_layer_renderer_set_minimum_frame_repeat_count"
        }
      ],
      "title" : "Configuring the frame update rate"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type that provides the Metal types and timing information you need to draw your content.",
          "name" : "cp_layer_renderer_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_layer_renderer_t"
        },
        {
          "description" : "A type that provides the Metal types and timing information you need to draw your content.",
          "name" : "LayerRenderer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/LayerRenderer"
        }
      ],
      "title" : "Getting the layer type"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type that represents a single frame of content, manages the pace of animations, and provides access to the drawable environment.",
          "name" : "Frames",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/frames"
        },
        {
          "description" : "Common types and utilities to manage your app’s rendering process.",
          "name" : "Utilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/utilities"
        }
      ],
      "title" : "Render-loop setup"
    }
  ],
  "source" : "appleJSON",
  "title" : "Layer renderer",
  "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/layer-renderer"
}