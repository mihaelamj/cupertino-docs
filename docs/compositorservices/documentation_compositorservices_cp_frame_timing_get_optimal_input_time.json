{
  "abstract" : "Returns the optimal time to start the frame submission process.",
  "codeExamples" : [

  ],
  "contentHash" : "52da03b405dad756b7c79a2f0ff97564973d0cefd7214365a3d2fa428e33f79c",
  "crawledAt" : "2025-12-08T02:14:20Z",
  "declaration" : {
    "code" : "cp_time_t cp_frame_timing_get_optimal_input_time(cp_frame_timing_t frame_timing);",
    "language" : "swift"
  },
  "id" : "36442753-BA89-45FA-9BED-D3CDE96E6D1E",
  "kind" : "function",
  "language" : "occ",
  "module" : "Compositor Services",
  "overview" : "## Return Value\n\nThe Mach absolute time at which to query the input for your frame.\n\n## Discussion\n\nThe optimal input time is the time at which to call the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/LayerRenderer\/Frame\/startSubmission()] function. Use the time before the input time to update your app’s data structures and prepare for rendering. Call [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_time_wait_until] to suspend your app until the optimal time arrives. When it does, fetch the current device pose and finish rendering and the frame and commit your Metal command buffers.",
  "platforms" : [
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_timing_get_optimal_input_time\ncrawled: 2025-12-08T02:14:20Z\n---\n\n# cp_frame_timing_get_optimal_input_time\n\n**Function**\n\nReturns the optimal time to start the frame submission process.\n\n## Declaration\n\n```swift\ncp_time_t cp_frame_timing_get_optimal_input_time(cp_frame_timing_t frame_timing);\n```\n\n## Parameters\n\n- **frame_timing**: The frame’s timing information. Fetch this information using the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_frame_predict_timing] function. After you retrieve the frame’s drawable type, get the information using [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/LayerRenderer\/Drawable\/frameTiming] instead.\n\n## Return Value\n\nThe Mach absolute time at which to query the input for your frame.\n\n## Discussion\n\nThe optimal input time is the time at which to call the [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/LayerRenderer\/Frame\/startSubmission()] function. Use the time before the input time to update your app’s data structures and prepare for rendering. Call [doc:\/\/com.apple.compositorservices\/documentation\/CompositorServices\/cp_time_wait_until] to suspend your app until the optimal time arrives. When it does, fetch the current device pose and finish rendering and the frame and commit your Metal command buffers.\n\n## Getting timing information\n\n- **cp_frame_predict_timing**: Computes and returns the predicted timing information for the frame.\n- **cp_frame_timing_get_rendering_deadline**: Returns the time at which you must finish all work for the specified frame.\n- **cp_frame_timing_get_presentation_time**: Returns the time at which the system displays the frame.\n- **cp_frame_timing_t**: A type that stores information about a frame’s encoding, rendering, and presentation deadlines.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Computes and returns the predicted timing information for the frame.",
          "name" : "cp_frame_predict_timing",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_predict_timing"
        },
        {
          "description" : "Returns the time at which you must finish all work for the specified frame.",
          "name" : "cp_frame_timing_get_rendering_deadline",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_timing_get_rendering_deadline"
        },
        {
          "description" : "Returns the time at which the system displays the frame.",
          "name" : "cp_frame_timing_get_presentation_time",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_timing_get_presentation_time"
        },
        {
          "description" : "A type that stores information about a frame’s encoding, rendering, and presentation deadlines.",
          "name" : "cp_frame_timing_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_timing_t"
        }
      ],
      "title" : "Getting timing information"
    }
  ],
  "source" : "appleJSON",
  "title" : "cp_frame_timing_get_optimal_input_time",
  "url" : "https:\/\/developer.apple.com\/documentation\/CompositorServices\/cp_frame_timing_get_optimal_input_time"
}