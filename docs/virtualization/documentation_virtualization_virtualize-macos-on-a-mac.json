{
  "abstract" : "Configure and run macOS guests on Apple silicon.",
  "codeExamples" : [

  ],
  "contentHash" : "ea005495a57399143fd6f3abc0c69b8d83e9a5fe0c83971149191d7e300e6e32",
  "crawledAt" : "2025-12-04T01:52:48Z",
  "id" : "ECCC8B2D-FBA3-46F7-BDEE-2BC42CC0996F",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Overview\n\nUse the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] to create a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacPlatformConfiguration] that represents a specific macOS platform configuration ([doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacHardwareModel], number of virtual CPUs, RAM, devices, and so on) that you want to run on your Apple silicon Mac.\n\nThe Virtualization framework provides everything you need to macOS on a VM using macOS installation images you download from Apple. Use the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSRestoreImage\/latestSupported] method of [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSRestoreImage] to obtain the URL for the installation media used to install the latest version of macOS. Alternatively, if you’ve already downloaded a macOS release, you can construct a `VZMacOSRestoreImage` object using that file. The `mostFeaturefulSupportedConfiguration` property of a `VZMacOSRestoreImage` object specifies the requirements and recommendations that you use to configure a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineDelegate] to complete this installation. After creating a `VZVirtualMachine`, use [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSInstaller] to install macOS on that virtual machine. You then use this configuration to create a bootable image that, along with a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSBootLoader], runs in a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] that you can control.\n\nFor more information on running macOS as a guest, see `Creating and Running a macOS Virtual Machine`.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/virtualization\/virtualize-macos-on-a-mac\ncrawled: 2025-12-04T01:52:48Z\n---\n\n# Virtualize macOS on a Mac\n\n**API Collection**\n\nConfigure and run macOS guests on Apple silicon.\n\n## Overview\n\nUse the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] to create a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacPlatformConfiguration] that represents a specific macOS platform configuration ([doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacHardwareModel], number of virtual CPUs, RAM, devices, and so on) that you want to run on your Apple silicon Mac.\n\nThe Virtualization framework provides everything you need to macOS on a VM using macOS installation images you download from Apple. Use the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSRestoreImage\/latestSupported] method of [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSRestoreImage] to obtain the URL for the installation media used to install the latest version of macOS. Alternatively, if you’ve already downloaded a macOS release, you can construct a `VZMacOSRestoreImage` object using that file. The `mostFeaturefulSupportedConfiguration` property of a `VZMacOSRestoreImage` object specifies the requirements and recommendations that you use to configure a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineDelegate] to complete this installation. After creating a `VZVirtualMachine`, use [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSInstaller] to install macOS on that virtual machine. You then use this configuration to create a bootable image that, along with a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZMacOSBootLoader], runs in a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] that you can control.\n\nFor more information on running macOS as a guest, see `Creating and Running a macOS Virtual Machine`.\n\n## Platform components\n\n- **VZVirtualMachineConfiguration**: The environment attributes and list of devices to use during the configuration of macOS or Linux VMs.\n- **VZMacOSVirtualMachineStartOptions**: A class that describes start options for macOS VMs.\n- **VZMacPlatformConfiguration**: The platform configuration for booting macOS on Apple silicon.\n- **VZPlatformConfiguration**: The base class for a platform configuration.\n- **VZMacHardwareModel**: A specification for the hardware elements and configurations present in a particular Mac hardware model.\n- **VZMacMachineIdentifier**: A unique identifier for a VM.\n- **VZMacAuxiliaryStorage**: An object that contains information the boot loader needs for booting macOS as a guest operating system.\n\n## Boot images\n\n- **VZMacOSBootLoader**: An object that loads and configures a boot loader for running macOS on Apple silicon as a guest system of your VM.\n- **VZBootLoader**: The base class that defines the management of the initial process of the guest system.\n\n## Installers\n\n- **VZMacOSInstaller**: An object you use to install macOS on the specified virtual machine.\n- **VZMacOSRestoreImage**: An object that describes a version of macOS to install on to a virtual machine.\n- **VZMacOSConfigurationRequirements**: An object that describes the parameter constraints required by a specific configuration of macOS.\n\n## Virtual machine setup\n\n- **Running macOS in a virtual machine on Apple silicon**: Install and run macOS in a virtual machine using the Virtualization framework.\n- **Running Linux in a Virtual Machine**: Run a Linux operating system on your Mac using the Virtualization framework.\n- **Running GUI Linux in a virtual machine on a Mac**: Install and run GUI Linux in a virtual machine using the Virtualization framework.\n- **Installing macOS on a Virtual Machine**: Download a macOS restore image and install it in a new VM.\n- **Creating and Running a Linux Virtual Machine**: Design and run custom Linux guests on Apple silicon or Intel-based Mac Computers.\n- **Virtualize Linux on a Mac**: Configure and run Linux guests on Apple silicon and Intel-based Mac computers.\n- **Running Intel Binaries in Linux VMs with Rosetta**: Run x86_64 Linux binaries under ARM Linux on Apple silicon.\n- **Accelerating the performance of Rosetta**: Improve Rosetta performance by adding support for the total store ordering (TSO) memory model to your Linux kernel.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The environment attributes and list of devices to use during the configuration of macOS or Linux VMs.",
          "name" : "VZVirtualMachineConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration"
        },
        {
          "description" : "A class that describes start options for macOS VMs.",
          "name" : "VZMacOSVirtualMachineStartOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacOSVirtualMachineStartOptions"
        },
        {
          "description" : "The platform configuration for booting macOS on Apple silicon.",
          "name" : "VZMacPlatformConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacPlatformConfiguration"
        },
        {
          "description" : "The base class for a platform configuration.",
          "name" : "VZPlatformConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZPlatformConfiguration"
        },
        {
          "description" : "A specification for the hardware elements and configurations present in a particular Mac hardware model.",
          "name" : "VZMacHardwareModel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacHardwareModel"
        },
        {
          "description" : "A unique identifier for a VM.",
          "name" : "VZMacMachineIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacMachineIdentifier"
        },
        {
          "description" : "An object that contains information the boot loader needs for booting macOS as a guest operating system.",
          "name" : "VZMacAuxiliaryStorage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacAuxiliaryStorage"
        }
      ],
      "title" : "Platform components"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that loads and configures a boot loader for running macOS on Apple silicon as a guest system of your VM.",
          "name" : "VZMacOSBootLoader",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacOSBootLoader"
        },
        {
          "description" : "The base class that defines the management of the initial process of the guest system.",
          "name" : "VZBootLoader",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZBootLoader"
        }
      ],
      "title" : "Boot images"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object you use to install macOS on the specified virtual machine.",
          "name" : "VZMacOSInstaller",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacOSInstaller"
        },
        {
          "description" : "An object that describes a version of macOS to install on to a virtual machine.",
          "name" : "VZMacOSRestoreImage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacOSRestoreImage"
        },
        {
          "description" : "An object that describes the parameter constraints required by a specific configuration of macOS.",
          "name" : "VZMacOSConfigurationRequirements",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZMacOSConfigurationRequirements"
        }
      ],
      "title" : "Installers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Install and run macOS in a virtual machine using the Virtualization framework.",
          "name" : "Running macOS in a virtual machine on Apple silicon",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/running-macos-in-a-virtual-machine-on-apple-silicon"
        },
        {
          "description" : "Run a Linux operating system on your Mac using the Virtualization framework.",
          "name" : "Running Linux in a Virtual Machine",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/running-linux-in-a-virtual-machine"
        },
        {
          "description" : "Install and run GUI Linux in a virtual machine using the Virtualization framework.",
          "name" : "Running GUI Linux in a virtual machine on a Mac",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/running-gui-linux-in-a-virtual-machine-on-a-mac"
        },
        {
          "description" : "Download a macOS restore image and install it in a new VM.",
          "name" : "Installing macOS on a Virtual Machine",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/installing-macos-on-a-virtual-machine"
        },
        {
          "description" : "Design and run custom Linux guests on Apple silicon or Intel-based Mac Computers.",
          "name" : "Creating and Running a Linux Virtual Machine",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/creating-and-running-a-linux-virtual-machine"
        },
        {
          "description" : "Configure and run Linux guests on Apple silicon and Intel-based Mac computers.",
          "name" : "Virtualize Linux on a Mac",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/virtualize-linux-on-a-mac"
        },
        {
          "description" : "Run x86_64 Linux binaries under ARM Linux on Apple silicon.",
          "name" : "Running Intel Binaries in Linux VMs with Rosetta",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/running-intel-binaries-in-linux-vms-with-rosetta"
        },
        {
          "description" : "Improve Rosetta performance by adding support for the total store ordering (TSO) memory model to your Linux kernel.",
          "name" : "Accelerating the performance of Rosetta",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/accelerating-the-performance-of-rosetta"
        }
      ],
      "title" : "Virtual machine setup"
    }
  ],
  "source" : "appleJSON",
  "title" : "Virtualize macOS on a Mac",
  "url" : "https:\/\/developer.apple.com\/documentation\/virtualization\/virtualize-macos-on-a-mac"
}