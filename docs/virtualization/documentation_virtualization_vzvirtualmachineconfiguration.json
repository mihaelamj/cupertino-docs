{
  "abstract" : "The environment attributes and list of devices to use during the configuration of macOS or Linux VMs.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSObjectProtocol"
  ],
  "contentHash" : "c48ade8aec8a1da1990fbfb241da3636efe7649d8eb8b73f6b0d312127659b09",
  "crawledAt" : "2025-12-02T20:51:27Z",
  "declaration" : {
    "code" : "class VZVirtualMachineConfiguration",
    "language" : "swift"
  },
  "id" : "D90C58A8-0BD3-435B-B5FB-3569D45A70ED",
  "kind" : "class",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Overview\n\nUse a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] object to configure the environment for a macOS or Linux VM. This configuration object contains information about the VM environment, including the devices that the VM exposes to the guest operating system. For example, use the configuration object to specify the network interfaces and storage devices that the operating system may access. For more information on the devices that macOS and Linux guests can support, see the Devices section on the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization] framework page.\n\nYou create and configure [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] objects directly. After validating the configuration object, use it to initialize the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object that manages the virtual environment. The smallest valid configuration includes a value for the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/bootLoader] property; you can also include more devices in the configuration depending on the needs of your app, such as graphics devices, shared directories, and so on. When you finish configuring the object, call the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/validate()] method to determine whether a VM can successfully support your configuration. A configuration object is invalid if your app doesn’t have the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.security.virtualization] entitlement.\n\nFor more information on using `VZVirtualMachineConfiguration`, see [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/installing-macos-on-a-virtual-machine] and [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/creating-and-running-a-linux-virtual-machine].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\ncrawled: 2025-12-02T20:51:27Z\n---\n\n# VZVirtualMachineConfiguration\n\n**Class**\n\nThe environment attributes and list of devices to use during the configuration of macOS or Linux VMs.\n\n## Declaration\n\n```swift\nclass VZVirtualMachineConfiguration\n```\n\n## Overview\n\nUse a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] object to configure the environment for a macOS or Linux VM. This configuration object contains information about the VM environment, including the devices that the VM exposes to the guest operating system. For example, use the configuration object to specify the network interfaces and storage devices that the operating system may access. For more information on the devices that macOS and Linux guests can support, see the Devices section on the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization] framework page.\n\nYou create and configure [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] objects directly. After validating the configuration object, use it to initialize the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object that manages the virtual environment. The smallest valid configuration includes a value for the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/bootLoader] property; you can also include more devices in the configuration depending on the needs of your app, such as graphics devices, shared directories, and so on. When you finish configuring the object, call the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/validate()] method to determine whether a VM can successfully support your configuration. A configuration object is invalid if your app doesn’t have the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.security.virtualization] entitlement.\n\nFor more information on using `VZVirtualMachineConfiguration`, see [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/installing-macos-on-a-virtual-machine] and [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/creating-and-running-a-linux-virtual-machine].\n\n## Configuring the guest system\n\n- **bootLoader**: The guest system to boot when the VM starts.\n\n## Setting the number of CPUs\n\n- **cpuCount**: The number of CPUs you make available to the guest operating system.\n- **minimumAllowedCPUCount**: The minimum number of CPUs you may configure for the VM.\n- **maximumAllowedCPUCount**: The maximum number of CPUs you may configure for the VM.\n\n## Sizing the memory partition\n\n- **memorySize**: The amount of physical memory the guest operating system recognizes.\n- **minimumAllowedMemorySize**: The minimum amount of memory that you may configure for the VM.\n- **maximumAllowedMemorySize**: The maximum amount of memory that you may configure for the VM.\n- **memoryBalloonDevices**: An array that you configure with a memory balloon device, used to update the memory in the VM.\n\n## Adding devices to the VM\n\n- **consoleDevices**: The array of console devices that you expose to the guest operating system.\n- **networkDevices**: The array of network devices that you expose to the guest operating system.\n- **socketDevices**: The socket device that you use to implement port-based communication with the guest operating system.\n- **serialPorts**: The array of serial ports that you expose to the guest operating system.\n- **storageDevices**: The array of storage devices that you expose to the guest operating system.\n- **entropyDevices**: The array of randomization devices that you expose to the guest operating system.\n- **audioDevices**: The list of audio devices.\n- **directorySharingDevices**: The list of directory sharing devices.\n- **graphicsDevices**: The list of graphics devices.\n- **keyboards**: The list of keyboards.\n- **platform**: The hardware platform to use.\n- **pointingDevices**: The list of pointing devices.\n- **usbControllers**: The list of configured USB controllers for the VM.\n\n## Validating the configuration\n\n- **validate()**: Validates the current configuration settings and reports any issues that might prevent the successful initialization of the VM.\n- **validateSaveRestoreSupport()**: Determines whether the framework can save or restore the VM’s current configuration.\n\n## Configurations\n\n- **VZVirtualMachineStartOptions**: The abstract class for VM start options.\n- **VZGenericPlatformConfiguration**: The platform configuration for a generic Intel or ARM virtual machine.\n- **VZPlatformConfiguration**: The base class for a platform configuration.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The guest system to boot when the VM starts.",
          "name" : "bootLoader",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/bootLoader"
        }
      ],
      "title" : "Configuring the guest system"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The number of CPUs you make available to the guest operating system.",
          "name" : "cpuCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/cpuCount"
        },
        {
          "description" : "The minimum number of CPUs you may configure for the VM.",
          "name" : "minimumAllowedCPUCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/minimumAllowedCPUCount"
        },
        {
          "description" : "The maximum number of CPUs you may configure for the VM.",
          "name" : "maximumAllowedCPUCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/maximumAllowedCPUCount"
        }
      ],
      "title" : "Setting the number of CPUs"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The amount of physical memory the guest operating system recognizes.",
          "name" : "memorySize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/memorySize"
        },
        {
          "description" : "The minimum amount of memory that you may configure for the VM.",
          "name" : "minimumAllowedMemorySize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/minimumAllowedMemorySize"
        },
        {
          "description" : "The maximum amount of memory that you may configure for the VM.",
          "name" : "maximumAllowedMemorySize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/maximumAllowedMemorySize"
        },
        {
          "description" : "An array that you configure with a memory balloon device, used to update the memory in the VM.",
          "name" : "memoryBalloonDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/memoryBalloonDevices"
        }
      ],
      "title" : "Sizing the memory partition"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The array of console devices that you expose to the guest operating system.",
          "name" : "consoleDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/consoleDevices"
        },
        {
          "description" : "The array of network devices that you expose to the guest operating system.",
          "name" : "networkDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/networkDevices"
        },
        {
          "description" : "The socket device that you use to implement port-based communication with the guest operating system.",
          "name" : "socketDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/socketDevices"
        },
        {
          "description" : "The array of serial ports that you expose to the guest operating system.",
          "name" : "serialPorts",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/serialPorts"
        },
        {
          "description" : "The array of storage devices that you expose to the guest operating system.",
          "name" : "storageDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/storageDevices"
        },
        {
          "description" : "The array of randomization devices that you expose to the guest operating system.",
          "name" : "entropyDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/entropyDevices"
        },
        {
          "description" : "The list of audio devices.",
          "name" : "audioDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/audioDevices"
        },
        {
          "description" : "The list of directory sharing devices.",
          "name" : "directorySharingDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/directorySharingDevices"
        },
        {
          "description" : "The list of graphics devices.",
          "name" : "graphicsDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/graphicsDevices"
        },
        {
          "description" : "The list of keyboards.",
          "name" : "keyboards",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/keyboards"
        },
        {
          "description" : "The hardware platform to use.",
          "name" : "platform",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/platform"
        },
        {
          "description" : "The list of pointing devices.",
          "name" : "pointingDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/pointingDevices"
        },
        {
          "description" : "The list of configured USB controllers for the VM.",
          "name" : "usbControllers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/usbControllers"
        }
      ],
      "title" : "Adding devices to the VM"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Validates the current configuration settings and reports any issues that might prevent the successful initialization of the VM.",
          "name" : "validate()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/validate()"
        },
        {
          "description" : "Determines whether the framework can save or restore the VM’s current configuration.",
          "name" : "validateSaveRestoreSupport()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration\/validateSaveRestoreSupport()"
        }
      ],
      "title" : "Validating the configuration"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The abstract class for VM start options.",
          "name" : "VZVirtualMachineStartOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineStartOptions"
        },
        {
          "description" : "The platform configuration for a generic Intel or ARM virtual machine.",
          "name" : "VZGenericPlatformConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZGenericPlatformConfiguration"
        },
        {
          "description" : "The base class for a platform configuration.",
          "name" : "VZPlatformConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZPlatformConfiguration"
        }
      ],
      "title" : "Configurations"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "VZVirtualMachineConfiguration",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineConfiguration"
}