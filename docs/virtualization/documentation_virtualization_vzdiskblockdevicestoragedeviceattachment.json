{
  "abstract" : "A storage device attachment that uses a disk to store data.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "c5737940b6ca56f33e1412514fd36304ca7897265de6d3ad3b3d67e7bb0ca571",
  "crawledAt" : "2025-12-02T06:54:41Z",
  "declaration" : {
    "code" : "class VZDiskBlockDeviceStorageDeviceAttachment",
    "language" : "swift"
  },
  "id" : "11E77E84-A51E-4FAE-B1B5-0EF76038ED2B",
  "kind" : "class",
  "module" : "Virtualization",
  "overview" : "## Overview\n\nThe disk block device implements a storage attachment by using an actual disk rather than a disk image on a file system.\n\nIn the following example, a disk device at `\/dev\/rdisk42` executes the I\/O operations directly on that disk rather than through a file system:\n\nBy default, only the `root` user can access the disk file handle. Running virtual machines as `root` isn’t recommended. The best practice is to open the file in a separate process that has `root` privileges, then pass the open file descriptor using XPC or a Unix socket to a non-`root` process running Virtualization. For more information about Unix sockets, see [doc:\/\/com.apple.documentation\/documentation\/Foundation\/streams-sockets-and-ports]; for more information on XPC services, see the [doc:\/\/com.apple.documentation\/documentation\/XPC] framework documentation.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment\ncrawled: 2025-12-02T06:54:41Z\n---\n\n# VZDiskBlockDeviceStorageDeviceAttachment\n\n**Class**\n\nA storage device attachment that uses a disk to store data.\n\n## Declaration\n\n```swift\nclass VZDiskBlockDeviceStorageDeviceAttachment\n```\n\n## Overview\n\nThe disk block device implements a storage attachment by using an actual disk rather than a disk image on a file system.\n\n\n\nIn the following example, a disk device at `\/dev\/rdisk42` executes the I\/O operations directly on that disk rather than through a file system:\n\n\n\nBy default, only the `root` user can access the disk file handle. Running virtual machines as `root` isn’t recommended. The best practice is to open the file in a separate process that has `root` privileges, then pass the open file descriptor using XPC or a Unix socket to a non-`root` process running Virtualization. For more information about Unix sockets, see [doc:\/\/com.apple.documentation\/documentation\/Foundation\/streams-sockets-and-ports]; for more information on XPC services, see the [doc:\/\/com.apple.documentation\/documentation\/XPC] framework documentation.\n\n\n\n## Initializers\n\n- **init(fileHandle:readOnly:synchronizationMode:)**: Creates a new block storage device attachment from a file handle and with the specified access mode, synchronization mode, and error object that you provide.\n\n## Getting the block storage device details\n\n- **fileHandle**: A file handle to a block device.\n- **isReadOnly**: A Boolean value that indicates whether this disk attachment is read-only; otherwise, if the file handle allows writes, the device can write data into it.\n- **synchronizationMode**: The value that defines how the disk synchronizes with the underlying storage when the guest operating system flushes data.\n\n## Related Documentation\n\n- **VZVirtioBlockDeviceConfiguration**: The configuration object that requests the creation of a virtual storage device in the guest system.\n\n## Attachment points\n\n- **VZDiskImageStorageDeviceAttachment**: A device that stores content in a disk image.\n- **VZNetworkBlockDeviceStorageDeviceAttachment**: A storage device attachment backed by a Network Block Device (NBD) client.\n- **VZStorageDeviceAttachment**: The common behaviors for storage devices in the guest system.\n\n## Inherits From\n\n- VZStorageDeviceAttachment\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new block storage device attachment from a file handle and with the specified access mode, synchronization mode, and error object that you provide.",
          "name" : "init(fileHandle:readOnly:synchronizationMode:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment\/init(fileHandle:readOnly:synchronizationMode:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A file handle to a block device.",
          "name" : "fileHandle",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment\/fileHandle"
        },
        {
          "description" : "A Boolean value that indicates whether this disk attachment is read-only; otherwise, if the file handle allows writes, the device can write data into it.",
          "name" : "isReadOnly",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment\/isReadOnly"
        },
        {
          "description" : "The value that defines how the disk synchronizes with the underlying storage when the guest operating system flushes data.",
          "name" : "synchronizationMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment\/synchronizationMode"
        }
      ],
      "title" : "Getting the block storage device details"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The configuration object that requests the creation of a virtual storage device in the guest system.",
          "name" : "VZVirtioBlockDeviceConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtioBlockDeviceConfiguration"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A device that stores content in a disk image.",
          "name" : "VZDiskImageStorageDeviceAttachment",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskImageStorageDeviceAttachment"
        },
        {
          "description" : "A storage device attachment backed by a Network Block Device (NBD) client.",
          "name" : "VZNetworkBlockDeviceStorageDeviceAttachment",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZNetworkBlockDeviceStorageDeviceAttachment"
        },
        {
          "description" : "The common behaviors for storage devices in the guest system.",
          "name" : "VZStorageDeviceAttachment",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZStorageDeviceAttachment"
        }
      ],
      "title" : "Attachment points"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "VZStorageDeviceAttachment"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "VZDiskBlockDeviceStorageDeviceAttachment",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZDiskBlockDeviceStorageDeviceAttachment"
}