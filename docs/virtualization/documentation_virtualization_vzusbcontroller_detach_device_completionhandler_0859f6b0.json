{
  "abstract" : "Detaches a USB device from the controller.",
  "codeExamples" : [

  ],
  "contentHash" : "588e9af811e714af989110dc506d3366a564027e5b1f695064a87a2ac080c73e",
  "crawledAt" : "2025-12-05T13:40:01Z",
  "declaration" : {
    "code" : "func detach(device: any VZUSBDevice, completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "A2BB8C8B-5E46-4621-8E04-A715D42ED080",
  "kind" : "method",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Discussion\n\nIf the device successfully detaches from the controller, it disappears from the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBController\/usbDevices] property, the framework sets its [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBDevice\/usbController] property to `nil,` and the completion handler returns `nil`.\n\nIf the device doesn’t have an attachment to the controller at the time of calling the detach method, the process fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceNotFound].\n\nYou need to call this method on the virtual machine’s queue.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/detach(device:completionHandler:)\ncrawled: 2025-12-05T13:40:01Z\n---\n\n# detach(device:completionHandler:)\n\n**Instance Method**\n\nDetaches a USB device from the controller.\n\n## Declaration\n\n```swift\nfunc detach(device: any VZUSBDevice, completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc detach(device: any VZUSBDevice) async throws\n```\n\n## Parameters\n\n- **device**: The USB device to detach.\n- **completionHandler**: A block the framework calls after the device detaches, or on an error. The error parameter that passes to the block is `nil` if detaching the device is successful. The framework calls the block on a VM’s queue.\n\n## Discussion\n\nIf the device successfully detaches from the controller, it disappears from the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBController\/usbDevices] property, the framework sets its [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBDevice\/usbController] property to `nil,` and the completion handler returns `nil`.\n\nIf the device doesn’t have an attachment to the controller at the time of calling the detach method, the process fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceNotFound].\n\nYou need to call this method on the virtual machine’s queue.\n\n## Related Documentation\n\n- **VZUSBDevice**: A protocol that represents a USB device in a VM.\n\n## Attaching and detaching devices\n\n- **attach(device:completionHandler:)**: Attaches a USB device to the controller.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A protocol that represents a USB device in a VM.",
          "name" : "VZUSBDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBDevice"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Attaches a USB device to the controller.",
          "name" : "attach(device:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/attach(device:completionHandler:)"
        }
      ],
      "title" : "Attaching and detaching devices"
    }
  ],
  "source" : "appleJSON",
  "title" : "detach(device:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/detach(device:completionHandler:)"
}