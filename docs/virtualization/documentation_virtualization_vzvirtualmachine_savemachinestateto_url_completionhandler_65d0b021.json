{
  "abstract" : "Saves the state of a VM.",
  "codeExamples" : [

  ],
  "contentHash" : "71c6069be3992d297ecec7d2731bb1e22f26e9a7a9777ac4b4cce1b1d3a93514",
  "crawledAt" : "2025-12-04T03:23:01Z",
  "declaration" : {
    "code" : "func saveMachineStateTo(url saveFileURL: URL, completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "DCEEB98F-CA1C-4797-99C6-FD0DB4952609",
  "kind" : "method",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Discussion\n\nUse this method to save a paused VM to a file. You can use the contents of this file later to restore the state of the paused VM.\n\nThis call fails if the VM isn’t in a paused state or if the Virtualization framework can’t save the VM. If this method fails, the framework returns an error, and the VM state remains unchanged.\n\nIf this method is successful, the framework writes the file, and the VM state remains unchanged.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/saveMachineStateTo(url:completionHandler:)\ncrawled: 2025-12-04T03:23:01Z\n---\n\n# saveMachineStateTo(url:completionHandler:)\n\n**Instance Method**\n\nSaves the state of a VM.\n\n## Declaration\n\n```swift\nfunc saveMachineStateTo(url saveFileURL: URL, completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc saveMachineStateTo(url saveFileURL: URL) async throws\n```\n\n## Parameters\n\n- **saveFileURL**: An [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSURL] that indicates the location where the framework writes the saved state of the VM.\n- **completionHandler**: A block the framework calls after successfully saving the VM or upon returning an error.\n\nThe error parameter passed to the block is `nil` if the save was successful.\n\n## Discussion\n\nUse this method to save a paused VM to a file. You can use the contents of this file later to restore the state of the paused VM.\n\nThis call fails if the VM isn’t in a paused state or if the Virtualization framework can’t save the VM. If this method fails, the framework returns an error, and the VM state remains unchanged.\n\nIf this method is successful, the framework writes the file, and the VM state remains unchanged.\n\n## Saving and restoring the VM state\n\n- **restoreMachineStateFrom(url:completionHandler:)**: Restores a VM from a previously saved state.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Restores a VM from a previously saved state.",
          "name" : "restoreMachineStateFrom(url:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/restoreMachineStateFrom(url:completionHandler:)"
        }
      ],
      "title" : "Saving and restoring the VM state"
    }
  ],
  "source" : "appleJSON",
  "title" : "saveMachineStateTo(url:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/saveMachineStateTo(url:completionHandler:)"
}