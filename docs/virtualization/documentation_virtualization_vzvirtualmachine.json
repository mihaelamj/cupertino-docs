{
  "abstract" : "An object that manages the overall state and configuration of your VM.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "5ea81c8794c17b088a453c3245a5111dab9d4d0241f1de03e6d2b4449f2026e8",
  "crawledAt" : "2025-12-03T04:27:00Z",
  "declaration" : {
    "code" : "class VZVirtualMachine",
    "language" : "swift"
  },
  "id" : "AB27CF97-95F4-4B2E-BDCE-1E685A875AC4",
  "kind" : "class",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Overview\n\nA [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object emulates a complete hardware machine of the same architecture as the underlying Mac computer. Use the VM to execute a guest operating system and any other apps you install. The VM manages the resources that the guest operating system uses, providing access to some hardware resources while emulating others.\n\nCreate and configure a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] object with details about how you want to configure your VM, and use that object to create the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object. After creating the VM, call the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine\/start(completionHandler:)] method (Swift)  or the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine\/start()] method (Objective-C) to start the VM and boot the guest operating system.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\ncrawled: 2025-12-03T04:27:00Z\n---\n\n# VZVirtualMachine\n\n**Class**\n\nAn object that manages the overall state and configuration of your VM.\n\n## Declaration\n\n```swift\nclass VZVirtualMachine\n```\n\n## Overview\n\nA [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object emulates a complete hardware machine of the same architecture as the underlying Mac computer. Use the VM to execute a guest operating system and any other apps you install. The VM manages the resources that the guest operating system uses, providing access to some hardware resources while emulating others.\n\nCreate and configure a [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachineConfiguration] object with details about how you want to configure your VM, and use that object to create the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine] object. After creating the VM, call the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine\/start(completionHandler:)] method (Swift)  or the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZVirtualMachine\/start()] method (Objective-C) to start the VM and boot the guest operating system.\n\n\n\n## Creating the VM\n\n- **init(configuration:)**: Creates the VM and configures it with the specified data.\n- **init(configuration:queue:)**: Creates and configures the VM with the specified data and dispatch queue.\n- **isSupported**: A Boolean value that indicates whether the system supports virtualization.\n\n## Responding to a stopped VM\n\n- **delegate**: A custom object you use to determine when the VM stops.\n- **VZVirtualMachineDelegate**: The methods you use to respond to changes in the state of the VM.\n\n## Starting and stopping the VM\n\n- **start(completionHandler:)**: Starts the VM and notifies the specified completion handler if startup is successful.\n- **start()**: Starts the VM and notifies the specified completion handler if startup was successful.\n- **start(options:completionHandler:)**: Starts the VM with the options and a completion handler you provide.\n- **stop(completionHandler:)**: Stops a VM that’s in either a running or paused state.\n- **pause(completionHandler:)**: Pauses a running VM and notifies the specified completion handler of the results.\n- **requestStop()**: Asks the guest operating system to stop running.\n- **resume(completionHandler:)**: Resumes a paused VM and notifies the specified completion handler of the results.\n- **pause()**: Pauses a running VM and notifies the specified completion handler of the results.\n- **resume()**: Resumes a paused VM and notifies the specified completion handler of the results.\n- **VZVirtualMachineStartOptions**: The abstract class for VM start options.\n\n## Configuring VM attributes at runtime\n\n- **consoleDevices**: The list of configured console devices on the VM.\n- **memoryBalloonDevices**: The array of devices that you use to adjust the amount of memory available to the guest system.\n- **networkDevices**: The list of configured network devices on the VM.\n- **socketDevices**: The array of socket devices that the VM configures for use ports in the guest VM.\n- **directorySharingDevices**: The list of configured directory-sharing devices on the VM.\n- **usbControllers**: The list of runtime USB controller objects.\n\n## Getting the state of the VM\n\n- **state**: The current execution state of the VM.\n- **VZVirtualMachine.State**: The execution states of the VM.\n- **graphicsDevices**: The list of configured graphics devices on the virtual machine.\n- **canStart**: A Boolean value that indicates whether you can start the VM.\n- **canPause**: A Boolean value that indicates whether you can pause the VM.\n- **canResume**: A Boolean value that indicates whether you can resume the VM.\n- **canStop**: A Boolean value that indicates whether you can stop the VM.\n- **canRequestStop**: A Boolean value that indicates whether you can ask the guest operating system to stop running.\n- **queue**: The queue associated with this virtual machine.\n\n## Saving and restoring the VM state\n\n- **saveMachineStateTo(url:completionHandler:)**: Saves the state of a VM.\n- **restoreMachineStateFrom(url:completionHandler:)**: Restores a VM from a previously saved state.\n\n## Runtime\n\n- **VZVirtualMachineView**: A view that allows user interaction with a VM.\n- **VZLinuxRosettaDirectoryShare**: The Linux directory share for Rosetta.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates the VM and configures it with the specified data.",
          "name" : "init(configuration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/init(configuration:)"
        },
        {
          "description" : "Creates and configures the VM with the specified data and dispatch queue.",
          "name" : "init(configuration:queue:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/init(configuration:queue:)"
        },
        {
          "description" : "A Boolean value that indicates whether the system supports virtualization.",
          "name" : "isSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/isSupported"
        }
      ],
      "title" : "Creating the VM"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A custom object you use to determine when the VM stops.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/delegate"
        },
        {
          "description" : "The methods you use to respond to changes in the state of the VM.",
          "name" : "VZVirtualMachineDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineDelegate"
        }
      ],
      "title" : "Responding to a stopped VM"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts the VM and notifies the specified completion handler if startup is successful.",
          "name" : "start(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/start(completionHandler:)"
        },
        {
          "description" : "Starts the VM and notifies the specified completion handler if startup was successful.",
          "name" : "start()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/start()"
        },
        {
          "description" : "Starts the VM with the options and a completion handler you provide.",
          "name" : "start(options:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/start(options:completionHandler:)"
        },
        {
          "description" : "Stops a VM that’s in either a running or paused state.",
          "name" : "stop(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/stop(completionHandler:)"
        },
        {
          "description" : "Pauses a running VM and notifies the specified completion handler of the results.",
          "name" : "pause(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/pause(completionHandler:)"
        },
        {
          "description" : "Asks the guest operating system to stop running.",
          "name" : "requestStop()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/requestStop()"
        },
        {
          "description" : "Resumes a paused VM and notifies the specified completion handler of the results.",
          "name" : "resume(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/resume(completionHandler:)"
        },
        {
          "description" : "Pauses a running VM and notifies the specified completion handler of the results.",
          "name" : "pause()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/pause()"
        },
        {
          "description" : "Resumes a paused VM and notifies the specified completion handler of the results.",
          "name" : "resume()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/resume()"
        },
        {
          "description" : "The abstract class for VM start options.",
          "name" : "VZVirtualMachineStartOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineStartOptions"
        }
      ],
      "title" : "Starting and stopping the VM"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The list of configured console devices on the VM.",
          "name" : "consoleDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/consoleDevices"
        },
        {
          "description" : "The array of devices that you use to adjust the amount of memory available to the guest system.",
          "name" : "memoryBalloonDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/memoryBalloonDevices"
        },
        {
          "description" : "The list of configured network devices on the VM.",
          "name" : "networkDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/networkDevices"
        },
        {
          "description" : "The array of socket devices that the VM configures for use ports in the guest VM.",
          "name" : "socketDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/socketDevices"
        },
        {
          "description" : "The list of configured directory-sharing devices on the VM.",
          "name" : "directorySharingDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/directorySharingDevices"
        },
        {
          "description" : "The list of runtime USB controller objects.",
          "name" : "usbControllers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/usbControllers"
        }
      ],
      "title" : "Configuring VM attributes at runtime"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The current execution state of the VM.",
          "name" : "state",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/state-swift.property"
        },
        {
          "description" : "The execution states of the VM.",
          "name" : "VZVirtualMachine.State",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/State-swift.enum"
        },
        {
          "description" : "The list of configured graphics devices on the virtual machine.",
          "name" : "graphicsDevices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/graphicsDevices"
        },
        {
          "description" : "A Boolean value that indicates whether you can start the VM.",
          "name" : "canStart",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/canStart"
        },
        {
          "description" : "A Boolean value that indicates whether you can pause the VM.",
          "name" : "canPause",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/canPause"
        },
        {
          "description" : "A Boolean value that indicates whether you can resume the VM.",
          "name" : "canResume",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/canResume"
        },
        {
          "description" : "A Boolean value that indicates whether you can stop the VM.",
          "name" : "canStop",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/canStop"
        },
        {
          "description" : "A Boolean value that indicates whether you can ask the guest operating system to stop running.",
          "name" : "canRequestStop",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/canRequestStop"
        },
        {
          "description" : "The queue associated with this virtual machine.",
          "name" : "queue",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/queue"
        }
      ],
      "title" : "Getting the state of the VM"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Saves the state of a VM.",
          "name" : "saveMachineStateTo(url:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/saveMachineStateTo(url:completionHandler:)"
        },
        {
          "description" : "Restores a VM from a previously saved state.",
          "name" : "restoreMachineStateFrom(url:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine\/restoreMachineStateFrom(url:completionHandler:)"
        }
      ],
      "title" : "Saving and restoring the VM state"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A view that allows user interaction with a VM.",
          "name" : "VZVirtualMachineView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachineView"
        },
        {
          "description" : "The Linux directory share for Rosetta.",
          "name" : "VZLinuxRosettaDirectoryShare",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZLinuxRosettaDirectoryShare"
        }
      ],
      "title" : "Runtime"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "VZVirtualMachine",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZVirtualMachine"
}