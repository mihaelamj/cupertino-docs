{
  "abstract" : "Attaches a USB device to the controller.",
  "codeExamples" : [

  ],
  "contentHash" : "8cf1f4a32559b5f77b7aa919fceeeb2c7b093b28f4c66aaef2e303e3a2c83418",
  "crawledAt" : "2025-12-05T12:10:23Z",
  "declaration" : {
    "code" : "func attach(device: any VZUSBDevice, completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "A704C981-4EF9-4BB5-9882-F40F97C072D5",
  "kind" : "method",
  "language" : "swift",
  "module" : "Virtualization",
  "overview" : "## Discussion\n\nIf the device successfully attaches to the controller, it appears in the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBController\/usbDevices] property, the framework sets its [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBDevice\/usbController] property to point to the attached USB controller, and the completion handler returns `nil`.\n\nIf the device has a previous attachment to the current USB controller, or to another USB controller, the attach function fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceAlreadyAttached]. If the controller can’t initialize the device correctly, the attach function fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceInitializationFailure].\n\nYou need to call this method on the virtual machine’s queue.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/attach(device:completionHandler:)\ncrawled: 2025-12-05T12:10:23Z\n---\n\n# attach(device:completionHandler:)\n\n**Instance Method**\n\nAttaches a USB device to the controller.\n\n## Declaration\n\n```swift\nfunc attach(device: any VZUSBDevice, completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc attach(device: any VZUSBDevice) async throws\n```\n\n## Parameters\n\n- **device**: The USB device to attach.\n- **completionHandler**: A block the framework calls after the device attaches, or on an error. The error parameter that passes to the block is `nil` if attaching is successful. The framework calls the block on a VM’s queue.\n\n## Discussion\n\nIf the device successfully attaches to the controller, it appears in the [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBController\/usbDevices] property, the framework sets its [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZUSBDevice\/usbController] property to point to the attached USB controller, and the completion handler returns `nil`.\n\nIf the device has a previous attachment to the current USB controller, or to another USB controller, the attach function fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceAlreadyAttached]. If the controller can’t initialize the device correctly, the attach function fails with [doc:\/\/com.apple.virtualization\/documentation\/Virtualization\/VZError\/Code\/deviceInitializationFailure].\n\nYou need to call this method on the virtual machine’s queue.\n\n## Related Documentation\n\n- **VZUSBDevice**: A protocol that represents a USB device in a VM.\n\n## Attaching and detaching devices\n\n- **detach(device:completionHandler:)**: Detaches a USB device from the controller.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A protocol that represents a USB device in a VM.",
          "name" : "VZUSBDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBDevice"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detaches a USB device from the controller.",
          "name" : "detach(device:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/detach(device:completionHandler:)"
        }
      ],
      "title" : "Attaching and detaching devices"
    }
  ],
  "source" : "appleJSON",
  "title" : "attach(device:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Virtualization\/VZUSBController\/attach(device:completionHandler:)"
}