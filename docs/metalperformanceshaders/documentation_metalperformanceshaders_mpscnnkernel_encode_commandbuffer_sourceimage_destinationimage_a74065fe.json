{
  "abstract" : "Encodes a kernel into a command buffer.  The ensuing operation proceeds out-of-place.",
  "codeExamples" : [

  ],
  "contentHash" : "0d2c258622463dc92c32466ef8412d305c67f67f48b35e644a27be8cb9fa6ec3",
  "crawledAt" : "2025-12-03T14:32:57Z",
  "declaration" : {
    "code" : "func encode(commandBuffer: any MTLCommandBuffer, sourceImage: MPSImage, destinationImage: MPSImage)",
    "language" : "swift"
  },
  "id" : "4F231619-8867-4510-AE64-C9C1F94750B7",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal Performance Shaders",
  "overview" : "## Discussion\n\nThe `destinationImage` object may not alias the `sourceImage` object.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encode(commandBuffer:sourceImage:destinationImage:)\ncrawled: 2025-12-03T14:32:57Z\n---\n\n# encode(commandBuffer:sourceImage:destinationImage:)\n\n**Instance Method**\n\nEncodes a kernel into a command buffer.  The ensuing operation proceeds out-of-place.\n\n## Declaration\n\n```swift\nfunc encode(commandBuffer: any MTLCommandBuffer, sourceImage: MPSImage, destinationImage: MPSImage)\n```\n\n## Parameters\n\n- **commandBuffer**: A valid command buffer to receive the encoded filter.\n- **sourceImage**: A valid source image.\n- **destinationImage**: A valid destination image to be overwritten by the results.\n\n## Discussion\n\nThe `destinationImage` object may not alias the `sourceImage` object.\n\n## Instance Methods\n\n- **encode(commandBuffer:sourceImage:)**\n- **appendBatchBarrier()**\n- **batchEncodingStorageSize(sourceImage:sourceStates:destinationImage:)**\n- **destinationImageDescriptor(sourceImages:sourceStates:)**\n- **encode(commandBuffer:sourceImage:destinationState:destinationImage:)**\n- **encode(commandBuffer:sourceImage:destinationState:destinationStateIsTemporary:)**\n- **encodeBatch(commandBuffer:sourceImages:)**\n- **encodeBatch(commandBuffer:sourceImages:destinationImages:)**\n- **encodeBatch(commandBuffer:sourceImages:destinationStates:destinationImages:)**\n- **encodeBatch(commandBuffer:sourceImages:destinationStates:destinationStateIsTemporary:)**\n- **encodingStorageSize(sourceImage:sourceStates:destinationImage:)**\n- **isResultStateReusedAcrossBatch()**\n- **resultState(sourceImage:sourceStates:destinationImage:)**\n- **resultStateBatch(sourceImage:sourceStates:destinationImage:)**\n- **temporaryResultState(commandBuffer:sourceImage:sourceStates:destinationImage:)**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "encode(commandBuffer:sourceImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encode(commandBuffer:sourceImage:)"
        },
        {
          "description" : "",
          "name" : "appendBatchBarrier()",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/appendBatchBarrier()"
        },
        {
          "description" : "",
          "name" : "batchEncodingStorageSize(sourceImage:sourceStates:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/batchEncodingStorageSize(sourceImage:sourceStates:destinationImage:)"
        },
        {
          "description" : "",
          "name" : "destinationImageDescriptor(sourceImages:sourceStates:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/destinationImageDescriptor(sourceImages:sourceStates:)"
        },
        {
          "description" : "",
          "name" : "encode(commandBuffer:sourceImage:destinationState:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encode(commandBuffer:sourceImage:destinationState:destinationImage:)"
        },
        {
          "description" : "",
          "name" : "encode(commandBuffer:sourceImage:destinationState:destinationStateIsTemporary:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encode(commandBuffer:sourceImage:destinationState:destinationStateIsTemporary:)"
        },
        {
          "description" : "",
          "name" : "encodeBatch(commandBuffer:sourceImages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encodeBatch(commandBuffer:sourceImages:)"
        },
        {
          "description" : "",
          "name" : "encodeBatch(commandBuffer:sourceImages:destinationImages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encodeBatch(commandBuffer:sourceImages:destinationImages:)"
        },
        {
          "description" : "",
          "name" : "encodeBatch(commandBuffer:sourceImages:destinationStates:destinationImages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encodeBatch(commandBuffer:sourceImages:destinationStates:destinationImages:)"
        },
        {
          "description" : "",
          "name" : "encodeBatch(commandBuffer:sourceImages:destinationStates:destinationStateIsTemporary:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encodeBatch(commandBuffer:sourceImages:destinationStates:destinationStateIsTemporary:)"
        },
        {
          "description" : "",
          "name" : "encodingStorageSize(sourceImage:sourceStates:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encodingStorageSize(sourceImage:sourceStates:destinationImage:)"
        },
        {
          "description" : "",
          "name" : "isResultStateReusedAcrossBatch()",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/isResultStateReusedAcrossBatch()"
        },
        {
          "description" : "",
          "name" : "resultState(sourceImage:sourceStates:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/resultState(sourceImage:sourceStates:destinationImage:)"
        },
        {
          "description" : "",
          "name" : "resultStateBatch(sourceImage:sourceStates:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/resultStateBatch(sourceImage:sourceStates:destinationImage:)"
        },
        {
          "description" : "",
          "name" : "temporaryResultState(commandBuffer:sourceImage:sourceStates:destinationImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/temporaryResultState(commandBuffer:sourceImage:sourceStates:destinationImage:)"
        }
      ],
      "title" : "Instance Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "encode(commandBuffer:sourceImage:destinationImage:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSCNNKernel\/encode(commandBuffer:sourceImage:destinationImage:)"
}