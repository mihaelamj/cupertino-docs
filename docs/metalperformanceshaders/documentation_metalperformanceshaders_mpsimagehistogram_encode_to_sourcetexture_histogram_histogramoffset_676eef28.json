{
  "abstract" : "Encodes the filter to a command buffer using a compute command encoder.",
  "codeExamples" : [

  ],
  "contentHash" : "483a2f9652b9b1a73eb0180bcf6234bacd96e6e97d9c11e5fe7d1dc884081c18",
  "crawledAt" : "2025-12-06T12:07:17Z",
  "declaration" : {
    "code" : "func encode(to commandBuffer: any MTLCommandBuffer, sourceTexture source: any MTLTexture, histogram: any MTLBuffer, histogramOffset: Int)",
    "language" : "swift"
  },
  "id" : "78BD9F15-0E2C-4087-B4F3-EAF86693E6CC",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal Performance Shaders",
  "overview" : "## Discussion\n\nThe filter will not begin to execute until after the command buffer has been enqueued and committed.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSImageHistogram\/encode(to:sourceTexture:histogram:histogramOffset:)\ncrawled: 2025-12-06T12:07:17Z\n---\n\n# encode(to:sourceTexture:histogram:histogramOffset:)\n\n**Instance Method**\n\nEncodes the filter to a command buffer using a compute command encoder.\n\n## Declaration\n\n```swift\nfunc encode(to commandBuffer: any MTLCommandBuffer, sourceTexture source: any MTLTexture, histogram: any MTLBuffer, histogramOffset: Int)\n```\n\n## Parameters\n\n- **commandBuffer**: A valid command buffer.\n- **source**: A valid texture containing the source image for the filter.\n- **histogram**: A valid buffer to receive the histogram results.\n- **histogramOffset**: The byte offset into the histogram buffer at which to write the histogram results. Must be a multiple of 32 bytes. The histogram results per channel are stored together. The number of channels for which histogram results are stored is determined by the number of channels in the image. If the `histogramForAlpha` value of the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSImageHistogram\/histogramInfo] property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] and the source image is RGBA, then only histogram results for RGB channels are stored.\n\n## Discussion\n\nThe filter will not begin to execute until after the command buffer has been enqueued and committed.\n\n## Methods\n\n- **init(device:histogramInfo:)**: Initializes a histogram with specific information.\n- **MPSImageHistogramInfo**: The information used to compute the histogram channels of an image.\n- **histogramSize(forSourceFormat:)**: The amount of space the histogram will take up in the output buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes a histogram with specific information.",
          "name" : "init(device:histogramInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSImageHistogram\/init(device:histogramInfo:)"
        },
        {
          "description" : "The information used to compute the histogram channels of an image.",
          "name" : "MPSImageHistogramInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSImageHistogramInfo"
        },
        {
          "description" : "The amount of space the histogram will take up in the output buffer.",
          "name" : "histogramSize(forSourceFormat:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSImageHistogram\/histogramSize(forSourceFormat:)"
        }
      ],
      "title" : "Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "encode(to:sourceTexture:histogram:histogramOffset:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSImageHistogram\/encode(to:sourceTexture:histogram:histogramOffset:)"
}