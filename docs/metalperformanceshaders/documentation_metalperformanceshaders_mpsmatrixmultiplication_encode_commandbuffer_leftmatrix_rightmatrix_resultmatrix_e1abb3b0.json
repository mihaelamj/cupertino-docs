{
  "abstract" : "Encodes a matrix multiplication kernel to a command buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "159a01d184ea2cddd204c75bd0a5bffa26e6ee27f0ccfacc0a18a63af1b2cbb6",
  "crawledAt" : "2025-12-06T10:56:22Z",
  "declaration" : {
    "code" : "func encode(commandBuffer: any MTLCommandBuffer, leftMatrix: MPSMatrix, rightMatrix: MPSMatrix, resultMatrix: MPSMatrix)",
    "language" : "swift"
  },
  "id" : "C598A9F7-FA67-461D-8C57-3257CD1B7FF5",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal Performance Shaders",
  "overview" : "## Discussion\n\nThe following constraints apply to the sizes of the matrices depending on the transposition operations and the sizes requested at initialization time, as well as the origins at the time this method is called:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/encode(commandBuffer:leftMatrix:rightMatrix:resultMatrix:)\ncrawled: 2025-12-06T10:56:22Z\n---\n\n# encode(commandBuffer:leftMatrix:rightMatrix:resultMatrix:)\n\n**Instance Method**\n\nEncodes a matrix multiplication kernel to a command buffer.\n\n## Declaration\n\n```swift\nfunc encode(commandBuffer: any MTLCommandBuffer, leftMatrix: MPSMatrix, rightMatrix: MPSMatrix, resultMatrix: MPSMatrix)\n```\n\n## Parameters\n\n- **commandBuffer**: The command buffer that will receive the encoded kernel.\n- **leftMatrix**: The left input matrix.\n- **rightMatrix**: The right input matrix.\n- **resultMatrix**: The addend matrix which will also be overwritten by the operation result.\n\n## Discussion\n\nThe following constraints apply to the sizes of the matrices depending on the transposition operations and the sizes requested at initialization time, as well as the origins at the time this method is called:\n\n- The left input matrix must be large enough to hold an array of size `resultRows x interiorColumns` elements, beginning at the value of the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/leftMatrixOrigin] property.\n- The right input matrix must be large enough to hold an array of size `interiorColumns x resultColumns` elements, beginning at the value of the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/rightMatrixOrigin] property.\n- The result matrix must be large enough to hold an array of size `resultRows x resultColumns` elements, beginning at the value of the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/resultMatrixOrigin] property.\n\n## Methods\n\n- **init(device:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:)**: Initializes a matrix multiplication kernel.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes a matrix multiplication kernel.",
          "name" : "init(device:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/init(device:transposeLeft:transposeRight:resultRows:resultColumns:interiorColumns:alpha:beta:)"
        }
      ],
      "title" : "Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "encode(commandBuffer:leftMatrix:rightMatrix:resultMatrix:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSMatrixMultiplication\/encode(commandBuffer:leftMatrix:rightMatrix:resultMatrix:)"
}