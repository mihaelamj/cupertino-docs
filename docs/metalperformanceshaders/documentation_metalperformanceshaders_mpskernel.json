{
  "abstract" : "A standard interface for Metal Performance Shaders kernels.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding"
  ],
  "contentHash" : "02eb2031629f76c83b06b364d28963e0a73d27df1a8a36fa0ac058ce8c331dd5",
  "crawledAt" : "2025-12-04T22:34:05Z",
  "declaration" : {
    "code" : "class MPSKernel",
    "language" : "swift"
  },
  "id" : "8CB71714-4E49-4190-84BB-B653FCFE1034",
  "inheritedBy" : [
    "MPSAccelerationStructure",
    "MPSBinaryImageKernel",
    "MPSCNNBinaryKernel",
    "MPSCNNKernel",
    "MPSCNNMultiaryKernel",
    "MPSImageCopyToMatrix",
    "MPSImageEDLines",
    "MPSImageFindKeypoints",
    "MPSImageGuidedFilter",
    "MPSImageHistogram",
    "MPSImageNormalizedHistogram",
    "MPSMatrixBinaryKernel",
    "MPSMatrixCopy",
    "MPSMatrixCopyToImage",
    "MPSMatrixMultiplication",
    "MPSMatrixRandom",
    "MPSMatrixSum",
    "MPSMatrixUnaryKernel",
    "MPSNDArrayMultiaryBase",
    "MPSNNGraph",
    "MPSNNOptimizer",
    "MPSRNNMatrixInferenceLayer",
    "MPSRNNMatrixTrainingLayer",
    "MPSRayIntersector",
    "MPSSVGF",
    "MPSTemporalAA",
    "MPSUnaryImageKernel"
  ],
  "kind" : "class",
  "language" : "swift",
  "module" : "Metal Performance Shaders",
  "overview" : "## Overview\n\nYou should not use the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSKernel] class directly. Instead, a number of subclasses are available that define specific high-performance data-parallel operations.\n\nThe basic sequence for applying a kernel to an image is as follows:\n\nEncoding the kernel merely encodes the operation into a command buffer. It does not modify any pixels, yet. All kernel state has been copied to the command buffer. Kernels may be reused. If the texture was previously operated on by another command encoder (e.g. a render command encoder), you should call the [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method on the other encoder before encoding the filter.\n\nSome kernels work in place, even in situations where Metal might not normally allow in-place operation on textures. If in-place operation is desired, you may attempt to call the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSUnaryImageKernel\/encode(commandBuffer:inPlaceTexture:fallbackCopyAllocator:)] method. If the operation cannot be completed in place, then [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] will be returned and you will have to create a new result texture and try again. To make an in-place image filter reliable, pass a fallback [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCopyAllocator] block to the method to create a new texture to write to in the event that a filter cannot operate in place.\n\nYou may repeat step 2 to encode more kernels, as desired. 3. After encoding any additional work to the command buffer using other encoders, submit the command buffer to your command queue, using:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/metalperformanceshaders\/mpskernel\ncrawled: 2025-12-04T22:34:05Z\n---\n\n# MPSKernel\n\n**Class**\n\nA standard interface for Metal Performance Shaders kernels.\n\n## Declaration\n\n```swift\nclass MPSKernel\n```\n\n## Overview\n\nYou should not use the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSKernel] class directly. Instead, a number of subclasses are available that define specific high-performance data-parallel operations.\n\nThe basic sequence for applying a kernel to an image is as follows:\n\n1. Initialize a kernel corresponding to the operation you wish to perform:\n\n\n\n1. Encode the kernel into a command buffer.\n\n\n\nEncoding the kernel merely encodes the operation into a command buffer. It does not modify any pixels, yet. All kernel state has been copied to the command buffer. Kernels may be reused. If the texture was previously operated on by another command encoder (e.g. a render command encoder), you should call the [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method on the other encoder before encoding the filter.\n\nSome kernels work in place, even in situations where Metal might not normally allow in-place operation on textures. If in-place operation is desired, you may attempt to call the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSUnaryImageKernel\/encode(commandBuffer:inPlaceTexture:fallbackCopyAllocator:)] method. If the operation cannot be completed in place, then [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] will be returned and you will have to create a new result texture and try again. To make an in-place image filter reliable, pass a fallback [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCopyAllocator] block to the method to create a new texture to write to in the event that a filter cannot operate in place.\n\nYou may repeat step 2 to encode more kernels, as desired. 3. After encoding any additional work to the command buffer using other encoders, submit the command buffer to your command queue, using:\n\n\n\n\n\n## Initializers\n\n- **init(coder:)**\n- **init(coder:device:)**\n\n## Methods\n\n- **init(device:)**: Initializes a new kernel object.\n- **copy(with:device:)**: Makes a copy of this kernel object for a new device.\n\n## Properties\n\n- **options**: The set of options used to run the kernel.\n- **MPSKernelOptions**: The options used when creating a kernel.\n- **device**: The device on which the kernel will be used.\n- **label**: The string that identifies the kernel.\n\n## Inherits From\n\n- NSObject\n\n## Inherited By\n\n- MPSAccelerationStructure\n- MPSBinaryImageKernel\n- MPSCNNBinaryKernel\n- MPSCNNKernel\n- MPSCNNMultiaryKernel\n- MPSImageCopyToMatrix\n- MPSImageEDLines\n- MPSImageFindKeypoints\n- MPSImageGuidedFilter\n- MPSImageHistogram\n- MPSImageNormalizedHistogram\n- MPSMatrixBinaryKernel\n- MPSMatrixCopy\n- MPSMatrixCopyToImage\n- MPSMatrixMultiplication\n- MPSMatrixRandom\n- MPSMatrixSum\n- MPSMatrixUnaryKernel\n- MPSNDArrayMultiaryBase\n- MPSNNGraph\n- MPSNNOptimizer\n- MPSRNNMatrixInferenceLayer\n- MPSRNNMatrixTrainingLayer\n- MPSRayIntersector\n- MPSSVGF\n- MPSTemporalAA\n- MPSUnaryImageKernel\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "init(coder:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/init(coder:)"
        },
        {
          "description" : "",
          "name" : "init(coder:device:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/init(coder:device:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes a new kernel object.",
          "name" : "init(device:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/init(device:)"
        },
        {
          "description" : "Makes a copy of this kernel object for a new device.",
          "name" : "copy(with:device:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/copy(with:device:)"
        }
      ],
      "title" : "Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The set of options used to run the kernel.",
          "name" : "options",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/options"
        },
        {
          "description" : "The options used when creating a kernel.",
          "name" : "MPSKernelOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernelOptions"
        },
        {
          "description" : "The device on which the kernel will be used.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/device"
        },
        {
          "description" : "The string that identifies the kernel.",
          "name" : "label",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSKernel\/label"
        }
      ],
      "title" : "Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MPSKernel",
  "url" : "https:\/\/developer.apple.com\/documentation\/metalperformanceshaders\/mpskernel"
}