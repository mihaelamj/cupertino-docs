{
  "abstract" : "The number of times a temporary image may be read by a CNN kernel before its contents become undefined.",
  "codeExamples" : [

  ],
  "contentHash" : "ca0125d901002ee6b30b18f4472cada14dfb7c6de3462d18b963a84962f57dd3",
  "crawledAt" : "2025-12-02T19:42:14Z",
  "declaration" : {
    "code" : "var readCount: Int { get set }",
    "language" : "swift"
  },
  "id" : "26F26EF4-98A7-429C-9318-BFF9663B512B",
  "kind" : "property",
  "language" : "swift",
  "module" : "Metal Performance Shaders",
  "overview" : "## Discussion\n\nTemporary images must release their underlying textures for reuse immediately after last use. In order to facilitate *prompt* and convenient memory recycling, each time a [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] object is read by an `encode` method of an [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCNNKernel] object, the value of its [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] property is automatically decremented. When the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] reaches 0, the underlying texture is automatically made available and reusable to the framework for its own needs (and for other [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] objects prior to return from the `encode` method). The contents of the underlying texture become undefined at this time.\n\nBy default, the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] is initialized to 1, indicating a temporary image that may be overwritten any number of times, but read only once.\n\nYou may change the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] as desired to allow [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCNNKernel] objects to read the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] object additional times. However, it is an error to change the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] once it reaches 0 (it is also an error to read or write to a temporary image with a [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] value of 0). You may set the value of  [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] to 0 yourself to cause the underlying texture to be returned to the framework. Writing to a temporary image does not adjust the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount].\n\nThe Metal API Validation layer will assert if a temporary image is deallocated with a non-zero [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] value to help identify cases when resources are not returned promptly.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount\ncrawled: 2025-12-02T19:42:14Z\n---\n\n# readCount\n\n**Instance Property**\n\nThe number of times a temporary image may be read by a CNN kernel before its contents become undefined.\n\n## Declaration\n\n```swift\nvar readCount: Int { get set }\n```\n\n## Discussion\n\nTemporary images must release their underlying textures for reuse immediately after last use. In order to facilitate *prompt* and convenient memory recycling, each time a [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] object is read by an `encode` method of an [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCNNKernel] object, the value of its [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] property is automatically decremented. When the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] reaches 0, the underlying texture is automatically made available and reusable to the framework for its own needs (and for other [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] objects prior to return from the `encode` method). The contents of the underlying texture become undefined at this time.\n\nBy default, the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] is initialized to 1, indicating a temporary image that may be overwritten any number of times, but read only once.\n\nYou may change the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] as desired to allow [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSCNNKernel] objects to read the [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage] object additional times. However, it is an error to change the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] once it reaches 0 (it is also an error to read or write to a temporary image with a [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] value of 0). You may set the value of  [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] to 0 yourself to cause the underlying texture to be returned to the framework. Writing to a temporary image does not adjust the value of [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount].\n\nThe Metal API Validation layer will assert if a temporary image is deallocated with a non-zero [doc:\/\/com.apple.metalperformanceshaders\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount] value to help identify cases when resources are not returned promptly.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "readCount",
  "url" : "https:\/\/developer.apple.com\/documentation\/MetalPerformanceShaders\/MPSTemporaryImage\/readCount"
}