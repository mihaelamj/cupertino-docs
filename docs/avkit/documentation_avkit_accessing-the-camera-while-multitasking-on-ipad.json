{
  "abstract" : "Operate the camera in Split View, Slide Over, Picture in Picture, and Stage Manager modes.",
  "codeExamples" : [
    {
      "code" : "let captureSession = AVCaptureSession()\n\n\/\/ Configure the capture session.\ncaptureSession.beginConfiguration()\n\nif captureSession.isMultitaskingCameraAccessSupported {\n    \/\/ Enable use of the camera in multitasking modes.\n    captureSession.isMultitaskingCameraAccessEnabled = true\n}\ncaptureSession.commitConfiguration()\n\n\/\/ Start the capture session.\ncaptureSession.startRunning()",
      "language" : "swift"
    },
    {
      "code" : "let systemPressureStateObservation = observe(\\.self.device.systemPressureState, \n                                             options: .new) { [weak self] _, change in\n    guard let self = self else { return }\n    guard let systemPressureState = change.newValue else { return }\n\n    \/\/ The frame rates here are for demonstrative purposes only.\n    \/\/ Frame rate throttling can differ depending on your app's camera configuration.\n    let pressureLevel = systemPressureState.level\n    if pressureLevel == .serious || pressureLevel == .critical {\n        do {\n            try self.device.lockForConfiguration()\n\n            print(\"WARNING: Reached elevated system pressure level: \\(pressureLevel). Throttling frame rate.\")\n\n            self.device.activeVideoMinFrameDuration = CMTimeMake(value: 1, timescale: 20)\n            self.device.activeVideoMaxFrameDuration = CMTimeMake(value: 1, timescale: 15)\n\n            self.device.unlockForConfiguration()\n        } catch {\n            print(\"Could not lock device for configuration: \\(error)\")\n        }\n    } else if pressureLevel == .shutdown {\n        print(\"Session stopped running due to system pressure level.\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "func addObservers() {\n    let nc = NotificationCenter.default\n\n    \/\/ Observe when the system interrupts the capture session.\n    nc.addObserver(self,\n                   selector: #selector(handleInterruptionStarted),\n                   name: .AVCaptureSessionWasInterrupted,\n                   object: captureSession)\n\n    \/\/ Observe when the capture session interruption ends.\n    nc.addObserver(self,\n                   selector: #selector(handleInterruptionEnded),\n                   name: .AVCaptureSessionInterruptionEnded,\n                   object: captureSession)\n}",
      "language" : "swift"
    },
    {
      "code" : "@objc func handleInterruptionStarted(notification: Notification) {\n    guard let userInfo = notification.userInfo,\n          let reasonValue = userInfo[AVCaptureSessionInterruptionReasonKey] as? Int,\n          let reason = AVCaptureSession.InterruptionReason(rawValue: reasonValue) else {\n        print(“Failed to parse the interruption reason.”)\n        return\n    }\n\n    switch reason {\n    case .videoDeviceInUseByAnotherClient:\n        \/\/ Show your app's interruption user interface.\n    case .videoDeviceNotAvailableDueToSystemPressure:\n        \/\/ Handle an interruption from increasing system pressure.\n    default:\n        \/\/ Handle other interruption reasons.\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "dc03728752fed99ec0cb3d47f6c973ef3b1ea5199ea0b4231ca4b66f5b715652",
  "crawledAt" : "2025-12-02T15:44:40Z",
  "id" : "A67E30CF-6966-4804-A946-AE65B21EBA45",
  "kind" : "article",
  "language" : "swift",
  "module" : "AVKit",
  "overview" : "## Overview\n\nCamera access on iPad is normally limited to apps running in full-screen mode. If your app enters a multitasking mode, such as Split View or Stage Manager, the system disables the camera by default. In iPadOS 16 and later, your app can enable using the camera while multitasking.\n\nMultitasking modes enable people to work with multiple apps at the same time. There are four kinds:\n\nWhen you enable multitasking camera access, your app can run alongside other foreground apps and it no longer receives [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/InterruptionReason\/videoDeviceNotAvailableWithMultipleForegroundApps] as an interruption reason.\n\nWhen operating the camera capture system, using the multitasking feature introduces the possibility of performance degradation because of other apps consuming resources like memory, CPU, and GPU. Increased device temperature and power usage can lead to frame drops or poor capture quality.\n\nFor information about Split View and Slide Over modes, see [https:\/\/support.apple.com\/en-us\/HT207582]. For information about Stage Manager on iPad, see [https:\/\/support.apple.com\/guide\/ipad\/move-resize-and-organize-windows-ipad1240f36f\/ipados].\n\n### Enable camera access while multitasking\n\nSet up a capture session to enable your app to capture photos or videos. See [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/setting-up-a-capture-session] for more information. You can configure a capture session to allow use of the camera while multitasking if the current environment supports it. To determine if a capture session supports this feature, query its [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/isMultitaskingCameraAccessSupported]. If this value is `true`, you can enable multitasking camera access by setting [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/isMultitaskingCameraAccessEnabled] to `true`, as the example below shows:\n\nEnabling your app to use the camera while multitasking extends to Picture in Picture mode for video calls using AVKit. See [doc:\/\/com.apple.avkit\/documentation\/AVKit\/adopting-picture-in-picture-for-video-calls] to learn more.\n\nWhile multitasking, after an app finishes recording a video with [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureMovieFileOutput] or [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVAssetWriter], the system displays an alert one time only to inform the user about the potential for lower-quality videos.\n\n### Configure your app for Split View or Slide Over mode\n\nWhen you enable multitasking camera access, your app doesn’t need to run in full-screen mode to use the camera. When it does run in full-screen mode, the camera continues to function in Slide Over mode and when the system presents a Picture in Picture window over your app. If you want to also run your app in Split View or Slide Over mode, follow these steps:\n\n### Respond to system pressure\n\nMake your app resilient to increasing system pressure by monitoring the [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureDevice\/systemPressureState-swift.property] property on [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureDevice], and take action to reduce the impact. When the pressure reaches excessive levels, the capture system shuts down and emits an [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/wasInterruptedNotification] notification.\n\nApps can reduce their footprint on the system by lowering the frame rate or requesting lower-resolution, binned, or non-HDR formats. The following code, from the sample app [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/avmulticampip-capturing-from-multiple-cameras], shows how to reduce the capture frame rate:\n\n### Handle camera use interruptions\n\nThe system only allows one app to use the device’s camera at a time. Prepare your app to respond when another app starts using the camera. For example, if your app is running in Stage Manager and another app utilizes the camera, the system suspends your app’s use of the camera until the other app finishes. When the system interrupts your app’s use of the camera, it notifies your app so you can update your user interface.\n\nTo enable the system to notify you when your app’s camera access changes, observe the notifications [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/wasInterruptedNotification] and [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/interruptionEndedNotification], as the example below shows:\n\nThe notification object’s user information dictionary contains the reason for an interruption. Determining the reason lets you configure your user interface as your camera access changes. Use [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSessionInterruptionReasonKey] to look up the value, as the example below shows:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVKit\/accessing-the-camera-while-multitasking-on-ipad\ncrawled: 2025-12-02T15:44:40Z\n---\n\n# Accessing the camera while multitasking on iPad\n\n**Article**\n\nOperate the camera in Split View, Slide Over, Picture in Picture, and Stage Manager modes.\n\n## Overview\n\nCamera access on iPad is normally limited to apps running in full-screen mode. If your app enters a multitasking mode, such as Split View or Stage Manager, the system disables the camera by default. In iPadOS 16 and later, your app can enable using the camera while multitasking.\n\n\n\nMultitasking modes enable people to work with multiple apps at the same time. There are four kinds:\n\n- Split View mode accommodates two different apps, or two windows from the same app, by splitting the screen into resizable views.\n- Slide Over mode lets users work on an app that slides in front of any open apps.\n- Picture in Picture mode displays a draggable window over an app.\n- Stage Manager lets users resize windows and see multiple overlapping windows in a single view, group apps for specific tasks or projects, and drag windows between iPad and an externally connected display.\n\nWhen you enable multitasking camera access, your app can run alongside other foreground apps and it no longer receives [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/InterruptionReason\/videoDeviceNotAvailableWithMultipleForegroundApps] as an interruption reason.\n\nWhen operating the camera capture system, using the multitasking feature introduces the possibility of performance degradation because of other apps consuming resources like memory, CPU, and GPU. Increased device temperature and power usage can lead to frame drops or poor capture quality.\n\n\n\nFor information about Split View and Slide Over modes, see [https:\/\/support.apple.com\/en-us\/HT207582]. For information about Stage Manager on iPad, see [https:\/\/support.apple.com\/guide\/ipad\/move-resize-and-organize-windows-ipad1240f36f\/ipados].\n\n### Enable camera access while multitasking\n\nSet up a capture session to enable your app to capture photos or videos. See [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/setting-up-a-capture-session] for more information. You can configure a capture session to allow use of the camera while multitasking if the current environment supports it. To determine if a capture session supports this feature, query its [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/isMultitaskingCameraAccessSupported]. If this value is `true`, you can enable multitasking camera access by setting [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/isMultitaskingCameraAccessEnabled] to `true`, as the example below shows:\n\n```swift\nlet captureSession = AVCaptureSession()\n\n\/\/ Configure the capture session.\ncaptureSession.beginConfiguration()\n\nif captureSession.isMultitaskingCameraAccessSupported {\n    \/\/ Enable use of the camera in multitasking modes.\n    captureSession.isMultitaskingCameraAccessEnabled = true\n}\ncaptureSession.commitConfiguration()\n\n\/\/ Start the capture session.\ncaptureSession.startRunning()\n```\n\nEnabling your app to use the camera while multitasking extends to Picture in Picture mode for video calls using AVKit. See [doc:\/\/com.apple.avkit\/documentation\/AVKit\/adopting-picture-in-picture-for-video-calls] to learn more.\n\nWhile multitasking, after an app finishes recording a video with [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureMovieFileOutput] or [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVAssetWriter], the system displays an alert one time only to inform the user about the potential for lower-quality videos.\n\n\n\n### Configure your app for Split View or Slide Over mode\n\nWhen you enable multitasking camera access, your app doesn’t need to run in full-screen mode to use the camera. When it does run in full-screen mode, the camera continues to function in Slide Over mode and when the system presents a Picture in Picture window over your app. If you want to also run your app in Split View or Slide Over mode, follow these steps:\n\n1. Select your app target in Xcode’s project editor.\n2. Click the General tab.\n3. Deselect the “Requires full screen” checkbox.\n\n### Respond to system pressure\n\nMake your app resilient to increasing system pressure by monitoring the [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureDevice\/systemPressureState-swift.property] property on [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureDevice], and take action to reduce the impact. When the pressure reaches excessive levels, the capture system shuts down and emits an [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/wasInterruptedNotification] notification.\n\nApps can reduce their footprint on the system by lowering the frame rate or requesting lower-resolution, binned, or non-HDR formats. The following code, from the sample app [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/avmulticampip-capturing-from-multiple-cameras], shows how to reduce the capture frame rate:\n\n```swift\nlet systemPressureStateObservation = observe(\\.self.device.systemPressureState, \n                                             options: .new) { [weak self] _, change in\n    guard let self = self else { return }\n    guard let systemPressureState = change.newValue else { return }\n\n    \/\/ The frame rates here are for demonstrative purposes only.\n    \/\/ Frame rate throttling can differ depending on your app's camera configuration.\n    let pressureLevel = systemPressureState.level\n    if pressureLevel == .serious || pressureLevel == .critical {\n        do {\n            try self.device.lockForConfiguration()\n\n            print(\"WARNING: Reached elevated system pressure level: \\(pressureLevel). Throttling frame rate.\")\n\n            self.device.activeVideoMinFrameDuration = CMTimeMake(value: 1, timescale: 20)\n            self.device.activeVideoMaxFrameDuration = CMTimeMake(value: 1, timescale: 15)\n\n            self.device.unlockForConfiguration()\n        } catch {\n            print(\"Could not lock device for configuration: \\(error)\")\n        }\n    } else if pressureLevel == .shutdown {\n        print(\"Session stopped running due to system pressure level.\")\n    }\n}\n```\n\n### Handle camera use interruptions\n\nThe system only allows one app to use the device’s camera at a time. Prepare your app to respond when another app starts using the camera. For example, if your app is running in Stage Manager and another app utilizes the camera, the system suspends your app’s use of the camera until the other app finishes. When the system interrupts your app’s use of the camera, it notifies your app so you can update your user interface.\n\nTo enable the system to notify you when your app’s camera access changes, observe the notifications [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/wasInterruptedNotification] and [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSession\/interruptionEndedNotification], as the example below shows:\n\n```swift\nfunc addObservers() {\n    let nc = NotificationCenter.default\n\n    \/\/ Observe when the system interrupts the capture session.\n    nc.addObserver(self,\n                   selector: #selector(handleInterruptionStarted),\n                   name: .AVCaptureSessionWasInterrupted,\n                   object: captureSession)\n\n    \/\/ Observe when the capture session interruption ends.\n    nc.addObserver(self,\n                   selector: #selector(handleInterruptionEnded),\n                   name: .AVCaptureSessionInterruptionEnded,\n                   object: captureSession)\n}\n```\n\nThe notification object’s user information dictionary contains the reason for an interruption. Determining the reason lets you configure your user interface as your camera access changes. Use [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVCaptureSessionInterruptionReasonKey] to look up the value, as the example below shows:\n\n```swift\n@objc func handleInterruptionStarted(notification: Notification) {\n    guard let userInfo = notification.userInfo,\n          let reasonValue = userInfo[AVCaptureSessionInterruptionReasonKey] as? Int,\n          let reason = AVCaptureSession.InterruptionReason(rawValue: reasonValue) else {\n        print(“Failed to parse the interruption reason.”)\n        return\n    }\n\n    switch reason {\n    case .videoDeviceInUseByAnotherClient:\n        \/\/ Show your app's interruption user interface.\n    case .videoDeviceNotAvailableDueToSystemPressure:\n        \/\/ Handle an interruption from increasing system pressure.\n    default:\n        \/\/ Handle other interruption reasons.\n    }\n}\n```\n\n## Picture in Picture\n\n- **Adopting Picture in Picture Playback in tvOS**: Add advanced multitasking capabilities to your video apps by using Picture in Picture playback in tvOS.\n- **Adopting Picture in Picture in a Standard Player**: Add Picture in Picture (PiP) playback to your app using a player view controller.\n- **Adopting Picture in Picture in a Custom Player**: Add controls to your custom player user interface to invoke Picture in Picture (PiP) playback.\n- **Adopting Picture in Picture for video calls**: Add multitasking capability to your video-call apps by using Picture in Picture (PiP).\n- **AVPictureInPictureController**: A controller that responds to user-initiated Picture in Picture playback of video in a floating, resizable window.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add advanced multitasking capabilities to your video apps by using Picture in Picture playback in tvOS.",
          "name" : "Adopting Picture in Picture Playback in tvOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/adopting-picture-in-picture-playback-in-tvos"
        },
        {
          "description" : "Add Picture in Picture (PiP) playback to your app using a player view controller.",
          "name" : "Adopting Picture in Picture in a Standard Player",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/adopting-picture-in-picture-in-a-standard-player"
        },
        {
          "description" : "Add controls to your custom player user interface to invoke Picture in Picture (PiP) playback.",
          "name" : "Adopting Picture in Picture in a Custom Player",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/adopting-picture-in-picture-in-a-custom-player"
        },
        {
          "description" : "Add multitasking capability to your video-call apps by using Picture in Picture (PiP).",
          "name" : "Adopting Picture in Picture for video calls",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/adopting-picture-in-picture-for-video-calls"
        },
        {
          "description" : "A controller that responds to user-initiated Picture in Picture playback of video in a floating, resizable window.",
          "name" : "AVPictureInPictureController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/AVPictureInPictureController"
        }
      ],
      "title" : "Picture in Picture"
    }
  ],
  "source" : "appleJSON",
  "title" : "Accessing the camera while multitasking on iPad",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/accessing-the-camera-while-multitasking-on-ipad"
}