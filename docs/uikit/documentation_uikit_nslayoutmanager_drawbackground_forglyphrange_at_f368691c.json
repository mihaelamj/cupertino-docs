{
  "abstract" : "Draws background marks for the specified glyphs, which must lie completely within a single text container.",
  "codeExamples" : [

  ],
  "contentHash" : "0c145e14707f72a4807e3e24b409b621f59d87d2253b2bdb0fe946aa21e65dc6",
  "crawledAt" : "2025-12-04T02:09:07Z",
  "declaration" : {
    "code" : "func drawBackground(forGlyphRange glyphsToShow: NSRange, at origin: CGPoint)",
    "language" : "swift"
  },
  "id" : "8ABC8FC7-2D4B-4682-937A-7DE213CA1E0A",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nThis method is called by `NSTextView` for drawing. You can override it to perform additional drawing, or to replace text drawing entirely, but not to change layout. You can call this method directly, but focus must already be locked on the destination view or image.\n\nBackground marks are such things as selection highlighting, text background color, and any background for marked text, along with block decoration such as table backgrounds and borders.\n\nPerforms glyph generation and layout if needed.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/drawBackground(forGlyphRange:at:)\ncrawled: 2025-12-04T02:09:07Z\n---\n\n# drawBackground(forGlyphRange:at:)\n\n**Instance Method**\n\nDraws background marks for the specified glyphs, which must lie completely within a single text container.\n\n## Declaration\n\n```swift\nfunc drawBackground(forGlyphRange glyphsToShow: NSRange, at origin: CGPoint)\n```\n\n## Parameters\n\n- **glyphsToShow**: The range of glyphs for which the background is drawn.\n- **origin**: The position of the text container in the coordinate system of the currently focused view.\n\n## Discussion\n\nThis method is called by `NSTextView` for drawing. You can override it to perform additional drawing, or to replace text drawing entirely, but not to change layout. You can call this method directly, but focus must already be locked on the destination view or image.\n\nBackground marks are such things as selection highlighting, text background color, and any background for marked text, along with block decoration such as table backgrounds and borders.\n\nPerforms glyph generation and layout if needed.\n\n## Related Documentation\n\n- **textContainerOrigin**: The origin of the receiver’s text container.\n- **glyphRange(for:)**: Returns the range of glyphs lying within the specified text container.\n\n## Drawing\n\n- **drawGlyphs(forGlyphRange:at:)**: Draws the specified glyphs, which must lie completely within a single text container.\n- **drawStrikethrough(forGlyphRange:strikethroughType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)**: Draws a strikethrough for the specified glyphs.\n- **drawUnderline(forGlyphRange:underlineType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)**: Draws underlining for the glyphs in a specified range.\n- **fillBackgroundRectArray(_:count:forCharacterRange:color:)**: Fills background rectangles with a color.\n- **showCGGlyphs(_:positions:count:font:textMatrix:attributes:in:)**: Renders the glyphs at the specified positions, using the specified attributes.\n- **strikethroughGlyphRange(_:strikethroughType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)**: Calculates and draws strikethrough for the specified glyphs.\n- **underlineGlyphRange(_:underlineType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)**: Calculates subranges to underline for the specified glyphs and draws the underlining as appropriate.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The origin of the receiver’s text container.",
          "name" : "textContainerOrigin",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/textContainerOrigin"
        },
        {
          "description" : "Returns the range of glyphs lying within the specified text container.",
          "name" : "glyphRange(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/glyphRange(for:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Draws the specified glyphs, which must lie completely within a single text container.",
          "name" : "drawGlyphs(forGlyphRange:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/drawGlyphs(forGlyphRange:at:)"
        },
        {
          "description" : "Draws a strikethrough for the specified glyphs.",
          "name" : "drawStrikethrough(forGlyphRange:strikethroughType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/drawStrikethrough(forGlyphRange:strikethroughType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)"
        },
        {
          "description" : "Draws underlining for the glyphs in a specified range.",
          "name" : "drawUnderline(forGlyphRange:underlineType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/drawUnderline(forGlyphRange:underlineType:baselineOffset:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)"
        },
        {
          "description" : "Fills background rectangles with a color.",
          "name" : "fillBackgroundRectArray(_:count:forCharacterRange:color:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/fillBackgroundRectArray(_:count:forCharacterRange:color:)"
        },
        {
          "description" : "Renders the glyphs at the specified positions, using the specified attributes.",
          "name" : "showCGGlyphs(_:positions:count:font:textMatrix:attributes:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/showCGGlyphs(_:positions:count:font:textMatrix:attributes:in:)"
        },
        {
          "description" : "Calculates and draws strikethrough for the specified glyphs.",
          "name" : "strikethroughGlyphRange(_:strikethroughType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/strikethroughGlyphRange(_:strikethroughType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)"
        },
        {
          "description" : "Calculates subranges to underline for the specified glyphs and draws the underlining as appropriate.",
          "name" : "underlineGlyphRange(_:underlineType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/underlineGlyphRange(_:underlineType:lineFragmentRect:lineFragmentGlyphRange:containerOrigin:)"
        }
      ],
      "title" : "Drawing"
    }
  ],
  "source" : "appleJSON",
  "title" : "drawBackground(forGlyphRange:at:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSLayoutManager\/drawBackground(forGlyphRange:at:)"
}