{
  "abstract" : "Retrieves the content offset to use after an animated layout update or change.",
  "codeExamples" : [

  ],
  "contentHash" : "e75815b298c6ce232989a16ca075fc162594ff51743df19be3bb8d6381361c51",
  "crawledAt" : "2025-12-01T01:07:34Z",
  "declaration" : {
    "code" : "@MainActor func targetContentOffset(forProposedContentOffset proposedContentOffset: CGPoint) -> CGPoint",
    "language" : "swift"
  },
  "id" : "A6495992-3F34-4443-AD11-6EA6173F0CFB",
  "kind" : "method",
  "module" : "UIKit",
  "overview" : "## Return Value\n\nThe content offset that you want to use instead. The default implementation of this method returns the value in the `proposedContentOffset` parameter.\n\n## Discussion\n\nDuring layout updates, or when transitioning between layouts, the collection view calls this method to give you the opportunity to change the proposed content offset to use at the end of the animation. You might override this method if the animations or transition might cause items to be positioned in a way that is not optimal for your design.\n\nThe collection view calls this method after calling the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewLayout\/prepare()] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewLayout\/collectionViewContentSize] methods.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/targetContentOffset(forProposedContentOffset:)\ncrawled: 2025-12-01T01:07:34Z\n---\n\n# targetContentOffset(forProposedContentOffset:)\n\n**Instance Method**\n\nRetrieves the content offset to use after an animated layout update or change.\n\n## Declaration\n\n```swift\n@MainActor func targetContentOffset(forProposedContentOffset proposedContentOffset: CGPoint) -> CGPoint\n```\n\n## Parameters\n\n- **proposedContentOffset**: The proposed point (in the coordinate space of the collection viewâ€™s content view) for the upper-left corner of the visible content. This represents the point that the collection view has calculated as the most likely value to use at the end of the animation.\n\n## Return Value\n\nThe content offset that you want to use instead. The default implementation of this method returns the value in the `proposedContentOffset` parameter.\n\n## Discussion\n\nDuring layout updates, or when transitioning between layouts, the collection view calls this method to give you the opportunity to change the proposed content offset to use at the end of the animation. You might override this method if the animations or transition might cause items to be positioned in a way that is not optimal for your design.\n\nThe collection view calls this method after calling the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewLayout\/prepare()] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewLayout\/collectionViewContentSize] methods.\n\n## Providing layout attributes\n\n- **layoutAttributesClass**: The class to use when creating layout attributes objects.\n- **prepare()**: Tells the layout object to update the current layout.\n- **layoutAttributesForElements(in:)**: Retrieves the layout attributes for all of the cells and views in the specified rectangle.\n- **layoutAttributesForItem(at:)**: Retrieves layout information for an item at the specified index path with a corresponding cell.\n- **layoutAttributesForInteractivelyMovingItem(at:withTargetPosition:)**: Retrieves the layout attributes of an item when it is being moved interactively by the user.\n- **layoutAttributesForSupplementaryView(ofKind:at:)**: Retrieves the layout attributes for the specified supplementary view.\n- **layoutAttributesForDecorationView(ofKind:at:)**: Retrieves the layout attributes for the specified decoration view.\n- **targetContentOffset(forProposedContentOffset:withScrollingVelocity:)**: Retrieves the point at which to stop scrolling.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The class to use when creating layout attributes objects.",
          "name" : "layoutAttributesClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesClass"
        },
        {
          "description" : "Tells the layout object to update the current layout.",
          "name" : "prepare()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/prepare()"
        },
        {
          "description" : "Retrieves the layout attributes for all of the cells and views in the specified rectangle.",
          "name" : "layoutAttributesForElements(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesForElements(in:)"
        },
        {
          "description" : "Retrieves layout information for an item at the specified index path with a corresponding cell.",
          "name" : "layoutAttributesForItem(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesForItem(at:)"
        },
        {
          "description" : "Retrieves the layout attributes of an item when it is being moved interactively by the user.",
          "name" : "layoutAttributesForInteractivelyMovingItem(at:withTargetPosition:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesForInteractivelyMovingItem(at:withTargetPosition:)"
        },
        {
          "description" : "Retrieves the layout attributes for the specified supplementary view.",
          "name" : "layoutAttributesForSupplementaryView(ofKind:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesForSupplementaryView(ofKind:at:)"
        },
        {
          "description" : "Retrieves the layout attributes for the specified decoration view.",
          "name" : "layoutAttributesForDecorationView(ofKind:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/layoutAttributesForDecorationView(ofKind:at:)"
        },
        {
          "description" : "Retrieves the point at which to stop scrolling.",
          "name" : "targetContentOffset(forProposedContentOffset:withScrollingVelocity:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/targetContentOffset(forProposedContentOffset:withScrollingVelocity:)"
        }
      ],
      "title" : "Providing layout attributes"
    }
  ],
  "source" : "appleJSON",
  "title" : "targetContentOffset(forProposedContentOffset:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewLayout\/targetContentOffset(forProposedContentOffset:)"
}