{
  "abstract" : "Encodes state-related information for the view controller.",
  "codeExamples" : [

  ],
  "contentHash" : "be01cc9d77e90a6a548f4863e0c240af877ba8c41b0d36ef908bde142819b1e1",
  "crawledAt" : "2025-12-01T14:51:49Z",
  "declaration" : {
    "code" : "@MainActor func encodeRestorableState(with coder: NSCoder)",
    "language" : "swift"
  },
  "id" : "B173FF89-B027-462A-A7A9-C3FB14C39A73",
  "kind" : "method",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nDo not call this method directly. The system calls this method during the state preservation process to give your view controller or view-controller subclass a chance to save state-related information.\n\nWhen deciding what data to save, write the smallest amount of data needed to restore the view controller to its current configuration. The information you save should be data that you could not easily recreate, such as the user’s current selection. You might also save references to any data objects that the view controller was using, but never write the data objects themselves to the coder. Instead, store enough information so that you can retrieve the data objects from your app’s main data structures again.\n\nIt is strongly recommended that you call `super` at some point during your implementation to give parent classes an opportunity to save information. A [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController] object saves a reference to the presented view controller and to the storyboard (if any) that was used to create the view controller. The view controller also asks the views in its view hierarchy to save any relevant information. However, a view controller does not automatically save references to contained child view controllers. If you are implementing a custom container view controller, you must encode the child view controller objects yourself if you want them to be preserved.\n\nYour implementation of this method can encode other restorable objects views, view controllers, and objects that adopt the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIStateRestoring] protocol, using the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-9f4n9] method of the provided coder object. Encoding a restorable object writes that object’s restoration identifier to the coder. That identifier is then used during the decode process to locate the new version of the object. If the view or view controller defines its own version of this method, that method is also called at some point so that the object can encode its own state.\n\nFor objects that are not restorable, encoding the object writes its data (and not a restoration identifier) to the archive. Such objects must adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCoding] protocol. During decoding, the system creates a new object that is initialized with the data from the archive.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/encodeRestorableState(with:)\ncrawled: 2025-12-01T14:51:49Z\n---\n\n# encodeRestorableState(with:)\n\n**Instance Method**\n\nEncodes state-related information for the view controller.\n\n## Declaration\n\n```swift\n@MainActor func encodeRestorableState(with coder: NSCoder)\n```\n\n## Parameters\n\n- **coder**: The coder object to use to encode the state of the view controller.\n\n## Discussion\n\nDo not call this method directly. The system calls this method during the state preservation process to give your view controller or view-controller subclass a chance to save state-related information.\n\nWhen deciding what data to save, write the smallest amount of data needed to restore the view controller to its current configuration. The information you save should be data that you could not easily recreate, such as the user’s current selection. You might also save references to any data objects that the view controller was using, but never write the data objects themselves to the coder. Instead, store enough information so that you can retrieve the data objects from your app’s main data structures again.\n\n\n\nIt is strongly recommended that you call `super` at some point during your implementation to give parent classes an opportunity to save information. A [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController] object saves a reference to the presented view controller and to the storyboard (if any) that was used to create the view controller. The view controller also asks the views in its view hierarchy to save any relevant information. However, a view controller does not automatically save references to contained child view controllers. If you are implementing a custom container view controller, you must encode the child view controller objects yourself if you want them to be preserved.\n\nYour implementation of this method can encode other restorable objects views, view controllers, and objects that adopt the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIStateRestoring] protocol, using the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-9f4n9] method of the provided coder object. Encoding a restorable object writes that object’s restoration identifier to the coder. That identifier is then used during the decode process to locate the new version of the object. If the view or view controller defines its own version of this method, that method is also called at some point so that the object can encode its own state.\n\nFor objects that are not restorable, encoding the object writes its data (and not a restoration identifier) to the archive. Such objects must adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCoding] protocol. During decoding, the system creates a new object that is initialized with the data from the archive.\n\n## Managing state restoration\n\n- **Restoring your app’s state**: Provide continuity for the user by preserving current activities.\n- **restorationIdentifier**: The identifier that determines whether the view controller supports state restoration.\n- **restorationClass**: The class responsible for recreating this view controller when restoring the app’s state.\n- **decodeRestorableState(with:)**: Decodes and restores state-related information for the view controller.\n- **applicationFinishedRestoringState()**: Called on restored view controllers after other object decoding is complete.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provide continuity for the user by preserving current activities.",
          "name" : "Restoring your app’s state",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/restoring-your-app-s-state"
        },
        {
          "description" : "The identifier that determines whether the view controller supports state restoration.",
          "name" : "restorationIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/restorationIdentifier"
        },
        {
          "description" : "The class responsible for recreating this view controller when restoring the app’s state.",
          "name" : "restorationClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/restorationClass"
        },
        {
          "description" : "Decodes and restores state-related information for the view controller.",
          "name" : "decodeRestorableState(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/decodeRestorableState(with:)"
        },
        {
          "description" : "Called on restored view controllers after other object decoding is complete.",
          "name" : "applicationFinishedRestoringState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/applicationFinishedRestoringState()"
        }
      ],
      "title" : "Managing state restoration"
    }
  ],
  "source" : "appleJSON",
  "title" : "encodeRestorableState(with:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/encodeRestorableState(with:)"
}