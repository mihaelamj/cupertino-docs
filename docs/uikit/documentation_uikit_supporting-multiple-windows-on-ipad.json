{
  "abstract" : "Support side-by-side instances of your app’s interface and create new windows.",
  "codeExamples" : [
    {
      "code" : "func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n    if let userActivity = connectionOptions.userActivities.first ?? session.stateRestorationActivity {\n        if !configure(window: window, with: userActivity) {\n            Swift.debugPrint(\"Failed to restore from \\(userActivity)\")\n        }\n    }\n    \/\/ The 'window' property will automatically be loaded with the storyboard's initial view controller.\n    \n    \/\/ Set the activation predicates, which operate on the 'targetContentIdentifier'.\n    let conditions = scene.activationConditions\n    let prefsPredicate = NSPredicate(format: \"self == %@\", mainSceneTargetContentIdentifier)\n    \/\/ The main predicate, which expresses to the system what kind of content the scene can display.\n    conditions.canActivateForTargetContentIdentifierPredicate = prefsPredicate\n    \/\/ The secondary predicate, which expresses to the system that this scene is especially interested in a particular kind of content.\n    conditions.prefersToActivateForTargetContentIdentifierPredicate = prefsPredicate\n}",
      "language" : "swift"
    },
    {
      "code" : "func configure(window: UIWindow?, with activity: NSUserActivity) -> Bool {\n    var configured = false\n\n    guard activity.activityType == UserActivity.GalleryOpenDetailActivityType else { return configured }\n    guard let navigationController = window?.rootViewController as? UINavigationController else { return configured }\n        \n    if let photoID = activity.userInfo?[UserActivity.GalleryOpenDetailPhotoAssetKey] as? String,\n        let photoTitle = activity.userInfo?[UserActivity.GalleryOpenDetailPhotoTitleKey] as? String {\n        \/\/ Restore the view controller with the 'photoID' and 'photoTitle'.\n        if let photoDetailViewController = PhotoDetailViewController.loadFromStoryboard() {\n            photoDetailViewController.photo = Photo(assetName: photoID, title: photoTitle)\n\n            navigationController.pushViewController(photoDetailViewController, animated: false)\n            configured = true\n        }\n    }\n    return configured\n}",
      "language" : "swift"
    },
    {
      "code" : "func collectionView(_ collectionView: UICollectionView, itemsForBeginning session: UIDragSession, at indexPath: IndexPath) -> [UIDragItem] {\n    var dragItems = [UIDragItem]()\n    let selectedPhoto = photos[indexPath.row]\n    if let imageToDrag = UIImage(named: selectedPhoto.assetName) {\n        let userActivity = selectedPhoto.detailUserActivity\n        let itemProvider = NSItemProvider(object: imageToDrag)\n        itemProvider.registerObject(userActivity, visibility: .all)\n\n        let dragItem = UIDragItem(itemProvider: itemProvider)\n        dragItem.localObject = selectedPhoto\n        dragItems.append(dragItem)\n    }\n    return dragItems\n}",
      "language" : "swift"
    },
    {
      "code" : "    <key>NSUserActivityTypes<\/key>\n    <array>\n        <string>com.apple.gallery.openDetail<\/string>\n    <\/array>",
      "language" : "swift"
    },
    {
      "code" : "class func openInspectorSceneSessionForPhoto(_ photo: Photo, requestingScene: UIWindowScene, errorHandler: ((Error) -> Void)? = nil) {\n    let options = UIWindowScene.ActivationRequestOptions()\n    options.preferredPresentationStyle = .prominent\n    options.requestingScene = requestingScene \/\/ The scene object that requested the activation of a different scene.\n    \n    \/\/ Present this scene as a secondary window separate from the main window.\n    \/\/\n    \/\/ Look for an already open window scene session that matches the photo.\n    if let foundSceneSession = InspectorSceneDelegate.activeInspectorSceneSessionForPhoto(photo.assetName) {\n        \/\/ Inspector scene session already open, so activate it.\n        UIApplication.shared.requestSceneSessionActivation(foundSceneSession, \/\/ Activate the found scene session.\n                                                           userActivity: nil, \/\/ No need to pass activity for an already open session.\n                                                           options: options,\n                                                           errorHandler: errorHandler)\n    } else {\n        \/\/ No Inspector scene session found, so create a new one.\n        let userActivity = photo.inspectorUserActivity\n\n        UIApplication.shared.requestSceneSessionActivation(nil, \/\/ Pass nil means make a new one.\n                                                           userActivity: userActivity,\n                                                           options: options,\n                                                           errorHandler: errorHandler)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "func application(_ application: UIApplication,\n                 configurationForConnecting connectingSceneSession: UISceneSession,\n                 options: UIScene.ConnectionOptions) -> UISceneConfiguration {\n    \/\/ It's important that each UISceneConfiguration have a unique configuration name.\n    var configurationName: String!\n\n    switch options.userActivities.first?.activityType {\n    case UserActivity.GalleryOpenInspectorActivityType:\n        configurationName = \"Inspector Configuration\" \/\/ Create a photo inspector window scene.\n    default:\n        configurationName = \"Default Configuration\" \/\/ Create a default gallery window scene.\n    }\n    \n    return UISceneConfiguration(name: configurationName, sessionRole: connectingSceneSession.role)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "fe2d0e0966ade945aa451efbe781eb6288914ec44c843a8825ff018374c34c02",
  "crawledAt" : "2025-12-02T15:52:30Z",
  "id" : "3E863896-B335-4EE6-B71C-D915D3CB7583",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThis sample shows how to create multiple windows that give users the ability to create separate parts of your application with similar or varying content. Windows are managed by a scene or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneSession] class. Your application uses [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneConfiguration] to manage the life cycle of a window. Scenes have their own dedicated lifecycle that are managed separate from [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication].\n\nWhen you adopt a multi-window architecture, the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate] class that manages your application manages newly created scenes. Then, `UISceneDelegate` replaces the code in the delegate functions of `UIApplicationDelegate`.\n\nUIKit provides a subclass of `UISceneDelegate` called [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIWindowSceneDelegate] designed specifically to help manage your windows. When adopting the multi-window architecture in an existing application running on iOS 12 or earlier, you move more responsibility from `UIApplicationDelegate` to `UIWindowSceneDelegate`.\n\nFor more information on multiple windows in an iPadOS app, refer to [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ios\/system-capabilities\/multiple-windows\/].\n\n### Configure the sample code project\n\nIn Xcode, select your development team on the iOS target’s Signing & Capabilities tab.\n\n### Add multiple scene support\n\nTo support multiple windows, the app’s `Info.plist` requires a manifest or [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest], which contains information about the app’s scene-based life-cycle support. The presence of this key indicates that the app supports scenes and doesn’t use an app delegate object to manage transitions to and from the foreground or background. Include the key [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest\/UIApplicationSupportsMultipleScenes], with its Boolean value set to `true`, which indicates that the app support two or more scenes simultaneously.\n\n### Add a scene delegate\n\nThis sample provides a `UIWindowScene` subclass called `SceneDelegate` to manage the app’s primary window scene. The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate\/scene(_:willConnectTo:options:)] delegate function sets up the window and content.\n\nBy using the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest\/UISceneConfigurations] key in the `Info.plist` scene manifest, the sample’s window for this scene is automatically configured and its root view controller is loaded from the storyboard.\n\n### Restore a scene\n\nWhen it’s time to restore a scene, iOS calls your delegate `scene(_:willConnectTo:options:)`. The sample app restores the scene to its previous state through the use of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity].\n\n### Create multiple windows from drag and drop\n\nThis sample creates a separate window when the user drags an image from the collection view to the left or right side of the iPad screen. The sample creates a new window by implementing the `UICollectionViewDragDelegate` function [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDragDelegate\/collectionView(_:itemsForBeginning:at:)] and providing a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIDragItem] with an associated [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSItemProvider]. Then, the sample passes the photo data to the new window scene with a registered `NSUserActivity`.\n\nThe `NSUserActivity` [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType] must be included in the app’s `Info.plist` under the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSUserActivityTypes] array. Without it, a separate window isn’t created as the photo is dragged to the edge of the device.\n\n### Create multiple windows programmatically\n\nThis sample also creates a separate window scene programmatically, by responding to a user action:\n\nBoth approaches use the following code to create a new window scene.\n\nThrough the use of a unique `NSUserActivity` [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType], the app can distinguish which new scene to create in [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/application(_:configurationForConnecting:options:)]:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/supporting-multiple-windows-on-ipad\ncrawled: 2025-12-02T15:52:30Z\n---\n\n# Supporting multiple windows on iPad\n\n**Sample Code**\n\nSupport side-by-side instances of your app’s interface and create new windows.\n\n## Overview\n\nThis sample shows how to create multiple windows that give users the ability to create separate parts of your application with similar or varying content. Windows are managed by a scene or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneSession] class. Your application uses [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneConfiguration] to manage the life cycle of a window. Scenes have their own dedicated lifecycle that are managed separate from [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication].\n\nWhen you adopt a multi-window architecture, the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate] class that manages your application manages newly created scenes. Then, `UISceneDelegate` replaces the code in the delegate functions of `UIApplicationDelegate`.\n\nUIKit provides a subclass of `UISceneDelegate` called [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIWindowSceneDelegate] designed specifically to help manage your windows. When adopting the multi-window architecture in an existing application running on iOS 12 or earlier, you move more responsibility from `UIApplicationDelegate` to `UIWindowSceneDelegate`.\n\nFor more information on multiple windows in an iPadOS app, refer to [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ios\/system-capabilities\/multiple-windows\/].\n\n\n\n### Configure the sample code project\n\nIn Xcode, select your development team on the iOS target’s Signing & Capabilities tab.\n\n### Add multiple scene support\n\nTo support multiple windows, the app’s `Info.plist` requires a manifest or [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest], which contains information about the app’s scene-based life-cycle support. The presence of this key indicates that the app supports scenes and doesn’t use an app delegate object to manage transitions to and from the foreground or background. Include the key [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest\/UIApplicationSupportsMultipleScenes], with its Boolean value set to `true`, which indicates that the app support two or more scenes simultaneously.\n\n### Add a scene delegate\n\nThis sample provides a `UIWindowScene` subclass called `SceneDelegate` to manage the app’s primary window scene. The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate\/scene(_:willConnectTo:options:)] delegate function sets up the window and content.\n\n```swift\nfunc scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n    if let userActivity = connectionOptions.userActivities.first ?? session.stateRestorationActivity {\n        if !configure(window: window, with: userActivity) {\n            Swift.debugPrint(\"Failed to restore from \\(userActivity)\")\n        }\n    }\n    \/\/ The 'window' property will automatically be loaded with the storyboard's initial view controller.\n    \n    \/\/ Set the activation predicates, which operate on the 'targetContentIdentifier'.\n    let conditions = scene.activationConditions\n    let prefsPredicate = NSPredicate(format: \"self == %@\", mainSceneTargetContentIdentifier)\n    \/\/ The main predicate, which expresses to the system what kind of content the scene can display.\n    conditions.canActivateForTargetContentIdentifierPredicate = prefsPredicate\n    \/\/ The secondary predicate, which expresses to the system that this scene is especially interested in a particular kind of content.\n    conditions.prefersToActivateForTargetContentIdentifierPredicate = prefsPredicate\n}\n```\n\nBy using the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/UIApplicationSceneManifest\/UISceneConfigurations] key in the `Info.plist` scene manifest, the sample’s window for this scene is automatically configured and its root view controller is loaded from the storyboard.\n\n### Restore a scene\n\nWhen it’s time to restore a scene, iOS calls your delegate `scene(_:willConnectTo:options:)`. The sample app restores the scene to its previous state through the use of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity].\n\n```swift\nfunc configure(window: UIWindow?, with activity: NSUserActivity) -> Bool {\n    var configured = false\n\n    guard activity.activityType == UserActivity.GalleryOpenDetailActivityType else { return configured }\n    guard let navigationController = window?.rootViewController as? UINavigationController else { return configured }\n        \n    if let photoID = activity.userInfo?[UserActivity.GalleryOpenDetailPhotoAssetKey] as? String,\n        let photoTitle = activity.userInfo?[UserActivity.GalleryOpenDetailPhotoTitleKey] as? String {\n        \/\/ Restore the view controller with the 'photoID' and 'photoTitle'.\n        if let photoDetailViewController = PhotoDetailViewController.loadFromStoryboard() {\n            photoDetailViewController.photo = Photo(assetName: photoID, title: photoTitle)\n\n            navigationController.pushViewController(photoDetailViewController, animated: false)\n            configured = true\n        }\n    }\n    return configured\n}\n```\n\n### Create multiple windows from drag and drop\n\nThis sample creates a separate window when the user drags an image from the collection view to the left or right side of the iPad screen. The sample creates a new window by implementing the `UICollectionViewDragDelegate` function [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDragDelegate\/collectionView(_:itemsForBeginning:at:)] and providing a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIDragItem] with an associated [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSItemProvider]. Then, the sample passes the photo data to the new window scene with a registered `NSUserActivity`.\n\n```swift\nfunc collectionView(_ collectionView: UICollectionView, itemsForBeginning session: UIDragSession, at indexPath: IndexPath) -> [UIDragItem] {\n    var dragItems = [UIDragItem]()\n    let selectedPhoto = photos[indexPath.row]\n    if let imageToDrag = UIImage(named: selectedPhoto.assetName) {\n        let userActivity = selectedPhoto.detailUserActivity\n        let itemProvider = NSItemProvider(object: imageToDrag)\n        itemProvider.registerObject(userActivity, visibility: .all)\n\n        let dragItem = UIDragItem(itemProvider: itemProvider)\n        dragItem.localObject = selectedPhoto\n        dragItems.append(dragItem)\n    }\n    return dragItems\n}\n```\n\nThe `NSUserActivity` [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType] must be included in the app’s `Info.plist` under the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSUserActivityTypes] array. Without it, a separate window isn’t created as the photo is dragged to the edge of the device.\n\n```swift\n    <key>NSUserActivityTypes<\/key>\n    <array>\n        <string>com.apple.gallery.openDetail<\/string>\n    <\/array>\n```\n\n### Create multiple windows programmatically\n\nThis sample also creates a separate window scene programmatically, by responding to a user action:\n\n- **iPadOS**: Tap and hold a photo and select the menu item Inspect. This creates a form sheet window with that photo. The form sheet can then be dragged to the left or right side of the iPad screen to split the app’s interface in two.\n- **macOS**: Select a photo. Click the Info toolbar button or command-click the photo and select Inspect. Both create a new window containing that photo.\n\nBoth approaches use the following code to create a new window scene.\n\n```swift\nclass func openInspectorSceneSessionForPhoto(_ photo: Photo, requestingScene: UIWindowScene, errorHandler: ((Error) -> Void)? = nil) {\n    let options = UIWindowScene.ActivationRequestOptions()\n    options.preferredPresentationStyle = .prominent\n    options.requestingScene = requestingScene \/\/ The scene object that requested the activation of a different scene.\n    \n    \/\/ Present this scene as a secondary window separate from the main window.\n    \/\/\n    \/\/ Look for an already open window scene session that matches the photo.\n    if let foundSceneSession = InspectorSceneDelegate.activeInspectorSceneSessionForPhoto(photo.assetName) {\n        \/\/ Inspector scene session already open, so activate it.\n        UIApplication.shared.requestSceneSessionActivation(foundSceneSession, \/\/ Activate the found scene session.\n                                                           userActivity: nil, \/\/ No need to pass activity for an already open session.\n                                                           options: options,\n                                                           errorHandler: errorHandler)\n    } else {\n        \/\/ No Inspector scene session found, so create a new one.\n        let userActivity = photo.inspectorUserActivity\n\n        UIApplication.shared.requestSceneSessionActivation(nil, \/\/ Pass nil means make a new one.\n                                                           userActivity: userActivity,\n                                                           options: options,\n                                                           errorHandler: errorHandler)\n    }\n}\n```\n\nThrough the use of a unique `NSUserActivity` [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType], the app can distinguish which new scene to create in [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/application(_:configurationForConnecting:options:)]:\n\n```swift\nfunc application(_ application: UIApplication,\n                 configurationForConnecting connectingSceneSession: UISceneSession,\n                 options: UIScene.ConnectionOptions) -> UISceneConfiguration {\n    \/\/ It's important that each UISceneConfiguration have a unique configuration name.\n    var configurationName: String!\n\n    switch options.userActivities.first?.activityType {\n    case UserActivity.GalleryOpenInspectorActivityType:\n        configurationName = \"Inspector Configuration\" \/\/ Create a photo inspector window scene.\n    default:\n        configurationName = \"Default Configuration\" \/\/ Create a default gallery window scene.\n    }\n    \n    return UISceneConfiguration(name: configurationName, sessionRole: connectingSceneSession.role)\n}\n```\n\n## Scene Management\n\n- **Scenes**: Manage multiple instances of your app’s UI simultaneously, and direct resources to the appropriate instance of your UI.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Manage multiple instances of your app’s UI simultaneously, and direct resources to the appropriate instance of your UI.",
          "name" : "Scenes",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/scenes"
        }
      ],
      "title" : "Scene Management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Supporting multiple windows on iPad",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/supporting-multiple-windows-on-ipad"
}