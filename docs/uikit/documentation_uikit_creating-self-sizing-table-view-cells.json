{
  "abstract" : "Create table view cells that support Dynamic Type and use system spacing constraints to adjust the spacing surrounding text labels.",
  "codeExamples" : [
    {
      "code" : "headlineLabel.font = UIFont.preferredFont(forTextStyle: .headline)\nheadlineLabel.adjustsFontForContentSizeCategory = true",
      "language" : "swift"
    },
    {
      "code" : "guard let palatino = UIFont(name: \"Palatino\", size: 18) else {\n    fatalError(\"\"\"\n        Failed to load the \"Palatino\" font.\n        Since this font is included with all versions of iOS that support Dynamic Type, verify that the spelling and casing is correct.\n        \"\"\"\n    )\n}\nbodyLabel.font = UIFontMetrics(forTextStyle: .body).scaledFont(for: palatino)\nbodyLabel.adjustsFontForContentSizeCategory = true",
      "language" : "swift"
    },
    {
      "code" : "headlineLabel.leadingAnchor.constraint(equalTo: contentView.layoutMarginsGuide.leadingAnchor).isActive = true\nheadlineLabel.trailingAnchor.constraint(equalTo: contentView.layoutMarginsGuide.trailingAnchor).isActive = true\n\nbodyLabel.leadingAnchor.constraint(equalTo: headlineLabel.leadingAnchor).isActive = true\nbodyLabel.trailingAnchor.constraint(equalTo: headlineLabel.trailingAnchor).isActive = true",
      "language" : "swift"
    },
    {
      "code" : "headlineLabel.firstBaselineAnchor.constraint(equalToSystemSpacingBelow: contentView.layoutMarginsGuide.topAnchor, multiplier: 1).isActive = true\n\ncontentView.layoutMarginsGuide.bottomAnchor.constraint(equalToSystemSpacingBelow: bodyLabel.lastBaselineAnchor, multiplier: 1).isActive = true\n\nbodyLabel.firstBaselineAnchor.constraint(equalToSystemSpacingBelow: headlineLabel.lastBaselineAnchor, multiplier: 1).isActive = true",
      "language" : "swift"
    }
  ],
  "contentHash" : "8c037724d43169922207d4d64721f55de52733d23a88cb1c64fb45a78c041bd3",
  "crawledAt" : "2025-12-02T15:52:10Z",
  "id" : "C7599F34-783C-4EFE-86C0-7558B4648CAD",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThis sample code project shows how to create self-sizing table view cells that support Dynamic Type. Because Dynamic Type lets the user control the size of the text displayed in the cell, it’s important that the cell resizes itself based on the text size.\n\nThe project also shows how to use Auto Layout constraints to automatically adjust the spacing surrounding text labels based on the text size. To demonstrate automatic spacing, the cell displays two [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILabel] objects: a headline label and a body label.\n\n### Add Dynamic Type support\n\nTo add support for Dynamic Type, the cell assigns a scaled font to each label. For the headline label, the preferred font with the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIFont\/TextStyle\/headline] text style is used. The preferred font is the system font, which can scale to different sizes. Its initial text size is determined by the font metric for the `headline` text style.\n\nFor the body label, a custom font is used. However, in order to support Dynamic Type with a custom font, a version of the font must be created that adopts the font metric for a particular text style. In the case of the body label, the Palatino custom font is used with the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIFont\/TextStyle\/body] text style.\n\nBefore the effects of Dynamic Type can be seen, the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContentSizeCategoryAdjusting\/adjustsFontForContentSizeCategory] property must be set to `true` on each label. This property tells the label to automatically adjust the text size for its font when the user changes their preferred text size. For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/scaling-fonts-automatically].\n\n### Use auto layout constraints to adjust cell size and spacing\n\nAt this point, the two labels are able to adjust the size of their text automatically. However, the cell isn’t able to adjust its size. Auto Layout constraints are needed to adjust the size and spacing of the cell’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewCell\/contentView] and the labels it contains.\n\n### Set the horizontal position for each label\n\nThe width of both labels should extend to fill the width of the cell’s content view, and the headline label should appear above the body label. To accomplish this, Auto Layout constraints are added to each label starting with constraints that define the label width. For the headline label, constraints are added that tell the label to fill the space between the content view’s leading and trailing margins. For the body label, constraints are added that set its leading and trailing anchors equal to the headline label’s leading and trailing anchors.\n\nSetting the body label’s leading and trailing anchors equal to the leading and trailing anchors for the headline label ensures that the left and right edges of each label are always in the same position. This approach has an added benefit; adjusting either the left or right edge on the headline label automatically applies the changes to the body label. While this might seem trivial when there are only two labels, setting a label’s leading and trailing anchors equal to the same anchors of another label can save you time when there are many more labels that must align their edges.\n\n### Set the vertical position for each label\n\nWith the horizontal positioning in place, it’s time to set the vertical position for each label. Auto Layout constraints are once again used to position the vertical alignment, placing the headline text above the body text.\n\nOne way vertical positioning can be set is to add a constraint that defines the distance between the two labels based on some constant value. However, the problem with relying on a constant value is that you must adjust the value each time the text size changes; otherwise, the text may look scattered or cramped, making it difficult to read. With iOS 11 and later, you can avoid relying on and setting the constant value by using system spacing constraints.\n\nA system spacing constraint sets the distance between two UI elements to a value based on information provided by the anchors used when creating the constraint. For example, a system spacing constraint can position a label’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/firstBaselineAnchor] (the baseline for the topmost text in the label) below another label’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/lastBaselineAnchor] (the baseline for the bottommost text in that label) at a distance defined by the system. The constraint ensures that adequate spacing is always applied between the two labels regardless of the text size, without adjusting the constraint’s constant value.\n\nFor the sample code project, the cell uses system spacing constraints to:\n\nWith the system spacing constraints in place, the system automatically adjusts the spacing surrounding the two labels based on the text size.\n\n\n\n### Test with Accessibility Inspector\n\nIn order to test how the sample app reacts to different text sizes, run the app in Simulator and use Accessibility Inspector to change the text size. The inspector lets you test an app’s interface with different text sizes without switching between the app and the Settings app.\n\nTo use Accessibility Inspector, follow these steps:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/creating-self-sizing-table-view-cells\ncrawled: 2025-12-02T15:52:10Z\n---\n\n# Creating self-sizing table view cells\n\n**Sample Code**\n\nCreate table view cells that support Dynamic Type and use system spacing constraints to adjust the spacing surrounding text labels.\n\n## Overview\n\nThis sample code project shows how to create self-sizing table view cells that support Dynamic Type. Because Dynamic Type lets the user control the size of the text displayed in the cell, it’s important that the cell resizes itself based on the text size.\n\nThe project also shows how to use Auto Layout constraints to automatically adjust the spacing surrounding text labels based on the text size. To demonstrate automatic spacing, the cell displays two [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILabel] objects: a headline label and a body label.\n\n### Add Dynamic Type support\n\nTo add support for Dynamic Type, the cell assigns a scaled font to each label. For the headline label, the preferred font with the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIFont\/TextStyle\/headline] text style is used. The preferred font is the system font, which can scale to different sizes. Its initial text size is determined by the font metric for the `headline` text style.\n\n```swift\nheadlineLabel.font = UIFont.preferredFont(forTextStyle: .headline)\nheadlineLabel.adjustsFontForContentSizeCategory = true\n```\n\nFor the body label, a custom font is used. However, in order to support Dynamic Type with a custom font, a version of the font must be created that adopts the font metric for a particular text style. In the case of the body label, the Palatino custom font is used with the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIFont\/TextStyle\/body] text style.\n\n```swift\nguard let palatino = UIFont(name: \"Palatino\", size: 18) else {\n    fatalError(\"\"\"\n        Failed to load the \"Palatino\" font.\n        Since this font is included with all versions of iOS that support Dynamic Type, verify that the spelling and casing is correct.\n        \"\"\"\n    )\n}\nbodyLabel.font = UIFontMetrics(forTextStyle: .body).scaledFont(for: palatino)\nbodyLabel.adjustsFontForContentSizeCategory = true\n```\n\nBefore the effects of Dynamic Type can be seen, the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContentSizeCategoryAdjusting\/adjustsFontForContentSizeCategory] property must be set to `true` on each label. This property tells the label to automatically adjust the text size for its font when the user changes their preferred text size. For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/scaling-fonts-automatically].\n\n### Use auto layout constraints to adjust cell size and spacing\n\nAt this point, the two labels are able to adjust the size of their text automatically. However, the cell isn’t able to adjust its size. Auto Layout constraints are needed to adjust the size and spacing of the cell’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewCell\/contentView] and the labels it contains.\n\n### Set the horizontal position for each label\n\nThe width of both labels should extend to fill the width of the cell’s content view, and the headline label should appear above the body label. To accomplish this, Auto Layout constraints are added to each label starting with constraints that define the label width. For the headline label, constraints are added that tell the label to fill the space between the content view’s leading and trailing margins. For the body label, constraints are added that set its leading and trailing anchors equal to the headline label’s leading and trailing anchors.\n\n```swift\nheadlineLabel.leadingAnchor.constraint(equalTo: contentView.layoutMarginsGuide.leadingAnchor).isActive = true\nheadlineLabel.trailingAnchor.constraint(equalTo: contentView.layoutMarginsGuide.trailingAnchor).isActive = true\n\nbodyLabel.leadingAnchor.constraint(equalTo: headlineLabel.leadingAnchor).isActive = true\nbodyLabel.trailingAnchor.constraint(equalTo: headlineLabel.trailingAnchor).isActive = true\n```\n\nSetting the body label’s leading and trailing anchors equal to the leading and trailing anchors for the headline label ensures that the left and right edges of each label are always in the same position. This approach has an added benefit; adjusting either the left or right edge on the headline label automatically applies the changes to the body label. While this might seem trivial when there are only two labels, setting a label’s leading and trailing anchors equal to the same anchors of another label can save you time when there are many more labels that must align their edges.\n\n### Set the vertical position for each label\n\nWith the horizontal positioning in place, it’s time to set the vertical position for each label. Auto Layout constraints are once again used to position the vertical alignment, placing the headline text above the body text.\n\nOne way vertical positioning can be set is to add a constraint that defines the distance between the two labels based on some constant value. However, the problem with relying on a constant value is that you must adjust the value each time the text size changes; otherwise, the text may look scattered or cramped, making it difficult to read. With iOS 11 and later, you can avoid relying on and setting the constant value by using system spacing constraints.\n\nA system spacing constraint sets the distance between two UI elements to a value based on information provided by the anchors used when creating the constraint. For example, a system spacing constraint can position a label’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/firstBaselineAnchor] (the baseline for the topmost text in the label) below another label’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/lastBaselineAnchor] (the baseline for the bottommost text in that label) at a distance defined by the system. The constraint ensures that adequate spacing is always applied between the two labels regardless of the text size, without adjusting the constraint’s constant value.\n\nFor the sample code project, the cell uses system spacing constraints to:\n\n1. Set the spacing between the top of the cell’s content view and the headline label.\n2. Set the spacing between the body label and the bottom of the cell’s content view.\n3. Set the spacing between the headline and body labels.\n\n```swift\nheadlineLabel.firstBaselineAnchor.constraint(equalToSystemSpacingBelow: contentView.layoutMarginsGuide.topAnchor, multiplier: 1).isActive = true\n\ncontentView.layoutMarginsGuide.bottomAnchor.constraint(equalToSystemSpacingBelow: bodyLabel.lastBaselineAnchor, multiplier: 1).isActive = true\n\nbodyLabel.firstBaselineAnchor.constraint(equalToSystemSpacingBelow: headlineLabel.lastBaselineAnchor, multiplier: 1).isActive = true\n```\n\nWith the system spacing constraints in place, the system automatically adjusts the spacing surrounding the two labels based on the text size.\n\n\n\n### Test with Accessibility Inspector\n\nIn order to test how the sample app reacts to different text sizes, run the app in Simulator and use Accessibility Inspector to change the text size. The inspector lets you test an app’s interface with different text sizes without switching between the app and the Settings app.\n\nTo use Accessibility Inspector, follow these steps:\n\n1. Launch Xcode, then run your app.\n2. From the Xcode menu bar, select **Xcode > Open Developer Tool > Accessibility Inspector** to launch the inspector.\n3. In the upper left corner of the Accessibility Inspector, select **Simulator** as the target.\n4. Click the *Settings* icon (shaped like a gear).\n5. Move the *Font size* slider to change the size of text displayed in your app.\n\n## Creating Fonts\n\n- **Scaling Fonts Automatically**: Scale text in your interface automatically using Dynamic Type.\n- **preferredFont(forTextStyle:)**: Returns an instance of the system font for the specified text style with scaling for the user’s selected content size category.\n- **preferredFont(forTextStyle:compatibleWith:)**: Returns an instance of the system font for the appropriate text style and traits.\n- **UIFont.TextStyle**: Constants that describe the preferred styles for fonts.\n- **init(name:size:)**: Creates and returns a font object for the specified font name and size.\n- **init(descriptor:size:)**: Returns a font that matches the specified font descriptor.\n- **withSize(_:)**: Returns a font object that is the same as the font, but has the specified size.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Scale text in your interface automatically using Dynamic Type.",
          "name" : "Scaling Fonts Automatically",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/scaling-fonts-automatically"
        },
        {
          "description" : "Returns an instance of the system font for the specified text style with scaling for the user’s selected content size category.",
          "name" : "preferredFont(forTextStyle:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/preferredFont(forTextStyle:)"
        },
        {
          "description" : "Returns an instance of the system font for the appropriate text style and traits.",
          "name" : "preferredFont(forTextStyle:compatibleWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/preferredFont(forTextStyle:compatibleWith:)"
        },
        {
          "description" : "Constants that describe the preferred styles for fonts.",
          "name" : "UIFont.TextStyle",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/TextStyle"
        },
        {
          "description" : "Creates and returns a font object for the specified font name and size.",
          "name" : "init(name:size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/init(name:size:)"
        },
        {
          "description" : "Returns a font that matches the specified font descriptor.",
          "name" : "init(descriptor:size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/init(descriptor:size:)"
        },
        {
          "description" : "Returns a font object that is the same as the font, but has the specified size.",
          "name" : "withSize(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIFont\/withSize(_:)"
        }
      ],
      "title" : "Creating Fonts"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating self-sizing table view cells",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/creating-self-sizing-table-view-cells"
}