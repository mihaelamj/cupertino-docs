{
  "abstract" : "Marks the start of a task with a custom name that should continue if the app enters the background.",
  "codeExamples" : [

  ],
  "contentHash" : "dafd0957a8642a841f590c994915ad3bd6ddbda7866518cfcc8bf3109e702cae",
  "crawledAt" : "2025-12-03T18:50:08Z",
  "declaration" : {
    "code" : "nonisolated func beginBackgroundTask(withName taskName: String?, expirationHandler handler: (() -> Void)? = nil) -> UIBackgroundTaskIdentifier",
    "language" : "swift"
  },
  "id" : "4B9C1C49-1FAA-43DD-BCA9-FADD4CEEA54E",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Return Value\n\nA unique identifier for the new background task. You must pass this value to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] method to mark the end of this task. This method returns [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBackgroundTaskIdentifier\/invalid] if running in the background isn’t possible.\n\n## Discussion\n\nThis method requests additional background execution time for your app. Call this method when leaving a task unfinished might be detrimental to your app’s user experience. For example, call this method before writing data to a file to prevent the system from suspending your app while the operation is in progress. For background tasks requiring more time, use [doc:\/\/com.apple.documentation\/documentation\/BackgroundTasks].\n\nCall this method as early as possible before starting your task, preferably before your app actually enters the background. The method requests the task assertion for your app asynchronously. If you call this method shortly before your app is due to be suspended, there’s a chance that the system might suspend your app before that task assertion is granted. For example, don’t call this method at the very end of your [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/applicationDidEnterBackground(_:)] method and expect your app to continue running. If the system is unable to grant the task assertion, it calls your expiration handler.\n\nEach call to this method must be balanced by a matching call to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] method. Apps running background tasks have a finite amount of time in which to run them. (You can find out the maximum background time available using the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/backgroundTimeRemaining] property.) If you don’t call [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] for each task before time expires, the system kills the app. If you provide a block object in the handler parameter, the system calls your handler before time expires to give you a chance to end the task.\n\nYou can call this method at any point in your app’s execution. You may also call this method multiple times to mark the beginning of several background tasks that run in parallel. However, each task must be ended separately. You identify a given task using the value returned by this method.\n\nThis method can be safely called on a non-main thread. To extend the execution time of an app extension, use the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo\/performExpiringActivity(withReason:using:)] method of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo] instead.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/beginBackgroundTask(withName:expirationHandler:)\ncrawled: 2025-12-03T18:50:08Z\n---\n\n# beginBackgroundTask(withName:expirationHandler:)\n\n**Instance Method**\n\nMarks the start of a task with a custom name that should continue if the app enters the background.\n\n## Declaration\n\n```swift\nnonisolated func beginBackgroundTask(withName taskName: String?, expirationHandler handler: (() -> Void)? = nil) -> UIBackgroundTaskIdentifier\n```\n\n```swift\nnonisolated func beginBackgroundTask(withName taskName: String?, expirationHandler handler: (@MainActor () -> Void)? = nil) -> UIBackgroundTaskIdentifier\n```\n\n## Parameters\n\n- **taskName**: The name to display in the debugger when viewing the background task. If you specify `nil` for this parameter, the method generates a name based on the name of the calling function or method.\n- **handler**: A handler to be called shortly before the app’s remaining background time reaches 0. Use this handler to clean up and mark the end of the background task. Failure to end the task explicitly will result in the termination of the app. The system calls the handler synchronously on the main thread, blocking the app’s suspension momentarily.\n\n## Return Value\n\nA unique identifier for the new background task. You must pass this value to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] method to mark the end of this task. This method returns [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBackgroundTaskIdentifier\/invalid] if running in the background isn’t possible.\n\n## Discussion\n\nThis method requests additional background execution time for your app. Call this method when leaving a task unfinished might be detrimental to your app’s user experience. For example, call this method before writing data to a file to prevent the system from suspending your app while the operation is in progress. For background tasks requiring more time, use [doc:\/\/com.apple.documentation\/documentation\/BackgroundTasks].\n\nCall this method as early as possible before starting your task, preferably before your app actually enters the background. The method requests the task assertion for your app asynchronously. If you call this method shortly before your app is due to be suspended, there’s a chance that the system might suspend your app before that task assertion is granted. For example, don’t call this method at the very end of your [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/applicationDidEnterBackground(_:)] method and expect your app to continue running. If the system is unable to grant the task assertion, it calls your expiration handler.\n\nEach call to this method must be balanced by a matching call to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] method. Apps running background tasks have a finite amount of time in which to run them. (You can find out the maximum background time available using the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/backgroundTimeRemaining] property.) If you don’t call [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)] for each task before time expires, the system kills the app. If you provide a block object in the handler parameter, the system calls your handler before time expires to give you a chance to end the task.\n\nYou can call this method at any point in your app’s execution. You may also call this method multiple times to mark the beginning of several background tasks that run in parallel. However, each task must be ended separately. You identify a given task using the value returned by this method.\n\nThis method can be safely called on a non-main thread. To extend the execution time of an app extension, use the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo\/performExpiringActivity(withReason:using:)] method of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo] instead.\n\n## Related Documentation\n\n- **Background Tasks**: Support background processing in your app by wrapping your app’s most critical work in framework-provided tasks.\n\n## Managing background tasks\n\n- **backgroundRefreshStatus**: Indicates whether the app can refresh content when running in the background.\n- **UIBackgroundRefreshStatus**: Constants that indicate whether background execution is enabled for the app.\n- **backgroundRefreshStatusDidChangeNotification**: A notification that posts when the app’s status for downloading content in the background changes.\n- **beginBackgroundTask(expirationHandler:)**: Marks the start of a task that should continue if the app enters the background.\n- **endBackgroundTask(_:)**: Marks the end of a specific long-running background task.\n- **UIBackgroundTaskIdentifier**: A unique token that identifies a request to run in the background.\n- **backgroundTimeRemaining**: The maximum amount of time remaining for the app to run in the background.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Support background processing in your app by wrapping your app’s most critical work in framework-provided tasks.",
          "name" : "Background Tasks",
          "url" : "https:\/\/developer.apple.com\/documentation\/BackgroundTasks"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicates whether the app can refresh content when running in the background.",
          "name" : "backgroundRefreshStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/backgroundRefreshStatus"
        },
        {
          "description" : "Constants that indicate whether background execution is enabled for the app.",
          "name" : "UIBackgroundRefreshStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIBackgroundRefreshStatus"
        },
        {
          "description" : "A notification that posts when the app’s status for downloading content in the background changes.",
          "name" : "backgroundRefreshStatusDidChangeNotification",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/backgroundRefreshStatusDidChangeNotification"
        },
        {
          "description" : "Marks the start of a task that should continue if the app enters the background.",
          "name" : "beginBackgroundTask(expirationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/beginBackgroundTask(expirationHandler:)"
        },
        {
          "description" : "Marks the end of a specific long-running background task.",
          "name" : "endBackgroundTask(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/endBackgroundTask(_:)"
        },
        {
          "description" : "A unique token that identifies a request to run in the background.",
          "name" : "UIBackgroundTaskIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIBackgroundTaskIdentifier"
        },
        {
          "description" : "The maximum amount of time remaining for the app to run in the background.",
          "name" : "backgroundTimeRemaining",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/backgroundTimeRemaining"
        }
      ],
      "title" : "Managing background tasks"
    }
  ],
  "source" : "appleJSON",
  "title" : "beginBackgroundTask(withName:expirationHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/beginBackgroundTask(withName:expirationHandler:)"
}