{
  "abstract" : "Design a flexible, functional, and responsive interface for editing text.",
  "codeExamples" : [
    {
      "code" : "let keyboardType = textDocumentProxy.keyboardType\n\nswitch(keyboardType) {\ncase .asciiCapable: …\ncase .emailAddress: …\ncase .numberPad: …\n…\n}",
      "language" : "swift"
    },
    {
      "code" : "@IBAction func dismissButtonTapped(_ sender: Any) {\n    dismissKeyboard()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "cf4f0f0a1ec8367290b82676a4bd87d5d13a41b4845f131fae6cca14ab952c71",
  "crawledAt" : "2025-12-04T10:29:07Z",
  "id" : "B25B279D-9C02-4CDD-BCA6-F80CAAF16A01",
  "kind" : "article",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nYou can create a custom keyboard to provide a systemwide interface for manipulating text input. Because you’ll be integrating your keyboard with a system-provided service, you must fulfill certain requirements, and meet common user expectations.\n\nAmong other things, your keyboard must:\n\n### Support different input types\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy] to determine the current text input view’s keyboard input type. For each keyboard type that your app supports, configure your interface accordingly. One way to do this is by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputDelegate\/textWillChange(_:)] in your view controller, then compare the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy]‘s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits\/keyboardType] to your keyboard’s current display. If it’s different, update your interface accordingly.\n\nSome text input views don’t allow custom keyboards:\n\nAn app can disallow the use of third-party keyboards entirely by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/application(_:shouldAllowExtensionPointIdentifier:)] and returning [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] when called with the `com.apple.keyboard-service` identifier. If an app disallows third-party keyboards, your keyboard won’t be shown in that app.\n\n### Adapt to different layouts\n\nBy default, iOS sizes custom keyboards to match the system keyboard according to screen size and device orientation. A custom keyboard’s width is always set by the system, typically matching the screen width. You can adjust the height of your custom keyboard’s primary view using Auto Layout. To change a keyboard’s height, adjust the height constraints on the UIInputViewController’s view to achieve the desired height for your interface.\n\nFor more information about laying out your view, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/view-layout].\n\n### Handle common keyboard behaviors\n\nUsers expect various behaviors from keyboards. One example is autocapitalization: In a standard text field, the first letter of a sentence in a case-sensitive language is automatically capitalized.\n\nFeatures that users commonly expect from any keyboard include:\n\nUIInputViewController conforms to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits] protocol to give access to a wide variety of properties related to these common behaviors. These properties indicate which settings are currently active for things like autocompletion type, autocapitalization type, enabling the Return key, smart quotes, dashes, and more. See [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits] for a complete list.\n\nAnother common behavior is the ability to dismiss the keyboard. Users can end editing in the current text input view by dismissing the keyboard. You can implement a button to dismiss the keyboard by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/dismissKeyboard()]:\n\nCustom keyboards also have to provide a way for users to switch keyboards. For more information on implementing a button to switch keyboards, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/creating-a-custom-keyboard#Add-your-custom-user-interface].\n\n### Support autocomplete\n\nTo support autocomplete functionality your keyboard has access to [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILexicon]. Make use of this class, along with a lexicon of your own design, to provide suggestions and autocorrections as users are entering text. The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILexicon] object contains words from various sources, including:\n\n### Indicate dictation support\n\nIf your keyboard provides a way to input text using dictation, set the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/hasDictationKey] property of your UIInputViewController’s subclass to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. In some cases, iOS may automatically show a dictation button (for example, on iPhone devices with Face ID). When you set [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/hasDictationKey] to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], iOS won’t show the system button, because having two buttons to perform dictation would be confusing to users.\n\n### Leverage your containing app\n\nWhen designing your custom keyboard, keep in mind that you can leverage your containing app for some functionality. For example, a tutorial would be best suited in your parent app. You could also configure settings or options in the containing app, then save those settings to a shared group container which your keyboard could then read. If your containing app’s sole purpose is to deliver your custom keyboard, there must be some utility provided even if it’s purely informational.\n\nFor further design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/components\/selection-and-input\/onscreen-keyboards].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/configuring-a-custom-keyboard-interface\ncrawled: 2025-12-04T10:29:07Z\n---\n\n# Configuring a custom keyboard interface\n\n**Article**\n\nDesign a flexible, functional, and responsive interface for editing text.\n\n## Overview\n\nYou can create a custom keyboard to provide a systemwide interface for manipulating text input. Because you’ll be integrating your keyboard with a system-provided service, you must fulfill certain requirements, and meet common user expectations.\n\nAmong other things, your keyboard must:\n\n- Handle different types of input, like email addresses, phone numbers, URLs, and more.\n- Adapt to the space that’s available. For example, iPadOS can display keyboard docked to the bottom of the screen or floating with a compact width.\n- Enable users to switch to other keyboards.\n\n### Support different input types\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy] to determine the current text input view’s keyboard input type. For each keyboard type that your app supports, configure your interface accordingly. One way to do this is by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputDelegate\/textWillChange(_:)] in your view controller, then compare the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy]‘s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits\/keyboardType] to your keyboard’s current display. If it’s different, update your interface accordingly.\n\n```swift\nlet keyboardType = textDocumentProxy.keyboardType\n\nswitch(keyboardType) {\ncase .asciiCapable: …\ncase .emailAddress: …\ncase .numberPad: …\n…\n}\n```\n\nSome text input views don’t allow custom keyboards:\n\n- Secure text field entries always show the system keyboard when the user begins entering text in a secure text field, temporarily removing your custom keyboard if it’s active. The system shows your keyboard again when the user begins entering text into a non-secure text field.\n- Text input fields configured with a keyboard type of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIKeyboardType\/phonePad] or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIKeyboardType\/namePhonePad] show the system keyboard.\n\nAn app can disallow the use of third-party keyboards entirely by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/application(_:shouldAllowExtensionPointIdentifier:)] and returning [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] when called with the `com.apple.keyboard-service` identifier. If an app disallows third-party keyboards, your keyboard won’t be shown in that app.\n\n### Adapt to different layouts\n\nBy default, iOS sizes custom keyboards to match the system keyboard according to screen size and device orientation. A custom keyboard’s width is always set by the system, typically matching the screen width. You can adjust the height of your custom keyboard’s primary view using Auto Layout. To change a keyboard’s height, adjust the height constraints on the UIInputViewController’s view to achieve the desired height for your interface.\n\nFor more information about laying out your view, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/view-layout].\n\n### Handle common keyboard behaviors\n\nUsers expect various behaviors from keyboards. One example is autocapitalization: In a standard text field, the first letter of a sentence in a case-sensitive language is automatically capitalized.\n\nFeatures that users commonly expect from any keyboard include:\n\n- Appropriate layout and features based on keyboard type trait, such as automatically displaying relevant keys when editing email addresses or phone numbers\n- Autocorrection and suggestion\n- Automatic capitalization\n- Automatic period upon double space\n- Smart quotes\n- Caps lock support\n- Multistage input for languages that use ideographic characters and symbols, such as Kanji (Japanese) and Hanzi (Chinese)\n\nUIInputViewController conforms to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits] protocol to give access to a wide variety of properties related to these common behaviors. These properties indicate which settings are currently active for things like autocompletion type, autocapitalization type, enabling the Return key, smart quotes, dashes, and more. See [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextInputTraits] for a complete list.\n\nAnother common behavior is the ability to dismiss the keyboard. Users can end editing in the current text input view by dismissing the keyboard. You can implement a button to dismiss the keyboard by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/dismissKeyboard()]:\n\n```swift\n@IBAction func dismissButtonTapped(_ sender: Any) {\n    dismissKeyboard()\n}\n```\n\nCustom keyboards also have to provide a way for users to switch keyboards. For more information on implementing a button to switch keyboards, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/creating-a-custom-keyboard#Add-your-custom-user-interface].\n\n### Support autocomplete\n\nTo support autocomplete functionality your keyboard has access to [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILexicon]. Make use of this class, along with a lexicon of your own design, to provide suggestions and autocorrections as users are entering text. The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UILexicon] object contains words from various sources, including:\n\n- Unpaired first names and last names from the user’s Contacts database.\n- Text shortcuts defined in the Settings > General > Keyboard > Shortcuts list.\n- A dictionary of common words.\n\n### Indicate dictation support\n\nIf your keyboard provides a way to input text using dictation, set the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/hasDictationKey] property of your UIInputViewController’s subclass to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. In some cases, iOS may automatically show a dictation button (for example, on iPhone devices with Face ID). When you set [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/hasDictationKey] to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], iOS won’t show the system button, because having two buttons to perform dictation would be confusing to users.\n\n### Leverage your containing app\n\nWhen designing your custom keyboard, keep in mind that you can leverage your containing app for some functionality. For example, a tutorial would be best suited in your parent app. You could also configure settings or options in the containing app, then save those settings to a shared group container which your keyboard could then read. If your containing app’s sole purpose is to deliver your custom keyboard, there must be some utility provided even if it’s purely informational.\n\nFor further design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/components\/selection-and-input\/onscreen-keyboards].\n\n## Keyboard configuration\n\n- **Configuring open access for a custom keyboard**: Enable network access and write access to a shared group container.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable network access and write access to a shared group container.",
          "name" : "Configuring open access for a custom keyboard",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/configuring-open-access-for-a-custom-keyboard"
        }
      ],
      "title" : "Keyboard configuration"
    }
  ],
  "source" : "appleJSON",
  "title" : "Configuring a custom keyboard interface",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/configuring-a-custom-keyboard-interface"
}