{
  "abstract" : "Asks the delegate to divide the specified range of text into the separate containers that render that text.",
  "codeExamples" : [

  ],
  "contentHash" : "c670a5c30fbce91c77043d0a6dfab870ed80cbfb3e130cd459b9aef38dfe93f7",
  "crawledAt" : "2025-12-04T12:00:15Z",
  "declaration" : {
    "code" : "optional func writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, requestsSingleContainerSubrangesOf range: NSRange, in context: UIWritingToolsCoordinator.Context, completion: @escaping ([NSValue]) -> Void)",
    "language" : "swift"
  },
  "id" : "966C9294-F6D8-41E6-BF85-EAB83CDD3781",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nIf your view uses multiple [doc:\/\/com.apple.uikit\/documentation\/UIKit\/NSTextContainer] objects to draw text in different regions, use this method to tell Writing Tools about the containers that display the specified text. In your implementation, subdivide `range` to create one new range for each portion of text that resides in a different container object. For example, if the text in `range` is split between two containers, provide two new [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSRange-c.struct] types that reflect the portion of the total text in each container. If `range` resides completely within one container, call the completion handler with `range` as the only value in the array.\n\nWhen configuring animations for your view, Writing Tools asks your delegate to provide separate previews for each of your view’s container object. Specifically, it calls your delegate’s `writingToolsCoordinator(_:requestsPreviewFor:range:context:completion:)` method separately for each range of text you return in the completion handler. Your implementation of that method must create a preview suitable for animating the content from the underlying text container.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsSingleContainerSubrangesOf:in:completion:)\ncrawled: 2025-12-04T12:00:15Z\n---\n\n# writingToolsCoordinator(_:requestsSingleContainerSubrangesOf:in:completion:)\n\n**Instance Method**\n\nAsks the delegate to divide the specified range of text into the separate containers that render that text.\n\n## Declaration\n\n```swift\noptional func writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, requestsSingleContainerSubrangesOf range: NSRange, in context: UIWritingToolsCoordinator.Context, completion: @escaping ([NSValue]) -> Void)\n```\n\n```swift\noptional func writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, singleContainerSubrangesOf range: NSRange, in context: UIWritingToolsCoordinator.Context) async -> [NSValue]\n```\n\n## Parameters\n\n- **writingToolsCoordinator**: The coordinator object requesting information from your custom view.\n- **range**: The range of text to consider in the specified `context` object. The location value of this range is relative to the beginning of the text in your context object, and it’s your responsibility to match that location to the correct location in your text storage. If you initialized the context object with the entire contents of your view’s text storage, you can use `range` as-is to access that text storage. However, if you initialized the context object with only a portion of your view’s text, add the starting location of your context object’s text to this value to get the correct range for that text storage.\n- **context**: The context object that contains the text to consider. Use this object to locate the appropriate text storage object for your view.\n- **completion**: A completion handler to execute when you are done. The handler has no return value and takes an array of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSValue] types, each of which contains an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSRange-c.struct]. The union of the ranges you pass to this handler must equal all of the text in `range`. The order of the ranges in the array must be sequential, with each new range’s starting location coming after the previous one. There must also not be any gaps or overlap between ranges. You must call this handler at some point during your implementation.\n\n## Discussion\n\nIf your view uses multiple [doc:\/\/com.apple.uikit\/documentation\/UIKit\/NSTextContainer] objects to draw text in different regions, use this method to tell Writing Tools about the containers that display the specified text. In your implementation, subdivide `range` to create one new range for each portion of text that resides in a different container object. For example, if the text in `range` is split between two containers, provide two new [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSRange-c.struct] types that reflect the portion of the total text in each container. If `range` resides completely within one container, call the completion handler with `range` as the only value in the array.\n\nWhen configuring animations for your view, Writing Tools asks your delegate to provide separate previews for each of your view’s container object. Specifically, it calls your delegate’s `writingToolsCoordinator(_:requestsPreviewFor:range:context:completion:)` method separately for each range of text you return in the completion handler. Your implementation of that method must create a preview suitable for animating the content from the underlying text container.\n\n## Providing animation container views dynamically\n\n- **writingToolsCoordinator(_:requestsDecorationContainerViewFor:in:completion:)**: Asks the delegate to provide a decoration view for the specified range of text.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the delegate to provide a decoration view for the specified range of text.",
          "name" : "writingToolsCoordinator(_:requestsDecorationContainerViewFor:in:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsDecorationContainerViewFor:in:completion:)"
        }
      ],
      "title" : "Providing animation container views dynamically"
    }
  ],
  "source" : "appleJSON",
  "title" : "writingToolsCoordinator(_:requestsSingleContainerSubrangesOf:in:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsSingleContainerSubrangesOf:in:completion:)"
}