{
  "abstract" : "Initializes the CloudKit sharing view controller with a CloudKit share record and container to manage participants and restrictions.",
  "codeExamples" : [
    {
      "code" : "CKRecord *record = [self record];\nCKReference *shareReference = [record share];\nif (shareReference == nil) {\n  return;\n}\nCKContainer *container = [CKContainer defaultContainer];\n[[container privateCloudDatabase] fetchRecordWithID:[shareReference recordID] completionHandler:^(CKRecord * _Nullable record, NSError * _Nullable error) {\n  \n  if (record == nil) {\n    NSLog(@\"%@\", [error localizedDescription]);\n  } else if ([record isKindOfClass:[CKShare class]]) {\n    CKShare *shareRecord = (CKShare *)record;\n    NSLog(@\"%@\", [shareRecord URL]);\n  }\n  \n}];",
      "language" : "objc"
    }
  ],
  "contentHash" : "bcc3188134c2391bf48d2834dafd13e8b51ecb9c8475ea18fef987b0a912fd82",
  "crawledAt" : "2025-12-02T18:30:53Z",
  "declaration" : {
    "code" : "@MainActor init(share: CKShare, container: CKContainer)",
    "language" : "swift"
  },
  "id" : "4F9A8EAB-44F4-4BB4-9EE5-1A285717BBD9",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)] initializer method to create the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance when the user who owns the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record wants to manage the participants and restrictions associated with the share. (For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Adding-and-removing-participants-from-an-existing-share].) You also use this initializer method when users are participants who want to remove themselves from a share. (For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Viewing-participants-and-leaving-a-share].)\n\n[doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)] requires a reference to the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] instance associated with the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] instance that represents the shared data. To retrieve the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] instance, get the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/share] property value (a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference] instance) from the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] instance. Then pass the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference\/recordID] from the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference] instance to the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKDatabase\/fetch(withRecordID:completionHandler:)] method on a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKDatabase] instance, as shown in the following code.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)\ncrawled: 2025-12-02T18:30:53Z\n---\n\n# init(share:container:)\n\n**Initializer**\n\nInitializes the CloudKit sharing view controller with a CloudKit share record and container to manage participants and restrictions.\n\n## Declaration\n\n```swift\n@MainActor init(share: CKShare, container: CKContainer)\n```\n\n## Parameters\n\n- **share**: An instance of [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] that was previously saved.\n- **container**: An instance of [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKContainer] that contains the record that is shared.\n\n## Discussion\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)] initializer method to create the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance when the user who owns the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record wants to manage the participants and restrictions associated with the share. (For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Adding-and-removing-participants-from-an-existing-share].) You also use this initializer method when users are participants who want to remove themselves from a share. (For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Viewing-participants-and-leaving-a-share].)\n\n\n\n[doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)] requires a reference to the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] instance associated with the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] instance that represents the shared data. To retrieve the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] instance, get the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/share] property value (a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference] instance) from the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] instance. Then pass the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference\/recordID] from the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/Reference] instance to the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKDatabase\/fetch(withRecordID:completionHandler:)] method on a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKDatabase] instance, as shown in the following code.\n\n```objc\nCKRecord *record = [self record];\nCKReference *shareReference = [record share];\nif (shareReference == nil) {\n  return;\n}\nCKContainer *container = [CKContainer defaultContainer];\n[[container privateCloudDatabase] fetchRecordWithID:[shareReference recordID] completionHandler:^(CKRecord * _Nullable record, NSError * _Nullable error) {\n  \n  if (record == nil) {\n    NSLog(@\"%@\", [error localizedDescription]);\n  } else if ([record isKindOfClass:[CKShare class]]) {\n    CKShare *shareRecord = (CKShare *)record;\n    NSLog(@\"%@\", [shareRecord URL]);\n  }\n  \n}];\n```\n\n## Creating the cloud sharing controller\n\n- **init(preparationHandler:)**: Initializes the CloudKit sharing controller with a preparation handler intending to save a new share record.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes the CloudKit sharing controller with a preparation handler intending to save a new share record.",
          "name" : "init(preparationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(preparationHandler:)"
        }
      ],
      "title" : "Creating the cloud sharing controller"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(share:container:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)"
}