{
  "abstract" : "A protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations.",
  "codeExamples" : [

  ],
  "contentHash" : "403a64c763090ca6694aeb6324eaf7b26d6cbc20b5356b1415a8133bb0ea3159",
  "crawledAt" : "2025-12-02T16:01:05Z",
  "declaration" : {
    "code" : "@MainActor protocol UICollectionViewDataSourcePrefetching : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "68C12B74-03B0-4796-9FC2-3F331B7DB97B",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nYou use a prefetch data source object in conjunction with your collection view’s data source to begin loading data for cells before the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource\/collectionView(_:cellForItemAt:)] data source method is called.\n\nFollow these steps to add a prefetch data source to your collection view:\n\nFor more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView].\n\n### Load data asynchronously\n\nThe [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:prefetchItemsAt:)] method isn’t necessarily called for every cell in the collection view. Your implementation of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource\/collectionView(_:cellForItemAt:)] must therefore be able to cope with the following potential situations:\n\nOne approach that handles all of these situations is to use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation] to load the data for each row. You create the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation] object and store it in the prefetch method. The data source method can then either retrieve the operation and the result, or create it if it doesn’t exist. For further information about how you can use asynchronous programming models to achieve this desired behavior, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/General\/Conceptual\/ConcurrencyProgrammingGuide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40008091].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\ncrawled: 2025-12-02T16:01:05Z\n---\n\n# UICollectionViewDataSourcePrefetching\n\n**Protocol**\n\nA protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations.\n\n## Declaration\n\n```swift\n@MainActor protocol UICollectionViewDataSourcePrefetching : NSObjectProtocol\n```\n\n## Overview\n\nYou use a prefetch data source object in conjunction with your collection view’s data source to begin loading data for cells before the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource\/collectionView(_:cellForItemAt:)] data source method is called.\n\nFollow these steps to add a prefetch data source to your collection view:\n\n1. Create the collection view and its data source.\n2. Create an object that adopts the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching] protocol, and assign it to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/prefetchDataSource] property on the collection view.\n3. Initiate asynchronous loading of the data required for the cells at the specified index paths in your implementation of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:prefetchItemsAt:)].\n4. Prepare the cell for display using the prefetched data in your implementation of the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource\/collectionView(_:cellForItemAt:)] data source method.\n5. Cancel pending data load operations when the collection view informs you that the data is no longer required in the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:cancelPrefetchingForItemsAt:)] method.\n\n\n\nFor more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView].\n\n### Load data asynchronously\n\nThe [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:prefetchItemsAt:)] method isn’t necessarily called for every cell in the collection view. Your implementation of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource\/collectionView(_:cellForItemAt:)] must therefore be able to cope with the following potential situations:\n\n- Data has been loaded via the prefetch request, and is ready to be displayed.\n- Data is currently being prefetched, but isn’t yet available.\n- Data hasn’t yet been requested.\n\nOne approach that handles all of these situations is to use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation] to load the data for each row. You create the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation] object and store it in the prefetch method. The data source method can then either retrieve the operation and the result, or create it if it doesn’t exist. For further information about how you can use asynchronous programming models to achieve this desired behavior, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/General\/Conceptual\/ConcurrencyProgrammingGuide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40008091].\n\n## Managing data prefetching\n\n- **Prefetching collection view data**: Load data for collection view cells before they display.\n- **collectionView(_:prefetchItemsAt:)**: Tells your prefetch data source object to begin preparing data for the cells at the supplied index paths.\n- **collectionView(_:cancelPrefetchingForItemsAt:)**: Cancels a previously triggered data prefetch request.\n\n## Data\n\n- **Updating collection views using diffable data sources**: Streamline the display and update of data in a collection view using a diffable data source that contains identifiers.\n- **Implementing modern collection views**: Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.\n- **Building high-performance lists and collection views**: Improve the performance of lists and collections in your app with prefetching and image preparation.\n- **UICollectionViewDiffableDataSource**: The object you use to manage data and provide cells for a collection view.\n- **UICollectionViewDataSource**: The methods adopted by the object you use to manage data and provide cells for a collection view.\n- **NSDiffableDataSourceSnapshot**: A representation of the state of the data in a view at a specific point in time.\n- **NSDiffableDataSourceSectionSnapshot**: A representation of the state of the data in a layout section at a specific point in time.\n- **UIRefreshControl**: A standard control that can initiate the refreshing of a scroll view’s contents.\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Load data for collection view cells before they display.",
          "name" : "Prefetching collection view data",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/prefetching-collection-view-data"
        },
        {
          "description" : "Tells your prefetch data source object to begin preparing data for the cells at the supplied index paths.",
          "name" : "collectionView(_:prefetchItemsAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:prefetchItemsAt:)"
        },
        {
          "description" : "Cancels a previously triggered data prefetch request.",
          "name" : "collectionView(_:cancelPrefetchingForItemsAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching\/collectionView(_:cancelPrefetchingForItemsAt:)"
        }
      ],
      "title" : "Managing data prefetching"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Streamline the display and update of data in a collection view using a diffable data source that contains identifiers.",
          "name" : "Updating collection views using diffable data sources",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/updating-collection-views-using-diffable-data-sources"
        },
        {
          "description" : "Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.",
          "name" : "Implementing modern collection views",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/implementing-modern-collection-views"
        },
        {
          "description" : "Improve the performance of lists and collections in your app with prefetching and image preparation.",
          "name" : "Building high-performance lists and collection views",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/building-high-performance-lists-and-collection-views"
        },
        {
          "description" : "The object you use to manage data and provide cells for a collection view.",
          "name" : "UICollectionViewDiffableDataSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa"
        },
        {
          "description" : "The methods adopted by the object you use to manage data and provide cells for a collection view.",
          "name" : "UICollectionViewDataSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSource"
        },
        {
          "description" : "A representation of the state of the data in a view at a specific point in time.",
          "name" : "NSDiffableDataSourceSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshot-swift.struct"
        },
        {
          "description" : "A representation of the state of the data in a layout section at a specific point in time.",
          "name" : "NSDiffableDataSourceSectionSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSectionSnapshot-swift.struct"
        },
        {
          "description" : "A standard control that can initiate the refreshing of a scroll view’s contents.",
          "name" : "UIRefreshControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIRefreshControl"
        }
      ],
      "title" : "Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "UICollectionViewDataSourcePrefetching",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching"
}