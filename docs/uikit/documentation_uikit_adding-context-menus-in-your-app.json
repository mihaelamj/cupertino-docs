{
  "abstract" : "Provide quick access to useful actions by adding context menus to your iOS app.",
  "codeExamples" : [
    {
      "code" : "let interaction = UIContextMenuInteraction(delegate: self)\nimageView.addInteraction(interaction)",
      "language" : "swift"
    },
    {
      "code" : "func contextMenuInteraction(_ interaction: UIContextMenuInteraction,\n                            configurationForMenuAtLocation location: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        let inspectAction =\n            UIAction(title: NSLocalizedString(\"InspectTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"arrow.up.square\")) { action in\n                self.performInspect()\n            }\n            \n        let duplicateAction =\n            UIAction(title: NSLocalizedString(\"DuplicateTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"plus.square.on.square\")) { action in\n                self.performDuplicate()\n            }\n            \n        let deleteAction =\n            UIAction(title: NSLocalizedString(\"DeleteTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"trash\"),\n                     attributes: .destructive) { action in\n                self.performDelete()\n            }\n                                        \n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}",
      "language" : "swift"
    },
    {
      "code" : "override func tableView(_ tableView: UITableView,\n                        contextMenuConfigurationForRowAt indexPath: IndexPath,\n                        point: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        let inspectAction =\n            UIAction(title: NSLocalizedString(\"InspectTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"arrow.up.square\")) { action in\n                self.performInspect(indexPath)\n            }\n        let duplicateAction =\n            UIAction(title: NSLocalizedString(\"DuplicateTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"plus.square.on.square\")) { action in\n                self.performDuplicate(indexPath)\n            }\n        let deleteAction =\n            UIAction(title: NSLocalizedString(\"DeleteTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"trash\"),\n                     attributes: .destructive) { action in\n                self.performDelete(indexPath)\n            }\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}",
      "language" : "swift"
    },
    {
      "code" : "override func collectionView(_ collectionView: UICollectionView,\n                             contextMenuConfigurationForItemAt indexPath: IndexPath,\n                             point: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil, previewProvider: nil) { suggestedActions in\n        let inspectAction = self.inspectAction(indexPath)\n        let duplicateAction = self.duplicateAction(indexPath)\n        let deleteAction = self.deleteAction(indexPath)\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "let inspectAction = self.inspectAction()\nlet duplicateAction = self.duplicateAction()\nlet deleteAction = self.deleteAction()\nbuttonMenuAsPrimary.menu = UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\nbuttonMenuAsPrimary.showsMenuAsPrimaryAction = true",
      "language" : "swift"
    },
    {
      "code" : "let interaction = UIContextMenuInteraction(delegate: self)\nbuttonMenu.addInteraction(interaction)",
      "language" : "swift"
    },
    {
      "code" : "func contextMenuInteraction(_ interaction: UIContextMenuInteraction,\n                            configurationForMenuAtLocation location: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        \/\/ Use the ContextMenu protocol to produce the UIActions.\n        let inspectAction = self.inspectAction()\n        let duplicateAction = self.duplicateAction()\n        let deleteAction = self.deleteAction()\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}",
      "language" : "swift"
    },
    {
      "code" : "func webView(_ webView: WKWebView,\n             contextMenuConfigurationForElement elementInfo: WKContextMenuElementInfo,\n             completionHandler: @escaping (UIContextMenuConfiguration?) -> Void) {\n    let configuration =\n        UIContextMenuConfiguration(identifier: nil,\n                                   previewProvider: { return SFSafariViewController(url: elementInfo.linkURL!) },\n                                   actionProvider: { elements in\n            guard elements.isEmpty == false else { return nil }\n                                    \n            \/\/ Add our custom action to the existing actions passed in.\n            var elementsToUse = elements\n            let inspectAction = self.extraAction(elementInfo.linkURL!)\n            let editMenu = UIMenu(title: \"\", options: .displayInline, children: [inspectAction])\n            elementsToUse.append(editMenu)\n                   \n            let contextMenuTitle = elementInfo.linkURL?.lastPathComponent\n            return UIMenu(title: contextMenuTitle!, image: nil, identifier: nil, options: [], children: elementsToUse)\n        }\n    )\n    completionHandler(configuration)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "d2958e76573a3c2febf279b3714f0e6c526ae15397dc8bf13e843cd7add71e72",
  "crawledAt" : "2025-12-05T03:51:51Z",
  "id" : "2FEA52A0-DE44-4F5A-A74C-656FC50A5FFD",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThis sample project demonstrates how to add context menus to user-interface elements such as views, controls, table views, collection views, and web views. Apps enhance and extend context menus with actions, nested submenu actions, and custom previews. For more information on context menu design, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ios\/controls\/context-menus\/].\n\n### Create a context menu\n\nThis sample shows two ways to create context menus:\n\nAdopt `UIContextMenuInteractionDelegate` to manage the lifecycle of context menus. The app implements [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteractionDelegate\/contextMenuInteraction(_:configurationForMenuAtLocation:)] to return a `UIContextMenuConfiguration` object. This configuration object consists of an optional `identifier`, a `previewProvider` that returns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController], and an `actionProvider` that returns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIMenu] with a set of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIAction] items.\n\nContext menus with rich content also provide a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITargetedPreview], an object that describes the source view when opening and animating the contextual menu. A `UITargetedPreview` specifies the view to use during animated transitions.\n\n### Add a context menu to a view\n\nThis sample adds a context menu to a `UIView` by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/addInteraction(_:)].\n\nWhen the user touches and holds on that view, the view asks its delegate to provide the context menu by calling `contextMenuInteraction(_:configurationForMenuAtLocation:)`.\n\n### Add a context menu to a table view\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableView] when the user touches and holds a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewCell]. `UITableView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewDelegate\/tableView(_:contextMenuConfigurationForRowAt:point:)].\n\n### Add a context menu to a collection view\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView] when the user touches and holds a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewCell]. `UICollectionView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:contextMenuConfigurationForItemAt:point:)].\n\n### Add a context menu to a control\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIControl]. UIKit attaches a context menu to a `UIControl` in two different ways:\n\nWhen the user touches and holds on that control, the app asks its delegate to provide a context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteractionDelegate\/contextMenuInteraction(_:configurationForMenuAtLocation:)]\n\n### Add a context menu to a web view\n\nSelect the Basic test case from the sample’s Web Views outline item. When the user touches and holds on the link within the [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKWebView], the app presents a [doc:\/\/com.apple.documentation\/documentation\/SafariServices\/SFSafariViewController] to show that link content with a set of default `UIAction` items. When the user touches the view controller, the user moves out of the app and into Safari.\n\nSelect the Preview Provider test case from the sample’s Web Views outline item. When the user touches and holds on the link within the `WKWebView`, the app presents a custom view controller.\n\nThis sample intercepts and adds to that context menu by adopting the [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKUIDelegate] protocol. `WKWebView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKUIDelegate\/webView(_:contextMenuConfigurationForElement:completionHandler:)].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/uikit\/adding-context-menus-in-your-app\ncrawled: 2025-12-05T03:51:51Z\n---\n\n# Adding context menus in your app\n\n**Sample Code**\n\nProvide quick access to useful actions by adding context menus to your iOS app.\n\n## Overview\n\nThis sample project demonstrates how to add context menus to user-interface elements such as views, controls, table views, collection views, and web views. Apps enhance and extend context menus with actions, nested submenu actions, and custom previews. For more information on context menu design, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ios\/controls\/context-menus\/].\n\n### Create a context menu\n\nThis sample shows two ways to create context menus:\n\n1. For a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView], the sample creates a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteraction] object and attaches it to that view. The `UIContextMenuInteraction` object focuses the user’s attention on a specific portion of the UI, and provides actions for the user to perform on that content. Then, the app adopts the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteractionDelegate] protocol and provides a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuConfiguration] object.\n2. For more specific UI elements like tables, collections, and web views, the app adopts specific protocols for those elements that return a `UIContextMenuConfiguration`.\n\nAdopt `UIContextMenuInteractionDelegate` to manage the lifecycle of context menus. The app implements [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteractionDelegate\/contextMenuInteraction(_:configurationForMenuAtLocation:)] to return a `UIContextMenuConfiguration` object. This configuration object consists of an optional `identifier`, a `previewProvider` that returns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController], and an `actionProvider` that returns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIMenu] with a set of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIAction] items.\n\nContext menus with rich content also provide a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITargetedPreview], an object that describes the source view when opening and animating the contextual menu. A `UITargetedPreview` specifies the view to use during animated transitions.\n\n### Add a context menu to a view\n\nThis sample adds a context menu to a `UIView` by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/addInteraction(_:)].\n\n```swift\nlet interaction = UIContextMenuInteraction(delegate: self)\nimageView.addInteraction(interaction)\n```\n\nWhen the user touches and holds on that view, the view asks its delegate to provide the context menu by calling `contextMenuInteraction(_:configurationForMenuAtLocation:)`.\n\n```swift\nfunc contextMenuInteraction(_ interaction: UIContextMenuInteraction,\n                            configurationForMenuAtLocation location: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        let inspectAction =\n            UIAction(title: NSLocalizedString(\"InspectTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"arrow.up.square\")) { action in\n                self.performInspect()\n            }\n            \n        let duplicateAction =\n            UIAction(title: NSLocalizedString(\"DuplicateTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"plus.square.on.square\")) { action in\n                self.performDuplicate()\n            }\n            \n        let deleteAction =\n            UIAction(title: NSLocalizedString(\"DeleteTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"trash\"),\n                     attributes: .destructive) { action in\n                self.performDelete()\n            }\n                                        \n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}\n```\n\n### Add a context menu to a table view\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableView] when the user touches and holds a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewCell]. `UITableView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewDelegate\/tableView(_:contextMenuConfigurationForRowAt:point:)].\n\n```swift\noverride func tableView(_ tableView: UITableView,\n                        contextMenuConfigurationForRowAt indexPath: IndexPath,\n                        point: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        let inspectAction =\n            UIAction(title: NSLocalizedString(\"InspectTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"arrow.up.square\")) { action in\n                self.performInspect(indexPath)\n            }\n        let duplicateAction =\n            UIAction(title: NSLocalizedString(\"DuplicateTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"plus.square.on.square\")) { action in\n                self.performDuplicate(indexPath)\n            }\n        let deleteAction =\n            UIAction(title: NSLocalizedString(\"DeleteTitle\", comment: \"\"),\n                     image: UIImage(systemName: \"trash\"),\n                     attributes: .destructive) { action in\n                self.performDelete(indexPath)\n            }\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}\n```\n\n### Add a context menu to a collection view\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView] when the user touches and holds a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewCell]. `UICollectionView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:contextMenuConfigurationForItemAt:point:)].\n\n```swift\noverride func collectionView(_ collectionView: UICollectionView,\n                             contextMenuConfigurationForItemAt indexPath: IndexPath,\n                             point: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil, previewProvider: nil) { suggestedActions in\n        let inspectAction = self.inspectAction(indexPath)\n        let duplicateAction = self.duplicateAction(indexPath)\n        let deleteAction = self.deleteAction(indexPath)\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    }\n}\n```\n\n### Add a context menu to a control\n\nThis sample adds a context menu to a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIControl]. UIKit attaches a context menu to a `UIControl` in two different ways:\n\n- By setting the `menu` property with a `UIMenu` object\n\n```swift\nlet inspectAction = self.inspectAction()\nlet duplicateAction = self.duplicateAction()\nlet deleteAction = self.deleteAction()\nbuttonMenuAsPrimary.menu = UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\nbuttonMenuAsPrimary.showsMenuAsPrimaryAction = true\n```\n\n- By adding a `UIContextMenuInteraction` object\n\n```swift\nlet interaction = UIContextMenuInteraction(delegate: self)\nbuttonMenu.addInteraction(interaction)\n```\n\nWhen the user touches and holds on that control, the app asks its delegate to provide a context menu by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIContextMenuInteractionDelegate\/contextMenuInteraction(_:configurationForMenuAtLocation:)]\n\n```swift\nfunc contextMenuInteraction(_ interaction: UIContextMenuInteraction,\n                            configurationForMenuAtLocation location: CGPoint) -> UIContextMenuConfiguration? {\n    return UIContextMenuConfiguration(identifier: nil,\n                                      previewProvider: nil,\n                                      actionProvider: {\n            suggestedActions in\n        \/\/ Use the ContextMenu protocol to produce the UIActions.\n        let inspectAction = self.inspectAction()\n        let duplicateAction = self.duplicateAction()\n        let deleteAction = self.deleteAction()\n        return UIMenu(title: \"\", children: [inspectAction, duplicateAction, deleteAction])\n    })\n}\n```\n\n### Add a context menu to a web view\n\nSelect the Basic test case from the sample’s Web Views outline item. When the user touches and holds on the link within the [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKWebView], the app presents a [doc:\/\/com.apple.documentation\/documentation\/SafariServices\/SFSafariViewController] to show that link content with a set of default `UIAction` items. When the user touches the view controller, the user moves out of the app and into Safari.\n\nSelect the Preview Provider test case from the sample’s Web Views outline item. When the user touches and holds on the link within the `WKWebView`, the app presents a custom view controller.\n\nThis sample intercepts and adds to that context menu by adopting the [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKUIDelegate] protocol. `WKWebView` asks its delegate to provide the context menu by calling [doc:\/\/com.apple.documentation\/documentation\/WebKit\/WKUIDelegate\/webView(_:contextMenuConfigurationForElement:completionHandler:)].\n\n```swift\nfunc webView(_ webView: WKWebView,\n             contextMenuConfigurationForElement elementInfo: WKContextMenuElementInfo,\n             completionHandler: @escaping (UIContextMenuConfiguration?) -> Void) {\n    let configuration =\n        UIContextMenuConfiguration(identifier: nil,\n                                   previewProvider: { return SFSafariViewController(url: elementInfo.linkURL!) },\n                                   actionProvider: { elements in\n            guard elements.isEmpty == false else { return nil }\n                                    \n            \/\/ Add our custom action to the existing actions passed in.\n            var elementsToUse = elements\n            let inspectAction = self.extraAction(elementInfo.linkURL!)\n            let editMenu = UIMenu(title: \"\", options: .displayInline, children: [inspectAction])\n            elementsToUse.append(editMenu)\n                   \n            let contextMenuTitle = elementInfo.linkURL?.lastPathComponent\n            return UIMenu(title: contextMenuTitle!, image: nil, identifier: nil, options: [], children: elementsToUse)\n        }\n    )\n    completionHandler(configuration)\n}\n```\n\n## Creating a context menu interaction object\n\n- **init(delegate:)**: Creates a context menu interaction object with the specified delegate object.\n- **Adding menus and shortcuts to the menu bar and user interface**: Provide quick access to useful actions by adding menus and keyboard shortcuts to your Mac app built with Mac Catalyst.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a context menu interaction object with the specified delegate object.",
          "name" : "init(delegate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIContextMenuInteraction\/init(delegate:)"
        },
        {
          "description" : "Provide quick access to useful actions by adding menus and keyboard shortcuts to your Mac app built with Mac Catalyst.",
          "name" : "Adding menus and shortcuts to the menu bar and user interface",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/adding-menus-and-shortcuts-to-the-menu-bar-and-user-interface"
        }
      ],
      "title" : "Creating a context menu interaction object"
    }
  ],
  "source" : "appleJSON",
  "title" : "Adding context menus in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/uikit\/adding-context-menus-in-your-app"
}