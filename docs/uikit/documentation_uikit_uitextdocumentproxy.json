{
  "abstract" : "An object that provides textual context to a custom keyboard.",
  "codeExamples" : [

  ],
  "contentHash" : "dc576536816c970b61399ea91e130be8166e13daaeb0e15f6e648315eed8fd2a",
  "crawledAt" : "2025-12-03T05:46:41Z",
  "declaration" : {
    "code" : "@MainActor protocol UITextDocumentProxy : UIKeyInput",
    "language" : "swift"
  },
  "id" : "AEFF7FBA-2F15-4954-9DEC-FC9D66778286",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThrough conformance to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIKeyInput] protocol, a text document proxy enables a custom keyboard (which is based on the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController] class) to insert and delete text, to adjust the position of the insertion point, and to determine whether a text input object is empty. The text document proxy uses the keyboard’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy] property to do this.\n\nFor more about using a text document proxy, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/creating-a-custom-keyboard].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\ncrawled: 2025-12-03T05:46:41Z\n---\n\n# UITextDocumentProxy\n\n**Protocol**\n\nAn object that provides textual context to a custom keyboard.\n\n## Declaration\n\n```swift\n@MainActor protocol UITextDocumentProxy : UIKeyInput\n```\n\n## Overview\n\nThrough conformance to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIKeyInput] protocol, a text document proxy enables a custom keyboard (which is based on the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController] class) to insert and delete text, to adjust the position of the insertion point, and to determine whether a text input object is empty. The text document proxy uses the keyboard’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController\/textDocumentProxy] property to do this.\n\nFor more about using a text document proxy, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIInputViewController] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/creating-a-custom-keyboard].\n\n## Getting the text-input mode\n\n- **documentInputMode**: The text-input mode for the keyboard.\n\n## Obtaining textual context around the insertion point\n\n- **documentContextAfterInput**: Textual context after the insertion point in the current text input object.\n- **documentContextBeforeInput**: Textual context before the insertion point in the current text input object.\n\n## Adjusting the insertion point position\n\n- **adjustTextPosition(byCharacterOffset:)**: Moves the insertion point forward or backward in the current text input object.\n\n## Getting the selected text\n\n- **selectedText**: The currently selected text in the document.\n\n## Managing marked text\n\n- **setMarkedText(_:selectedRange:)**: Inserts the provided text and marks it to indicate that it’s part of an active input session.\n- **unmarkText()**: Unmarks the currently marked text.\n\n## Distinguishing changes in the document\n\n- **documentIdentifier**: The unique identifier for the document.\n\n## Custom keyboard\n\n- **UIInputViewAudioFeedback**: A property that enables a custom input or keyboard accessory view to play standard keyboard input clicks.\n- **UIInputViewController**: The primary view controller for a custom keyboard app extension.\n- **UILexicon**: A read-only array of term pairs, each in a lexicon entry object, for a custom keyboard.\n- **UILexiconEntry**: A read-only term pair, available within a lexicon object, for a custom keyboard.\n\n## Inherits From\n\n- NSObjectProtocol\n- UIKeyInput\n- UITextInputTraits\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The text-input mode for the keyboard.",
          "name" : "documentInputMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/documentInputMode"
        }
      ],
      "title" : "Getting the text-input mode"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Textual context after the insertion point in the current text input object.",
          "name" : "documentContextAfterInput",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/documentContextAfterInput"
        },
        {
          "description" : "Textual context before the insertion point in the current text input object.",
          "name" : "documentContextBeforeInput",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/documentContextBeforeInput"
        }
      ],
      "title" : "Obtaining textual context around the insertion point"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Moves the insertion point forward or backward in the current text input object.",
          "name" : "adjustTextPosition(byCharacterOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/adjustTextPosition(byCharacterOffset:)"
        }
      ],
      "title" : "Adjusting the insertion point position"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The currently selected text in the document.",
          "name" : "selectedText",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/selectedText"
        }
      ],
      "title" : "Getting the selected text"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Inserts the provided text and marks it to indicate that it’s part of an active input session.",
          "name" : "setMarkedText(_:selectedRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/setMarkedText(_:selectedRange:)"
        },
        {
          "description" : "Unmarks the currently marked text.",
          "name" : "unmarkText()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/unmarkText()"
        }
      ],
      "title" : "Managing marked text"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The unique identifier for the document.",
          "name" : "documentIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy\/documentIdentifier"
        }
      ],
      "title" : "Distinguishing changes in the document"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A property that enables a custom input or keyboard accessory view to play standard keyboard input clicks.",
          "name" : "UIInputViewAudioFeedback",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIInputViewAudioFeedback"
        },
        {
          "description" : "The primary view controller for a custom keyboard app extension.",
          "name" : "UIInputViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIInputViewController"
        },
        {
          "description" : "A read-only array of term pairs, each in a lexicon entry object, for a custom keyboard.",
          "name" : "UILexicon",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UILexicon"
        },
        {
          "description" : "A read-only term pair, available within a lexicon object, for a custom keyboard.",
          "name" : "UILexiconEntry",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UILexiconEntry"
        }
      ],
      "title" : "Custom keyboard"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        },
        {
          "name" : "UIKeyInput"
        },
        {
          "name" : "UITextInputTraits"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "UITextDocumentProxy",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITextDocumentProxy"
}