{
  "abstract" : "A representation of the state of the data in a view at a specific point in time.",
  "codeExamples" : [
    {
      "code" : "\/\/ Create a snapshot.\nNSDiffableDataSourceSnapshot<NSNumber *, NSUUID *> *snapshot = [[NSDiffableDataSourceSnapshot alloc] init];\n\n\n\/\/ Populate the snapshot.\n[snapshot appendSectionsWithIdentifiers:@[@0]];\n[snapshot appendItemsWithIdentifiers:@[[NSUUID UUID], [NSUUID UUID], [NSUUID UUID]]];\n\n\n\/\/ Apply the snapshot.\n[self.dataSource applySnapshot:snapshot animatingDifferences:YES];",
      "language" : "objc"
    },
    {
      "code" : "let snapshot = snapshotReference as NSDiffableDataSourceSnapshot<Int, UUID>",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSObjectProtocol"
  ],
  "contentHash" : "436012881c7d56e86e41b9bb80f0b7bcee217e42e27b7c7a012c17716e6df91f",
  "crawledAt" : "2025-12-01T01:04:54Z",
  "declaration" : {
    "code" : "class NSDiffableDataSourceSnapshotReference",
    "language" : "swift"
  },
  "id" : "6AFA38D4-6E09-4770-8576-88BEF6084061",
  "kind" : "class",
  "module" : "UIKit",
  "overview" : "## Overview\n\nDiffable data sources use *snapshots* to provide data for collection views and table views. You use a snapshot to set up the initial state of the data that a view displays, and you use snapshots to reflect changes to the data that the view displays.\n\nThe data in a snapshot is made up of the sections and items you want to display, in the order that you determine. You configure what to display by adding, deleting, or moving the sections and items.\n\nTo display data in a view using a snapshot:\n\nYou can create and configure a snapshot in one of these ways:\n\nFor example, the following code creates an empty snapshot and populates it with a single section with three items. Then, the code applies the snapshot, animating the UI updates between the previous state and the new state.\n\nFor more information, see the diffable data source types:\n\nAvoid using this type in Swift code. Only use this type to bridge from Objective-C code to Swift code by typecasting from a snapshot reference to a snapshot:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\ncrawled: 2025-12-01T01:04:54Z\n---\n\n# NSDiffableDataSourceSnapshotReference\n\n**Class**\n\nA representation of the state of the data in a view at a specific point in time.\n\n## Declaration\n\n```swift\nclass NSDiffableDataSourceSnapshotReference\n```\n\n## Overview\n\nDiffable data sources use *snapshots* to provide data for collection views and table views. You use a snapshot to set up the initial state of the data that a view displays, and you use snapshots to reflect changes to the data that the view displays.\n\nThe data in a snapshot is made up of the sections and items you want to display, in the order that you determine. You configure what to display by adding, deleting, or moving the sections and items.\n\n\n\nTo display data in a view using a snapshot:\n\n1. Create a snapshot and populate it with the state of the data you want to display.\n2. Apply the snapshot to reflect the changes in the UI.\n\nYou can create and configure a snapshot in one of these ways:\n\n- Create an empty snapshot, then append sections and items to it.\n- Get the current snapshot by calling the diffable data sourceâ€™s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/snapshot()] method, then modify that snapshot to reflect the new state of the data that you want to display.\n\nFor example, the following code creates an empty snapshot and populates it with a single section with three items. Then, the code applies the snapshot, animating the UI updates between the previous state and the new state.\n\n```objc\n\/\/ Create a snapshot.\nNSDiffableDataSourceSnapshot<NSNumber *, NSUUID *> *snapshot = [[NSDiffableDataSourceSnapshot alloc] init];\n\n\n\/\/ Populate the snapshot.\n[snapshot appendSectionsWithIdentifiers:@[@0]];\n[snapshot appendItemsWithIdentifiers:@[[NSUUID UUID], [NSUUID UUID], [NSUUID UUID]]];\n\n\n\/\/ Apply the snapshot.\n[self.dataSource applySnapshot:snapshot animatingDifferences:YES];\n```\n\nFor more information, see the diffable data source types:\n\n- [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDiffableDataSourceReference]\n- [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewDiffableDataSourceReference]\n- [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSCollectionViewDiffableDataSource-axww]\n\n\n\nAvoid using this type in Swift code. Only use this type to bridge from Objective-C code to Swift code by typecasting from a snapshot reference to a snapshot:\n\n```swift\nlet snapshot = snapshotReference as NSDiffableDataSourceSnapshot<Int, UUID>\n```\n\n## Creating a snapshot\n\n- **appendSections(withIdentifiers:)**: Adds the sections with the specified identifiers to the snapshot.\n- **appendItems(withIdentifiers:intoSectionWithIdentifier:)**: Adds the items with the specified identifiers to the specified section of the snapshot.\n- **appendItems(withIdentifiers:)**: Adds the items with the specified identifiers to the last section of the snapshot.\n\n## Getting item and section metrics\n\n- **numberOfItems**: The number of items in the snapshot.\n- **numberOfSections**: The number of sections in the snapshot.\n- **numberOfItems(inSection:)**: Returns the number of items in the specified section of the snapshot.\n\n## Identifying items and sections\n\n- **itemIdentifiers**: The identifiers of all of the items in the snapshot.\n- **sectionIdentifiers**: The identifiers of all of the sections in the snapshot.\n- **index(ofItemIdentifier:)**: Returns the index of the item in the snapshot with the specified identifier.\n- **index(ofSectionIdentifier:)**: Returns the index of the section of the snapshot with the specified identifier.\n- **itemIdentifiersInSection(withIdentifier:)**: Returns the identifiers of all of the items in the specified section of the snapshot.\n- **sectionIdentifier(forSectionContainingItemIdentifier:)**: Returns the identifier of the section containing the specified item in the snapshot.\n\n## Inserting items and sections\n\n- **insertItems(withIdentifiers:afterItemWithIdentifier:)**: Inserts the provided items immediately after the item with the specified identifier in the snapshot.\n- **insertItems(withIdentifiers:beforeItemWithIdentifier:)**: Inserts the provided items immediately before the item with the specified identifier in the snapshot.\n- **insertSections(withIdentifiers:afterSectionWithIdentifier:)**: Inserts the provided sections immediately after the section with the specified identifier in the snapshot.\n- **insertSections(withIdentifiers:beforeSectionWithIdentifier:)**: Inserts the provided sections immediately before the section with the specified identifier in the snapshot.\n\n## Removing items and sections\n\n- **deleteAllItems()**: Deletes all of the items from the snapshot.\n- **deleteItems(withIdentifiers:)**: Deletes the items with the specified identifiers from the snapshot.\n- **deleteSections(withIdentifiers:)**: Deletes the sections with the specified identifiers from the snapshot.\n\n## Reordering items and sections\n\n- **moveItem(withIdentifier:afterItemWithIdentifier:)**: Moves the item from its current position in the snapshot to the position immediately after the specified item.\n- **moveItem(withIdentifier:beforeItemWithIdentifier:)**: Moves the item from its current position in the snapshot to the position immediately before the specified item.\n- **moveSection(withIdentifier:afterSectionWithIdentifier:)**: Moves the section from its current position in the snapshot to the position immediately after the specified section.\n- **moveSection(withIdentifier:beforeSectionWithIdentifier:)**: Moves the section from its current position in the snapshot to the position immediately before the specified section.\n\n## Reloading data\n\n- **reconfigureItems(withIdentifiers:)**: Updates the data for the items you specify in the snapshot, preserving the existing cells for the items.\n- **reconfiguredItemIdentifiers**: Identifies the items reconfigured by the changes to the snapshot.\n- **reloadItems(withIdentifiers:)**: Reloads the data within the specified items in the snapshot.\n- **reloadedItemIdentifiers**: Identifies the items reloaded by the changes to the snapshot.\n- **reloadSections(withIdentifiers:)**: Reloads the data within the specified sections of the snapshot.\n- **reloadedSectionIdentifiers**: Identifies the sections reloaded by the changes to the snapshot.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds the sections with the specified identifiers to the snapshot.",
          "name" : "appendSections(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/appendSections(withIdentifiers:)"
        },
        {
          "description" : "Adds the items with the specified identifiers to the specified section of the snapshot.",
          "name" : "appendItems(withIdentifiers:intoSectionWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/appendItems(withIdentifiers:intoSectionWithIdentifier:)"
        },
        {
          "description" : "Adds the items with the specified identifiers to the last section of the snapshot.",
          "name" : "appendItems(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/appendItems(withIdentifiers:)"
        }
      ],
      "title" : "Creating a snapshot"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The number of items in the snapshot.",
          "name" : "numberOfItems",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/numberOfItems"
        },
        {
          "description" : "The number of sections in the snapshot.",
          "name" : "numberOfSections",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/numberOfSections"
        },
        {
          "description" : "Returns the number of items in the specified section of the snapshot.",
          "name" : "numberOfItems(inSection:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/numberOfItems(inSection:)"
        }
      ],
      "title" : "Getting item and section metrics"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The identifiers of all of the items in the snapshot.",
          "name" : "itemIdentifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/itemIdentifiers"
        },
        {
          "description" : "The identifiers of all of the sections in the snapshot.",
          "name" : "sectionIdentifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/sectionIdentifiers"
        },
        {
          "description" : "Returns the index of the item in the snapshot with the specified identifier.",
          "name" : "index(ofItemIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/index(ofItemIdentifier:)"
        },
        {
          "description" : "Returns the index of the section of the snapshot with the specified identifier.",
          "name" : "index(ofSectionIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/index(ofSectionIdentifier:)"
        },
        {
          "description" : "Returns the identifiers of all of the items in the specified section of the snapshot.",
          "name" : "itemIdentifiersInSection(withIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/itemIdentifiersInSection(withIdentifier:)"
        },
        {
          "description" : "Returns the identifier of the section containing the specified item in the snapshot.",
          "name" : "sectionIdentifier(forSectionContainingItemIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/sectionIdentifier(forSectionContainingItemIdentifier:)"
        }
      ],
      "title" : "Identifying items and sections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Inserts the provided items immediately after the item with the specified identifier in the snapshot.",
          "name" : "insertItems(withIdentifiers:afterItemWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/insertItems(withIdentifiers:afterItemWithIdentifier:)"
        },
        {
          "description" : "Inserts the provided items immediately before the item with the specified identifier in the snapshot.",
          "name" : "insertItems(withIdentifiers:beforeItemWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/insertItems(withIdentifiers:beforeItemWithIdentifier:)"
        },
        {
          "description" : "Inserts the provided sections immediately after the section with the specified identifier in the snapshot.",
          "name" : "insertSections(withIdentifiers:afterSectionWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/insertSections(withIdentifiers:afterSectionWithIdentifier:)"
        },
        {
          "description" : "Inserts the provided sections immediately before the section with the specified identifier in the snapshot.",
          "name" : "insertSections(withIdentifiers:beforeSectionWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/insertSections(withIdentifiers:beforeSectionWithIdentifier:)"
        }
      ],
      "title" : "Inserting items and sections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Deletes all of the items from the snapshot.",
          "name" : "deleteAllItems()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/deleteAllItems()"
        },
        {
          "description" : "Deletes the items with the specified identifiers from the snapshot.",
          "name" : "deleteItems(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/deleteItems(withIdentifiers:)"
        },
        {
          "description" : "Deletes the sections with the specified identifiers from the snapshot.",
          "name" : "deleteSections(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/deleteSections(withIdentifiers:)"
        }
      ],
      "title" : "Removing items and sections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Moves the item from its current position in the snapshot to the position immediately after the specified item.",
          "name" : "moveItem(withIdentifier:afterItemWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/moveItem(withIdentifier:afterItemWithIdentifier:)"
        },
        {
          "description" : "Moves the item from its current position in the snapshot to the position immediately before the specified item.",
          "name" : "moveItem(withIdentifier:beforeItemWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/moveItem(withIdentifier:beforeItemWithIdentifier:)"
        },
        {
          "description" : "Moves the section from its current position in the snapshot to the position immediately after the specified section.",
          "name" : "moveSection(withIdentifier:afterSectionWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/moveSection(withIdentifier:afterSectionWithIdentifier:)"
        },
        {
          "description" : "Moves the section from its current position in the snapshot to the position immediately before the specified section.",
          "name" : "moveSection(withIdentifier:beforeSectionWithIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/moveSection(withIdentifier:beforeSectionWithIdentifier:)"
        }
      ],
      "title" : "Reordering items and sections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the data for the items you specify in the snapshot, preserving the existing cells for the items.",
          "name" : "reconfigureItems(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reconfigureItems(withIdentifiers:)"
        },
        {
          "description" : "Identifies the items reconfigured by the changes to the snapshot.",
          "name" : "reconfiguredItemIdentifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reconfiguredItemIdentifiers"
        },
        {
          "description" : "Reloads the data within the specified items in the snapshot.",
          "name" : "reloadItems(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reloadItems(withIdentifiers:)"
        },
        {
          "description" : "Identifies the items reloaded by the changes to the snapshot.",
          "name" : "reloadedItemIdentifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reloadedItemIdentifiers"
        },
        {
          "description" : "Reloads the data within the specified sections of the snapshot.",
          "name" : "reloadSections(withIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reloadSections(withIdentifiers:)"
        },
        {
          "description" : "Identifies the sections reloaded by the changes to the snapshot.",
          "name" : "reloadedSectionIdentifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference\/reloadedSectionIdentifiers"
        }
      ],
      "title" : "Reloading data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSDiffableDataSourceSnapshotReference",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshotReference"
}