{
  "abstract" : "Create a user interface with searchable content in a table view.",
  "codeExamples" : [
    {
      "code" : "override func viewDidLoad() {\n    super.viewDidLoad()\n\n    let nib = UINib(nibName: \"TableCell\", bundle: nil)\n    tableView.register(nib, forCellReuseIdentifier: tableViewCellIdentifier)\n    \n    resultsTableController =\n        self.storyboard?.instantiateViewController(withIdentifier: \"ResultsTableController\") as? ResultsTableController\n    \/\/ This view controller is interested in table view row selections.\n    resultsTableController.tableView.delegate = self\n    \n    searchController = UISearchController(searchResultsController: resultsTableController)\n    searchController.delegate = self\n    searchController.searchResultsUpdater = self\n    searchController.searchBar.autocapitalizationType = .none\n    searchController.searchBar.delegate = self \/\/ Monitor when the search button is tapped.\n    \n    searchController.searchBar.scopeButtonTitles = [Product.productTypeName(forType: .all),\n                                                    Product.productTypeName(forType: .birthdays),\n                                                    Product.productTypeName(forType: .weddings),\n                                                    Product.productTypeName(forType: .funerals)]\n\n    \/\/ Place the search bar in the navigation bar.\n    navigationItem.searchController = searchController\n    \n    \/\/ Make the search bar always visible.\n    navigationItem.hidesSearchBarWhenScrolling = false\n    \n    \/** Search presents a view controller by applying normal view controller presentation semantics.\n        This means that the presentation moves up the view controller hierarchy until it finds the root\n        view controller or one that defines a presentation context.\n    *\/\n    \n    \/** Specify that this view controller determines how the search controller is presented.\n        The search controller should be presented modally and match the physical size of this view controller.\n    *\/\n    definesPresentationContext = true\n    \n    setupDataSource()\n}",
      "language" : "swift"
    },
    {
      "code" : "func updateSearchResults(for searchController: UISearchController) {\n       \/\/ Update the filtered array based on the search text.\n       let searchResults = products\n\n       \/\/ Strip out all the leading and trailing spaces.\n       let whitespaceCharacterSet = CharacterSet.whitespaces\n       let strippedString =\n           searchController.searchBar.text!.trimmingCharacters(in: whitespaceCharacterSet)\n       let searchItems = strippedString.components(separatedBy: \" \") as [String]\n\n       \/\/ Build all the \"AND\" expressions for each value in searchString.\n       let andMatchPredicates: [NSPredicate] = searchItems.map { searchString in\n           findMatches(searchString: searchString)\n       }\n\n       \/\/ Match up the fields of the Product object.\n       let finalCompoundPredicate =\n           NSCompoundPredicate(andPredicateWithSubpredicates: andMatchPredicates)\n\n       let filteredResults = searchResults.filter { finalCompoundPredicate.evaluate(with: $0) }\n\n       \/\/ Apply the filtered results to the search results table.\n       if let resultsController = searchController.searchResultsController as? ResultsTableController {\n           resultsController.filteredProducts = filteredResults\n           resultsController.tableView.reloadData()\n\n           resultsController.resultsLabel.text = resultsController.filteredProducts.isEmpty ?\n               NSLocalizedString(\"NoItemsFoundTitle\", comment: \"\") :\n               String(format: NSLocalizedString(\"Items found: %ld\", comment: \"\"),\n                      resultsController.filteredProducts.count)\n       }\n   }",
      "language" : "swift"
    }
  ],
  "contentHash" : "7db93a83829a9bafb383b2f9bed551d8edbf4ad2d6150684e1f40863c150a1ec",
  "crawledAt" : "2025-12-02T15:52:17Z",
  "id" : "44841FD1-6CCE-4175-9942-57AA17827EDD",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThis sample demonstrates how to create a table view controller and search controller to manage the display of searchable content. It creates another custom table view controller to display the search results. This table view controller also acts as the presenter or provides context for the search results so they’re presented within their own context.\n\nThis sample includes the optional—but recommended—[doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIStateRestoring] protocol. You adopt this protocol from the view controller class to save the search bar’s active state, first responder status, and search bar text and restore them when the app is relaunched.\n\n### Create a search controller\n\nUse `MainTableViewController`, a subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewController], to create a search controller. The search controller searches and filters a set of `Product` objects and displays them in a table called `ResultsTableController`. This table controller is displayed as the user enters a search string and is dismissed when the search is complete.\n\n### Update the search results\n\nThis sample uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISearchResultsUpdating] protocol, along with [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSComparisonPredicate], to filter search results from the group of available products. `NSComparisonPredicate` is a foundation class that specifies how data should be fetched or filtered using search criteria. The search criteria are based on what the user types in the search bar, which can be a combination of product title, year introduced, and price.\n\nTo prepare for a search, the search bar content is trimmed of all leading and trailing space characters. Then the search string is passed to the `findMatches` function, which returns the `NSComparisonPredicate` used in the search. The product list results are applied to the search results table as a filtered list.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/displaying-searchable-content-by-using-a-search-controller\ncrawled: 2025-12-02T15:52:17Z\n---\n\n# Displaying searchable content by using a search controller\n\n**Sample Code**\n\nCreate a user interface with searchable content in a table view.\n\n## Overview\n\nThis sample demonstrates how to create a table view controller and search controller to manage the display of searchable content. It creates another custom table view controller to display the search results. This table view controller also acts as the presenter or provides context for the search results so they’re presented within their own context.\n\nThis sample includes the optional—but recommended—[doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIStateRestoring] protocol. You adopt this protocol from the view controller class to save the search bar’s active state, first responder status, and search bar text and restore them when the app is relaunched.\n\n### Create a search controller\n\nUse `MainTableViewController`, a subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITableViewController], to create a search controller. The search controller searches and filters a set of `Product` objects and displays them in a table called `ResultsTableController`. This table controller is displayed as the user enters a search string and is dismissed when the search is complete.\n\n```swift\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    let nib = UINib(nibName: \"TableCell\", bundle: nil)\n    tableView.register(nib, forCellReuseIdentifier: tableViewCellIdentifier)\n    \n    resultsTableController =\n        self.storyboard?.instantiateViewController(withIdentifier: \"ResultsTableController\") as? ResultsTableController\n    \/\/ This view controller is interested in table view row selections.\n    resultsTableController.tableView.delegate = self\n    \n    searchController = UISearchController(searchResultsController: resultsTableController)\n    searchController.delegate = self\n    searchController.searchResultsUpdater = self\n    searchController.searchBar.autocapitalizationType = .none\n    searchController.searchBar.delegate = self \/\/ Monitor when the search button is tapped.\n    \n    searchController.searchBar.scopeButtonTitles = [Product.productTypeName(forType: .all),\n                                                    Product.productTypeName(forType: .birthdays),\n                                                    Product.productTypeName(forType: .weddings),\n                                                    Product.productTypeName(forType: .funerals)]\n\n    \/\/ Place the search bar in the navigation bar.\n    navigationItem.searchController = searchController\n    \n    \/\/ Make the search bar always visible.\n    navigationItem.hidesSearchBarWhenScrolling = false\n    \n    \/** Search presents a view controller by applying normal view controller presentation semantics.\n        This means that the presentation moves up the view controller hierarchy until it finds the root\n        view controller or one that defines a presentation context.\n    *\/\n    \n    \/** Specify that this view controller determines how the search controller is presented.\n        The search controller should be presented modally and match the physical size of this view controller.\n    *\/\n    definesPresentationContext = true\n    \n    setupDataSource()\n}\n```\n\n### Update the search results\n\nThis sample uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISearchResultsUpdating] protocol, along with [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSComparisonPredicate], to filter search results from the group of available products. `NSComparisonPredicate` is a foundation class that specifies how data should be fetched or filtered using search criteria. The search criteria are based on what the user types in the search bar, which can be a combination of product title, year introduced, and price.\n\nTo prepare for a search, the search bar content is trimmed of all leading and trailing space characters. Then the search string is passed to the `findMatches` function, which returns the `NSComparisonPredicate` used in the search. The product list results are applied to the search results table as a filtered list.\n\n```swift\nfunc updateSearchResults(for searchController: UISearchController) {\n       \/\/ Update the filtered array based on the search text.\n       let searchResults = products\n\n       \/\/ Strip out all the leading and trailing spaces.\n       let whitespaceCharacterSet = CharacterSet.whitespaces\n       let strippedString =\n           searchController.searchBar.text!.trimmingCharacters(in: whitespaceCharacterSet)\n       let searchItems = strippedString.components(separatedBy: \" \") as [String]\n\n       \/\/ Build all the \"AND\" expressions for each value in searchString.\n       let andMatchPredicates: [NSPredicate] = searchItems.map { searchString in\n           findMatches(searchString: searchString)\n       }\n\n       \/\/ Match up the fields of the Product object.\n       let finalCompoundPredicate =\n           NSCompoundPredicate(andPredicateWithSubpredicates: andMatchPredicates)\n\n       let filteredResults = searchResults.filter { finalCompoundPredicate.evaluate(with: $0) }\n\n       \/\/ Apply the filtered results to the search results table.\n       if let resultsController = searchController.searchResultsController as? ResultsTableController {\n           resultsController.filteredProducts = filteredResults\n           resultsController.tableView.reloadData()\n\n           resultsController.resultsLabel.text = resultsController.filteredProducts.isEmpty ?\n               NSLocalizedString(\"NoItemsFoundTitle\", comment: \"\") :\n               String(format: NSLocalizedString(\"Items found: %ld\", comment: \"\"),\n                      resultsController.filteredProducts.count)\n       }\n   }\n```\n\n## Search interface\n\n- **UISearchContainerViewController**: A view controller that manages the presentation of search results in your interface.\n- **UISearchController**: A view controller that manages the display of search results based on interactions with a search bar.\n- **UISearchBar**: A specialized view for receiving search-related information from the user.\n- **UISearchResultsUpdating**: A set of methods that let you update search results based on information the user enters into the search bar.\n- **Using suggested searches with a search controller**: Create a search interface with a table view of suggested searches.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A view controller that manages the presentation of search results in your interface.",
          "name" : "UISearchContainerViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISearchContainerViewController"
        },
        {
          "description" : "A view controller that manages the display of search results based on interactions with a search bar.",
          "name" : "UISearchController",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISearchController"
        },
        {
          "description" : "A specialized view for receiving search-related information from the user.",
          "name" : "UISearchBar",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISearchBar"
        },
        {
          "description" : "A set of methods that let you update search results based on information the user enters into the search bar.",
          "name" : "UISearchResultsUpdating",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISearchResultsUpdating"
        },
        {
          "description" : "Create a search interface with a table view of suggested searches.",
          "name" : "Using suggested searches with a search controller",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/using-suggested-searches-with-a-search-controller"
        }
      ],
      "title" : "Search interface"
    }
  ],
  "source" : "appleJSON",
  "title" : "Displaying searchable content by using a search controller",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/displaying-searchable-content-by-using-a-search-controller"
}