{
  "abstract" : "Enhance your iPad app by adding desktop-class features and document support.",
  "codeExamples" : [
    {
      "code" : "\/\/ Set a `customizationIdentifier` and add center item groups.\nnavigationItem.customizationIdentifier = \"editorViewCustomization\"",
      "language" : "swift"
    },
    {
      "code" : "UIBarButtonItem(primaryAction: UIAction(title: \"Sync Scrolling\", image: syncScrollingImage) { [unowned self] action in\n    syncScrolling.toggle()\n    if let barButtonItem = action.sender as? UIBarButtonItem {\n        barButtonItem.image = syncScrollingImage\n    }\n}).creatingFixedGroup(),",
      "language" : "swift"
    },
    {
      "code" : "UIBarButtonItem(primaryAction: UIAction(title: \"Strikethrough\", image: UIImage(systemName: \"strikethrough\")) { [unowned self] _ in\n    insertTag(.strikethrough)\n}).creatingOptionalGroup(customizationIdentifier: \"strikethrough\", isInDefaultCustomization: false),",
      "language" : "swift"
    },
    {
      "code" : "navigationItem.titleMenuProvider = { suggested in\n    let custom = [\n        UIMenu(title: \"Export…\", image: UIImage(systemName: \"arrow.up.forward.square\"), children: [\n            UIAction(title: \"HTML\", image: UIImage(systemName: \"safari\")) { [unowned self] _ in\n                previewView.exportAsWebArchive(named: document.localizedName, presenter: self)\n            },\n            UIAction(title: \"PDF\", image: UIImage(systemName: \"doc.richtext\")) { [unowned self] _ in\n                previewView.exportAsPDF(named: document.localizedName, presenter: self)\n            }\n        ])\n    ]\n    return UIMenu(children: suggested + custom)\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Enable Find and Replace in editor text view and register as its\n\/\/ delegate.\neditorTextView.isFindInteractionEnabled = true",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Enable multiple selection.\ncollectionView.allowsMultipleSelection = true\n\n\/\/ Enable keyboard focus.\ncollectionView.allowsFocus = true\n\n\/\/ Allow keyboard focus to drive selection.\ncollectionView.selectionFollowsFocus = true",
      "language" : "swift"
    },
    {
      "code" : "if indexPaths.count > 1 {\n    \/\/ Action titles for a multiple-item menu.\n    hideTitle = \"Hide Selected\"\n    deleteTitle = \"Delete Selected\"\n} else {\n    \/\/ Action titles for a single-item menu.\n    hideTitle = \"Hide\"\n    deleteTitle = \"Delete\"\n}",
      "language" : "swift"
    },
    {
      "code" : "func collectionView(_ collectionView: UICollectionView, performPrimaryActionForItemAt indexPath: IndexPath) {\n    \/\/ Get the element at the `indexPath`.\n    if let element = dataSource.itemIdentifier(for: indexPath) {\n        delegate?.outline(self, didChoose: element)\n    }\n\n    \/\/ Wait a short amount of time before deselecting the cell for visual clarity.\n    DispatchQueue.main.asyncAfter(deadline: .now() + 0.2) {\n        collectionView.deselectItem(at: indexPath, animated: true)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "ceef74932a75ecd2dc05a0ff0dc542c339239626f525973c7872f240393fbfc4",
  "crawledAt" : "2025-12-02T15:34:18Z",
  "id" : "B589DCCD-930C-406B-8E92-8E4C0B5FC293",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nThis sample project shows how to build an app that takes full advantage of the iPad’s desktop-class features like hardware keyboard and trackpad support, Stage Manager, and rich document-editing capabilities. The app is a markup document editor that allows creating, editing, previewing, and saving documents, including features like a title menu with custom actions, document renaming, Find and Replace, and more.\n\n### Choose the appropriate navigation style\n\nBecause the app allows focused viewing and editing of individual documents, it uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/ItemStyle\/editor] navigation style. This navigation style moves the navigation item’s title to the leading edge and opens up space in the center of the bar for common document actions. To choose the navigation style, the editor view controller assigns the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/style] property.\n\n### Add center items for quick access to common actions\n\nCenter item groups are groups of controls that appear in the navigation bar to provide quick access to the app’s most important capabilities. A person can customize the navigation bar’s center items by moving, removing, or adding certain groups. To enable user customization, the app assigns a string to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/customizationIdentifier] property.\n\nThe editor view controller configures center items and assigns them to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/centerItemGroups] property in `configureCenterItemGroups()`. The editor view controller creates one fixed group that people can’t move or remove from the navigation bar for the Sync Scrolling item using [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarButtonItem\/creatingFixedGroup()].\n\nOther center item groups are optional, which means people can customize their placement in the navigation bar. Optional groups that have `isInDefaultCustomization` set to `false` don’t appear in the navigation bar by default. They appear in the customization popover that a person can access by choosing the customization option in the overflow menu.\n\n### Add a title menu with system and custom actions\n\nA title menu appears when a person taps the navigation item’s title. This menu can surface actions that are relevant to the current document. To configure a title menu, the editor view controller assigns a closure to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/titleMenuProvider] property.\n\nThe closure returns a menu that combines the suggested system actions and custom actions. The first set of actions in the menu are the `suggested` actions that the system passes in to the closure, including Move and Duplicate. The next set of actions are the `custom` actions that the app defines: exporting the document to HTML and PDF.\n\n### Configure a document header\n\nA document header displays helpful information about the current document, such as its title, file type, and size. It also provides a place from which to share or drag and drop the document. To display a document header at the top of the title menu, the editor view controller assigns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIDocumentProperties] object to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/documentProperties] property.\n\n### Enable the system Find and Replace experience\n\nThe editor view supports editing the content of the document. Because the editor view is a subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextView], enabling the system Find and Replace experience takes one line of code.\n\nSetting the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextView\/isFindInteractionEnabled] property enables using standard keyboard shortcuts to find text in a document and quickly replace it using the system-provided Find panel.\n\n### Enhance multiple-item selection\n\nThe outline view is a collection view that serves as a table of contents for the document, allowing for quick navigation or taking actions on the top-level tags in the document. This view supports an enhanced multiple-selection experience when a person interacts with the app using a keyboard and pointer. The outline view enables lightweight multiple selection of the tags without placing the collection view into editing mode by setting [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/allowsMultipleSelection], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/allowsFocus], and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/selectionFollowsFocus] to `true`.\n\nA person can use the keyboard and pointer to select tags, and perform a secondary click to open a context menu with relevant actions. The outline view presents a specialized context menu according to the number of tags in the selection by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:contextMenuConfigurationForItemsAt:point:)] to return different configurations when the selection contains one or many tags.\n\n### Perform a primary action when tapping a single item\n\nIn addition to performing a secondary click on a tag in the outline view, a person can tap a single tag to scroll to its corresponding location in the editor view. To distinguish the explicit user action of tapping one tag to navigate to that location in the document from selecting multiple tags, the outline view implements [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:performPrimaryActionForItemAt:)]. The system calls this method when a person taps a single tag without extending a multiple selection of tags.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/supporting-desktop-class-features-in-your-ipad-app\ncrawled: 2025-12-02T15:34:18Z\n---\n\n# Supporting desktop-class features in your iPad app\n\n**Sample Code**\n\nEnhance your iPad app by adding desktop-class features and document support.\n\n## Overview\n\nThis sample project shows how to build an app that takes full advantage of the iPad’s desktop-class features like hardware keyboard and trackpad support, Stage Manager, and rich document-editing capabilities. The app is a markup document editor that allows creating, editing, previewing, and saving documents, including features like a title menu with custom actions, document renaming, Find and Replace, and more.\n\n\n\n### Choose the appropriate navigation style\n\nBecause the app allows focused viewing and editing of individual documents, it uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/ItemStyle\/editor] navigation style. This navigation style moves the navigation item’s title to the leading edge and opens up space in the center of the bar for common document actions. To choose the navigation style, the editor view controller assigns the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/style] property.\n\n### Add center items for quick access to common actions\n\nCenter item groups are groups of controls that appear in the navigation bar to provide quick access to the app’s most important capabilities. A person can customize the navigation bar’s center items by moving, removing, or adding certain groups. To enable user customization, the app assigns a string to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/customizationIdentifier] property.\n\n```swift\n\/\/ Set a `customizationIdentifier` and add center item groups.\nnavigationItem.customizationIdentifier = \"editorViewCustomization\"\n```\n\nThe editor view controller configures center items and assigns them to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/centerItemGroups] property in `configureCenterItemGroups()`. The editor view controller creates one fixed group that people can’t move or remove from the navigation bar for the Sync Scrolling item using [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarButtonItem\/creatingFixedGroup()].\n\n```swift\nUIBarButtonItem(primaryAction: UIAction(title: \"Sync Scrolling\", image: syncScrollingImage) { [unowned self] action in\n    syncScrolling.toggle()\n    if let barButtonItem = action.sender as? UIBarButtonItem {\n        barButtonItem.image = syncScrollingImage\n    }\n}).creatingFixedGroup(),\n```\n\nOther center item groups are optional, which means people can customize their placement in the navigation bar. Optional groups that have `isInDefaultCustomization` set to `false` don’t appear in the navigation bar by default. They appear in the customization popover that a person can access by choosing the customization option in the overflow menu.\n\n```swift\nUIBarButtonItem(primaryAction: UIAction(title: \"Strikethrough\", image: UIImage(systemName: \"strikethrough\")) { [unowned self] _ in\n    insertTag(.strikethrough)\n}).creatingOptionalGroup(customizationIdentifier: \"strikethrough\", isInDefaultCustomization: false),\n```\n\n### Add a title menu with system and custom actions\n\nA title menu appears when a person taps the navigation item’s title. This menu can surface actions that are relevant to the current document. To configure a title menu, the editor view controller assigns a closure to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/titleMenuProvider] property.\n\n```swift\nnavigationItem.titleMenuProvider = { suggested in\n    let custom = [\n        UIMenu(title: \"Export…\", image: UIImage(systemName: \"arrow.up.forward.square\"), children: [\n            UIAction(title: \"HTML\", image: UIImage(systemName: \"safari\")) { [unowned self] _ in\n                previewView.exportAsWebArchive(named: document.localizedName, presenter: self)\n            },\n            UIAction(title: \"PDF\", image: UIImage(systemName: \"doc.richtext\")) { [unowned self] _ in\n                previewView.exportAsPDF(named: document.localizedName, presenter: self)\n            }\n        ])\n    ]\n    return UIMenu(children: suggested + custom)\n}\n```\n\nThe closure returns a menu that combines the suggested system actions and custom actions. The first set of actions in the menu are the `suggested` actions that the system passes in to the closure, including Move and Duplicate. The next set of actions are the `custom` actions that the app defines: exporting the document to HTML and PDF.\n\n### Configure a document header\n\nA document header displays helpful information about the current document, such as its title, file type, and size. It also provides a place from which to share or drag and drop the document. To display a document header at the top of the title menu, the editor view controller assigns a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIDocumentProperties] object to the navigation item’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UINavigationItem\/documentProperties] property.\n\n### Enable the system Find and Replace experience\n\nThe editor view supports editing the content of the document. Because the editor view is a subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextView], enabling the system Find and Replace experience takes one line of code.\n\n```swift\n\/\/ Enable Find and Replace in editor text view and register as its\n\/\/ delegate.\neditorTextView.isFindInteractionEnabled = true\n```\n\nSetting the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITextView\/isFindInteractionEnabled] property enables using standard keyboard shortcuts to find text in a document and quickly replace it using the system-provided Find panel.\n\n### Enhance multiple-item selection\n\nThe outline view is a collection view that serves as a table of contents for the document, allowing for quick navigation or taking actions on the top-level tags in the document. This view supports an enhanced multiple-selection experience when a person interacts with the app using a keyboard and pointer. The outline view enables lightweight multiple selection of the tags without placing the collection view into editing mode by setting [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/allowsMultipleSelection], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/allowsFocus], and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionView\/selectionFollowsFocus] to `true`.\n\n```swift\n\/\/ Enable multiple selection.\ncollectionView.allowsMultipleSelection = true\n\n\/\/ Enable keyboard focus.\ncollectionView.allowsFocus = true\n\n\/\/ Allow keyboard focus to drive selection.\ncollectionView.selectionFollowsFocus = true\n```\n\nA person can use the keyboard and pointer to select tags, and perform a secondary click to open a context menu with relevant actions. The outline view presents a specialized context menu according to the number of tags in the selection by implementing [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:contextMenuConfigurationForItemsAt:point:)] to return different configurations when the selection contains one or many tags.\n\n```swift\nif indexPaths.count > 1 {\n    \/\/ Action titles for a multiple-item menu.\n    hideTitle = \"Hide Selected\"\n    deleteTitle = \"Delete Selected\"\n} else {\n    \/\/ Action titles for a single-item menu.\n    hideTitle = \"Hide\"\n    deleteTitle = \"Delete\"\n}\n```\n\n### Perform a primary action when tapping a single item\n\nIn addition to performing a secondary click on a tag in the outline view, a person can tap a single tag to scroll to its corresponding location in the editor view. To distinguish the explicit user action of tapping one tag to navigate to that location in the document from selecting multiple tags, the outline view implements [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDelegate\/collectionView(_:performPrimaryActionForItemAt:)]. The system calls this method when a person taps a single tag without extending a multiple selection of tags.\n\n```swift\nfunc collectionView(_ collectionView: UICollectionView, performPrimaryActionForItemAt indexPath: IndexPath) {\n    \/\/ Get the element at the `indexPath`.\n    if let element = dataSource.itemIdentifier(for: indexPath) {\n        delegate?.outline(self, didChoose: element)\n    }\n\n    \/\/ Wait a short amount of time before deselecting the cell for visual clarity.\n    DispatchQueue.main.asyncAfter(deadline: .now() + 0.2) {\n        collectionView.deselectItem(at: indexPath, animated: true)\n    }\n}\n```\n\n## iPad, Mac, and Apple Vision Pro\n\n- **Building a desktop-class iPad app**: Optimize your iPad app’s user experience by adopting desktop-class enhancements for multitasking with Stage Manager, document interactions, text editing, search, and more.\n- **Elevating your iPad app with a tab bar and sidebar**: Provide a compact, ergonomic tab bar for quick access to key parts of your app, and a sidebar for in-depth navigation.\n- **Multitasking on iPad, Mac, and Apple Vision Pro**: Implement multitasking APIs to seamlessly integrate your app with iPadOS, macOS, and visionOS.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Optimize your iPad app’s user experience by adopting desktop-class enhancements for multitasking with Stage Manager, document interactions, text editing, search, and more.",
          "name" : "Building a desktop-class iPad app",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/building-a-desktop-class-ipad-app"
        },
        {
          "description" : "Provide a compact, ergonomic tab bar for quick access to key parts of your app, and a sidebar for in-depth navigation.",
          "name" : "Elevating your iPad app with a tab bar and sidebar",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/elevating-your-ipad-app-with-a-tab-bar-and-sidebar"
        },
        {
          "description" : "Implement multitasking APIs to seamlessly integrate your app with iPadOS, macOS, and visionOS.",
          "name" : "Multitasking on iPad, Mac, and Apple Vision Pro",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/multitasking-on-ipad-mac-and-apple-vision-pro"
        }
      ],
      "title" : "iPad, Mac, and Apple Vision Pro"
    }
  ],
  "source" : "appleJSON",
  "title" : "Supporting desktop-class features in your iPad app",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/supporting-desktop-class-features-in-your-ipad-app"
}