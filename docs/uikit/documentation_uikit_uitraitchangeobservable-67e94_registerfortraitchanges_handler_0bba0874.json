{
  "abstract" : "Registers a list of traits to observe and a closure to execute when one of the observed traits changes.",
  "codeExamples" : [
    {
      "code" : "let sizeTraits: [UITrait] = [UITraitVerticalSizeClass.self, UITraitHorizontalSizeClass.self]\n\n\/\/ Register for size class changes on self. Declare the first paramteter as `self: Self`.\n\/\/ Declaring self as the first parameter eliminates the need to capture self from outside the closure, and avoids strong reference cycles.\nregisterForTraitChanges(sizeTraits) { (self: Self, previousTraitCollection: UITraitCollection) in\n    \/\/ Handle the trait change.\n}\n\n\/\/ Register for size class changes on a different view of class MyView.\nview.registerForTraitChanges(sizeTraits) { (view: MyView, previousTraitCollection: UITraitCollection) in\n    \/\/ Handle the trait change.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "221e0d73bd6884a93a022c1a785dc868f43b93673c47fa3e7ae728ddb0da58dd",
  "crawledAt" : "2025-12-03T09:48:04Z",
  "declaration" : {
    "code" : "@discardableResult @MainActor func registerForTraitChanges<TraitEnvironment>(_ traits: [UITrait], handler: @escaping Self.TraitChangeHandler<TraitEnvironment>) -> any UITraitChangeRegistration where TraitEnvironment : UITraitEnvironment",
    "language" : "swift"
  },
  "id" : "69F10172-32D2-4836-B17E-3EAC1AC4875E",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Return Value\n\nAn opaque token you can use to stop observing trait changes by passing to [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITraitChangeObservable-67e94\/unregisterForTraitChanges(_:)]. You don’t have to unregister your observations, and you can safely ignore this value.\n\n## Discussion\n\nThe first parameter of the closure provides access to the observed object whose traits have changed, so you don’t need to create a weak reference. When registering for changes on self, use `self` as the name and `Self` as the type of the first parameter.\n\nThe following example registers size class traits so that the system executes the closure when a size class trait changes in the view’s trait collection:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/registerForTraitChanges(_:handler:)\ncrawled: 2025-12-03T09:48:04Z\n---\n\n# registerForTraitChanges(_:handler:)\n\n**Instance Method**\n\nRegisters a list of traits to observe and a closure to execute when one of the observed traits changes.\n\n## Declaration\n\n```swift\n@discardableResult @MainActor func registerForTraitChanges<TraitEnvironment>(_ traits: [UITrait], handler: @escaping Self.TraitChangeHandler<TraitEnvironment>) -> any UITraitChangeRegistration where TraitEnvironment : UITraitEnvironment\n```\n\n## Parameters\n\n- **traits**: An array of traits to observe for changes.\n- **handler**: A closure that the system executes when one of the registered traits changes.\n\n## Return Value\n\nAn opaque token you can use to stop observing trait changes by passing to [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITraitChangeObservable-67e94\/unregisterForTraitChanges(_:)]. You don’t have to unregister your observations, and you can safely ignore this value.\n\n## Discussion\n\nThe first parameter of the closure provides access to the observed object whose traits have changed, so you don’t need to create a weak reference. When registering for changes on self, use `self` as the name and `Self` as the type of the first parameter.\n\nThe following example registers size class traits so that the system executes the closure when a size class trait changes in the view’s trait collection:\n\n```swift\nlet sizeTraits: [UITrait] = [UITraitVerticalSizeClass.self, UITraitHorizontalSizeClass.self]\n\n\/\/ Register for size class changes on self. Declare the first paramteter as `self: Self`.\n\/\/ Declaring self as the first parameter eliminates the need to capture self from outside the closure, and avoids strong reference cycles.\nregisterForTraitChanges(sizeTraits) { (self: Self, previousTraitCollection: UITraitCollection) in\n    \/\/ Handle the trait change.\n}\n\n\/\/ Register for size class changes on a different view of class MyView.\nview.registerForTraitChanges(sizeTraits) { (view: MyView, previousTraitCollection: UITraitCollection) in\n    \/\/ Handle the trait change.\n}\n```\n\n## Observing trait changes\n\n- **registerForTraitChanges(_:action:)**: Registers a list of traits to observe, and calls a method on the receiving object when one of the observed traits changes.\n- **registerForTraitChanges(_:target:action:)**: Registers a list of traits to observe, and calls a method on the specified target object when one of the observed traits changes.\n- **unregisterForTraitChanges(_:)**: Tells the system to stop observing previously registered traits.\n- **UITraitChangeObservable.TraitChangeHandler**: A closure the system executes when observed traits change.\n- **UITraitChangeRegistration**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers a list of traits to observe, and calls a method on the receiving object when one of the observed traits changes.",
          "name" : "registerForTraitChanges(_:action:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/registerForTraitChanges(_:action:)"
        },
        {
          "description" : "Registers a list of traits to observe, and calls a method on the specified target object when one of the observed traits changes.",
          "name" : "registerForTraitChanges(_:target:action:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/registerForTraitChanges(_:target:action:)"
        },
        {
          "description" : "Tells the system to stop observing previously registered traits.",
          "name" : "unregisterForTraitChanges(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/unregisterForTraitChanges(_:)"
        },
        {
          "description" : "A closure the system executes when observed traits change.",
          "name" : "UITraitChangeObservable.TraitChangeHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/TraitChangeHandler"
        },
        {
          "description" : "",
          "name" : "UITraitChangeRegistration",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeRegistration"
        }
      ],
      "title" : "Observing trait changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "registerForTraitChanges(_:handler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94\/registerForTraitChanges(_:handler:)"
}