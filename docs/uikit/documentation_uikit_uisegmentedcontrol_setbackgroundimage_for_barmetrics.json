{
  "abstract" : "Sets the background image for given state and bar metrics.",
  "codeExamples" : [

  ],
  "contentHash" : "01f565ed25cfa08dcccc3cb25cc5a4654510997acac34d2a0727cfd561b09e2a",
  "crawledAt" : "2025-12-01T23:29:02Z",
  "declaration" : {
    "code" : "@MainActor func setBackgroundImage(_ backgroundImage: UIImage?, for state: UIControl.State, barMetrics: UIBarMetrics)",
    "language" : "swift"
  },
  "id" : "F59A623C-D547-445C-A6E9-FBD9640037FD",
  "kind" : "method",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nIf `backgroundImage` is an image that [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIImage\/resizableImage(withCapInsets:)] returns, the system calculates the cap widths from that information.\n\nIf `backgroundImage` isn’t an image that [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIImage\/resizableImage(withCapInsets:)] returns, the system calculates the cap width by subtracting one from the image’s width, then dividing by 2. The system uses the cap widths as the margins for text placement. To adjust the margin, use the margin adjustment methods.\n\nGenerally, specify a value for the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIControl\/State-swift.struct\/normal] state. The segmented control uses this state for other states that don’t have a custom value set.\n\nSimilarly, when a property is dependent on the bar metrics, be sure to specify a value for [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarMetrics\/default]. The segmented control respects properties for [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarMetrics\/compact] only when the control is in smaller navigation and toolbars.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/setBackgroundImage(_:for:barMetrics:)\ncrawled: 2025-12-01T23:29:02Z\n---\n\n# setBackgroundImage(_:for:barMetrics:)\n\n**Instance Method**\n\nSets the background image for given state and bar metrics.\n\n## Declaration\n\n```swift\n@MainActor func setBackgroundImage(_ backgroundImage: UIImage?, for state: UIControl.State, barMetrics: UIBarMetrics)\n```\n\n## Parameters\n\n- **backgroundImage**: The background image to use for `state` and `barMetrics`.\n- **state**: A control state.\n- **barMetrics**: Bar metrics.\n\n## Discussion\n\nIf `backgroundImage` is an image that [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIImage\/resizableImage(withCapInsets:)] returns, the system calculates the cap widths from that information.\n\nIf `backgroundImage` isn’t an image that [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIImage\/resizableImage(withCapInsets:)] returns, the system calculates the cap width by subtracting one from the image’s width, then dividing by 2. The system uses the cap widths as the margins for text placement. To adjust the margin, use the margin adjustment methods.\n\nGenerally, specify a value for the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIControl\/State-swift.struct\/normal] state. The segmented control uses this state for other states that don’t have a custom value set.\n\nSimilarly, when a property is dependent on the bar metrics, be sure to specify a value for [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarMetrics\/default]. The segmented control respects properties for [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIBarMetrics\/compact] only when the control is in smaller navigation and toolbars.\n\n## Customizing appearance\n\n- **selectedSegmentTintColor**: The color to use for highlighting the currently selected segment.\n- **backgroundImage(for:barMetrics:)**: Returns the background image for a given state and bar metrics.\n- **contentPositionAdjustment(forSegmentType:barMetrics:)**: Returns the positioning offset for a given segment and bar metrics.\n- **setContentPositionAdjustment(_:forSegmentType:barMetrics:)**: Sets the content positioning offset for a given segment and bar metrics.\n- **UISegmentedControl.Segment**: Constants for specifying a segment in a control.\n- **dividerImage(forLeftSegmentState:rightSegmentState:barMetrics:)**: Returns the divider image used for a given combination of left and right segment states and bar metrics.\n- **setDividerImage(_:forLeftSegmentState:rightSegmentState:barMetrics:)**: Sets the divider image to use for a given combination of left and right segment states and bar metrics.\n- **titleTextAttributes(for:)**: Returns the text attributes of the title for a given control state.\n- **setTitleTextAttributes(_:for:)**: Sets the text attributes of the title for a given control state.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The color to use for highlighting the currently selected segment.",
          "name" : "selectedSegmentTintColor",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/selectedSegmentTintColor"
        },
        {
          "description" : "Returns the background image for a given state and bar metrics.",
          "name" : "backgroundImage(for:barMetrics:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/backgroundImage(for:barMetrics:)"
        },
        {
          "description" : "Returns the positioning offset for a given segment and bar metrics.",
          "name" : "contentPositionAdjustment(forSegmentType:barMetrics:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/contentPositionAdjustment(forSegmentType:barMetrics:)"
        },
        {
          "description" : "Sets the content positioning offset for a given segment and bar metrics.",
          "name" : "setContentPositionAdjustment(_:forSegmentType:barMetrics:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/setContentPositionAdjustment(_:forSegmentType:barMetrics:)"
        },
        {
          "description" : "Constants for specifying a segment in a control.",
          "name" : "UISegmentedControl.Segment",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/Segment"
        },
        {
          "description" : "Returns the divider image used for a given combination of left and right segment states and bar metrics.",
          "name" : "dividerImage(forLeftSegmentState:rightSegmentState:barMetrics:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/dividerImage(forLeftSegmentState:rightSegmentState:barMetrics:)"
        },
        {
          "description" : "Sets the divider image to use for a given combination of left and right segment states and bar metrics.",
          "name" : "setDividerImage(_:forLeftSegmentState:rightSegmentState:barMetrics:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/setDividerImage(_:forLeftSegmentState:rightSegmentState:barMetrics:)"
        },
        {
          "description" : "Returns the text attributes of the title for a given control state.",
          "name" : "titleTextAttributes(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/titleTextAttributes(for:)"
        },
        {
          "description" : "Sets the text attributes of the title for a given control state.",
          "name" : "setTitleTextAttributes(_:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/setTitleTextAttributes(_:for:)"
        }
      ],
      "title" : "Customizing appearance"
    }
  ],
  "source" : "appleJSON",
  "title" : "setBackgroundImage(_:for:barMetrics:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISegmentedControl\/setBackgroundImage(_:for:barMetrics:)"
}