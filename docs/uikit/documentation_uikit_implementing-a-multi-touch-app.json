{
  "abstract" : "Learn how to create a simple app that handles multitouch input.",
  "codeExamples" : [
    {
      "code" : "class TouchableView: UIView {\n   var touchViews = [UITouch:TouchSpotView]() \n \n   override init(frame: CGRect) {\n      super.init(frame: frame)\n      isMultipleTouchEnabled = true\n   }\n \n   required init?(coder aDecoder: NSCoder) {\n      super.init(coder: aDecoder)\n      isMultipleTouchEnabled = true\n   }\n \n   override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         createViewForTouch(touch: touch)\n      }\n   }\n \n   override func touchesMoved(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         let view = viewForTouch(touch: touch) \n         \/\/ Move the view to the new location.\n         let newLocation = touch.location(in: self)\n         view?.center = newLocation\n      }\n   }\n \n   override func touchesEnded(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         removeViewForTouch(touch: touch)\n      }\n   }\n \n   override func touchesCancelled(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         removeViewForTouch(touch: touch)\n      }\n   }\n  \n   \/\/ Other methods. . . \n}",
      "language" : "swift"
    },
    {
      "code" : "func createViewForTouch( touch : UITouch ) {\n   let newView = TouchSpotView()\n   newView.bounds = CGRect(x: 0, y: 0, width: 1, height: 1)\n   newView.center = touch.location(in: self)\n \n   \/\/ Add the view and animate it to a new size.\n   addSubview(newView)\n   UIView.animate(withDuration: 0.2) {\n      newView.bounds.size = CGSize(width: 100, height: 100)\n   }\n \n   \/\/ Save the views internally\n   touchViews[touch] = newView\n}\n \nfunc viewForTouch (touch : UITouch) -> TouchSpotView? {\n   return touchViews[touch]\n}\n \nfunc removeViewForTouch (touch : UITouch ) {\n   if let view = touchViews[touch] {\n      view.removeFromSuperview()\n      touchViews.removeValue(forKey: touch)\n   }\n}",
      "language" : "swift"
    },
    {
      "code" : "class TouchSpotView : UIView {\n   override init(frame: CGRect) {\n      super.init(frame: frame)\n      backgroundColor = UIColor.lightGray\n   }\n \n   \/\/ Update the corner radius when the bounds change.\n   override var bounds: CGRect {\n      get { return super.bounds }\n      set(newBounds) {\n         super.bounds = newBounds\n         layer.cornerRadius = newBounds.size.width \/ 2.0\n      }\n   }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "a6d2df64cb8b5ca5b637afee715c6fd964105c2ada8cd19f14dfff3e131d8a98",
  "crawledAt" : "2025-12-02T21:11:24Z",
  "id" : "BAA2B5F5-C7E6-4B1C-AB51-70C6D320E8B8",
  "kind" : "article",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nConsider the app shown in the following image, where a single main view that draws a gray circle at each touch location. When a touch ends, the circle disappears. When the user’s fingers move, the underlying circles move with them.\n\n\n\nThe creation of this app begins with the Single View app template in Xcode. This type of app has a single view controller whose view — in this case, a custom subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView] called `TouchableView` — fills the screen. The view contains only a label initially, but the app programmatically adds subviews later. The following image shows the storyboard for the view controller.\n\n\n\n### Implement the TouchableView class\n\nThe `TouchableView` class overrides the inherited [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesBegan(_:with:)], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesMoved(_:with:)], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesEnded(_:with:)], and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesCancelled(_:with:)] methods. These methods handle the creation and management of subviews that draw the gray circles at each touch location. Specifically, these methods do the following:\n\nThe following code shows the main implementation of the `TouchableView` class and its touch handling methods. Each method iterates through the touches and performs the needed actions. The `touchViews` dictionary uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITouch] objects as keys to retrieve the subviews the user is manipulating onscreen.\n\nSeveral helper methods handle creation, management, and disposal of the subviews, as shown in the following code. The `createViewForTouch` method creates a new `TouchSpotView` object and adds it to the `TouchableView` object, animating the view to its full size. The `removeViewForTouch` method removes the corresponding subview and updates the class data structures. The `viewForTouch` method is a convenience method for retrieving the view associated with a given touch event.\n\n### Implement the TouchSpotView class\n\nThe `TouchSpotView` class (shown in the following code) represents the custom subviews that draw the gray circles onscreen. `TouchSpotView` maintains its circular shape by setting the [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CALayer\/cornerRadius] property of the layer each time its [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/bounds] property changes.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/implementing-a-multi-touch-app\ncrawled: 2025-12-02T21:11:24Z\n---\n\n# Implementing a Multi-Touch app\n\n**Article**\n\nLearn how to create a simple app that handles multitouch input.\n\n## Overview\n\nConsider the app shown in the following image, where a single main view that draws a gray circle at each touch location. When a touch ends, the circle disappears. When the user’s fingers move, the underlying circles move with them.\n\n\n\nThe creation of this app begins with the Single View app template in Xcode. This type of app has a single view controller whose view — in this case, a custom subclass of [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView] called `TouchableView` — fills the screen. The view contains only a label initially, but the app programmatically adds subviews later. The following image shows the storyboard for the view controller.\n\n\n\n### Implement the TouchableView class\n\nThe `TouchableView` class overrides the inherited [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesBegan(_:with:)], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesMoved(_:with:)], [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesEnded(_:with:)], and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesCancelled(_:with:)] methods. These methods handle the creation and management of subviews that draw the gray circles at each touch location. Specifically, these methods do the following:\n\n- The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesBegan(_:with:)] method creates a new subview at the location of each touch event.\n- The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesMoved(_:with:)] method updates the position of the subview associated with each touch.\n- The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesEnded(_:with:)] and [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIResponder\/touchesCancelled(_:with:)] methods remove the subview associated with each touch that ended.\n\nThe following code shows the main implementation of the `TouchableView` class and its touch handling methods. Each method iterates through the touches and performs the needed actions. The `touchViews` dictionary uses the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UITouch] objects as keys to retrieve the subviews the user is manipulating onscreen.\n\n```swift\nclass TouchableView: UIView {\n   var touchViews = [UITouch:TouchSpotView]() \n \n   override init(frame: CGRect) {\n      super.init(frame: frame)\n      isMultipleTouchEnabled = true\n   }\n \n   required init?(coder aDecoder: NSCoder) {\n      super.init(coder: aDecoder)\n      isMultipleTouchEnabled = true\n   }\n \n   override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         createViewForTouch(touch: touch)\n      }\n   }\n \n   override func touchesMoved(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         let view = viewForTouch(touch: touch) \n         \/\/ Move the view to the new location.\n         let newLocation = touch.location(in: self)\n         view?.center = newLocation\n      }\n   }\n \n   override func touchesEnded(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         removeViewForTouch(touch: touch)\n      }\n   }\n \n   override func touchesCancelled(_ touches: Set<UITouch>, with event: UIEvent?) {\n      for touch in touches {\n         removeViewForTouch(touch: touch)\n      }\n   }\n  \n   \/\/ Other methods. . . \n}\n```\n\nSeveral helper methods handle creation, management, and disposal of the subviews, as shown in the following code. The `createViewForTouch` method creates a new `TouchSpotView` object and adds it to the `TouchableView` object, animating the view to its full size. The `removeViewForTouch` method removes the corresponding subview and updates the class data structures. The `viewForTouch` method is a convenience method for retrieving the view associated with a given touch event.\n\n```swift\nfunc createViewForTouch( touch : UITouch ) {\n   let newView = TouchSpotView()\n   newView.bounds = CGRect(x: 0, y: 0, width: 1, height: 1)\n   newView.center = touch.location(in: self)\n \n   \/\/ Add the view and animate it to a new size.\n   addSubview(newView)\n   UIView.animate(withDuration: 0.2) {\n      newView.bounds.size = CGSize(width: 100, height: 100)\n   }\n \n   \/\/ Save the views internally\n   touchViews[touch] = newView\n}\n \nfunc viewForTouch (touch : UITouch) -> TouchSpotView? {\n   return touchViews[touch]\n}\n \nfunc removeViewForTouch (touch : UITouch ) {\n   if let view = touchViews[touch] {\n      view.removeFromSuperview()\n      touchViews.removeValue(forKey: touch)\n   }\n}\n```\n\n### Implement the TouchSpotView class\n\nThe `TouchSpotView` class (shown in the following code) represents the custom subviews that draw the gray circles onscreen. `TouchSpotView` maintains its circular shape by setting the [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CALayer\/cornerRadius] property of the layer each time its [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/bounds] property changes.\n\n```swift\nclass TouchSpotView : UIView {\n   override init(frame: CGRect) {\n      super.init(frame: frame)\n      backgroundColor = UIColor.lightGray\n   }\n \n   \/\/ Update the corner radius when the bounds change.\n   override var bounds: CGRect {\n      get { return super.bounds }\n      set(newBounds) {\n         super.bounds = newBounds\n         layer.cornerRadius = newBounds.size.width \/ 2.0\n      }\n   }\n}\n```\n\n## Advanced touch handling\n\n- **Getting high-fidelity input with coalesced touches**: Learn how to support high-precision touches in your app.\n- **Minimizing latency with predicted touches**: Create a smooth and responsive drawing experience using UIKit’s predictions for touch locations.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn how to support high-precision touches in your app.",
          "name" : "Getting high-fidelity input with coalesced touches",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/getting-high-fidelity-input-with-coalesced-touches"
        },
        {
          "description" : "Create a smooth and responsive drawing experience using UIKit’s predictions for touch locations.",
          "name" : "Minimizing latency with predicted touches",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/minimizing-latency-with-predicted-touches"
        }
      ],
      "title" : "Advanced touch handling"
    }
  ],
  "source" : "appleJSON",
  "title" : "Implementing a Multi-Touch app",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/implementing-a-multi-touch-app"
}