{
  "abstract" : "Asks the delegate to provide an underline shape for the specified text during a proofreading session.",
  "codeExamples" : [

  ],
  "contentHash" : "23f64471d519d775d7ca405f455791ce360468e2906be899f086c405c0a6ee6a",
  "crawledAt" : "2025-12-04T10:29:58Z",
  "declaration" : {
    "code" : "func writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, requestsUnderlinePathsFor range: NSRange, in context: UIWritingToolsCoordinator.Context, completion: @escaping ([UIBezierPath]) -> Void)",
    "language" : "swift"
  },
  "id" : "97E0B936-18AD-42FF-8460-9F04EE163C44",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nWhen applying proofreading marks to your view’s content, the coordinator calls this method to retrieve a shape to draw under the specified text. You provide the shape using one or more Bezier paths, and the coordinator draws and animates that shape during the proofreading session.\n\nAfter you determine the location of the specified range of text in your view’s text storage, find the rectangle around that text. If you’re using TextKit, you can call the [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSTextLayoutManager\/enumerateTextSegments(in:type:options:using:)] method of your view’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/NSTextLayoutManager] to get the rectangles for a range of text. Convert the coordinates of each rectangle to the coordinate space of the view in your coordinator’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIWritingToolsCoordinator\/decorationContainerView] property. Use those rectangles to create the Bezier paths for your text. For example, you might create a path with a straight or wavy line at the bottom of the rectangle.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsUnderlinePathsFor:in:completion:)\ncrawled: 2025-12-04T10:29:58Z\n---\n\n# writingToolsCoordinator(_:requestsUnderlinePathsFor:in:completion:)\n\n**Instance Method**\n\nAsks the delegate to provide an underline shape for the specified text during a proofreading session.\n\n## Declaration\n\n```swift\nfunc writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, requestsUnderlinePathsFor range: NSRange, in context: UIWritingToolsCoordinator.Context, completion: @escaping ([UIBezierPath]) -> Void)\n```\n\n```swift\nfunc writingToolsCoordinator(_ writingToolsCoordinator: UIWritingToolsCoordinator, underlinePathsFor range: NSRange, context: UIWritingToolsCoordinator.Context) async -> [UIBezierPath]\n```\n\n## Parameters\n\n- **writingToolsCoordinator**: The coordinator object requesting information from your custom view.\n- **range**: The range of text to evaluate. This range is relative to the text in your context object, and it’s your responsibility to match that location to the correct location in your text storage. If you initialized the context object with the entire contents of your view’s text storage, you can use `range` as-is to access that text storage. However, if you initialized the context object with only a portion of your view’s text, add the starting location of your context object’s text to this value to get the correct range for that text storage.\n- **context**: The context object with the target text. Use this object to find the text in your view’s text storage.\n- **completion**: A handler to execute with the required information. The handler has no return value and takes an array of Bezier paths as a parameter. You must call this handler at some point during your method’s implementation.\n\n## Discussion\n\nWhen applying proofreading marks to your view’s content, the coordinator calls this method to retrieve a shape to draw under the specified text. You provide the shape using one or more Bezier paths, and the coordinator draws and animates that shape during the proofreading session.\n\nAfter you determine the location of the specified range of text in your view’s text storage, find the rectangle around that text. If you’re using TextKit, you can call the [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSTextLayoutManager\/enumerateTextSegments(in:type:options:using:)] method of your view’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/NSTextLayoutManager] to get the rectangles for a range of text. Convert the coordinates of each rectangle to the coordinate space of the view in your coordinator’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIWritingToolsCoordinator\/decorationContainerView] property. Use those rectangles to create the Bezier paths for your text. For example, you might create a path with a straight or wavy line at the bottom of the rectangle.\n\n## Displaying proofreading marks\n\n- **writingToolsCoordinator(_:requestsRangeInContextWithIdentifierFor:completion:)**: Asks the delegate to provide the location of the character at the specified point in your view’s coordinate system.\n- **writingToolsCoordinator(_:requestsBoundingBezierPathsFor:in:completion:)**: Asks the delegate to provide the bounding paths for the specified text in your view.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the delegate to provide the location of the character at the specified point in your view’s coordinate system.",
          "name" : "writingToolsCoordinator(_:requestsRangeInContextWithIdentifierFor:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsRangeInContextWithIdentifierFor:completion:)"
        },
        {
          "description" : "Asks the delegate to provide the bounding paths for the specified text in your view.",
          "name" : "writingToolsCoordinator(_:requestsBoundingBezierPathsFor:in:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsBoundingBezierPathsFor:in:completion:)"
        }
      ],
      "title" : "Displaying proofreading marks"
    }
  ],
  "source" : "appleJSON",
  "title" : "writingToolsCoordinator(_:requestsUnderlinePathsFor:in:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsUnderlinePathsFor:in:completion:)"
}