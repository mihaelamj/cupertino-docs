{
  "abstract" : "The object you use to manage data and provide cells for a collection view.",
  "codeExamples" : [
    {
      "code" : "dataSource = UICollectionViewDiffableDataSource<Int, UUID>(collectionView: collectionView) {\n    (collectionView: UICollectionView, indexPath: IndexPath, itemIdentifier: UUID) -> UICollectionViewCell? in\n    \/\/ Configure and return cell.\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype",
    "UICollectionViewDataSource"
  ],
  "contentHash" : "3fbeb6ef7cc8b38c25c97d3f9d0278781058f1ede717b43622b8d47b9e23973a",
  "crawledAt" : "2025-12-02T16:19:50Z",
  "declaration" : {
    "code" : "@MainActor @preconcurrency class UICollectionViewDiffableDataSource<SectionIdentifierType, ItemIdentifierType> where SectionIdentifierType : Hashable, SectionIdentifierType : Sendable, ItemIdentifierType : Hashable, ItemIdentifierType : Sendable",
    "language" : "swift"
  },
  "id" : "45D08C8B-48E0-4A80-A775-6564C32AB99D",
  "kind" : "class",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Overview\n\nA *diffable data source* object is a specialized type of data source that works together with your collection view object. It provides the behavior you need to manage updates to your collection view’s data and UI in a simple, efficient way. It also conforms to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource] protocol and provides implementations for all of the protocol’s methods.\n\nTo fill a collection view with data:\n\nTo connect a diffable data source to a collection view, you create the diffable data source using its [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/init(collectionView:cellProvider:)] initializer, passing in the collection view you want to associate with that data source. You also pass in a cell provider, where you configure each of your cells to determine how to display your data in the UI.\n\nThen, you generate the current state of the data and display the data in the UI by constructing and applying a snapshot. For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/NSDiffableDataSourceSnapshot-swift.struct].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\ncrawled: 2025-12-02T16:19:50Z\n---\n\n# UICollectionViewDiffableDataSource\n\n**Class**\n\nThe object you use to manage data and provide cells for a collection view.\n\n## Declaration\n\n```swift\n@MainActor @preconcurrency class UICollectionViewDiffableDataSource<SectionIdentifierType, ItemIdentifierType> where SectionIdentifierType : Hashable, SectionIdentifierType : Sendable, ItemIdentifierType : Hashable, ItemIdentifierType : Sendable\n```\n\n## Overview\n\nA *diffable data source* object is a specialized type of data source that works together with your collection view object. It provides the behavior you need to manage updates to your collection view’s data and UI in a simple, efficient way. It also conforms to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDataSource] protocol and provides implementations for all of the protocol’s methods.\n\nTo fill a collection view with data:\n\n1. Connect a diffable data source to your collection view.\n2. Implement a cell provider to configure your collection view’s cells.\n3. Generate the current state of the data.\n4. Display the data in the UI.\n\nTo connect a diffable data source to a collection view, you create the diffable data source using its [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/init(collectionView:cellProvider:)] initializer, passing in the collection view you want to associate with that data source. You also pass in a cell provider, where you configure each of your cells to determine how to display your data in the UI.\n\n```swift\ndataSource = UICollectionViewDiffableDataSource<Int, UUID>(collectionView: collectionView) {\n    (collectionView: UICollectionView, indexPath: IndexPath, itemIdentifier: UUID) -> UICollectionViewCell? in\n    \/\/ Configure and return cell.\n}\n```\n\nThen, you generate the current state of the data and display the data in the UI by constructing and applying a snapshot. For more information, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/NSDiffableDataSourceSnapshot-swift.struct].\n\n\n\n## Creating a diffable data source\n\n- **init(collectionView:cellProvider:)**: Creates a diffable data source with the specified cell provider, and connects it to the specified collection view.\n- **UICollectionViewDiffableDataSource.CellProvider**: A closure that configures and returns a cell for a collection view from its diffable data source.\n\n## Creating supplementary views\n\n- **supplementaryViewProvider**: The closure that configures and returns the collection view’s supplementary views, such as headers and footers, from the diffable data source.\n- **UICollectionViewDiffableDataSource.SupplementaryViewProvider**: A closure that configures and returns a collection view’s supplementary view, such as a header or footer, from a diffable data source.\n\n## Identifying items\n\n- **itemIdentifier(for:)**: Returns an identifier for the item at the specified index path in the collection view.\n- **indexPath(for:)**: Returns an index path for the item with the specified identifier in the collection view.\n\n## Identifying sections\n\n- **sectionIdentifier(for:)**: Returns an identifier for the section at the index you specify in the collection view.\n- **index(for:)**: Returns an index for the section with the identifier you specify in the collection view.\n\n## Updating data\n\n- **snapshot()**: Returns a representation of the current state of the data in the collection view.\n- **apply(_:animatingDifferences:)**: Updates the UI to reflect the state of the data in the snapshot, optionally animating the UI changes.\n- **apply(_:animatingDifferences:completion:)**: Updates the UI to reflect the state of the data in the snapshot, optionally animating the UI changes and executing a completion handler.\n- **applySnapshotUsingReloadData(_:)**: Resets the UI to reflect the state of the data in the snapshot without computing a diff or animating the changes.\n- **applySnapshotUsingReloadData(_:completion:)**: Resets the UI to reflect the state of the data in the snapshot without computing a diff or animating the changes, optionally executing a completion handler.\n\n## Updating section data\n\n- **snapshot(for:)**: Returns a representation of the current state of the data in the specified section of the collection view.\n- **apply(_:to:animatingDifferences:completion:)**: Updates the section UI to reflect the state of the data in the specified snapshot, optionally animating the UI changes and executing a completion handler.\n- **apply(_:to:animatingDifferences:)**: Updates the section UI to reflect the state of the data in the specified snapshot, optionally animating the UI changes.\n\n## Supporting reordering\n\n- **reorderingHandlers**: The diffable data source’s handlers for reordering items.\n- **UICollectionViewDiffableDataSource.ReorderingHandlers**: Handlers for reordering items.\n- **NSDiffableDataSourceTransaction**: A transaction that describes the changes after reordering the items in the view.\n- **NSDiffableDataSourceSectionTransaction**: A transaction that describes the changes after reordering the items in a section.\n\n## Supporting expanding and collapsing\n\n- **sectionSnapshotHandlers**: The diffable data source’s handlers for expanding and collapsing items.\n- **UICollectionViewDiffableDataSource.SectionSnapshotHandlers**: Handlers for expanding and collapsing items.\n\n## Debugging a diffable data source\n\n- **description()**: Returns a string with a description of the diffable data source.\n\n## Supporting bridging\n\n- **UICollectionViewDiffableDataSourceReference**: The object you use to manage data and provide cells for a collection view.\n\n## Data\n\n- **Updating collection views using diffable data sources**: Streamline the display and update of data in a collection view using a diffable data source that contains identifiers.\n- **Implementing modern collection views**: Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.\n- **Building high-performance lists and collection views**: Improve the performance of lists and collections in your app with prefetching and image preparation.\n- **UICollectionViewDataSource**: The methods adopted by the object you use to manage data and provide cells for a collection view.\n- **UICollectionViewDataSourcePrefetching**: A protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations.\n- **NSDiffableDataSourceSnapshot**: A representation of the state of the data in a view at a specific point in time.\n- **NSDiffableDataSourceSectionSnapshot**: A representation of the state of the data in a layout section at a specific point in time.\n- **UIRefreshControl**: A standard control that can initiate the refreshing of a scroll view’s contents.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n- UICollectionViewDataSource\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a diffable data source with the specified cell provider, and connects it to the specified collection view.",
          "name" : "init(collectionView:cellProvider:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/init(collectionView:cellProvider:)"
        },
        {
          "description" : "A closure that configures and returns a cell for a collection view from its diffable data source.",
          "name" : "UICollectionViewDiffableDataSource.CellProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/CellProvider"
        }
      ],
      "title" : "Creating a diffable data source"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The closure that configures and returns the collection view’s supplementary views, such as headers and footers, from the diffable data source.",
          "name" : "supplementaryViewProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/supplementaryViewProvider-swift.property"
        },
        {
          "description" : "A closure that configures and returns a collection view’s supplementary view, such as a header or footer, from a diffable data source.",
          "name" : "UICollectionViewDiffableDataSource.SupplementaryViewProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/SupplementaryViewProvider-swift.typealias"
        }
      ],
      "title" : "Creating supplementary views"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an identifier for the item at the specified index path in the collection view.",
          "name" : "itemIdentifier(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/itemIdentifier(for:)"
        },
        {
          "description" : "Returns an index path for the item with the specified identifier in the collection view.",
          "name" : "indexPath(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/indexPath(for:)"
        }
      ],
      "title" : "Identifying items"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an identifier for the section at the index you specify in the collection view.",
          "name" : "sectionIdentifier(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/sectionIdentifier(for:)"
        },
        {
          "description" : "Returns an index for the section with the identifier you specify in the collection view.",
          "name" : "index(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/index(for:)"
        }
      ],
      "title" : "Identifying sections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a representation of the current state of the data in the collection view.",
          "name" : "snapshot()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/snapshot()"
        },
        {
          "description" : "Updates the UI to reflect the state of the data in the snapshot, optionally animating the UI changes.",
          "name" : "apply(_:animatingDifferences:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/apply(_:animatingDifferences:)"
        },
        {
          "description" : "Updates the UI to reflect the state of the data in the snapshot, optionally animating the UI changes and executing a completion handler.",
          "name" : "apply(_:animatingDifferences:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/apply(_:animatingDifferences:completion:)"
        },
        {
          "description" : "Resets the UI to reflect the state of the data in the snapshot without computing a diff or animating the changes.",
          "name" : "applySnapshotUsingReloadData(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/applySnapshotUsingReloadData(_:)"
        },
        {
          "description" : "Resets the UI to reflect the state of the data in the snapshot without computing a diff or animating the changes, optionally executing a completion handler.",
          "name" : "applySnapshotUsingReloadData(_:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/applySnapshotUsingReloadData(_:completion:)"
        }
      ],
      "title" : "Updating data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a representation of the current state of the data in the specified section of the collection view.",
          "name" : "snapshot(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/snapshot(for:)"
        },
        {
          "description" : "Updates the section UI to reflect the state of the data in the specified snapshot, optionally animating the UI changes and executing a completion handler.",
          "name" : "apply(_:to:animatingDifferences:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/apply(_:to:animatingDifferences:completion:)"
        },
        {
          "description" : "Updates the section UI to reflect the state of the data in the specified snapshot, optionally animating the UI changes.",
          "name" : "apply(_:to:animatingDifferences:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/apply(_:to:animatingDifferences:)"
        }
      ],
      "title" : "Updating section data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The diffable data source’s handlers for reordering items.",
          "name" : "reorderingHandlers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/reorderingHandlers-swift.property"
        },
        {
          "description" : "Handlers for reordering items.",
          "name" : "UICollectionViewDiffableDataSource.ReorderingHandlers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/ReorderingHandlers-swift.struct"
        },
        {
          "description" : "A transaction that describes the changes after reordering the items in the view.",
          "name" : "NSDiffableDataSourceTransaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceTransaction-swift.struct"
        },
        {
          "description" : "A transaction that describes the changes after reordering the items in a section.",
          "name" : "NSDiffableDataSourceSectionTransaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSectionTransaction-swift.struct"
        }
      ],
      "title" : "Supporting reordering"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The diffable data source’s handlers for expanding and collapsing items.",
          "name" : "sectionSnapshotHandlers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/sectionSnapshotHandlers-swift.property"
        },
        {
          "description" : "Handlers for expanding and collapsing items.",
          "name" : "UICollectionViewDiffableDataSource.SectionSnapshotHandlers",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/SectionSnapshotHandlers-swift.struct"
        }
      ],
      "title" : "Supporting expanding and collapsing"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a string with a description of the diffable data source.",
          "name" : "description()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa\/description()"
        }
      ],
      "title" : "Debugging a diffable data source"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The object you use to manage data and provide cells for a collection view.",
          "name" : "UICollectionViewDiffableDataSourceReference",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSourceReference"
        }
      ],
      "title" : "Supporting bridging"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Streamline the display and update of data in a collection view using a diffable data source that contains identifiers.",
          "name" : "Updating collection views using diffable data sources",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/updating-collection-views-using-diffable-data-sources"
        },
        {
          "description" : "Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.",
          "name" : "Implementing modern collection views",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/implementing-modern-collection-views"
        },
        {
          "description" : "Improve the performance of lists and collections in your app with prefetching and image preparation.",
          "name" : "Building high-performance lists and collection views",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/building-high-performance-lists-and-collection-views"
        },
        {
          "description" : "The methods adopted by the object you use to manage data and provide cells for a collection view.",
          "name" : "UICollectionViewDataSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSource"
        },
        {
          "description" : "A protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations.",
          "name" : "UICollectionViewDataSourcePrefetching",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDataSourcePrefetching"
        },
        {
          "description" : "A representation of the state of the data in a view at a specific point in time.",
          "name" : "NSDiffableDataSourceSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSnapshot-swift.struct"
        },
        {
          "description" : "A representation of the state of the data in a layout section at a specific point in time.",
          "name" : "NSDiffableDataSourceSectionSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/NSDiffableDataSourceSectionSnapshot-swift.struct"
        },
        {
          "description" : "A standard control that can initiate the refreshing of a scroll view’s contents.",
          "name" : "UIRefreshControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIRefreshControl"
        }
      ],
      "title" : "Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "UICollectionViewDiffableDataSource",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewDiffableDataSource-9tqpa"
}