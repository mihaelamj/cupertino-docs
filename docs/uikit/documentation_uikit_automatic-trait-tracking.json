{
  "abstract" : "Reduce the need to manually register for trait changes when you use traits within a method or closure that supports automatic trait tracking.",
  "codeExamples" : [

  ],
  "contentHash" : "a613293cd2bc60cbfa75adb7c62f1a8561dd08649cc670977ba1420894cccc09",
  "crawledAt" : "2025-12-01T01:17:31Z",
  "id" : "CB6F8BC4-13D9-4741-99EC-110866A941C2",
  "kind" : "collection",
  "module" : "UIKit",
  "overview" : "## Overview\n\nAutomatic trait tracking is a UIKit feature that eliminates the need to manually register for trait changes when you use traits in a supported method or closure. This feature reduces the amount of code you need to write and maintain, improves performance, and encourages the best practice of using traits within the scope of the supported APIs.\n\nSome properties aren’t appropriate to change during [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/layoutSubviews()], for example, properties where setting the value has a side-effect of invalidating the view’s layout. Update these properties in a view’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/updateProperties()] method, or a view controller’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/updateProperties()] method. These methods support automatic trait tracking, and automatic observation tracking on objects that use the [doc:\/\/com.apple.documentation\/documentation\/Observation\/Observable()] macro. Notify an object of other updates to its properties by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/setNeedsUpdateProperties()] on your view, or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/setNeedsUpdateProperties()] on your view controller. Force an object to immediately update its properties by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/updatePropertiesIfNeeded()] on your view, or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/updatePropertiesIfNeeded()] on your view controller.\n\nA complete list of APIs that support automatic trait tracking appears below.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/automatic-trait-tracking\ncrawled: 2025-12-01T01:17:31Z\n---\n\n# Automatic trait tracking\n\n**API Collection**\n\nReduce the need to manually register for trait changes when you use traits within a method or closure that supports automatic trait tracking.\n\n## Overview\n\nAutomatic trait tracking is a UIKit feature that eliminates the need to manually register for trait changes when you use traits in a supported method or closure. This feature reduces the amount of code you need to write and maintain, improves performance, and encourages the best practice of using traits within the scope of the supported APIs.\n\nSome properties aren’t appropriate to change during [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/layoutSubviews()], for example, properties where setting the value has a side-effect of invalidating the view’s layout. Update these properties in a view’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/updateProperties()] method, or a view controller’s [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/updateProperties()] method. These methods support automatic trait tracking, and automatic observation tracking on objects that use the [doc:\/\/com.apple.documentation\/documentation\/Observation\/Observable()] macro. Notify an object of other updates to its properties by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/setNeedsUpdateProperties()] on your view, or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/setNeedsUpdateProperties()] on your view controller. Force an object to immediately update its properties by calling [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIView\/updatePropertiesIfNeeded()] on your view, or [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/updatePropertiesIfNeeded()] on your view controller.\n\n\n\nA complete list of APIs that support automatic trait tracking appears below.\n\n## Views\n\n- **updateProperties()**: Override point for subclasses to update properties of this view. Never call this method directly; use `setNeedsUpdateProperties` to schedule an update.\n- **setNeedsUpdateProperties()**: Call to manually request a properties update for the view. Multiple requests may be coalesced into a single update alongside the next layout pass.\n- **updatePropertiesIfNeeded()**: Forces an immediate properties update for this view (and its view controller, if applicable) and any subviews, including any view controllers or views in its subtree.\n- **layoutSubviews()**: Lays out subviews.\n- **updateConstraints()**: Updates constraints for the view.\n- **draw(_:)**: Draws the view’s image within the passed-in rectangle.\n- **UIView.Invalidations.Properties**\n\n## View controllers\n\n- **updateProperties()**: Override point for subclasses to update properties of this view controller or its view. Never call this method directly; use `setNeedsUpdateProperties` to schedule an update.\n- **setNeedsUpdateProperties()**: Call to manually request a properties update for the view controller. Multiple requests may be coalesced into a single update alongside the next layout pass.\n- **updatePropertiesIfNeeded()**: Forces an immediate properties update for this view controller and its view, including any view controllers and views in this subtree.\n- **viewWillLayoutSubviews()**: Notifies the view controller that its view is about to lay out its subviews.\n- **viewDidLayoutSubviews()**: Notifies the view controller when its view finishes laying out its subviews.\n- **updateViewConstraints()**: Notifies the view controller when its view needs to update its constraints.\n- **updateContentUnavailableConfiguration(using:)**: Updates the content-unavailable configuration for the provided state.\n\n## Presentation controllers\n\n- **containerViewWillLayoutSubviews()**: Notifies the presentation controller that layout is about to begin on the views of the container view.\n- **containerViewDidLayoutSubviews()**: Notifies the presentation controller when layout ends on the views of the container view.\n\n## Buttons\n\n- **updateConfiguration()**: Updates the button configuration in response to a button state change.\n- **configurationUpdateHandler**: A closure that executes when the button state changes.\n\n## Collection view cells\n\n- **updateConfiguration(using:)**: Updates the cell’s configuration using the current state.\n- **configurationUpdateHandler**: A block for handling updates to the cell’s configuration using the current state.\n\n## Table view cells\n\n- **updateConfiguration(using:)**: Updates the cell’s configuration using the current state.\n- **configurationUpdateHandler**: A block for handling updates to the cell’s configuration using the current state.\n\n## Table view headers and footers\n\n- **updateConfiguration(using:)**: Updates the view’s configuration using the current state.\n- **configurationUpdateHandler**: A block for handling updates to the view’s configuration using the current state.\n\n## Collection view compositional layouts\n\n- **UICollectionViewCompositionalLayoutSectionProvider**: A closure that creates and returns each of the layout’s sections.\n\n## Adaptivity\n\n- **Responding to changing display modes on Apple TV**: Change images and resources dynamically when the screen gamut on your device changes.\n- **UITraitCollection**: A collection of data that represents the environment for an individual element in your app’s user interface.\n- **UITraitEnvironment**: A set of methods that makes the iOS interface environment available to your app.\n- **UITraitChangeObservable**: A type that calls your code in reaction to changes in the trait environment.\n- **UIMutableTraits**: A mutable container of traits.\n- **UIAdaptivePresentationControllerDelegate**: A set of methods that, in conjunction with a presentation controller, determine how to respond to trait changes in your app.\n- **UIContentContainer**: A set of methods for adapting the contents of your view controllers to size and trait changes.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override point for subclasses to update properties of this view. Never call this method directly; use `setNeedsUpdateProperties` to schedule an update.",
          "name" : "updateProperties()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/updateProperties()"
        },
        {
          "description" : "Call to manually request a properties update for the view. Multiple requests may be coalesced into a single update alongside the next layout pass.",
          "name" : "setNeedsUpdateProperties()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/setNeedsUpdateProperties()"
        },
        {
          "description" : "Forces an immediate properties update for this view (and its view controller, if applicable) and any subviews, including any view controllers or views in its subtree.",
          "name" : "updatePropertiesIfNeeded()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/updatePropertiesIfNeeded()"
        },
        {
          "description" : "Lays out subviews.",
          "name" : "layoutSubviews()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/layoutSubviews()"
        },
        {
          "description" : "Updates constraints for the view.",
          "name" : "updateConstraints()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/updateConstraints()"
        },
        {
          "description" : "Draws the view’s image within the passed-in rectangle.",
          "name" : "draw(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/draw(_:)"
        },
        {
          "description" : "",
          "name" : "UIView.Invalidations.Properties",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIView\/Invalidations\/Properties"
        }
      ],
      "title" : "Views"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override point for subclasses to update properties of this view controller or its view. Never call this method directly; use `setNeedsUpdateProperties` to schedule an update.",
          "name" : "updateProperties()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/updateProperties()"
        },
        {
          "description" : "Call to manually request a properties update for the view controller. Multiple requests may be coalesced into a single update alongside the next layout pass.",
          "name" : "setNeedsUpdateProperties()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/setNeedsUpdateProperties()"
        },
        {
          "description" : "Forces an immediate properties update for this view controller and its view, including any view controllers and views in this subtree.",
          "name" : "updatePropertiesIfNeeded()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/updatePropertiesIfNeeded()"
        },
        {
          "description" : "Notifies the view controller that its view is about to lay out its subviews.",
          "name" : "viewWillLayoutSubviews()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/viewWillLayoutSubviews()"
        },
        {
          "description" : "Notifies the view controller when its view finishes laying out its subviews.",
          "name" : "viewDidLayoutSubviews()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/viewDidLayoutSubviews()"
        },
        {
          "description" : "Notifies the view controller when its view needs to update its constraints.",
          "name" : "updateViewConstraints()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/updateViewConstraints()"
        },
        {
          "description" : "Updates the content-unavailable configuration for the provided state.",
          "name" : "updateContentUnavailableConfiguration(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIViewController\/updateContentUnavailableConfiguration(using:)"
        }
      ],
      "title" : "View controllers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Notifies the presentation controller that layout is about to begin on the views of the container view.",
          "name" : "containerViewWillLayoutSubviews()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIPresentationController\/containerViewWillLayoutSubviews()"
        },
        {
          "description" : "Notifies the presentation controller when layout ends on the views of the container view.",
          "name" : "containerViewDidLayoutSubviews()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIPresentationController\/containerViewDidLayoutSubviews()"
        }
      ],
      "title" : "Presentation controllers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the button configuration in response to a button state change.",
          "name" : "updateConfiguration()",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIButton\/updateConfiguration()"
        },
        {
          "description" : "A closure that executes when the button state changes.",
          "name" : "configurationUpdateHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIButton\/configurationUpdateHandler-swift.property"
        }
      ],
      "title" : "Buttons"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the cell’s configuration using the current state.",
          "name" : "updateConfiguration(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewCell\/updateConfiguration(using:)"
        },
        {
          "description" : "A block for handling updates to the cell’s configuration using the current state.",
          "name" : "configurationUpdateHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewCell\/configurationUpdateHandler-7rqbu"
        }
      ],
      "title" : "Collection view cells"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the cell’s configuration using the current state.",
          "name" : "updateConfiguration(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITableViewCell\/updateConfiguration(using:)"
        },
        {
          "description" : "A block for handling updates to the cell’s configuration using the current state.",
          "name" : "configurationUpdateHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITableViewCell\/configurationUpdateHandler-974"
        }
      ],
      "title" : "Table view cells"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the view’s configuration using the current state.",
          "name" : "updateConfiguration(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITableViewHeaderFooterView\/updateConfiguration(using:)"
        },
        {
          "description" : "A block for handling updates to the view’s configuration using the current state.",
          "name" : "configurationUpdateHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITableViewHeaderFooterView\/configurationUpdateHandler-49slo"
        }
      ],
      "title" : "Table view headers and footers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A closure that creates and returns each of the layout’s sections.",
          "name" : "UICollectionViewCompositionalLayoutSectionProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICollectionViewCompositionalLayoutSectionProvider"
        }
      ],
      "title" : "Collection view compositional layouts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Change images and resources dynamically when the screen gamut on your device changes.",
          "name" : "Responding to changing display modes on Apple TV",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/responding-to-changing-display-modes-on-apple-tv"
        },
        {
          "description" : "A collection of data that represents the environment for an individual element in your app’s user interface.",
          "name" : "UITraitCollection",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitCollection"
        },
        {
          "description" : "A set of methods that makes the iOS interface environment available to your app.",
          "name" : "UITraitEnvironment",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitEnvironment"
        },
        {
          "description" : "A type that calls your code in reaction to changes in the trait environment.",
          "name" : "UITraitChangeObservable",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UITraitChangeObservable-67e94"
        },
        {
          "description" : "A mutable container of traits.",
          "name" : "UIMutableTraits",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIMutableTraits-13ja5"
        },
        {
          "description" : "A set of methods that, in conjunction with a presentation controller, determine how to respond to trait changes in your app.",
          "name" : "UIAdaptivePresentationControllerDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIAdaptivePresentationControllerDelegate"
        },
        {
          "description" : "A set of methods for adapting the contents of your view controllers to size and trait changes.",
          "name" : "UIContentContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIContentContainer"
        }
      ],
      "title" : "Adaptivity"
    }
  ],
  "source" : "appleJSON",
  "title" : "Automatic trait tracking",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/automatic-trait-tracking"
}