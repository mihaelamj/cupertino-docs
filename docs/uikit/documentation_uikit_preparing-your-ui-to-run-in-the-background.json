{
  "abstract" : "Prepare your app to be suspended.",
  "codeExamples" : [

  ],
  "contentHash" : "014c43d6165d6b1ca1db941b23b806ee01093650a5522860451cde175ed95e8e",
  "crawledAt" : "2025-12-01T01:17:33Z",
  "id" : "7F586518-DF56-4FE1-B456-D6748A19EB57",
  "kind" : "collection",
  "module" : "UIKit",
  "overview" : "## Overview\n\nApps move to the background state for many reasons. When the user exits a foreground app, that app moves to the background state briefly before UIKit suspends it. The system may also launch an app directly into the background state, or move a suspended app into the background, and give it time to perform important tasks.\n\nWhen your app is in the background, it should do as little as possible, and preferably nothing. If your app was previously in the foreground, use the background transition to stop tasks and release any shared resources. If your app enters the background to process an important event, process the event and exit as quickly as possible.\n\nAll state transitions result in UIKit sending notifications to the appropriate delegate object:\n\nYou can support both types of delegate objects, but UIKit always uses scene delegate objects when they’re available. UIKit notifies only the scene delegate associated with the specific scene that’s entering the background.\n\n### Quiet your app upon deactivation\n\nThe system deactivates apps for several reasons. When the user exits the foreground app, the system deactivates that app immediately before moving it to the background. The system also deactivates apps when it needs to interrupt them temporarily — for example, to display system alerts. In the case of a system panel, the system reactivates the app when the user dismisses the panel.\n\nDuring deactivation, UIKit calls one of the following methods of your app:\n\nUse deactivation to preserve the user’s data and put your app in a quiet state by pausing all major work; specifically:\n\n### Release resources upon entering the background\n\nWhen your app transitions to the background, release memory and free up any shared resources your app is holding. For an app transitioning from the foreground to the background, freeing up memory is especially important. The foreground has priority over memory and other system resources, and the system terminates background apps as needed to make those resources available. Even if your app wasn’t in the foreground, perform checks to ensure that it consumes as few resources as possible.\n\nUpon entering the background, UIKit calls one of the following methods of your app:\n\nDuring a background transition, perform as many of the following tasks as makes sense for your app:\n\nYou don’t need to discard named images that you loaded from your app’s asset catalog. Similarly, you don’t need to release objects that adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDiscardableContent] protocol or that you manage using an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCache] object. The system automatically handles the cleanup of those objects.\n\nMake sure your app isn’t holding any shared system resources when it transitions to the background. If it continues accessing resources like the camera or a shared system database after transitioning to the background, the system terminates your app to free up that resource. If you use a system framework to access a resource, check the framework’s documentation for guidelines about what to do.\n\n### Prepare your UI for the app snapshot\n\nAfter your app enters the background and your delegate method returns, UIKit takes a snapshot of your app’s current user interface. The system displays the resulting image in the app switcher. It also displays the image temporarily when bringing your app back to the foreground.\n\nYour app’s UI must not contain any sensitive user information, such as passwords or credit card numbers. If your interface contains such information, remove it from your views when entering the background. Also, dismiss alerts, temporary interfaces, and system view controllers that obscure your app’s content. The snapshot represents your app’s interface and should be recognizable to users. When your app returns to the foreground, you can restore data and views as appropriate.\n\n### Respond to important events in the background\n\nApps don’t normally receive any extra execution time after they enter the background. However, UIKit does grant execution time to apps that support any of the following time-sensitive capabilities:\n\nEnable the Background Modes capability in Xcode if your app supports background features. Each background task has different requirements; see the appropriate framework for details about how to implement the feature. For information about how to schedule opportunistic background tasks, see [doc:\/\/com.apple.documentation\/documentation\/BackgroundTasks].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/preparing-your-ui-to-run-in-the-background\ncrawled: 2025-12-01T01:17:33Z\n---\n\n# Preparing your UI to run in the background\n\nPrepare your app to be suspended.\n\n## Overview\n\nApps move to the background state for many reasons. When the user exits a foreground app, that app moves to the background state briefly before UIKit suspends it. The system may also launch an app directly into the background state, or move a suspended app into the background, and give it time to perform important tasks.\n\nWhen your app is in the background, it should do as little as possible, and preferably nothing. If your app was previously in the foreground, use the background transition to stop tasks and release any shared resources. If your app enters the background to process an important event, process the event and exit as quickly as possible.\n\nAll state transitions result in UIKit sending notifications to the appropriate delegate object:\n\n- In iOS 13 and later — A [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate] object.\n- In iOS 12 and earlier — The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate] object.\n\nYou can support both types of delegate objects, but UIKit always uses scene delegate objects when they’re available. UIKit notifies only the scene delegate associated with the specific scene that’s entering the background.\n\n### Quiet your app upon deactivation\n\nThe system deactivates apps for several reasons. When the user exits the foreground app, the system deactivates that app immediately before moving it to the background. The system also deactivates apps when it needs to interrupt them temporarily — for example, to display system alerts. In the case of a system panel, the system reactivates the app when the user dismisses the panel.\n\nDuring deactivation, UIKit calls one of the following methods of your app:\n\n- For apps that support scenes — The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate\/sceneWillResignActive(_:)] method of the appropriate scene delegate object.\n- For all other apps — The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/applicationWillResignActive(_:)] method of the app delegate object.\n\nUse deactivation to preserve the user’s data and put your app in a quiet state by pausing all major work; specifically:\n\n- Save user data to disk and close any open files.\n- Suspend dispatch and operation queues.\n- Don’t schedule any new tasks for execution.\n- Invalidate any active timers.\n- Pause gameplay automatically.\n- Don’t commit any new Metal work to be processed.\n- Don’t commit any new OpenGL commands.\n\n### Release resources upon entering the background\n\nWhen your app transitions to the background, release memory and free up any shared resources your app is holding. For an app transitioning from the foreground to the background, freeing up memory is especially important. The foreground has priority over memory and other system resources, and the system terminates background apps as needed to make those resources available. Even if your app wasn’t in the foreground, perform checks to ensure that it consumes as few resources as possible.\n\nUpon entering the background, UIKit calls one of the following methods of your app:\n\n- For apps that support scenes — The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UISceneDelegate\/sceneDidEnterBackground(_:)] method of the appropriate scene delegate object.\n- For all other apps — The [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIApplicationDelegate\/applicationDidEnterBackground(_:)] method of the app delegate object.\n\nDuring a background transition, perform as many of the following tasks as makes sense for your app:\n\n- Discard any images or media that you read directly from files.\n- Discard any large, in-memory objects that you can recreate or reload from disk.\n- Release access to the camera and other shared hardware resources.\n- Hide sensitive information (such as passwords) in your app’s user interface.\n- Dismiss alerts and other temporary interfaces.\n- Close connections to any shared system databases.\n- Unregister from Bonjour services and close any listening sockets associated with them.\n- Ensure that all Metal command buffers have been scheduled. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Metal\/preparing-your-metal-app-to-run-in-the-background].\n- Ensure that all OpenGL commands you previously submitted have finished.\n\nYou don’t need to discard named images that you loaded from your app’s asset catalog. Similarly, you don’t need to release objects that adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDiscardableContent] protocol or that you manage using an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCache] object. The system automatically handles the cleanup of those objects.\n\nMake sure your app isn’t holding any shared system resources when it transitions to the background. If it continues accessing resources like the camera or a shared system database after transitioning to the background, the system terminates your app to free up that resource. If you use a system framework to access a resource, check the framework’s documentation for guidelines about what to do.\n\n### Prepare your UI for the app snapshot\n\nAfter your app enters the background and your delegate method returns, UIKit takes a snapshot of your app’s current user interface. The system displays the resulting image in the app switcher. It also displays the image temporarily when bringing your app back to the foreground.\n\nYour app’s UI must not contain any sensitive user information, such as passwords or credit card numbers. If your interface contains such information, remove it from your views when entering the background. Also, dismiss alerts, temporary interfaces, and system view controllers that obscure your app’s content. The snapshot represents your app’s interface and should be recognizable to users. When your app returns to the foreground, you can restore data and views as appropriate.\n\n\n\n### Respond to important events in the background\n\nApps don’t normally receive any extra execution time after they enter the background. However, UIKit does grant execution time to apps that support any of the following time-sensitive capabilities:\n\n- Audio communication using AirPlay, or Picture in Picture video.\n- Location-sensitive services for users.\n- Voice over IP.\n- Communication with an external accessory.\n- Communication with Bluetooth LE accessories, or conversion of the device into a Bluetooth LE accessory.\n- Regular updates from a server.\n- Support for Apple Push Notification service (APNs).\n\nEnable the Background Modes capability in Xcode if your app supports background features. Each background task has different requirements; see the appropriate framework for details about how to implement the feature. For information about how to schedule opportunistic background tasks, see [doc:\/\/com.apple.documentation\/documentation\/BackgroundTasks].\n\n## Background execution\n\n- **Using background tasks to update your app**: Configure your app to perform tasks in the background to make efficient use of processing time and power.\n- **Extending your app’s background execution time**: Ensure that critical tasks finish when your app moves to the background.\n- **About the background execution sequence**: Learn the order in which your custom code is executed when your app moves to the background.\n\n## Essentials\n\n- **Preparing your UI to run in the foreground**: Configure your app to appear onscreen.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure your app to perform tasks in the background to make efficient use of processing time and power.",
          "name" : "Using background tasks to update your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/using-background-tasks-to-update-your-app"
        },
        {
          "description" : "Ensure that critical tasks finish when your app moves to the background.",
          "name" : "Extending your app’s background execution time",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/extending-your-app-s-background-execution-time"
        },
        {
          "description" : "Learn the order in which your custom code is executed when your app moves to the background.",
          "name" : "About the background execution sequence",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/about-the-background-execution-sequence"
        }
      ],
      "title" : "Background execution"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure your app to appear onscreen.",
          "name" : "Preparing your UI to run in the foreground",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/preparing-your-ui-to-run-in-the-foreground"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Preparing your UI to run in the background",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/preparing-your-ui-to-run-in-the-background"
}