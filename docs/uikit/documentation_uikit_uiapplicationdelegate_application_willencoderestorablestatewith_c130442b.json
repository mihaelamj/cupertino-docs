{
  "abstract" : "Tells your delegate to save any high-level state information at the beginning of the state preservation process.",
  "codeExamples" : [

  ],
  "contentHash" : "04c21fc943193047004467b4e626b20b1b5b0269f68338d7094d6495f9132c1a",
  "crawledAt" : "2025-12-03T19:11:14Z",
  "declaration" : {
    "code" : "@MainActor optional func application(_ application: UIApplication, willEncodeRestorableStateWith coder: NSCoder)",
    "language" : "swift"
  },
  "id" : "B65F2186-87CB-486F-9B46-64AC8C7453A4",
  "kind" : "method",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nThe state preservation system calls this method at the beginning of the preservation process. This is your opportunity to add any app-level information to state information. For example, you might use this method to write version information or the high-level configuration of your app.\n\nYour implementation of this method can encode restorable view and view controller objects that it needs to reference. Encoding a restorable view or view controller writes that object’s restoration identifier to the coder. (That identifier is used during the decode process to locate the new version of the object.) If the view or view controller defines a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/encodeRestorableState(with:)] method, that method is also called at some point so that the object can encode its own state.\n\nApart from views and view controllers, other objects follow the normal serialization process and must adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCoding] protocol before they can be encoded. Encoding such objects embeds the object’s contents in the archive directly. During the decode process, a new object is created and initialized with the data from the archive.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:willEncodeRestorableStateWith:)\ncrawled: 2025-12-03T19:11:14Z\n---\n\n# application(_:willEncodeRestorableStateWith:)\n\n**Instance Method**\n\nTells your delegate to save any high-level state information at the beginning of the state preservation process.\n\n## Declaration\n\n```swift\n@MainActor optional func application(_ application: UIApplication, willEncodeRestorableStateWith coder: NSCoder)\n```\n\n## Parameters\n\n- **application**: Your singleton app object.\n- **coder**: The keyed archiver in which to write any state information.\n\n## Discussion\n\nThe state preservation system calls this method at the beginning of the preservation process. This is your opportunity to add any app-level information to state information. For example, you might use this method to write version information or the high-level configuration of your app.\n\n\n\nYour implementation of this method can encode restorable view and view controller objects that it needs to reference. Encoding a restorable view or view controller writes that object’s restoration identifier to the coder. (That identifier is used during the decode process to locate the new version of the object.) If the view or view controller defines a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIViewController\/encodeRestorableState(with:)] method, that method is also called at some point so that the object can encode its own state.\n\nApart from views and view controllers, other objects follow the normal serialization process and must adopt the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSCoding] protocol before they can be encoded. Encoding such objects embeds the object’s contents in the archive directly. During the decode process, a new object is created and initialized with the data from the archive.\n\n## Managing app state restoration\n\n- **application(_:shouldSaveSecureApplicationState:)**: Asks the delegate whether to securely preserve the app’s state.\n- **application(_:shouldRestoreSecureApplicationState:)**: Asks the delegate whether to restore the app’s saved state.\n- **application(_:viewControllerWithRestorationIdentifierPath:coder:)**: Asks the delegate to provide the specified view controller.\n- **application(_:didDecodeRestorableStateWith:)**: Tells your delegate to restore any high-level state information as part of the state restoration process.\n- **stateRestorationBundleVersionKey**: The version of your app responsible for creating the restoration archive.\n- **stateRestorationSystemVersionKey**: The version of the system on which your app created the restoration archive.\n- **stateRestorationTimestampKey**: The time your app created the restoration archive.\n- **stateRestorationUserInterfaceIdiomKey**: The user interface idiom that was in effect when your app created the restoration archive.\n- **stateRestorationViewControllerStoryboardKey**: A reference to the storyboard that contains the view controller.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the delegate whether to securely preserve the app’s state.",
          "name" : "application(_:shouldSaveSecureApplicationState:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:shouldSaveSecureApplicationState:)"
        },
        {
          "description" : "Asks the delegate whether to restore the app’s saved state.",
          "name" : "application(_:shouldRestoreSecureApplicationState:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:shouldRestoreSecureApplicationState:)"
        },
        {
          "description" : "Asks the delegate to provide the specified view controller.",
          "name" : "application(_:viewControllerWithRestorationIdentifierPath:coder:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:viewControllerWithRestorationIdentifierPath:coder:)"
        },
        {
          "description" : "Tells your delegate to restore any high-level state information as part of the state restoration process.",
          "name" : "application(_:didDecodeRestorableStateWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didDecodeRestorableStateWith:)"
        },
        {
          "description" : "The version of your app responsible for creating the restoration archive.",
          "name" : "stateRestorationBundleVersionKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/stateRestorationBundleVersionKey"
        },
        {
          "description" : "The version of the system on which your app created the restoration archive.",
          "name" : "stateRestorationSystemVersionKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/stateRestorationSystemVersionKey"
        },
        {
          "description" : "The time your app created the restoration archive.",
          "name" : "stateRestorationTimestampKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/stateRestorationTimestampKey"
        },
        {
          "description" : "The user interface idiom that was in effect when your app created the restoration archive.",
          "name" : "stateRestorationUserInterfaceIdiomKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/stateRestorationUserInterfaceIdiomKey"
        },
        {
          "description" : "A reference to the storyboard that contains the view controller.",
          "name" : "stateRestorationViewControllerStoryboardKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplication\/stateRestorationViewControllerStoryboardKey"
        }
      ],
      "title" : "Managing app state restoration"
    }
  ],
  "source" : "appleJSON",
  "title" : "application(_:willEncodeRestorableStateWith:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UIApplicationDelegate\/application(_:willEncodeRestorableStateWith:)"
}