{
  "abstract" : "The target property’s rate of change at the start of a spring animation, enabling a smooth transition into the animation.",
  "codeExamples" : [
    {
      "code" : "func initialAnimationVelocity(for gestureVelocity: CGPoint, from currentPosition: CGPoint, to finalPosition: CGPoint) -> CGVector {\n    var animationVelocity = CGVector.zero\n    let xDistance = finalPosition.x - currentPosition.x\n    let yDistance = finalPosition.y - currentPosition.y\n    if xDistance != 0 {\n        animationVelocity.dx = gestureVelocity.x \/ xDistance\n    }\n    if yDistance != 0 {\n        animationVelocity.dy = gestureVelocity.y \/ yDistance\n    }\n    return animationVelocity\n}",
      "language" : "swift"
    },
    {
      "code" : "let panRecognizer: UIPanGestureRecognizer = ... \/\/ pan recognizer attached to draggedView\nlet velocity = panRecognizer.velocity(in: view)\nlet initialVelocity = initialAnimationVelocity(for: velocity, from: draggedView.center, to: destination)\n\nlet parameters = UISpringTimingParameters(dampingRatio: dampingRatio, initialVelocity: initialVelocity)\nlet animator = UIViewPropertyAnimator(duration: animationDuration, timingParameters: parameters)\n\nanimator.addAnimations {\n    self.draggedView.center = destination\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "7c091f17c4e6c73dc2231710ccc8f99a039ed99166b6c79c336c7bf919a8de66",
  "crawledAt" : "2025-12-05T21:22:01Z",
  "declaration" : {
    "code" : "@MainActor var initialVelocity: CGVector { get }",
    "language" : "swift"
  },
  "id" : "19704064-469D-4485-9A4B-E014E11C0731",
  "kind" : "property",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nTo create a smooth transition from an object in motion into a spring animation, initialize the spring timing parameters with an initial velocity. One common use of this property is to animate a view to a final resting position at the end of a pan gesture.\n\nFor view position animations, both components of the initial velocity vector are considered. Each component specifies the initial rate of change along the respective `x` and `y` axes, normalized to the total distance of the animation. To calculate an initial velocity vector:\n\nThe following example shows a function that performs this calculation using a velocity from the pan gesture recognizer and the view’s current and final positions.\n\nThe following example shows how a view controller can create a property animator with spring timing parameters. The view controller passes the result of `initialAnimationVelocity` to the spring timing parameters’ initializer. In this example, `draggedView` is an outlet of the view controller. The value of `destination` is the final resting position of `draggedView`.\n\nFor other types of animations where the property value has a single dimension, such as a view’s `alpha`, only the `dx` component is considered.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UISpringTimingParameters\/initialVelocity\ncrawled: 2025-12-05T21:22:01Z\n---\n\n# initialVelocity\n\n**Instance Property**\n\nThe target property’s rate of change at the start of a spring animation, enabling a smooth transition into the animation.\n\n## Declaration\n\n```swift\n@MainActor var initialVelocity: CGVector { get }\n```\n\n## Discussion\n\nTo create a smooth transition from an object in motion into a spring animation, initialize the spring timing parameters with an initial velocity. One common use of this property is to animate a view to a final resting position at the end of a pan gesture.\n\nFor view position animations, both components of the initial velocity vector are considered. Each component specifies the initial rate of change along the respective `x` and `y` axes, normalized to the total distance of the animation. To calculate an initial velocity vector:\n\n1. Start with a velocity of the view in points per second. For example, when moving a view using a [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIPanGestureRecognizer], you can use [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UIPanGestureRecognizer\/velocity(in:)] for this starting value.\n2. Calculate the `x` and `y` distance, in points, from the view’s current position to the final position.\n3. Set the `dx` component of the initial velocity vector to the `x` velocity divided by the `x` distance. If the `x` distance is `0`, set `dx` to `0`.\n4. Set the `dy` component to the `y` velocity divided by the `y` distance. If the `y` distance is `0`, set `dy` to `0`.\n\nThe following example shows a function that performs this calculation using a velocity from the pan gesture recognizer and the view’s current and final positions.\n\n```swift\nfunc initialAnimationVelocity(for gestureVelocity: CGPoint, from currentPosition: CGPoint, to finalPosition: CGPoint) -> CGVector {\n    var animationVelocity = CGVector.zero\n    let xDistance = finalPosition.x - currentPosition.x\n    let yDistance = finalPosition.y - currentPosition.y\n    if xDistance != 0 {\n        animationVelocity.dx = gestureVelocity.x \/ xDistance\n    }\n    if yDistance != 0 {\n        animationVelocity.dy = gestureVelocity.y \/ yDistance\n    }\n    return animationVelocity\n}\n```\n\nThe following example shows how a view controller can create a property animator with spring timing parameters. The view controller passes the result of `initialAnimationVelocity` to the spring timing parameters’ initializer. In this example, `draggedView` is an outlet of the view controller. The value of `destination` is the final resting position of `draggedView`.\n\n```swift\nlet panRecognizer: UIPanGestureRecognizer = ... \/\/ pan recognizer attached to draggedView\nlet velocity = panRecognizer.velocity(in: view)\nlet initialVelocity = initialAnimationVelocity(for: velocity, from: draggedView.center, to: destination)\n\nlet parameters = UISpringTimingParameters(dampingRatio: dampingRatio, initialVelocity: initialVelocity)\nlet animator = UIViewPropertyAnimator(duration: animationDuration, timingParameters: parameters)\n\nanimator.addAnimations {\n    self.draggedView.center = destination\n}\n```\n\nFor other types of animations where the property value has a single dimension, such as a view’s `alpha`, only the `dx` component is considered.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "initialVelocity",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UISpringTimingParameters\/initialVelocity"
}