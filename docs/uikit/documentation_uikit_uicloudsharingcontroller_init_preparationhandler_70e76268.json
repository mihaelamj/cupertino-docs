{
  "abstract" : "Initializes the CloudKit sharing controller with a preparation handler intending to save a new share record.",
  "codeExamples" : [

  ],
  "contentHash" : "8169a130e3daeffbd909b92a51c953c3b97153f2fd0c5902349778a72a21de14",
  "crawledAt" : "2025-12-02T18:49:31Z",
  "declaration" : {
    "code" : "@MainActor init(preparationHandler: @escaping (UICloudSharingController, @escaping (CKShare?, CKContainer?, (any Error)?) -> Void) -> Void)",
    "language" : "swift"
  },
  "id" : "3FFB3F19-9262-408F-8230-B3C496A610C6",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "UIKit",
  "overview" : "## Discussion\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(preparationHandler:)] initializer method to create a new [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance when the user who owns a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] wants to share the record with other people. To determine if the record is shared, check its [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/share] property. If the property value is `nil`, the record is not shared, and this method is the one to use.\n\nThe `preparationHandler:` provided to the initializer method is responsible for saving the new [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record. The handler has two parameters:\n\nAfter you save the new [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record and its root record (the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] representing the data to share) in the preparation handler, you call the completion block. Calling the completion block tells the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance to continue with the invitation workflow.\n\nFor more information and sample code, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Inviting-participants-to-a-new-share].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(preparationHandler:)\ncrawled: 2025-12-02T18:49:31Z\n---\n\n# init(preparationHandler:)\n\n**Initializer**\n\nInitializes the CloudKit sharing controller with a preparation handler intending to save a new share record.\n\n## Declaration\n\n```swift\n@MainActor init(preparationHandler: @escaping (UICloudSharingController, @escaping (CKShare?, CKContainer?, (any Error)?) -> Void) -> Void)\n```\n\n## Parameters\n\n- **preparationHandler**: The block invoked by [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] when it is time for your application to save a newly created [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record.\n\n## Discussion\n\nUse the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController\/init(preparationHandler:)] initializer method to create a new [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance when the user who owns a [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] wants to share the record with other people. To determine if the record is shared, check its [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord\/share] property. If the property value is `nil`, the record is not shared, and this method is the one to use.\n\n\n\nThe `preparationHandler:` provided to the initializer method is responsible for saving the new [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record. The handler has two parameters:\n\n- A reference to the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance that called the preparation handler\n- A reference to a completion block\n\nAfter you save the new [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare] record and its root record (the [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKRecord] representing the data to share) in the preparation handler, you call the completion block. Calling the completion block tells the [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController] instance to continue with the invitation workflow.\n\nFor more information and sample code, see [doc:\/\/com.apple.uikit\/documentation\/UIKit\/UICloudSharingController#Inviting-participants-to-a-new-share].\n\n## Creating the cloud sharing controller\n\n- **init(share:container:)**: Initializes the CloudKit sharing view controller with a CloudKit share record and container to manage participants and restrictions.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes the CloudKit sharing view controller with a CloudKit share record and container to manage participants and restrictions.",
          "name" : "init(share:container:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(share:container:)"
        }
      ],
      "title" : "Creating the cloud sharing controller"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(preparationHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/UICloudSharingController\/init(preparationHandler:)"
}