{
  "abstract" : "Check the validity and integrity of a user’s identity token.",
  "codeExamples" : [

  ],
  "contentHash" : "41cbe431157ad644ffc14cd8909e3298af19256c902b6eda33cd213847737823",
  "crawledAt" : "2025-12-05T16:04:22Z",
  "id" : "59EAB1A5-3BBE-4EB7-A8C1-12AA591AE33C",
  "kind" : "article",
  "language" : "data",
  "module" : "Sign in with Apple REST API",
  "overview" : "## Overview\n\nAfter your app receives a user’s information, you can verify their associated identity token with the server to confirm that the token isn’t expired and ensure it hasn’t been tampered with or replayed to your app. For information about retrieving the identity token, see [doc:\/\/com.apple.signinwithapple\/documentation\/signinwithapple\/authenticating-users-with-sign-in-with-apple].\n\n\n\n### Verify the identity token\n\nStart by securely transmitting the identity token and authorization code to your app server. For more about the information required to verify a user’s identity, see [doc:\/\/com.apple.signinwithapple\/documentation\/signinwithapple\/authenticating-users-with-sign-in-with-apple].\n\nTo verify the identity token, your app server must:\n\nFor more information, see [doc:\/\/com.apple.signinwithapple\/documentation\/SigninwithAppleJS\/AuthorizationI\/id_token].\n\n### Obtain a refresh token\n\nAfter verifying the identity token on your server, call the [doc:\/\/com.apple.signinwithapple\/documentation\/SigninwithAppleRESTAPI\/Generate-and-validate-tokens] endpoint with the `client_id`, `client_secret`, and `nonce` information.\n\nOn success, the server issues a refresh token, which you use to obtain access tokens with future calls. You may verify the refresh token up to once a day to confirm that the user’s Apple Account on that device is still in good standing with Apple’s servers. Apple’s servers may throttle your call if you attempt to verify a user’s Apple Account more than once a day.\n\nYou may continue to use the same refresh token until it’s invalidated — for example, by an Apple Account account password change, or when a user revokes access to your app — or the token verification fails. If any step of the token verification fails, direct your app to fetch a new identity token for the user. Obtaining a new identity token on the device requires user interaction.\n\n### Manage the user session\n\nAfter verifying the identity token, your app is responsible for managing the user session. You may tie the session’s lifetime to successful [doc:\/\/com.apple.documentation\/documentation\/AuthenticationServices\/ASAuthorizationAppleIDProvider\/getCredentialState(forUserID:completion:)] calls on Apple devices. This is a local, inexpensive, nonnetwork call enabled by the Apple Account system that keeps the Apple Account state on a device in sync with Apple servers.\n\nUser interaction is required any time a new identity token is requested. User sessions are long-lived on device, so calling for a new identity token on every launch, or more frequently than once a day, can result in your request failing due to throttling.\n\nIf the user’s Apple Account changes in the system, calls to `getCredentialState(forUserID:completion:)` indicate that the user changed. Assume that a different user has signed in and log out the app’s currently known user.\n\nFor apps running on other systems, use the periodic successful verification of the refresh token to determine the lifetime of the user session.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/signinwithapple\/verifying-a-user\ncrawled: 2025-12-05T16:04:22Z\n---\n\n# Verifying a user\n\n**Article**\n\nCheck the validity and integrity of a user’s identity token.\n\n## Overview\n\nAfter your app receives a user’s information, you can verify their associated identity token with the server to confirm that the token isn’t expired and ensure it hasn’t been tampered with or replayed to your app. For information about retrieving the identity token, see [doc:\/\/com.apple.signinwithapple\/documentation\/signinwithapple\/authenticating-users-with-sign-in-with-apple].\n\n\n\n### Verify the identity token\n\nStart by securely transmitting the identity token and authorization code to your app server. For more about the information required to verify a user’s identity, see [doc:\/\/com.apple.signinwithapple\/documentation\/signinwithapple\/authenticating-users-with-sign-in-with-apple].\n\n\n\nTo verify the identity token, your app server must:\n\n- Verify the JWS E256 signature using the server’s public key\n- Verify the `nonce` for the authentication\n- Verify that the `iss` field contains `https:\/\/appleid.apple.com`\n- Verify that the `aud` field is the developer’s `client_id`\n- Verify that the time is earlier than the `exp` value of the token\n\nFor more information, see [doc:\/\/com.apple.signinwithapple\/documentation\/SigninwithAppleJS\/AuthorizationI\/id_token].\n\n### Obtain a refresh token\n\nAfter verifying the identity token on your server, call the [doc:\/\/com.apple.signinwithapple\/documentation\/SigninwithAppleRESTAPI\/Generate-and-validate-tokens] endpoint with the `client_id`, `client_secret`, and `nonce` information.\n\nOn success, the server issues a refresh token, which you use to obtain access tokens with future calls. You may verify the refresh token up to once a day to confirm that the user’s Apple Account on that device is still in good standing with Apple’s servers. Apple’s servers may throttle your call if you attempt to verify a user’s Apple Account more than once a day.\n\nYou may continue to use the same refresh token until it’s invalidated — for example, by an Apple Account account password change, or when a user revokes access to your app — or the token verification fails. If any step of the token verification fails, direct your app to fetch a new identity token for the user. Obtaining a new identity token on the device requires user interaction.\n\n### Manage the user session\n\nAfter verifying the identity token, your app is responsible for managing the user session. You may tie the session’s lifetime to successful [doc:\/\/com.apple.documentation\/documentation\/AuthenticationServices\/ASAuthorizationAppleIDProvider\/getCredentialState(forUserID:completion:)] calls on Apple devices. This is a local, inexpensive, nonnetwork call enabled by the Apple Account system that keeps the Apple Account state on a device in sync with Apple servers.\n\nUser interaction is required any time a new identity token is requested. User sessions are long-lived on device, so calling for a new identity token on every launch, or more frequently than once a day, can result in your request failing due to throttling.\n\nIf the user’s Apple Account changes in the system, calls to `getCredentialState(forUserID:completion:)` indicate that the user changed. Assume that a different user has signed in and log out the app’s currently known user.\n\nFor apps running on other systems, use the periodic successful verification of the refresh token to determine the lifetime of the user session.\n\n## Authentication and verification of users\n\n- **Authenticating users with Sign in with Apple**: Securely authenticate users and create accounts for them in your app.\n- **Processing changes for Sign in with Apple accounts**: Manage user-initiated modifications to maintain privacy with server-to-server notifications.\n- **Request an authorization to the Sign in with Apple server**: Add a Sign in with Apple authorization flow to apps and web services that can’t directly access Sign in with Apple JS.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Securely authenticate users and create accounts for them in your app.",
          "name" : "Authenticating users with Sign in with Apple",
          "url" : "https:\/\/developer.apple.com\/documentation\/signinwithapple\/authenticating-users-with-sign-in-with-apple"
        },
        {
          "description" : "Manage user-initiated modifications to maintain privacy with server-to-server notifications.",
          "name" : "Processing changes for Sign in with Apple accounts",
          "url" : "https:\/\/developer.apple.com\/documentation\/signinwithapple\/processing-changes-for-sign-in-with-apple-accounts"
        },
        {
          "description" : "Add a Sign in with Apple authorization flow to apps and web services that can’t directly access Sign in with Apple JS.",
          "name" : "Request an authorization to the Sign in with Apple server",
          "url" : "https:\/\/developer.apple.com\/documentation\/SigninwithAppleRESTAPI\/Request-an-authorization-to-the-Sign-in-with-Apple-server."
        }
      ],
      "title" : "Authentication and verification of users"
    }
  ],
  "source" : "appleJSON",
  "title" : "Verifying a user",
  "url" : "https:\/\/developer.apple.com\/documentation\/signinwithapple\/verifying-a-user"
}