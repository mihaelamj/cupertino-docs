{
  "abstract" : "A container for all the ClassKit data in your app.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "c1e6a722943c687d38b2416ab48127c91b6e07c05db9c4bd3f22540fc30eeee1",
  "crawledAt" : "2025-12-02T15:48:48Z",
  "declaration" : {
    "code" : "class CLSDataStore",
    "language" : "swift"
  },
  "id" : "5AE133C8-50E2-40E8-B458-D02358645D9F",
  "kind" : "class",
  "language" : "swift",
  "module" : "ClassKit",
  "overview" : "## Overview\n\nUse the ClassKit data store to build and access contexts ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSContext] instances) that you use to advertise your app’s assignable content. Contexts in turn provide access to activities ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSActivity] instances) and activity items ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSScoreItem], [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSBinaryItem], and [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSQuantityItem] instances) that you use to record progress through assignments. You don’t instantiate a data store yourself. Instead, use the single [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/shared] data store instance throughout your app.\n\nThe data store provides access to the app’s one and only main context through the [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/mainAppContext] property. This property acts as the root context in your context hierarchy that you can use as a starting point when searching for descendant contexts.\n\nTo build contexts, you adopt the [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStoreDelegate] protocol in one of your classes, typically one that exists for the lifetime of your app, and assign an instance of that class as the shared data store’s [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/delegate] property. Then, when the data store needs a context that it’s never seen before, it asks your delegate to build it.\n\nAfter you make changes to any context, activity, or activity item, call the data store’s [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/save(completion:)] method to commit the changes, and propagate them through the network.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\ncrawled: 2025-12-02T15:48:48Z\n---\n\n# CLSDataStore\n\n**Class**\n\nA container for all the ClassKit data in your app.\n\n## Declaration\n\n```swift\nclass CLSDataStore\n```\n\n## Overview\n\nUse the ClassKit data store to build and access contexts ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSContext] instances) that you use to advertise your app’s assignable content. Contexts in turn provide access to activities ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSActivity] instances) and activity items ([doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSScoreItem], [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSBinaryItem], and [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSQuantityItem] instances) that you use to record progress through assignments. You don’t instantiate a data store yourself. Instead, use the single [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/shared] data store instance throughout your app.\n\nThe data store provides access to the app’s one and only main context through the [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/mainAppContext] property. This property acts as the root context in your context hierarchy that you can use as a starting point when searching for descendant contexts.\n\nTo build contexts, you adopt the [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStoreDelegate] protocol in one of your classes, typically one that exists for the lifetime of your app, and assign an instance of that class as the shared data store’s [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/delegate] property. Then, when the data store needs a context that it’s never seen before, it asks your delegate to build it.\n\nAfter you make changes to any context, activity, or activity item, call the data store’s [doc:\/\/com.apple.classkit\/documentation\/ClassKit\/CLSDataStore\/save(completion:)] method to commit the changes, and propagate them through the network.\n\n## Accessing the shared data store\n\n- **shared**: The shared data store object.\n\n## Managing the delegate\n\n- **Building missing contexts**: Create and initialize missing contexts.\n- **delegate**: The data store delegate instance.\n- **CLSDataStoreDelegate**: An interface the data store uses to request new contexts.\n\n## Accessing specific contexts and activities\n\n- **mainAppContext**: The app’s top-level context.\n- **activeContext**: The currently active context.\n- **runningActivity**: The currently running activity within the currently active context.\n- **fetchActivity(for:completion:)**: Fetches an activity for a given document so you can record progress on the associated task.\n- **completeAllAssignedActivities(matching:)**: Marks all of the assigned and active activities for the given context path as complete.\n\n## Finding contexts that match criteria\n\n- **contexts(matchingIdentifierPath:completion:)**: Fetches all the contexts along a given identifier path.\n- **contexts(matching:completion:)**: Fetches all the contexts matching a predicate.\n- **CLSPredicateKeyPath**: The set of possible key paths you use to search for contexts.\n\n## Removing contexts\n\n- **remove(_:)**: Marks a context for removal.\n\n## Saving changes\n\n- **save(completion:)**: Saves any changes you’ve made in the data store.\n\n## Essentials\n\n- **Enabling ClassKit in your app**: Prepare your app and your development environment to adopt ClassKit.\n- **ClassKit Environment Entitlement**: The ClassKit development or production environment for an education app that works with the Schoolwork app.\n- **Incorporating ClassKit into an Educational App**: Walk through the process of setting up assignments and recording student progress.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The shared data store object.",
          "name" : "shared",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/shared"
        }
      ],
      "title" : "Accessing the shared data store"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create and initialize missing contexts.",
          "name" : "Building missing contexts",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/building-missing-contexts"
        },
        {
          "description" : "The data store delegate instance.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/delegate"
        },
        {
          "description" : "An interface the data store uses to request new contexts.",
          "name" : "CLSDataStoreDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStoreDelegate"
        }
      ],
      "title" : "Managing the delegate"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The app’s top-level context.",
          "name" : "mainAppContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/mainAppContext"
        },
        {
          "description" : "The currently active context.",
          "name" : "activeContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/activeContext"
        },
        {
          "description" : "The currently running activity within the currently active context.",
          "name" : "runningActivity",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/runningActivity"
        },
        {
          "description" : "Fetches an activity for a given document so you can record progress on the associated task.",
          "name" : "fetchActivity(for:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/fetchActivity(for:completion:)"
        },
        {
          "description" : "Marks all of the assigned and active activities for the given context path as complete.",
          "name" : "completeAllAssignedActivities(matching:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/completeAllAssignedActivities(matching:)"
        }
      ],
      "title" : "Accessing specific contexts and activities"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Fetches all the contexts along a given identifier path.",
          "name" : "contexts(matchingIdentifierPath:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/contexts(matchingIdentifierPath:completion:)"
        },
        {
          "description" : "Fetches all the contexts matching a predicate.",
          "name" : "contexts(matching:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/contexts(matching:completion:)"
        },
        {
          "description" : "The set of possible key paths you use to search for contexts.",
          "name" : "CLSPredicateKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSPredicateKeyPath"
        }
      ],
      "title" : "Finding contexts that match criteria"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Marks a context for removal.",
          "name" : "remove(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/remove(_:)"
        }
      ],
      "title" : "Removing contexts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Saves any changes you’ve made in the data store.",
          "name" : "save(completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore\/save(completion:)"
        }
      ],
      "title" : "Saving changes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prepare your app and your development environment to adopt ClassKit.",
          "name" : "Enabling ClassKit in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/enabling-classkit-in-your-app"
        },
        {
          "description" : "The ClassKit development or production environment for an education app that works with the Schoolwork app.",
          "name" : "ClassKit Environment Entitlement",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.ClassKit-environment"
        },
        {
          "description" : "Walk through the process of setting up assignments and recording student progress.",
          "name" : "Incorporating ClassKit into an Educational App",
          "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/incorporating-classkit-into-an-educational-app"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CLSDataStore",
  "url" : "https:\/\/developer.apple.com\/documentation\/ClassKit\/CLSDataStore"
}