{
  "abstract" : "An opaque type that you use to write image data to a URL, data object, or data consumer.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "Equatable",
    "Hashable"
  ],
  "contentHash" : "3d9cb530b62732727e85bed3f32d9f8f4f571a81b3493b5c04bda4b660c69c16",
  "crawledAt" : "2025-12-07T12:23:56Z",
  "declaration" : {
    "code" : "class CGImageDestination",
    "language" : "swift"
  },
  "id" : "95F4E5DA-9558-4B28-8DA1-97B02E0EF6B3",
  "kind" : "class",
  "language" : "swift",
  "module" : "Image I\/O",
  "overview" : "## Overview\n\nA [doc:\/\/com.apple.imageio\/documentation\/ImageIO\/CGImageDestination] object provides an abstract interface for saving image data. Use an image destination to represent a single image, or multiple images packaged together. For example, you might create an image that also contains a thumbnail. You can also use the image destination to add metadata to your images.\n\nAn image destination outputs data to a URL, a `CFData` object, or a [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDataConsumer] object, which you specify at creation time. After you create the image destination, add the image data and properties. When you are done, call [doc:\/\/com.apple.imageio\/documentation\/ImageIO\/CGImageDestinationFinalize(_:)] to finalize the image data and write it to the output location.\n\nFor more information, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Conceptual\/ImageIOGuide\/imageio_intro\/ikpg_intro.html#\/\/apple_ref\/doc\/uid\/TP40005462].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/imageio\/cgimagedestination\ncrawled: 2025-12-07T12:23:56Z\n---\n\n# CGImageDestination\n\n**Class**\n\nAn opaque type that you use to write image data to a URL, data object, or data consumer.\n\n## Declaration\n\n```swift\nclass CGImageDestination\n```\n\n## Overview\n\nA [doc:\/\/com.apple.imageio\/documentation\/ImageIO\/CGImageDestination] object provides an abstract interface for saving image data. Use an image destination to represent a single image, or multiple images packaged together. For example, you might create an image that also contains a thumbnail. You can also use the image destination to add metadata to your images.\n\nAn image destination outputs data to a URL, a `CFData` object, or a [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDataConsumer] object, which you specify at creation time. After you create the image destination, add the image data and properties. When you are done, call [doc:\/\/com.apple.imageio\/documentation\/ImageIO\/CGImageDestinationFinalize(_:)] to finalize the image data and write it to the output location.\n\nFor more information, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Conceptual\/ImageIOGuide\/imageio_intro\/ikpg_intro.html#\/\/apple_ref\/doc\/uid\/TP40005462].\n\n## Creating an Image Destination\n\n- **CGImageDestinationCreateWithURL(_:_:_:_:)**: Creates an image destination that writes image data to the specified URL.\n- **CGImageDestinationCreateWithData(_:_:_:_:)**: Creates an image destination that writes to a Core Foundation mutable data object.\n- **CGImageDestinationCreateWithDataConsumer(_:_:_:_:)**: Creates an image destination that writes to the specified data consumer.\n\n## Adding Images to the Destination\n\n- **CGImageDestinationAddImage(_:_:_:)**: Adds an image to an image destination.\n- **CGImageDestinationAddImageFromSource(_:_:_:_:)**: Adds an image from an image source to an image destination.\n\n## Adding Metadata to the Image\n\n- **CGImageDestinationSetProperties(_:_:)**: Applies one or more properties to all images in an image destination.\n- **CGImageDestinationAddAuxiliaryDataInfo(_:_:_:)**: Sets the auxiliary data, such as mattes and depth information, that accompany the image.\n\n## Finalizing the Image Data\n\n- **CGImageDestinationFinalize(_:)**: Writes image data and properties to the data, URL, or data consumer associated with the image destination.\n\n## Getting the Image Types\n\n- **CGImageDestinationCopyTypeIdentifiers()**: Returns an array of the uniform type identifiers that are supported for image destinations.\n- **CGImageDestinationGetTypeID()**: Returns the unique type identifier of an image destination opaque type.\n\n## Configuring the Image Behaviors\n\n- **kCGImageDestinationLossyCompressionQuality**: The desired compression quality to use when writing the image data.\n- **kCGImageDestinationBackgroundColor**: The background color to use when the image has an alpha component, but the destination format doesn’t support alpha.\n- **kCGImageDestinationDateTime**: The date and time information to associate with the image.\n- **kCGImageDestinationEmbedThumbnail**: A Boolean value that indicates whether to embed a thumbnail for JPEG and HEIF images.\n- **kCGImageDestinationImageMaxPixelSize**: The maximum width and height of the image, in pixels.\n- **kCGImageDestinationMetadata**: The metadata tags to include with the image.\n- **kCGImageDestinationMergeMetadata**: A Boolean value that indicates whether to merge new metadata with the image’s existing metadata.\n- **kCGImageDestinationOptimizeColorForSharing**: A Boolean value that indicates whether to create the image using a colorspace.\n- **kCGImageDestinationOrientation**: The orientation of the image, specified as an EXIF value in the range 1 to 8.\n- **kCGImageDestinationPreserveGainMap**: A Boolean value that indicates whether to include a HEIF-embedded gain map in the image data.\n- **kCGImageMetadataShouldExcludeGPS**: A Boolean value that indicates whether to exclude GPS metadata from EXIF data or the corresponding XMP tags.\n- **kCGImageMetadataShouldExcludeXMP**: A Boolean value that indicates whether to exclude XMP data from the destination.\n\n## Image Management\n\n- **CGImageSource**: An opaque type that you use to read image data from a URL, data object, or data consumer.\n\n## Conforms To\n\n- Equatable\n- Hashable\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an image destination that writes image data to the specified URL.",
          "name" : "CGImageDestinationCreateWithURL(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationCreateWithURL(_:_:_:_:)"
        },
        {
          "description" : "Creates an image destination that writes to a Core Foundation mutable data object.",
          "name" : "CGImageDestinationCreateWithData(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationCreateWithData(_:_:_:_:)"
        },
        {
          "description" : "Creates an image destination that writes to the specified data consumer.",
          "name" : "CGImageDestinationCreateWithDataConsumer(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationCreateWithDataConsumer(_:_:_:_:)"
        }
      ],
      "title" : "Creating an Image Destination"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds an image to an image destination.",
          "name" : "CGImageDestinationAddImage(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationAddImage(_:_:_:)"
        },
        {
          "description" : "Adds an image from an image source to an image destination.",
          "name" : "CGImageDestinationAddImageFromSource(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationAddImageFromSource(_:_:_:_:)"
        }
      ],
      "title" : "Adding Images to the Destination"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Applies one or more properties to all images in an image destination.",
          "name" : "CGImageDestinationSetProperties(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationSetProperties(_:_:)"
        },
        {
          "description" : "Sets the auxiliary data, such as mattes and depth information, that accompany the image.",
          "name" : "CGImageDestinationAddAuxiliaryDataInfo(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationAddAuxiliaryDataInfo(_:_:_:)"
        }
      ],
      "title" : "Adding Metadata to the Image"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Writes image data and properties to the data, URL, or data consumer associated with the image destination.",
          "name" : "CGImageDestinationFinalize(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationFinalize(_:)"
        }
      ],
      "title" : "Finalizing the Image Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an array of the uniform type identifiers that are supported for image destinations.",
          "name" : "CGImageDestinationCopyTypeIdentifiers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationCopyTypeIdentifiers()"
        },
        {
          "description" : "Returns the unique type identifier of an image destination opaque type.",
          "name" : "CGImageDestinationGetTypeID()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageDestinationGetTypeID()"
        }
      ],
      "title" : "Getting the Image Types"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The desired compression quality to use when writing the image data.",
          "name" : "kCGImageDestinationLossyCompressionQuality",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationLossyCompressionQuality"
        },
        {
          "description" : "The background color to use when the image has an alpha component, but the destination format doesn’t support alpha.",
          "name" : "kCGImageDestinationBackgroundColor",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationBackgroundColor"
        },
        {
          "description" : "The date and time information to associate with the image.",
          "name" : "kCGImageDestinationDateTime",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationDateTime"
        },
        {
          "description" : "A Boolean value that indicates whether to embed a thumbnail for JPEG and HEIF images.",
          "name" : "kCGImageDestinationEmbedThumbnail",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationEmbedThumbnail"
        },
        {
          "description" : "The maximum width and height of the image, in pixels.",
          "name" : "kCGImageDestinationImageMaxPixelSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationImageMaxPixelSize"
        },
        {
          "description" : "The metadata tags to include with the image.",
          "name" : "kCGImageDestinationMetadata",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationMetadata"
        },
        {
          "description" : "A Boolean value that indicates whether to merge new metadata with the image’s existing metadata.",
          "name" : "kCGImageDestinationMergeMetadata",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationMergeMetadata"
        },
        {
          "description" : "A Boolean value that indicates whether to create the image using a colorspace.",
          "name" : "kCGImageDestinationOptimizeColorForSharing",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationOptimizeColorForSharing"
        },
        {
          "description" : "The orientation of the image, specified as an EXIF value in the range 1 to 8.",
          "name" : "kCGImageDestinationOrientation",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationOrientation"
        },
        {
          "description" : "A Boolean value that indicates whether to include a HEIF-embedded gain map in the image data.",
          "name" : "kCGImageDestinationPreserveGainMap",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageDestinationPreserveGainMap"
        },
        {
          "description" : "A Boolean value that indicates whether to exclude GPS metadata from EXIF data or the corresponding XMP tags.",
          "name" : "kCGImageMetadataShouldExcludeGPS",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageMetadataShouldExcludeGPS"
        },
        {
          "description" : "A Boolean value that indicates whether to exclude XMP data from the destination.",
          "name" : "kCGImageMetadataShouldExcludeXMP",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/kCGImageMetadataShouldExcludeXMP"
        }
      ],
      "title" : "Configuring the Image Behaviors"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An opaque type that you use to read image data from a URL, data object, or data consumer.",
          "name" : "CGImageSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImageIO\/CGImageSource"
        }
      ],
      "title" : "Image Management"
    }
  ],
  "source" : "appleJSON",
  "title" : "CGImageDestination",
  "url" : "https:\/\/developer.apple.com\/documentation\/imageio\/cgimagedestination"
}