{
  "abstract" : "Create sparse matrices for factorization and solving systems.",
  "codeExamples" : [

  ],
  "contentHash" : "c6f6e8ea8633130a0b022ea8793f8406d5f451e2bce503cc3312a6f8d3758a12",
  "crawledAt" : "2025-12-02T15:37:35Z",
  "id" : "B9433801-8D2E-4A04-8768-B8A4AD199D46",
  "kind" : "article",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Overview\n\nIn the Accelerate framework, the Sparse Solvers library stores sparse matrices using the compressed sparse column (CSC) format. CSC stores a matrix as a series of column vectors that specify the nonzero entries as `(row-index, value)` pairs and omit the zero entries.\n\nThe Sparse Solvers library provides routines to convert matrices from other formats to CSC. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/conversion-from-other-formats].\n\nThe Sparse Solvers library supports unsymmetric and symmetric sparse matrices, each of which can also be block matrices.\n\n### Create an unsymmetric matrix\n\nIn this example of an unsymmetric sparse matrix, empty cells represent zeros:\n\n\n\nThe first step to create a matrix is to define two arrays that store the row indices and corresponding values.\n\nIn addition to the `(row-index, value)` pairs, create a third array that specifies where each column starts. This array requires an additional, final entry that defines the final column’s length.\n\nIn the following example, the zeroth item in the `values` array starts column 0, the third starts column 1, and the seventh starts column 2:\n\nThe two structural arrays, `rowIndices` and `columnStarts`, create a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure] instance that describes the matrix’s structure. The initializer requires an attributes object, and the default parameters of a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseAttributes_t] instance specify an unsymmetric matrix.\n\nThe following code uses the `structure` and `values` items to create a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] instance:\n\n### Create a symmetric matrix\n\nIn this example of a symmetric sparse matrix, empty cells represent zeros:\n\n\n\nBecause it’s symmetric, the values in the upper triangle of the matrix are redundant, so exclude them from the data that you pass to the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] initializer.  The example below shows the excluded values in gray:\n\n\n\nAs with the unsymmetric example, the `rowIndices` array specifies the row in the matrix that contains the corresponding item in `values`, and the `columnStarts` array specifies where each column starts in the `rowIndices` array.\n\nIn the following example, the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure\/attributes] parameter specifies that the matrix is symmetric and the items in the values array derive from the lower triangle:\n\nCreate the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] instance using the structure from the code example above and the values from the lower triangle of the matrix.\n\n### Create a block matrix\n\nYou can create block sparse matrices *—* that is, a matrix that consists of blocks that contain multiple values — by defining a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure\/blockSize] greater than 1. The block size is the length of the side of the square block.\n\nBlock matrices can be symmetric or unsymmetric. This example shows an unsymmetric sparse matrix with a block size of 3:\n\n\n\nThe following example shows the code to create a sparse matrix with the structure and values above. The [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure] specifies a block size of 3. The values for each block concatenate in column-major order.\n\nWhen you create a symmetric matrix with a block size greater than 1, the blocks along the matrix’s diagonal must also be symmetric.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-sparse-matrices\ncrawled: 2025-12-02T15:37:35Z\n---\n\n# Creating sparse matrices\n\n**Article**\n\nCreate sparse matrices for factorization and solving systems.\n\n## Overview\n\nIn the Accelerate framework, the Sparse Solvers library stores sparse matrices using the compressed sparse column (CSC) format. CSC stores a matrix as a series of column vectors that specify the nonzero entries as `(row-index, value)` pairs and omit the zero entries.\n\nThe Sparse Solvers library provides routines to convert matrices from other formats to CSC. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/conversion-from-other-formats].\n\nThe Sparse Solvers library supports unsymmetric and symmetric sparse matrices, each of which can also be block matrices.\n\n- An *unsymmetric matrix* contains either [doc:\/\/com.apple.documentation\/documentation\/Swift\/Double] or [doc:\/\/com.apple.documentation\/documentation\/Swift\/Float] values with no symmetry between its lower-left and upper-right triangles.\n- A *symmetric matrix* is symmetrical along the diagonal from its upper-left to lower-right corners. In other words, a symmetric matrix is equal to its transpose (*A=Aᵀ*).\n- A *block matrix* can be either unsymmetric or symmetric, and consists of sections called blocks. The blocks along the diagonal of a symmetric block matrix must, themselves, be symmetrical.\n\n### Create an unsymmetric matrix\n\nIn this example of an unsymmetric sparse matrix, empty cells represent zeros:\n\n\n\nThe first step to create a matrix is to define two arrays that store the row indices and corresponding values.\n\n\n\nIn addition to the `(row-index, value)` pairs, create a third array that specifies where each column starts. This array requires an additional, final entry that defines the final column’s length.\n\nIn the following example, the zeroth item in the `values` array starts column 0, the third starts column 1, and the seventh starts column 2:\n\n\n\nThe two structural arrays, `rowIndices` and `columnStarts`, create a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure] instance that describes the matrix’s structure. The initializer requires an attributes object, and the default parameters of a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseAttributes_t] instance specify an unsymmetric matrix.\n\n\n\nThe following code uses the `structure` and `values` items to create a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] instance:\n\n\n\n### Create a symmetric matrix\n\nIn this example of a symmetric sparse matrix, empty cells represent zeros:\n\n\n\nBecause it’s symmetric, the values in the upper triangle of the matrix are redundant, so exclude them from the data that you pass to the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] initializer.  The example below shows the excluded values in gray:\n\n\n\nAs with the unsymmetric example, the `rowIndices` array specifies the row in the matrix that contains the corresponding item in `values`, and the `columnStarts` array specifies where each column starts in the `rowIndices` array.\n\nIn the following example, the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure\/attributes] parameter specifies that the matrix is symmetric and the items in the values array derive from the lower triangle:\n\n\n\nCreate the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrix_Double] instance using the structure from the code example above and the values from the lower triangle of the matrix.\n\n\n\n### Create a block matrix\n\nYou can create block sparse matrices *—* that is, a matrix that consists of blocks that contain multiple values — by defining a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure\/blockSize] greater than 1. The block size is the length of the side of the square block.\n\nBlock matrices can be symmetric or unsymmetric. This example shows an unsymmetric sparse matrix with a block size of 3:\n\n\n\nThe following example shows the code to create a sparse matrix with the structure and values above. The [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseMatrixStructure] specifies a block size of 3. The values for each block concatenate in column-major order.\n\n\n\nWhen you create a symmetric matrix with a block size greater than 1, the blocks along the matrix’s diagonal must also be symmetric.\n\n## Sparse Matrices\n\n- **Solving systems using direct methods**: Use direct methods to solve systems of equations where the coefficient matrix is sparse.\n- **Solving systems using iterative methods**: Use iterative methods to solve systems of equations where the coefficient matrix is sparse.\n- **Creating a sparse matrix from coordinate format arrays**: Use separate coordinate format arrays to create sparse matrices.\n- **Sparse Solvers**: Solve systems of equations where the coefficient matrix is sparse.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use direct methods to solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Solving systems using direct methods",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/solving-systems-using-direct-methods"
        },
        {
          "description" : "Use iterative methods to solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Solving systems using iterative methods",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/solving-systems-using-iterative-methods"
        },
        {
          "description" : "Use separate coordinate format arrays to create sparse matrices.",
          "name" : "Creating a sparse matrix from coordinate format arrays",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-a-sparse-matrix-from-coordinate-format-arrays"
        },
        {
          "description" : "Solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Sparse Solvers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/sparse-solvers-library"
        }
      ],
      "title" : "Sparse Matrices"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating sparse matrices",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-sparse-matrices"
}