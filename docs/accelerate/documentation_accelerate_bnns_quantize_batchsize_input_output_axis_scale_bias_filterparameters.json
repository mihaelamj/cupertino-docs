{
  "abstract" : "Quantizes the input tensor and writes the result to the output tensor.",
  "codeExamples" : [
    {
      "code" : "static func quantize() {\n    \n    let inputValues = [1, 2, 3, 4,\n                       5, 6, 7, 8] as [Float]\n    \n    let input = BNNSNDArrayDescriptor.allocate(\n        initializingFrom: inputValues,\n        shape: .matrixRowMajor(4, 2))\n    \n    let output = BNNSNDArrayDescriptor.allocateUninitialized(\n        scalarType: Int16.self,\n        shape: input.shape)\n    \n    let scale = BNNSNDArrayDescriptor.allocate(\n        initializingFrom: [1, 10, 100, 1000] as [Float],\n        shape: .vector(4))\n    \n    try? BNNS.quantize(batchSize: 1,\n                       input: input,\n                       output: output,\n                       axis: 0,\n                       scale: scale,\n                       bias: nil)\n\n    \/\/ Prints:\n    \/\/  [1, 20, 300, 4000,\n    \/\/   5, 60, 700, 8000]\n    print(output.makeArray(of: Int16.self)!)\n    \n    input.deallocate()\n    output.deallocate()\n    scale.deallocate()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "01e658914872119adfc1a8ddeb15054754421bd9cafcd1c7cef96bb6ef7b214a",
  "crawledAt" : "2025-12-01T03:05:43Z",
  "declaration" : {
    "code" : "static func quantize(batchSize: Int, input: BNNSNDArrayDescriptor, output: BNNSNDArrayDescriptor, axis: Int? = nil, scale: BNNSNDArrayDescriptor?, bias: BNNSNDArrayDescriptor?, filterParameters: BNNSFilterParameters? = nil) throws",
    "language" : "swift"
  },
  "id" : "0F69B388-7315-4896-A032-CFC1DEDB1CDC",
  "kind" : "method",
  "module" : "Accelerate",
  "overview" : "## Discussion\n\nThe following code quantizes a single-precision matrix to a 16-bit integer matrix. The code applies the scale along the zeroth axis and, therefore, the scale tensor contains four elements.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/accelerate\/bnns\/quantize(batchsize:input:output:axis:scale:bias:filterparameters:)\ncrawled: 2025-12-01T03:05:43Z\n---\n\n# quantize(batchSize:input:output:axis:scale:bias:filterParameters:)\n\n**Type Method**\n\nQuantizes the input tensor and writes the result to the output tensor.\n\n## Declaration\n\n```swift\nstatic func quantize(batchSize: Int, input: BNNSNDArrayDescriptor, output: BNNSNDArrayDescriptor, axis: Int? = nil, scale: BNNSNDArrayDescriptor?, bias: BNNSNDArrayDescriptor?, filterParameters: BNNSFilterParameters? = nil) throws\n```\n\n## Parameters\n\n- **batchSize**: The number of input-output pairs to process.\n- **input**: The descriptor of the input.\n- **output**: The descriptor of the output.\n- **axis**: The index of the axis to which the function applies scale and bias. Set to `nil` to dequantize the entire tensor using scale and bias.\n- **scale**: The scale, set to `nil` for a scale of `1.0`.\n- **bias**: The bias, set to `nil` for a bias of `0.0`.\n- **filterParameters**: Runtime filter parameters.\n\n## Discussion\n\nThe following code quantizes a single-precision matrix to a 16-bit integer matrix. The code applies the scale along the zeroth axis and, therefore, the scale tensor contains four elements.\n\n```swift\nstatic func quantize() {\n    \n    let inputValues = [1, 2, 3, 4,\n                       5, 6, 7, 8] as [Float]\n    \n    let input = BNNSNDArrayDescriptor.allocate(\n        initializingFrom: inputValues,\n        shape: .matrixRowMajor(4, 2))\n    \n    let output = BNNSNDArrayDescriptor.allocateUninitialized(\n        scalarType: Int16.self,\n        shape: input.shape)\n    \n    let scale = BNNSNDArrayDescriptor.allocate(\n        initializingFrom: [1, 10, 100, 1000] as [Float],\n        shape: .vector(4))\n    \n    try? BNNS.quantize(batchSize: 1,\n                       input: input,\n                       output: output,\n                       axis: 0,\n                       scale: scale,\n                       bias: nil)\n\n    \/\/ Prints:\n    \/\/  [1, 20, 300, 4000,\n    \/\/   5, 60, 700, 8000]\n    print(output.makeArray(of: Int16.self)!)\n    \n    input.deallocate()\n    output.deallocate()\n    scale.deallocate()\n}\n```\n\n## Related Documentation\n\n- **BNNSQuantizerFunctionQuantize**: A constant that specifes conversion to a lower precision.\n\n## Quantization functions\n\n- **dequantize(batchSize:input:output:axis:scale:bias:filterParameters:)**: Dequantizes the input tensor and writes the result to the output tensor.\n- **BNNSQuantizerFunction**: Constants that describe quantization functions.\n- **BNNSLayerParametersQuantization**: A structure that contains the parameters of a quantization layer.\n- **BNNSDirectApplyQuantizer(_:_:_:_:_:)**: Applies a quantization layer directly to two input matrices.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A constant that specifes conversion to a lower precision.",
          "name" : "BNNSQuantizerFunctionQuantize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSQuantizerFunctionQuantize"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Dequantizes the input tensor and writes the result to the output tensor.",
          "name" : "dequantize(batchSize:input:output:axis:scale:bias:filterParameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNS\/dequantize(batchSize:input:output:axis:scale:bias:filterParameters:)"
        },
        {
          "description" : "Constants that describe quantization functions.",
          "name" : "BNNSQuantizerFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSQuantizerFunction"
        },
        {
          "description" : "A structure that contains the parameters of a quantization layer.",
          "name" : "BNNSLayerParametersQuantization",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSLayerParametersQuantization"
        },
        {
          "description" : "Applies a quantization layer directly to two input matrices.",
          "name" : "BNNSDirectApplyQuantizer(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSDirectApplyQuantizer(_:_:_:_:_:)"
        }
      ],
      "title" : "Quantization functions"
    }
  ],
  "source" : "appleJSON",
  "title" : "quantize(batchSize:input:output:axis:scale:bias:filterParameters:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/accelerate\/bnns\/quantize(batchsize:input:output:axis:scale:bias:filterparameters:)"
}