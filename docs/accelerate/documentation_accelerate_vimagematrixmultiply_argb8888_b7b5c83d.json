{
  "abstract" : "Multiplies each pixel in an interleaved four-channel, 8-bit source image by a matrix to produce an interleaved four-channel, 8-bit destination image.",
  "codeExamples" : [
    {
      "code" : "let size = vImage.Size(width: 1, height: 1)\n\nlet source = vImage.PixelBuffer<vImage.Interleaved8x4>(\n    pixelValues: [10, 20, 30, 40],\n    size: size)\n\nlet destination = vImage.PixelBuffer<vImage.Interleaved8x4>(\n    size: size)\n\nlet matrix: [Int16] = [\n    0, 0, 0, 1,\n    0, 0, 1, 0,\n    0, 1, 0, 0,\n    1, 0, 0, 0\n]\n\nsource.withUnsafePointerToVImageBuffer { src in\n    destination.withUnsafePointerToVImageBuffer { dest in\n        \n        _ = vImageMatrixMultiply_ARGB8888(\n            src,\n            dest,\n            matrix,\n            1,\n            nil,\n            nil,\n            vImage_Flags(kvImageNoFlags))\n        \n    }\n}\n\n\/\/ Prints \"[40, 30, 20, 10]\".\nprint(destination.array)",
      "language" : "swift"
    }
  ],
  "contentHash" : "818ce0c3c6f363250a72d169aefd46284d73e97b8be3878485aee862b3f67232",
  "crawledAt" : "2025-12-03T20:55:19Z",
  "declaration" : {
    "code" : "func vImageMatrixMultiply_ARGB8888(_ src: UnsafePointer<vImage_Buffer>, _ dest: UnsafePointer<vImage_Buffer>, _ matrix: UnsafePointer<Int16>, _ divisor: Int32, _ pre_bias: UnsafePointer<Int16>!, _ post_bias: UnsafePointer<Int32>!, _ flags: vImage_Flags) -> vImage_Error",
    "language" : "swift"
  },
  "id" : "84EAF47F-9B5A-4FC2-915A-263745D6E9EE",
  "kind" : "function",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function treats the four-channel source and destination pixels as four-element vectors. The operation multiplies each source pixel by the 4 x 4 matrix to produce the destination pixel.\n\nThe following code shows a single-pixel image that contains the ARGB value `(10, 20, 30, 40)`. The matrix permutes the channel values to produce a single-pixel destination image that contains the ARGB value `(40, 30, 20, 10)`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMatrixMultiply_ARGB8888(_:_:_:_:_:_:_:)\ncrawled: 2025-12-03T20:55:19Z\n---\n\n# vImageMatrixMultiply_ARGB8888(_:_:_:_:_:_:_:)\n\n**Function**\n\nMultiplies each pixel in an interleaved four-channel, 8-bit source image by a matrix to produce an interleaved four-channel, 8-bit destination image.\n\n## Declaration\n\n```swift\nfunc vImageMatrixMultiply_ARGB8888(_ src: UnsafePointer<vImage_Buffer>, _ dest: UnsafePointer<vImage_Buffer>, _ matrix: UnsafePointer<Int16>, _ divisor: Int32, _ pre_bias: UnsafePointer<Int16>!, _ post_bias: UnsafePointer<Int32>!, _ flags: vImage_Flags) -> vImage_Error\n```\n\n## Parameters\n\n- **src**: The source vImage buffer.\n- **dest**: A pointer to the destination vImage buffer structure. Youâ€™re responsible for filling out the `height`, `width`, and `rowBytes` fields of this structure, and for allocating a data buffer of the appropriate size. On return, the data buffer this structure points to contains the destination image data. When you no longer need the data buffer, deallocate the memory to prevent memory leaks.\n- **matrix**: An array of values that contains the 4 x 4 matrix elements.\n- **divisor**: A value that the function divides the matrix multiplication result by after adding postbias.\n- **pre_bias**: An array that contains four bias values. The function adds the corresponding bias value to each source value before the matrix multiplication step. Pass `nil` to specify zero prebias.\n- **post_bias**: An array that contains four bias values. The function adds the corresponding bias value to each destination value after the matrix multiplication step. Pass `nil` to specify zero postbias.\n- **flags**: The options to use when performing the operation. If your code implements its own tiling or its own multithreading, pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageDoNotTile]; otherwise, pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoFlags].\n\n## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function treats the four-channel source and destination pixels as four-element vectors. The operation multiplies each source pixel by the 4 x 4 matrix to produce the destination pixel.\n\nThe following code shows a single-pixel image that contains the ARGB value `(10, 20, 30, 40)`. The matrix permutes the channel values to produce a single-pixel destination image that contains the ARGB value `(40, 30, 20, 10)`.\n\n```swift\nlet size = vImage.Size(width: 1, height: 1)\n\nlet source = vImage.PixelBuffer<vImage.Interleaved8x4>(\n    pixelValues: [10, 20, 30, 40],\n    size: size)\n\nlet destination = vImage.PixelBuffer<vImage.Interleaved8x4>(\n    size: size)\n\nlet matrix: [Int16] = [\n    0, 0, 0, 1,\n    0, 0, 1, 0,\n    0, 1, 0, 0,\n    1, 0, 0, 0\n]\n\nsource.withUnsafePointerToVImageBuffer { src in\n    destination.withUnsafePointerToVImageBuffer { dest in\n        \n        _ = vImageMatrixMultiply_ARGB8888(\n            src,\n            dest,\n            matrix,\n            1,\n            nil,\n            nil,\n            vImage_Flags(kvImageNoFlags))\n        \n    }\n}\n\n\/\/ Prints \"[40, 30, 20, 10]\".\nprint(destination.array)\n```\n\n## Multiplying interleaved pixels by a matrix\n\n- **vImageMatrixMultiply_ARGBFFFF(_:_:_:_:_:_:)**: Multiplies each pixel in an interleaved four-channel, 32-bit source image by a matrix to produce an interleaved four-channel, 32-bit destination image.\n- **vImageMatrixMultiply_ARGB8888ToPlanar8(_:_:_:_:_:_:_:)**: Multiplies each pixel in an interleaved four-channel, 8-bit source image by a matrix to produce a planar 8-bit destination image.\n- **vImageMatrixMultiply_ARGBFFFFToPlanarF(_:_:_:_:_:_:)**: Multiplies each pixel in an interleaved four-channel, 32-bit source image by a matrix to produce a planar 32-bit destination image.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Multiplies each pixel in an interleaved four-channel, 32-bit source image by a matrix to produce an interleaved four-channel, 32-bit destination image.",
          "name" : "vImageMatrixMultiply_ARGBFFFF(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMatrixMultiply_ARGBFFFF(_:_:_:_:_:_:)"
        },
        {
          "description" : "Multiplies each pixel in an interleaved four-channel, 8-bit source image by a matrix to produce a planar 8-bit destination image.",
          "name" : "vImageMatrixMultiply_ARGB8888ToPlanar8(_:_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMatrixMultiply_ARGB8888ToPlanar8(_:_:_:_:_:_:_:)"
        },
        {
          "description" : "Multiplies each pixel in an interleaved four-channel, 32-bit source image by a matrix to produce a planar 32-bit destination image.",
          "name" : "vImageMatrixMultiply_ARGBFFFFToPlanarF(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMatrixMultiply_ARGBFFFFToPlanarF(_:_:_:_:_:_:)"
        }
      ],
      "title" : "Multiplying interleaved pixels by a matrix"
    }
  ],
  "source" : "appleJSON",
  "title" : "vImageMatrixMultiply_ARGB8888(_:_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMatrixMultiply_ARGB8888(_:_:_:_:_:_:_:)"
}