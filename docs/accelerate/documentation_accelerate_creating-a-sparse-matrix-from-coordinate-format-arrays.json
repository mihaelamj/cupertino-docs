{
  "abstract" : "Use separate coordinate format arrays to create sparse matrices.",
  "codeExamples" : [

  ],
  "contentHash" : "50d5ba62ff092121911fdc1585eb08fccb7585dcb399322fe260e50e2a494fb0",
  "crawledAt" : "2025-12-02T15:37:37Z",
  "id" : "711C51E0-B272-4361-B19C-7D50F330CCF0",
  "kind" : "article",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Overview\n\nIn some cases — for example, if you’re reading matrix values from a file — you may find it easier to create sparse matrix objects from coordinate format arrays. This approach requires three separate arrays: one that contains the column indexes, a second that contains the row indexes, and a third that contains the matrix values. Each array contains the same number of elements.\n\n### Create the sparse matrix\n\nThe following is an example of a symmetric sparse matrix:\n\n\n\nBecause this sparse matrix is symmetric, define it with the arrays below that describe its lower triangle. For example, the value `9.5` is in row 2, column 2.\n\nUse the `attributes` parameter to specify that the matrix is symmetric and the items in the values array derive from the lower triangle.\n\nThe following code defines the attributes and creates the sparse matrix instance:\n\n### Invalid and duplicate entries\n\nThe system ignores the block element and doesn’t include it in the returned matrix if the coordinates `(row[i], column[i])` are invalid, meaning either of the following is true:\n\nIf [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseAttributes_t\/kind] is [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseSymmetric], the system transposes any entries in the wrong triangle and sums them into the block at `(column[i], row[i])`, if one is present.\n\nThe system sums elements with duplicate coordinates and replaces them with a single entry.\n\nThe coordinate-conversion functions support block matrices, that is, those with a `blockSize` greater than 1. The described matrix has `rowCount * blockSize` rows and `columnCount * blockSize` columns. For each `i in 0..<blockCount`, there’s a structurally nonzero block at block position `(row[i], column[i])` with numerical values `data[i * blockSize * blockSize:(i + 1) * blockSize * blockSize - 1]`. The system interprets the block’s values as the elements of a dense column-major matrix with `blockSize` rows and columns.\n\n### Supply a user-defined workspace\n\nThere are two variants of each converter. The following functions allocate their own workspace internally and allocate space for the matrices that they return.\n\nThe following functions require preallocated storage for the matrices that they return and a separate workspace for precise control over allocations:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-a-sparse-matrix-from-coordinate-format-arrays\ncrawled: 2025-12-02T15:37:37Z\n---\n\n# Creating a sparse matrix from coordinate format arrays\n\n**Article**\n\nUse separate coordinate format arrays to create sparse matrices.\n\n## Overview\n\nIn some cases — for example, if you’re reading matrix values from a file — you may find it easier to create sparse matrix objects from coordinate format arrays. This approach requires three separate arrays: one that contains the column indexes, a second that contains the row indexes, and a third that contains the matrix values. Each array contains the same number of elements.\n\n### Create the sparse matrix\n\nThe following is an example of a symmetric sparse matrix:\n\n\n\nBecause this sparse matrix is symmetric, define it with the arrays below that describe its lower triangle. For example, the value `9.5` is in row 2, column 2.\n\n\n\nUse the `attributes` parameter to specify that the matrix is symmetric and the items in the values array derive from the lower triangle.\n\nThe following code defines the attributes and creates the sparse matrix instance:\n\n\n\n### Invalid and duplicate entries\n\nThe system ignores the block element and doesn’t include it in the returned matrix if the coordinates `(row[i], column[i])` are invalid, meaning either of the following is true:\n\n- They lie outside the ranges `0..<rowCount` or `0..<columnCount`, respectively.\n- [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseAttributes_t\/kind] is [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseTriangular] or [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseUnitTriangular], and the coordinates lie in the wrong triangle.\n\nIf [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseAttributes_t\/kind] is [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseSymmetric], the system transposes any entries in the wrong triangle and sums them into the block at `(column[i], row[i])`, if one is present.\n\nThe system sums elements with duplicate coordinates and replaces them with a single entry.\n\nThe coordinate-conversion functions support block matrices, that is, those with a `blockSize` greater than 1. The described matrix has `rowCount * blockSize` rows and `columnCount * blockSize` columns. For each `i in 0..<blockCount`, there’s a structurally nonzero block at block position `(row[i], column[i])` with numerical values `data[i * blockSize * blockSize:(i + 1) * blockSize * blockSize - 1]`. The system interprets the block’s values as the elements of a dense column-major matrix with `blockSize` rows and columns.\n\n### Supply a user-defined workspace\n\nThere are two variants of each converter. The following functions allocate their own workspace internally and allocate space for the matrices that they return.\n\n- [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseConvertFromCoordinate(_:_:_:_:_:_:_:_:)-4n2el] for double-precision, floating-point values\n- [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseConvertFromCoordinate(_:_:_:_:_:_:_:_:)-4n2th] for single-precision, floating-point values\n\nThe following functions require preallocated storage for the matrices that they return and a separate workspace for precise control over allocations:\n\n- [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseConvertFromCoordinate(_:_:_:_:_:_:_:_:_:_:)-56hv8] for double-precision, floating-point values\n- [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/SparseConvertFromCoordinate(_:_:_:_:_:_:_:_:_:_:)-84plp] for single-precision, floating-point values\n\n## Sparse Matrices\n\n- **Creating sparse matrices**: Create sparse matrices for factorization and solving systems.\n- **Solving systems using direct methods**: Use direct methods to solve systems of equations where the coefficient matrix is sparse.\n- **Solving systems using iterative methods**: Use iterative methods to solve systems of equations where the coefficient matrix is sparse.\n- **Sparse Solvers**: Solve systems of equations where the coefficient matrix is sparse.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create sparse matrices for factorization and solving systems.",
          "name" : "Creating sparse matrices",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-sparse-matrices"
        },
        {
          "description" : "Use direct methods to solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Solving systems using direct methods",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/solving-systems-using-direct-methods"
        },
        {
          "description" : "Use iterative methods to solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Solving systems using iterative methods",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/solving-systems-using-iterative-methods"
        },
        {
          "description" : "Solve systems of equations where the coefficient matrix is sparse.",
          "name" : "Sparse Solvers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/sparse-solvers-library"
        }
      ],
      "title" : "Sparse Matrices"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating a sparse matrix from coordinate format arrays",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/creating-a-sparse-matrix-from-coordinate-format-arrays"
}