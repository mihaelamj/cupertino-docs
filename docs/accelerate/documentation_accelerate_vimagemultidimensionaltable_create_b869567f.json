{
  "abstract" : "Creates a multidimensional lookup table.",
  "codeExamples" : [
    {
      "code" : "let entriesPerChannel = UInt8(32)\nlet srcChannelCount = 3\nlet destChannelCount = 1\n\nlet lookupTableElementCount = Int(pow(Float(entriesPerChannel),\n                                      Float(srcChannelCount))) * Int(destChannelCount)\n\nlet tableData = [UInt16](unsafeUninitializedCapacity: lookupTableElementCount) {\n    buffer, count in\n    \n    let multiplier = Float(UInt16.max)\n    var bufferIndex = 0\n    \n    for red in ( 0 ..< entriesPerChannel) {\n        for green in ( 0 ..< entriesPerChannel) {\n            for blue in ( 0 ..< entriesPerChannel) {\n                \n                let normalizedRed = Float(red) \/ Float(entriesPerChannel - 1)\n                let normalizedGreen = Float(green) \/ Float(entriesPerChannel - 1)\n                let normalizedBlue = Float(blue) \/ Float(entriesPerChannel - 1)\n                \n                let gray = (normalizedRed * 0.2126) +\n                           (normalizedGreen * 0.7152) +\n                           (normalizedBlue * 0.0722)\n                \n                buffer[ bufferIndex ] = UInt16(gray * multiplier)\n                bufferIndex += 1\n            }\n        }\n    }\n    \n    count = lookupTableElementCount\n}\n\nlet entryCountPerSourceChannel = [UInt8](repeating: entriesPerChannel,\n                                         count: srcChannelCount)\n\nvar error = kvImageNoError\n\nguard let lookupTable = vImageMultidimensionalTable_Create(\n        tableData,\n        UInt32(srcChannelCount),\n        UInt32(destChannelCount),\n        entryCountPerSourceChannel,\n        kvImageMDTableHint_Float,\n        vImage_Flags(kvImageNoFlags),\n        &error) else {\n    fatalError(\"Unable to create multidimensional table \\(error).\")\n}\n\ndefer {\n    vImageMultidimensionalTable_Release(lookupTable)\n} ",
      "language" : "swift"
    }
  ],
  "contentHash" : "d2d21fde73b0ba94062bb182349bd3a51b676246703f5ce6589ad53312c256b8",
  "crawledAt" : "2025-12-02T16:05:34Z",
  "declaration" : {
    "code" : "func vImageMultidimensionalTable_Create(_ tableData: UnsafePointer<UInt16>, _ numSrcChannels: UInt32, _ numDestChannels: UInt32, _ table_entries_per_dimension: UnsafePointer<UInt8>, _ hint: vImageMDTableUsageHint, _ flags: vImage_Flags, _ err: UnsafeMutablePointer<vImage_Error>!) -> vImage_MultidimensionalTable!",
    "language" : "swift"
  },
  "id" : "5B1D8A37-9DF7-4E67-98CA-8517CC9A4D45",
  "kind" : "function",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nUse a multidimensional lookup table to transform the colors in an image. The lookup table defines an output color based on the input color values. The vImage multidimensional lookup table provides interpolation to compute output color values that don’t have an explicit entry in the table for a specified input color.\n\nA [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_MultidimensionalTable] applies transforms to 32-bit and 16Q12 planar pixel buffers.\n\nThe following is an example of a simple lookup table that implements the Rec. 709 luminance coefficients to convert from a three-channel RGB image to a single-channel grayscale image. The lookup table is a 3D cube with 32 entries per channel. Supply the lookup values as a contiguous array of samples that defines the lookup table values. The samples have range `0...65535` that the vImage library interprets as the floating-point range `0...1`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultidimensionalTable_Create(_:_:_:_:_:_:_:)\ncrawled: 2025-12-02T16:05:34Z\n---\n\n# vImageMultidimensionalTable_Create(_:_:_:_:_:_:_:)\n\n**Function**\n\nCreates a multidimensional lookup table.\n\n## Declaration\n\n```swift\nfunc vImageMultidimensionalTable_Create(_ tableData: UnsafePointer<UInt16>, _ numSrcChannels: UInt32, _ numDestChannels: UInt32, _ table_entries_per_dimension: UnsafePointer<UInt8>, _ hint: vImageMDTableUsageHint, _ flags: vImage_Flags, _ err: UnsafeMutablePointer<vImage_Error>!) -> vImage_MultidimensionalTable!\n```\n\n## Parameters\n\n- **tableData**: A pointer to the lookup table data.\n- **numSrcChannels**: The number of channels in an input pixel.\n- **numDestChannels**: The number of channels in an output pixel.\n- **table_entries_per_dimension**: An array that contains the number of table entries for each channel in an input pixel.\n- **hint**: A constant that specifies whether this function sets up the table for particular transform functions. If you only use [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageMultiDimensionalInterpolatedLookupTable_PlanarF(_:_:_:_:_:_:)], pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageMDTableHint_Float]. If you only use [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageMultiDimensionalInterpolatedLookupTable_Planar16Q12(_:_:_:_:_:_:)], pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageMDTableHint_16Q12]. Pass both flags if you use both transform functions.\n- **flags**: The options to use when performing the operation. If your code implements its own tiling or its own multithreading, pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageDoNotTile]; otherwise, pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoFlags].\n- **err**: On output, [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nUse a multidimensional lookup table to transform the colors in an image. The lookup table defines an output color based on the input color values. The vImage multidimensional lookup table provides interpolation to compute output color values that don’t have an explicit entry in the table for a specified input color.\n\nA [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_MultidimensionalTable] applies transforms to 32-bit and 16Q12 planar pixel buffers.\n\nThe following is an example of a simple lookup table that implements the Rec. 709 luminance coefficients to convert from a three-channel RGB image to a single-channel grayscale image. The lookup table is a 3D cube with 32 entries per channel. Supply the lookup values as a contiguous array of samples that defines the lookup table values. The samples have range `0...65535` that the vImage library interprets as the floating-point range `0...1`.\n\n```swift\nlet entriesPerChannel = UInt8(32)\nlet srcChannelCount = 3\nlet destChannelCount = 1\n\nlet lookupTableElementCount = Int(pow(Float(entriesPerChannel),\n                                      Float(srcChannelCount))) * Int(destChannelCount)\n\nlet tableData = [UInt16](unsafeUninitializedCapacity: lookupTableElementCount) {\n    buffer, count in\n    \n    let multiplier = Float(UInt16.max)\n    var bufferIndex = 0\n    \n    for red in ( 0 ..< entriesPerChannel) {\n        for green in ( 0 ..< entriesPerChannel) {\n            for blue in ( 0 ..< entriesPerChannel) {\n                \n                let normalizedRed = Float(red) \/ Float(entriesPerChannel - 1)\n                let normalizedGreen = Float(green) \/ Float(entriesPerChannel - 1)\n                let normalizedBlue = Float(blue) \/ Float(entriesPerChannel - 1)\n                \n                let gray = (normalizedRed * 0.2126) +\n                           (normalizedGreen * 0.7152) +\n                           (normalizedBlue * 0.0722)\n                \n                buffer[ bufferIndex ] = UInt16(gray * multiplier)\n                bufferIndex += 1\n            }\n        }\n    }\n    \n    count = lookupTableElementCount\n}\n\nlet entryCountPerSourceChannel = [UInt8](repeating: entriesPerChannel,\n                                         count: srcChannelCount)\n\nvar error = kvImageNoError\n\nguard let lookupTable = vImageMultidimensionalTable_Create(\n        tableData,\n        UInt32(srcChannelCount),\n        UInt32(destChannelCount),\n        entryCountPerSourceChannel,\n        kvImageMDTableHint_Float,\n        vImage_Flags(kvImageNoFlags),\n        &error) else {\n    fatalError(\"Unable to create multidimensional table \\(error).\")\n}\n\ndefer {\n    vImageMultidimensionalTable_Release(lookupTable)\n} \n```\n\n## Transforming with a multidimensional lookup table\n\n- **Applying color transforms to images with a multidimensional lookup table**: Precompute translation values to optimize color space conversion and other pointwise operations.\n- **Cropping to the subject in a chroma-keyed image**: Convert a chroma-key color to alpha values and trim transparent pixels using Accelerate.\n- **Applying transformations to selected colors in an image**: Desaturate a range of colors in an image with a multidimensional lookup table.\n- **vImageMultiDimensionalInterpolatedLookupTable_PlanarF(_:_:_:_:_:_:)**: Uses a multidimensional lookup table to transform a 32-bit planar image.\n- **vImageMultiDimensionalInterpolatedLookupTable_Planar16Q12(_:_:_:_:_:_:)**: Uses a multidimensional lookup table to transform a 16Q12 planar image.\n- **vImageMultidimensionalTable_Retain(_:)**: Retains a multidimensional table.\n- **vImageMultidimensionalTable_Release(_:)**: Releases a multidimensional table.\n- **vImage_MultidimensionalTable**: An opaque pointer that represents a multidimensional lookup table.\n- **vImageMDTableUsageHint**: Constants that indicate the use for a multidimensional lookup table.\n- **vImage_InterpolationMethod**: Constants that represent different interpolation methods.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Precompute translation values to optimize color space conversion and other pointwise operations.",
          "name" : "Applying color transforms to images with a multidimensional lookup table",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/applying-color-transforms-to-images-with-a-multidimensional-lookup-table"
        },
        {
          "description" : "Convert a chroma-key color to alpha values and trim transparent pixels using Accelerate.",
          "name" : "Cropping to the subject in a chroma-keyed image",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/cropping-to-the-subject-in-a-chroma-keyed-image"
        },
        {
          "description" : "Desaturate a range of colors in an image with a multidimensional lookup table.",
          "name" : "Applying transformations to selected colors in an image",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/applying-transformations-to-selected-colors-in-an-image"
        },
        {
          "description" : "Uses a multidimensional lookup table to transform a 32-bit planar image.",
          "name" : "vImageMultiDimensionalInterpolatedLookupTable_PlanarF(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultiDimensionalInterpolatedLookupTable_PlanarF(_:_:_:_:_:_:)"
        },
        {
          "description" : "Uses a multidimensional lookup table to transform a 16Q12 planar image.",
          "name" : "vImageMultiDimensionalInterpolatedLookupTable_Planar16Q12(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultiDimensionalInterpolatedLookupTable_Planar16Q12(_:_:_:_:_:_:)"
        },
        {
          "description" : "Retains a multidimensional table.",
          "name" : "vImageMultidimensionalTable_Retain(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultidimensionalTable_Retain(_:)"
        },
        {
          "description" : "Releases a multidimensional table.",
          "name" : "vImageMultidimensionalTable_Release(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultidimensionalTable_Release(_:)"
        },
        {
          "description" : "An opaque pointer that represents a multidimensional lookup table.",
          "name" : "vImage_MultidimensionalTable",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_MultidimensionalTable"
        },
        {
          "description" : "Constants that indicate the use for a multidimensional lookup table.",
          "name" : "vImageMDTableUsageHint",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMDTableUsageHint"
        },
        {
          "description" : "Constants that represent different interpolation methods.",
          "name" : "vImage_InterpolationMethod",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_InterpolationMethod"
        }
      ],
      "title" : "Transforming with a multidimensional lookup table"
    }
  ],
  "source" : "appleJSON",
  "title" : "vImageMultidimensionalTable_Create(_:_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageMultidimensionalTable_Create(_:_:_:_:_:_:_:)"
}