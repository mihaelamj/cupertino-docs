{
  "abstract" : "An image buffer that stores an image’s pixel data, dimensions, and row stride.",
  "codeExamples" : [
    {
      "code" : "var buffer = vImage_Buffer()\n\nvImageBuffer_Init(&buffer,\n                  5,    \/\/ height\n                  10,   \/\/ width\n                  8,    \/\/ bits per pixel\n                  vImage_Flags(kvImageNoFlags))",
      "language" : "swift"
    },
    {
      "code" : "let width = 10\nlet height = 5\n\nlet alignmentAndRowBytes = try vImage_Buffer.preferredAlignmentAndRowBytes(\n    width: width,\n    height: height,\n    bitsPerPixel: 8)\n\n\/\/ Prints \"16\".\nprint(alignmentAndRowBytes.rowBytes)\n\nlet data = UnsafeMutableRawPointer.allocate(\n    byteCount: alignmentAndRowBytes.rowBytes * height,\n    alignment: alignmentAndRowBytes.alignment)\n\nlet buffer = vImage_Buffer(data: data,\n                           height: vImagePixelCount(height),\n                           width: vImagePixelCount(width),\n                           rowBytes: alignmentAndRowBytes.rowBytes)",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "BitwiseCopyable"
  ],
  "contentHash" : "6a1de2e24ddbfb69b0ae0b4da3c43caa4b189a91aca644e026fa8f7b119626a7",
  "crawledAt" : "2025-12-02T03:42:56Z",
  "declaration" : {
    "code" : "struct vImage_Buffer",
    "language" : "swift"
  },
  "id" : "AD4260A0-D7EC-44CE-AAD8-DA3DC5068A4F",
  "kind" : "struct",
  "module" : "Accelerate",
  "overview" : "## Overview\n\nThe vImage buffer is the fundamental data structure that the vImage library uses to represent image data. To ensure the best performance, the vImage buffer initialization functions may add extra padding to each row. For example, the following code declares an 8-bit per pixel buffer that’s 10 pixels wide:\n\nAlthough the code defines a buffer with 10 bytes per row, to maximize performance, [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageBuffer_Init(_:_:_:_:_:)] initializes a buffer with 16 bytes per row:\n\n\n\nIf you provide your own buffer storage, call [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_Buffer\/preferredAlignmentAndRowBytes(width:height:bitsPerPixel:)] to get the row stride that ensures your buffer achieves the best performance.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/accelerate\/vimage_buffer\ncrawled: 2025-12-02T03:42:56Z\n---\n\n# vImage_Buffer\n\n**Structure**\n\nAn image buffer that stores an image’s pixel data, dimensions, and row stride.\n\n## Declaration\n\n```swift\nstruct vImage_Buffer\n```\n\n## Overview\n\nThe vImage buffer is the fundamental data structure that the vImage library uses to represent image data. To ensure the best performance, the vImage buffer initialization functions may add extra padding to each row. For example, the following code declares an 8-bit per pixel buffer that’s 10 pixels wide:\n\n```swift\nvar buffer = vImage_Buffer()\n\nvImageBuffer_Init(&buffer,\n                  5,    \/\/ height\n                  10,   \/\/ width\n                  8,    \/\/ bits per pixel\n                  vImage_Flags(kvImageNoFlags))\n```\n\nAlthough the code defines a buffer with 10 bytes per row, to maximize performance, [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageBuffer_Init(_:_:_:_:_:)] initializes a buffer with 16 bytes per row:\n\n\n\nIf you provide your own buffer storage, call [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_Buffer\/preferredAlignmentAndRowBytes(width:height:bitsPerPixel:)] to get the row stride that ensures your buffer achieves the best performance.\n\n```swift\nlet width = 10\nlet height = 5\n\nlet alignmentAndRowBytes = try vImage_Buffer.preferredAlignmentAndRowBytes(\n    width: width,\n    height: height,\n    bitsPerPixel: 8)\n\n\/\/ Prints \"16\".\nprint(alignmentAndRowBytes.rowBytes)\n\nlet data = UnsafeMutableRawPointer.allocate(\n    byteCount: alignmentAndRowBytes.rowBytes * height,\n    alignment: alignmentAndRowBytes.alignment)\n\nlet buffer = vImage_Buffer(data: data,\n                           height: vImagePixelCount(height),\n                           width: vImagePixelCount(width),\n                           rowBytes: alignmentAndRowBytes.rowBytes)\n```\n\n## Creating an empty vImage buffer\n\n- **init(width:height:bitsPerPixel:)**: Creates a new buffer with the specified width, height, and bits per pixel.\n- **init(size:bitsPerPixel:)**: Creates a new buffer with the specified size and bits per pixel.\n- **init()**: Creates an empty vImage buffer.\n\n## Creating a buffer that references existing data\n\n- **init(data:height:width:rowBytes:)**: Creates a new buffer with the specified size that references existing data.\n- **preferredAlignmentAndRowBytes(width:height:bitsPerPixel:)**: Returns the preferred alignment and row bytes for a specified size and bits per pixel.\n\n## Consuming and producing Core Graphics images\n\n- **init(cgImage:flags:)**: Creates a new buffer with the contents of a Core Graphics image.\n- **init(cgImage:format:flags:)**: Creates a new buffer with the contents of a Core Graphics image using the supplied image format.\n- **createCGImage(format:flags:)**: Creates a Core Graphics image from the vImage buffer.\n\n## Inspecting a buffer’s properties\n\n- **data**: A pointer to the top-left pixel of the image.\n- **height**: The height of the image, in pixels.\n- **width**: The width of the image, in pixels.\n- **size**: The size of the image, in pixels.\n- **rowBytes**: The distance, in bytes, between the start of one pixel row and the next in an image, including any unused space between them.\n\n## Copying a buffer’s contents\n\n- **copy(destinationBuffer:pixelSize:flags:)**: Copies the contents of a vImage buffer to the specified destination buffer.\n\n## Deallocating a buffer\n\n- **free()**: Frees the resources associated with the vImage buffer.\n\n## Data Types\n\n- **vImagePixelCount**: A type for the number of pixels.\n- **vImage_AffineTransform**: A structure for values that represent an affine transformation.\n- **vImage_AffineTransform_Double**: A structure for values that represent a double-precision affine transformation.\n- **vImage_CGAffineTransform**: A structure for values that represent a Core Graphics–compatible affine transformation.\n- **vImage_Error**: A type for image errors.\n- **vImage_Flags**: A type for processing options.\n- **GammaFunction**: A type for a gamma function.\n- **ResamplingFilter**: A pointer to a resampling filter callback function.\n\n## Conforms To\n\n- BitwiseCopyable\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new buffer with the specified width, height, and bits per pixel.",
          "name" : "init(width:height:bitsPerPixel:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init(width:height:bitsPerPixel:)"
        },
        {
          "description" : "Creates a new buffer with the specified size and bits per pixel.",
          "name" : "init(size:bitsPerPixel:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init(size:bitsPerPixel:)"
        },
        {
          "description" : "Creates an empty vImage buffer.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init()"
        }
      ],
      "title" : "Creating an empty vImage buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new buffer with the specified size that references existing data.",
          "name" : "init(data:height:width:rowBytes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init(data:height:width:rowBytes:)"
        },
        {
          "description" : "Returns the preferred alignment and row bytes for a specified size and bits per pixel.",
          "name" : "preferredAlignmentAndRowBytes(width:height:bitsPerPixel:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/preferredAlignmentAndRowBytes(width:height:bitsPerPixel:)"
        }
      ],
      "title" : "Creating a buffer that references existing data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new buffer with the contents of a Core Graphics image.",
          "name" : "init(cgImage:flags:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init(cgImage:flags:)"
        },
        {
          "description" : "Creates a new buffer with the contents of a Core Graphics image using the supplied image format.",
          "name" : "init(cgImage:format:flags:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/init(cgImage:format:flags:)"
        },
        {
          "description" : "Creates a Core Graphics image from the vImage buffer.",
          "name" : "createCGImage(format:flags:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/createCGImage(format:flags:)"
        }
      ],
      "title" : "Consuming and producing Core Graphics images"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A pointer to the top-left pixel of the image.",
          "name" : "data",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/data"
        },
        {
          "description" : "The height of the image, in pixels.",
          "name" : "height",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/height"
        },
        {
          "description" : "The width of the image, in pixels.",
          "name" : "width",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/width"
        },
        {
          "description" : "The size of the image, in pixels.",
          "name" : "size",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/size"
        },
        {
          "description" : "The distance, in bytes, between the start of one pixel row and the next in an image, including any unused space between them.",
          "name" : "rowBytes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/rowBytes"
        }
      ],
      "title" : "Inspecting a buffer’s properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Copies the contents of a vImage buffer to the specified destination buffer.",
          "name" : "copy(destinationBuffer:pixelSize:flags:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/copy(destinationBuffer:pixelSize:flags:)"
        }
      ],
      "title" : "Copying a buffer’s contents"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Frees the resources associated with the vImage buffer.",
          "name" : "free()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Buffer\/free()"
        }
      ],
      "title" : "Deallocating a buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type for the number of pixels.",
          "name" : "vImagePixelCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImagePixelCount"
        },
        {
          "description" : "A structure for values that represent an affine transformation.",
          "name" : "vImage_AffineTransform",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_AffineTransform"
        },
        {
          "description" : "A structure for values that represent a double-precision affine transformation.",
          "name" : "vImage_AffineTransform_Double",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_AffineTransform_Double"
        },
        {
          "description" : "A structure for values that represent a Core Graphics–compatible affine transformation.",
          "name" : "vImage_CGAffineTransform",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_CGAffineTransform"
        },
        {
          "description" : "A type for image errors.",
          "name" : "vImage_Error",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Error"
        },
        {
          "description" : "A type for processing options.",
          "name" : "vImage_Flags",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage_Flags"
        },
        {
          "description" : "A type for a gamma function.",
          "name" : "GammaFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/GammaFunction"
        },
        {
          "description" : "A pointer to a resampling filter callback function.",
          "name" : "ResamplingFilter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/ResamplingFilter"
        }
      ],
      "title" : "Data Types"
    }
  ],
  "source" : "appleJSON",
  "title" : "vImage_Buffer",
  "url" : "https:\/\/developer.apple.com\/documentation\/accelerate\/vimage_buffer"
}