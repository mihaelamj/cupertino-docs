{
  "abstract" : "Creates a vImage converter to convert from one vImage Core Graphics image format to another, using custom ColorSync transform.",
  "codeExamples" : [

  ],
  "contentHash" : "6ba6e6b76727bf87d1dd470675b0dc8be39c0077aef295958f2f8f2a49567913",
  "crawledAt" : "2025-12-02T22:39:00Z",
  "declaration" : {
    "code" : "func vImageConverter_CreateWithColorSyncCodeFragment(_ codeFragment: CFTypeRef, _ srcFormat: UnsafePointer<vImage_CGImageFormat>, _ destFormat: UnsafePointer<vImage_CGImageFormat>!, _ backgroundColor: UnsafePointer<CGFloat>!, _ flags: vImage_Flags, _ error: UnsafeMutablePointer<vImage_Error>!) -> Unmanaged<vImageConverter>!",
    "language" : "swift"
  },
  "id" : "E9C4C1CF-8B22-444B-A44A-94800324F226",
  "kind" : "function",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes described in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function creates a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] instance to convert between image formats described by [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_CGImageFormat].  The [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] is intended to be used and reused with [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConvert_AnyToAny(_:_:_:_:_:)] to convert images from one format to another.\n\nIf `codeFragment` is `NULL`, no colorspace conversion or correction is done. In this case, behavior is undefined if the colorspaces don’t have the same channel order, if they have a different number of channels, or if the colorspaces aren’t from the same family.\n\n[doc:\/\/com.apple.documentation\/documentation\/ColorSync\/kColorSyncTransformFullConversionData] is required for black point compensation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateWithColorSyncCodeFragment(_:_:_:_:_:_:)\ncrawled: 2025-12-02T22:39:00Z\n---\n\n# vImageConverter_CreateWithColorSyncCodeFragment(_:_:_:_:_:_:)\n\n**Function**\n\nCreates a vImage converter to convert from one vImage Core Graphics image format to another, using custom ColorSync transform.\n\n## Declaration\n\n```swift\nfunc vImageConverter_CreateWithColorSyncCodeFragment(_ codeFragment: CFTypeRef, _ srcFormat: UnsafePointer<vImage_CGImageFormat>, _ destFormat: UnsafePointer<vImage_CGImageFormat>!, _ backgroundColor: UnsafePointer<CGFloat>!, _ flags: vImage_Flags, _ error: UnsafeMutablePointer<vImage_Error>!) -> Unmanaged<vImageConverter>!\n```\n\n## Parameters\n\n- **codeFragment**: A code fragment created with [doc:\/\/com.apple.documentation\/documentation\/ColorSync\/ColorSyncTransformCopyProperty(_:_:_:)].\n- **srcFormat**: A pointer to a populated [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_CGImageFormat] structure describing the image format of the source image. If the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGColorSpace] value is `NULL`, sRGB is used as the default value. The [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGColorSpace] value is retained by this function and is released when the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] is destroyed.\n- **destFormat**: A pointer to a populated [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_CGImageFormat] structure describing the image format of the destination image. If the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGColorSpace] value is `NULL`, sRGB is used as the default value. The [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGColorSpace] value is retained by this function and is released when the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] is destroyed.\n- **backgroundColor**: An array of floats to be used as a background color if one is needed. The `backgroundColor` range is assumed to be `[0,1]`. The channel ordering and number of color channels must match the natural order of the destination colorspace (for example, RGB or CMYK). The `backgroundColor` value may be `NULL` if no background color is needed.\n- **flags**: The options to use when performing this operation. The following flags are supported:\n\n\n\n## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes described in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function creates a [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] instance to convert between image formats described by [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImage_CGImageFormat].  The [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConverter] is intended to be used and reused with [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageConvert_AnyToAny(_:_:_:_:_:)] to convert images from one format to another.\n\nIf `codeFragment` is `NULL`, no colorspace conversion or correction is done. In this case, behavior is undefined if the colorspaces don’t have the same channel order, if they have a different number of channels, or if the colorspaces aren’t from the same family.\n\n[doc:\/\/com.apple.documentation\/documentation\/ColorSync\/kColorSyncTransformFullConversionData] is required for black point compensation.\n\n\n\n## Creating a converter\n\n- **vImageConverter**: A description of a conversion from one image format to another.\n- **vImageConverter_CreateWithCGImageFormat(_:_:_:_:_:)**: Creates a vImage converter that converts from one vImage Core Graphics image format to another.\n- **vImageConverter_CreateWithCGColorConversionInfo(_:_:_:_:_:_:)**: Creates an any-to-any converter that uses a color conversion information object to convert from one image format to another.\n- **vImageConverter_CreateForCGToCVImageFormat(_:_:_:_:_:)**: Creates a vImage converter that converts a Core Graphics-formatted image to a Core Video-formatted image.\n- **vImageConverter_CreateForCVToCGImageFormat(_:_:_:_:_:)**: Creates a vImage converter that converts a Core Video-formatted image to a Core Graphics-formatted image.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A description of a conversion from one image format to another.",
          "name" : "vImageConverter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter"
        },
        {
          "description" : "Creates a vImage converter that converts from one vImage Core Graphics image format to another.",
          "name" : "vImageConverter_CreateWithCGImageFormat(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateWithCGImageFormat(_:_:_:_:_:)"
        },
        {
          "description" : "Creates an any-to-any converter that uses a color conversion information object to convert from one image format to another.",
          "name" : "vImageConverter_CreateWithCGColorConversionInfo(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateWithCGColorConversionInfo(_:_:_:_:_:_:)"
        },
        {
          "description" : "Creates a vImage converter that converts a Core Graphics-formatted image to a Core Video-formatted image.",
          "name" : "vImageConverter_CreateForCGToCVImageFormat(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateForCGToCVImageFormat(_:_:_:_:_:)"
        },
        {
          "description" : "Creates a vImage converter that converts a Core Video-formatted image to a Core Graphics-formatted image.",
          "name" : "vImageConverter_CreateForCVToCGImageFormat(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateForCVToCGImageFormat(_:_:_:_:_:)"
        }
      ],
      "title" : "Creating a converter"
    }
  ],
  "source" : "appleJSON",
  "title" : "vImageConverter_CreateWithColorSyncCodeFragment(_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageConverter_CreateWithColorSyncCodeFragment(_:_:_:_:_:_:)"
}