{
  "abstract" : "Performs separable convolution on a multiple plane 8-bit pixel buffer.",
  "codeExamples" : [
    {
      "code" : "let srcImage =  imageLiteral(resourceName: \" ... \").cgImage(\n    forProposedRect: nil,\n    context: nil,\n    hints: nil)!\n\nvar cgImageFormat = vImage_CGImageFormat(\n    bitsPerComponent: 8,\n    bitsPerPixel: 8 * 3,\n    colorSpace: CGColorSpaceCreateDeviceRGB(),\n    bitmapInfo: CGBitmapInfo(rawValue: CGImageAlphaInfo.none.rawValue))!\n\nlet interleavedBuffer = try vImage.PixelBuffer(\n    cgImage: srcImage,\n    cgImageFormat: &cgImageFormat,\n    pixelFormat: vImage.Interleaved8x3.self)\n\nlet multiplaneSrcBuffer = vImage.PixelBuffer<vImage.Planar8x3>(\n    interleavedBuffer: interleavedBuffer)\n\nlet multiplaneDestBuffer = vImage.PixelBuffer<vImage.Planar8x3>(\n    size: multiplaneSrcBuffer.size)\n\nmultiplaneSrcBuffer.separableConvolve(\n    horizontalKernel: vImage.ConvolutionKernel.gaussian1Dx7,\n    verticalKernel:  vImage.ConvolutionKernel.gaussian1Dx7,\n    edgeMode: .truncateKernel,\n    destination: multiplaneDestBuffer)\n\nmultiplaneDestBuffer.convert(to: interleavedBuffer)\n\nlet outputImage = interleavedBuffer.makeCGImage(cgImageFormat: cgImageFormat)",
      "language" : "swift"
    }
  ],
  "contentHash" : "c9a941203264696aaf8c4c5117e484e2a2a56bac321460d1f656445c874fe2f2",
  "crawledAt" : "2025-12-01T13:14:36Z",
  "declaration" : {
    "code" : "func separableConvolve(horizontalKernel: [Float], verticalKernel: [Float], bias: Float = 0, edgeMode: vImage.EdgeMode<Pixel_16U>, destination: vImage.PixelBuffer<Format>)",
    "language" : "swift"
  },
  "id" : "912B981F-83D3-4040-A7F0-5CC3A75773DD",
  "kind" : "method",
  "module" : "Accelerate",
  "overview" : "## Discussion\n\nThe following code shows how to generate a multiplane pixel buffer from a [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGImage] instance and apply a Gaussian blur using separable convolution:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)-6t9b3\ncrawled: 2025-12-01T13:14:36Z\n---\n\n# separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)\n\n**Instance Method**\n\nPerforms separable convolution on a multiple plane 8-bit pixel buffer.\n\n## Declaration\n\n```swift\nfunc separableConvolve(horizontalKernel: [Float], verticalKernel: [Float], bias: Float = 0, edgeMode: vImage.EdgeMode<Pixel_16U>, destination: vImage.PixelBuffer<Format>)\n```\n\n## Parameters\n\n- **horizontalKernel**: The 1D horizontal convolution kernel.\n- **verticalKernel**: The 1D vertical convolution kernel.\n- **bias**: A value that the operation adds to each element in the convolution result, before performing any clipping.\n- **edgeMode**: The convolution edge mode. The background color must be a single [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/Pixel_F] value.\n- **destination**: The destination pixel buffer.\n\n## Discussion\n\nThe following code shows how to generate a multiplane pixel buffer from a [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGImage] instance and apply a Gaussian blur using separable convolution:\n\n```swift\nlet srcImage =  imageLiteral(resourceName: \" ... \").cgImage(\n    forProposedRect: nil,\n    context: nil,\n    hints: nil)!\n\nvar cgImageFormat = vImage_CGImageFormat(\n    bitsPerComponent: 8,\n    bitsPerPixel: 8 * 3,\n    colorSpace: CGColorSpaceCreateDeviceRGB(),\n    bitmapInfo: CGBitmapInfo(rawValue: CGImageAlphaInfo.none.rawValue))!\n\nlet interleavedBuffer = try vImage.PixelBuffer(\n    cgImage: srcImage,\n    cgImageFormat: &cgImageFormat,\n    pixelFormat: vImage.Interleaved8x3.self)\n\nlet multiplaneSrcBuffer = vImage.PixelBuffer<vImage.Planar8x3>(\n    interleavedBuffer: interleavedBuffer)\n\nlet multiplaneDestBuffer = vImage.PixelBuffer<vImage.Planar8x3>(\n    size: multiplaneSrcBuffer.size)\n\nmultiplaneSrcBuffer.separableConvolve(\n    horizontalKernel: vImage.ConvolutionKernel.gaussian1Dx7,\n    verticalKernel:  vImage.ConvolutionKernel.gaussian1Dx7,\n    edgeMode: .truncateKernel,\n    destination: multiplaneDestBuffer)\n\nmultiplaneDestBuffer.convert(to: interleavedBuffer)\n\nlet outputImage = interleavedBuffer.makeCGImage(cgImageFormat: cgImageFormat)\n```\n\n## Related Documentation\n\n- **Blurring an image**: Filter an image by convolving it with custom and high-speed kernels.\n\n## Separable convolution\n\n- **separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)**: Performs separable convolution on an 8-bit planar pixel buffer.\n- **separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:useFloat16Accumulator:destination:)**: Performs separable convolution on a 16-bit planar pixel buffer.\n- **separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)**: Performs separable convolution on a 32-bit planar pixel buffer.\n- **separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)**: Performs separable convolution on a multiple plane 32-bit pixel buffer.\n- **vImage.ConvolutionKernel**: Constants that describe 1D convolution kernels.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Filter an image by convolving it with custom and high-speed kernels.",
          "name" : "Blurring an image",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/blurring-an-image"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Performs separable convolution on an 8-bit planar pixel buffer.",
          "name" : "separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)-2iyq6"
        },
        {
          "description" : "Performs separable convolution on a 16-bit planar pixel buffer.",
          "name" : "separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:useFloat16Accumulator:destination:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:useFloat16Accumulator:destination:)"
        },
        {
          "description" : "Performs separable convolution on a 32-bit planar pixel buffer.",
          "name" : "separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)-2qofv"
        },
        {
          "description" : "Performs separable convolution on a multiple plane 32-bit pixel buffer.",
          "name" : "separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)-6q5ro"
        },
        {
          "description" : "Constants that describe 1D convolution kernels.",
          "name" : "vImage.ConvolutionKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/ConvolutionKernel"
        }
      ],
      "title" : "Separable convolution"
    }
  ],
  "source" : "appleJSON",
  "title" : "separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImage\/PixelBuffer\/separableConvolve(horizontalKernel:verticalKernel:bias:edgeMode:destination:)-6t9b3"
}