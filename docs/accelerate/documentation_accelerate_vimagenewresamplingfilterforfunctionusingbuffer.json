{
  "abstract" : "Creates a resampling filter object that encapsulates a resampling kernel function that you provide.",
  "codeExamples" : [

  ],
  "contentHash" : "60a0cbc766f47dd207f2153b71b131255a8c6f4abcd3bc1999b61e4e2c4e8d83",
  "crawledAt" : "2025-11-30T20:19:20Z",
  "declaration" : {
    "code" : "func vImageNewResamplingFilterForFunctionUsingBuffer(_ filter: ResamplingFilter, _ scale: Float, _ kernelFunc: ((UnsafePointer<Float>?, UnsafeMutablePointer<Float>?, UInt, UnsafeMutableRawPointer?) -> Void)!, _ kernelWidth: Float, _ userData: UnsafeMutableRawPointer!, _ flags: vImage_Flags) -> vImage_Error",
    "language" : "swift"
  },
  "id" : "C6B92DB4-4E11-4E17-AA0C-EA88431A96BB",
  "kind" : "function",
  "module" : "Accelerate",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes described in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function creates a reusable resampling filter object  that you can pass to a shear function. Before calling this function, you must allocate a buffer to contain the resampling filter object returned by this function. You can get the necessary size by calling the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageGetResamplingFilterSize(_:_:_:_:)]. When you no longer need this object, you’re responsible for deallocating its memory. Don’t use the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)] to deallocate custom resampling filter objects; it’s not designed to deallocate them.\n\nIf you need precise control over the memory used for a resampling filter object  but want to use the default, pass `NULL` as the `kernelFunc` parameter. This causes vImage to create a resampling filter object that corresponds to its default kernel. You can then determine where in memory the resampling filter object is located. You can reuse the buffer to reduce memory allocation, and so on. Note that a resampling filter object created in this way isn’t necessarily the same as one created by the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageNewResamplingFilter(_:_:)]. You must still  deallocate the object yourself; you can’t pass it to the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageNewResamplingFilterForFunctionUsingBuffer(_:_:_:_:_:_:)\ncrawled: 2025-11-30T20:19:20Z\n---\n\n# vImageNewResamplingFilterForFunctionUsingBuffer(_:_:_:_:_:_:)\n\n**Function**\n\nCreates a resampling filter object that encapsulates a resampling kernel function that you provide.\n\n## Declaration\n\n```swift\nfunc vImageNewResamplingFilterForFunctionUsingBuffer(_ filter: ResamplingFilter, _ scale: Float, _ kernelFunc: ((UnsafePointer<Float>?, UnsafeMutablePointer<Float>?, UInt, UnsafeMutableRawPointer?) -> Void)!, _ kernelWidth: Float, _ userData: UnsafeMutableRawPointer!, _ flags: vImage_Flags) -> vImage_Error\n```\n\n## Parameters\n\n- **filter**: A pointer to a buffer. On return, the buffer contains a resampling filter object. You must allocate the memory for this buffer yourself. Call the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageGetResamplingFilterSize(_:_:_:_:)]  to obtain the size of this buffer.\n- **scale**: A scale factor to associated with the resampling filter object. Shear functions to which you pass the resampling filter object use this factor when performing a shear operation. The shear function applies the scale factor  to the entire image, in a direction appropriate to the shear function, either horizontal or vertical.\n- **kernelFunc**: A pointer to your custom resampling kernel function. If this pointer is `NULL`, vImage creates a resampling filter object that corresponds to its default kernel. The kernel function must remain valid for the life of the resampling filter object.\n\nIf you need precise control over the memory used for a resampling filter object  but want to use the default, pass `NULL` as the `kernelFunc` parameter. This causes vImage to create a resampling filter object that corresponds to its default kernel. You can then determine where in memory the resampling filter object is located. You can reuse the buffer to reduce memory allocation, and so on. Note that a resampling filter object created in this way isn’t necessarily the same as one created by the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageNewResamplingFilter(_:_:)]. You must still  deallocate the object yourself; you can’t pass it to the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)].\n- **kernelWidth**: A bounding value for the domain of your resampling kernel function. The shearing operation passes x-values to your function that are in the range –`kernelWidth` and +`kernelWidth`, inclusive.\n- **userData**: A pointer to custom data that you want to use when calculating your resampling kernel function. When vImage invokes your resampling kernel function, this pointer is passed to the function. The data can be anything you want to use in calculating your resampling kernel function — a table, a list of pointers to related functions, or so on. The data must remain valid for the life of the resampling kernel object.\n\nIf your resampling kernel function does nor require user data, pass `NULL`.\n- **flags**: The options to use when creating the resampling filter object. You must set exactly one of the following flags to specify how vImage handles pixel locations beyond the edge of the source image: [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageBackgroundColorFill] or [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageEdgeExtend].\n\nSet the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageHighQualityResampling] flag if you want vImage to use a higher quality, but slower, resampling filter.\n\nIf your code implements its own tiling or its own multithreading, pass [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageDoNotTile].\n\nThis function ignores the [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageLeaveAlphaUnchanged] flag.\n\n## Return Value\n\n[doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/kvImageNoError]; otherwise, one of the error codes described in [doc:\/\/com.apple.documentation\/documentation\/Accelerate\/data-types-and-constants].\n\n## Discussion\n\nThis function creates a reusable resampling filter object  that you can pass to a shear function. Before calling this function, you must allocate a buffer to contain the resampling filter object returned by this function. You can get the necessary size by calling the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageGetResamplingFilterSize(_:_:_:_:)]. When you no longer need this object, you’re responsible for deallocating its memory. Don’t use the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)] to deallocate custom resampling filter objects; it’s not designed to deallocate them.\n\nIf you need precise control over the memory used for a resampling filter object  but want to use the default, pass `NULL` as the `kernelFunc` parameter. This causes vImage to create a resampling filter object that corresponds to its default kernel. You can then determine where in memory the resampling filter object is located. You can reuse the buffer to reduce memory allocation, and so on. Note that a resampling filter object created in this way isn’t necessarily the same as one created by the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageNewResamplingFilter(_:_:)]. You must still  deallocate the object yourself; you can’t pass it to the function [doc:\/\/com.apple.accelerate\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)].\n\n## Resampling filters\n\n- **vImageNewResamplingFilter(_:_:)**: Creates a resampling filter object that corresponds to the default kernel supplied by the vImage framework.\n- **vImageGetResamplingFilterExtent(_:_:)**: Returns the maximum sampling radius for a resampling filter.\n- **vImageGetResamplingFilterSize(_:_:_:_:)**: Returns the minimum size, in bytes, for the buffer needed by the new resampling filter function.\n- **vImageDestroyResamplingFilter(_:)**: Disposes of a resampling filter object.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a resampling filter object that corresponds to the default kernel supplied by the vImage framework.",
          "name" : "vImageNewResamplingFilter(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageNewResamplingFilter(_:_:)"
        },
        {
          "description" : "Returns the maximum sampling radius for a resampling filter.",
          "name" : "vImageGetResamplingFilterExtent(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageGetResamplingFilterExtent(_:_:)"
        },
        {
          "description" : "Returns the minimum size, in bytes, for the buffer needed by the new resampling filter function.",
          "name" : "vImageGetResamplingFilterSize(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageGetResamplingFilterSize(_:_:_:_:)"
        },
        {
          "description" : "Disposes of a resampling filter object.",
          "name" : "vImageDestroyResamplingFilter(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageDestroyResamplingFilter(_:)"
        }
      ],
      "title" : "Resampling filters"
    }
  ],
  "source" : "appleJSON",
  "title" : "vImageNewResamplingFilterForFunctionUsingBuffer(_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/vImageNewResamplingFilterForFunctionUsingBuffer(_:_:_:_:_:_:)"
}