{
  "abstract" : "Returns a new reduction layer.",
  "codeExamples" : [
    {
      "code" : "let sourceData: [Float] = [1, 4, 7,\n                           2, 5, 8,\n                           3, 6, 9]\n\nlet inDescriptor = BNNSNDArrayDescriptor(flags: BNNSNDArrayFlags(0),\n                                         layout: BNNSDataLayoutRowMajorMatrix,\n                                         size: (3, 3, 0, 0, 0, 0, 0, 0),\n                                         stride: (0, 0, 0, 0, 0, 0, 0, 0),\n                                         data: nil,\n                                         data_type: .float,\n                                         table_data: nil,\n                                         table_data_type: .float,\n                                         data_scale: 0,\n                                         data_bias: 0)\n\nvar outDescriptor = BNNSNDArrayDescriptor(flags: BNNSNDArrayFlags(0),\n                                          layout: BNNSDataLayoutRowMajorMatrix,\n                                          size: (0, 0, 0, 0, 0, 0, 0, 0),\n                                          stride: (0, 0, 0, 0, 0, 0, 0, 0),\n                                          data: nil,\n                                          data_type: .float,\n                                          table_data: nil,\n                                          table_data_type: .float,\n                                          data_scale: 0,\n                                          data_bias: 0)",
      "language" : "swift"
    },
    {
      "code" : "outDescriptor.size = (1, 3, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0, 0, 0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)",
      "language" : "swift"
    },
    {
      "code" : "outDescriptor.size = (3, 1, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0, 0, 0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)",
      "language" : "swift"
    },
    {
      "code" : "outDescriptor.size = (1, 1, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)",
      "language" : "swift"
    }
  ],
  "contentHash" : "f0662f1289a7bb3cb2202262fd6686f015748c9b7cb64b9ead3de95f41260d00",
  "crawledAt" : "2025-12-02T21:56:38Z",
  "declaration" : {
    "code" : "func BNNSFilterCreateLayerReduction(_ layer_params: UnsafePointer<BNNSLayerParametersReduction>, _ filter_params: UnsafePointer<BNNSFilterParameters>?) -> BNNSFilter?",
    "language" : "swift"
  },
  "id" : "CD9486C0-BECB-48E3-870B-C6E2E608A8FE",
  "kind" : "function",
  "language" : "swift",
  "module" : "Accelerate",
  "overview" : "## Discussion\n\nUse a reduction layer to reduce an axis or axes of a tensor to a scalar value. Specify a size of one for the dimension or dimensions you need to reduce.\n\nFor example, given the following source data and n-dimensional array descriptors:\n\nUse the following code to compute the sums of elements of each row:\n\nOn return, destination data contains `[12.0, 15.0, 18.0]`.\n\nUse the following code to compute the sums of elements of each column:\n\nOn return, destination data contains `[6.0, 15.0, 24.0]`.\n\nUse the following code to compute the sum of all elements:\n\nOn return, destination data contains `[45.0]`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/accelerate\/bnnsfiltercreatelayerreduction(_:_:)\ncrawled: 2025-12-02T21:56:38Z\n---\n\n# BNNSFilterCreateLayerReduction(_:_:)\n\n**Function**\n\nReturns a new reduction layer.\n\n## Declaration\n\n```swift\nfunc BNNSFilterCreateLayerReduction(_ layer_params: UnsafePointer<BNNSLayerParametersReduction>, _ filter_params: UnsafePointer<BNNSFilterParameters>?) -> BNNSFilter?\n```\n\n## Parameters\n\n- **layer_params**: Layer parameters.\n- **filter_params**: The filter runtime parameters.\n\n## Discussion\n\nUse a reduction layer to reduce an axis or axes of a tensor to a scalar value. Specify a size of one for the dimension or dimensions you need to reduce.\n\nFor example, given the following source data and n-dimensional array descriptors:\n\n```swift\nlet sourceData: [Float] = [1, 4, 7,\n                           2, 5, 8,\n                           3, 6, 9]\n\nlet inDescriptor = BNNSNDArrayDescriptor(flags: BNNSNDArrayFlags(0),\n                                         layout: BNNSDataLayoutRowMajorMatrix,\n                                         size: (3, 3, 0, 0, 0, 0, 0, 0),\n                                         stride: (0, 0, 0, 0, 0, 0, 0, 0),\n                                         data: nil,\n                                         data_type: .float,\n                                         table_data: nil,\n                                         table_data_type: .float,\n                                         data_scale: 0,\n                                         data_bias: 0)\n\nvar outDescriptor = BNNSNDArrayDescriptor(flags: BNNSNDArrayFlags(0),\n                                          layout: BNNSDataLayoutRowMajorMatrix,\n                                          size: (0, 0, 0, 0, 0, 0, 0, 0),\n                                          stride: (0, 0, 0, 0, 0, 0, 0, 0),\n                                          data: nil,\n                                          data_type: .float,\n                                          table_data: nil,\n                                          table_data_type: .float,\n                                          data_scale: 0,\n                                          data_bias: 0)\n```\n\nUse the following code to compute the sums of elements of each row:\n\n```swift\noutDescriptor.size = (1, 3, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0, 0, 0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)\n```\n\nOn return, destination data contains `[12.0, 15.0, 18.0]`.\n\nUse the following code to compute the sums of elements of each column:\n\n```swift\noutDescriptor.size = (3, 1, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0, 0, 0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)\n```\n\nOn return, destination data contains `[6.0, 15.0, 24.0]`.\n\nUse the following code to compute the sum of all elements:\n\n```swift\noutDescriptor.size = (1, 1, 0, 0, 0, 0, 0, 0)\n\nvar layerParams = BNNSLayerParametersReduction(i_desc: inDescriptor,\n                                               o_desc: outDescriptor,\n                                               w_desc: BNNSNDArrayDescriptor(),\n                                               reduce_func: BNNSReduceFunctionSum,\n                                               epsilon: 0)\n\nlet reductionLayer = BNNSFilterCreateLayerReduction(&layerParams, nil)\ndefer {\n    BNNSFilterDestroy(reductionLayer)\n}\n\nvar destinationData: [Float] = [0]\n\nBNNSFilterApply(reductionLayer,\n                sourceData,\n                &destinationData)\n```\n\nOn return, destination data contains `[45.0]`.\n\n## Reduction layers\n\n- **BNNS.ReductionLayer**: A layer object that wraps a reduction filter and manages its deinitialization.\n- **applyReduction(_:input:output:weights:filterParameters:)**: Applies the specified reduction function.\n- **BNNSReduceFunction**: Constants that describe reduction functions.\n- **BNNSLayerParametersReduction**: A set of parameters that define a reduction layer.\n- **BNNSDirectApplyReduction(_:_:)**: Applies a reduction operation directly to an input tensor.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A layer object that wraps a reduction filter and manages its deinitialization.",
          "name" : "BNNS.ReductionLayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNS\/ReductionLayer"
        },
        {
          "description" : "Applies the specified reduction function.",
          "name" : "applyReduction(_:input:output:weights:filterParameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNS\/applyReduction(_:input:output:weights:filterParameters:)"
        },
        {
          "description" : "Constants that describe reduction functions.",
          "name" : "BNNSReduceFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSReduceFunction"
        },
        {
          "description" : "A set of parameters that define a reduction layer.",
          "name" : "BNNSLayerParametersReduction",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSLayerParametersReduction"
        },
        {
          "description" : "Applies a reduction operation directly to an input tensor.",
          "name" : "BNNSDirectApplyReduction(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Accelerate\/BNNSDirectApplyReduction(_:_:)"
        }
      ],
      "title" : "Reduction layers"
    }
  ],
  "source" : "appleJSON",
  "title" : "BNNSFilterCreateLayerReduction(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/accelerate\/bnnsfiltercreatelayerreduction(_:_:)"
}