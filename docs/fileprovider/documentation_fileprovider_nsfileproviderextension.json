{
  "abstract" : "The principal class for the nonreplicated File Provider extension.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "100a83ac477980226c32777f556c3fcb51b91bba70db5c0ee594c73edd34608a",
  "crawledAt" : "2025-12-01T10:35:54Z",
  "declaration" : {
    "code" : "class NSFileProviderExtension",
    "language" : "swift"
  },
  "id" : "53D5E1B6-C287-4019-8C85-D7F4521EE880",
  "kind" : "class",
  "module" : "File Provider",
  "overview" : "## Overview\n\nTo create a nonreplicated File Provider extension, start by creating a subclass of the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] class. When implementing your [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] subclass, remember:\n\nDon’t use the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] class in macOS. Instead, create an [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/NSObject-swift.class] subclass that adopts the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderReplicatedExtension] and [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerating] protocols. For more information, see [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/replicated-file-provider-extension].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\ncrawled: 2025-12-01T10:35:54Z\n---\n\n# NSFileProviderExtension\n\n**Class**\n\nThe principal class for the nonreplicated File Provider extension.\n\n## Declaration\n\n```swift\nclass NSFileProviderExtension\n```\n\n## Overview\n\nTo create a nonreplicated File Provider extension, start by creating a subclass of the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] class. When implementing your [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] subclass, remember:\n\n- Override all of the extension’s methods (except the deprecated methods), even if your implementation is only an empty method.\n- Use your method implementations to provide access to the documents and folders managed by your file provider.\n- Don’t call `super` in your method implementations.\n\nDon’t use the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension] class in macOS. Instead, create an [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/NSObject-swift.class] subclass that adopts the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderReplicatedExtension] and [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerating] protocols. For more information, see [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/replicated-file-provider-extension].\n\n## Working with items and persistent identifiers\n\n- **persistentIdentifierForItem(at:)**: Returns a unique identifier for the given URL.\n- **urlForItem(withPersistentIdentifier:)**: Returns the URL for a given persistent identifier.\n- **item(for:)**: Returns a description of the item associated with the persistent identifier.\n- **enumerator(for:)**: Returns an enumerator for the specified item.\n- **NSFileProviderItemIdentifier**: A unique identifier for an item managed by the File Provider extension.\n\n## Managing shared files\n\n- **itemChanged(at:)**: Tells the File Provider extension that a document has changed.\n- **providePlaceholder(at:completionHandler:)**: Triggers the creation of a placeholder for the given URL.\n- **startProvidingItem(at:completionHandler:)**: Provides an actual file on disk for a placeholder.\n- **stopProvidingItem(at:)**: Tells the File Provider extension that a given document is no longer being accessed.\n\n## Handling actions\n\n- **Providing support for user-driven actions**: Override methods to handle user-initiated actions.\n- **createDirectory(withName:inParentItemIdentifier:completionHandler:)**: Creates a directory with the given name inside the given parent directory.\n- **deleteItem(withIdentifier:completionHandler:)**: Permanently deletes an item from the trash.\n- **importDocument(at:toParentItemIdentifier:completionHandler:)**: Imports a file or package into the given parent directory.\n- **renameItem(withIdentifier:toName:completionHandler:)**: Renames a document or directory.\n- **reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)**: Moves the specified item into the given parent directory.\n- **setFavoriteRank(_:forItemIdentifier:completionHandler:)**: Marks a directory as a favorite and sets its relative order in the Favorites list.\n- **setLastUsedDate(_:forItemIdentifier:completionHandler:)**: Marks an item as recently used and sets its relative order in the Recents list.\n- **setTagData(_:forItemIdentifier:completionHandler:)**: Tags an item.\n- **trashItem(withIdentifier:completionHandler:)**: Moves an item into the trash.\n- **untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)**: Moves an item out of the trash.\n\n## Managing domains\n\n- **domain**: The domain managed by this file provider object.\n\n## Accessing thumbnails\n\n- **fetchThumbnails(for:requestedSize:perThumbnailCompletionHandler:completionHandler:)**: Fetches the thumbnails for items that have been enumerated by the file provider.\n\n## Working with services\n\n- **supportedServiceSources(for:)**: Return an array of service sources that let the host app perform actions associated with the specified item.\n- **NSFileProviderServiceSource**: A service that provides a custom communication channel between the host app and the File Provider extension.\n\n## Managing placeholders\n\n- **placeholderURL(for:)**: Returns a placeholder URL for a given document URL.\n- **writePlaceholder(at:withMetadata:)**: Writes a document placeholder with the provided metadata.\n\n## Accessing the document storage\n\n- **documentStorageURL**: The root URL for all shared documents.\n- **providerIdentifier**: A purpose identifier for coordinated reads and writes.\n\n## Nonreplicated extension\n\n- **Content and Change Tracking**: Create enumerators to specify your file provider’s content, and track changes to that content.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a unique identifier for the given URL.",
          "name" : "persistentIdentifierForItem(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/persistentIdentifierForItem(at:)"
        },
        {
          "description" : "Returns the URL for a given persistent identifier.",
          "name" : "urlForItem(withPersistentIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/urlForItem(withPersistentIdentifier:)"
        },
        {
          "description" : "Returns a description of the item associated with the persistent identifier.",
          "name" : "item(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/item(for:)"
        },
        {
          "description" : "Returns an enumerator for the specified item.",
          "name" : "enumerator(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/enumerator(for:)"
        },
        {
          "description" : "A unique identifier for an item managed by the File Provider extension.",
          "name" : "NSFileProviderItemIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderItemIdentifier"
        }
      ],
      "title" : "Working with items and persistent identifiers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the File Provider extension that a document has changed.",
          "name" : "itemChanged(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/itemChanged(at:)"
        },
        {
          "description" : "Triggers the creation of a placeholder for the given URL.",
          "name" : "providePlaceholder(at:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/providePlaceholder(at:completionHandler:)"
        },
        {
          "description" : "Provides an actual file on disk for a placeholder.",
          "name" : "startProvidingItem(at:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/startProvidingItem(at:completionHandler:)"
        },
        {
          "description" : "Tells the File Provider extension that a given document is no longer being accessed.",
          "name" : "stopProvidingItem(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/stopProvidingItem(at:)"
        }
      ],
      "title" : "Managing shared files"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override methods to handle user-initiated actions.",
          "name" : "Providing support for user-driven actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/providing-support-for-user-driven-actions"
        },
        {
          "description" : "Creates a directory with the given name inside the given parent directory.",
          "name" : "createDirectory(withName:inParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/createDirectory(withName:inParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Permanently deletes an item from the trash.",
          "name" : "deleteItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/deleteItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Imports a file or package into the given parent directory.",
          "name" : "importDocument(at:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Renames a document or directory.",
          "name" : "renameItem(withIdentifier:toName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/renameItem(withIdentifier:toName:completionHandler:)"
        },
        {
          "description" : "Moves the specified item into the given parent directory.",
          "name" : "reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)"
        },
        {
          "description" : "Marks a directory as a favorite and sets its relative order in the Favorites list.",
          "name" : "setFavoriteRank(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Marks an item as recently used and sets its relative order in the Recents list.",
          "name" : "setLastUsedDate(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setLastUsedDate(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Tags an item.",
          "name" : "setTagData(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item into the trash.",
          "name" : "trashItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item out of the trash.",
          "name" : "untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)"
        }
      ],
      "title" : "Handling actions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The domain managed by this file provider object.",
          "name" : "domain",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/domain"
        }
      ],
      "title" : "Managing domains"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Fetches the thumbnails for items that have been enumerated by the file provider.",
          "name" : "fetchThumbnails(for:requestedSize:perThumbnailCompletionHandler:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/fetchThumbnails(for:requestedSize:perThumbnailCompletionHandler:completionHandler:)"
        }
      ],
      "title" : "Accessing thumbnails"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Return an array of service sources that let the host app perform actions associated with the specified item.",
          "name" : "supportedServiceSources(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/supportedServiceSources(for:)"
        },
        {
          "description" : "A service that provides a custom communication channel between the host app and the File Provider extension.",
          "name" : "NSFileProviderServiceSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderServiceSource"
        }
      ],
      "title" : "Working with services"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a placeholder URL for a given document URL.",
          "name" : "placeholderURL(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/placeholderURL(for:)"
        },
        {
          "description" : "Writes a document placeholder with the provided metadata.",
          "name" : "writePlaceholder(at:withMetadata:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/writePlaceholder(at:withMetadata:)"
        }
      ],
      "title" : "Managing placeholders"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The root URL for all shared documents.",
          "name" : "documentStorageURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/documentStorageURL"
        },
        {
          "description" : "A purpose identifier for coordinated reads and writes.",
          "name" : "providerIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/providerIdentifier"
        }
      ],
      "title" : "Accessing the document storage"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create enumerators to specify your file provider’s content, and track changes to that content.",
          "name" : "Content and Change Tracking",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/content-and-change-tracking"
        }
      ],
      "title" : "Nonreplicated extension"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSFileProviderExtension",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension"
}