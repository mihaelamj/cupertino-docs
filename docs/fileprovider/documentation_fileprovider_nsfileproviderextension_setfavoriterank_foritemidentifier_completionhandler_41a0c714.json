{
  "abstract" : "Marks a directory as a favorite and sets its relative order in the Favorites list.",
  "codeExamples" : [

  ],
  "contentHash" : "b326a38ec6d0304f4537c2e77500f953f527f8791bba7efe05c8ca1570ec398d",
  "crawledAt" : "2025-12-04T11:43:29Z",
  "declaration" : {
    "code" : "func setFavoriteRank(_ favoriteRank: NSNumber?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "397BDAC3-8B8A-45E8-8F51-B79B336E7858",
  "kind" : "method",
  "language" : "swift",
  "module" : "File Provider",
  "overview" : "## Discussion\n\nThis method is called when the user marks a directory as a favorite. Override this method to make any necessary local changes. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `favoriteItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/favoriteRank] property with the value of the `favoriteRank` parameter.\n\nAlways include items with a non-`nil` [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/favoriteRank] property in your File Provider extension’s working set; however, you don’t need to include the directory’s content. You also don’t need to make the directory’s content available offline.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)\ncrawled: 2025-12-04T11:43:29Z\n---\n\n# setFavoriteRank(_:forItemIdentifier:completionHandler:)\n\n**Instance Method**\n\nMarks a directory as a favorite and sets its relative order in the Favorites list.\n\n## Declaration\n\n```swift\nfunc setFavoriteRank(_ favoriteRank: NSNumber?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)\n```\n\n```swift\nfunc setFavoriteRank(_ favoriteRank: NSNumber?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier) async throws -> NSFileProviderItem\n```\n\n## Parameters\n\n- **favoriteRank**: A value used to determine the relative order of directories in the Favorites list.\n- **itemIdentifier**: The item’s persistent identifier.\n- **completionHandler**: A block that takes the following parameters:\n\n\n\n## Discussion\n\n\n\nThis method is called when the user marks a directory as a favorite. Override this method to make any necessary local changes. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `favoriteItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/favoriteRank] property with the value of the `favoriteRank` parameter.\n\nAlways include items with a non-`nil` [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/favoriteRank] property in your File Provider extension’s working set; however, you don’t need to include the directory’s content. You also don’t need to make the directory’s content available offline.\n\n## Handling actions\n\n- **Providing support for user-driven actions**: Override methods to handle user-initiated actions.\n- **createDirectory(withName:inParentItemIdentifier:completionHandler:)**: Creates a directory with the given name inside the given parent directory.\n- **deleteItem(withIdentifier:completionHandler:)**: Permanently deletes an item from the trash.\n- **importDocument(at:toParentItemIdentifier:completionHandler:)**: Imports a file or package into the given parent directory.\n- **renameItem(withIdentifier:toName:completionHandler:)**: Renames a document or directory.\n- **reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)**: Moves the specified item into the given parent directory.\n- **setLastUsedDate(_:forItemIdentifier:completionHandler:)**: Marks an item as recently used and sets its relative order in the Recents list.\n- **setTagData(_:forItemIdentifier:completionHandler:)**: Tags an item.\n- **trashItem(withIdentifier:completionHandler:)**: Moves an item into the trash.\n- **untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)**: Moves an item out of the trash.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override methods to handle user-initiated actions.",
          "name" : "Providing support for user-driven actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/providing-support-for-user-driven-actions"
        },
        {
          "description" : "Creates a directory with the given name inside the given parent directory.",
          "name" : "createDirectory(withName:inParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/createDirectory(withName:inParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Permanently deletes an item from the trash.",
          "name" : "deleteItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/deleteItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Imports a file or package into the given parent directory.",
          "name" : "importDocument(at:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Renames a document or directory.",
          "name" : "renameItem(withIdentifier:toName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/renameItem(withIdentifier:toName:completionHandler:)"
        },
        {
          "description" : "Moves the specified item into the given parent directory.",
          "name" : "reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)"
        },
        {
          "description" : "Marks an item as recently used and sets its relative order in the Recents list.",
          "name" : "setLastUsedDate(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setLastUsedDate(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Tags an item.",
          "name" : "setTagData(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item into the trash.",
          "name" : "trashItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item out of the trash.",
          "name" : "untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)"
        }
      ],
      "title" : "Handling actions"
    }
  ],
  "source" : "appleJSON",
  "title" : "setFavoriteRank(_:forItemIdentifier:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)"
}