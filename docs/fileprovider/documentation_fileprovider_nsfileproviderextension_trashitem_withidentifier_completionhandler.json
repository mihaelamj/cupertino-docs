{
  "abstract" : "Moves an item into the trash.",
  "codeExamples" : [

  ],
  "contentHash" : "83b902d57fe9db15f72057dc5bf76a46bb840ca12a78aad8aa14c871c4a332e6",
  "crawledAt" : "2025-12-02T15:20:48Z",
  "declaration" : {
    "code" : "func trashItem(withIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "E13AF467-C9C2-4166-A548-4B59C5BC3898",
  "kind" : "method",
  "module" : "File Provider",
  "overview" : "## Discussion\n\nThis method is called when the user moves a document or directory into the trash. Override this method to make any necessary local changes to move the item to the trash, including updates to the working set. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background. The `trashedItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/isTrashed] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nAlways include trashed items in your File Provider extension’s working set. Trashed items should be stored locally so that their content is available to offline users. However, if the trashed item is a directory, remove all of its children from the working set. If a shared document is trashed, stop sharing the document while it is trashed.\n\nBe sure to record the item’s parent identifier, so that you can restore the item to its proper location in the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)] method. You can store this identifier in the `trashedItem` object’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/parentItemIdentifier] property.\n\nThe user’s ability to trash an item is controlled by the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsTrashing] capability.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)\ncrawled: 2025-12-02T15:20:48Z\n---\n\n# trashItem(withIdentifier:completionHandler:)\n\n**Instance Method**\n\nMoves an item into the trash.\n\n## Declaration\n\n```swift\nfunc trashItem(withIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)\n```\n\n```swift\nfunc trashItem(withIdentifier itemIdentifier: NSFileProviderItemIdentifier) async throws -> NSFileProviderItem\n```\n\n## Parameters\n\n- **itemIdentifier**: The item’s persistent identifier.\n- **completionHandler**: A block that takes the following parameters:\n\n\n\n## Discussion\n\n\n\nThis method is called when the user moves a document or directory into the trash. Override this method to make any necessary local changes to move the item to the trash, including updates to the working set. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background. The `trashedItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/isTrashed] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nAlways include trashed items in your File Provider extension’s working set. Trashed items should be stored locally so that their content is available to offline users. However, if the trashed item is a directory, remove all of its children from the working set. If a shared document is trashed, stop sharing the document while it is trashed.\n\nBe sure to record the item’s parent identifier, so that you can restore the item to its proper location in the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)] method. You can store this identifier in the `trashedItem` object’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/parentItemIdentifier] property.\n\nThe user’s ability to trash an item is controlled by the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsTrashing] capability.\n\n## Handling actions\n\n- **Providing support for user-driven actions**: Override methods to handle user-initiated actions.\n- **createDirectory(withName:inParentItemIdentifier:completionHandler:)**: Creates a directory with the given name inside the given parent directory.\n- **deleteItem(withIdentifier:completionHandler:)**: Permanently deletes an item from the trash.\n- **importDocument(at:toParentItemIdentifier:completionHandler:)**: Imports a file or package into the given parent directory.\n- **renameItem(withIdentifier:toName:completionHandler:)**: Renames a document or directory.\n- **reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)**: Moves the specified item into the given parent directory.\n- **setFavoriteRank(_:forItemIdentifier:completionHandler:)**: Marks a directory as a favorite and sets its relative order in the Favorites list.\n- **setLastUsedDate(_:forItemIdentifier:completionHandler:)**: Marks an item as recently used and sets its relative order in the Recents list.\n- **setTagData(_:forItemIdentifier:completionHandler:)**: Tags an item.\n- **untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)**: Moves an item out of the trash.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override methods to handle user-initiated actions.",
          "name" : "Providing support for user-driven actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/providing-support-for-user-driven-actions"
        },
        {
          "description" : "Creates a directory with the given name inside the given parent directory.",
          "name" : "createDirectory(withName:inParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/createDirectory(withName:inParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Permanently deletes an item from the trash.",
          "name" : "deleteItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/deleteItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Imports a file or package into the given parent directory.",
          "name" : "importDocument(at:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Renames a document or directory.",
          "name" : "renameItem(withIdentifier:toName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/renameItem(withIdentifier:toName:completionHandler:)"
        },
        {
          "description" : "Moves the specified item into the given parent directory.",
          "name" : "reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)"
        },
        {
          "description" : "Marks a directory as a favorite and sets its relative order in the Favorites list.",
          "name" : "setFavoriteRank(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Marks an item as recently used and sets its relative order in the Recents list.",
          "name" : "setLastUsedDate(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setLastUsedDate(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Tags an item.",
          "name" : "setTagData(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item out of the trash.",
          "name" : "untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)"
        }
      ],
      "title" : "Handling actions"
    }
  ],
  "source" : "appleJSON",
  "title" : "trashItem(withIdentifier:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)"
}