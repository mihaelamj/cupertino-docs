{
  "abstract" : "Create enumerators to specify your file provider’s content.",
  "codeExamples" : [

  ],
  "contentHash" : "9dca2b842adfca3f1d3427319a1db372f47c3463b82b729eb3b3723b3ceb9a6c",
  "crawledAt" : "2025-12-05T19:43:35Z",
  "id" : "4578A863-A744-4C5B-BB54-3398D59EA93D",
  "kind" : "article",
  "language" : "swift",
  "module" : "File Provider",
  "overview" : "## Overview\n\nAn enumerator can provide the content of either a folder or your file provider’s working set.\n\n### Enumerate a Folder\n\nCreate enumerators to specify the content of a folder (for example, your file provider’s root-level folder, or any of its subfolders).\n\n\n\nWhen the user begins to browse a folder:\n\nAs the user navigates through the items, the system calls [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerator\/enumerateItems(for:startingAt:)] as needed to fetch additional items. If the user navigates to a new directory, the system calls the file provider’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/enumerator(for:)] method to create a new enumerator for that directory. The previous enumerator is then invalidated.\n\n### Create the Working Set and Enumerate its Content\n\nThe working set is a list of items (documents or folders) of particular interest to the user. Your file provider must maintain its own working set. For a consistent experience across file providers, the working set must include all of the following:\n\nYou may add other documents to the working set, if you think they are particularly relevant to the user.\n\nThe documents in the working set are indexed in the device’s Spotlight database. The system updates this database as changes are enumerated. It is vital, therefore, that the working sets be kept in sync across all of the user’s devices. Any changes made to the working set must be propagated to all of the user’s devices, and each device must keep a local cache of the working set, letting it enumerate the working set when offline.\n\nCreate an enumerator to specify the working set’s content. This enumerator uses the same basic procedure as used for enumerating a folder, with the following exceptions:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/defining-your-file-provider-s-content\ncrawled: 2025-12-05T19:43:35Z\n---\n\n# Defining Your File Provider’s Content\n\n**Article**\n\nCreate enumerators to specify your file provider’s content.\n\n## Overview\n\nAn enumerator can provide the content of either a folder or your file provider’s working set.\n\n### Enumerate a Folder\n\nCreate enumerators to specify the content of a folder (for example, your file provider’s root-level folder, or any of its subfolders).\n\n\n\nWhen the user begins to browse a folder:\n\n1. The system calls your file provider’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/enumerator(for:)]method and passes the persistent identifier for the folder. If the user is browsing your root-level folder, it passes the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemIdentifier\/rootContainer] constant instead.\n2. You must instantiate and return an object that adopts the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerator] protocol.\n3. The system calls the enumerator’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerator\/enumerateItems(for:startingAt:)] method to get the first batch of items from your file provider. This method is asynchronous.\n4. Your enumerator gathers information about the first batch of items for the specified folder (perhaps from a remote server).\n5. Your enumerator returns the results to the specified observer (an object that adopts the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerationObserver] protocol).\n\n- Return the items by calling the observer’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerationObserver\/didEnumerate(_:)] method.\n- Call the observer’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerationObserver\/finishEnumerating(upTo:)] method when the batch is complete.\n- If an error occurs, call the observer’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerationObserver\/finishEnumeratingWithError(_:)] method.\n\nAs the user navigates through the items, the system calls [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderEnumerator\/enumerateItems(for:startingAt:)] as needed to fetch additional items. If the user navigates to a new directory, the system calls the file provider’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/enumerator(for:)] method to create a new enumerator for that directory. The previous enumerator is then invalidated.\n\n### Create the Working Set and Enumerate its Content\n\nThe working set is a list of items (documents or folders) of particular interest to the user. Your file provider must maintain its own working set. For a consistent experience across file providers, the working set must include all of the following:\n\n- Recent items (items with a last-used date)\n- Tagged items\n- Favorites\n- Shared items\n- Recently deleted items\n\nYou may add other documents to the working set, if you think they are particularly relevant to the user.\n\nThe documents in the working set are indexed in the device’s Spotlight database. The system updates this database as changes are enumerated. It is vital, therefore, that the working sets be kept in sync across all of the user’s devices. Any changes made to the working set must be propagated to all of the user’s devices, and each device must keep a local cache of the working set, letting it enumerate the working set when offline.\n\nCreate an enumerator to specify the working set’s content. This enumerator uses the same basic procedure as used for enumerating a folder, with the following exceptions:\n\n- The working set’s enumerator isn’t driven by the user browsing through your file provider’s content. Instead, the system updates the Spotlight database in the background.\n- To get the working set enumerator, the system calls the file provider’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderExtension\/enumerator(for:)] method and passes in the [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemIdentifier\/workingSet] constant. You must provide an enumerator that returns all of the items and changes for your working set.\n- The system always responds to changes to the working set. If a change arrives and you don’t have an active enumerator, the system requests a new one.\n\n## Content\n\n- **NSFileProviderEnumerationObserver**: An observer that receives batches of items during enumeration.\n- **NSFileProviderPage**: A synchronization point that represents the next batch of items to be returned by an enumerator.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An observer that receives batches of items during enumeration.",
          "name" : "NSFileProviderEnumerationObserver",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderEnumerationObserver"
        },
        {
          "description" : "A synchronization point that represents the next batch of items to be returned by an enumerator.",
          "name" : "NSFileProviderPage",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderPage"
        }
      ],
      "title" : "Content"
    }
  ],
  "source" : "appleJSON",
  "title" : "Defining Your File Provider’s Content",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/defining-your-file-provider-s-content"
}