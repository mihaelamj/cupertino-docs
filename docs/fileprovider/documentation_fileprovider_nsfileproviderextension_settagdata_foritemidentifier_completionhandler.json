{
  "abstract" : "Tags an item.",
  "codeExamples" : [

  ],
  "contentHash" : "de09738d0162812ef4be516615af51c9ecc8381535eb99ee62d48c49f7a05bce",
  "crawledAt" : "2025-12-02T15:20:47Z",
  "declaration" : {
    "code" : "func setTagData(_ tagData: Data?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "0303055E-E123-4262-8033-8D3F2A7F5B41",
  "kind" : "method",
  "module" : "File Provider",
  "overview" : "## Discussion\n\nThis method is called when the user tags a document or directory. Override this method to make any necessary local changes. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `taggedItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/tagData] property with the value of the `tagData` parameter.\n\nAlways include Items with a non-`nil` [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/tagData] property in your File Provider extension’s working set.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)\ncrawled: 2025-12-02T15:20:47Z\n---\n\n# setTagData(_:forItemIdentifier:completionHandler:)\n\n**Instance Method**\n\nTags an item.\n\n## Declaration\n\n```swift\nfunc setTagData(_ tagData: Data?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)\n```\n\n```swift\nfunc setTagData(_ tagData: Data?, forItemIdentifier itemIdentifier: NSFileProviderItemIdentifier) async throws -> NSFileProviderItem\n```\n\n## Parameters\n\n- **tagData**: The tag selected by the user, or `nil` if the item was untagged.\n- **itemIdentifier**: The item’s persistent identifier.\n- **completionHandler**: A block that takes the following parameters:\n\n\n\n## Discussion\n\n\n\nThis method is called when the user tags a document or directory. Override this method to make any necessary local changes. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `taggedItem` instance that you pass to the completion handler should match the item’s old file provider item, with only one change: set the item’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/tagData] property with the value of the `tagData` parameter.\n\nAlways include Items with a non-`nil` [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/tagData] property in your File Provider extension’s working set.\n\n## Handling actions\n\n- **Providing support for user-driven actions**: Override methods to handle user-initiated actions.\n- **createDirectory(withName:inParentItemIdentifier:completionHandler:)**: Creates a directory with the given name inside the given parent directory.\n- **deleteItem(withIdentifier:completionHandler:)**: Permanently deletes an item from the trash.\n- **importDocument(at:toParentItemIdentifier:completionHandler:)**: Imports a file or package into the given parent directory.\n- **renameItem(withIdentifier:toName:completionHandler:)**: Renames a document or directory.\n- **reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)**: Moves the specified item into the given parent directory.\n- **setFavoriteRank(_:forItemIdentifier:completionHandler:)**: Marks a directory as a favorite and sets its relative order in the Favorites list.\n- **setLastUsedDate(_:forItemIdentifier:completionHandler:)**: Marks an item as recently used and sets its relative order in the Recents list.\n- **trashItem(withIdentifier:completionHandler:)**: Moves an item into the trash.\n- **untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)**: Moves an item out of the trash.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override methods to handle user-initiated actions.",
          "name" : "Providing support for user-driven actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/providing-support-for-user-driven-actions"
        },
        {
          "description" : "Creates a directory with the given name inside the given parent directory.",
          "name" : "createDirectory(withName:inParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/createDirectory(withName:inParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Permanently deletes an item from the trash.",
          "name" : "deleteItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/deleteItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Imports a file or package into the given parent directory.",
          "name" : "importDocument(at:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Renames a document or directory.",
          "name" : "renameItem(withIdentifier:toName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/renameItem(withIdentifier:toName:completionHandler:)"
        },
        {
          "description" : "Moves the specified item into the given parent directory.",
          "name" : "reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)"
        },
        {
          "description" : "Marks a directory as a favorite and sets its relative order in the Favorites list.",
          "name" : "setFavoriteRank(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Marks an item as recently used and sets its relative order in the Recents list.",
          "name" : "setLastUsedDate(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setLastUsedDate(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item into the trash.",
          "name" : "trashItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item out of the trash.",
          "name" : "untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)"
        }
      ],
      "title" : "Handling actions"
    }
  ],
  "source" : "appleJSON",
  "title" : "setTagData(_:forItemIdentifier:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)"
}