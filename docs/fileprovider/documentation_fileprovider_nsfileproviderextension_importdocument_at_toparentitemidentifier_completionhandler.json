{
  "abstract" : "Imports a file or package into the given parent directory.",
  "codeExamples" : [

  ],
  "contentHash" : "b7890d5716deb6d50dbc3732109716446006c9f76c9d76510d13bbace11e3905",
  "crawledAt" : "2025-12-02T15:20:43Z",
  "declaration" : {
    "code" : "func importDocument(at fileURL: URL, toParentItemIdentifier parentItemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "9E2D4952-3E30-472C-955F-F1C96E604503",
  "kind" : "method",
  "module" : "File Provider",
  "overview" : "## Discussion\n\nThis method is called when the user imports a document or directory. Override this method to move the file at the provided security-scoped URL to the file provider’s storage. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `importedDocumentItem` instance that you pass to the completion handler must define the following properties:\n\nThe user’s ability to import an item into a directory is controlled by the parent directory’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsAddingSubItems] capability.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)\ncrawled: 2025-12-02T15:20:43Z\n---\n\n# importDocument(at:toParentItemIdentifier:completionHandler:)\n\n**Instance Method**\n\nImports a file or package into the given parent directory.\n\n## Declaration\n\n```swift\nfunc importDocument(at fileURL: URL, toParentItemIdentifier parentItemIdentifier: NSFileProviderItemIdentifier, completionHandler: @escaping (NSFileProviderItem?, (any Error)?) -> Void)\n```\n\n```swift\nfunc importDocument(at fileURL: URL, toParentItemIdentifier parentItemIdentifier: NSFileProviderItemIdentifier) async throws -> NSFileProviderItem\n```\n\n## Parameters\n\n- **fileURL**: A security-scoped URL for the file to import. Call [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL\/startAccessingSecurityScopedResource()] on the URL before accessing it and  [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL\/stopAccessingSecurityScopedResource()] when finished.\n- **parentItemIdentifier**: The persistent identifier for the directory where the item will be imported.\n- **completionHandler**: A block that takes the following parameters:\n\n\n\n## Discussion\n\n\n\nThis method is called when the user imports a document or directory. Override this method to move the file at the provided security-scoped URL to the file provider’s storage. Your implementation should return immediately. Call the completion handler before performing any network activity or other long-running tasks. Defer these tasks to the background.\n\nThe `importedDocumentItem` instance that you pass to the completion handler must define the following properties:\n\n\n\nThe user’s ability to import an item into a directory is controlled by the parent directory’s [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsAddingSubItems] capability.\n\n## Handling actions\n\n- **Providing support for user-driven actions**: Override methods to handle user-initiated actions.\n- **createDirectory(withName:inParentItemIdentifier:completionHandler:)**: Creates a directory with the given name inside the given parent directory.\n- **deleteItem(withIdentifier:completionHandler:)**: Permanently deletes an item from the trash.\n- **renameItem(withIdentifier:toName:completionHandler:)**: Renames a document or directory.\n- **reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)**: Moves the specified item into the given parent directory.\n- **setFavoriteRank(_:forItemIdentifier:completionHandler:)**: Marks a directory as a favorite and sets its relative order in the Favorites list.\n- **setLastUsedDate(_:forItemIdentifier:completionHandler:)**: Marks an item as recently used and sets its relative order in the Recents list.\n- **setTagData(_:forItemIdentifier:completionHandler:)**: Tags an item.\n- **trashItem(withIdentifier:completionHandler:)**: Moves an item into the trash.\n- **untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)**: Moves an item out of the trash.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override methods to handle user-initiated actions.",
          "name" : "Providing support for user-driven actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/providing-support-for-user-driven-actions"
        },
        {
          "description" : "Creates a directory with the given name inside the given parent directory.",
          "name" : "createDirectory(withName:inParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/createDirectory(withName:inParentItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Permanently deletes an item from the trash.",
          "name" : "deleteItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/deleteItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Renames a document or directory.",
          "name" : "renameItem(withIdentifier:toName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/renameItem(withIdentifier:toName:completionHandler:)"
        },
        {
          "description" : "Moves the specified item into the given parent directory.",
          "name" : "reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/reparentItem(withIdentifier:toParentItemWithIdentifier:newName:completionHandler:)"
        },
        {
          "description" : "Marks a directory as a favorite and sets its relative order in the Favorites list.",
          "name" : "setFavoriteRank(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setFavoriteRank(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Marks an item as recently used and sets its relative order in the Recents list.",
          "name" : "setLastUsedDate(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setLastUsedDate(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Tags an item.",
          "name" : "setTagData(_:forItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/setTagData(_:forItemIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item into the trash.",
          "name" : "trashItem(withIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/trashItem(withIdentifier:completionHandler:)"
        },
        {
          "description" : "Moves an item out of the trash.",
          "name" : "untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/untrashItem(withIdentifier:toParentItemIdentifier:completionHandler:)"
        }
      ],
      "title" : "Handling actions"
    }
  ],
  "source" : "appleJSON",
  "title" : "importDocument(at:toParentItemIdentifier:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/NSFileProviderExtension\/importDocument(at:toParentItemIdentifier:completionHandler:)"
}