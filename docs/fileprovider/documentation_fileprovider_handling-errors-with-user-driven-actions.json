{
  "abstract" : "Handle any errors that occur while processing the action.",
  "codeExamples" : [

  ],
  "contentHash" : "0daffdfefb75fb2a0b6839dd07c68a64e664e4ffbdaf873b6a66619e0ba4fb44",
  "crawledAt" : "2025-12-05T19:43:26Z",
  "id" : "4F748378-4A42-4631-804C-5C464142EC6E",
  "kind" : "article",
  "language" : "swift",
  "module" : "File Provider",
  "overview" : "## Overview\n\nWhenever possible, handle the error in a way that allows the local action to succeed. If the local action can succeed, pass `nil` to the completion handler’s `error` property, and then fix any inconsistencies after the fact.\n\nHowever, if an unrecoverable error occurs, do not make the local change. Instead, create an error object that describes the problem and pass it to the completion handler. In general, this error is presented to the user, and the action is canceled.\n\nThe following sections describe tactics for responding to specific error types.\n\n### Responding to Upload Errors\n\nHandle any errors that occur while uploading the changes to your server  (such as [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderError\/Code\/insufficientQuota] errors)  by updating the item locally and setting its [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/uploadingError] property. Upload errors should not prevent local changes. Instead, attempt to sync the change again, after the error is resolved.\n\nFor authentication errors, you can present a custom user interface using the [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI] framework. For more information, see the [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI\/FPUIActionExtensionViewController] class’s [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI\/FPUIActionExtensionViewController\/prepare(forError:)] method.\n\n### Responding to Name Collisions\n\nIf a name collision occurs when syncing a local item with your server, update the local item, giving it a unique file name. A name collision is not considered an error.\n\nIf, however, you can detect a name collision locally, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError\/fileProviderErrorForCollision(with:)] method to create a [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderError\/Code\/filenameCollision] error, and pass this error to the completion handler. The system then asks the user if they want to replace the existing item (taking into account its [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsTrashing] and [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsDeleting] capabilities).\n\nPerform all collision checks using case-insensitive comparisons, even if the filesystem or file provider allows case-sensitive names.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/FileProvider\/handling-errors-with-user-driven-actions\ncrawled: 2025-12-05T19:43:26Z\n---\n\n# Handling Errors with User-Driven Actions\n\n**Article**\n\nHandle any errors that occur while processing the action.\n\n## Overview\n\nWhenever possible, handle the error in a way that allows the local action to succeed. If the local action can succeed, pass `nil` to the completion handler’s `error` property, and then fix any inconsistencies after the fact.\n\nHowever, if an unrecoverable error occurs, do not make the local change. Instead, create an error object that describes the problem and pass it to the completion handler. In general, this error is presented to the user, and the action is canceled.\n\nThe following sections describe tactics for responding to specific error types.\n\n### Responding to Upload Errors\n\nHandle any errors that occur while uploading the changes to your server  (such as [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderError\/Code\/insufficientQuota] errors)  by updating the item locally and setting its [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemProtocol\/uploadingError] property. Upload errors should not prevent local changes. Instead, attempt to sync the change again, after the error is resolved.\n\nFor authentication errors, you can present a custom user interface using the [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI] framework. For more information, see the [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI\/FPUIActionExtensionViewController] class’s [doc:\/\/com.apple.documentation\/documentation\/FileProviderUI\/FPUIActionExtensionViewController\/prepare(forError:)] method.\n\n### Responding to Name Collisions\n\nIf a name collision occurs when syncing a local item with your server, update the local item, giving it a unique file name. A name collision is not considered an error.\n\nIf, however, you can detect a name collision locally, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError\/fileProviderErrorForCollision(with:)] method to create a [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderError\/Code\/filenameCollision] error, and pass this error to the completion handler. The system then asks the user if they want to replace the existing item (taking into account its [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsTrashing] and [doc:\/\/com.apple.fileprovider\/documentation\/FileProvider\/NSFileProviderItemCapabilities\/allowsDeleting] capabilities).\n\nPerform all collision checks using case-insensitive comparisons, even if the filesystem or file provider allows case-sensitive names.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Handling Errors with User-Driven Actions",
  "url" : "https:\/\/developer.apple.com\/documentation\/FileProvider\/handling-errors-with-user-driven-actions"
}