{
  "abstract" : "Configure your navigation app to work with CarPlay by displaying your custom map and directions.",
  "codeExamples" : [
    {
      "code" : "\/\/ MARK: CPTemplateApplicationSceneDelegate\n\nfunc interfaceController(_ interfaceController: CPInterfaceController, didConnectWith window: CPWindow, style: UIUserInterfaceStyle) {\n    MemoryLogger.shared.appendEvent(\"Connected to CarPlay window.\")\n\n    carplayInterfaceController = interfaceController\n    carplayInterfaceController!.delegate = self\n    \n    window.rootViewController = mainMapViewController\n    carWindow = window\n    \n    let mapTemplate = CPMapTemplate.coastalRoadsMapTemplate(compatibleWith: mainMapViewController.traitCollection, zoomInAction: {\n        MemoryLogger.shared.appendEvent(\"Map zoom in.\")\n        self.mainMapViewController.zoomIn()\n    }, zoomOutAction: {\n        MemoryLogger.shared.appendEvent(\"Map zoom out.\")\n        self.mainMapViewController.zoomOut()\n    })\n\n    mapTemplate.mapDelegate = self\n\n    baseMapTemplate = mapTemplate\n\n    installBarButtons()\n\n    interfaceController.setRootTemplate(mapTemplate, animated: true) { (success, _) in\n        if success {\n            MemoryLogger.shared.appendEvent(\"Root MapTemplate set successfully\")\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "extension TemplateManager: CPMapTemplateDelegate {\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, panWith direction: CPMapTemplate.PanDirection) {\n        mainMapViewController.panInDirection(direction)\n    }\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, selectedPreviewFor trip: CPTrip, using routeChoice: CPRouteChoice) {\n        mainMapViewController.setPolylineVisible(true)\n    }\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, startedTrip trip: CPTrip, using routeChoice: CPRouteChoice) {\n\n        MemoryLogger.shared.appendEvent(\"Beginning navigation guidance.\")\n\n        let navSession = mapTemplate.simulateCoastalRoadsNavigation(\n            trip: trip,\n            routeChoice: routeChoice,\n            traitCollection: mainMapViewController.traitCollection)\n        navigationSession = navSession\n\n        simulateNavigation(for: navSession, maneuvers: mapTemplate.coastalRoadsManeuvers(compatibleWith: mainMapViewController.traitCollection))\n    }",
      "language" : "swift"
    }
  ],
  "contentHash" : "b8eada060ea0d9e0cd80f5a108a0b8abe55e674900157b405ba4dca8620e9827",
  "crawledAt" : "2025-12-02T15:47:50Z",
  "id" : "FB2ADB41-15E2-4242-94FA-6CD2E4CEF4A7",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "CarPlay",
  "overview" : "## Overview\n\nCoastal Roads is a sample navigation app that demonstrates how to display a custom map and navigation instructions in a CarPlay–enabled vehicle. Coastal Roads integrates with the CarPlay framework by implementing the map and additional `CPTemplate` subclasses, such as [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPGridTemplate] and [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPListTemplate]. This sample’s iOS app component provides a logging interface to help you understand the life cycle of a CarPlay app.\n\n### Handle Communication with CarPlay\n\nAfter the app connects to CarPlay, it immediately sets a root template to display content onscreen. The sample sets the root template on the `CPInterfaceController` when the app connects to CarPlay. In all navigation apps, the root template must be an instance of `CPMapTemplate` and contain no additional graphics or UI elements.\n\nThe following code shows an example implementation of setting a root template:\n\n### Render a Map as the Base Template\n\nCoastal Roads demonstrates various templates in CarPlay. The sample includes an image to serve as the map. All overlays must be a type of template that CarPlay provides. The map must cover the entire screen, which the sample accomplishes using constraints. The `CPMapTemplate` also provides native support for zooming and panning. Additional functionality, such as customizing default button behavior, is available.\n\nThe following code shows an example implementation of customizing the default behavior of the panning, preview, and trip start actions on `CPMapTemplate`:\n\nSee [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPMapTemplateDelegate] for more information.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CarPlay\/integrating-carplay-with-your-navigation-app\ncrawled: 2025-12-02T15:47:50Z\n---\n\n# Integrating CarPlay with Your Navigation App\n\n**Sample Code**\n\nConfigure your navigation app to work with CarPlay by displaying your custom map and directions.\n\n## Overview\n\nCoastal Roads is a sample navigation app that demonstrates how to display a custom map and navigation instructions in a CarPlay–enabled vehicle. Coastal Roads integrates with the CarPlay framework by implementing the map and additional `CPTemplate` subclasses, such as [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPGridTemplate] and [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPListTemplate]. This sample’s iOS app component provides a logging interface to help you understand the life cycle of a CarPlay app.\n\n### Handle Communication with CarPlay\n\nAfter the app connects to CarPlay, it immediately sets a root template to display content onscreen. The sample sets the root template on the `CPInterfaceController` when the app connects to CarPlay. In all navigation apps, the root template must be an instance of `CPMapTemplate` and contain no additional graphics or UI elements.\n\nThe following code shows an example implementation of setting a root template:\n\n```swift\n\/\/ MARK: CPTemplateApplicationSceneDelegate\n\nfunc interfaceController(_ interfaceController: CPInterfaceController, didConnectWith window: CPWindow, style: UIUserInterfaceStyle) {\n    MemoryLogger.shared.appendEvent(\"Connected to CarPlay window.\")\n\n    carplayInterfaceController = interfaceController\n    carplayInterfaceController!.delegate = self\n    \n    window.rootViewController = mainMapViewController\n    carWindow = window\n    \n    let mapTemplate = CPMapTemplate.coastalRoadsMapTemplate(compatibleWith: mainMapViewController.traitCollection, zoomInAction: {\n        MemoryLogger.shared.appendEvent(\"Map zoom in.\")\n        self.mainMapViewController.zoomIn()\n    }, zoomOutAction: {\n        MemoryLogger.shared.appendEvent(\"Map zoom out.\")\n        self.mainMapViewController.zoomOut()\n    })\n\n    mapTemplate.mapDelegate = self\n\n    baseMapTemplate = mapTemplate\n\n    installBarButtons()\n\n    interfaceController.setRootTemplate(mapTemplate, animated: true) { (success, _) in\n        if success {\n            MemoryLogger.shared.appendEvent(\"Root MapTemplate set successfully\")\n        }\n    }\n}\n```\n\n### Render a Map as the Base Template\n\nCoastal Roads demonstrates various templates in CarPlay. The sample includes an image to serve as the map. All overlays must be a type of template that CarPlay provides. The map must cover the entire screen, which the sample accomplishes using constraints. The `CPMapTemplate` also provides native support for zooming and panning. Additional functionality, such as customizing default button behavior, is available.\n\nThe following code shows an example implementation of customizing the default behavior of the panning, preview, and trip start actions on `CPMapTemplate`:\n\n```swift\nextension TemplateManager: CPMapTemplateDelegate {\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, panWith direction: CPMapTemplate.PanDirection) {\n        mainMapViewController.panInDirection(direction)\n    }\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, selectedPreviewFor trip: CPTrip, using routeChoice: CPRouteChoice) {\n        mainMapViewController.setPolylineVisible(true)\n    }\n\n    func mapTemplate(_ mapTemplate: CPMapTemplate, startedTrip trip: CPTrip, using routeChoice: CPRouteChoice) {\n\n        MemoryLogger.shared.appendEvent(\"Beginning navigation guidance.\")\n\n        let navSession = mapTemplate.simulateCoastalRoadsNavigation(\n            trip: trip,\n            routeChoice: routeChoice,\n            traitCollection: mainMapViewController.traitCollection)\n        navigationSession = navSession\n\n        simulateNavigation(for: navSession, maneuvers: mapTemplate.coastalRoadsManeuvers(compatibleWith: mainMapViewController.traitCollection))\n    }\n```\n\nSee [doc:\/\/com.apple.documentation\/documentation\/CarPlay\/CPMapTemplateDelegate] for more information.\n\n## Navigation\n\n- **CPTemplateApplicationDashboardScene**: A CarPlay scene that controls your app’s dashboard navigation window.\n- **CPTemplateApplicationDashboardSceneDelegate**: The methods for responding to the life-cycle events of your navigation app’s dashboard scene.\n- **CPMapTemplate**: A template that displays a navigation overlay that your app draws on the map.\n- **CPSearchTemplate**: A template that provides the ability to search for a destination and see a list of search results.\n- **CPVoiceControlTemplate**: A template that displays a voice control indicator during audio input.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A CarPlay scene that controls your app’s dashboard navigation window.",
          "name" : "CPTemplateApplicationDashboardScene",
          "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/CPTemplateApplicationDashboardScene"
        },
        {
          "description" : "The methods for responding to the life-cycle events of your navigation app’s dashboard scene.",
          "name" : "CPTemplateApplicationDashboardSceneDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/CPTemplateApplicationDashboardSceneDelegate"
        },
        {
          "description" : "A template that displays a navigation overlay that your app draws on the map.",
          "name" : "CPMapTemplate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/CPMapTemplate"
        },
        {
          "description" : "A template that provides the ability to search for a destination and see a list of search results.",
          "name" : "CPSearchTemplate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/CPSearchTemplate"
        },
        {
          "description" : "A template that displays a voice control indicator during audio input.",
          "name" : "CPVoiceControlTemplate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/CPVoiceControlTemplate"
        }
      ],
      "title" : "Navigation"
    }
  ],
  "source" : "appleJSON",
  "title" : "Integrating CarPlay with Your Navigation App",
  "url" : "https:\/\/developer.apple.com\/documentation\/CarPlay\/integrating-carplay-with-your-navigation-app"
}