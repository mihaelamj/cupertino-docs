{
  "abstract" : "Write your own custom kernels in either the Core Image Kernel Language or the Metal Shading Language.",
  "codeExamples" : [

  ],
  "contentHash" : "3184b2783462834fef70fa69083a51e2940a47c2c9e231ec9dc48fac2c5723b5",
  "crawledAt" : "2025-12-04T21:21:25Z",
  "id" : "C4D6F6BA-3990-4766-BFD7-95948A6CC6B9",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core Image",
  "overview" : "## Overview\n\nThe Core Image Kernel Language is a shading language optimized for writing custom kernels for use in apps leveraging Core Image.  You can add custom image processing routines to a Core Image pipeline.\n\nYou can also write your own kernels in the Metal Shading Language.  The following flowchart shows how you decide which language to use for writing custom kernels:\n\n\n\nSource code written in Core Image Kernel Language should contain one or more image processing routines and may optionally contain other functions that are called by these routines. The source code is parsed and validated when the code is passed to Core Image’s [doc:\/\/com.apple.coreimage\/documentation\/CoreImage\/CIKernel] creation APIs. When rendering, Core Image can concatenate kernel functions used within an image graph and construct optimized shader programs. See [https:\/\/developer.apple.com\/go\/?id=core-image-kernel-language-reference] for a list of supported data types, functions, and language features.\n\nAlternatively, you can write custom kernels in the Metal Shading Language. If you intend to use Metal-only language features and support exclusively Metal-supported devices, then writing custom kernels in Metal Shading Language can reduce compile-time cost while providing code consistency across your Metal app. See [https:\/\/developer.apple.com\/go\/?id=metal-shading-language-for-core-image-kernels] for a list of supported data types, functions, and language features.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreImage\/writing-custom-kernels\ncrawled: 2025-12-04T21:21:25Z\n---\n\n# Writing Custom Kernels\n\n**Article**\n\nWrite your own custom kernels in either the Core Image Kernel Language or the Metal Shading Language.\n\n## Overview\n\nThe Core Image Kernel Language is a shading language optimized for writing custom kernels for use in apps leveraging Core Image.  You can add custom image processing routines to a Core Image pipeline.\n\nYou can also write your own kernels in the Metal Shading Language.  The following flowchart shows how you decide which language to use for writing custom kernels:\n\n\n\nSource code written in Core Image Kernel Language should contain one or more image processing routines and may optionally contain other functions that are called by these routines. The source code is parsed and validated when the code is passed to Core Image’s [doc:\/\/com.apple.coreimage\/documentation\/CoreImage\/CIKernel] creation APIs. When rendering, Core Image can concatenate kernel functions used within an image graph and construct optimized shader programs. See [https:\/\/developer.apple.com\/go\/?id=core-image-kernel-language-reference] for a list of supported data types, functions, and language features.\n\nAlternatively, you can write custom kernels in the Metal Shading Language. If you intend to use Metal-only language features and support exclusively Metal-supported devices, then writing custom kernels in Metal Shading Language can reduce compile-time cost while providing code consistency across your Metal app. See [https:\/\/developer.apple.com\/go\/?id=metal-shading-language-for-core-image-kernels] for a list of supported data types, functions, and language features.\n\n## Custom Filters\n\n- **CIKernel**: A GPU-based image-processing routine used to create custom Core Image filters.\n- **CIColorKernel**: A GPU-based image-processing routine that processes only the color information in images, used to create custom Core Image filters.\n- **CIWarpKernel**: A GPU-based image-processing routine that processes only the geometry information in an image, used to create custom Core Image filters.\n- **CIBlendKernel**: A GPU-based image-processing routine that is optimized for blending two images.\n- **CISampler**: An object that retrieves pixel samples for processing by a filter kernel.\n- **CIFilterShape**: A description of the bounding shape of a filter and the domain of definition for a filter operation.\n- **CIFormat**: Pixel data formats for image input, output, and processing.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A GPU-based image-processing routine used to create custom Core Image filters.",
          "name" : "CIKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIKernel"
        },
        {
          "description" : "A GPU-based image-processing routine that processes only the color information in images, used to create custom Core Image filters.",
          "name" : "CIColorKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIColorKernel"
        },
        {
          "description" : "A GPU-based image-processing routine that processes only the geometry information in an image, used to create custom Core Image filters.",
          "name" : "CIWarpKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIWarpKernel"
        },
        {
          "description" : "A GPU-based image-processing routine that is optimized for blending two images.",
          "name" : "CIBlendKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel"
        },
        {
          "description" : "An object that retrieves pixel samples for processing by a filter kernel.",
          "name" : "CISampler",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CISampler"
        },
        {
          "description" : "A description of the bounding shape of a filter and the domain of definition for a filter operation.",
          "name" : "CIFilterShape",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilterShape"
        },
        {
          "description" : "Pixel data formats for image input, output, and processing.",
          "name" : "CIFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFormat"
        }
      ],
      "title" : "Custom Filters"
    }
  ],
  "source" : "appleJSON",
  "title" : "Writing Custom Kernels",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/writing-custom-kernels"
}