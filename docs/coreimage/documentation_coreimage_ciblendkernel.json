{
  "abstract" : "A GPU-based image-processing routine that is optimized for blending two images.",
  "codeExamples" : [
    {
      "code" : "#include <CoreImage\/CoreImage.h>\n \nfloat4 averageBlend(sample_t foreground, sample_t background) {\n    return (foreground + background) \/ 2.0;\n}",
      "language" : "c"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "1ec25818784294119626783354aa567a97ebe4827bccca4dfa386a597016e603",
  "crawledAt" : "2025-12-04T21:21:28Z",
  "declaration" : {
    "code" : "class CIBlendKernel",
    "language" : "swift"
  },
  "id" : "70429B33-B7E7-4876-9693-7F6354FBDF6C",
  "kind" : "class",
  "language" : "swift",
  "module" : "Core Image",
  "overview" : "## Overview\n\nThe blend kernel function has the following characteristics:\n\nA blend kernel routine receives as input single-pixel colors (one sampled from each input image) and computes a final pixel color (output using the return keyword). For example, the Metal Shading Language source below implements a filter that returns the average of its two input images.\n\nGenerally, the extent of the output image is the union of the extents of the foreground and background images.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\ncrawled: 2025-12-04T21:21:28Z\n---\n\n# CIBlendKernel\n\n**Class**\n\nA GPU-based image-processing routine that is optimized for blending two images.\n\n## Declaration\n\n```swift\nclass CIBlendKernel\n```\n\n## Overview\n\nThe blend kernel function has the following characteristics:\n\n- It has two arguments of type `__sample` (Core Image Kernel Language) or `sample_t` (Metal Shading Language), representing the foreground and background images.\n- Its return type is `vec4` (Core Image Kernel Language) or `float4` (Metal Shading Language); that is, it returns a pixel color for the output image.\n\nA blend kernel routine receives as input single-pixel colors (one sampled from each input image) and computes a final pixel color (output using the return keyword). For example, the Metal Shading Language source below implements a filter that returns the average of its two input images.\n\n```c\n#include <CoreImage\/CoreImage.h>\n \nfloat4 averageBlend(sample_t foreground, sample_t background) {\n    return (foreground + background) \/ 2.0;\n}\n```\n\nGenerally, the extent of the output image is the union of the extents of the foreground and background images.\n\n## Creating a Kernel\n\n- **init(source:)**: Creates a custom blend kernel from a program string.\n\n## Applying a Kernel to Filter an Image\n\n- **apply(foreground:background:)**: Creates a new image using the blend kernel and specified foreground and background images.\n\n## Builtin Blend Kernels\n\n- **clear**: A blend kernel that returns a clear color.\n- **color**: A blend kernel that uses the luminance values of the background with the hue and saturation values of the foreground image.\n- **colorBurn**: A blend kernel that darkens the background image samples to reflect the foreground image samples.\n- **colorDodge**: A blend kernel that brightens the background image samples to reflect the foreground image samples.\n- **componentAdd**: A blend kernel that adds color components to achieve a brightening effect.\n- **componentMax**: A blend kernel that creates an image using the maximum values of two input images.\n- **componentMin**: A blend kernel that creates an image using the minimum values of two input images.\n- **componentMultiply**: A blend kernel that multiplies the color components of its input images.\n- **darken**: A blend kernel that creates an image using the darker values of two input images.\n- **darkerColor**: A blend kernel that creates an image using the darker color of two input images.\n- **destination**: A blend kernel that returns the background input image.\n- **destinationAtop**: A blend kernel that places the background over the foreground and crops based on the visibility of the foreground.\n- **destinationIn**: A blend kernel that places the background over the foreground and crops based on the visibility of both.\n- **destinationOut**: A blend kernel that uses the background image to define what to take out of the foreground image.\n- **destinationOver**: A blend kernel that places the background image over the input foreground image.\n- **difference**: A blend kernel that creates an image using the difference between the background and foreground images.\n- **divide**: A blend kernel that divides the background image sample color with the foreground image sample color.\n- **exclusion**: A blend kernel that produces an effect similar to difference blending but with lower contrast.\n- **exclusiveOr**: A blend kernel that returns either the foreground or background image if the other contains a clear color.\n- **hardLight**: A blend kernel that either multiplies or screens colors, depending on the source image sample color.\n- **hardMix**: A blend kernel that adds two images together, setting each color channel value to either 0 or 1.\n- **hue**: A blend kernel that uses the luminance and saturation values of the background image with the hue of the foreground image.\n- **lighten**: A blend kernel that creates an image using the lighter values of two input images.\n- **lighterColor**: A blend kernel that creates an image using the lighter color of two input images.\n- **linearBurn**: A blend kernel that darkens the background image samples to reflect the foreground image samples while also increasing contrast.\n- **linearDodge**: A blend kernel that lightens the background image samples to reflect the foreground image samples while also increasing contrast.\n- **linearLight**: A blend kernel that burns or dodges colors by changing brightness, depending on the blend color.\n- **luminosity**: A blend kernel that uses the hue and saturation of the background image with the luminance of the foreground image.\n- **multiply**: A blend kernel that multiplies the background image sample color with the foreground image sample color.\n- **overlay**: A blend kernel that either multiplies or screens the foreground image samples with the background image samples, depending on the background color.\n- **pinLight**: A blend kernel that conditionally replaces background image samples with source image samples depending on the brightness of the source image samples.\n- **saturation**: A blend kernel that uses the luminance and hue values of the background image with the saturation of the foreground image.\n- **screen**: A blend kernel that multiplies the inverse of the foreground image samples with the inverse of the background image samples.\n- **softLight**: A blend kernel that either darkens or lightens colors, depending on the foreground image sample color.\n- **source**: A blend kernel that returns the foreground input image.\n- **sourceAtop**: A blend kernel that places the foreground over the background and crops based on the visibility of the background.\n- **sourceIn**: A blend kernel that places the foreground over the background and crops based on the visibility of both.\n- **sourceOut**: A blend kernel that uses the foreground image to define what to take out of the background image.\n- **sourceOver**: A blend kernel that places the foreground image over the input background image.\n- **subtract**: A blend kernel that subtracts the background image sample color from the foreground image sample color.\n- **vividLight**: A blend kernel that burns or dodges colors by changing contrast, depending on the blend color.\n\n## Instance Methods\n\n- **apply(foreground:background:colorSpace:)**\n\n## Custom Filters\n\n- **Writing Custom Kernels**: Write your own custom kernels in either the Core Image Kernel Language or the Metal Shading Language.\n- **CIKernel**: A GPU-based image-processing routine used to create custom Core Image filters.\n- **CIColorKernel**: A GPU-based image-processing routine that processes only the color information in images, used to create custom Core Image filters.\n- **CIWarpKernel**: A GPU-based image-processing routine that processes only the geometry information in an image, used to create custom Core Image filters.\n- **CISampler**: An object that retrieves pixel samples for processing by a filter kernel.\n- **CIFilterShape**: A description of the bounding shape of a filter and the domain of definition for a filter operation.\n- **CIFormat**: Pixel data formats for image input, output, and processing.\n\n## Inherits From\n\n- CIColorKernel\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a custom blend kernel from a program string.",
          "name" : "init(source:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/init(source:)"
        }
      ],
      "title" : "Creating a Kernel"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new image using the blend kernel and specified foreground and background images.",
          "name" : "apply(foreground:background:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/apply(foreground:background:)"
        }
      ],
      "title" : "Applying a Kernel to Filter an Image"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A blend kernel that returns a clear color.",
          "name" : "clear",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/clear"
        },
        {
          "description" : "A blend kernel that uses the luminance values of the background with the hue and saturation values of the foreground image.",
          "name" : "color",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/color"
        },
        {
          "description" : "A blend kernel that darkens the background image samples to reflect the foreground image samples.",
          "name" : "colorBurn",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/colorBurn"
        },
        {
          "description" : "A blend kernel that brightens the background image samples to reflect the foreground image samples.",
          "name" : "colorDodge",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/colorDodge"
        },
        {
          "description" : "A blend kernel that adds color components to achieve a brightening effect.",
          "name" : "componentAdd",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/componentAdd"
        },
        {
          "description" : "A blend kernel that creates an image using the maximum values of two input images.",
          "name" : "componentMax",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/componentMax"
        },
        {
          "description" : "A blend kernel that creates an image using the minimum values of two input images.",
          "name" : "componentMin",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/componentMin"
        },
        {
          "description" : "A blend kernel that multiplies the color components of its input images.",
          "name" : "componentMultiply",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/componentMultiply"
        },
        {
          "description" : "A blend kernel that creates an image using the darker values of two input images.",
          "name" : "darken",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/darken"
        },
        {
          "description" : "A blend kernel that creates an image using the darker color of two input images.",
          "name" : "darkerColor",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/darkerColor"
        },
        {
          "description" : "A blend kernel that returns the background input image.",
          "name" : "destination",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/destination"
        },
        {
          "description" : "A blend kernel that places the background over the foreground and crops based on the visibility of the foreground.",
          "name" : "destinationAtop",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/destinationAtop"
        },
        {
          "description" : "A blend kernel that places the background over the foreground and crops based on the visibility of both.",
          "name" : "destinationIn",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/destinationIn"
        },
        {
          "description" : "A blend kernel that uses the background image to define what to take out of the foreground image.",
          "name" : "destinationOut",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/destinationOut"
        },
        {
          "description" : "A blend kernel that places the background image over the input foreground image.",
          "name" : "destinationOver",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/destinationOver"
        },
        {
          "description" : "A blend kernel that creates an image using the difference between the background and foreground images.",
          "name" : "difference",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/difference"
        },
        {
          "description" : "A blend kernel that divides the background image sample color with the foreground image sample color.",
          "name" : "divide",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/divide"
        },
        {
          "description" : "A blend kernel that produces an effect similar to difference blending but with lower contrast.",
          "name" : "exclusion",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/exclusion"
        },
        {
          "description" : "A blend kernel that returns either the foreground or background image if the other contains a clear color.",
          "name" : "exclusiveOr",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/exclusiveOr"
        },
        {
          "description" : "A blend kernel that either multiplies or screens colors, depending on the source image sample color.",
          "name" : "hardLight",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/hardLight"
        },
        {
          "description" : "A blend kernel that adds two images together, setting each color channel value to either 0 or 1.",
          "name" : "hardMix",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/hardMix"
        },
        {
          "description" : "A blend kernel that uses the luminance and saturation values of the background image with the hue of the foreground image.",
          "name" : "hue",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/hue"
        },
        {
          "description" : "A blend kernel that creates an image using the lighter values of two input images.",
          "name" : "lighten",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/lighten"
        },
        {
          "description" : "A blend kernel that creates an image using the lighter color of two input images.",
          "name" : "lighterColor",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/lighterColor"
        },
        {
          "description" : "A blend kernel that darkens the background image samples to reflect the foreground image samples while also increasing contrast.",
          "name" : "linearBurn",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/linearBurn"
        },
        {
          "description" : "A blend kernel that lightens the background image samples to reflect the foreground image samples while also increasing contrast.",
          "name" : "linearDodge",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/linearDodge"
        },
        {
          "description" : "A blend kernel that burns or dodges colors by changing brightness, depending on the blend color.",
          "name" : "linearLight",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/linearLight"
        },
        {
          "description" : "A blend kernel that uses the hue and saturation of the background image with the luminance of the foreground image.",
          "name" : "luminosity",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/luminosity"
        },
        {
          "description" : "A blend kernel that multiplies the background image sample color with the foreground image sample color.",
          "name" : "multiply",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/multiply"
        },
        {
          "description" : "A blend kernel that either multiplies or screens the foreground image samples with the background image samples, depending on the background color.",
          "name" : "overlay",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/overlay"
        },
        {
          "description" : "A blend kernel that conditionally replaces background image samples with source image samples depending on the brightness of the source image samples.",
          "name" : "pinLight",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/pinLight"
        },
        {
          "description" : "A blend kernel that uses the luminance and hue values of the background image with the saturation of the foreground image.",
          "name" : "saturation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/saturation"
        },
        {
          "description" : "A blend kernel that multiplies the inverse of the foreground image samples with the inverse of the background image samples.",
          "name" : "screen",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/screen"
        },
        {
          "description" : "A blend kernel that either darkens or lightens colors, depending on the foreground image sample color.",
          "name" : "softLight",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/softLight"
        },
        {
          "description" : "A blend kernel that returns the foreground input image.",
          "name" : "source",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/source"
        },
        {
          "description" : "A blend kernel that places the foreground over the background and crops based on the visibility of the background.",
          "name" : "sourceAtop",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/sourceAtop"
        },
        {
          "description" : "A blend kernel that places the foreground over the background and crops based on the visibility of both.",
          "name" : "sourceIn",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/sourceIn"
        },
        {
          "description" : "A blend kernel that uses the foreground image to define what to take out of the background image.",
          "name" : "sourceOut",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/sourceOut"
        },
        {
          "description" : "A blend kernel that places the foreground image over the input background image.",
          "name" : "sourceOver",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/sourceOver"
        },
        {
          "description" : "A blend kernel that subtracts the background image sample color from the foreground image sample color.",
          "name" : "subtract",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/subtract"
        },
        {
          "description" : "A blend kernel that burns or dodges colors by changing contrast, depending on the blend color.",
          "name" : "vividLight",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/vividLight"
        }
      ],
      "title" : "Builtin Blend Kernels"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "apply(foreground:background:colorSpace:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel\/apply(foreground:background:colorSpace:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Write your own custom kernels in either the Core Image Kernel Language or the Metal Shading Language.",
          "name" : "Writing Custom Kernels",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/writing-custom-kernels"
        },
        {
          "description" : "A GPU-based image-processing routine used to create custom Core Image filters.",
          "name" : "CIKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIKernel"
        },
        {
          "description" : "A GPU-based image-processing routine that processes only the color information in images, used to create custom Core Image filters.",
          "name" : "CIColorKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIColorKernel"
        },
        {
          "description" : "A GPU-based image-processing routine that processes only the geometry information in an image, used to create custom Core Image filters.",
          "name" : "CIWarpKernel",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIWarpKernel"
        },
        {
          "description" : "An object that retrieves pixel samples for processing by a filter kernel.",
          "name" : "CISampler",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CISampler"
        },
        {
          "description" : "A description of the bounding shape of a filter and the domain of definition for a filter operation.",
          "name" : "CIFilterShape",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilterShape"
        },
        {
          "description" : "Pixel data formats for image input, output, and processing.",
          "name" : "CIFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFormat"
        }
      ],
      "title" : "Custom Filters"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "CIColorKernel"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CIBlendKernel",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIBlendKernel"
}