{
  "abstract" : "Alters an image’s pixels using a three-dimensional color tables and a mask image.",
  "codeExamples" : [
    {
      "code" : "func colorCube(inputImage: CIImage, maskImage: CIImage, cube0Data: Data, cube1Data: Data) -> CIImage {\n    let colorCubeEffect = CIFilter.colorCubesMixedWithMask()\n    colorCubeEffect.inputImage = inputImage\n    colorCubeEffect.colorSpace = CGColorSpaceCreateDeviceRGB()\n    colorCubeEffect.cube0Data = cube1Data\n    colorCubeEffect.cube1Data = cube0Data\n    colorCubeEffect.maskImage = maskImage\n    colorCubeEffect.cubeDimension = 4\n    return colorCubeEffect.outputImage!\n}\nvar colorCube0Data: [Float32] = []\nvar colorCube1Data: [Float32] = []\nlet size = 4\nlet step = 1.0 \/ Float(size - 1)\nfor b in 0..<size {\n    for g in 0..<size {\n        for r in 0..<size {\n            \/\/ Calculate the normalized color component values.\n            let redNormalised = Float32(r) * step\n            let greenNormalised = Float32(g) * step\n            let blueNormalised = Float32(b) * step\n            let alpha: Float = 1.0\n            colorCube0Data.append(contentsOf: [redNormalised*1.2, greenNormalised*0.8, blueNormalised*1.2, alpha])\n            colorCube1Data.append(contentsOf: [redNormalised*1.2, greenNormalised*1.15, blueNormalised*0.9, alpha])\n        }\n    }\n}\nlet cube0Data = Data(bytes:colorCube0Data, count: colorCube0Data.count*4)\nlet cube1Data = Data(bytes:colorCube1Data, count: colorCube1Data.count*4)\nlet maskImage = CIFilter.linearGradient()\nmaskImage.color0 = CIColor(red: 1.0, green: 1.0, blue: 1.0, alpha: 1.0)\nmaskImage.color1 = CIColor(red: 0.0, green: 0.0, blue: 0.0, alpha: 0.0)\nmaskImage.point0 = CGPoint(x:0, y:0)\nmaskImage.point1 = CGPoint(x: ciImage.extent.width, y: 0)\nlet result = colorCube(inputImage: ciImage, maskImage: maskImage.outputImage!, cube0Data: cube0Data, cube1Data: cube1Data)",
      "language" : "swift"
    }
  ],
  "contentHash" : "1b75f4ffdc427c13d118d8ded59ffb92de7394ddb2bd7717b997c2450cde7e32",
  "crawledAt" : "2025-12-06T10:28:48Z",
  "declaration" : {
    "code" : "class func colorCubesMixedWithMask() -> any CIFilter & CIColorCubesMixedWithMask",
    "language" : "swift"
  },
  "id" : "BEFF3009-F39F-4569-ADD0-DA010C5B84AA",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Image",
  "overview" : "## Return Value\n\nThe modified image.\n\n## Discussion\n\nThis method applies the color cubes mixed with mask filter to an image. The effect uses two color cube tables to modify the input image. The filter uses the mask image to interpolate between the two color cubes.\n\nThe color cubes mixed with mask filter uses the following properties:\n\nThe following code creates a filter that adds colors from the mask image and brightness to the input image:\n\n",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCubesMixedWithMask()\ncrawled: 2025-12-06T10:28:48Z\n---\n\n# colorCubesMixedWithMask()\n\n**Type Method**\n\nAlters an image’s pixels using a three-dimensional color tables and a mask image.\n\n## Declaration\n\n```swift\nclass func colorCubesMixedWithMask() -> any CIFilter & CIColorCubesMixedWithMask\n```\n\n## Return Value\n\nThe modified image.\n\n## Discussion\n\nThis method applies the color cubes mixed with mask filter to an image. The effect uses two color cube tables to modify the input image. The filter uses the mask image to interpolate between the two color cubes.\n\nThe color cubes mixed with mask filter uses the following properties:\n\n\n\nThe following code creates a filter that adds colors from the mask image and brightness to the input image:\n\n```swift\nfunc colorCube(inputImage: CIImage, maskImage: CIImage, cube0Data: Data, cube1Data: Data) -> CIImage {\n    let colorCubeEffect = CIFilter.colorCubesMixedWithMask()\n    colorCubeEffect.inputImage = inputImage\n    colorCubeEffect.colorSpace = CGColorSpaceCreateDeviceRGB()\n    colorCubeEffect.cube0Data = cube1Data\n    colorCubeEffect.cube1Data = cube0Data\n    colorCubeEffect.maskImage = maskImage\n    colorCubeEffect.cubeDimension = 4\n    return colorCubeEffect.outputImage!\n}\nvar colorCube0Data: [Float32] = []\nvar colorCube1Data: [Float32] = []\nlet size = 4\nlet step = 1.0 \/ Float(size - 1)\nfor b in 0..<size {\n    for g in 0..<size {\n        for r in 0..<size {\n            \/\/ Calculate the normalized color component values.\n            let redNormalised = Float32(r) * step\n            let greenNormalised = Float32(g) * step\n            let blueNormalised = Float32(b) * step\n            let alpha: Float = 1.0\n            colorCube0Data.append(contentsOf: [redNormalised*1.2, greenNormalised*0.8, blueNormalised*1.2, alpha])\n            colorCube1Data.append(contentsOf: [redNormalised*1.2, greenNormalised*1.15, blueNormalised*0.9, alpha])\n        }\n    }\n}\nlet cube0Data = Data(bytes:colorCube0Data, count: colorCube0Data.count*4)\nlet cube1Data = Data(bytes:colorCube1Data, count: colorCube1Data.count*4)\nlet maskImage = CIFilter.linearGradient()\nmaskImage.color0 = CIColor(red: 1.0, green: 1.0, blue: 1.0, alpha: 1.0)\nmaskImage.color1 = CIColor(red: 0.0, green: 0.0, blue: 0.0, alpha: 0.0)\nmaskImage.point0 = CGPoint(x:0, y:0)\nmaskImage.point1 = CGPoint(x: ciImage.extent.width, y: 0)\nlet result = colorCube(inputImage: ciImage, maskImage: maskImage.outputImage!, cube0Data: cube0Data, cube1Data: cube1Data)\n```\n\n\n\n## Color Effect Filters\n\n- **colorCrossPolynomial()**: Adjusts an image’s color by applying polynomial cross-products.\n- **colorCube()**: Adjusts an image’s pixels using a three-dimensional color table.\n- **colorCubeWithColorSpace()**: Adjusts an image’s pixels using a three-dimensional color table in specified color space.\n- **colorCurves()**: Adjusts an image’s color curves.\n- **colorInvert()**: Inverts an image’s colors.\n- **colorMap()**: Performs a transformation of the input image colors to colors from a gradient image.\n- **colorMonochrome()**: Adjusts an image’s colors to shades of a single color.\n- **colorPosterize()**: Flattens an image’s colors.\n- **convertLabToRGB()**: Converts an image from CIELAB to RGB color space.\n- **convertRGBtoLab()**: Converts an image from RGB to CIELAB color space.\n- **dither()**: Applies randomized noise to produce a processed look.\n- **documentEnhancer()**: Adjusts an image’s shadows and contrast.\n- **falseColor()**: Replaces an image’s colors with specified colors.\n- **labDeltaE()**: Compares an image’s color values.\n- **maskToAlpha()**: Converts an image to a white image with an alpha component.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adjusts an image’s color by applying polynomial cross-products.",
          "name" : "colorCrossPolynomial()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCrossPolynomial()"
        },
        {
          "description" : "Adjusts an image’s pixels using a three-dimensional color table.",
          "name" : "colorCube()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCube()"
        },
        {
          "description" : "Adjusts an image’s pixels using a three-dimensional color table in specified color space.",
          "name" : "colorCubeWithColorSpace()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCubeWithColorSpace()"
        },
        {
          "description" : "Adjusts an image’s color curves.",
          "name" : "colorCurves()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCurves()"
        },
        {
          "description" : "Inverts an image’s colors.",
          "name" : "colorInvert()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorInvert()"
        },
        {
          "description" : "Performs a transformation of the input image colors to colors from a gradient image.",
          "name" : "colorMap()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorMap()"
        },
        {
          "description" : "Adjusts an image’s colors to shades of a single color.",
          "name" : "colorMonochrome()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorMonochrome()"
        },
        {
          "description" : "Flattens an image’s colors.",
          "name" : "colorPosterize()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorPosterize()"
        },
        {
          "description" : "Converts an image from CIELAB to RGB color space.",
          "name" : "convertLabToRGB()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/convertLabToRGB()"
        },
        {
          "description" : "Converts an image from RGB to CIELAB color space.",
          "name" : "convertRGBtoLab()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/convertRGBtoLab()"
        },
        {
          "description" : "Applies randomized noise to produce a processed look.",
          "name" : "dither()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/dither()"
        },
        {
          "description" : "Adjusts an image’s shadows and contrast.",
          "name" : "documentEnhancer()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/documentEnhancer()"
        },
        {
          "description" : "Replaces an image’s colors with specified colors.",
          "name" : "falseColor()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/falseColor()"
        },
        {
          "description" : "Compares an image’s color values.",
          "name" : "labDeltaE()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/labDeltaE()"
        },
        {
          "description" : "Converts an image to a white image with an alpha component.",
          "name" : "maskToAlpha()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/maskToAlpha()"
        }
      ],
      "title" : "Color Effect Filters"
    }
  ],
  "source" : "appleJSON",
  "title" : "colorCubesMixedWithMask()",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/colorCubesMixedWithMask()"
}