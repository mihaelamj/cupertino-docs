{
  "abstract" : "Adjusts the image vertically and horizontally to remove distortion.",
  "codeExamples" : [
    {
      "code" : "func keystoneCorrectionCombined(inputImage: CIImage) -> CIImage {\n    let keystoneCorrect = CIFilter.keystoneCorrectionCombined()\n    keystoneCorrect.inputImage = inputImage\n    keystoneCorrect.topLeft = CGPoint(x: 0, y: 2448)\n    keystoneCorrect.topRight = CGPoint(x: 3164, y: 2248)\n    keystoneCorrect.bottomLeft = CGPoint(x: 0, y: 0)\n    keystoneCorrect.bottomRight = CGPoint(x: 3164, y: 150)\n    keystoneCorrect.focalLength = 35\n    return keystoneCorrect.outputImage!\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "d8e607160657015941f77af0b2138996ebcd110c3e329bc89d9f16529133d71e",
  "crawledAt" : "2025-12-06T09:09:28Z",
  "declaration" : {
    "code" : "class func keystoneCorrectionCombined() -> any CIFilter & CIKeystoneCorrectionCombined",
    "language" : "swift"
  },
  "id" : "7FC64B0C-F714-4DB2-8126-B86BC46F8053",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Image",
  "overview" : "## Return Value\n\nThe adjusted image.\n\n## Discussion\n\nThis method applies the keystone correction combined filter to an image. The effect applies a combined set of horizontal and vertical guides to adjust the shape of the input image. This effect is commonly used when cropping an image to correct distortion. In the figure below, both vertical and horizontal adjustments are made, resulting in a trapezoid-shaped image.\n\nThe keystone correction filter uses the following properties:\n\nThe following code creates a filter that distorts the image:\n\n",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/keystoneCorrectionCombined()\ncrawled: 2025-12-06T09:09:28Z\n---\n\n# keystoneCorrectionCombined()\n\n**Type Method**\n\nAdjusts the image vertically and horizontally to remove distortion.\n\n## Declaration\n\n```swift\nclass func keystoneCorrectionCombined() -> any CIFilter & CIKeystoneCorrectionCombined\n```\n\n## Return Value\n\nThe adjusted image.\n\n## Discussion\n\nThis method applies the keystone correction combined filter to an image. The effect applies a combined set of horizontal and vertical guides to adjust the shape of the input image. This effect is commonly used when cropping an image to correct distortion. In the figure below, both vertical and horizontal adjustments are made, resulting in a trapezoid-shaped image.\n\nThe keystone correction filter uses the following properties:\n\n\n\nThe following code creates a filter that distorts the image:\n\n```swift\nfunc keystoneCorrectionCombined(inputImage: CIImage) -> CIImage {\n    let keystoneCorrect = CIFilter.keystoneCorrectionCombined()\n    keystoneCorrect.inputImage = inputImage\n    keystoneCorrect.topLeft = CGPoint(x: 0, y: 2448)\n    keystoneCorrect.topRight = CGPoint(x: 3164, y: 2248)\n    keystoneCorrect.bottomLeft = CGPoint(x: 0, y: 0)\n    keystoneCorrect.bottomRight = CGPoint(x: 3164, y: 150)\n    keystoneCorrect.focalLength = 35\n    return keystoneCorrect.outputImage!\n}\n```\n\n\n\n## Filters\n\n- **bicubicScaleTransform()**: Produces a high-quality scaled version of an image.\n- **edgePreserveUpsample()**: Creates a high-quality upscaled image.\n- **keystoneCorrectionHorizontal()**: Horizontally adjusts an image to remove distortion.\n- **keystoneCorrectionVertical()**: Vertically adjusts an image to remove distortion.\n- **lanczosScaleTransform()**: Creates a high-quality, scaled version of a source image.\n- **perspectiveCorrection()**: Transforms an image’s perspective.\n- **perspectiveRotate()**: Rotates an image in a 3D space.\n- **perspectiveTransform()**: Alters an image’s geometry to adjust the perspective.\n- **perspectiveTransformWithExtent()**: Alters an image’s geometry to adjust the perspective while applying constraints.\n- **straighten()**: Rotates and crops an image.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Produces a high-quality scaled version of an image.",
          "name" : "bicubicScaleTransform()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/bicubicScaleTransform()"
        },
        {
          "description" : "Creates a high-quality upscaled image.",
          "name" : "edgePreserveUpsample()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/edgePreserveUpsample()"
        },
        {
          "description" : "Horizontally adjusts an image to remove distortion.",
          "name" : "keystoneCorrectionHorizontal()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/keystoneCorrectionHorizontal()"
        },
        {
          "description" : "Vertically adjusts an image to remove distortion.",
          "name" : "keystoneCorrectionVertical()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/keystoneCorrectionVertical()"
        },
        {
          "description" : "Creates a high-quality, scaled version of a source image.",
          "name" : "lanczosScaleTransform()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/lanczosScaleTransform()"
        },
        {
          "description" : "Transforms an image’s perspective.",
          "name" : "perspectiveCorrection()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/perspectiveCorrection()"
        },
        {
          "description" : "Rotates an image in a 3D space.",
          "name" : "perspectiveRotate()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/perspectiveRotate()"
        },
        {
          "description" : "Alters an image’s geometry to adjust the perspective.",
          "name" : "perspectiveTransform()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/perspectiveTransform()"
        },
        {
          "description" : "Alters an image’s geometry to adjust the perspective while applying constraints.",
          "name" : "perspectiveTransformWithExtent()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/perspectiveTransformWithExtent()"
        },
        {
          "description" : "Rotates and crops an image.",
          "name" : "straighten()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/straighten()"
        }
      ],
      "title" : "Filters"
    }
  ],
  "source" : "appleJSON",
  "title" : "keystoneCorrectionCombined()",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreImage\/CIFilter-swift.class\/keystoneCorrectionCombined()"
}