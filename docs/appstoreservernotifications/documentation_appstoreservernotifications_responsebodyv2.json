{
  "abstract" : "The response body the App Store sends in a version 2 server notification.",
  "codeExamples" : [

  ],
  "contentHash" : "0967702daadfbf210a0d5912788f31f8a6f1b05771dd8af7eccbbcd34ae93d3b",
  "crawledAt" : "2025-12-03T04:25:16Z",
  "declaration" : {
    "code" : "object responseBodyV2",
    "language" : "swift"
  },
  "id" : "902EC72C-7B8A-4023-A423-E95DA9AAFCF4",
  "kind" : "unknown",
  "language" : "data",
  "module" : "App Store Server Notifications",
  "overview" : "## Discussion\n\nThe `signedPayload` object is a JWS representation. To get the transaction and subscription renewal details from the notification payload, process the `signedPayload` as follows:\n\nEach of the signed JWS representations, `signedPayload`, `signedTransactionInfo`, and `signedRenewalInfo`, have a JWS signature that you can validate on your server. Use the algorithm specified in the header’s [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/alg] parameter to validate the signature. For more information about validating signatures, see the JSON Web Signature (JWS) [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515] specification.",
  "platforms" : [
    "Unsupported OS: App Store Server Notifications"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/responseBodyV2\ncrawled: 2025-12-03T04:25:16Z\n---\n\n# responseBodyV2\n\n**Object**\n\nThe response body the App Store sends in a version 2 server notification.\n\n## Declaration\n\n```swift\nobject responseBodyV2\n```\n\n## Discussion\n\nThe `signedPayload` object is a JWS representation. To get the transaction and subscription renewal details from the notification payload, process the `signedPayload` as follows:\n\n1. Parse `signedPayload` to identify the JWS header, payload, and signature representations.\n2. Base64URL-decode the payload to get the [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/responseBodyV2DecodedPayload]. The decoded payload contains details of the notification such as the notification type and  data.\n3. The `data` object contains a `signedTransactionInfo` ([doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/JWSTransaction]) and based on the notification type, a `signedRenewalInfo` ([doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/JWSRenewalInfo]). Parse and Base64URL-decode these signed JWS representations to get transaction and subscription renewal details.\n\nEach of the signed JWS representations, `signedPayload`, `signedTransactionInfo`, and `signedRenewalInfo`, have a JWS signature that you can validate on your server. Use the algorithm specified in the header’s [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/alg] parameter to validate the signature. For more information about validating signatures, see the JSON Web Signature (JWS) [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7515] specification.\n\n## Response body payload\n\n- **signedPayload**: A cryptographically signed payload, in JSON Web Signature (JWS) format, that contains the response body for a version 2 notification.\n\n## Server notifications version 2\n\n- **App Store Server Notifications V2**: Specify your secure server’s URL in App Store Connect to receive version 2 notifications.\n- **responseBodyV2DecodedPayload**: A decoded payload that contains the version 2 notification data.\n- **notificationType**: The type that describes the In-App Purchase or external purchase event for which the App Store sends the version 2 notification.\n- **subtype**: A string that provides details about select notification types in version 2.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A cryptographically signed payload, in JSON Web Signature (JWS) format, that contains the response body for a version 2 notification.",
          "name" : "signedPayload",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/signedPayload"
        }
      ],
      "title" : "Response body payload"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specify your secure server’s URL in App Store Connect to receive version 2 notifications.",
          "name" : "App Store Server Notifications V2",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2"
        },
        {
          "description" : "A decoded payload that contains the version 2 notification data.",
          "name" : "responseBodyV2DecodedPayload",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/responseBodyV2DecodedPayload"
        },
        {
          "description" : "The type that describes the In-App Purchase or external purchase event for which the App Store sends the version 2 notification.",
          "name" : "notificationType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/notificationType"
        },
        {
          "description" : "A string that provides details about select notification types in version 2.",
          "name" : "subtype",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/subtype"
        }
      ],
      "title" : "Server notifications version 2"
    }
  ],
  "source" : "appleJSON",
  "title" : "responseBodyV2",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/responseBodyV2"
}