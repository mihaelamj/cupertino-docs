{
  "abstract" : "Configure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.",
  "codeExamples" : [

  ],
  "contentHash" : "d3f91002530b53e10f8454d699825487e928d036ac9b3b664ea5ab0847a11aca",
  "crawledAt" : "2025-12-01T09:12:32Z",
  "id" : "351A83D4-6F8B-4293-B25D-9C85FC7B3C54",
  "kind" : "article",
  "module" : "App Store Server Notifications",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications] is a server-to-server service that sends real-time notifications for in-app purchase events, and notifications for unreported external purchase tokens. To enable notifications, set up an HTTPS URL on your server, and configure settings in App Store Connect.\n\nFor information about parsing and interpreting notifications, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/receiving-app-store-server-notifications].\n\n### Set up your server and App Store Connect settings\n\nTo receive server notifications from the App Store, your server must support the Transport Layer Security (TLS) 1.2 protocol or later.\n\nTo enable App Store Server Notifications, follow these steps:\n\nConfigure your server to respond with HTTP status codes to indicate whether the App Store server notification `POST` is successful. For more information, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/responding-to-app-store-server-notifications].\n\nFor new implementations, use [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2]. To transition from using version 1 notifications to version 2, test version 2 notifications in the sandbox environment before you update your production environment to version 2.\n\nFor information about changes to App Store Server Notifications, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].\n\n### Configure an allow list\n\nIf your server requires IP addresses to be on an allow list, add the IP address subnet `17.0.0.0\/8` to allow your server to receive notifications from the App Store server. This subnet applies to both the sandbox and the production environments.\n\n### Test your server setup\n\nTo determine whether your server is receiving notifications, call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Request-a-Test-Notification] endpoint in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI]. This endpoint asks the App Store server to send a notification with the [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/notificationType] `TEST`. Use the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/testNotificationToken] you receive to call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Get-Test-Notification-Status] endpoint to learn how your server responds to the test notification.\n\nThe App Store server sends the `TEST` notification in the version 2 notification format. However, it sends it to your server regardless of whether you configure a version 1 or version 2 notification URL in App Store Connect.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/enabling-app-store-server-notifications\ncrawled: 2025-12-01T09:12:32Z\n---\n\n# Enabling App Store Server Notifications\n\n**Article**\n\nConfigure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.\n\n## Overview\n\n[doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications] is a server-to-server service that sends real-time notifications for in-app purchase events, and notifications for unreported external purchase tokens. To enable notifications, set up an HTTPS URL on your server, and configure settings in App Store Connect.\n\nFor information about parsing and interpreting notifications, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/receiving-app-store-server-notifications].\n\n### Set up your server and App Store Connect settings\n\nTo receive server notifications from the App Store, your server must support the Transport Layer Security (TLS) 1.2 protocol or later.\n\nTo enable App Store Server Notifications, follow these steps:\n\n1. Determine the HTTPS URL on your server to receive notifications for the production environment.\n2. Optionally, determine the HTTPS URL on your server to receive notifications for the sandbox environment for testing notifications. You may use the same URL for both the production and the sandbox environments.\n3. App Store Connect gives you the choice of receiving version 2 or version 1 notifications for each environment. To choose version 2, set up your endpoint as [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2].\n4. Configure your URL in App Store Connect. For more information, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev0067a330b].\n\n\n\nConfigure your server to respond with HTTP status codes to indicate whether the App Store server notification `POST` is successful. For more information, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/responding-to-app-store-server-notifications].\n\nFor new implementations, use [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2]. To transition from using version 1 notifications to version 2, test version 2 notifications in the sandbox environment before you update your production environment to version 2.\n\nFor information about changes to App Store Server Notifications, see [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].\n\n### Configure an allow list\n\nIf your server requires IP addresses to be on an allow list, add the IP address subnet `17.0.0.0\/8` to allow your server to receive notifications from the App Store server. This subnet applies to both the sandbox and the production environments.\n\n### Test your server setup\n\nTo determine whether your server is receiving notifications, call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Request-a-Test-Notification] endpoint in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI]. This endpoint asks the App Store server to send a notification with the [doc:\/\/com.apple.appstoreservernotifications\/documentation\/AppStoreServerNotifications\/notificationType] `TEST`. Use the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/testNotificationToken] you receive to call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Get-Test-Notification-Status] endpoint to learn how your server responds to the test notification.\n\nThe App Store server sends the `TEST` notification in the version 2 notification format. However, it sends it to your server regardless of whether you configure a version 1 or version 2 notification URL in App Store Connect.\n\n## Essentials\n\n- **Receiving App Store Server Notifications**: Implement server-side code to receive and parse notification posts.\n- **Responding to App Store Server Notifications**: Send HTTP status codes to indicate the success of a notification post.\n- **App Store Server Notifications changelog**: Learn about changes to the App Store Server Notifications service.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Implement server-side code to receive and parse notification posts.",
          "name" : "Receiving App Store Server Notifications",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/receiving-app-store-server-notifications"
        },
        {
          "description" : "Send HTTP status codes to indicate the success of a notification post.",
          "name" : "Responding to App Store Server Notifications",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/responding-to-app-store-server-notifications"
        },
        {
          "description" : "Learn about changes to the App Store Server Notifications service.",
          "name" : "App Store Server Notifications changelog",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Enabling App Store Server Notifications",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreServerNotifications\/enabling-app-store-server-notifications"
}