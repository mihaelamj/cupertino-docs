{
  "abstract" : "Declare your app’s intention to use HomeKit, and get permission from the user to access home automation accessories.",
  "codeExamples" : [

  ],
  "contentHash" : "d0155a82a49fcd73184bae18b5701d62381dbf71db0e5fc989863033966bad3d",
  "crawledAt" : "2025-12-03T09:19:05Z",
  "id" : "566B68D1-EF92-45F0-B18D-EF6A2151F42D",
  "kind" : "article",
  "language" : "swift",
  "module" : "HomeKit",
  "overview" : "## Overview\n\nTo access the devices in the user’s home automation network, you enable the HomeKit capability for your app. You also provide a usage description that explains to the user why the app needs access, and handle the case where the user denies access.\n\n### Enable the HomeKit capability\n\nTo ready your app to work with HomeKit, enable the HomeKit capability for your app in Xcode. Open your project, select the app target, and choose the Signing & Capabilities pane. Then click the + button. In the window that appears, choose HomeKit.\n\n\n\nWhen you enable the HomeKit capability, Xcode automatically adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.homekit] to your entitlements file. It also adds the corresponding feature to your App ID and links the HomeKit framework.\n\n### Explain why your app needs access to the user’s home network\n\nA user’s home automation network is a sensitive resource. Apps with access can collect sensor data and change the state of physical objects in the real world. To protect users, the first time your app uses the HomeKit framework—typically, when you create a [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMHomeManager] instance—the system prompts the user for permission.\n\nYou provide a message for this prompt called a *purpose string* or a *usage description* by setting a string value for the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSHomeKitUsageDescription] that you add to your app’s [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List] file. Find and select your project’s `Info.plist` file in Xcode’s project navigator. Modify the file using the property list editor built into Xcode:\n\n\n\nThe system automatically generates the prompt’s title, which includes the name of your app. Your usage description—in this case, “Configure accessories from Kilgo Devices, Inc.”—indicates the reason that your app needs the access.\n\n\n\nAccurately and concisely explaining to the user why your app needs access to the home network, typically in one complete sentence, lets the user make an informed decision and improves the chances that they’ll grant access.\n\n### Handle permission denial gracefully\n\nIf the user grants permission, the system remembers the user’s choice and doesn’t prompt again. If the user denies permission, the access attempt that initiated the prompt and any further attempts fail. Look for a [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMError\/homeAccessNotAuthorized] error in your completion handlers to detect this condition. Alternatively, you can inspect the home manager’s [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMHomeManager\/authorizationStatus] property.\n\nBe aware that even if the user allows the initial access, they can revoke permission at any time in the Settings app. Your app should handle both initial and subsequent access denials gracefully.\n\nIf home automation is a secondary function of your app—like an alarm app that plays an audible alert on the device and can also turn the house lights on when the alarm triggers—respect the user’s choice and work around denied access. For example, you can omit unavailable features from the user interface.\n\nIf your app can’t provide meaningful functionality without HomeKit access, you can display a message to the user saying so, directing them to change the privacy setting for your app to continue.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/homekit\/enabling-homekit-in-your-app\ncrawled: 2025-12-03T09:19:05Z\n---\n\n# Enabling HomeKit in your app\n\n**Article**\n\nDeclare your app’s intention to use HomeKit, and get permission from the user to access home automation accessories.\n\n## Overview\n\nTo access the devices in the user’s home automation network, you enable the HomeKit capability for your app. You also provide a usage description that explains to the user why the app needs access, and handle the case where the user denies access.\n\n### Enable the HomeKit capability\n\nTo ready your app to work with HomeKit, enable the HomeKit capability for your app in Xcode. Open your project, select the app target, and choose the Signing & Capabilities pane. Then click the + button. In the window that appears, choose HomeKit.\n\n\n\nWhen you enable the HomeKit capability, Xcode automatically adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.homekit] to your entitlements file. It also adds the corresponding feature to your App ID and links the HomeKit framework.\n\n\n\n### Explain why your app needs access to the user’s home network\n\nA user’s home automation network is a sensitive resource. Apps with access can collect sensor data and change the state of physical objects in the real world. To protect users, the first time your app uses the HomeKit framework—typically, when you create a [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMHomeManager] instance—the system prompts the user for permission.\n\nYou provide a message for this prompt called a *purpose string* or a *usage description* by setting a string value for the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSHomeKitUsageDescription] that you add to your app’s [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List] file. Find and select your project’s `Info.plist` file in Xcode’s project navigator. Modify the file using the property list editor built into Xcode:\n\n\n\nThe system automatically generates the prompt’s title, which includes the name of your app. Your usage description—in this case, “Configure accessories from Kilgo Devices, Inc.”—indicates the reason that your app needs the access.\n\n\n\nAccurately and concisely explaining to the user why your app needs access to the home network, typically in one complete sentence, lets the user make an informed decision and improves the chances that they’ll grant access.\n\n\n\n### Handle permission denial gracefully\n\nIf the user grants permission, the system remembers the user’s choice and doesn’t prompt again. If the user denies permission, the access attempt that initiated the prompt and any further attempts fail. Look for a [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMError\/homeAccessNotAuthorized] error in your completion handlers to detect this condition. Alternatively, you can inspect the home manager’s [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMHomeManager\/authorizationStatus] property.\n\nBe aware that even if the user allows the initial access, they can revoke permission at any time in the Settings app. Your app should handle both initial and subsequent access denials gracefully.\n\nIf home automation is a secondary function of your app—like an alarm app that plays an audible alert on the device and can also turn the house lights on when the alarm triggers—respect the user’s choice and work around denied access. For example, you can omit unavailable features from the user interface.\n\nIf your app can’t provide meaningful functionality without HomeKit access, you can display a message to the user saying so, directing them to change the privacy setting for your app to continue.\n\n## Essentials\n\n- **HomeKit Entitlement**: A Boolean value that indicates whether users of the app may manage HomeKit-compatible accessories.\n- **NSHomeKitUsageDescription**: A message that tells people why the app is requesting access to their HomeKit configuration data.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether users of the app may manage HomeKit-compatible accessories.",
          "name" : "HomeKit Entitlement",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.homekit"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their HomeKit configuration data.",
          "name" : "NSHomeKitUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSHomeKitUsageDescription"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Enabling HomeKit in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/homekit\/enabling-homekit-in-your-app"
}