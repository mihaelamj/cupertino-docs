{
  "abstract" : "Finds and adds nearby accessories to the home.",
  "codeExamples" : [

  ],
  "contentHash" : "2ceb878cdcd14382820b4106f70f41a29eeb307c8d3ae049c13b13c89c1d04d8",
  "crawledAt" : "2025-12-01T14:24:37Z",
  "declaration" : {
    "code" : "func addAndSetupAccessories(completionHandler completion: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "16034FA5-9532-4684-A87F-EF1F74F24AB2",
  "kind" : "method",
  "module" : "HomeKit",
  "overview" : "## Discussion\n\nThis method launches an interactive process that first asks the user to provide a HomeKit code for the accessories—for example, by scanning an 8-digit code, by scanning the QR code, wirelessly by holding an iPhone next to the device, or by manually entering the HomeKit code. The process then asks the user to configure the accessory’s services, naming them and placing them in rooms.",
  "platforms" : [
    "iOS",
    "iPadOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/addAndSetupAccessories(completionHandler:)\ncrawled: 2025-12-01T14:24:37Z\n---\n\n# addAndSetupAccessories(completionHandler:)\n\n**Instance Method**\n\nFinds and adds nearby accessories to the home.\n\n## Declaration\n\n```swift\nfunc addAndSetupAccessories(completionHandler completion: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc addAndSetUpAccessories() async throws\n```\n\n## Parameters\n\n- **completion**: The block executed after the request is processed.\n\n\n\n## Discussion\n\nThis method launches an interactive process that first asks the user to provide a HomeKit code for the accessories—for example, by scanning an 8-digit code, by scanning the QR code, wirelessly by holding an iPhone next to the device, or by manually entering the HomeKit code. The process then asks the user to configure the accessory’s services, naming them and placing them in rooms.\n\n## Managing accessories\n\n- **accessories**: The collection of accessories that are part of the home.\n- **addAndSetupAccessories(with:completionHandler:)**: Finds and adds nearby accessories to the home using a HomeKit code provided by your app.\n- **addAccessory(_:completionHandler:)**: Adds a new accessory to the home.\n- **assignAccessory(_:to:completionHandler:)**: Assigns an accessory to a different room.\n- **removeAccessory(_:completionHandler:)**: Removes an accessory from the home.\n- **supportsAddingNetworkRouter**: A Boolean that indicates whether a home supports all of the requirements for adding a network router.\n- **unblockAccessory(_:completionHandler:)**: Unblocks a blocked accessory.\n- **HMAccessory**: A home automation accessory, like a garage door opener or a thermostat.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The collection of accessories that are part of the home.",
          "name" : "accessories",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/accessories"
        },
        {
          "description" : "Finds and adds nearby accessories to the home using a HomeKit code provided by your app.",
          "name" : "addAndSetupAccessories(with:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/addAndSetupAccessories(with:completionHandler:)"
        },
        {
          "description" : "Adds a new accessory to the home.",
          "name" : "addAccessory(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/addAccessory(_:completionHandler:)"
        },
        {
          "description" : "Assigns an accessory to a different room.",
          "name" : "assignAccessory(_:to:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/assignAccessory(_:to:completionHandler:)"
        },
        {
          "description" : "Removes an accessory from the home.",
          "name" : "removeAccessory(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/removeAccessory(_:completionHandler:)"
        },
        {
          "description" : "A Boolean that indicates whether a home supports all of the requirements for adding a network router.",
          "name" : "supportsAddingNetworkRouter",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/supportsAddingNetworkRouter"
        },
        {
          "description" : "Unblocks a blocked accessory.",
          "name" : "unblockAccessory(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/unblockAccessory(_:completionHandler:)"
        },
        {
          "description" : "A home automation accessory, like a garage door opener or a thermostat.",
          "name" : "HMAccessory",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMAccessory"
        }
      ],
      "title" : "Managing accessories"
    }
  ],
  "source" : "appleJSON",
  "title" : "addAndSetupAccessories(completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMHome\/addAndSetupAccessories(completionHandler:)"
}