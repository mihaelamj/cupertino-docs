{
  "abstract" : "Builds an accessory setup payload with the given setup payload URL and ownership token.",
  "codeExamples" : [

  ],
  "contentHash" : "fdcdd07a198f82bfc1516502f5204cc90a029afbd3d6c853d132f08d9612d1b0",
  "crawledAt" : "2025-12-04T20:30:50Z",
  "declaration" : {
    "code" : "func makePayload(url setupPayloadURL: URL, ownershipToken: HMAccessoryOwnershipToken) -> HMAccessorySetupPayload?",
    "language" : "swift"
  },
  "id" : "B25B4E2B-BDDB-4881-9390-17C90570BBAB",
  "kind" : "method",
  "language" : "swift",
  "module" : "HomeKit",
  "overview" : "## Return Value\n\nAn accessory setup payload that you use to add the accessory. The method fails and returns `nil` if the setup payload URL is invalid.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HomeKit\/HMAddAccessoryRequest\/makePayload(url:ownershipToken:)\ncrawled: 2025-12-04T20:30:50Z\n---\n\n# makePayload(url:ownershipToken:)\n\n**Instance Method**\n\nBuilds an accessory setup payload with the given setup payload URL and ownership token.\n\n## Declaration\n\n```swift\nfunc makePayload(url setupPayloadURL: URL, ownershipToken: HMAccessoryOwnershipToken) -> HMAccessorySetupPayload?\n```\n\n## Parameters\n\n- **setupPayloadURL**: The setup payload URL for the accessory. Provide this URL when HomeKit sends an add request to the app associated with your accessory. You determine the URL based on the category and name of your accessory, as given in the [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMAddAccessoryRequest\/accessoryCategory] and [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMAddAccessoryRequest\/accessoryName] properties of the associated [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMAddAccessoryRequest] instance.\n- **ownershipToken**: A token proving ownership of the accessory. Your app negotiates the token with the accessory outside of HomeKit.\n\n## Return Value\n\nAn accessory setup payload that you use to add the accessory. The method fails and returns `nil` if the setup payload URL is invalid.\n\n## Creating a Payload\n\n- **makePayload(ownershipToken:)**: Builds an accessory setup payload with the given ownership token.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Builds an accessory setup payload with the given ownership token.",
          "name" : "makePayload(ownershipToken:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMAddAccessoryRequest\/makePayload(ownershipToken:)"
        }
      ],
      "title" : "Creating a Payload"
    }
  ],
  "source" : "appleJSON",
  "title" : "makePayload(url:ownershipToken:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMAddAccessoryRequest\/makePayload(url:ownershipToken:)"
}