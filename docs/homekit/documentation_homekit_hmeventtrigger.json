{
  "abstract" : "A trigger to activate an action set based on a set of events and optional conditions.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "6b9d084e6b4d12df0678c98fe237b19a2c327a7bce7a1a7e5da4c273d1481b89",
  "crawledAt" : "2025-12-03T04:52:25Z",
  "declaration" : {
    "code" : "class HMEventTrigger",
    "language" : "swift"
  },
  "id" : "C0AFFB90-643B-4B1E-86B4-5C737CC22232",
  "kind" : "class",
  "language" : "swift",
  "module" : "HomeKit",
  "overview" : "## Overview\n\nUse an [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMEventTrigger] object to trigger the execution of a scene when a combination of characteristic or location events and conditions occur. To create an event trigger, first create one or more event objects that fire an event when the specified trigger values are met. For example, you might create an [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMCharacteristicEvent] that fires when the front door is open. Then, you can use [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMEventTrigger] convenience methods to create optional predicates that specify conditions that must be met before a scene is executed. For example, you might create a condition that ensures the scene is executed only after sunset.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\ncrawled: 2025-12-03T04:52:25Z\n---\n\n# HMEventTrigger\n\n**Class**\n\nA trigger to activate an action set based on a set of events and optional conditions.\n\n## Declaration\n\n```swift\nclass HMEventTrigger\n```\n\n## Overview\n\nUse an [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMEventTrigger] object to trigger the execution of a scene when a combination of characteristic or location events and conditions occur. To create an event trigger, first create one or more event objects that fire an event when the specified trigger values are met. For example, you might create an [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMCharacteristicEvent] that fires when the front door is open. Then, you can use [doc:\/\/com.apple.homekit\/documentation\/HomeKit\/HMEventTrigger] convenience methods to create optional predicates that specify conditions that must be met before a scene is executed. For example, you might create a condition that ensures the scene is executed only after sunset.\n\n## Creating an event trigger\n\n- **init(name:events:predicate:)**: Creates a new event trigger with the specified name, events, and predicate.\n- **init(name:events:end:recurrences:predicate:)**: Creates a new event trigger with the specified name, events, end events, recurrences, and predicate.\n\n## Querying trigger activation state\n\n- **triggerActivationState**: The current activation state of the trigger.\n- **HMEventTriggerActivationState**: The activation state of an event trigger.\n\n## Setting trigger events\n\n- **events**: The events that activate the trigger.\n- **updateEvents(_:completionHandler:)**: Updates the set of trigger events.\n- **Location events**: Events that represent the user’s movement among regions.\n- **Time events**: Events based on time, significant occurrences, and time durations.\n- **Characteristic events**: Events based on the capabilities or characteristics of accessories.\n- **Presence events**: Events based on the user’s presence in a home.\n- **HMEvent**: The abstract base class for a HomeKit event.\n\n## Restoring the previous scene after an event\n\n- **endEvents**: The events associated with the end of scene represented by this trigger.\n- **updateEndEvents(_:completionHandler:)**: Updates the set of end events associated with the event trigger.\n\n## Controlling recurrence\n\n- **recurrences**: Specifies the days on which the trigger can execute.\n- **updateRecurrences(_:completionHandler:)**: Updates the days of the week the trigger can repeat.\n- **executeOnce**: A Boolean that can execute the trigger many times.\n- **updateExecuteOnce(_:completionHandler:)**: Updates the repetition status of the event trigger.\n\n## Adding a trigger condition\n\n- **predicate**: The predicate to evaluate before executing the scene associated with the event trigger.\n- **updatePredicate(_:completionHandler:)**: Replaces the predicate used to evaluate execution of the scene associated with the event trigger.\n\n## Creating predicates\n\n- **predicateForEvaluatingTriggerOccurring(beforeSignificantEvent:)**: Creates a predicate that evaluates whether the event occurred before a significant event.\n- **predicateForEvaluatingTriggerOccurring(afterSignificantEvent:)**: Creates a predicate that evaluates whether the event occurred after a significant event.\n- **predicate(forEvaluatingTriggerOccurringBetweenSignificantEvent:secondSignificantEvent:)**: Creates a predicate that evaluates whether the event occurred between two significant events.\n- **predicateForEvaluatingTrigger(occurringBefore:)**: Creates a predicate that evaluates whether the event occurred before the specified time.\n- **predicateForEvaluatingTrigger(occurringOn:)**: Creates a predicate that evaluates whether the event occurred at the specified time.\n- **predicateForEvaluatingTrigger(occurringAfter:)**: Creates a predicate that evaluates whether the event occurred at or after the specified time.\n- **predicateForEvaluatingTriggerOccurringBetweenDate(with:secondDateWith:)**: Creates a predicate that evaluates whether the event occurred between the specified times.\n- **predicateForEvaluatingTrigger(_:relatedBy:toValue:)**: Creates a predicate that evaluates whether a characteristic value relates to the specified value.\n- **predicateForEvaluatingTrigger(withPresence:)**: Creates a predicate that evaluates the current user presence against that specified in the presence event.\n- **HMCharacteristicKeyPath**: Specifies the key path for a characteristic in a predicate.\n- **HMCharacteristicValueKeyPath**: Specifies the key path for a characteristic value in a predicate.\n- **HMPresenceKeyPath**: Specifies the key path for a presence event in a predicate.\n\n## Deprecated symbols\n\n- **addEvent(_:completionHandler:)**: Adds a new event to the event trigger.\n- **removeEvent(_:completionHandler:)**: Removes the specified event from the event trigger.\n- **predicateForEvaluatingTrigger(occurringBefore:applyingOffset:)**: Creates a predicate that evaluates whether the event occurred before a significant event.\n- **predicateForEvaluatingTrigger(occurringAfter:applyingOffset:)**: Creates a predicate that evaluates whether the event occurred before a significant event.\n\n## Action Sets\n\n- **HMActionSet**: A collection of actions that you trigger as a group.\n- **HMTimerTrigger**: A trigger to activate an action set based on a periodic timer.\n\n## Inherits From\n\n- HMTrigger\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new event trigger with the specified name, events, and predicate.",
          "name" : "init(name:events:predicate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/init(name:events:predicate:)"
        },
        {
          "description" : "Creates a new event trigger with the specified name, events, end events, recurrences, and predicate.",
          "name" : "init(name:events:end:recurrences:predicate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/init(name:events:end:recurrences:predicate:)"
        }
      ],
      "title" : "Creating an event trigger"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The current activation state of the trigger.",
          "name" : "triggerActivationState",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/triggerActivationState"
        },
        {
          "description" : "The activation state of an event trigger.",
          "name" : "HMEventTriggerActivationState",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTriggerActivationState"
        }
      ],
      "title" : "Querying trigger activation state"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The events that activate the trigger.",
          "name" : "events",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/events"
        },
        {
          "description" : "Updates the set of trigger events.",
          "name" : "updateEvents(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/updateEvents(_:completionHandler:)"
        },
        {
          "description" : "Events that represent the user’s movement among regions.",
          "name" : "Location events",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/location-events"
        },
        {
          "description" : "Events based on time, significant occurrences, and time durations.",
          "name" : "Time events",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/time-events"
        },
        {
          "description" : "Events based on the capabilities or characteristics of accessories.",
          "name" : "Characteristic events",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/characteristic-events"
        },
        {
          "description" : "Events based on the user’s presence in a home.",
          "name" : "Presence events",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/presence-events"
        },
        {
          "description" : "The abstract base class for a HomeKit event.",
          "name" : "HMEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEvent"
        }
      ],
      "title" : "Setting trigger events"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The events associated with the end of scene represented by this trigger.",
          "name" : "endEvents",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/endEvents"
        },
        {
          "description" : "Updates the set of end events associated with the event trigger.",
          "name" : "updateEndEvents(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/updateEndEvents(_:completionHandler:)"
        }
      ],
      "title" : "Restoring the previous scene after an event"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specifies the days on which the trigger can execute.",
          "name" : "recurrences",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/recurrences"
        },
        {
          "description" : "Updates the days of the week the trigger can repeat.",
          "name" : "updateRecurrences(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/updateRecurrences(_:completionHandler:)"
        },
        {
          "description" : "A Boolean that can execute the trigger many times.",
          "name" : "executeOnce",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/executeOnce"
        },
        {
          "description" : "Updates the repetition status of the event trigger.",
          "name" : "updateExecuteOnce(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/updateExecuteOnce(_:completionHandler:)"
        }
      ],
      "title" : "Controlling recurrence"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The predicate to evaluate before executing the scene associated with the event trigger.",
          "name" : "predicate",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicate"
        },
        {
          "description" : "Replaces the predicate used to evaluate execution of the scene associated with the event trigger.",
          "name" : "updatePredicate(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/updatePredicate(_:completionHandler:)"
        }
      ],
      "title" : "Adding a trigger condition"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a predicate that evaluates whether the event occurred before a significant event.",
          "name" : "predicateForEvaluatingTriggerOccurring(beforeSignificantEvent:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTriggerOccurring(beforeSignificantEvent:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred after a significant event.",
          "name" : "predicateForEvaluatingTriggerOccurring(afterSignificantEvent:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTriggerOccurring(afterSignificantEvent:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred between two significant events.",
          "name" : "predicate(forEvaluatingTriggerOccurringBetweenSignificantEvent:secondSignificantEvent:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicate(forEvaluatingTriggerOccurringBetweenSignificantEvent:secondSignificantEvent:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred before the specified time.",
          "name" : "predicateForEvaluatingTrigger(occurringBefore:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(occurringBefore:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred at the specified time.",
          "name" : "predicateForEvaluatingTrigger(occurringOn:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(occurringOn:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred at or after the specified time.",
          "name" : "predicateForEvaluatingTrigger(occurringAfter:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(occurringAfter:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred between the specified times.",
          "name" : "predicateForEvaluatingTriggerOccurringBetweenDate(with:secondDateWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTriggerOccurringBetweenDate(with:secondDateWith:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether a characteristic value relates to the specified value.",
          "name" : "predicateForEvaluatingTrigger(_:relatedBy:toValue:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(_:relatedBy:toValue:)"
        },
        {
          "description" : "Creates a predicate that evaluates the current user presence against that specified in the presence event.",
          "name" : "predicateForEvaluatingTrigger(withPresence:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(withPresence:)"
        },
        {
          "description" : "Specifies the key path for a characteristic in a predicate.",
          "name" : "HMCharacteristicKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMCharacteristicKeyPath"
        },
        {
          "description" : "Specifies the key path for a characteristic value in a predicate.",
          "name" : "HMCharacteristicValueKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMCharacteristicValueKeyPath"
        },
        {
          "description" : "Specifies the key path for a presence event in a predicate.",
          "name" : "HMPresenceKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMPresenceKeyPath"
        }
      ],
      "title" : "Creating predicates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds a new event to the event trigger.",
          "name" : "addEvent(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/addEvent(_:completionHandler:)"
        },
        {
          "description" : "Removes the specified event from the event trigger.",
          "name" : "removeEvent(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/removeEvent(_:completionHandler:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred before a significant event.",
          "name" : "predicateForEvaluatingTrigger(occurringBefore:applyingOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(occurringBefore:applyingOffset:)"
        },
        {
          "description" : "Creates a predicate that evaluates whether the event occurred before a significant event.",
          "name" : "predicateForEvaluatingTrigger(occurringAfter:applyingOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger\/predicateForEvaluatingTrigger(occurringAfter:applyingOffset:)"
        }
      ],
      "title" : "Deprecated symbols"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A collection of actions that you trigger as a group.",
          "name" : "HMActionSet",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMActionSet"
        },
        {
          "description" : "A trigger to activate an action set based on a periodic timer.",
          "name" : "HMTimerTrigger",
          "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMTimerTrigger"
        }
      ],
      "title" : "Action Sets"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "HMTrigger"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "HMEventTrigger",
  "url" : "https:\/\/developer.apple.com\/documentation\/HomeKit\/HMEventTrigger"
}