{
  "abstract" : "Create a Call Directory app extension to identify and block incoming callers by their phone number.",
  "codeExamples" : [

  ],
  "contentHash" : "960ca497b7d4a3ec727290ed3c4118badb23eeefd9739a7463d1ab6a220562eb",
  "crawledAt" : "2025-12-02T17:02:36Z",
  "id" : "864FA24D-5C91-4F7B-88FD-ED858614FD55",
  "kind" : "article",
  "language" : "swift",
  "module" : "CallKit",
  "overview" : "## Overview\n\nUse the Call Directory app extension to manage callers by their phone number. The system communicates with the app extension and checks a person’s contacts and block lists to identify callers.\n\n### Create a Call Directory app extension\n\nYou can create a Call Directory app extension for your containing app by adding a new project target and selecting the Call Directory Extension template under Application Extension.\n\n\n\nYou set up both identification and blocking of incoming calls in the implementation of the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)] method of the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider] subclass of your Call Directory app extension. The system calls this method when it launches the app extension.\n\nFor more information about how app extensions work, see [https:\/\/developer.apple.com\/app-extensions\/].\n\n### Identify incoming callers\n\nWhen a phone receives an incoming call, the system first checks the person’s contacts to find a matching phone number. If there’s no match, the system then checks your app’s Call Directory app extension to find a matching entry to identify the phone number. This is useful for apps that maintain a contact list that’s separate from the system contacts, such as for a social network, or for identifying incoming calls that may initiate from within the app, such as for customer service support or a delivery notification.\n\nFor example, consider a person who is friends with Maria in a social networking app, but who doesn’t have her phone number in their contacts. The social networking app has a Call Directory app extension, which downloads and adds the phone numbers of all of the person’s friends. Because of this, when there’s an incoming call from Maria, the system displays something like *(App Name) Caller ID: Maria Ruiz* rather than *Unknown Caller*.\n\nTo provide identifying information about incoming callers, you use the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryExtensionContext\/addIdentificationEntry(withNextSequentialPhoneNumber:label:)] method in the implementation of [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)].\n\nBecause the system calls this method only when it launches the app extension and not for each individual call, you need to specify call identification information all at once. For example, you can’t make a request to a web service to find information about an incoming call.\n\n#### Block incoming calls\n\nWhen a phone receives an incoming call, the system first checks the person’s block list to determine whether to block the call. If the phone number isn’t on a user- or system-defined block list, the system then checks your app’s Call Directory app extension to find a matching blocked number. This is useful for apps that maintain a database of known solicitors, or allow someone to block any numbers that match a set of criteria.\n\nTo block incoming calls for a particular phone number, you use the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryExtensionContext\/addBlockingEntry(withNextSequentialPhoneNumber:)] method in the implementation of [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)].\n\n### Handle audio session interruptions\n\nLike other audio apps, VoIP apps need to handle audio session interruptions. Interruptions may occur for several reasons, including a person accepting another call or closing the Smart Folio of their iPad. In these situations, an interruption notification contains the reason for the interruption and allows your app to correctly terminate the call, if necessary. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/handling-audio-interruptions].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CallKit\/identifying-and-blocking-calls\ncrawled: 2025-12-02T17:02:36Z\n---\n\n# Identifying and blocking calls\n\n**Article**\n\nCreate a Call Directory app extension to identify and block incoming callers by their phone number.\n\n## Overview\n\nUse the Call Directory app extension to manage callers by their phone number. The system communicates with the app extension and checks a person’s contacts and block lists to identify callers.\n\n\n\n### Create a Call Directory app extension\n\nYou can create a Call Directory app extension for your containing app by adding a new project target and selecting the Call Directory Extension template under Application Extension.\n\n\n\nYou set up both identification and blocking of incoming calls in the implementation of the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)] method of the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider] subclass of your Call Directory app extension. The system calls this method when it launches the app extension.\n\nFor more information about how app extensions work, see [https:\/\/developer.apple.com\/app-extensions\/].\n\n### Identify incoming callers\n\nWhen a phone receives an incoming call, the system first checks the person’s contacts to find a matching phone number. If there’s no match, the system then checks your app’s Call Directory app extension to find a matching entry to identify the phone number. This is useful for apps that maintain a contact list that’s separate from the system contacts, such as for a social network, or for identifying incoming calls that may initiate from within the app, such as for customer service support or a delivery notification.\n\nFor example, consider a person who is friends with Maria in a social networking app, but who doesn’t have her phone number in their contacts. The social networking app has a Call Directory app extension, which downloads and adds the phone numbers of all of the person’s friends. Because of this, when there’s an incoming call from Maria, the system displays something like *(App Name) Caller ID: Maria Ruiz* rather than *Unknown Caller*.\n\nTo provide identifying information about incoming callers, you use the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryExtensionContext\/addIdentificationEntry(withNextSequentialPhoneNumber:label:)] method in the implementation of [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)].\n\n\n\nBecause the system calls this method only when it launches the app extension and not for each individual call, you need to specify call identification information all at once. For example, you can’t make a request to a web service to find information about an incoming call.\n\n#### Block incoming calls\n\nWhen a phone receives an incoming call, the system first checks the person’s block list to determine whether to block the call. If the phone number isn’t on a user- or system-defined block list, the system then checks your app’s Call Directory app extension to find a matching blocked number. This is useful for apps that maintain a database of known solicitors, or allow someone to block any numbers that match a set of criteria.\n\nTo block incoming calls for a particular phone number, you use the [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryExtensionContext\/addBlockingEntry(withNextSequentialPhoneNumber:)] method in the implementation of [doc:\/\/com.apple.callkit\/documentation\/CallKit\/CXCallDirectoryProvider\/beginRequest(with:)].\n\n\n\n\n\n### Handle audio session interruptions\n\nLike other audio apps, VoIP apps need to handle audio session interruptions. Interruptions may occur for several reasons, including a person accepting another call or closing the Smart Folio of their iPad. In these situations, an interruption notification contains the reason for the interruption and allows your app to correctly terminate the call, if necessary. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/handling-audio-interruptions].\n\n## Caller ID\n\n- **CXCallDirectoryProvider**: The principal object for a Call Directory app extension for a host app.\n- **CXCallDirectoryExtensionContext**: A programmatic interface for adding identification and blocking entries to a Call Directory app extension.\n- **CXCallDirectoryExtensionContextDelegate**: A collection of methods a Call Directory extension context object calls when a request fails.\n- **CXCallDirectoryManager**: The programmatic interface to an object that manages a Call Directory app extension.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The principal object for a Call Directory app extension for a host app.",
          "name" : "CXCallDirectoryProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/CallKit\/CXCallDirectoryProvider"
        },
        {
          "description" : "A programmatic interface for adding identification and blocking entries to a Call Directory app extension.",
          "name" : "CXCallDirectoryExtensionContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/CallKit\/CXCallDirectoryExtensionContext"
        },
        {
          "description" : "A collection of methods a Call Directory extension context object calls when a request fails.",
          "name" : "CXCallDirectoryExtensionContextDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CallKit\/CXCallDirectoryExtensionContextDelegate"
        },
        {
          "description" : "The programmatic interface to an object that manages a Call Directory app extension.",
          "name" : "CXCallDirectoryManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/CallKit\/CXCallDirectoryManager"
        }
      ],
      "title" : "Caller ID"
    }
  ],
  "source" : "appleJSON",
  "title" : "Identifying and blocking calls",
  "url" : "https:\/\/developer.apple.com\/documentation\/CallKit\/identifying-and-blocking-calls"
}