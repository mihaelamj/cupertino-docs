{
  "abstract" : "Definition for a block callback invoked when an access request has completed.",
  "codeExamples" : [
    {
      "code" : "@implementation APLViewController\n \n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    \/\/ Do any additional setup after loading the view\n    CFErrorRef myError = NULL;\n    ABAddressBookRef myAddressBook = ABAddressBookCreateWithOptions(NULL, &myError);\n    APLViewController * __weak weakSelf = self;  \/\/ avoid capturing self in the block\n    ABAddressBookRequestAccessWithCompletion(myAddressBook,\n      ^(bool granted, CFErrorRef error) {\n        if (granted) {\n            NSArray *theSmiths = CFBridgingRelease(\n              ABAddressBookCopyPeopleWithName(myAddressBook,\n                CFSTR(\"Smith\")\n              )\n            );\n            weakSelf.numberOfSmiths = [theSmiths count];\n        } else {\n            \/\/ Handle the case of being denied access and\/or the error.\n        }\n        CFRelease(myAddressBook);\n    });\n}\n \n...\n \n@end",
      "language" : "objc"
    }
  ],
  "contentHash" : "526742bb1fe5b0af0519d2d392963943ad135801d651a1a9b8087b8fd423a0d8",
  "crawledAt" : "2025-12-02T16:42:02Z",
  "declaration" : {
    "code" : "typealias ABAddressBookRequestAccessCompletionHandler = (Bool, CFError?) -> Void",
    "language" : "swift"
  },
  "id" : "32C29FF7-482E-4570-B766-C643BCDA36A8",
  "kind" : "typealias",
  "language" : "swift",
  "module" : "Address Book",
  "overview" : "## Discussion\n\nAddress book request access completion handler blocks are used with [doc:\/\/com.apple.addressbook\/documentation\/AddressBook\/ABAddressBookCreateWithOptions(_:_:)]. If you had a view controller that wanted to display the count of users with the name “Smith” in the address book, you might implement something like the code shown in the following code listing.\n\nListing 1. Sample implementation using ABAddressBookRequestAccessCompletionHandler",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AddressBook\/ABAddressBookRequestAccessCompletionHandler\ncrawled: 2025-12-02T16:42:02Z\n---\n\n# ABAddressBookRequestAccessCompletionHandler\n\n**Type Alias**\n\nDefinition for a block callback invoked when an access request has completed.\n\n## Declaration\n\n```swift\ntypealias ABAddressBookRequestAccessCompletionHandler = (Bool, CFError?) -> Void\n```\n\n## Discussion\n\nAddress book request access completion handler blocks are used with [doc:\/\/com.apple.addressbook\/documentation\/AddressBook\/ABAddressBookCreateWithOptions(_:_:)]. If you had a view controller that wanted to display the count of users with the name “Smith” in the address book, you might implement something like the code shown in the following code listing.\n\nListing 1. Sample implementation using ABAddressBookRequestAccessCompletionHandler\n\n```objc\n@implementation APLViewController\n \n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    \/\/ Do any additional setup after loading the view\n    CFErrorRef myError = NULL;\n    ABAddressBookRef myAddressBook = ABAddressBookCreateWithOptions(NULL, &myError);\n    APLViewController * __weak weakSelf = self;  \/\/ avoid capturing self in the block\n    ABAddressBookRequestAccessWithCompletion(myAddressBook,\n      ^(bool granted, CFErrorRef error) {\n        if (granted) {\n            NSArray *theSmiths = CFBridgingRelease(\n              ABAddressBookCopyPeopleWithName(myAddressBook,\n                CFSTR(\"Smith\")\n              )\n            );\n            weakSelf.numberOfSmiths = [theSmiths count];\n        } else {\n            \/\/ Handle the case of being denied access and\/or the error.\n        }\n        CFRelease(myAddressBook);\n    });\n}\n \n...\n \n@end\n```\n\n## Deprecated\n\n- **ABRecord**: A reference to an ABRecord object or any of its derivedopaque types.\n- **ABExternalChangeCallback**: Prototype for a function callback invoked on an address book when the Address Book database is modified by another address book instance.\n- **ABMultiValueIdentifier**: Identifies multivalue properties.\n- **ABPersonCompositeNameFormat**: Indicates a person-name display format.\n- **ABPersonSortOrdering**: Indicates a person sort ordering.\n- **ABPropertyID**: Integer that identifies a record property.\n- **ABRecordID**: Integer that identifies a record.\n- **ABRecordType**: Integer that identifies a record type.\n- **ABSourceType**: Indicates a source type. See `Source Properties`.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A reference to an ABRecord object or any of its derivedopaque types.",
          "name" : "ABRecord",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABRecord-swift.typealias"
        },
        {
          "description" : "Prototype for a function callback invoked on an address book when the Address Book database is modified by another address book instance.",
          "name" : "ABExternalChangeCallback",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABExternalChangeCallback"
        },
        {
          "description" : "Identifies multivalue properties.",
          "name" : "ABMultiValueIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABMultiValueIdentifier"
        },
        {
          "description" : "Indicates a person-name display format.",
          "name" : "ABPersonCompositeNameFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABPersonCompositeNameFormat"
        },
        {
          "description" : "Indicates a person sort ordering.",
          "name" : "ABPersonSortOrdering",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABPersonSortOrdering"
        },
        {
          "description" : "Integer that identifies a record property.",
          "name" : "ABPropertyID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABPropertyID"
        },
        {
          "description" : "Integer that identifies a record.",
          "name" : "ABRecordID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABRecordID"
        },
        {
          "description" : "Integer that identifies a record type.",
          "name" : "ABRecordType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABRecordType"
        },
        {
          "description" : "Indicates a source type. See `Source Properties`.",
          "name" : "ABSourceType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABSourceType"
        }
      ],
      "title" : "Deprecated"
    }
  ],
  "source" : "appleJSON",
  "title" : "ABAddressBookRequestAccessCompletionHandler",
  "url" : "https:\/\/developer.apple.com\/documentation\/AddressBook\/ABAddressBookRequestAccessCompletionHandler"
}