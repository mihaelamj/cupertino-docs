{
  "abstract" : "Add text-recognition features to your app using the Vision framework.",
  "codeExamples" : [
    {
      "code" : "\/\/ Get the CGImage on which to perform requests.\nguard let cgImage = UIImage(named: \"snapshot\")?.cgImage else { return }\n\n\/\/ Create a new image-request handler.\nlet requestHandler = VNImageRequestHandler(cgImage: cgImage)\n\n\/\/ Create a new request to recognize text.\nlet request = VNRecognizeTextRequest(completionHandler: recognizeTextHandler)\n\ndo {\n    \/\/ Perform the text-recognition request.\n    try requestHandler.perform([request])\n} catch {\n    print(\"Unable to perform the requests: \\(error).\")\n}",
      "language" : "swift"
    },
    {
      "code" : "func recognizeTextHandler(request: VNRequest, error: Error?) {\n    guard let observations =\n            request.results as? [VNRecognizedTextObservation] else {\n        return\n    }\n    let recognizedStrings = observations.compactMap { observation in\n        \/\/ Return the string of the top VNRecognizedText instance.\n        return observation.topCandidates(1).first?.string\n    }\n    \n    \/\/ Process the recognized strings.\n    processResults(recognizedStrings)\n}",
      "language" : "swift"
    },
    {
      "code" : "let boundingRects: [CGRect] = observations.compactMap { observation in\n\n    \/\/ Find the top observation.\n    guard let candidate = observation.topCandidates(1).first else { return .zero }\n    \n    \/\/ Find the bounding-box observation for the string range.\n    let stringRange = candidate.string.startIndex..<candidate.string.endIndex\n    let boxObservation = try? candidate.boundingBox(for: stringRange)\n    \n    \/\/ Get the normalized CGRect value.\n    let boundingBox = boxObservation?.boundingBox ?? .zero\n    \n    \/\/ Convert the rectangle from normalized coordinates to image coordinates.\n    return VNImageRectForNormalizedRect(boundingBox,\n                                        Int(image.size.width),\n                                        Int(image.size.height))\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "30f1adacbfece926b36e84e59e7a3a2fedbbd7cd21ff05b4252963c521ed9709",
  "crawledAt" : "2025-12-02T16:20:59Z",
  "id" : "C7200BDB-D38A-4875-B08F-8A407EB365D8",
  "kind" : "article",
  "language" : "swift",
  "module" : "Vision",
  "overview" : "## Overview\n\nOne of Vision’s many powerful features is its ability to detect and recognize multilanguage text in images. You can use this functionality in your own apps to handle both real-time and offline use cases. In all cases, all of Vision’s processing happens on the user’s device to enhance performance and user privacy.\n\nVision’s text-recognition capabilities operate using one of these paths:\n\nFor example code using the fast path, see [doc:\/\/Vision\/documentation\/Vision\/extracting-phone-numbers-from-text-in-images].\n\nFor example code using the accurate path, see [doc:\/\/com.apple.documentation\/documentation\/visionkit\/structuring_recognized_text_on_a_document].\n\nUsing either path, you may optionally apply a language-correction phase based on Natural Language Processing (NLP) to minimize the potential for misreadings.\n\n\n\n### Perform a Text-Recognition Request\n\nVision provides its text-recognition capabilities through [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest], an image-based request type that finds and extracts text in images. The following example shows how to use [doc:\/\/Vision\/documentation\/Vision\/VNImageRequestHandler] to perform a [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest] for recognizing text in the specified [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGImage].\n\n### Process the Results\n\nAfter the request handler processes the request, it calls the request’s completion closure, passing it the request and any errors that occurred. Retrieve the observations by querying the request object for its [doc:\/\/Vision\/documentation\/Vision\/VNRequest\/results], which it returns as an array of [doc:\/\/Vision\/documentation\/Vision\/VNRecognizedTextObservation] objects. Each observation provides the recognized text string, along with a confidence score that indicates the confidence in the accuracy of the recognition.\n\nIf you’d like to render the bounding rectangles around recognized text in your user interface, you can also retrieve that information from the observation. The rectangles it provides are in normalized coordinates. To render them correctly in your user interface, convert [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CGRect] instances from normalized coordinates to image coordinates by using the [doc:\/\/Vision\/documentation\/Vision\/VNImageRectForNormalizedRect(_:_:_:)] function as shown below.\n\nThe resulting bounding box differs depending on the path you choose. The fast path calculates the recognized text’s bounding rectangle based on its individual characters. The accurate path tokenizes on whitespace, which means when working with Chinese text, the resulting bounding boxes will likely contain lines or line fragments instead of complete text.\n\n### Optimize Language Settings\n\nYour choice of fast or accurate path, along with your use of a particular API revision, determines the language support the text-recognition algorithms provide. To determine which languages a particular path and revision support, call the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/supportedRecognitionLanguages(for:revision:)] class method.\n\nIf not otherwise specified, Vision biases its results toward English. To alter its default behavior, provide an array of supported languages in the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/recognitionLanguages] property. The order in which you provide the languages dictates their relative importance. To recognize traditional and simplified Chinese, specify `zh-Hant` and `zh-Hans` as the first elements in the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/recognitionLanguages] property. English is the only other language that you can pair with Chinese.\n\nEnabling language correction on the request helps minimize common recognition errors. If the text you’re recognizing uses domain-specific jargon, such as medical or technical terms, you can tailor the language correction’s behavior by setting the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/customWords] property. Language correction gives precedence to the custom words when performing its processing. The request ignores the [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/customWords] property if language correction isn’t enabled.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Vision\/recognizing-text-in-images\ncrawled: 2025-12-02T16:20:59Z\n---\n\n# Recognizing Text in Images\n\n**Article**\n\nAdd text-recognition features to your app using the Vision framework.\n\n## Overview\n\nOne of Vision’s many powerful features is its ability to detect and recognize multilanguage text in images. You can use this functionality in your own apps to handle both real-time and offline use cases. In all cases, all of Vision’s processing happens on the user’s device to enhance performance and user privacy.\n\nVision’s text-recognition capabilities operate using one of these paths:\n\n\n\nFor example code using the fast path, see [doc:\/\/Vision\/documentation\/Vision\/extracting-phone-numbers-from-text-in-images].\n\n\n\nFor example code using the accurate path, see [doc:\/\/com.apple.documentation\/documentation\/visionkit\/structuring_recognized_text_on_a_document].\n\nUsing either path, you may optionally apply a language-correction phase based on Natural Language Processing (NLP) to minimize the potential for misreadings.\n\n\n\n\n\n### Perform a Text-Recognition Request\n\nVision provides its text-recognition capabilities through [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest], an image-based request type that finds and extracts text in images. The following example shows how to use [doc:\/\/Vision\/documentation\/Vision\/VNImageRequestHandler] to perform a [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest] for recognizing text in the specified [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGImage].\n\n```swift\n\/\/ Get the CGImage on which to perform requests.\nguard let cgImage = UIImage(named: \"snapshot\")?.cgImage else { return }\n\n\/\/ Create a new image-request handler.\nlet requestHandler = VNImageRequestHandler(cgImage: cgImage)\n\n\/\/ Create a new request to recognize text.\nlet request = VNRecognizeTextRequest(completionHandler: recognizeTextHandler)\n\ndo {\n    \/\/ Perform the text-recognition request.\n    try requestHandler.perform([request])\n} catch {\n    print(\"Unable to perform the requests: \\(error).\")\n}\n```\n\n\n\n### Process the Results\n\nAfter the request handler processes the request, it calls the request’s completion closure, passing it the request and any errors that occurred. Retrieve the observations by querying the request object for its [doc:\/\/Vision\/documentation\/Vision\/VNRequest\/results], which it returns as an array of [doc:\/\/Vision\/documentation\/Vision\/VNRecognizedTextObservation] objects. Each observation provides the recognized text string, along with a confidence score that indicates the confidence in the accuracy of the recognition.\n\n```swift\nfunc recognizeTextHandler(request: VNRequest, error: Error?) {\n    guard let observations =\n            request.results as? [VNRecognizedTextObservation] else {\n        return\n    }\n    let recognizedStrings = observations.compactMap { observation in\n        \/\/ Return the string of the top VNRecognizedText instance.\n        return observation.topCandidates(1).first?.string\n    }\n    \n    \/\/ Process the recognized strings.\n    processResults(recognizedStrings)\n}\n```\n\nIf you’d like to render the bounding rectangles around recognized text in your user interface, you can also retrieve that information from the observation. The rectangles it provides are in normalized coordinates. To render them correctly in your user interface, convert [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CGRect] instances from normalized coordinates to image coordinates by using the [doc:\/\/Vision\/documentation\/Vision\/VNImageRectForNormalizedRect(_:_:_:)] function as shown below.\n\n```swift\nlet boundingRects: [CGRect] = observations.compactMap { observation in\n\n    \/\/ Find the top observation.\n    guard let candidate = observation.topCandidates(1).first else { return .zero }\n    \n    \/\/ Find the bounding-box observation for the string range.\n    let stringRange = candidate.string.startIndex..<candidate.string.endIndex\n    let boxObservation = try? candidate.boundingBox(for: stringRange)\n    \n    \/\/ Get the normalized CGRect value.\n    let boundingBox = boxObservation?.boundingBox ?? .zero\n    \n    \/\/ Convert the rectangle from normalized coordinates to image coordinates.\n    return VNImageRectForNormalizedRect(boundingBox,\n                                        Int(image.size.width),\n                                        Int(image.size.height))\n}\n```\n\nThe resulting bounding box differs depending on the path you choose. The fast path calculates the recognized text’s bounding rectangle based on its individual characters. The accurate path tokenizes on whitespace, which means when working with Chinese text, the resulting bounding boxes will likely contain lines or line fragments instead of complete text.\n\n### Optimize Language Settings\n\nYour choice of fast or accurate path, along with your use of a particular API revision, determines the language support the text-recognition algorithms provide. To determine which languages a particular path and revision support, call the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/supportedRecognitionLanguages(for:revision:)] class method.\n\nIf not otherwise specified, Vision biases its results toward English. To alter its default behavior, provide an array of supported languages in the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/recognitionLanguages] property. The order in which you provide the languages dictates their relative importance. To recognize traditional and simplified Chinese, specify `zh-Hant` and `zh-Hans` as the first elements in the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/recognitionLanguages] property. English is the only other language that you can pair with Chinese.\n\nEnabling language correction on the request helps minimize common recognition errors. If the text you’re recognizing uses domain-specific jargon, such as medical or technical terms, you can tailor the language correction’s behavior by setting the request’s [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/customWords] property. Language correction gives precedence to the custom words when performing its processing. The request ignores the [doc:\/\/Vision\/documentation\/Vision\/VNRecognizeTextRequest\/customWords] property if language correction isn’t enabled.\n\n\n\n## Text recognition\n\n- **Structuring Recognized Text on a Document**: Detect, recognize, and structure text on a business card or receipt using Vision and VisionKit.\n- **Extracting phone numbers from text in images**: Analyze and filter phone numbers from text in live capture by using Vision.\n- **Locating and displaying recognized text**: Perform text recognition on a photo using the Vision framework’s text-recognition request.\n- **VNRecognizeTextRequest**: An image-analysis request that finds and recognizes text in an image.\n- **VNRecognizedTextObservation**: A request that detects and recognizes regions of text in an image.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detect, recognize, and structure text on a business card or receipt using Vision and VisionKit.",
          "name" : "Structuring Recognized Text on a Document",
          "url" : "https:\/\/developer.apple.com\/documentation\/visionkit\/structuring_recognized_text_on_a_document"
        },
        {
          "description" : "Analyze and filter phone numbers from text in live capture by using Vision.",
          "name" : "Extracting phone numbers from text in images",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/extracting-phone-numbers-from-text-in-images"
        },
        {
          "description" : "Perform text recognition on a photo using the Vision framework’s text-recognition request.",
          "name" : "Locating and displaying recognized text",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/locating-and-displaying-recognized-text"
        },
        {
          "description" : "An image-analysis request that finds and recognizes text in an image.",
          "name" : "VNRecognizeTextRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNRecognizeTextRequest"
        },
        {
          "description" : "A request that detects and recognizes regions of text in an image.",
          "name" : "VNRecognizedTextObservation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNRecognizedTextObservation"
        }
      ],
      "title" : "Text recognition"
    }
  ],
  "source" : "appleJSON",
  "title" : "Recognizing Text in Images",
  "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/recognizing-text-in-images"
}