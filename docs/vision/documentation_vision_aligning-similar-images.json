{
  "abstract" : "Construct a composite image from images that capture the same scene.",
  "codeExamples" : [

  ],
  "contentHash" : "4e23e1d0a43751b053e06690ec9f2c6b4b386842043a4ddee2d1a25a31e4eeb1",
  "crawledAt" : "2025-12-02T15:52:35Z",
  "id" : "3ECB66E1-8C14-4B02-B9B6-27F7CA50A476",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Vision",
  "overview" : "## Overview\n\nThis sample app uses image registration requests from the Vision framework to calculate an alignment transform between two images of the same scene that are slightly different. The sample app uses the alignment transform to construct a single, composite image that contains the aligned content of both images.\n\n### Provide Input Images\n\nImage registration requests require two images, a reference image and a floating image. The best alignment occurs when the content of the input images is very similar. In this sample app, the input images simulate an image capture of the same scene from a slightly different perspective. The two images are nearly identical — one has a slight warp and is offset from the other. The sample app displays the input images next to the aligned composite image for visual comparison in the `registrationImages` view.\n\n### Select a Registration Mechanism\n\nThe Vision framework provides a translational image registration mechanism, [https:\/\/developer.apple.com\/documentation\/vision\/vntranslationalimageregistrationrequest], and a homographic image registration mechanism, [https:\/\/developer.apple.com\/documentation\/vision\/vnhomographicimageregistrationrequest]. The sample app provides a toggle between these two image registration mechanisms to visually demonstrate the differences in their image alignment observations.\n\n### Apply the Alignment Observation\n\nThis project applies the alignment observation for each image registration mechanism in the `register` function, and returns an image that contains the composited result. The `register` function uses the `makeAlignedImage` function to transform the floating image.  The sample uses the [https:\/\/developer.apple.com\/documentation\/coreimage\/ciimage\/1438203-transformed] method to apply the translational transform for the translational image registration mechanism, and uses the [https:\/\/developer.apple.com\/documentation\/coreimage\/ciperspectivetransform] filter to apply the pespective transform for the homographic image registration mechanism.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Vision\/aligning-similar-images\ncrawled: 2025-12-02T15:52:35Z\n---\n\n# Aligning Similar Images\n\n**Sample Code**\n\nConstruct a composite image from images that capture the same scene.\n\n## Overview\n\nThis sample app uses image registration requests from the Vision framework to calculate an alignment transform between two images of the same scene that are slightly different. The sample app uses the alignment transform to construct a single, composite image that contains the aligned content of both images.\n\n### Provide Input Images\n\nImage registration requests require two images, a reference image and a floating image. The best alignment occurs when the content of the input images is very similar. In this sample app, the input images simulate an image capture of the same scene from a slightly different perspective. The two images are nearly identical — one has a slight warp and is offset from the other. The sample app displays the input images next to the aligned composite image for visual comparison in the `registrationImages` view.\n\n### Select a Registration Mechanism\n\nThe Vision framework provides a translational image registration mechanism, [https:\/\/developer.apple.com\/documentation\/vision\/vntranslationalimageregistrationrequest], and a homographic image registration mechanism, [https:\/\/developer.apple.com\/documentation\/vision\/vnhomographicimageregistrationrequest]. The sample app provides a toggle between these two image registration mechanisms to visually demonstrate the differences in their image alignment observations.\n\n### Apply the Alignment Observation\n\nThis project applies the alignment observation for each image registration mechanism in the `register` function, and returns an image that contains the composited result. The `register` function uses the `makeAlignedImage` function to transform the floating image.  The sample uses the [https:\/\/developer.apple.com\/documentation\/coreimage\/ciimage\/1438203-transformed] method to apply the translational transform for the translational image registration mechanism, and uses the [https:\/\/developer.apple.com\/documentation\/coreimage\/ciperspectivetransform] filter to apply the pespective transform for the homographic image registration mechanism.\n\n## Image alignment\n\n- **VNTargetedImageRequest**: The abstract superclass for image analysis requests that operate on both the processed image and a secondary image.\n- **VNImageRegistrationRequest**: The abstract superclass for image-analysis requests that align images according to their content.\n- **VNTranslationalImageRegistrationRequest**: An image-analysis request that determines the affine transform necessary to align the content of two images.\n- **VNTrackTranslationalImageRegistrationRequest**: An image-analysis request, as a stateful request you track over time, that determines the affine transform necessary to align the content of two images.\n- **VNHomographicImageRegistrationRequest**: An image-analysis request that determines the perspective warp matrix necessary to align the content of two images.\n- **VNTrackHomographicImageRegistrationRequest**: An image-analysis request, as a stateful request you track over time, that determines the perspective warp matrix necessary to align the content of two images.\n- **VNImageAlignmentObservation**: The abstract superclass for image-analysis results that describe the relative alignment of two images.\n- **VNImageTranslationAlignmentObservation**: Affine transform information that an image-alignment request produces.\n- **VNImageHomographicAlignmentObservation**: An object that represents a perspective warp transformation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The abstract superclass for image analysis requests that operate on both the processed image and a secondary image.",
          "name" : "VNTargetedImageRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNTargetedImageRequest"
        },
        {
          "description" : "The abstract superclass for image-analysis requests that align images according to their content.",
          "name" : "VNImageRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNImageRegistrationRequest"
        },
        {
          "description" : "An image-analysis request that determines the affine transform necessary to align the content of two images.",
          "name" : "VNTranslationalImageRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNTranslationalImageRegistrationRequest"
        },
        {
          "description" : "An image-analysis request, as a stateful request you track over time, that determines the affine transform necessary to align the content of two images.",
          "name" : "VNTrackTranslationalImageRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNTrackTranslationalImageRegistrationRequest"
        },
        {
          "description" : "An image-analysis request that determines the perspective warp matrix necessary to align the content of two images.",
          "name" : "VNHomographicImageRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNHomographicImageRegistrationRequest"
        },
        {
          "description" : "An image-analysis request, as a stateful request you track over time, that determines the perspective warp matrix necessary to align the content of two images.",
          "name" : "VNTrackHomographicImageRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNTrackHomographicImageRegistrationRequest"
        },
        {
          "description" : "The abstract superclass for image-analysis results that describe the relative alignment of two images.",
          "name" : "VNImageAlignmentObservation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNImageAlignmentObservation"
        },
        {
          "description" : "Affine transform information that an image-alignment request produces.",
          "name" : "VNImageTranslationAlignmentObservation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNImageTranslationAlignmentObservation"
        },
        {
          "description" : "An object that represents a perspective warp transformation.",
          "name" : "VNImageHomographicAlignmentObservation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/VNImageHomographicAlignmentObservation"
        }
      ],
      "title" : "Image alignment"
    }
  ],
  "source" : "appleJSON",
  "title" : "Aligning Similar Images",
  "url" : "https:\/\/developer.apple.com\/documentation\/Vision\/aligning-similar-images"
}