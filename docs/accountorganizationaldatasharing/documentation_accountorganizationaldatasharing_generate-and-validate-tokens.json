{
  "abstract" : "Validate an authorization grant code delivered to your app to obtain tokens, or validate an existing refresh token.",
  "codeExamples" : [
    {
      "code" : "curl -v POST \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\" \\\n-H 'content-type: application\/x-www-form-urlencoded' \\\n-d 'client_id=CLIENT_ID' \\\n-d 'client_secret=CLIENT_SECRET' \\\n-d 'code=CODE' \\\n-d 'grant_type=authorization_code' \\\n-d 'redirect_uri=REDIRECT_URI'",
      "language" : "sh"
    },
    {
      "code" : "{\n\t\"access_token\": \"adg61...670r9\",\n\t\"token_type\": \"Bearer\",\n\t\"expires_in\": 3600,\n\t\"refresh_token\": \"rca7...lABoQ\",\n\t\"id_token\": \"eyJra...96sZg\"\n}",
      "language" : "js"
    },
    {
      "code" : "curl -v POST \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\" \\\n-H 'content-type: application\/x-www-form-urlencoded' \\\n-d 'client_id=CLIENT_ID' \\\n-d 'client_secret=CLIENT_SECRET' \\\n-d 'grant_type=refresh_token' \\\n-d 'refresh_token=REFRESH_TOKEN'",
      "language" : "sh"
    },
    {
      "code" : "{\n  \"access_token\": \"beg510...670r9\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 3600,\n  \"id_token\": \"eyJra...96sZg\"\n}",
      "language" : "js"
    }
  ],
  "contentHash" : "c6c0cb28f6a109e722340467cd60eb9918d75ae394c5b42b0eebcdac40710d09",
  "crawledAt" : "2025-12-02T15:39:10Z",
  "id" : "94F5111A-CFBD-4C1D-AB78-626C6454B609",
  "kind" : "unknown",
  "language" : "data",
  "module" : "Account & Organizational Data Sharing",
  "overview" : "## Overview\n\nThe validation server returns a [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/TokenResponse] object in the response body of a successful validation request. Use this endpoint to either authorize a user by validating the authorization code received by your app, or by validating an existing refresh token to verify a user session or obtain access tokens.\n\n### Validate the authorization grant code\n\nWhen you send an authorization request to the validation server, include the following form data parameters:\n\nFor information on how to create the JWT that you use as the client secret, see [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nThe following is an example authorization validation request URL via `curl`:\n\nAfter the server validates the authorization code, the endpoint returns the identity token, an access token, and a refresh token. The following is an example authorization validation response:\n\nUse the refresh token to verify the user session from the server and obtain access tokens.\n\n### Validate an existing refresh token\n\nWhen performing a validation request, you must include the following form data parameters:\n\nFor information on how to create the JWT you use as the client secret, see [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nThe following is an example validation request URL using `curl`:\n\nAfter the server validates the refresh token, the endpoint returns the identity token and an access token. The following is an example refresh token validation response:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AccountOrganizationalDataSharing\/Generate-and-validate-tokens\ncrawled: 2025-12-02T15:39:10Z\n---\n\n# Generate and validate tokens\n\n**Web Endpoint**\n\nValidate an authorization grant code delivered to your app to obtain tokens, or validate an existing refresh token.\n\n## Overview\n\nThe validation server returns a [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/TokenResponse] object in the response body of a successful validation request. Use this endpoint to either authorize a user by validating the authorization code received by your app, or by validating an existing refresh token to verify a user session or obtain access tokens.\n\n### Validate the authorization grant code\n\nWhen you send an authorization request to the validation server, include the following form data parameters:\n\n- `client_id`\n- `client_secret`\n- `code`\n- `grant_type`\n- `redirect_uri`\n\n\n\nFor information on how to create the JWT that you use as the client secret, see [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nThe following is an example authorization validation request URL via `curl`:\n\n```sh\ncurl -v POST \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\" \\\n-H 'content-type: application\/x-www-form-urlencoded' \\\n-d 'client_id=CLIENT_ID' \\\n-d 'client_secret=CLIENT_SECRET' \\\n-d 'code=CODE' \\\n-d 'grant_type=authorization_code' \\\n-d 'redirect_uri=REDIRECT_URI'\n```\n\nAfter the server validates the authorization code, the endpoint returns the identity token, an access token, and a refresh token. The following is an example authorization validation response:\n\n```js\n{\n\t\"access_token\": \"adg61...670r9\",\n\t\"token_type\": \"Bearer\",\n\t\"expires_in\": 3600,\n\t\"refresh_token\": \"rca7...lABoQ\",\n\t\"id_token\": \"eyJra...96sZg\"\n}\n```\n\nUse the refresh token to verify the user session from the server and obtain access tokens.\n\n### Validate an existing refresh token\n\nWhen performing a validation request, you must include the following form data parameters:\n\n- `client_id`\n- `client_secret`\n- `grant_type`\n- `refresh_token`\n\nFor information on how to create the JWT you use as the client secret, see [doc:\/\/org.swift.docc.AccountOrganizationalDataSharing\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nThe following is an example validation request URL using `curl`:\n\n```sh\ncurl -v POST \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\" \\\n-H 'content-type: application\/x-www-form-urlencoded' \\\n-d 'client_id=CLIENT_ID' \\\n-d 'client_secret=CLIENT_SECRET' \\\n-d 'grant_type=refresh_token' \\\n-d 'refresh_token=REFRESH_TOKEN'\n```\n\nAfter the server validates the refresh token, the endpoint returns the identity token and an access token. The following is an example refresh token validation response:\n\n```js\n{\n  \"access_token\": \"beg510...670r9\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 3600,\n  \"id_token\": \"eyJra...96sZg\"\n}\n```\n\n## Generating tokens\n\n- **Creating a client secret**: Generate a signed token to identify your client application.\n- **Fetch Apple's public key for verifying token signature**: Retrieve the public key associated with the cryptographic identity Apple uses to sign the token.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Generate a signed token to identify your client application.",
          "name" : "Creating a client secret",
          "url" : "https:\/\/developer.apple.com\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret"
        },
        {
          "description" : "Retrieve the public key associated with the cryptographic identity Apple uses to sign the token.",
          "name" : "Fetch Apple's public key for verifying token signature",
          "url" : "https:\/\/developer.apple.com\/documentation\/AccountOrganizationalDataSharing\/Fetch-Apple's-public-key-for-verifying-token-signature"
        }
      ],
      "title" : "Generating tokens"
    }
  ],
  "source" : "appleJSON",
  "title" : "Generate and validate tokens",
  "url" : "https:\/\/developer.apple.com\/documentation\/AccountOrganizationalDataSharing\/Generate-and-validate-tokens"
}