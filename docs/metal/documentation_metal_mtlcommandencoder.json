{
  "abstract" : "An encoder that writes GPU commands into a command buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "a546e732e0157aa3a095aa26faa18585cfe60e1c67d08c50aa003712c4f6f8c2",
  "crawledAt" : "2025-12-01T17:57:29Z",
  "declaration" : {
    "code" : "protocol MTLCommandEncoder : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "9115BE29-E075-4B36-B928-410FCBC66953",
  "inheritedBy" : [
    "MTLAccelerationStructureCommandEncoder",
    "MTLBlitCommandEncoder",
    "MTLComputeCommandEncoder",
    "MTLParallelRenderCommandEncoder",
    "MTLRenderCommandEncoder",
    "MTLResourceStateCommandEncoder"
  ],
  "kind" : "protocol",
  "module" : "Metal",
  "overview" : "## Overview\n\nDon’t implement this protocol yourself; instead you call methods on an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance to create command encoders. Command encoder instances are lightweight instances that you re-create every time you need to send commands to the GPU.\n\nThere are many different kinds of command encoders, each providing a different set of commands that can be encoded into the buffer. A command encoder implements the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder] protocol and an additional protocol specific to the kind of encoder being created.\n\nWhile a command encoder is active, it has the exclusive right to append commands to its command buffer. Once you finish encoding commands, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method to finish encoding the commands. To write further commands into the same command buffer, create a new command encoder.\n\nYou can call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/insertDebugSignpost(_:)], [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/pushDebugGroup(_:)], and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/popDebugGroup()] methods to put debug strings into the command buffer and to push or pop string labels used to identify groups of encoded commands. These methods don’t change the rendering or compute behavior of your app; the Xcode debugger uses them to organize your app’s rendering commands in a format that may provide insight into how your app works.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\ncrawled: 2025-12-01T17:57:29Z\n---\n\n# MTLCommandEncoder\n\n**Protocol**\n\nAn encoder that writes GPU commands into a command buffer.\n\n## Declaration\n\n```swift\nprotocol MTLCommandEncoder : NSObjectProtocol\n```\n\n## Overview\n\nDon’t implement this protocol yourself; instead you call methods on an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance to create command encoders. Command encoder instances are lightweight instances that you re-create every time you need to send commands to the GPU.\n\nThere are many different kinds of command encoders, each providing a different set of commands that can be encoded into the buffer. A command encoder implements the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder] protocol and an additional protocol specific to the kind of encoder being created.\n\n\n\nWhile a command encoder is active, it has the exclusive right to append commands to its command buffer. Once you finish encoding commands, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method to finish encoding the commands. To write further commands into the same command buffer, create a new command encoder.\n\nYou can call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/insertDebugSignpost(_:)], [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/pushDebugGroup(_:)], and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/popDebugGroup()] methods to put debug strings into the command buffer and to push or pop string labels used to identify groups of encoded commands. These methods don’t change the rendering or compute behavior of your app; the Xcode debugger uses them to organize your app’s rendering commands in a format that may provide insight into how your app works.\n\n## Ending command encoding\n\n- **endEncoding()**: Declares that all command generation from the encoder is completed.\n\n## Annotating the command buffer with debug information\n\n- **insertDebugSignpost(_:)**: Inserts a debug string into the captured frame data.\n- **pushDebugGroup(_:)**: Pushes a specific string onto a stack of debug group strings for the command encoder.\n- **popDebugGroup()**: Pops the latest string off of a stack of debug group strings for the command encoder.\n\n## Identifying the command encoder\n\n- **device**: The Metal device from which the command encoder was created.\n- **label**: A string that labels the command encoder.\n\n## Instance Methods\n\n- **barrier(afterQueueStages:beforeStages:)**: Encodes a consumer barrier on work you commit to the same command queue.\n\n## Submitting work to a GPU with Metal\n\n- **Setting up a command structure**: Discover how Metal executes commands on a GPU.\n- **MTLCommandQueue**: An instance you use to create, submit, and schedule command buffers to a specific GPU device to run the commands within those buffers.\n- **MTLCommandQueueDescriptor**: A configuration that customizes the behavior for a new command queue.\n- **MTLCommandBuffer**: A container that stores a sequence of GPU commands that you encode into it.\n- **MTLCommandBufferDescriptor**: A configuration that customizes the behavior for a new command buffer.\n- **MTLCommandBufferError**: The command buffer error codes that indicate why the GPU doesn’t finish executing a command buffer.\n\n## Inherits From\n\n- NSObjectProtocol\n\n## Inherited By\n\n- MTLAccelerationStructureCommandEncoder\n- MTLBlitCommandEncoder\n- MTLComputeCommandEncoder\n- MTLParallelRenderCommandEncoder\n- MTLRenderCommandEncoder\n- MTLResourceStateCommandEncoder\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Declares that all command generation from the encoder is completed.",
          "name" : "endEncoding()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()"
        }
      ],
      "title" : "Ending command encoding"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Inserts a debug string into the captured frame data.",
          "name" : "insertDebugSignpost(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/insertDebugSignpost(_:)"
        },
        {
          "description" : "Pushes a specific string onto a stack of debug group strings for the command encoder.",
          "name" : "pushDebugGroup(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/pushDebugGroup(_:)"
        },
        {
          "description" : "Pops the latest string off of a stack of debug group strings for the command encoder.",
          "name" : "popDebugGroup()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/popDebugGroup()"
        }
      ],
      "title" : "Annotating the command buffer with debug information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The Metal device from which the command encoder was created.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/device"
        },
        {
          "description" : "A string that labels the command encoder.",
          "name" : "label",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/label"
        }
      ],
      "title" : "Identifying the command encoder"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a consumer barrier on work you commit to the same command queue.",
          "name" : "barrier(afterQueueStages:beforeStages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder\/barrier(afterQueueStages:beforeStages:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Discover how Metal executes commands on a GPU.",
          "name" : "Setting up a command structure",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/setting-up-a-command-structure"
        },
        {
          "description" : "An instance you use to create, submit, and schedule command buffers to a specific GPU device to run the commands within those buffers.",
          "name" : "MTLCommandQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue"
        },
        {
          "description" : "A configuration that customizes the behavior for a new command queue.",
          "name" : "MTLCommandQueueDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueueDescriptor"
        },
        {
          "description" : "A container that stores a sequence of GPU commands that you encode into it.",
          "name" : "MTLCommandBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBuffer"
        },
        {
          "description" : "A configuration that customizes the behavior for a new command buffer.",
          "name" : "MTLCommandBufferDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBufferDescriptor"
        },
        {
          "description" : "The command buffer error codes that indicate why the GPU doesn’t finish executing a command buffer.",
          "name" : "MTLCommandBufferError",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBufferError-swift.struct"
        }
      ],
      "title" : "Submitting work to a GPU with Metal"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLCommandEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder"
}