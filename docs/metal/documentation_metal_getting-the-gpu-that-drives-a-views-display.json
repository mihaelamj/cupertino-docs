{
  "abstract" : "Keep up to date with the optimal device for your display.",
  "codeExamples" : [

  ],
  "contentHash" : "0e1921086912f27625ed7e3fa99f917d456ed629b2283395a819261c0eef6bf2",
  "crawledAt" : "2025-12-04T02:48:07Z",
  "id" : "A1F1CC55-ED8E-4C6E-9F20-8325C8DFA33F",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nA user can have multiple external displays connected directly to a Mac or to an external GPU. Each view in your app shows on a single display, and a single GPU drives each display. The display in which your view appears and the GPU that drives the display can change dynamically; therefore, you need to prepare your app to handle these changes. Register for display change notifications, get the device that drives your view’s display, and decide if your app should use that device to present rendered graphics.\n\n### Handle display change notifications\n\nRegister for the following notifications so the system can notify your app about specific display changes:\n\nWhen the system posts a display change notification, you can decide if you should get and use a new device.\n\nTo deregister from the previous notifications, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NotificationCenter\/removeObserver(_:name:object:)] method.\n\n### Identify the device that drives your view’s display\n\nGet the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDirectDisplayID] value for the display in which your view currently appears. Then call the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDirectDisplayCopyCurrentMetalDevice(_:)] function to get the device that drives that display.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display\ncrawled: 2025-12-04T02:48:07Z\n---\n\n# Getting the GPU that drives a view’s display\n\n**Article**\n\nKeep up to date with the optimal device for your display.\n\n## Overview\n\nA user can have multiple external displays connected directly to a Mac or to an external GPU. Each view in your app shows on a single display, and a single GPU drives each display. The display in which your view appears and the GPU that drives the display can change dynamically; therefore, you need to prepare your app to handle these changes. Register for display change notifications, get the device that drives your view’s display, and decide if your app should use that device to present rendered graphics.\n\n### Handle display change notifications\n\nRegister for the following notifications so the system can notify your app about specific display changes:\n\n\n\nWhen the system posts a display change notification, you can decide if you should get and use a new device.\n\n\n\nTo deregister from the previous notifications, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NotificationCenter\/removeObserver(_:name:object:)] method.\n\n### Identify the device that drives your view’s display\n\nGet the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDirectDisplayID] value for the display in which your view currently appears. Then call the [doc:\/\/com.apple.documentation\/documentation\/CoreGraphics\/CGDirectDisplayCopyCurrentMetalDevice(_:)] function to get the device that drives that display.\n\n\n\n## Locating GPUs\n\n- **Finding multiple GPUs on an Intel-based Mac**: Locate, identify, and choose suitable GPUs for your app.\n- **MTLCopyAllDevices()**: Returns an array of all the Metal device instances in the system.\n- **MTLCopyAllDevicesWithObserver(handler:)**: Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.\n- **MTLRemoveDeviceObserver(_:)**: Removes a registered observer of device notifications.\n- **CGDirectDisplayCopyCurrentMetalDevice(_:)**: Returns the GPU device instance that’s currently driving a display.\n- **MTLDeviceNotificationHandler**: A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.\n- **MTLDeviceNotificationName**: A notification that represents a change to a GPU device in the system.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locate, identify, and choose suitable GPUs for your app.",
          "name" : "Finding multiple GPUs on an Intel-based Mac",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac"
        },
        {
          "description" : "Returns an array of all the Metal device instances in the system.",
          "name" : "MTLCopyAllDevices()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevices()"
        },
        {
          "description" : "Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.",
          "name" : "MTLCopyAllDevicesWithObserver(handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevicesWithObserver(handler:)"
        },
        {
          "description" : "Removes a registered observer of device notifications.",
          "name" : "MTLRemoveDeviceObserver(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)"
        },
        {
          "description" : "Returns the GPU device instance that’s currently driving a display.",
          "name" : "CGDirectDisplayCopyCurrentMetalDevice(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreGraphics\/CGDirectDisplayCopyCurrentMetalDevice(_:)"
        },
        {
          "description" : "A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.",
          "name" : "MTLDeviceNotificationHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationHandler"
        },
        {
          "description" : "A notification that represents a change to a GPU device in the system.",
          "name" : "MTLDeviceNotificationName",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationName"
        }
      ],
      "title" : "Locating GPUs"
    }
  ],
  "source" : "appleJSON",
  "title" : "Getting the GPU that drives a view’s display",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display"
}