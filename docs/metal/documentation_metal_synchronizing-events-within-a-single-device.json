{
  "abstract" : "Use nonshareable events to synchronize your app’s work within a single device.",
  "codeExamples" : [

  ],
  "contentHash" : "e73b0cac1d2fd47c06a11ce49c935ba74b8ec1a07718f0d9b532fcd63e46aa4a",
  "crawledAt" : "2025-12-03T03:54:36Z",
  "id" : "A4C4B184-D684-4803-AC0A-8D241A433724",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nThe following figure and code show a nonshareable event that synchronizes graphics rendering on one command queue with compute processing on another.\n\n\n\nDuring setup, the code creates a nonshareable event and two command queues. Then, to render a frame, the code encodes render commands onto the first queue and compute commands on the second queue. While the code shows these commands being encoded sequentially, in a real app, you should determine whether you can encode the commands for each command queue on a different thread.\n\nThe first render pass and first compute pass are assumed to not depend on each other’s results and modify the same data. By encoding them on different queues, the device object can schedule these commands concurrently.\n\nWhen two sets of commands have dependencies on each other, the code expresses these dependencies by signaling or waiting on the event. When each queue reaches a command that waits for an event, that queue blocks further execution until the event is signaled.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-within-a-single-device\ncrawled: 2025-12-03T03:54:36Z\n---\n\n# Synchronizing events within a single device\n\n**Article**\n\nUse nonshareable events to synchronize your app’s work within a single device.\n\n## Overview\n\nThe following figure and code show a nonshareable event that synchronizes graphics rendering on one command queue with compute processing on another.\n\n\n\n\n\nDuring setup, the code creates a nonshareable event and two command queues. Then, to render a frame, the code encodes render commands onto the first queue and compute commands on the second queue. While the code shows these commands being encoded sequentially, in a real app, you should determine whether you can encode the commands for each command queue on a different thread.\n\nThe first render pass and first compute pass are assumed to not depend on each other’s results and modify the same data. By encoding them on different queues, the device object can schedule these commands concurrently.\n\nWhen two sets of commands have dependencies on each other, the code expresses these dependencies by signaling or waiting on the event. When each queue reaches a command that waits for an event, that queue blocks further execution until the event is signaled.\n\n## Synchronizing with events\n\n- **Implementing a multistage image filter using heaps and events**: Use events to synchronize access to resources allocated on a heap.\n- **About synchronization events**: Synchronize access to resources in your app by signaling events.\n- **Synchronizing events across multiple devices or processes**: Use shareable events to synchronize your app’s work across multiple devices or processes.\n- **Synchronizing events between a GPU and the CPU**: Use shareable events to synchronize your app’s work between a GPU and the CPU.\n- **MTLEvent**: A type that synchronizes memory operations to one or more resources within a single Metal device.\n- **MTLSharedEvent**: A type that synchronizes memory operations to one or more resources across multiple CPUs, GPUs, and processes.\n- **MTLSharedEventHandle**: An instance you use to recreate a shareable event.\n- **MTLSharedEventListener**: A listener for shareable event notifications.\n- **MTLSharedEventNotificationBlock**: A block of code invoked after a shareable event’s signal value equals or exceeds a given value.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use events to synchronize access to resources allocated on a heap.",
          "name" : "Implementing a multistage image filter using heaps and events",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/implementing-a-multistage-image-filter-using-heaps-and-events"
        },
        {
          "description" : "Synchronize access to resources in your app by signaling events.",
          "name" : "About synchronization events",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/about-synchronization-events"
        },
        {
          "description" : "Use shareable events to synchronize your app’s work across multiple devices or processes.",
          "name" : "Synchronizing events across multiple devices or processes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-across-multiple-devices-or-processes"
        },
        {
          "description" : "Use shareable events to synchronize your app’s work between a GPU and the CPU.",
          "name" : "Synchronizing events between a GPU and the CPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-between-a-gpu-and-the-cpu"
        },
        {
          "description" : "A type that synchronizes memory operations to one or more resources within a single Metal device.",
          "name" : "MTLEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLEvent"
        },
        {
          "description" : "A type that synchronizes memory operations to one or more resources across multiple CPUs, GPUs, and processes.",
          "name" : "MTLSharedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEvent"
        },
        {
          "description" : "An instance you use to recreate a shareable event.",
          "name" : "MTLSharedEventHandle",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventHandle"
        },
        {
          "description" : "A listener for shareable event notifications.",
          "name" : "MTLSharedEventListener",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventListener"
        },
        {
          "description" : "A block of code invoked after a shareable event’s signal value equals or exceeds a given value.",
          "name" : "MTLSharedEventNotificationBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventNotificationBlock"
        }
      ],
      "title" : "Synchronizing with events"
    }
  ],
  "source" : "appleJSON",
  "title" : "Synchronizing events within a single device",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-within-a-single-device"
}