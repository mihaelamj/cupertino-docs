{
  "abstract" : "An instance you use to create, submit, and schedule command buffers to a specific GPU device to run the commands within those buffers.",
  "codeExamples" : [

  ],
  "contentHash" : "9058917c03f2cfae9f172f546047be0a60f8dfd081b400adce4befc5f2cf5ec3",
  "crawledAt" : "2025-12-03T12:52:27Z",
  "declaration" : {
    "code" : "protocol MTLCommandQueue : NSObjectProtocol, Sendable",
    "language" : "swift"
  },
  "id" : "1018579C-37F4-453E-9F31-DAD91D050B9C",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nA command queue maintains an ordered list of command buffers. You use a command queue to:\n\nCreate a command queue from an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance by calling its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue()] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue(maxCommandBufferCount:)] method. Typically, you create one or more command queues when your app launches and then keep them throughout your app’s lifetime.\n\nWith each [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue] instance you create, you can create [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instances for that queue by calling its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer()] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue\/makeCommandBufferWithUnretainedReferences()] method.\n\nFor more information about command buffers and encoding GPU commands to them — such as rendering images and computing data in parallel — see [doc:\/\/com.apple.metal\/documentation\/Metal\/setting-up-a-command-structure].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\ncrawled: 2025-12-03T12:52:27Z\n---\n\n# MTLCommandQueue\n\n**Protocol**\n\nAn instance you use to create, submit, and schedule command buffers to a specific GPU device to run the commands within those buffers.\n\n## Declaration\n\n```swift\nprotocol MTLCommandQueue : NSObjectProtocol, Sendable\n```\n\n## Overview\n\nA command queue maintains an ordered list of command buffers. You use a command queue to:\n\n- Create command buffers, which you fill with commands for the GPU device that creates the queue\n- Submit command buffers to run on that GPU\n\nCreate a command queue from an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance by calling its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue()] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue(maxCommandBufferCount:)] method. Typically, you create one or more command queues when your app launches and then keep them throughout your app’s lifetime.\n\nWith each [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue] instance you create, you can create [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instances for that queue by calling its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer()] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandQueue\/makeCommandBufferWithUnretainedReferences()] method.\n\n\n\nFor more information about command buffers and encoding GPU commands to them — such as rendering images and computing data in parallel — see [doc:\/\/com.apple.metal\/documentation\/Metal\/setting-up-a-command-structure].\n\n## Creating command buffers\n\n- **makeCommandBuffer(descriptor:)**: Returns a command buffer from the command queue that you configure with a descriptor.\n- **makeCommandBuffer()**: Returns a command buffer from the command queue that maintains strong references to resources.\n- **makeCommandBufferWithUnretainedReferences()**: Returns a command buffer from the command queue that doesn’t maintain strong references to resources.\n\n## Attaching residency sets\n\n- **addResidencySet(_:)**: Applies a residency set to a queue, which Metal applies to the queue’s command buffers as you commit them.\n- **addResidencySets(_:)**: Applies multiple residency sets to a queue, which Metal applies to the queue’s command buffers as you commit them.\n\n## Detaching residency sets\n\n- **removeResidencySet(_:)**: Removes a residency set from a command queue’s list, which means Metal doesn’t apply it to the queue’s command buffers as you commit them.\n- **removeResidencySets(_:)**: Removes multiple residency sets from a command queue’s list, which means Metal doesn’t apply them to the queue’s command buffers as you commit them.\n\n## Identifying the command queue\n\n- **device**: The GPU device that creates the command queue.\n- **label**: An optional name that can help you identify the command queue.\n\n## Deprecated\n\n- **insertDebugCaptureBoundary()**: Informs Xcode about when GPU Frame Capture starts and stops.\n\n## Submitting work to a GPU with Metal\n\n- **Setting up a command structure**: Discover how Metal executes commands on a GPU.\n- **MTLCommandQueueDescriptor**: A configuration that customizes the behavior for a new command queue.\n- **MTLCommandBuffer**: A container that stores a sequence of GPU commands that you encode into it.\n- **MTLCommandBufferDescriptor**: A configuration that customizes the behavior for a new command buffer.\n- **MTLCommandBufferError**: The command buffer error codes that indicate why the GPU doesn’t finish executing a command buffer.\n- **MTLCommandEncoder**: An encoder that writes GPU commands into a command buffer.\n\n## Inherits From\n\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a command buffer from the command queue that you configure with a descriptor.",
          "name" : "makeCommandBuffer(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer(descriptor:)"
        },
        {
          "description" : "Returns a command buffer from the command queue that maintains strong references to resources.",
          "name" : "makeCommandBuffer()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer()"
        },
        {
          "description" : "Returns a command buffer from the command queue that doesn’t maintain strong references to resources.",
          "name" : "makeCommandBufferWithUnretainedReferences()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBufferWithUnretainedReferences()"
        }
      ],
      "title" : "Creating command buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Applies a residency set to a queue, which Metal applies to the queue’s command buffers as you commit them.",
          "name" : "addResidencySet(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/addResidencySet(_:)"
        },
        {
          "description" : "Applies multiple residency sets to a queue, which Metal applies to the queue’s command buffers as you commit them.",
          "name" : "addResidencySets(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/addResidencySets(_:)"
        }
      ],
      "title" : "Attaching residency sets"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Removes a residency set from a command queue’s list, which means Metal doesn’t apply it to the queue’s command buffers as you commit them.",
          "name" : "removeResidencySet(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/removeResidencySet(_:)"
        },
        {
          "description" : "Removes multiple residency sets from a command queue’s list, which means Metal doesn’t apply them to the queue’s command buffers as you commit them.",
          "name" : "removeResidencySets(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/removeResidencySets(_:)"
        }
      ],
      "title" : "Detaching residency sets"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The GPU device that creates the command queue.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/device"
        },
        {
          "description" : "An optional name that can help you identify the command queue.",
          "name" : "label",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/label"
        }
      ],
      "title" : "Identifying the command queue"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Informs Xcode about when GPU Frame Capture starts and stops.",
          "name" : "insertDebugCaptureBoundary()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/insertDebugCaptureBoundary()"
        }
      ],
      "title" : "Deprecated"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Discover how Metal executes commands on a GPU.",
          "name" : "Setting up a command structure",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/setting-up-a-command-structure"
        },
        {
          "description" : "A configuration that customizes the behavior for a new command queue.",
          "name" : "MTLCommandQueueDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueueDescriptor"
        },
        {
          "description" : "A container that stores a sequence of GPU commands that you encode into it.",
          "name" : "MTLCommandBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBuffer"
        },
        {
          "description" : "A configuration that customizes the behavior for a new command buffer.",
          "name" : "MTLCommandBufferDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBufferDescriptor"
        },
        {
          "description" : "The command buffer error codes that indicate why the GPU doesn’t finish executing a command buffer.",
          "name" : "MTLCommandBufferError",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBufferError-swift.struct"
        },
        {
          "description" : "An encoder that writes GPU commands into a command buffer.",
          "name" : "MTLCommandEncoder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandEncoder"
        }
      ],
      "title" : "Submitting work to a GPU with Metal"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        },
        {
          "name" : "Sendable"
        },
        {
          "name" : "SendableMetatype"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLCommandQueue",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue"
}