{
  "abstract" : "Use the device object’s properties to determine how you perform tasks in Metal.",
  "codeExamples" : [

  ],
  "contentHash" : "64b0a3d3df70993aa63fd673badabc298c7c431811433617c9b693b9d4a2dfa5",
  "crawledAt" : "2025-12-01T09:27:33Z",
  "id" : "F10EABC8-775C-415D-BA57-6F207DFFFE7E",
  "kind" : "article",
  "module" : "Metal",
  "overview" : "## Overview\n\nGPUs don’t support a single common feature set. Instead, different GPUs support different capabilities. Newer, more powerful GPUs support more advanced features, letting you perform more complex tasks or perform the same task using a different technique the GPU can process more efficiently.\n\nYou need to determine which Metal features that a specific device object supports and use that information to choose your app’s behavior. For example, you might:\n\nThe version of Metal running on the system and the GPU you’re targeting determine which features are available. The [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] object provides information about the software and hardware capabilities for a specific GPU. To see a summary of the features available in each family, see the Metal Feature Set Tables:\n\nA new version of Metal adds multiple features to device object at the same time. You should design your app around collections of common functionality. For example, on iOS, you might design two major rendering paths: one for current and future GPUs, and one for earlier GPUs.\n\n### Determine GPU feature support\n\nMetal organizes GPUs into four major families:\n\nA GPU can be a member of more than one family; in most cases, a GPU supports one of the Common families and then one or more families specific to the build target.\n\nMore recent GPUs have higher version numbers and support larger feature sets. A higher GPU version is always a superset of an earlier version in the same GPU family. For details on the individual families and version numbers, see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLGPUFamily].\n\nThe code below shows how to test whether a GPU supports a particular GPU family:\n\n### Determine Metal version availability\n\nEach new Metal release adds new features for supported GPUs. In addition to checking for a GPU with the correct family, ensure that the features your app needs are also there. Use `available` statements to query whether the framework supports the features you need, as shown in the code below.\n\n### Find variations in a GPU family\n\nGPUs in the same family can vary in small ways. Some features aren’t supported uniformly across a family. Use the device object to test for the existence of these features using an API specific to each feature.\n\nFor example, the argument buffer feature has two tiers of support; the second tier is significantly better than the first. The code below shows how to test for tier 2 support:\n\n### Discover feature availability in earlier operating systems\n\nIf the GPU Family API isn’t available, test for features using *feature sets*. A feature set combines a Metal GPU family number with a software revision number. For example, to test for the first release of Metal that supported Apple family 4 GPUs, use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFeatureSet\/iOS_GPUFamily4_v1], as shown here:\n\nMetal added new feature set enumerations in new versions of Apple operating systems to support new software features and GPU families, so there are many different enumeration values representing different collections of features. If a GPU supports a feature set, it supports all features provided by earlier members of the same family, and all features in earlier software revisions. For example, [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFeatureSet\/iOS_GPUFamily4_v2] is version 2 of family 4, so it supports the same features as version 1, as well as all features supported by families 1, 2, and 3. You don’t need to test for those feature sets separately. Test for feature sets, from newest to oldest, until you successfully find a feature set that your app and the GPU both support.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions\ncrawled: 2025-12-01T09:27:33Z\n---\n\n# Detecting GPU features and Metal software versions\n\n**Article**\n\nUse the device object’s properties to determine how you perform tasks in Metal.\n\n## Overview\n\nGPUs don’t support a single common feature set. Instead, different GPUs support different capabilities. Newer, more powerful GPUs support more advanced features, letting you perform more complex tasks or perform the same task using a different technique the GPU can process more efficiently.\n\nYou need to determine which Metal features that a specific device object supports and use that information to choose your app’s behavior. For example, you might:\n\n- Create multiple rendering or compute paths, and have your app dynamically choose the best option for each GPU.\n- Restrict some features to specific GPUs or implement different levels of functionality. For example, in a game, you might remove shadows or reduce the complexity of shadows on older GPUs.\n- Restrict your app so that it only runs when some GPUs are available; however, you should only use this option in extreme cases.\n\nThe version of Metal running on the system and the GPU you’re targeting determine which features are available. The [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] object provides information about the software and hardware capabilities for a specific GPU. To see a summary of the features available in each family, see the Metal Feature Set Tables:\n\n- [https:\/\/developer.apple.com\/metal\/Metal-Feature-Set-Tables.pdf]\n- [https:\/\/developer.apple.com\/metal\/metal-feature-set-tables.zip]\n\nA new version of Metal adds multiple features to device object at the same time. You should design your app around collections of common functionality. For example, on iOS, you might design two major rendering paths: one for current and future GPUs, and one for earlier GPUs.\n\n### Determine GPU feature support\n\nMetal organizes GPUs into four major families:\n\n- Use the Common family to create apps that target a range of GPUs on multiple platforms.\n- Use the Apple family to create apps that target Apple GPUs.\n- Use the Mac family to create apps that target GPUs on macOS.\n- Use the Mac Catalyst family when building an iPadOS app to run on macOS.\n\nA GPU can be a member of more than one family; in most cases, a GPU supports one of the Common families and then one or more families specific to the build target.\n\nMore recent GPUs have higher version numbers and support larger feature sets. A higher GPU version is always a superset of an earlier version in the same GPU family. For details on the individual families and version numbers, see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLGPUFamily].\n\nThe code below shows how to test whether a GPU supports a particular GPU family:\n\n\n\n### Determine Metal version availability\n\nEach new Metal release adds new features for supported GPUs. In addition to checking for a GPU with the correct family, ensure that the features your app needs are also there. Use `available` statements to query whether the framework supports the features you need, as shown in the code below.\n\n\n\n### Find variations in a GPU family\n\nGPUs in the same family can vary in small ways. Some features aren’t supported uniformly across a family. Use the device object to test for the existence of these features using an API specific to each feature.\n\nFor example, the argument buffer feature has two tiers of support; the second tier is significantly better than the first. The code below shows how to test for tier 2 support:\n\n\n\n### Discover feature availability in earlier operating systems\n\nIf the GPU Family API isn’t available, test for features using *feature sets*. A feature set combines a Metal GPU family number with a software revision number. For example, to test for the first release of Metal that supported Apple family 4 GPUs, use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFeatureSet\/iOS_GPUFamily4_v1], as shown here:\n\n\n\nMetal added new feature set enumerations in new versions of Apple operating systems to support new software features and GPU families, so there are many different enumeration values representing different collections of features. If a GPU supports a feature set, it supports all features provided by earlier members of the same family, and all features in earlier software revisions. For example, [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFeatureSet\/iOS_GPUFamily4_v2] is version 2 of family 4, so it supports the same features as version 1, as well as all features supported by families 1, 2, and 3. You don’t need to test for those feature sets separately. Test for feature sets, from newest to oldest, until you successfully find a feature set that your app and the GPU both support.\n\n## Locating and inspecting a GPU device\n\n- **Getting the default GPU**: Select the system’s default GPU device on which to run your Metal code.\n- **MTLCreateSystemDefaultDevice()**: Returns the device instance Metal selects as the default.\n- **MTLDevice**: The main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.\n- **Multi-GPU systems**: Locate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select the system’s default GPU device on which to run your Metal code.",
          "name" : "Getting the default GPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-default-gpu"
        },
        {
          "description" : "Returns the device instance Metal selects as the default.",
          "name" : "MTLCreateSystemDefaultDevice()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCreateSystemDefaultDevice()"
        },
        {
          "description" : "The main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.",
          "name" : "MTLDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice"
        },
        {
          "description" : "Locate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.",
          "name" : "Multi-GPU systems",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/multi-gpu-systems"
        }
      ],
      "title" : "Locating and inspecting a GPU device"
    }
  ],
  "source" : "appleJSON",
  "title" : "Detecting GPU features and Metal software versions",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions"
}