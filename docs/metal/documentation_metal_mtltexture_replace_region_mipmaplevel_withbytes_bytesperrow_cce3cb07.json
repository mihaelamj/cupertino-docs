{
  "abstract" : "Copies a block of pixels into a section of texture slice 0.",
  "codeExamples" : [

  ],
  "contentHash" : "0265c8b3a655aab20ba46a8117389adee7de4198189d5fb76aedd863f7c86045",
  "crawledAt" : "2025-12-03T12:59:49Z",
  "declaration" : {
    "code" : "func replace(region: MTLRegion, mipmapLevel level: Int, withBytes pixelBytes: UnsafeRawPointer, bytesPerRow: Int)",
    "language" : "swift"
  },
  "id" : "2D686C27-7955-4038-9B97-E1A88D37F353",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nThis method runs on the CPU and immediately copies the pixel data into the texture. It doesn’t synchronize against any GPU memory operations to the texture. Ensure all operations that write or render to the texture complete before reading the texture’s contents using one of the following methods:\n\nIf the texture image has a compressed pixel format, only write to block-aligned regions. If the size of a dimension of region isn’t a multiple of the block size, then include both the edge block and space up to the texture dimensions in `bytesPerRow`.\n\nTo copy your data to a private texture, copy your data to a temporary texture with non-private storage, and then use an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] to copy the data to the private texture for GPU use.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLTexture\/replace(region:mipmapLevel:withBytes:bytesPerRow:)\ncrawled: 2025-12-03T12:59:49Z\n---\n\n# replace(region:mipmapLevel:withBytes:bytesPerRow:)\n\n**Instance Method**\n\nCopies a block of pixels into a section of texture slice 0.\n\n## Declaration\n\n```swift\nfunc replace(region: MTLRegion, mipmapLevel level: Int, withBytes pixelBytes: UnsafeRawPointer, bytesPerRow: Int)\n```\n\n## Parameters\n\n- **region**: The location of a block of pixels in the texture slice. The region needs to be within the dimensions of the slice.\n- **level**: A zero-indexed value that specifies which mipmap level is the destination. If the texture doesn’t have mipmaps, use `0`.\n- **pixelBytes**: A pointer to the bytes in memory to copy.\n- **bytesPerRow**: The stride, in bytes, of one row in the source data. For [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureType\/type1D] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureType\/type1DArray], use `0`. For raw and packed pixel types, the stride is the number of pixels in one row. For compressed pixel formats, the stride is the number of bytes from the beginning of one row of blocks to the beginning of the next. When source data consists of only a single row, use `0`.\n\nYour data type determines how you should compute `bytesPerRow`:\n\n- For raw or packed pixel data, use a value greater than or equal to the size of data in one row, and less than [doc:\/\/com.apple.documentation\/documentation\/Swift\/Int32\/max] `* pixel size`.\n- For compressed pixel data, use a multiple of the compression block size. When working with PowerVR Texture Compression (PVRTC), use `0.`\n\nNonzero values smaller than the texture width or not a multiple of the pixel size cause an error.\n\n## Discussion\n\nThis method runs on the CPU and immediately copies the pixel data into the texture. It doesn’t synchronize against any GPU memory operations to the texture. Ensure all operations that write or render to the texture complete before reading the texture’s contents using one of the following methods:\n\n- Synchronize on the GPU with a [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(resource:)] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(texture:slice:level:)] command in an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder].\n- Synchronize on the CPU with a callback passed to the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/addCompletedHandler(_:)] method to handle completion asynchronously, or the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/waitUntilCompleted()] method to block thread execution until the GPU work completes.\n\nIf the texture image has a compressed pixel format, only write to block-aligned regions. If the size of a dimension of region isn’t a multiple of the block size, then include both the edge block and space up to the texture dimensions in `bytesPerRow`.\n\nTo copy your data to a private texture, copy your data to a temporary texture with non-private storage, and then use an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] to copy the data to the private texture for GPU use.\n\n## Related Documentation\n\n- **MTLPixelFormat**: The data formats that describe the organization and characteristics of individual pixels in a texture.\n\n## Copying data into a texture image\n\n- **replace(region:mipmapLevel:slice:withBytes:bytesPerRow:bytesPerImage:)**: Copies pixel data into a section of a texture slice.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The data formats that describe the organization and characteristics of individual pixels in a texture.",
          "name" : "MTLPixelFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLPixelFormat"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Copies pixel data into a section of a texture slice.",
          "name" : "replace(region:mipmapLevel:slice:withBytes:bytesPerRow:bytesPerImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLTexture\/replace(region:mipmapLevel:slice:withBytes:bytesPerRow:bytesPerImage:)"
        }
      ],
      "title" : "Copying data into a texture image"
    }
  ],
  "source" : "appleJSON",
  "title" : "replace(region:mipmapLevel:withBytes:bytesPerRow:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLTexture\/replace(region:mipmapLevel:withBytes:bytesPerRow:)"
}