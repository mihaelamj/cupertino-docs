{
  "abstract" : "Learn best practices for using memory efficiently in iOS and tvOS.",
  "codeExamples" : [

  ],
  "contentHash" : "e29851266ec05faa9ffe42f3143b29b71a35f8c8e1a2db219fe80261ae2f1e91",
  "crawledAt" : "2025-12-04T02:19:17Z",
  "id" : "F823E8A0-C640-4E27-95DD-AA9301140065",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nEfficient memory usage is a critical consideration for resource-intensive Metal apps in iOS and tvOS. Create apps so they use as little memory as possible, making more memory available for other apps and system services.\n\niOS and tvOS monitor your app’s total memory usage at runtime, and if the amount exceeds a predetermined limit, the system terminates your app. This limit varies by device model, so test your app on all supported devices.\n\n### Optimize memory usage in your Metal app\n\nHere are some tips to understand how your Metal app is using memory, and best practices to reduce memory usage.\n\n**Measure memory consumption with Xcode 11 and later.** Build your app with the iOS or tvOS SDK, then use Xcode Memory Report to observe your app’s total memory footprint during execution. For more information about Xcode Memory Report, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/gathering-information-about-memory-use].\n\n**Use these tools to gain a deeper understanding of your app’s memory footprint.**\n\n**Make your assets as small as possible.** Avoid loading a large resource when a smaller one works. Use compressed texture formats. Load lower-resolution textures when running on memory-constrained devices. Consider reducing the fidelity of 3D models and compressing per-vertex data.\n\n**Simplify memory-intensive special effects.** Some effects, like shadows or motion blur, require large offscreen buffers for temporary image data. Consider lowering the resolution of these image buffers or applying fewer effects when running on memory-constrained devices.\n\n**Avoid loading unused resources.** Xcode can help you identify Metal objects that aren’t in use. Use Metal Debugger to get a GPU trace. Then navigate to the Memory view, and select the Unused filter.\n\n**Designate resources as volatile when possible.** Use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLPurgeableState\/volatile] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/setPurgeableState(_:)] for textures and buffers the operating system can safely discard under low-memory conditions, and be subsequently recreated or reloaded by your app as needed. This design means your app keeps a cache of idle resources in memory but doesn’t count them toward the memory limit.\n\n**Use memoryless texture storage for temporary-render targets.** [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/memoryless] avoids allocating regular system memory, allowing apps to store the contents of temporary render targets directly in tile memory on the GPU.\n\n**Use Metal resource heaps.** Using [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLHeap], your app can have Multiple Metal resources backed by the same memory allocation. For example, use resource heaps when transient resources are produced and consumed for each frame but aren’t all used together. Those not used together share the same memory, backed by a heap.\n\n### Additional resources\n\nThe WWDC video [https:\/\/developer.apple.com\/videos\/play\/wwdc2020\/10605\/] provides additional information about the latest memory-debugging tools and best practices to help you optimize the memory footprint of your Metal apps and games.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/reducing-the-memory-footprint-of-metal-apps\ncrawled: 2025-12-04T02:19:17Z\n---\n\n# Reducing the memory footprint of Metal apps\n\n**Article**\n\nLearn best practices for using memory efficiently in iOS and tvOS.\n\n## Overview\n\nEfficient memory usage is a critical consideration for resource-intensive Metal apps in iOS and tvOS. Create apps so they use as little memory as possible, making more memory available for other apps and system services.\n\niOS and tvOS monitor your app’s total memory usage at runtime, and if the amount exceeds a predetermined limit, the system terminates your app. This limit varies by device model, so test your app on all supported devices.\n\n### Optimize memory usage in your Metal app\n\nHere are some tips to understand how your Metal app is using memory, and best practices to reduce memory usage.\n\n**Measure memory consumption with Xcode 11 and later.** Build your app with the iOS or tvOS SDK, then use Xcode Memory Report to observe your app’s total memory footprint during execution. For more information about Xcode Memory Report, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/gathering-information-about-memory-use].\n\n**Use these tools to gain a deeper understanding of your app’s memory footprint.**\n\n- Take an [https:\/\/help.apple.com\/instruments\/mac\/current\/#\/\/apple_ref\/doc\/uid\/TP40004652-CH19-SW13] trace and look at the Metal Resource Allocations Instrument, which is part of the Metal System Trace template. For more information on working with the Metal Resource Allocations Instrument, see [https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/606\/?time=1726].\n- Capture a GPU trace with [doc:\/\/com.apple.documentation\/documentation\/Xcode\/Metal-debugger] and see a visual representation of all of a frame’s GPU resources and a table of properties for each resource with the Memory view. For detailed information about the Memory view, see [https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/606\/?time=1665].\n- Observe and take action on suggestions highlighted in the Memory insights section of the GPU trace summary. For more information on Memory insights, see [https:\/\/developer.apple.com\/videos\/play\/wwdc2020-10605\/?time=620].\n- Use the memory graph tool to help identify leaks and abandoned memory. For more information, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/DeveloperTools\/Conceptual\/debugging_with_xcode\/chapters\/special_debugging_workflows.html#\/\/apple_ref\/doc\/uid\/TP40015022-CH9-DontLinkElementID_1].\n- Query the amount of memory available to your app at runtime using the [doc:\/\/com.apple.documentation\/documentation\/os\/os_proc_available_memory] API to help you identify memory spikes.\n\n**Make your assets as small as possible.** Avoid loading a large resource when a smaller one works. Use compressed texture formats. Load lower-resolution textures when running on memory-constrained devices. Consider reducing the fidelity of 3D models and compressing per-vertex data.\n\n**Simplify memory-intensive special effects.** Some effects, like shadows or motion blur, require large offscreen buffers for temporary image data. Consider lowering the resolution of these image buffers or applying fewer effects when running on memory-constrained devices.\n\n**Avoid loading unused resources.** Xcode can help you identify Metal objects that aren’t in use. Use Metal Debugger to get a GPU trace. Then navigate to the Memory view, and select the Unused filter.\n\n**Designate resources as volatile when possible.** Use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLPurgeableState\/volatile] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/setPurgeableState(_:)] for textures and buffers the operating system can safely discard under low-memory conditions, and be subsequently recreated or reloaded by your app as needed. This design means your app keeps a cache of idle resources in memory but doesn’t count them toward the memory limit.\n\n**Use memoryless texture storage for temporary-render targets.** [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/memoryless] avoids allocating regular system memory, allowing apps to store the contents of temporary render targets directly in tile memory on the GPU.\n\n**Use Metal resource heaps.** Using [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLHeap], your app can have Multiple Metal resources backed by the same memory allocation. For example, use resource heaps when transient resources are produced and consumed for each frame but aren’t all used together. Those not used together share the same memory, backed by a heap.\n\n### Additional resources\n\nThe WWDC video [https:\/\/developer.apple.com\/videos\/play\/wwdc2020\/10605\/] provides additional information about the latest memory-debugging tools and best practices to help you optimize the memory footprint of your Metal apps and games.\n\n## Resource management\n\n- **Setting resource storage modes**: Set a storage mode that defines the memory location and access permissions of a resource.\n- **Choosing a resource storage mode for Apple GPUs**: Select an appropriate storage mode for your textures and buffers on Apple GPUs.\n- **Choosing a resource storage mode for Intel and AMD GPUs**: Select an appropriate storage mode for your textures and buffers on AMD and Intel GPUs.\n- **Copying data to a private resource**: Use a blit command encoder to copy buffer or texture data to a private resource.\n- **Synchronizing a managed resource in macOS**: Manually synchronize memory for a Metal resource in apps.\n- **Transferring data between connected GPUs**: Use high-speed connections between GPUs to transfer data quickly.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Set a storage mode that defines the memory location and access permissions of a resource.",
          "name" : "Setting resource storage modes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/setting-resource-storage-modes"
        },
        {
          "description" : "Select an appropriate storage mode for your textures and buffers on Apple GPUs.",
          "name" : "Choosing a resource storage mode for Apple GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/choosing-a-resource-storage-mode-for-apple-gpus"
        },
        {
          "description" : "Select an appropriate storage mode for your textures and buffers on AMD and Intel GPUs.",
          "name" : "Choosing a resource storage mode for Intel and AMD GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/choosing-a-resource-storage-mode-for-intel-and-amd-gpus"
        },
        {
          "description" : "Use a blit command encoder to copy buffer or texture data to a private resource.",
          "name" : "Copying data to a private resource",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/copying-data-to-a-private-resource"
        },
        {
          "description" : "Manually synchronize memory for a Metal resource in apps.",
          "name" : "Synchronizing a managed resource in macOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-a-managed-resource-in-macos"
        },
        {
          "description" : "Use high-speed connections between GPUs to transfer data quickly.",
          "name" : "Transferring data between connected GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/transferring-data-between-connected-gpus"
        }
      ],
      "title" : "Resource management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Reducing the memory footprint of Metal apps",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/reducing-the-memory-footprint-of-metal-apps"
}