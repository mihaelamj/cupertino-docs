{
  "abstract" : "Encodes an acceleration structure copy operation into the command buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "78c41370b3f86068a6e8e5d54bc62c74eac6196884f51aab39dffd2fea8c01e5",
  "crawledAt" : "2025-12-05T10:20:16Z",
  "declaration" : {
    "code" : "func copy(sourceAccelerationStructure: any MTLAccelerationStructure, destinationAccelerationStructure: any MTLAccelerationStructure)",
    "language" : "swift"
  },
  "id" : "B7FAEC7E-C957-45A6-AA76-543A2B3729B3",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nYou are responsible for ensuring the source and destination acceleration structures don’t overlap in memory. If this is an instance acceleration structure, Metal preserves references to the primitive acceleration structures it references.\n\nTypically, the destination acceleration structure is at least as large as the source acceleration structure, except in cases where you compact the source acceleration structure. In this case, you need to allocate the destination acceleration to be at least as large as the compacted size of the source acceleration structure.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTL4ComputeCommandEncoder\/copy(sourceAccelerationStructure:destinationAccelerationStructure:)\ncrawled: 2025-12-05T10:20:16Z\n---\n\n# copy(sourceAccelerationStructure:destinationAccelerationStructure:)\n\n**Instance Method**\n\nEncodes an acceleration structure copy operation into the command buffer.\n\n## Declaration\n\n```swift\nfunc copy(sourceAccelerationStructure: any MTLAccelerationStructure, destinationAccelerationStructure: any MTLAccelerationStructure)\n```\n\n## Parameters\n\n- **sourceAccelerationStructure**: Acceleration structure to copy from.\n- **destinationAccelerationStructure**: Acceleration structure to copy to.\n\n## Discussion\n\nYou are responsible for ensuring the source and destination acceleration structures don’t overlap in memory. If this is an instance acceleration structure, Metal preserves references to the primitive acceleration structures it references.\n\nTypically, the destination acceleration structure is at least as large as the source acceleration structure, except in cases where you compact the source acceleration structure. In this case, you need to allocate the destination acceleration to be at least as large as the compacted size of the source acceleration structure.\n\n## Encoding acceleration structure copy commands\n\n- **copyAndCompact(sourceAccelerationStructure:destinationAccelerationStructure:)**: Encodes a command to copy and compact an acceleration structure.\n- **writeCompactedSize(sourceAccelerationStructure:destinationBuffer:)**: Encodes a command to compute the size an acceleration structure can compact into, writing the result into a buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command to copy and compact an acceleration structure.",
          "name" : "copyAndCompact(sourceAccelerationStructure:destinationAccelerationStructure:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4ComputeCommandEncoder\/copyAndCompact(sourceAccelerationStructure:destinationAccelerationStructure:)"
        },
        {
          "description" : "Encodes a command to compute the size an acceleration structure can compact into, writing the result into a buffer.",
          "name" : "writeCompactedSize(sourceAccelerationStructure:destinationBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4ComputeCommandEncoder\/writeCompactedSize(sourceAccelerationStructure:destinationBuffer:)"
        }
      ],
      "title" : "Encoding acceleration structure copy commands"
    }
  ],
  "source" : "appleJSON",
  "title" : "copy(sourceAccelerationStructure:destinationAccelerationStructure:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4ComputeCommandEncoder\/copy(sourceAccelerationStructure:destinationAccelerationStructure:)"
}