{
  "abstract" : "Distribute precompiled GPU-specific binaries as part of your app to avoid runtime compilation of Metal shaders.",
  "codeExamples" : [

  ],
  "contentHash" : "a50735a95b0dfd5f31f2610f3535d67be56ff4389b7e1cc2f34a6d91772f01c6",
  "crawledAt" : "2025-12-02T19:44:43Z",
  "id" : "D0D323D6-216A-4D17-AA3D-339FF496944B",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nMetal supports the widest range of devices available by compiling to Metal intermediate representation (Metal IR), but this comes with a tradeoff. Metal IR libraries are smaller and more flexible, but your app still needs to compile shader functions for the device’s GPU at runtime. This isn’t always desirable; for example, you might want to precompile shaders you use for visual presentation while your app performs other loading or setup. When you’re ready to increase the size of your application bundle in exchange for avoiding runtime compilation, you can precompile shaders to *binary archives*. Binary archives are GPU-specific slices you ship individually or as part of a larger Metal library.\n\nThe Metal translator is part of the Metal compiler that produces binary archives from a combination of Metal IR and a JSON representation of your app’s pipeline state. You run the Metal translator with the `metal-tt` command in Terminal.\n\nTo get the most out of binary archives and the Metal translator, read the articles below in order, starting with [doc:\/\/com.apple.metal\/documentation\/Metal\/creating-binary-archives-from-device-built-pipeline-state-objects].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/metal-binary-archives\ncrawled: 2025-12-02T19:44:43Z\n---\n\n# Metal binary archives\n\nDistribute precompiled GPU-specific binaries as part of your app to avoid runtime compilation of Metal shaders.\n\n## Overview\n\nMetal supports the widest range of devices available by compiling to Metal intermediate representation (Metal IR), but this comes with a tradeoff. Metal IR libraries are smaller and more flexible, but your app still needs to compile shader functions for the device’s GPU at runtime. This isn’t always desirable; for example, you might want to precompile shaders you use for visual presentation while your app performs other loading or setup. When you’re ready to increase the size of your application bundle in exchange for avoiding runtime compilation, you can precompile shaders to *binary archives*. Binary archives are GPU-specific slices you ship individually or as part of a larger Metal library.\n\nThe Metal translator is part of the Metal compiler that produces binary archives from a combination of Metal IR and a JSON representation of your app’s pipeline state. You run the Metal translator with the `metal-tt` command in Terminal.\n\nTo get the most out of binary archives and the Metal translator, read the articles below in order, starting with [doc:\/\/com.apple.metal\/documentation\/Metal\/creating-binary-archives-from-device-built-pipeline-state-objects].\n\n## Working with Metal binary archives\n\n- **Creating binary archives from device-built pipeline state objects**: Write your Metal pipeline states to a binary archive at app runtime, and build binaries for any supported GPU.\n- **Manipulating Metal binary archives**: Split precompiled binaries into individual slices, and combine them back together for targeted distribution.\n- **Compiling binary archives from a custom configuration script**: Define how the Metal translator builds binary archives without precompiled binaries as a starting source.\n\n## Shader compilation\n\n- **Metal libraries**: Compile and manage Metal libraries from the command line.\n- **Metal dynamic libraries**: Create a single Metal library containing reusable code to reduce library size and avoid repeated shader compilation at runtime.\n- **MTL4Compiler**: A abstraction for a pipeline state and shader function compiler.\n- **MTL4CompilerDescriptor**: Groups together properties for creating a compiler context.\n- **MTL4CompilerTaskOptions**: The configuration options that control the behavior of a compilation task for a Metal 4 compiler instance.\n- **MTL4CompilerTaskStatus**: Represents the status of a compiler task.\n- **MTL4Archive**: A read-only container that stores pipeline states from a shader compiler.\n- **MTL4BinaryFunction**: Represents a binary function.\n- **MTL4BinaryFunctionDescriptor**: Base interface for other function-derived interfaces.\n- **MTL4BinaryFunctionOptions**: Options for configuring the creation of binary functions.\n- **MTL4PipelineStageDynamicLinkingDescriptor**: Groups together properties to drive the dynamic linking process of a pipeline stage.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Write your Metal pipeline states to a binary archive at app runtime, and build binaries for any supported GPU.",
          "name" : "Creating binary archives from device-built pipeline state objects",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/creating-binary-archives-from-device-built-pipeline-state-objects"
        },
        {
          "description" : "Split precompiled binaries into individual slices, and combine them back together for targeted distribution.",
          "name" : "Manipulating Metal binary archives",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/manipulating-metal-binary-archives"
        },
        {
          "description" : "Define how the Metal translator builds binary archives without precompiled binaries as a starting source.",
          "name" : "Compiling binary archives from a custom configuration script",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/compiling-binary-archives-from-a-custom-configuration-script"
        }
      ],
      "title" : "Working with Metal binary archives"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Compile and manage Metal libraries from the command line.",
          "name" : "Metal libraries",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/metal-libraries"
        },
        {
          "description" : "Create a single Metal library containing reusable code to reduce library size and avoid repeated shader compilation at runtime.",
          "name" : "Metal dynamic libraries",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/metal-dynamic-libraries"
        },
        {
          "description" : "A abstraction for a pipeline state and shader function compiler.",
          "name" : "MTL4Compiler",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4Compiler"
        },
        {
          "description" : "Groups together properties for creating a compiler context.",
          "name" : "MTL4CompilerDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4CompilerDescriptor"
        },
        {
          "description" : "The configuration options that control the behavior of a compilation task for a Metal 4 compiler instance.",
          "name" : "MTL4CompilerTaskOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4CompilerTaskOptions"
        },
        {
          "description" : "Represents the status of a compiler task.",
          "name" : "MTL4CompilerTaskStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4CompilerTaskStatus"
        },
        {
          "description" : "A read-only container that stores pipeline states from a shader compiler.",
          "name" : "MTL4Archive",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4Archive"
        },
        {
          "description" : "Represents a binary function.",
          "name" : "MTL4BinaryFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4BinaryFunction"
        },
        {
          "description" : "Base interface for other function-derived interfaces.",
          "name" : "MTL4BinaryFunctionDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4BinaryFunctionDescriptor"
        },
        {
          "description" : "Options for configuring the creation of binary functions.",
          "name" : "MTL4BinaryFunctionOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4BinaryFunctionOptions"
        },
        {
          "description" : "Groups together properties to drive the dynamic linking process of a pipeline stage.",
          "name" : "MTL4PipelineStageDynamicLinkingDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4PipelineStageDynamicLinkingDescriptor"
        }
      ],
      "title" : "Shader compilation"
    }
  ],
  "source" : "appleJSON",
  "title" : "Metal binary archives",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/metal-binary-archives"
}