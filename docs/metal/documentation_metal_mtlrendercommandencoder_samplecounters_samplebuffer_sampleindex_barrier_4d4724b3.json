{
  "abstract" : "Encodes a command that samples hardware counters during the render pass and stores the data into a counter sample buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "300e0e5cf069b855f1ae1f33a2643fe40cb7b57637881f010ff25cbcbef71ebe",
  "crawledAt" : "2025-12-04T23:38:17Z",
  "declaration" : {
    "code" : "func sampleCounters(sampleBuffer: any MTLCounterSampleBuffer, sampleIndex: Int, barrier: Bool)",
    "language" : "swift"
  },
  "id" : "4AEDEB90-2D0A-4062-8C81-AD97B13019DF",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/sampleCounters(sampleBuffer:sampleIndex:barrier:)\ncrawled: 2025-12-04T23:38:17Z\n---\n\n# sampleCounters(sampleBuffer:sampleIndex:barrier:)\n\n**Instance Method**\n\nEncodes a command that samples hardware counters during the render pass and stores the data into a counter sample buffer.\n\n## Declaration\n\n```swift\nfunc sampleCounters(sampleBuffer: any MTLCounterSampleBuffer, sampleIndex: Int, barrier: Bool)\n```\n\n## Parameters\n\n- **sampleBuffer**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCounterSampleBuffer] instance that stores the GPU hardware data.\n- **sampleIndex**: An index within `sampleBuffer` the command stores the data to.\n- **barrier**: A Boolean value that indicates whether the command inserts a barrier before sampling the counterâ€™s data.\n\nA barrier ensures that the commands you encode before this one complete before the GPU samples the hardware counters, but can negatively impact runtime performance.\n\nRunning this command without a barrier means the GPU can sample counters concurrently with other commands from the encoder.\n\nEither way, the `barrier` parameter for the command has no impact on sampling commands from other passes.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "sampleCounters(sampleBuffer:sampleIndex:barrier:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/sampleCounters(sampleBuffer:sampleIndex:barrier:)"
}