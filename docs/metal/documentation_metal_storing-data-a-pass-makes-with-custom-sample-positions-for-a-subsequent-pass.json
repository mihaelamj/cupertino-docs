{
  "abstract" : "Inform Metal when your app uses programmable sample positions for its depth render targets or copies MSAA depth data.",
  "codeExamples" : [

  ],
  "contentHash" : "e56d8bec25b00bac654cfc8dcc28c3e65b9f0210df87aeeadd8445b04390b37c",
  "crawledAt" : "2025-12-03T12:53:42Z",
  "id" : "BDC173EF-1C68-401A-8129-6F41E8429205",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nA render or compute pass usually stores its target’s depth data in a compressed format. Any subsequent pass has to use the correct sample positions to decompress the data before reading it. You can store depth data in a representation that uses arbitrary sample positions (see [doc:\/\/com.apple.metal\/documentation\/Metal\/positioning-samples-programmatically]).\n\nWhen your app uses custom sampling positions, inform Metal by setting the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassColorAttachmentDescriptor] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassDepthAttachmentDescriptor] instance’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/storeActionOptions] property to [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreActionOptions\/customSamplePositions]. This setting tells Metal that any subsequent pass that reads the attachment may not know the sample positions the current pass uses to generate the data. Examples of a pass that can use custom sample positions include the following:\n\nIn this scenario, Metal may decompress the depth render target and store the uncompressed data.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/storing-data-a-pass-makes-with-custom-sample-positions-for-a-subsequent-pass\ncrawled: 2025-12-03T12:53:42Z\n---\n\n# Storing data a pass makes with custom sample positions for a subsequent pass\n\n**Article**\n\nInform Metal when your app uses programmable sample positions for its depth render targets or copies MSAA depth data.\n\n## Overview\n\nA render or compute pass usually stores its target’s depth data in a compressed format. Any subsequent pass has to use the correct sample positions to decompress the data before reading it. You can store depth data in a representation that uses arbitrary sample positions (see [doc:\/\/com.apple.metal\/documentation\/Metal\/positioning-samples-programmatically]).\n\n\n\nWhen your app uses custom sampling positions, inform Metal by setting the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassColorAttachmentDescriptor] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassDepthAttachmentDescriptor] instance’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/storeActionOptions] property to [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreActionOptions\/customSamplePositions]. This setting tells Metal that any subsequent pass that reads the attachment may not know the sample positions the current pass uses to generate the data. Examples of a pass that can use custom sample positions include the following:\n\n- A fragment shader that uses unique, programmable sample positions\n- A blit pass that copies MSAA depth data to another resource\n\nIn this scenario, Metal may decompress the depth render target and store the uncompressed data.\n\n\n\n## Advanced multisampling\n\n- **Positioning samples programmatically**: Configure the position of samples when rendering to a multisampled render target.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure the position of samples when rendering to a multisampled render target.",
          "name" : "Positioning samples programmatically",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/positioning-samples-programmatically"
        }
      ],
      "title" : "Advanced multisampling"
    }
  ],
  "source" : "appleJSON",
  "title" : "Storing data a pass makes with custom sample positions for a subsequent pass",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/storing-data-a-pass-makes-with-custom-sample-positions-for-a-subsequent-pass"
}