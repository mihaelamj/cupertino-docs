{
  "abstract" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices, starting with a custom vertex and instance.",
  "codeExamples" : [

  ],
  "contentHash" : "1fd5a125d601edcda7f3d45f078e04b042727b1f5a7545bdf09e23d1d3384dfa",
  "crawledAt" : "2025-12-04T23:37:38Z",
  "declaration" : {
    "code" : "func drawIndexedPrimitives(primitiveType: MTLPrimitiveType, indexCount: Int, indexType: MTLIndexType, indexBuffer: MTLGPUAddress, indexBufferLength: Int, instanceCount: Int, baseVertex: Int, baseInstance: Int)",
    "language" : "swift"
  },
  "id" : "3B06667B-05B1-4333-9CFF-7E0F95C03CBB",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nUse this method to perform instanced indexed drawing, where an index buffer determines how Metal assembles primitives whilst customizing the base vertex and base instance value Metal passes to the vertex shader function.\n\nThe command assigns each drawing instance a unique `instance_id` value that increases from `baseInstance` through `(baseInstance + instanceCount - 1)`. Your shader can use this value to identify which instance the vertex belongs to.\n\nMetal imposes some restrictions on the index buffer’s address, which needs to be 2- or 4-byte aligned, and its length in bytes, which needs to be a multiple of 2 or 4, depending on whether the format of the index is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32].\n\nUse an instance of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResidencySet] to mark residency of the index buffer the `indexBuffer` parameter references.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder\/drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:baseVertex:baseInstance:)\ncrawled: 2025-12-04T23:37:38Z\n---\n\n# drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:baseVertex:baseInstance:)\n\n**Instance Method**\n\nEncodes a draw command that renders multiple instances of a geometric primitive with indexed vertices, starting with a custom vertex and instance.\n\n## Declaration\n\n```swift\nfunc drawIndexedPrimitives(primitiveType: MTLPrimitiveType, indexCount: Int, indexType: MTLIndexType, indexBuffer: MTLGPUAddress, indexBufferLength: Int, instanceCount: Int, baseVertex: Int, baseInstance: Int)\n```\n\n## Parameters\n\n- **primitiveType**: A [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLPrimitiveType] representing how the command interprets vertex argument data.\n- **indexCount**: An integer that represents the number of vertices the command reads from `indexBuffer`.\n- **indexType**: A [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType] instance that represents the index format.\n- **indexBuffer**: GPUAddress of a [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance that contains `indexCount` indices of `indexType` format. You are responsible for ensuring this address is aligned to 2 bytes if the `indexType` format is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16], and aligned to 4 bytes if the format is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32].\n- **indexBufferLength**: An integer that represents the length of `indexBuffer`, in bytes. You are responsible for ensuring this this size is a multiple of 2 if the `indexType` format is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16], and a multiple of 4 if the format is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32]. If this draw call causes Metal to read indices at or beyond the `indexBufferLength`, Metal continues to execute them assigning a value of `0` to the `vertex_id` attribute.\n- **instanceCount**: An integer that represents the number of times the command draws `primitiveType` with `indexCount` vertices.\n- **baseVertex**: The lowest value the command passes to your vertex shader functions’s parameter with the `vertex_id` attribute. Metal disregards this value and assigns `0` to the `vertex_id` attribute for all primitives that require loading indices at a byte offset of `indexBufferLength` or greater.\n- **baseInstance**: The lowest value the command passes to your vertex shader’s parameter with the `instance_id` attribute.\n\n## Discussion\n\nUse this method to perform instanced indexed drawing, where an index buffer determines how Metal assembles primitives whilst customizing the base vertex and base instance value Metal passes to the vertex shader function.\n\nThe command assigns each drawing instance a unique `instance_id` value that increases from `baseInstance` through `(baseInstance + instanceCount - 1)`. Your shader can use this value to identify which instance the vertex belongs to.\n\nMetal imposes some restrictions on the index buffer’s address, which needs to be 2- or 4-byte aligned, and its length in bytes, which needs to be a multiple of 2 or 4, depending on whether the format of the index is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32].\n\nUse an instance of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResidencySet] to mark residency of the index buffer the `indexBuffer` parameter references.\n\n## Drawing with indexed vertices\n\n- **drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:)**: Encodes a draw command that renders an instance of a geometric primitive with indexed vertices.\n- **drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:)**: Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices.\n- **drawIndexedPrimitives(primitiveType:indexType:indexBuffer:indexBufferLength:indirectBuffer:)**: Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices and indirect arguments.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a draw command that renders an instance of a geometric primitive with indexed vertices.",
          "name" : "drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder\/drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:)"
        },
        {
          "description" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices.",
          "name" : "drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder\/drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:)"
        },
        {
          "description" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices and indirect arguments.",
          "name" : "drawIndexedPrimitives(primitiveType:indexType:indexBuffer:indexBufferLength:indirectBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder\/drawIndexedPrimitives(primitiveType:indexType:indexBuffer:indexBufferLength:indirectBuffer:)"
        }
      ],
      "title" : "Drawing with indexed vertices"
    }
  ],
  "source" : "appleJSON",
  "title" : "drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:baseVertex:baseInstance:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder\/drawIndexedPrimitives(primitiveType:indexCount:indexType:indexBuffer:indexBufferLength:instanceCount:baseVertex:baseInstance:)"
}