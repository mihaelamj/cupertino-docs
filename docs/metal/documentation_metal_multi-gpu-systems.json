{
  "abstract" : "Locate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.",
  "codeExamples" : [

  ],
  "contentHash" : "81a452a47d414c8f07feac310b248c93d4124e991a37a69f3e90a93048c2a5d5",
  "crawledAt" : "2025-12-03T04:19:42Z",
  "id" : "001B671F-95B1-4847-A26F-E8DFB0A5DC54",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nYour app can submit work to any or all of the GPUs of a system that supports multiple GPUs. For example, every Mac notebook, such as a MacBook Pro, has an internal GPU, but some have two.\n\n\n\nA Mac may have a Thunderbolt connection to an external GPU and its displays.\n\n\n\nSome systems may have even more complicated arrangements of internal and multiple external GPUs and displays.\n\n\n\nFor more information about Mac configurations with GPUs and displays, see [doc:\/\/com.apple.metal\/documentation\/Metal\/assessing-multi-gpu-and-multi-display-setups-on-an-intel-based-mac].\n\nStart by locating all GPUs in a system and identifying their types (see [doc:\/\/com.apple.metal\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac]). Alternatively, you can locate a specific GPU that’s driving a display (see [doc:\/\/com.apple.metal\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display]).\n\nWhen selecting a GPU, consider its memory bandwidth and the storage mode options for its memory resources (see [doc:\/\/com.apple.metal\/documentation\/Metal\/adjusting-for-gpu-memory-bandwidth-tradeoffs]).\n\nFor examples of how to use external GPUs in your graphics rendering or compute processing workflows, see the following:\n\nFor more information about external GPU configurations, see [https:\/\/support.apple.com\/kb\/HT208544].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/multi-gpu-systems\ncrawled: 2025-12-03T04:19:42Z\n---\n\n# Multi-GPU systems\n\n**API Collection**\n\nLocate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.\n\n## Overview\n\nYour app can submit work to any or all of the GPUs of a system that supports multiple GPUs. For example, every Mac notebook, such as a MacBook Pro, has an internal GPU, but some have two.\n\n\n\nA Mac may have a Thunderbolt connection to an external GPU and its displays.\n\n\n\nSome systems may have even more complicated arrangements of internal and multiple external GPUs and displays.\n\n\n\nFor more information about Mac configurations with GPUs and displays, see [doc:\/\/com.apple.metal\/documentation\/Metal\/assessing-multi-gpu-and-multi-display-setups-on-an-intel-based-mac].\n\nStart by locating all GPUs in a system and identifying their types (see [doc:\/\/com.apple.metal\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac]). Alternatively, you can locate a specific GPU that’s driving a display (see [doc:\/\/com.apple.metal\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display]).\n\nWhen selecting a GPU, consider its memory bandwidth and the storage mode options for its memory resources (see [doc:\/\/com.apple.metal\/documentation\/Metal\/adjusting-for-gpu-memory-bandwidth-tradeoffs]).\n\nFor examples of how to use external GPUs in your graphics rendering or compute processing workflows, see the following:\n\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/selecting-device-objects-for-graphics-rendering]\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/selecting-device-objects-for-compute-processing]\n\nFor more information about external GPU configurations, see [https:\/\/support.apple.com\/kb\/HT208544].\n\n\n\n## Locating GPUs\n\n- **Finding multiple GPUs on an Intel-based Mac**: Locate, identify, and choose suitable GPUs for your app.\n- **Getting the GPU that drives a view’s display**: Keep up to date with the optimal device for your display.\n- **MTLCopyAllDevices()**: Returns an array of all the Metal device instances in the system.\n- **MTLCopyAllDevicesWithObserver(handler:)**: Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.\n- **MTLRemoveDeviceObserver(_:)**: Removes a registered observer of device notifications.\n- **CGDirectDisplayCopyCurrentMetalDevice(_:)**: Returns the GPU device instance that’s currently driving a display.\n- **MTLDeviceNotificationHandler**: A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.\n- **MTLDeviceNotificationName**: A notification that represents a change to a GPU device in the system.\n\n## Selecting GPUs\n\n- **Adjusting for GPU memory bandwidth tradeoffs**: Choose a suitable GPU and memory storage mode for tasks based on that GPU’s memory bandwidth on a Mac.\n- **Assessing multi-GPU and multi-display setups on an Intel-based Mac**: Learn the possible GPU and display configurations for a Mac and their limitations.\n- **Selecting device objects for graphics rendering**: Switch dynamically between multiple GPUs to efficiently render to a display.\n- **Selecting device objects for compute processing**: Switch dynamically between multiple GPUs to efficiently execute a compute-intensive simulation.\n\n## Working with external GPUs\n\n- **Handling external GPU additions and removals**: Register and respond to external GPU notifications that a person initiates.\n- **Transferring data between connected GPUs**: Use high-speed connections between GPUs to transfer data quickly.\n\n## Locating and inspecting a GPU device\n\n- **Getting the default GPU**: Select the system’s default GPU device on which to run your Metal code.\n- **Detecting GPU features and Metal software versions**: Use the device object’s properties to determine how you perform tasks in Metal.\n- **MTLCreateSystemDefaultDevice()**: Returns the device instance Metal selects as the default.\n- **MTLDevice**: The main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locate, identify, and choose suitable GPUs for your app.",
          "name" : "Finding multiple GPUs on an Intel-based Mac",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac"
        },
        {
          "description" : "Keep up to date with the optimal device for your display.",
          "name" : "Getting the GPU that drives a view’s display",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display"
        },
        {
          "description" : "Returns an array of all the Metal device instances in the system.",
          "name" : "MTLCopyAllDevices()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevices()"
        },
        {
          "description" : "Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.",
          "name" : "MTLCopyAllDevicesWithObserver(handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevicesWithObserver(handler:)"
        },
        {
          "description" : "Removes a registered observer of device notifications.",
          "name" : "MTLRemoveDeviceObserver(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)"
        },
        {
          "description" : "Returns the GPU device instance that’s currently driving a display.",
          "name" : "CGDirectDisplayCopyCurrentMetalDevice(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreGraphics\/CGDirectDisplayCopyCurrentMetalDevice(_:)"
        },
        {
          "description" : "A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.",
          "name" : "MTLDeviceNotificationHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationHandler"
        },
        {
          "description" : "A notification that represents a change to a GPU device in the system.",
          "name" : "MTLDeviceNotificationName",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationName"
        }
      ],
      "title" : "Locating GPUs"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Choose a suitable GPU and memory storage mode for tasks based on that GPU’s memory bandwidth on a Mac.",
          "name" : "Adjusting for GPU memory bandwidth tradeoffs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/adjusting-for-gpu-memory-bandwidth-tradeoffs"
        },
        {
          "description" : "Learn the possible GPU and display configurations for a Mac and their limitations.",
          "name" : "Assessing multi-GPU and multi-display setups on an Intel-based Mac",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/assessing-multi-gpu-and-multi-display-setups-on-an-intel-based-mac"
        },
        {
          "description" : "Switch dynamically between multiple GPUs to efficiently render to a display.",
          "name" : "Selecting device objects for graphics rendering",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/selecting-device-objects-for-graphics-rendering"
        },
        {
          "description" : "Switch dynamically between multiple GPUs to efficiently execute a compute-intensive simulation.",
          "name" : "Selecting device objects for compute processing",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/selecting-device-objects-for-compute-processing"
        }
      ],
      "title" : "Selecting GPUs"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Register and respond to external GPU notifications that a person initiates.",
          "name" : "Handling external GPU additions and removals",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/handling-external-gpu-additions-and-removals"
        },
        {
          "description" : "Use high-speed connections between GPUs to transfer data quickly.",
          "name" : "Transferring data between connected GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/transferring-data-between-connected-gpus"
        }
      ],
      "title" : "Working with external GPUs"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select the system’s default GPU device on which to run your Metal code.",
          "name" : "Getting the default GPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-default-gpu"
        },
        {
          "description" : "Use the device object’s properties to determine how you perform tasks in Metal.",
          "name" : "Detecting GPU features and Metal software versions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions"
        },
        {
          "description" : "Returns the device instance Metal selects as the default.",
          "name" : "MTLCreateSystemDefaultDevice()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCreateSystemDefaultDevice()"
        },
        {
          "description" : "The main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.",
          "name" : "MTLDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice"
        }
      ],
      "title" : "Locating and inspecting a GPU device"
    }
  ],
  "source" : "appleJSON",
  "title" : "Multi-GPU systems",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/multi-gpu-systems"
}