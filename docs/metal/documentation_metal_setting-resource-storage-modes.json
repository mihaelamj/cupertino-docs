{
  "abstract" : "Set a storage mode that defines the memory location and access permissions of a resource.",
  "codeExamples" : [

  ],
  "contentHash" : "8be652dabab51f854f0ccb49d6d6d3fff9301b3b2a020e4e1935ed84244e2242",
  "crawledAt" : "2025-12-02T05:49:33Z",
  "id" : "C16CD49B-E6F4-4C64-8E99-87FCFD3EA2C9",
  "kind" : "article",
  "module" : "Metal",
  "overview" : "## Overview\n\nStorage modes are only set when creating an instance, and the system default allows for access to memory from both the CPU and GPU. Metal selects the default mode for resources depending on hardware.\n\nYou perform the same synchronization tasks to ensure GPU and CPU memory coherency in both default modes. To check for GPU architecture and capabilities, use the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/supportsFamily(_:)] method instead of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/storageMode] property. See [doc:\/\/com.apple.metal\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions] for more information.\n\nUse [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/memoryless], only available on Apple silicon, when you manage your own storage, or want to run a GPU task that requires temporary resources. For tasks that share memory on the GPU, use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/private] storage. This article includes examples of how to set the storage mode for a buffer or texture.\n\nFor more guidance on which mode to choose, see [doc:\/\/com.apple.metal\/documentation\/Metal\/choosing-a-resource-storage-mode-for-apple-gpus] and [doc:\/\/com.apple.metal\/documentation\/Metal\/choosing-a-resource-storage-mode-for-intel-and-amd-gpus].\n\n### Set a storage mode for a buffer\n\nCreate a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] with the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeBuffer(length:options:)] method and set its storage mode in the method’s `options` parameter.\n\n### Set a storage mode for a texture\n\nCreate a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureDescriptor] and set its storage mode in the descriptor’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/storageMode] property. Then create a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTexture] with the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeTexture(descriptor:)] method.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/setting-resource-storage-modes\ncrawled: 2025-12-02T05:49:33Z\n---\n\n# Setting resource storage modes\n\n**Article**\n\nSet a storage mode that defines the memory location and access permissions of a resource.\n\n## Overview\n\nStorage modes are only set when creating an instance, and the system default allows for access to memory from both the CPU and GPU. Metal selects the default mode for resources depending on hardware.\n\n- For Apple silicon GPUs the default is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/shared].\n- For Intel-based Mac computers, the default is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/managed] for all [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTexture] instances and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instances attached to discrete GPUs. [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instances using the integrated GPU have [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/shared] as their default.\n\n\n\nYou perform the same synchronization tasks to ensure GPU and CPU memory coherency in both default modes. To check for GPU architecture and capabilities, use the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/supportsFamily(_:)] method instead of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/storageMode] property. See [doc:\/\/com.apple.metal\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions] for more information.\n\nUse [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/memoryless], only available on Apple silicon, when you manage your own storage, or want to run a GPU task that requires temporary resources. For tasks that share memory on the GPU, use [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/private] storage. This article includes examples of how to set the storage mode for a buffer or texture.\n\nFor more guidance on which mode to choose, see [doc:\/\/com.apple.metal\/documentation\/Metal\/choosing-a-resource-storage-mode-for-apple-gpus] and [doc:\/\/com.apple.metal\/documentation\/Metal\/choosing-a-resource-storage-mode-for-intel-and-amd-gpus].\n\n### Set a storage mode for a buffer\n\nCreate a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] with the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeBuffer(length:options:)] method and set its storage mode in the method’s `options` parameter.\n\n\n\n\n\n### Set a storage mode for a texture\n\nCreate a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureDescriptor] and set its storage mode in the descriptor’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLResource\/storageMode] property. Then create a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTexture] with the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeTexture(descriptor:)] method.\n\n\n\n## Resource management\n\n- **Choosing a resource storage mode for Apple GPUs**: Select an appropriate storage mode for your textures and buffers on Apple GPUs.\n- **Choosing a resource storage mode for Intel and AMD GPUs**: Select an appropriate storage mode for your textures and buffers on AMD and Intel GPUs.\n- **Copying data to a private resource**: Use a blit command encoder to copy buffer or texture data to a private resource.\n- **Synchronizing a managed resource in macOS**: Manually synchronize memory for a Metal resource in apps.\n- **Transferring data between connected GPUs**: Use high-speed connections between GPUs to transfer data quickly.\n- **Reducing the memory footprint of Metal apps**: Learn best practices for using memory efficiently in iOS and tvOS.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select an appropriate storage mode for your textures and buffers on Apple GPUs.",
          "name" : "Choosing a resource storage mode for Apple GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/choosing-a-resource-storage-mode-for-apple-gpus"
        },
        {
          "description" : "Select an appropriate storage mode for your textures and buffers on AMD and Intel GPUs.",
          "name" : "Choosing a resource storage mode for Intel and AMD GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/choosing-a-resource-storage-mode-for-intel-and-amd-gpus"
        },
        {
          "description" : "Use a blit command encoder to copy buffer or texture data to a private resource.",
          "name" : "Copying data to a private resource",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/copying-data-to-a-private-resource"
        },
        {
          "description" : "Manually synchronize memory for a Metal resource in apps.",
          "name" : "Synchronizing a managed resource in macOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-a-managed-resource-in-macos"
        },
        {
          "description" : "Use high-speed connections between GPUs to transfer data quickly.",
          "name" : "Transferring data between connected GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/transferring-data-between-connected-gpus"
        },
        {
          "description" : "Learn best practices for using memory efficiently in iOS and tvOS.",
          "name" : "Reducing the memory footprint of Metal apps",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/reducing-the-memory-footprint-of-metal-apps"
        }
      ],
      "title" : "Resource management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Setting resource storage modes",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/setting-resource-storage-modes"
}