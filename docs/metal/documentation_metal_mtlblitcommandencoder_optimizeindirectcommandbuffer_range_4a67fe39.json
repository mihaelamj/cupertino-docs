{
  "abstract" : "Encodes a command that can improve the performance of a range of commands within an indirect command buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "5ae3fa7a6842d33a0f2aecd0088956ca18d9b9e6948e4c3045f14ed7bc473572",
  "crawledAt" : "2025-12-05T11:53:03Z",
  "declaration" : {
    "code" : "func optimizeIndirectCommandBuffer(_ buffer: any MTLIndirectCommandBuffer, range: Range<Int>)",
    "language" : "swift"
  },
  "id" : "0CC817BF-EF14-4B72-B076-790F32BA28DA",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nThis command can reduce the time it takes the GPU to run the commands within an indirect command buffer by removing its redundancies. For example, an indirect command buffer may have empty commands or commands that duplicate identical state. Redundancies like these can come from multiple compute functions that encode commands in parallel, which can sometimes reset commands or configure identical states multiple times.\n\nYou can’t run any commands that start or end at an index within that range, or that cross into another optimized range. However, you can reuse the range you optimize by resetting it and then encoding new commands to it.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeIndirectCommandBuffer(_:range:)\ncrawled: 2025-12-05T11:53:03Z\n---\n\n# optimizeIndirectCommandBuffer(_:range:)\n\n**Instance Method**\n\nEncodes a command that can improve the performance of a range of commands within an indirect command buffer.\n\n## Declaration\n\n```swift\nfunc optimizeIndirectCommandBuffer(_ buffer: any MTLIndirectCommandBuffer, range: Range<Int>)\n```\n\n## Parameters\n\n- **buffer**: An indirect command buffer the command optimizes.\n- **range**: A range of commands within `indirectCommandBuffer`.\n\n## Discussion\n\nThis command can reduce the time it takes the GPU to run the commands within an indirect command buffer by removing its redundancies. For example, an indirect command buffer may have empty commands or commands that duplicate identical state. Redundancies like these can come from multiple compute functions that encode commands in parallel, which can sometimes reset commands or configure identical states multiple times.\n\n\n\nYou can’t run any commands that start or end at an index within that range, or that cross into another optimized range. However, you can reuse the range you optimize by resetting it and then encoding new commands to it.\n\n## Managing indirect command buffers\n\n- **copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)**: Encodes a command that copies commands from one indirect command buffer into another.\n- **resetCommandsInBuffer(_:range:)**: Encodes a command that resets a range of commands in an indirect command buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies commands from one indirect command buffer into another.",
          "name" : "copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)"
        },
        {
          "description" : "Encodes a command that resets a range of commands in an indirect command buffer.",
          "name" : "resetCommandsInBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resetCommandsInBuffer(_:range:)"
        }
      ],
      "title" : "Managing indirect command buffers"
    }
  ],
  "source" : "appleJSON",
  "title" : "optimizeIndirectCommandBuffer(_:range:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeIndirectCommandBuffer(_:range:)"
}