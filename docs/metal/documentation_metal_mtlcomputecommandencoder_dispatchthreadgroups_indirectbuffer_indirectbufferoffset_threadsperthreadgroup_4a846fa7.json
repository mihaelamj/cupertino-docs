{
  "abstract" : "Encodes a dispatch call for a compute pass, using an indirect buffer that defines the size of a grid that aligns to threadgroup boundaries.",
  "codeExamples" : [

  ],
  "contentHash" : "3b648d3fd45454deeba5c21bae42f7610103516d863461882cd896ccb95d43fe",
  "crawledAt" : "2025-12-05T10:20:46Z",
  "declaration" : {
    "code" : "func dispatchThreadgroups(indirectBuffer: any MTLBuffer, indirectBufferOffset: Int, threadsPerThreadgroup: MTLSize)",
    "language" : "swift"
  },
  "id" : "512D4B14-1153-42AF-B4F0-AEC2A9E4F36A",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nThe GPU fetches parameters from the indirect buffer just before the thread grid starts. This process lets the compute function run based on GPU feedback, without latency from data transfer between the CPU and the GPU.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/dispatchThreadgroups(indirectBuffer:indirectBufferOffset:threadsPerThreadgroup:)\ncrawled: 2025-12-05T10:20:46Z\n---\n\n# dispatchThreadgroups(indirectBuffer:indirectBufferOffset:threadsPerThreadgroup:)\n\n**Instance Method**\n\nEncodes a dispatch call for a compute pass, using an indirect buffer that defines the size of a grid that aligns to threadgroup boundaries.\n\n## Declaration\n\n```swift\nfunc dispatchThreadgroups(indirectBuffer: any MTLBuffer, indirectBufferOffset: Int, threadsPerThreadgroup: MTLSize)\n```\n\n## Parameters\n\n- **indirectBuffer**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance providing compute parameters. Lay out the data in this buffer as described in the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDispatchThreadgroupsIndirectArguments] structure.\n- **indirectBufferOffset**: Where the data begins, in bytes, from the start of the buffer. This value needs to be a multiple of `4`.\n- **threadsPerThreadgroup**: The number of threads in one threadgroup, in each dimension.\n\n## Discussion\n\nThe GPU fetches parameters from the indirect buffer just before the thread grid starts. This process lets the compute function run based on GPU feedback, without latency from data transfer between the CPU and the GPU.\n\n## Dispatching from indirect command buffers\n\n- **executeCommandsInBuffer(_:range:)**: Encodes an instruction to run commands from an indirect buffer.\n- **executeCommandsInBuffer(_:indirectBuffer:offset:)**: Encodes an instruction to run commands from an indirect buffer, using another buffer to provide the command range.\n- **executeCommands(in:indirectBuffer:indirectBufferOffset:)**: Encodes an instruction to run commands from an indirect buffer, using another buffer to provide the command range.\n- **executeCommands(in:with:)**: Encodes an instruction to run commands from an indirect buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes an instruction to run commands from an indirect buffer.",
          "name" : "executeCommandsInBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/executeCommandsInBuffer(_:range:)"
        },
        {
          "description" : "Encodes an instruction to run commands from an indirect buffer, using another buffer to provide the command range.",
          "name" : "executeCommandsInBuffer(_:indirectBuffer:offset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/executeCommandsInBuffer(_:indirectBuffer:offset:)"
        },
        {
          "description" : "Encodes an instruction to run commands from an indirect buffer, using another buffer to provide the command range.",
          "name" : "executeCommands(in:indirectBuffer:indirectBufferOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/executeCommands(in:indirectBuffer:indirectBufferOffset:)"
        },
        {
          "description" : "Encodes an instruction to run commands from an indirect buffer.",
          "name" : "executeCommands(in:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/executeCommands(in:with:)"
        }
      ],
      "title" : "Dispatching from indirect command buffers"
    }
  ],
  "source" : "appleJSON",
  "title" : "dispatchThreadgroups(indirectBuffer:indirectBufferOffset:threadsPerThreadgroup:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLComputeCommandEncoder\/dispatchThreadgroups(indirectBuffer:indirectBufferOffset:threadsPerThreadgroup:)"
}