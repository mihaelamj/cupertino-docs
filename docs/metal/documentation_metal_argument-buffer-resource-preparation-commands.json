{
  "abstract" : "Load individual resources and multiple resources within a heap into GPU memory so that they’re available to shaders through argument buffers.",
  "codeExamples" : [

  ],
  "contentHash" : "d89a0bc12cb2ca42148cfef71537d90726f95fb13b093e763035a2cd9d19315c",
  "crawledAt" : "2025-12-04T23:38:11Z",
  "id" : "C581A4A1-25AF-499F-B331-E56FE9269048",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nThese methods encode commands that load resources into GPU memory, making them accessible to your shaders through argument buffers. To load an individual resource, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/useResource(_:usage:stages:)] method, or another resource-based method. Alternatively, you can load all the resources within a heap by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/useHeap(_:stages:)] method or another heap-based method.\n\nTo give shaders write or read\/write access to specific resources within a heap, call a resource-based method after the heap-based method. Metal combines usage modes you set for a resource through both heap and resource methods.\n\nFor more information, see [doc:\/\/com.apple.metal\/documentation\/Metal\/improving-cpu-performance-by-using-argument-buffers].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/argument-buffer-resource-preparation-commands\ncrawled: 2025-12-04T23:38:11Z\n---\n\n# Argument buffer resource preparation commands\n\n**API Collection**\n\nLoad individual resources and multiple resources within a heap into GPU memory so that they’re available to shaders through argument buffers.\n\n## Overview\n\nThese methods encode commands that load resources into GPU memory, making them accessible to your shaders through argument buffers. To load an individual resource, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/useResource(_:usage:stages:)] method, or another resource-based method. Alternatively, you can load all the resources within a heap by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/useHeap(_:stages:)] method or another heap-based method.\n\n\n\nTo give shaders write or read\/write access to specific resources within a heap, call a resource-based method after the heap-based method. Metal combines usage modes you set for a resource through both heap and resource methods.\n\nFor more information, see [doc:\/\/com.apple.metal\/documentation\/Metal\/improving-cpu-performance-by-using-argument-buffers].\n\n## Loading individual resources for argument buffers\n\n- **useResource(_:usage:stages:)**: Ensures the shaders in the render pass’s subsequent draw commands have access to a resource.\n- **useResources(_:usage:stages:)**: Ensures the shaders in the render pass’s subsequent draw commands have access to multiple resources.\n\n## Loading heaps and the resources they contain for argument buffers\n\n- **useHeap(_:stages:)**: Ensures the shaders in the render pass’s subsequent draw commands have access to the resources you allocate from a heap.\n- **useHeaps(_:stages:)**: Ensures the shaders in the render pass’s subsequent draw commands have access to the resources you allocate from multiple heaps.\n\n## Resource preparation commands\n\n- **Mesh and object shader resource preparation commands**: Assign resources to mesh and object shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Vertex shader resource preparation commands**: Assign resources to vertex shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Fragment shader resource preparation commands**: Assign resources to fragment shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Tile shaders resource preparation commands**: Assign resources to tile shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Ensures the shaders in the render pass’s subsequent draw commands have access to a resource.",
          "name" : "useResource(_:usage:stages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/useResource(_:usage:stages:)"
        },
        {
          "description" : "Ensures the shaders in the render pass’s subsequent draw commands have access to multiple resources.",
          "name" : "useResources(_:usage:stages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/useResources(_:usage:stages:)"
        }
      ],
      "title" : "Loading individual resources for argument buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Ensures the shaders in the render pass’s subsequent draw commands have access to the resources you allocate from a heap.",
          "name" : "useHeap(_:stages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/useHeap(_:stages:)"
        },
        {
          "description" : "Ensures the shaders in the render pass’s subsequent draw commands have access to the resources you allocate from multiple heaps.",
          "name" : "useHeaps(_:stages:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/useHeaps(_:stages:)"
        }
      ],
      "title" : "Loading heaps and the resources they contain for argument buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Assign resources to mesh and object shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Mesh and object shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/mesh-and-object-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to vertex shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Vertex shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/vertex-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to fragment shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Fragment shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/fragment-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to tile shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Tile shaders resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/tile-shaders-resource-preparation-commands"
        }
      ],
      "title" : "Resource preparation commands"
    }
  ],
  "source" : "appleJSON",
  "title" : "Argument buffer resource preparation commands",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/argument-buffer-resource-preparation-commands"
}