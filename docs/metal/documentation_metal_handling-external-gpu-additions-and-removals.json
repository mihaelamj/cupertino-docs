{
  "abstract" : "Register and respond to external GPU notifications that a person initiates.",
  "codeExamples" : [

  ],
  "contentHash" : "8566a13e5f96af50ff66df07a2c51c7f5f5911401e5fc96c641fea64d3db62d2",
  "crawledAt" : "2025-12-02T07:53:04Z",
  "id" : "963895CD-0DC7-4BF8-990A-534E8077E7BF",
  "kind" : "article",
  "module" : "Metal",
  "overview" : "## Overview\n\nA person can connect or disconnect external GPUs from a Mac at any time. The following sequence of events occurs when a person properly adds and removes an external GPU from the system:\n\nYour app can support external GPUs effectively by responding to these events appropriately.\n\n### Set a GPU eject policy\n\nYou can control how your app responds to a safe disconnect request for an external GPU by configuring the `GPUEjectPolicy` key in your app’s `Info.plist`. You can assign the key to one of the following string values:\n\n### Set a GPU selection policy\n\nYou can control whether Metal prefers to use or avoid external GPUs by configuring the `GPUSelectionPolicy` key in your app’s `Info.plist`. You can assign the key to one of the following string values:\n\n### Register for external GPU notifications\n\nCall the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function to get a list of all the Metal devices available to a system and register an observer that’s called whenever this list changes (or may change due to a safe disconnect request).\n\nTo deregister the observer, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)] function.\n\n### Respond to external GPU notifications\n\nMetal notifies your app about the following external GPU events:\n\nSet up a method to respond to the notifications, and pass that method to the `handler` parameter of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/handling-external-gpu-additions-and-removals\ncrawled: 2025-12-02T07:53:04Z\n---\n\n# Handling external GPU additions and removals\n\n**Article**\n\nRegister and respond to external GPU notifications that a person initiates.\n\n## Overview\n\nA person can connect or disconnect external GPUs from a Mac at any time. The following sequence of events occurs when a person properly adds and removes an external GPU from the system:\n\n1. A person physically connects an external GPU, macOS adds it to the system, and Metal makes the GPU available to your app.\n2. While the system has one or more external GPUs, macOS presents a menu bar icon that allows a person to safely disconnect any external GPU.\n3. A person safely disconnects an external GPU.\n4. Metal notifies your app of the request, and your app migrates all current and future work off of the external GPU.\n5. After all apps (including yours) have stopped using the external GPU, macOS notifies the user that it’s safe to disconnect the GPU.\n6. The system removes the external GPU so a person can physically disconnect the GPU from the Mac.\n\nYour app can support external GPUs effectively by responding to these events appropriately.\n\n\n\n### Set a GPU eject policy\n\nYou can control how your app responds to a safe disconnect request for an external GPU by configuring the `GPUEjectPolicy` key in your app’s `Info.plist`. You can assign the key to one of the following string values:\n\n\n\n\n\n### Set a GPU selection policy\n\nYou can control whether Metal prefers to use or avoid external GPUs by configuring the `GPUSelectionPolicy` key in your app’s `Info.plist`. You can assign the key to one of the following string values:\n\n\n\n### Register for external GPU notifications\n\nCall the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function to get a list of all the Metal devices available to a system and register an observer that’s called whenever this list changes (or may change due to a safe disconnect request).\n\n\n\nTo deregister the observer, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)] function.\n\n### Respond to external GPU notifications\n\nMetal notifies your app about the following external GPU events:\n\n\n\nSet up a method to respond to the notifications, and pass that method to the `handler` parameter of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function.\n\n\n\n## Working with external GPUs\n\n- **Transferring data between connected GPUs**: Use high-speed connections between GPUs to transfer data quickly.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use high-speed connections between GPUs to transfer data quickly.",
          "name" : "Transferring data between connected GPUs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/transferring-data-between-connected-gpus"
        }
      ],
      "title" : "Working with external GPUs"
    }
  ],
  "source" : "appleJSON",
  "title" : "Handling external GPU additions and removals",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/handling-external-gpu-additions-and-removals"
}