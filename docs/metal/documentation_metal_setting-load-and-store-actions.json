{
  "abstract" : "Set actions that define how a render pass loads and stores a render target.",
  "codeExamples" : [

  ],
  "contentHash" : "8b79ae43143d91c3d5358ab7f9aaa2184c430e94a3733a76d9e81e14bf687b6a",
  "crawledAt" : "2025-12-03T13:12:48Z",
  "id" : "4D2CF291-4F39-49BF-B22A-619DE360F099",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction] values allow you to define how a render pass loads and stores your [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor] objects. By choosing appropriate actions for your render targets, you can avoid costly and unnecessary work at the start (load) or end (store) of a render pass.\n\nSet a render targetʼs texture on its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/texture] property. Then, set its actions on its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/loadAction] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/storeAction] properties:\n\n### Choose a load action\n\nSeveral options are available, depending on which of the following scenarios describes your render targetʼs loading needs.\n\n**You donʼt need the previous contents of the render target and you render to all of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare]. This action incurs no cost, and pixel values are always undefined at the start of the render pass.\n\n\n\n**You donʼt need the previous contents of the render target and you render to only some of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear]. This action incurs the cost of writing the render targetʼs clear value to each pixel.\n\n\n\n**You do need the previous contents of the render target and you render to only some of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/load]. This action incurs the cost of loading the previous values of each pixel from memory. This action is significantly slower than [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear].\n\n\n\n### Choose a store action\n\nSeveral options are available, depending on which of the following scenarios describes your render targetʼs storage needs.\n\n**You donʼt need to preserve the contents of the render target.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/dontCare]. This action incurs no cost, and pixel values are always undefined at the end of the render pass. Choose this action for intermediary render targets that you use within the render pass, but you donʼt need afterward. This is typically the correct action for depth and stencil render targets.\n\n\n\n**You do need to preserve the contents of the render target.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/store]. This action incurs the cost of storing the values of each pixel to memory. This is always the correct action for drawables.\n\n\n\n**Your render target is a multisample texture.** When you perform multisampling, you decide whether to store the render targetʼs multisampled or resolved data. Multisampled data is stored in the render targetʼs [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/texture] property. Resolved data is stored in the render targetʼs [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/resolveTexture] property. Refer to this table to choose a store action when multisampling:\n\nTo store and resolve a multisample texture in a single render pass, always choose the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/storeAndMultisampleResolve] action and use a single render command encoder.\n\n**You need to defer your storage choice.** In some cases, you might not know which store action to use for a particular render target until you gather more render pass information. To defer your store action choice, set the temporary [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/unknown] value when you create your [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor] object. Setting an unknown store action may avoid potential costs incurred by setting another store action prematurely. However, you need to specify a valid store action before you finish encoding your render pass; otherwise, an error occurs.\n\n### Evaluate actions between render passes\n\nYou can use the same render targets across multiple render passes. Several load and store combinations are possible for the same render target between any two render passes, depending on which of the following scenarios describes your render targetʼs needs from one render pass to another.\n\n**You donʼt need the previous contents of a render target in the next render pass.** In the first render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/dontCare] to avoid storing the contents of the render target. In the second render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear] to avoid loading the contents of the render target.\n\n\n\n\n\n**You do need the previous contents of a render target in the next render pass.** In the first render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/store], [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/multisampleResolve], or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/storeAndMultisampleResolve] to store the contents of the render target. In the second render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/load] to load the contents of the render target.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/setting-load-and-store-actions\ncrawled: 2025-12-03T13:12:48Z\n---\n\n# Setting load and store actions\n\n**Article**\n\nSet actions that define how a render pass loads and stores a render target.\n\n## Overview\n\n[doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction] values allow you to define how a render pass loads and stores your [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor] objects. By choosing appropriate actions for your render targets, you can avoid costly and unnecessary work at the start (load) or end (store) of a render pass.\n\nSet a render targetʼs texture on its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/texture] property. Then, set its actions on its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/loadAction] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/storeAction] properties:\n\n\n\n### Choose a load action\n\nSeveral options are available, depending on which of the following scenarios describes your render targetʼs loading needs.\n\n**You donʼt need the previous contents of the render target and you render to all of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare]. This action incurs no cost, and pixel values are always undefined at the start of the render pass.\n\n\n\n**You donʼt need the previous contents of the render target and you render to only some of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear]. This action incurs the cost of writing the render targetʼs clear value to each pixel.\n\n\n\n**You do need the previous contents of the render target and you render to only some of its pixels.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/load]. This action incurs the cost of loading the previous values of each pixel from memory. This action is significantly slower than [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear].\n\n\n\n\n\n### Choose a store action\n\nSeveral options are available, depending on which of the following scenarios describes your render targetʼs storage needs.\n\n**You donʼt need to preserve the contents of the render target.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/dontCare]. This action incurs no cost, and pixel values are always undefined at the end of the render pass. Choose this action for intermediary render targets that you use within the render pass, but you donʼt need afterward. This is typically the correct action for depth and stencil render targets.\n\n\n\n**You do need to preserve the contents of the render target.** Choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/store]. This action incurs the cost of storing the values of each pixel to memory. This is always the correct action for drawables.\n\n\n\n**Your render target is a multisample texture.** When you perform multisampling, you decide whether to store the render targetʼs multisampled or resolved data. Multisampled data is stored in the render targetʼs [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/texture] property. Resolved data is stored in the render targetʼs [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor\/resolveTexture] property. Refer to this table to choose a store action when multisampling:\n\n\n\nTo store and resolve a multisample texture in a single render pass, always choose the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/storeAndMultisampleResolve] action and use a single render command encoder.\n\n**You need to defer your storage choice.** In some cases, you might not know which store action to use for a particular render target until you gather more render pass information. To defer your store action choice, set the temporary [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/unknown] value when you create your [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassAttachmentDescriptor] object. Setting an unknown store action may avoid potential costs incurred by setting another store action prematurely. However, you need to specify a valid store action before you finish encoding your render pass; otherwise, an error occurs.\n\n\n\n### Evaluate actions between render passes\n\nYou can use the same render targets across multiple render passes. Several load and store combinations are possible for the same render target between any two render passes, depending on which of the following scenarios describes your render targetʼs needs from one render pass to another.\n\n**You donʼt need the previous contents of a render target in the next render pass.** In the first render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/dontCare] to avoid storing the contents of the render target. In the second render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/dontCare] or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/clear] to avoid loading the contents of the render target.\n\n\n\n\n\n**You do need the previous contents of a render target in the next render pass.** In the first render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/store], [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/multisampleResolve], or [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStoreAction\/storeAndMultisampleResolve] to store the contents of the render target. In the second render pass, choose [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLLoadAction\/load] to load the contents of the render target.\n\n\n\n## Applying rendering techniques\n\n- **Drawing a triangle with Metal 4**: Render a colorful, rotating 2D triangle by running draw commands with a render pipeline on a GPU.\n- **Customizing render pass setup**: Render into an offscreen texture by creating a custom render pass.\n- **Improving rendering performance with vertex amplification**: Run draw commands that render to different outputs using the same vertex data multiple times.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Render a colorful, rotating 2D triangle by running draw commands with a render pipeline on a GPU.",
          "name" : "Drawing a triangle with Metal 4",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/drawing-a-triangle-with-metal-4"
        },
        {
          "description" : "Render into an offscreen texture by creating a custom render pass.",
          "name" : "Customizing render pass setup",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/customizing-render-pass-setup"
        },
        {
          "description" : "Run draw commands that render to different outputs using the same vertex data multiple times.",
          "name" : "Improving rendering performance with vertex amplification",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/improving-rendering-performance-with-vertex-amplification"
        }
      ],
      "title" : "Applying rendering techniques"
    }
  ],
  "source" : "appleJSON",
  "title" : "Setting load and store actions",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/setting-load-and-store-actions"
}