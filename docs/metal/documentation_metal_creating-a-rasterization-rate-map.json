{
  "abstract" : "Define the rasterization rates for each part of your render target.",
  "codeExamples" : [

  ],
  "contentHash" : "7b706572ccb7d69b1e117e7013c2087f71cda537e1cb7bff5824b78891f3c1e6",
  "crawledAt" : "2025-12-03T12:53:35Z",
  "id" : "C79DDB61-9B38-4968-804D-DADF1F080406",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nA rasterization rate map specifies the size of the final render target in logical viewport coordinates and rasterization rates within that area. You partition the render target into different horizontal and vertical zones and provide rasterization rates for each of these zones. From this configuration data, the rate map calculates the sizes for your intermediate texture targets and provides mapping functions between logical viewport coordinates and physical pixel coordinates.\n\nTo create a rate map, you create and configure a rate map descriptor for it and ask the device instance to create it. You then keep the rate map around for as long as you need it for your render targets.\n\nFor example, if you’re rendering for display to the screen, set the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMapDescriptor\/screenSize] property of the rate map descriptor to the [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer\/drawableSize] property of the destination [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer] instance.\n\n### Create a layer rate descriptor\n\nTo specify rasterization rates, create a layer rate descriptor with the rates you want to apply to each layer in the render target. If you aren’t using layered rendering, create a single layer rate descriptor. Otherwise, you can provide different rasterization rates for each layer. (For more information about layered rendering, see [doc:\/\/com.apple.metal\/documentation\/Metal\/rendering-to-multiple-texture-slices-in-a-draw-command]).\n\nDecide how many horizontal and vertical zones you need for each layer. The number of zones should be factors of the width and height of the screen size you specified, and you should choose as many zones as you need for your specific use case. If you need to provide a more precise grid, use more zones.\n\nTo specify the grid layout, create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLSize] instance to hold the number of zones, and then create the layer descriptor:\n\n### Specify the rates for each zone\n\nAfter creating the layer descriptor, specify rates for the rows and columns of the rate map. You determine the horizontal rate for a cell by specifying the rate for its column, and its vertical rate by specifying the rate for its row.\n\nThe rate is a floating-point number from `0.0` to `1.0`, where `1.0` means that the hardware should rasterize that zone at the full rate. The following example specifies a full rate for each zone, the default Metal behavior:\n\nIf you specify a value lower than `1.0`, the GPU rasterizes fewer pixels for that zone. For example, the following example code samples the edge zones at half the normal rate:\n\nMetal guarantees that the actual rasterization rates are at least as high as the rates you specified. However, when you create the rate map, the device instance may split it into more detailed cells or choose higher rates for specific cells if the GPU requires it.\n\n### Add the layer descriptor to the rate map descriptor\n\nAfter you configure the layer descriptor, attach it to the rate map descriptor. When you’ve added all of the layer descriptors, create the rate map:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/creating-a-rasterization-rate-map\ncrawled: 2025-12-03T12:53:35Z\n---\n\n# Creating a rasterization rate map\n\n**Article**\n\nDefine the rasterization rates for each part of your render target.\n\n## Overview\n\nA rasterization rate map specifies the size of the final render target in logical viewport coordinates and rasterization rates within that area. You partition the render target into different horizontal and vertical zones and provide rasterization rates for each of these zones. From this configuration data, the rate map calculates the sizes for your intermediate texture targets and provides mapping functions between logical viewport coordinates and physical pixel coordinates.\n\nTo create a rate map, you create and configure a rate map descriptor for it and ask the device instance to create it. You then keep the rate map around for as long as you need it for your render targets.\n\nFor example, if you’re rendering for display to the screen, set the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMapDescriptor\/screenSize] property of the rate map descriptor to the [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer\/drawableSize] property of the destination [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer] instance.\n\n\n\n### Create a layer rate descriptor\n\nTo specify rasterization rates, create a layer rate descriptor with the rates you want to apply to each layer in the render target. If you aren’t using layered rendering, create a single layer rate descriptor. Otherwise, you can provide different rasterization rates for each layer. (For more information about layered rendering, see [doc:\/\/com.apple.metal\/documentation\/Metal\/rendering-to-multiple-texture-slices-in-a-draw-command]).\n\nDecide how many horizontal and vertical zones you need for each layer. The number of zones should be factors of the width and height of the screen size you specified, and you should choose as many zones as you need for your specific use case. If you need to provide a more precise grid, use more zones.\n\nTo specify the grid layout, create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLSize] instance to hold the number of zones, and then create the layer descriptor:\n\n\n\n### Specify the rates for each zone\n\nAfter creating the layer descriptor, specify rates for the rows and columns of the rate map. You determine the horizontal rate for a cell by specifying the rate for its column, and its vertical rate by specifying the rate for its row.\n\nThe rate is a floating-point number from `0.0` to `1.0`, where `1.0` means that the hardware should rasterize that zone at the full rate. The following example specifies a full rate for each zone, the default Metal behavior:\n\n\n\nIf you specify a value lower than `1.0`, the GPU rasterizes fewer pixels for that zone. For example, the following example code samples the edge zones at half the normal rate:\n\n\n\nMetal guarantees that the actual rasterization rates are at least as high as the rates you specified. However, when you create the rate map, the device instance may split it into more detailed cells or choose higher rates for specific cells if the GPU requires it.\n\n### Add the layer descriptor to the rate map descriptor\n\nAfter you configure the layer descriptor, attach it to the rate map descriptor. When you’ve added all of the layer descriptors, create the rate map:\n\n\n\n## Rasterization settings\n\n- **Rendering at different rasterization rates**: Configure a rasterization rate map to vary rasterization rates depending on the amount of detail needed.\n- **Rendering with a rasterization rate map**: Create offscreen textures to hold intermediate rasterized data.\n- **Scaling variable rasterization rate content**: Use the rate map data to scale the content to fill your destination texture.\n- **MTLRasterizationRateMapDescriptor**: An object that you use to configure new rasterization rate maps.\n- **MTLRasterizationRateMap**: A compiled read-only instance that determines how to apply variable rasterization rates when rendering.\n- **MTLCoordinate2D**: A coordinate in the viewport.\n- **MTLCoordinate2DMake(_:_:)**: Returns a new 2D point with the specified coordinates.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure a rasterization rate map to vary rasterization rates depending on the amount of detail needed.",
          "name" : "Rendering at different rasterization rates",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/rendering-at-different-rasterization-rates"
        },
        {
          "description" : "Create offscreen textures to hold intermediate rasterized data.",
          "name" : "Rendering with a rasterization rate map",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/rendering-with-a-rasterization-rate-map"
        },
        {
          "description" : "Use the rate map data to scale the content to fill your destination texture.",
          "name" : "Scaling variable rasterization rate content",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/scaling-variable-rasterization-rate-content"
        },
        {
          "description" : "An object that you use to configure new rasterization rate maps.",
          "name" : "MTLRasterizationRateMapDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRasterizationRateMapDescriptor"
        },
        {
          "description" : "A compiled read-only instance that determines how to apply variable rasterization rates when rendering.",
          "name" : "MTLRasterizationRateMap",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRasterizationRateMap"
        },
        {
          "description" : "A coordinate in the viewport.",
          "name" : "MTLCoordinate2D",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCoordinate2D"
        },
        {
          "description" : "Returns a new 2D point with the specified coordinates.",
          "name" : "MTLCoordinate2DMake(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCoordinate2DMake(_:_:)"
        }
      ],
      "title" : "Rasterization settings"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating a rasterization rate map",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/creating-a-rasterization-rate-map"
}