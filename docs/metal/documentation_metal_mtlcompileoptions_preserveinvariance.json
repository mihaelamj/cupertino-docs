{
  "abstract" : "A Boolean value that indicates whether the compiler compiles vertex shaders conservatively to generate consistent position calculations.",
  "codeExamples" : [

  ],
  "contentHash" : "c656bbf103048f7f6558e7f08ccd2dad14c6adae1d629af7473d08f9a27b653b",
  "crawledAt" : "2025-12-03T14:33:17Z",
  "declaration" : {
    "code" : "var preserveInvariance: Bool { get set }",
    "language" : "swift"
  },
  "id" : "23156B67-387C-4F3C-8230-9E9A243F3A03",
  "kind" : "property",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nThe default value is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. When [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the Metal shader compiler looks at the position value in all vertex output structures that it compiles. If the position value also has the `[[invariant]]` attribute, the compiler compiles the corresponding vertex shader conservatively to guarantee that the GPU performs the calculations the same way. You need to preserve invariance when your renderer contains multiple render passes and requires the same position calculations in each render pass.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/preserveInvariance\ncrawled: 2025-12-03T14:33:17Z\n---\n\n# preserveInvariance\n\n**Instance Property**\n\nA Boolean value that indicates whether the compiler compiles vertex shaders conservatively to generate consistent position calculations.\n\n## Declaration\n\n```swift\nvar preserveInvariance: Bool { get set }\n```\n\n## Discussion\n\nThe default value is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. When [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the Metal shader compiler looks at the position value in all vertex output structures that it compiles. If the position value also has the `[[invariant]]` attribute, the compiler compiles the corresponding vertex shader conservatively to guarantee that the GPU performs the calculations the same way. You need to preserve invariance when your renderer contains multiple render passes and requires the same position calculations in each render pass.\n\n## Configuring the compiler options\n\n- **enableLogging**: A Boolean value that enables shader logging.\n- **mathMode**: An indication of whether the compiler can perform optimizations for floating-point arithmetic that may violate the IEEE 754 standard.\n- **mathFloatingPointFunctions**: The FP32 math functions Metal uses.\n- **languageVersion**: The language version for interpreting the library source code.\n- **preprocessorMacros**: A list of preprocessor macros to apply when compiling the library source.\n- **optimizationLevel**: An option that tells the compiler what to prioritize when it compiles Metal shader code.\n- **libraries**: An array of dynamic libraries the Metal compiler links against.\n- **fastMathEnabled**: A Boolean value that indicates whether the compiler can perform optimizations for floating-point arithmetic that may violate the IEEE 754 standard.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that enables shader logging.",
          "name" : "enableLogging",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/enableLogging"
        },
        {
          "description" : "An indication of whether the compiler can perform optimizations for floating-point arithmetic that may violate the IEEE 754 standard.",
          "name" : "mathMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/mathMode"
        },
        {
          "description" : "The FP32 math functions Metal uses.",
          "name" : "mathFloatingPointFunctions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/mathFloatingPointFunctions"
        },
        {
          "description" : "The language version for interpreting the library source code.",
          "name" : "languageVersion",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/languageVersion"
        },
        {
          "description" : "A list of preprocessor macros to apply when compiling the library source.",
          "name" : "preprocessorMacros",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/preprocessorMacros"
        },
        {
          "description" : "An option that tells the compiler what to prioritize when it compiles Metal shader code.",
          "name" : "optimizationLevel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/optimizationLevel"
        },
        {
          "description" : "An array of dynamic libraries the Metal compiler links against.",
          "name" : "libraries",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/libraries"
        },
        {
          "description" : "A Boolean value that indicates whether the compiler can perform optimizations for floating-point arithmetic that may violate the IEEE 754 standard.",
          "name" : "fastMathEnabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/fastMathEnabled"
        }
      ],
      "title" : "Configuring the compiler options"
    }
  ],
  "source" : "appleJSON",
  "title" : "preserveInvariance",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCompileOptions\/preserveInvariance"
}