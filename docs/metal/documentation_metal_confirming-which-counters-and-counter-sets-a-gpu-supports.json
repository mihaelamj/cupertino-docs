{
  "abstract" : "Check whether a GPU produces the runtime performance data you want to sample.",
  "codeExamples" : [

  ],
  "contentHash" : "cff36a04370dac6b30cf8702958be58269de77e88042206d7d26f9d187a8e8d5",
  "crawledAt" : "2025-12-02T19:36:05Z",
  "id" : "69BC2500-C221-4841-B925-7E80C2D069A6",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nYou can check to see which counters a GPU device supports before attempting to programmatically sample data from them. A GPU *counter* is typically a hardware feature that tracks a specific performance metric, such as timestamps before and after an important rendering stage. Checking which counters a GPU supports at runtime avoids assumptions that may trigger an error or a crash on a person’s device.\n\nA *counter set* is a collection of related counters. The [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounterSet] type defines the name of each set, and the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounter] type defines the name of each individual counter. Check which counter sets an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance supports before you request one by checking its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/counterSets] property.\n\nThe method iterates through each counter set the device supports, and compares its name to the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounterSet] parameter.\n\nEven though a GPU device supports a counter set, it may only support some of the counters in that set. You can check which individual counters a device supports by checking the elements of a counter set’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCounterSet\/counters] property.\n\nThe method iterates through each counter in the device’s counter set, and compares its name to the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounter] property.\n\nWhen you know a GPU supports a counter, your app can create and safely use an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCounterSampleBuffer] instance to store that counter’s data. See [doc:\/\/com.apple.metal\/documentation\/Metal\/creating-a-counter-sample-buffer-to-store-a-gpus-counter-data-during-a-pass] for more information and next steps.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/confirming-which-counters-and-counter-sets-a-gpu-supports\ncrawled: 2025-12-02T19:36:05Z\n---\n\n# Confirming which counters and counter sets a GPU supports\n\n**Article**\n\nCheck whether a GPU produces the runtime performance data you want to sample.\n\n## Overview\n\nYou can check to see which counters a GPU device supports before attempting to programmatically sample data from them. A GPU *counter* is typically a hardware feature that tracks a specific performance metric, such as timestamps before and after an important rendering stage. Checking which counters a GPU supports at runtime avoids assumptions that may trigger an error or a crash on a person’s device.\n\nA *counter set* is a collection of related counters. The [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounterSet] type defines the name of each set, and the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounter] type defines the name of each individual counter. Check which counter sets an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance supports before you request one by checking its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/counterSets] property.\n\n\n\nThe method iterates through each counter set the device supports, and compares its name to the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounterSet] parameter.\n\nEven though a GPU device supports a counter set, it may only support some of the counters in that set. You can check which individual counters a device supports by checking the elements of a counter set’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCounterSet\/counters] property.\n\n\n\nThe method iterates through each counter in the device’s counter set, and compares its name to the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommonCounter] property.\n\nWhen you know a GPU supports a counter, your app can create and safely use an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCounterSampleBuffer] instance to store that counter’s data. See [doc:\/\/com.apple.metal\/documentation\/Metal\/creating-a-counter-sample-buffer-to-store-a-gpus-counter-data-during-a-pass] for more information and next steps.\n\n## Counters and counter sets\n\n- **MTLCounterSet**: A collection of individual counters a GPU device supports for a counter set.\n- **MTLCommonCounterSet**: The name of a specific counter set that a GPU device can support.\n- **MTLCounter**: An individual counter a GPU device lists within one of its counter sets.\n- **MTLCommonCounter**: The name of a specific counter that can appear in a GPU device’s counter sets.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A collection of individual counters a GPU device supports for a counter set.",
          "name" : "MTLCounterSet",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCounterSet"
        },
        {
          "description" : "The name of a specific counter set that a GPU device can support.",
          "name" : "MTLCommonCounterSet",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommonCounterSet"
        },
        {
          "description" : "An individual counter a GPU device lists within one of its counter sets.",
          "name" : "MTLCounter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCounter"
        },
        {
          "description" : "The name of a specific counter that can appear in a GPU device’s counter sets.",
          "name" : "MTLCommonCounter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommonCounter"
        }
      ],
      "title" : "Counters and counter sets"
    }
  ],
  "source" : "appleJSON",
  "title" : "Confirming which counters and counter sets a GPU supports",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/confirming-which-counters-and-counter-sets-a-gpu-supports"
}