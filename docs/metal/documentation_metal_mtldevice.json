{
  "abstract" : "The main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.",
  "codeExamples" : [

  ],
  "contentHash" : "c42236b65d8457cf0f208ccbaab9e2d415ebf288e01dc93f410729df2a5a0321",
  "crawledAt" : "2025-12-04T04:19:39Z",
  "declaration" : {
    "code" : "protocol MTLDevice : NSObjectProtocol, Sendable",
    "language" : "swift"
  },
  "id" : "34779462-DC1E-4634-912A-B792432BB3CA",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nYou can get the default [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] at runtime by calling [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCreateSystemDefaultDevice()] (see [doc:\/\/com.apple.metal\/documentation\/Metal\/getting-the-default-gpu]). Each Metal device instance represents a GPU and is the main starting point for your app’s interaction with it. With a Metal device instance, you can inspect a GPU’s features and capabilities (see [doc:\/\/com.apple.metal\/documentation\/Metal\/device-inspection]) and create subsidiary type instances with its factory methods.\n\nIf your app uses more than one GPU (see [doc:\/\/com.apple.metal\/documentation\/Metal\/multi-gpu-systems]), ensure that instances of these types only interact with others from the same device. For example, your app can pass a texture to a command encoder that comes from the same Metal device, but not to another device.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/metal\/mtldevice\ncrawled: 2025-12-04T04:19:39Z\n---\n\n# MTLDevice\n\n**Protocol**\n\nThe main Metal interface to a GPU that apps use to draw graphics and run computations in parallel.\n\n## Declaration\n\n```swift\nprotocol MTLDevice : NSObjectProtocol, Sendable\n```\n\n## Overview\n\nYou can get the default [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] at runtime by calling [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCreateSystemDefaultDevice()] (see [doc:\/\/com.apple.metal\/documentation\/Metal\/getting-the-default-gpu]). Each Metal device instance represents a GPU and is the main starting point for your app’s interaction with it. With a Metal device instance, you can inspect a GPU’s features and capabilities (see [doc:\/\/com.apple.metal\/documentation\/Metal\/device-inspection]) and create subsidiary type instances with its factory methods.\n\n- Buffers, textures, and other resources store, synchronize, and pass data between the GPU and CPU (see [doc:\/\/com.apple.metal\/documentation\/Metal\/resource-fundamentals]).\n- Input\/Output command queues efficiently load resources from the file system (see [doc:\/\/com.apple.metal\/documentation\/Metal\/resource-loading]).\n- Command queues create command encoders and schedule work for the GPU, including rendering and compute commands (see [doc:\/\/com.apple.metal\/documentation\/Metal\/render-passes] and [doc:\/\/com.apple.metal\/documentation\/Metal\/compute-passes]).\n- Pipeline states store render or compute pipeline configurations — which can be expensive to create — so that you can reuse them, potentially many times.\n\nIf your app uses more than one GPU (see [doc:\/\/com.apple.metal\/documentation\/Metal\/multi-gpu-systems]), ensure that instances of these types only interact with others from the same device. For example, your app can pass a texture to a command encoder that comes from the same Metal device, but not to another device.\n\n## Working with GPU devices\n\n- **Device inspection**: Locate and identify a GPU and the features it supports, and sample its counters.\n- **Work submission**: Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.\n- **Pipeline state creation**: Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.\n- **Resource creation**: Load assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.\n- **Shader library and archive creation**: Create static and dynamic shader libraries, and binary shader archives.\n\n## Instance Properties\n\n- **maximumConcurrentCompilationTaskCount**: The maximum number of concurrent compilation tasks the device is running.\n- **shouldMaximizeConcurrentCompilation**: A Boolean value that indicates whether the device uses additional CPU threads for compilation tasks.\n\n## Instance Methods\n\n- **functionHandle(function:)**\n- **functionHandle(function:)**: Get the function handle for the specified binary-linked function from the pipeline state.\n- **makeArchive(url:)**: Creates a new archive from data available at an `NSURL` address.\n- **makeArgumentTable(descriptor:)**: Creates a new argument table from an argument table descriptor.\n- **makeBuffer(length:options:placementSparsePageSize:)**: Creates a new placement sparse buffer of a specific length.\n- **makeCommandAllocator()**: Creates a new command allocator.\n- **makeCommandAllocator(descriptor:)**: Creates a new command allocator from a command allocator descriptor.\n- **makeCommandBuffer()**: Creates a new command buffer.\n- **makeCommandQueue(descriptor:)**: Creates a command queue with the provided configuration.\n- **makeCompiler(descriptor:)**: Creates a new compiler from a compiler descriptor.\n- **makeCounterHeap(descriptor:)**: Creates a new counter heap configured from a counter heap descriptor.\n- **makeLogState(descriptor:)**: Creates a shader log state with the provided configuration.\n- **makeMTL4CommandQueue()**: Creates a new command queue.\n- **makeMTL4CommandQueue(descriptor:)**: Creates a new command queue from a queue descriptor.\n- **makePipelineDataSetSerializer(descriptor:)**: Creates a new pipeline data set serializer instance from a descriptor.\n- **makeTensor(descriptor:)**: Creates a tensor by allocating new memory.\n- **makeTextureViewPool(descriptor:)**: Creates a new texture view pool from a resource view pool descriptor.\n- **queryTimestampFrequency()**: Queries the frequency of the GPU timestamp in ticks per second.\n- **size(ofCounterHeapEntry:)**: Returns the size, in bytes, of each entry in a counter heap of a specific counter heap type when your app resolves it into a usable format.\n- **tensorSizeAndAlign(descriptor:)**: Determines the size and alignment required to hold the data of a tensor you create with a descriptor in a buffer.\n\n## Locating and inspecting a GPU device\n\n- **Getting the default GPU**: Select the system’s default GPU device on which to run your Metal code.\n- **Detecting GPU features and Metal software versions**: Use the device object’s properties to determine how you perform tasks in Metal.\n- **MTLCreateSystemDefaultDevice()**: Returns the device instance Metal selects as the default.\n- **Multi-GPU systems**: Locate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.\n\n## Inherits From\n\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locate and identify a GPU and the features it supports, and sample its counters.",
          "name" : "Device inspection",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/device-inspection"
        },
        {
          "description" : "Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.",
          "name" : "Work submission",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/work-submission"
        },
        {
          "description" : "Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.",
          "name" : "Pipeline state creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/pipeline-state-creation"
        },
        {
          "description" : "Load assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.",
          "name" : "Resource creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/resource-creation"
        },
        {
          "description" : "Create static and dynamic shader libraries, and binary shader archives.",
          "name" : "Shader library and archive creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/shader-library-and-archive-creation"
        }
      ],
      "title" : "Working with GPU devices"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The maximum number of concurrent compilation tasks the device is running.",
          "name" : "maximumConcurrentCompilationTaskCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maximumConcurrentCompilationTaskCount"
        },
        {
          "description" : "A Boolean value that indicates whether the device uses additional CPU threads for compilation tasks.",
          "name" : "shouldMaximizeConcurrentCompilation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/shouldMaximizeConcurrentCompilation"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "functionHandle(function:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/functionHandle(function:)-4bw39"
        },
        {
          "description" : "Get the function handle for the specified binary-linked function from the pipeline state.",
          "name" : "functionHandle(function:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/functionHandle(function:)-w9ia"
        },
        {
          "description" : "Creates a new archive from data available at an `NSURL` address.",
          "name" : "makeArchive(url:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeArchive(url:)"
        },
        {
          "description" : "Creates a new argument table from an argument table descriptor.",
          "name" : "makeArgumentTable(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeArgumentTable(descriptor:)"
        },
        {
          "description" : "Creates a new placement sparse buffer of a specific length.",
          "name" : "makeBuffer(length:options:placementSparsePageSize:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeBuffer(length:options:placementSparsePageSize:)"
        },
        {
          "description" : "Creates a new command allocator.",
          "name" : "makeCommandAllocator()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCommandAllocator()"
        },
        {
          "description" : "Creates a new command allocator from a command allocator descriptor.",
          "name" : "makeCommandAllocator(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCommandAllocator(descriptor:)"
        },
        {
          "description" : "Creates a new command buffer.",
          "name" : "makeCommandBuffer()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCommandBuffer()"
        },
        {
          "description" : "Creates a command queue with the provided configuration.",
          "name" : "makeCommandQueue(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCommandQueue(descriptor:)"
        },
        {
          "description" : "Creates a new compiler from a compiler descriptor.",
          "name" : "makeCompiler(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCompiler(descriptor:)"
        },
        {
          "description" : "Creates a new counter heap configured from a counter heap descriptor.",
          "name" : "makeCounterHeap(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCounterHeap(descriptor:)"
        },
        {
          "description" : "Creates a shader log state with the provided configuration.",
          "name" : "makeLogState(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeLogState(descriptor:)"
        },
        {
          "description" : "Creates a new command queue.",
          "name" : "makeMTL4CommandQueue()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeMTL4CommandQueue()"
        },
        {
          "description" : "Creates a new command queue from a queue descriptor.",
          "name" : "makeMTL4CommandQueue(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeMTL4CommandQueue(descriptor:)"
        },
        {
          "description" : "Creates a new pipeline data set serializer instance from a descriptor.",
          "name" : "makePipelineDataSetSerializer(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makePipelineDataSetSerializer(descriptor:)"
        },
        {
          "description" : "Creates a tensor by allocating new memory.",
          "name" : "makeTensor(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeTensor(descriptor:)"
        },
        {
          "description" : "Creates a new texture view pool from a resource view pool descriptor.",
          "name" : "makeTextureViewPool(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeTextureViewPool(descriptor:)"
        },
        {
          "description" : "Queries the frequency of the GPU timestamp in ticks per second.",
          "name" : "queryTimestampFrequency()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/queryTimestampFrequency()"
        },
        {
          "description" : "Returns the size, in bytes, of each entry in a counter heap of a specific counter heap type when your app resolves it into a usable format.",
          "name" : "size(ofCounterHeapEntry:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/size(ofCounterHeapEntry:)"
        },
        {
          "description" : "Determines the size and alignment required to hold the data of a tensor you create with a descriptor in a buffer.",
          "name" : "tensorSizeAndAlign(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/tensorSizeAndAlign(descriptor:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select the system’s default GPU device on which to run your Metal code.",
          "name" : "Getting the default GPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-default-gpu"
        },
        {
          "description" : "Use the device object’s properties to determine how you perform tasks in Metal.",
          "name" : "Detecting GPU features and Metal software versions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/detecting-gpu-features-and-metal-software-versions"
        },
        {
          "description" : "Returns the device instance Metal selects as the default.",
          "name" : "MTLCreateSystemDefaultDevice()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCreateSystemDefaultDevice()"
        },
        {
          "description" : "Locate and work with internal and external GPUs and their displays, video memory, and performance tradeoffs.",
          "name" : "Multi-GPU systems",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/multi-gpu-systems"
        }
      ],
      "title" : "Locating and inspecting a GPU device"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        },
        {
          "name" : "Sendable"
        },
        {
          "name" : "SendableMetatype"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLDevice",
  "url" : "https:\/\/developer.apple.com\/documentation\/metal\/mtldevice"
}