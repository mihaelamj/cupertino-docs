{
  "abstract" : "A type that synchronizes memory operations to one or more resources within a single Metal device.",
  "codeExamples" : [

  ],
  "contentHash" : "a1373b4d69ab2c3d6f497b711399675d8b558e976af06da3a71556ad4f19eed8",
  "crawledAt" : "2025-12-03T04:13:04Z",
  "declaration" : {
    "code" : "protocol MTLEvent : NSObjectProtocol, Sendable",
    "language" : "swift"
  },
  "id" : "6C590427-49D8-4BB5-A1C6-AD205EB73B97",
  "inheritedBy" : [
    "MTLSharedEvent"
  ],
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nEach event represents an unsigned 64-bit integer that starts with a value of `0`, which can only increase over time. Create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLEvent] by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeEvent()] method of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance.\n\nWith an event, synchronize commands across a single Metal device by instructing it to wait before starting a workload, such as a compute pass, until another workload finishes. You do this by encoding signal and wait commands:\n\nThe Metal device begins running any dependent workloads when the event equals or exceeds the value that the wait command is waiting for.\n\n### Synchronize one producing workload with an event\n\nWhen working with Metal 4 types, add wait and signal commands with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue] instance by calling its methods:\n\nSimilarly for Metal 3 and earlier, add wait and signal commands with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance by calling its methods:\n\nWhen a Metal device reaches a wait command, it compares the event’s current value to the command’s target value. The device proceeds to the subsequent commands only when another command updates the event with a value that’s equal to or greater than the target value. For an example that synchronizes workloads on different queues within the same device with a single event instance, see [doc:\/\/com.apple.metal\/documentation\/Metal\/synchronizing-events-within-a-single-device].\n\nYou can add signal and wait commands to any combination of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instances that all belong to the same Metal device. Even though you encode a wait command before the signal command that unblocks it, minimize the time between when they run because wait commands can time out.\n\nOne event signal can unblock multiple workloads waiting for it. For example, if workload A needs to run before starting workloads B and C, the B and C workloads can wait for one event to reach a specific value, such as `0x42`. When workload A finishes, the next command can unblock workloads B and C by signaling that event with the value `0x42` or greater.\n\n### Synchronize multiple producing workloads with an event for each\n\nMultiple producing workloads can’t combine their signals with one event to unblock any dependent workloads. This is because an event’s signal method can only increase its value to a specific number, unlike a semaphore that can increment or decrement its current value by one. Instead, signal when each producing workload finishes by updating its own separate event. Dependent workloads can wait for the multiple events that correspond to the workloads they depend on.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLEvent\ncrawled: 2025-12-03T04:13:04Z\n---\n\n# MTLEvent\n\n**Protocol**\n\nA type that synchronizes memory operations to one or more resources within a single Metal device.\n\n## Declaration\n\n```swift\nprotocol MTLEvent : NSObjectProtocol, Sendable\n```\n\n## Overview\n\nEach event represents an unsigned 64-bit integer that starts with a value of `0`, which can only increase over time. Create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLEvent] by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeEvent()] method of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance.\n\nWith an event, synchronize commands across a single Metal device by instructing it to wait before starting a workload, such as a compute pass, until another workload finishes. You do this by encoding signal and wait commands:\n\n- Add a signal command after encoding the producing workload that one or more other workloads depend on.\n- Add a wait command before encoding each consuming workload that depends on the producing workload.\n\nThe Metal device begins running any dependent workloads when the event equals or exceeds the value that the wait command is waiting for.\n\n### Synchronize one producing workload with an event\n\nWhen working with Metal 4 types, add wait and signal commands with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue] instance by calling its methods:\n\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue\/waitForEvent(_:value:)]\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue\/signalEvent(_:value:)]\n\nSimilarly for Metal 3 and earlier, add wait and signal commands with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance by calling its methods:\n\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeWaitForEvent(_:value:)]\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)]\n\n\n\nWhen a Metal device reaches a wait command, it compares the event’s current value to the command’s target value. The device proceeds to the subsequent commands only when another command updates the event with a value that’s equal to or greater than the target value. For an example that synchronizes workloads on different queues within the same device with a single event instance, see [doc:\/\/com.apple.metal\/documentation\/Metal\/synchronizing-events-within-a-single-device].\n\nYou can add signal and wait commands to any combination of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTL4CommandQueue] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instances that all belong to the same Metal device. Even though you encode a wait command before the signal command that unblocks it, minimize the time between when they run because wait commands can time out.\n\n\n\nOne event signal can unblock multiple workloads waiting for it. For example, if workload A needs to run before starting workloads B and C, the B and C workloads can wait for one event to reach a specific value, such as `0x42`. When workload A finishes, the next command can unblock workloads B and C by signaling that event with the value `0x42` or greater.\n\n### Synchronize multiple producing workloads with an event for each\n\nMultiple producing workloads can’t combine their signals with one event to unblock any dependent workloads. This is because an event’s signal method can only increase its value to a specific number, unlike a semaphore that can increment or decrement its current value by one. Instead, signal when each producing workload finishes by updating its own separate event. Dependent workloads can wait for the multiple events that correspond to the workloads they depend on.\n\n\n\n## Identifying the event\n\n- **device**: The device object that created the event.\n- **label**: A string that identifies the event.\n\n## Synchronizing with events\n\n- **Implementing a multistage image filter using heaps and events**: Use events to synchronize access to resources allocated on a heap.\n- **About synchronization events**: Synchronize access to resources in your app by signaling events.\n- **Synchronizing events within a single device**: Use nonshareable events to synchronize your app’s work within a single device.\n- **Synchronizing events across multiple devices or processes**: Use shareable events to synchronize your app’s work across multiple devices or processes.\n- **Synchronizing events between a GPU and the CPU**: Use shareable events to synchronize your app’s work between a GPU and the CPU.\n- **MTLSharedEvent**: A type that synchronizes memory operations to one or more resources across multiple CPUs, GPUs, and processes.\n- **MTLSharedEventHandle**: An instance you use to recreate a shareable event.\n- **MTLSharedEventListener**: A listener for shareable event notifications.\n- **MTLSharedEventNotificationBlock**: A block of code invoked after a shareable event’s signal value equals or exceeds a given value.\n\n## Inherits From\n\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n## Inherited By\n\n- MTLSharedEvent\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The device object that created the event.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLEvent\/device"
        },
        {
          "description" : "A string that identifies the event.",
          "name" : "label",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLEvent\/label"
        }
      ],
      "title" : "Identifying the event"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use events to synchronize access to resources allocated on a heap.",
          "name" : "Implementing a multistage image filter using heaps and events",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/implementing-a-multistage-image-filter-using-heaps-and-events"
        },
        {
          "description" : "Synchronize access to resources in your app by signaling events.",
          "name" : "About synchronization events",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/about-synchronization-events"
        },
        {
          "description" : "Use nonshareable events to synchronize your app’s work within a single device.",
          "name" : "Synchronizing events within a single device",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-within-a-single-device"
        },
        {
          "description" : "Use shareable events to synchronize your app’s work across multiple devices or processes.",
          "name" : "Synchronizing events across multiple devices or processes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-across-multiple-devices-or-processes"
        },
        {
          "description" : "Use shareable events to synchronize your app’s work between a GPU and the CPU.",
          "name" : "Synchronizing events between a GPU and the CPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/synchronizing-events-between-a-gpu-and-the-cpu"
        },
        {
          "description" : "A type that synchronizes memory operations to one or more resources across multiple CPUs, GPUs, and processes.",
          "name" : "MTLSharedEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEvent"
        },
        {
          "description" : "An instance you use to recreate a shareable event.",
          "name" : "MTLSharedEventHandle",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventHandle"
        },
        {
          "description" : "A listener for shareable event notifications.",
          "name" : "MTLSharedEventListener",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventListener"
        },
        {
          "description" : "A block of code invoked after a shareable event’s signal value equals or exceeds a given value.",
          "name" : "MTLSharedEventNotificationBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSharedEventNotificationBlock"
        }
      ],
      "title" : "Synchronizing with events"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        },
        {
          "name" : "Sendable"
        },
        {
          "name" : "SendableMetatype"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLEvent",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLEvent"
}