{
  "abstract" : "Encodes commands that copy and modify resources for a single blit pass.",
  "codeExamples" : [

  ],
  "contentHash" : "b64849a8615fc7de0807441e3ec6baade293d216a286236f7496f06a874d2384",
  "crawledAt" : "2025-12-04T02:16:28Z",
  "declaration" : {
    "code" : "protocol MTLBlitCommandEncoder : MTLCommandEncoder",
    "language" : "swift"
  },
  "id" : "D5ABB316-6B80-4A6D-B62F-3C1911EDCD25",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nCreate a blit encoder by calling one of the factory methods on an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeBlitCommandEncoder()].\n\nA blit command encoder adds commands to a command buffer that modify resources in various ways, including:\n\nYou typically use these commands to move data between a resource that uses private storage and another resource that uses CPU-accessible storage. Some apps also use them to apply image-processing and texture effects, such as blurring or reflections, or to render and work with offscreen image data.\n\nWhen you finish encoding blit commands, finalize the blit pass into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.\n\n### Command stages\n\nMost blit commands apply to one stage within a pass. The following table shows which stages apply to each command:\n\nFor more information about stages and synchronization, see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStages] and [doc:\/\/com.apple.metal\/documentation\/Metal\/resource-synchronization].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\ncrawled: 2025-12-04T02:16:28Z\n---\n\n# MTLBlitCommandEncoder\n\n**Protocol**\n\nEncodes commands that copy and modify resources for a single blit pass.\n\n## Declaration\n\n```swift\nprotocol MTLBlitCommandEncoder : MTLCommandEncoder\n```\n\n## Overview\n\nCreate a blit encoder by calling one of the factory methods on an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeBlitCommandEncoder()].\n\nA blit command encoder adds commands to a command buffer that modify resources in various ways, including:\n\n- Filling buffers with repeating bytes\n- Generating mipmaps for textures\n- Copying data between buffers\n- Copying data between textures\n- Copying data between a texture and a buffer\n- Managing the contents of indirect command buffers\n- Synchronizing buffers, textures, and other resources between the CPU and GPU\n- Improving runtime performance for resources by optimizing their memory layout for the GPU or CPU\n\nYou typically use these commands to move data between a resource that uses private storage and another resource that uses CPU-accessible storage. Some apps also use them to apply image-processing and texture effects, such as blurring or reflections, or to render and work with offscreen image data.\n\nWhen you finish encoding blit commands, finalize the blit pass into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.\n\n### Command stages\n\nMost blit commands apply to one stage within a pass. The following table shows which stages apply to each command:\n\n\n\nFor more information about stages and synchronization, see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStages] and [doc:\/\/com.apple.metal\/documentation\/Metal\/resource-synchronization].\n\n## Filling buffers\n\n- **fill(buffer:range:value:)**: Encodes a command that fills a buffer with a constant value for each byte.\n\n## Generating texture mipmaps\n\n- **generateMipmaps(for:)**: Encodes a command that generates mipmaps for a texture from the base mipmap level up to the highest mipmap level.\n\n## Copying buffer data to another buffer\n\n- **copy(from:sourceOffset:to:destinationOffset:size:)**: Encodes a command that copies data from one buffer into another.\n\n## Copying texture data to another texture\n\n- **copy(from:to:)**: Encodes a command that copies data from one texture to another.\n- **copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)**: Encodes a command that copies slices of a texture to another texture’s slices.\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)**: Encodes a command that copies image data from a texture’s slice into another slice.\n- **copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)**: Encodes a command to copy data from a slice of one tensor into a slice of another tensor.\n\n## Copying buffer data to a texture\n\n- **copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)**: Encodes a command to copy image data from a source buffer into a destination texture.\n- **copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)**: Encodes a command to copy image data from a source buffer into a destination texture.\n\n## Copying texture data to a buffer\n\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)**: Encodes a command that copies image data from a texture slice to a buffer.\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)**: Encodes a command that copies image data from a texture slice to a buffer, and provides options for special texture formats.\n\n## Optimizing textures for GPU access\n\n- **optimizeContentsForGPUAccess(texture:)**: Encodes a command that improves the performance of GPU memory operations with a texture.\n- **optimizeContentsForGPUAccess(texture:slice:level:)**: Encodes a command that improves the performance of GPU memory operations with a specific portion of a texture.\n\n## Optimizing textures for CPU access\n\n- **optimizeContentsForCPUAccess(texture:)**: Encodes a command that improves the performance of CPU memory operations with a texture.\n- **optimizeContentsForCPUAccess(texture:slice:level:)**: Encodes a command that improves the performance of CPU memory operations with a specific portion of a texture.\n\n## Synchronizing managed resources\n\n- **synchronize(resource:)**: Encodes a command that synchronizes the CPU’s copy of a managed resource, such as a buffer or texture, so that it matches the GPU’s copy.\n- **synchronize(texture:slice:level:)**: Encodes a command that synchronizes a part of the CPU’s copy of a texture so that it matches the GPU’s copy.\n\n## Preventing resource access conflicts\n\n- **waitForFence(_:)**: Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.\n- **updateFence(_:)**: Encodes a command that instructs the GPU to update a fence after the blit pass completes.\n\n## Managing indirect command buffers\n\n- **copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)**: Encodes a command that copies commands from one indirect command buffer into another.\n- **resetCommandsInBuffer(_:range:)**: Encodes a command that resets a range of commands in an indirect command buffer.\n- **optimizeIndirectCommandBuffer(_:range:)**: Encodes a command that can improve the performance of a range of commands within an indirect command buffer.\n\n## Sampling counters\n\n- **sampleCounters(sampleBuffer:sampleIndex:barrier:)**: Encodes a command that samples the GPU’s hardware counters during a blit pass and stores the data in a counter sample buffer.\n- **resolveCounters(_:range:destinationBuffer:destinationOffset:)**: Encodes a command that resolves the data from the samples in a sample counter buffer and stores the results into a buffer.\n\n## Managing sparse texture access counters\n\n- **getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)**: Encodes a command that retrieves a sparse texture’s access data for a specific region, mipmap level, and slice.\n- **resetTextureAccessCounters(_:region:mipLevel:slice:)**: Encodes a command that resets a sparse texture’s access data for a specific region, mipmap level, and slice.\n\n## Encoding a blit pass\n\n- **MTLBlitOption**: The options that enable behavior for some blit operations.\n\n## Inherits From\n\n- MTLCommandEncoder\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that fills a buffer with a constant value for each byte.",
          "name" : "fill(buffer:range:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/fill(buffer:range:value:)"
        }
      ],
      "title" : "Filling buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that generates mipmaps for a texture from the base mipmap level up to the highest mipmap level.",
          "name" : "generateMipmaps(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/generateMipmaps(for:)"
        }
      ],
      "title" : "Generating texture mipmaps"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies data from one buffer into another.",
          "name" : "copy(from:sourceOffset:to:destinationOffset:size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:to:destinationOffset:size:)"
        }
      ],
      "title" : "Copying buffer data to another buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies data from one texture to another.",
          "name" : "copy(from:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:to:)"
        },
        {
          "description" : "Encodes a command that copies slices of a texture to another texture’s slices.",
          "name" : "copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)"
        },
        {
          "description" : "Encodes a command that copies image data from a texture’s slice into another slice.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)"
        },
        {
          "description" : "Encodes a command to copy data from a slice of one tensor into a slice of another tensor.",
          "name" : "copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)"
        }
      ],
      "title" : "Copying texture data to another texture"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command to copy image data from a source buffer into a destination texture.",
          "name" : "copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)"
        },
        {
          "description" : "Encodes a command to copy image data from a source buffer into a destination texture.",
          "name" : "copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)"
        }
      ],
      "title" : "Copying buffer data to a texture"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies image data from a texture slice to a buffer.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)"
        },
        {
          "description" : "Encodes a command that copies image data from a texture slice to a buffer, and provides options for special texture formats.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)"
        }
      ],
      "title" : "Copying texture data to a buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that improves the performance of GPU memory operations with a texture.",
          "name" : "optimizeContentsForGPUAccess(texture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForGPUAccess(texture:)"
        },
        {
          "description" : "Encodes a command that improves the performance of GPU memory operations with a specific portion of a texture.",
          "name" : "optimizeContentsForGPUAccess(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForGPUAccess(texture:slice:level:)"
        }
      ],
      "title" : "Optimizing textures for GPU access"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that improves the performance of CPU memory operations with a texture.",
          "name" : "optimizeContentsForCPUAccess(texture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForCPUAccess(texture:)"
        },
        {
          "description" : "Encodes a command that improves the performance of CPU memory operations with a specific portion of a texture.",
          "name" : "optimizeContentsForCPUAccess(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForCPUAccess(texture:slice:level:)"
        }
      ],
      "title" : "Optimizing textures for CPU access"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that synchronizes the CPU’s copy of a managed resource, such as a buffer or texture, so that it matches the GPU’s copy.",
          "name" : "synchronize(resource:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(resource:)"
        },
        {
          "description" : "Encodes a command that synchronizes a part of the CPU’s copy of a texture so that it matches the GPU’s copy.",
          "name" : "synchronize(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(texture:slice:level:)"
        }
      ],
      "title" : "Synchronizing managed resources"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.",
          "name" : "waitForFence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/waitForFence(_:)"
        },
        {
          "description" : "Encodes a command that instructs the GPU to update a fence after the blit pass completes.",
          "name" : "updateFence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/updateFence(_:)"
        }
      ],
      "title" : "Preventing resource access conflicts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies commands from one indirect command buffer into another.",
          "name" : "copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)"
        },
        {
          "description" : "Encodes a command that resets a range of commands in an indirect command buffer.",
          "name" : "resetCommandsInBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resetCommandsInBuffer(_:range:)"
        },
        {
          "description" : "Encodes a command that can improve the performance of a range of commands within an indirect command buffer.",
          "name" : "optimizeIndirectCommandBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeIndirectCommandBuffer(_:range:)"
        }
      ],
      "title" : "Managing indirect command buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that samples the GPU’s hardware counters during a blit pass and stores the data in a counter sample buffer.",
          "name" : "sampleCounters(sampleBuffer:sampleIndex:barrier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/sampleCounters(sampleBuffer:sampleIndex:barrier:)"
        },
        {
          "description" : "Encodes a command that resolves the data from the samples in a sample counter buffer and stores the results into a buffer.",
          "name" : "resolveCounters(_:range:destinationBuffer:destinationOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resolveCounters(_:range:destinationBuffer:destinationOffset:)"
        }
      ],
      "title" : "Sampling counters"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that retrieves a sparse texture’s access data for a specific region, mipmap level, and slice.",
          "name" : "getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)"
        },
        {
          "description" : "Encodes a command that resets a sparse texture’s access data for a specific region, mipmap level, and slice.",
          "name" : "resetTextureAccessCounters(_:region:mipLevel:slice:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resetTextureAccessCounters(_:region:mipLevel:slice:)"
        }
      ],
      "title" : "Managing sparse texture access counters"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The options that enable behavior for some blit operations.",
          "name" : "MTLBlitOption",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitOption"
        }
      ],
      "title" : "Encoding a blit pass"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "MTLCommandEncoder"
        },
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLBlitCommandEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder"
}