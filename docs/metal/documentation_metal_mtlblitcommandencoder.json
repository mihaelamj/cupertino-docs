{
  "abstract" : "An interface you can use to encode GPU commands that copy and modify the underlying memory of various Metal resources.",
  "codeExamples" : [

  ],
  "contentHash" : "a6c354721284d889387eb034b7f40d9e8cfc449c9b3ef390177507e6c07288dd",
  "crawledAt" : "2025-12-02T05:46:45Z",
  "declaration" : {
    "code" : "protocol MTLBlitCommandEncoder : MTLCommandEncoder",
    "language" : "swift"
  },
  "id" : "25BA1B40-7B6E-45D4-AC32-C511FF7DDD72",
  "kind" : "protocol",
  "module" : "Metal",
  "overview" : "## Overview\n\nEach GPU driver implements the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] protocol, an interface you use to encode various commands that copy or manipulate resource data, which include the following:\n\nApps typically use these commands to move data between a resource that uses private storage to, or from, another resource that uses CPU-accessible storage. Some apps use them to apply image-processing and texture effects, such as blurring or reflections, or to render and work with offscreen image data.\n\nYou can create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] instance by calling one of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance’s methods, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeBlitCommandEncoder()]. When you finish encoding blit commands, finalize the blit pass into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\ncrawled: 2025-12-02T05:46:45Z\n---\n\n# MTLBlitCommandEncoder\n\n**Protocol**\n\nAn interface you can use to encode GPU commands that copy and modify the underlying memory of various Metal resources.\n\n## Declaration\n\n```swift\nprotocol MTLBlitCommandEncoder : MTLCommandEncoder\n```\n\n## Overview\n\nEach GPU driver implements the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] protocol, an interface you use to encode various commands that copy or manipulate resource data, which include the following:\n\n- Filling buffers with repeating bytes\n- Generating mipmaps for textures\n- Copying data between buffers\n- Copying data between textures\n- Copying data between a texture and a buffer\n- Managing the contents of indirect command buffers\n- Synchronizing buffers, textures, and other resources between the CPU and GPU\n- Improving runtime performance for resources by optimizing their memory layout for the GPU or CPU\n\nApps typically use these commands to move data between a resource that uses private storage to, or from, another resource that uses CPU-accessible storage. Some apps use them to apply image-processing and texture effects, such as blurring or reflections, or to render and work with offscreen image data.\n\nYou can create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder] instance by calling one of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance’s methods, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeBlitCommandEncoder()]. When you finish encoding blit commands, finalize the blit pass into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.\n\n## Filling buffers with data\n\n- **fill(buffer:range:value:)**: Encodes a command that fills a buffer with a constant value for each byte.\n\n## Generating texture mipmaps\n\n- **generateMipmaps(for:)**: Encodes a command that generates mipmaps for a texture from the base mipmap level up to the highest mipmap level.\n\n## Copying buffer data to another buffer\n\n- **copy(from:sourceOffset:to:destinationOffset:size:)**: Encodes a command that copies data from one buffer into another.\n\n## Copying texture data to another texture\n\n- **copy(from:to:)**: Encodes a command that copies data from one texture to another.\n- **copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)**: Encodes a command that copies slices of a texture to another texture’s slices.\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)**: Encodes a command that copies image data from a texture’s slice into another slice.\n\n## Copying buffer data to a texture\n\n- **copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)**: Encodes a command to copy image data from a source buffer into a destination texture.\n- **copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)**: Encodes a command to copy image data from a source buffer into a destination texture.\n\n## Copying texture data to a buffer\n\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)**: Encodes a command that copies image data from a texture slice to a buffer.\n- **copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)**: Encodes a command that copies image data from a texture slice to a buffer, and provides options for special texture formats.\n\n## Working with textures on the GPU\n\n- **optimizeContentsForGPUAccess(texture:)**: Encodes a command that improves the performance of GPU memory operations with a texture.\n- **optimizeContentsForGPUAccess(texture:slice:level:)**: Encodes a command that improves the performance of GPU memory operations with a specific portion of a texture.\n\n## Working with textures on the CPU\n\n- **optimizeContentsForCPUAccess(texture:)**: Encodes a command that improves the performance of CPU memory operations with a texture.\n- **optimizeContentsForCPUAccess(texture:slice:level:)**: Encodes a command that improves the performance of CPU memory operations with a specific portion of a texture.\n\n## Working with managed resources\n\n- **synchronize(resource:)**: Encodes a command that synchronizes the CPU’s copy of a managed resource, such as a buffer or texture, so that it matches the GPU’s copy.\n- **synchronize(texture:slice:level:)**: Encodes a command that synchronizes a part of the CPU’s copy of a texture so that it matches the GPU’s copy.\n\n## Working with fences\n\n- **waitForFence(_:)**: Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.\n- **updateFence(_:)**: Encodes a command that instructs the GPU to update a fence after the blit pass completes.\n\n## Working with indirect command buffers\n\n- **copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)**: Encodes a command that copies commands from one indirect command buffer into another.\n- **resetCommandsInBuffer(_:range:)**: Encodes a command that resets a range of commands in an indirect command buffer.\n- **optimizeIndirectCommandBuffer(_:range:)**: Encodes a command that can improve the performance of a range of commands within an indirect command buffer.\n\n## Working with sample counter buffers\n\n- **sampleCounters(sampleBuffer:sampleIndex:barrier:)**: Encodes a command that samples the GPU’s hardware counters during a blit pass and stores the data in a counter sample buffer.\n- **resolveCounters(_:range:destinationBuffer:destinationOffset:)**: Encodes a command that resolves the data from the samples in a sample counter buffer and stores the results into a buffer.\n\n## Working with sparse texture access counters\n\n- **getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)**: Encodes a command that retrieves a sparse texture’s access data for a specific region, mipmap level, and slice.\n- **resetTextureAccessCounters(_:region:mipLevel:slice:)**: Encodes a command that resets a sparse texture’s access data for a specific region, mipmap level, and slice.\n\n## Instance Methods\n\n- **copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)**: Encodes a command to copy data from a slice of one tensor into a slice of another tensor.\n\n## Encoding a blit pass\n\n- **MTLBlitOption**: The options that enable behavior for some blit operations.\n\n## Inherits From\n\n- MTLCommandEncoder\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that fills a buffer with a constant value for each byte.",
          "name" : "fill(buffer:range:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/fill(buffer:range:value:)"
        }
      ],
      "title" : "Filling buffers with data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that generates mipmaps for a texture from the base mipmap level up to the highest mipmap level.",
          "name" : "generateMipmaps(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/generateMipmaps(for:)"
        }
      ],
      "title" : "Generating texture mipmaps"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies data from one buffer into another.",
          "name" : "copy(from:sourceOffset:to:destinationOffset:size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:to:destinationOffset:size:)"
        }
      ],
      "title" : "Copying buffer data to another buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies data from one texture to another.",
          "name" : "copy(from:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:to:)"
        },
        {
          "description" : "Encodes a command that copies slices of a texture to another texture’s slices.",
          "name" : "copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:to:destinationSlice:destinationLevel:sliceCount:levelCount:)"
        },
        {
          "description" : "Encodes a command that copies image data from a texture’s slice into another slice.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)"
        }
      ],
      "title" : "Copying texture data to another texture"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command to copy image data from a source buffer into a destination texture.",
          "name" : "copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:)"
        },
        {
          "description" : "Encodes a command to copy image data from a source buffer into a destination texture.",
          "name" : "copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOffset:sourceBytesPerRow:sourceBytesPerImage:sourceSize:to:destinationSlice:destinationLevel:destinationOrigin:options:)"
        }
      ],
      "title" : "Copying buffer data to a texture"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies image data from a texture slice to a buffer.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:)"
        },
        {
          "description" : "Encodes a command that copies image data from a texture slice to a buffer, and provides options for special texture formats.",
          "name" : "copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceSlice:sourceLevel:sourceOrigin:sourceSize:to:destinationOffset:destinationBytesPerRow:destinationBytesPerImage:options:)"
        }
      ],
      "title" : "Copying texture data to a buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that improves the performance of GPU memory operations with a texture.",
          "name" : "optimizeContentsForGPUAccess(texture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForGPUAccess(texture:)"
        },
        {
          "description" : "Encodes a command that improves the performance of GPU memory operations with a specific portion of a texture.",
          "name" : "optimizeContentsForGPUAccess(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForGPUAccess(texture:slice:level:)"
        }
      ],
      "title" : "Working with textures on the GPU"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that improves the performance of CPU memory operations with a texture.",
          "name" : "optimizeContentsForCPUAccess(texture:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForCPUAccess(texture:)"
        },
        {
          "description" : "Encodes a command that improves the performance of CPU memory operations with a specific portion of a texture.",
          "name" : "optimizeContentsForCPUAccess(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeContentsForCPUAccess(texture:slice:level:)"
        }
      ],
      "title" : "Working with textures on the CPU"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that synchronizes the CPU’s copy of a managed resource, such as a buffer or texture, so that it matches the GPU’s copy.",
          "name" : "synchronize(resource:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(resource:)"
        },
        {
          "description" : "Encodes a command that synchronizes a part of the CPU’s copy of a texture so that it matches the GPU’s copy.",
          "name" : "synchronize(texture:slice:level:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(texture:slice:level:)"
        }
      ],
      "title" : "Working with managed resources"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.",
          "name" : "waitForFence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/waitForFence(_:)"
        },
        {
          "description" : "Encodes a command that instructs the GPU to update a fence after the blit pass completes.",
          "name" : "updateFence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/updateFence(_:)"
        }
      ],
      "title" : "Working with fences"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that copies commands from one indirect command buffer into another.",
          "name" : "copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copyIndirectCommandBuffer(_:sourceRange:destination:destinationIndex:)"
        },
        {
          "description" : "Encodes a command that resets a range of commands in an indirect command buffer.",
          "name" : "resetCommandsInBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resetCommandsInBuffer(_:range:)"
        },
        {
          "description" : "Encodes a command that can improve the performance of a range of commands within an indirect command buffer.",
          "name" : "optimizeIndirectCommandBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/optimizeIndirectCommandBuffer(_:range:)"
        }
      ],
      "title" : "Working with indirect command buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that samples the GPU’s hardware counters during a blit pass and stores the data in a counter sample buffer.",
          "name" : "sampleCounters(sampleBuffer:sampleIndex:barrier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/sampleCounters(sampleBuffer:sampleIndex:barrier:)"
        },
        {
          "description" : "Encodes a command that resolves the data from the samples in a sample counter buffer and stores the results into a buffer.",
          "name" : "resolveCounters(_:range:destinationBuffer:destinationOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resolveCounters(_:range:destinationBuffer:destinationOffset:)"
        }
      ],
      "title" : "Working with sample counter buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that retrieves a sparse texture’s access data for a specific region, mipmap level, and slice.",
          "name" : "getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/getTextureAccessCounters(_:region:mipLevel:slice:resetCounters:countersBuffer:countersBufferOffset:)"
        },
        {
          "description" : "Encodes a command that resets a sparse texture’s access data for a specific region, mipmap level, and slice.",
          "name" : "resetTextureAccessCounters(_:region:mipLevel:slice:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/resetTextureAccessCounters(_:region:mipLevel:slice:)"
        }
      ],
      "title" : "Working with sparse texture access counters"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command to copy data from a slice of one tensor into a slice of another tensor.",
          "name" : "copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/copy(from:sourceOrigin:sourceDimensions:to:destinationOrigin:destinationDimensions:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The options that enable behavior for some blit operations.",
          "name" : "MTLBlitOption",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitOption"
        }
      ],
      "title" : "Encoding a blit pass"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "MTLCommandEncoder"
        },
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLBlitCommandEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder"
}