{
  "abstract" : "Create offscreen textures to hold intermediate rasterized data.",
  "codeExamples" : [

  ],
  "contentHash" : "76fa4463d8a049d0249d5d81f5c78ab5dd0b74b2d89b703e6132551efac90cbd",
  "crawledAt" : "2025-12-03T13:12:38Z",
  "id" : "CF684A93-C2BB-4580-8615-BC138BECA46B",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nYou don’t render data directly to the final render destination using variable rasterization rates. Instead, you allocate textures to use as intermediate targets. You get the sizes for these textures from the rate map. For example, if you specified a rate of `0.5` everywhere, the intermediate texture is half the height and width of the final render target.\n\nThe [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap] protocol [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap\/screenSize] property gives the dimensions of the final render target. Call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap\/physicalSize(layer:)]: method on the rate map object to get the size for each layer. Then allocate the textures you need. For example, the following code gets the physical size and allocates a color texture and a depth texture of that size:\n\nTo use variable rasterization rates, create a render pass, specifying the intermediate textures as the render targets. Set the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassDescriptor\/rasterizationRateMap] property to the rate map you created, as shown below:\n\nAfter rendering with a rasterization rate map, you need to scale the intermediate textures to fill your destination texture. To convert between screen space and physical fragment space in your shader, bind the rate map data buffer to the shader with type `rasterization_rate_map_data`, then construct `rasterization_rate_map_decoder` with the buffer data. For more details, see the “Variable Rasterization Rate” section of the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf] and [doc:\/\/com.apple.metal\/documentation\/Metal\/scaling-variable-rasterization-rate-content].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/rendering-with-a-rasterization-rate-map\ncrawled: 2025-12-03T13:12:38Z\n---\n\n# Rendering with a rasterization rate map\n\n**Article**\n\nCreate offscreen textures to hold intermediate rasterized data.\n\n## Overview\n\nYou don’t render data directly to the final render destination using variable rasterization rates. Instead, you allocate textures to use as intermediate targets. You get the sizes for these textures from the rate map. For example, if you specified a rate of `0.5` everywhere, the intermediate texture is half the height and width of the final render target.\n\nThe [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap] protocol [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap\/screenSize] property gives the dimensions of the final render target. Call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRasterizationRateMap\/physicalSize(layer:)]: method on the rate map object to get the size for each layer. Then allocate the textures you need. For example, the following code gets the physical size and allocates a color texture and a depth texture of that size:\n\n\n\nTo use variable rasterization rates, create a render pass, specifying the intermediate textures as the render targets. Set the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPassDescriptor\/rasterizationRateMap] property to the rate map you created, as shown below:\n\n\n\nAfter rendering with a rasterization rate map, you need to scale the intermediate textures to fill your destination texture. To convert between screen space and physical fragment space in your shader, bind the rate map data buffer to the shader with type `rasterization_rate_map_data`, then construct `rasterization_rate_map_decoder` with the buffer data. For more details, see the “Variable Rasterization Rate” section of the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf] and [doc:\/\/com.apple.metal\/documentation\/Metal\/scaling-variable-rasterization-rate-content].\n\n## Rasterization settings\n\n- **Rendering at different rasterization rates**: Configure a rasterization rate map to vary rasterization rates depending on the amount of detail needed.\n- **Creating a rasterization rate map**: Define the rasterization rates for each part of your render target.\n- **Scaling variable rasterization rate content**: Use the rate map data to scale the content to fill your destination texture.\n- **MTLRasterizationRateMapDescriptor**: An object that you use to configure new rasterization rate maps.\n- **MTLRasterizationRateMap**: A compiled read-only instance that determines how to apply variable rasterization rates when rendering.\n- **MTLCoordinate2D**: A coordinate in the viewport.\n- **MTLCoordinate2DMake(_:_:)**: Returns a new 2D point with the specified coordinates.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure a rasterization rate map to vary rasterization rates depending on the amount of detail needed.",
          "name" : "Rendering at different rasterization rates",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/rendering-at-different-rasterization-rates"
        },
        {
          "description" : "Define the rasterization rates for each part of your render target.",
          "name" : "Creating a rasterization rate map",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/creating-a-rasterization-rate-map"
        },
        {
          "description" : "Use the rate map data to scale the content to fill your destination texture.",
          "name" : "Scaling variable rasterization rate content",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/scaling-variable-rasterization-rate-content"
        },
        {
          "description" : "An object that you use to configure new rasterization rate maps.",
          "name" : "MTLRasterizationRateMapDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRasterizationRateMapDescriptor"
        },
        {
          "description" : "A compiled read-only instance that determines how to apply variable rasterization rates when rendering.",
          "name" : "MTLRasterizationRateMap",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRasterizationRateMap"
        },
        {
          "description" : "A coordinate in the viewport.",
          "name" : "MTLCoordinate2D",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCoordinate2D"
        },
        {
          "description" : "Returns a new 2D point with the specified coordinates.",
          "name" : "MTLCoordinate2DMake(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCoordinate2DMake(_:_:)"
        }
      ],
      "title" : "Rasterization settings"
    }
  ],
  "source" : "appleJSON",
  "title" : "Rendering with a rasterization rate map",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/rendering-with-a-rasterization-rate-map"
}