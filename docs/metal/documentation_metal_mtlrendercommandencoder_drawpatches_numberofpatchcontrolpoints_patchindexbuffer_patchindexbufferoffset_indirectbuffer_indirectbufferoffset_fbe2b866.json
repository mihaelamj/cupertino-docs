{
  "abstract" : "Encodes a draw command that renders multiple instances of tessellated patches with indirect arguments.",
  "codeExamples" : [

  ],
  "contentHash" : "865654a81916cb3ca97ee40bdfd4fbda9b09c689d49e4a7379e8ba7c1a73aaca",
  "crawledAt" : "2025-12-06T11:08:45Z",
  "declaration" : {
    "code" : "func drawPatches(numberOfPatchControlPoints: Int, patchIndexBuffer: (any MTLBuffer)?, patchIndexBufferOffset: Int, indirectBuffer: any MTLBuffer, indirectBufferOffset: Int)",
    "language" : "swift"
  },
  "id" : "292D1B04-6698-4F7F-8A4B-1CDA7005BADA",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nIndirect drawing methods may help your app avoid expensive latency costs. This is because the command reads arguments from an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance instead of using the CPU to pass parameters to the command.\n\nThe method records the encoder’s current rendering state and resources the command needs as it runs. You can safely change the encoder’s render pipeline state to encode other commands after calling this method. Subsequent changes to the state don’t affect the commands already in the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawPatches(numberOfPatchControlPoints:patchIndexBuffer:patchIndexBufferOffset:indirectBuffer:indirectBufferOffset:)\ncrawled: 2025-12-06T11:08:45Z\n---\n\n# drawPatches(numberOfPatchControlPoints:patchIndexBuffer:patchIndexBufferOffset:indirectBuffer:indirectBufferOffset:)\n\n**Instance Method**\n\nEncodes a draw command that renders multiple instances of tessellated patches with indirect arguments.\n\n## Declaration\n\n```swift\nfunc drawPatches(numberOfPatchControlPoints: Int, patchIndexBuffer: (any MTLBuffer)?, patchIndexBufferOffset: Int, indirectBuffer: any MTLBuffer, indirectBufferOffset: Int)\n```\n\n## Parameters\n\n- **numberOfPatchControlPoints**: The number of control points for each patch, which needs to be in the range `[0, 32]`.\n- **patchIndexBuffer**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance that contains the indices to patches.\n- **patchIndexBufferOffset**: An integer that represents the location, in bytes, from the start of `patchIndexBuffer` where the patch indices begin.\n- **indirectBuffer**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance with data that matches the layout of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDrawPatchIndirectArguments] structure.\n- **indirectBufferOffset**: An integer that represents the location, in bytes, from the start of `indirectBuffer` where the indirect arguments structure begins.\n\nSee the [https:\/\/developer.apple.com\/metal\/Metal-Feature-Set-Tables.pdf] to check for offset alignment requirements for buffers in `device` and `constant` address space.\n\n## Discussion\n\nIndirect drawing methods may help your app avoid expensive latency costs. This is because the command reads arguments from an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance instead of using the CPU to pass parameters to the command.\n\nThe method records the encoder’s current rendering state and resources the command needs as it runs. You can safely change the encoder’s render pipeline state to encode other commands after calling this method. Subsequent changes to the state don’t affect the commands already in the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].\n\n## Drawing with tessellation patches\n\n- **drawPatches(numberOfPatchControlPoints:patchStart:patchCount:patchIndexBuffer:patchIndexBufferOffset:instanceCount:baseInstance:)**: Encodes a draw command that renders multiple instances of tessellated patches.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a draw command that renders multiple instances of tessellated patches.",
          "name" : "drawPatches(numberOfPatchControlPoints:patchStart:patchCount:patchIndexBuffer:patchIndexBufferOffset:instanceCount:baseInstance:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawPatches(numberOfPatchControlPoints:patchStart:patchCount:patchIndexBuffer:patchIndexBufferOffset:instanceCount:baseInstance:)"
        }
      ],
      "title" : "Drawing with tessellation patches"
    }
  ],
  "source" : "appleJSON",
  "title" : "drawPatches(numberOfPatchControlPoints:patchIndexBuffer:patchIndexBufferOffset:indirectBuffer:indirectBufferOffset:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawPatches(numberOfPatchControlPoints:patchIndexBuffer:patchIndexBufferOffset:indirectBuffer:indirectBufferOffset:)"
}