{
  "abstract" : "Encodes a command into the command buffer that pauses the GPU from running the buffer’s subsequent passes until the event equals or exceeds a value.",
  "codeExamples" : [

  ],
  "contentHash" : "deb2a12680382a148a9044dc3f976b9f8164548ab4d3f1159a521991cbb61fbd",
  "crawledAt" : "2025-12-04T23:36:47Z",
  "declaration" : {
    "code" : "func encodeWaitForEvent(_ event: any MTLEvent, value: UInt64)",
    "language" : "swift"
  },
  "id" : "C90FBC11-FA17-44ED-87AF-AD9DBEF9F586",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nThis method prevents the GPU from starting the next pass in the command buffer until another command buffer signals `event` (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)].\n\nA command buffer can instruct the GPU to wait for an event only between passes, not within a pass. If a command buffer has an active encoder, finish using the encoder, call its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method, and then call this method before creating another encoder.\n\nWhen the GPU device reaches the wait command that this method encodes into the buffer, it checks the event’s current value. If the event’s value — which increases monotonically — is less than the `value` parameter, the GPU waits before running the next pass in the buffer. The GPU starts the next pass when the event signals a value that’s equal to or greater than the `value` parameter (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)]). However, If the event’s value is already greater than or equal to the `value` parameter, the GPU immediately starts the next pass without waiting.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBuffer\/encodeWaitForEvent(_:value:)\ncrawled: 2025-12-04T23:36:47Z\n---\n\n# encodeWaitForEvent(_:value:)\n\n**Instance Method**\n\nEncodes a command into the command buffer that pauses the GPU from running the buffer’s subsequent passes until the event equals or exceeds a value.\n\n## Declaration\n\n```swift\nfunc encodeWaitForEvent(_ event: any MTLEvent, value: UInt64)\n```\n\n## Parameters\n\n- **event**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLEvent] instance the GPU driver waits for between passes as it runs the command buffer.\n\nIf `event` is an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLSharedEvent] instance, a command buffer from any GPU device can signal this command buffer. Otherwise, only command buffers from the same GPU device can signal this command buffer.\n- **value**: The event’s smallest value that allows the GPU to continue running the remaining passes in the command buffer.\n\n## Discussion\n\nThis method prevents the GPU from starting the next pass in the command buffer until another command buffer signals `event` (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)].\n\nA command buffer can instruct the GPU to wait for an event only between passes, not within a pass. If a command buffer has an active encoder, finish using the encoder, call its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method, and then call this method before creating another encoder.\n\nWhen the GPU device reaches the wait command that this method encodes into the buffer, it checks the event’s current value. If the event’s value — which increases monotonically — is less than the `value` parameter, the GPU waits before running the next pass in the buffer. The GPU starts the next pass when the event signals a value that’s equal to or greater than the `value` parameter (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)]). However, If the event’s value is already greater than or equal to the `value` parameter, the GPU immediately starts the next pass without waiting.\n\n## Synchronizing passes with events\n\n- **encodeSignalEvent(_:value:)**: Encodes a command that updates an event’s value, which can clear the GPU to run passes from other command buffers waiting for the event.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that updates an event’s value, which can clear the GPU to run passes from other command buffers waiting for the event.",
          "name" : "encodeSignalEvent(_:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBuffer\/encodeSignalEvent(_:value:)"
        }
      ],
      "title" : "Synchronizing passes with events"
    }
  ],
  "source" : "appleJSON",
  "title" : "encodeWaitForEvent(_:value:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandBuffer\/encodeWaitForEvent(_:value:)"
}