{
  "abstract" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices, starting with a custom vertex and instance.",
  "codeExamples" : [

  ],
  "contentHash" : "3f7ba41a6a5427c36b0415d19da116d1ac364b149472b98355c570509d78b8c4",
  "crawledAt" : "2025-12-06T11:08:41Z",
  "declaration" : {
    "code" : "func drawIndexedPrimitives(type primitiveType: MTLPrimitiveType, indexCount: Int, indexType: MTLIndexType, indexBuffer: any MTLBuffer, indexBufferOffset: Int, instanceCount: Int, baseVertex: Int, baseInstance: Int)",
    "language" : "swift"
  },
  "id" : "D145D252-A144-46E1-90F0-EA67E1730CC7",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nYou can complete a primitive and start a new one by passing a sentinel index value that’s the largest unsigned integer possible for `indexType`. For example, the largest unsigned integer for [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32] is `0xFFFF` and `0xFFFFFFFF`, respectively. The command finishes the current primitive and begins drawing a new one each time the command reads a sentinel index value.\n\nThe method records the encoder’s current rendering state and resources the command needs as it runs. You can safely change the encoder’s render pipeline state to encode other commands after calling this method. Subsequent changes to the state don’t affect the commands already in the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:baseVertex:baseInstance:)\ncrawled: 2025-12-06T11:08:41Z\n---\n\n# drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:baseVertex:baseInstance:)\n\n**Instance Method**\n\nEncodes a draw command that renders multiple instances of a geometric primitive with indexed vertices, starting with a custom vertex and instance.\n\n## Declaration\n\n```swift\nfunc drawIndexedPrimitives(type primitiveType: MTLPrimitiveType, indexCount: Int, indexType: MTLIndexType, indexBuffer: any MTLBuffer, indexBufferOffset: Int, instanceCount: Int, baseVertex: Int, baseInstance: Int)\n```\n\n## Parameters\n\n- **primitiveType**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLPrimitiveType] instance that represents how the command interprets vertex argument data.\n\nSee the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/setVertexBuffer(_:offset:index:)] method and its siblings for more information about setting an entry in the vertex shader argument table for buffers.\n- **indexCount**: An integer that represents the number of vertices the command reads from `indexBuffer` for each instance.\n- **indexType**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType] instance that represents the index’s format, including [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32].\n- **indexBuffer**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance that contains the `indexCount` vertex indices of the `indexType` format.\n- **indexBufferOffset**: An integer that represents the location that’s a multiple of the index size from the start of `indexBuffer` where the vertex indices begin.\n- **instanceCount**: An integer that represents the number of times the command draws `primitiveType` with `indexCount` vertices.\n- **baseVertex**: The lowest value the command passes to your vertex shader’s parameter with the `vertex_id` attribute. The command assigns each vertex a unique `vertex_id` value that increases from `baseVertex` through `(baseVertex + indexCount - 1)`. Your shader can use that value to identify each vertex in the `primitiveType` instance.\n\nFor more information about the `vertex_id` argument attribute for vertex shaders, see the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf].\n- **baseInstance**: The lowest value the command passes to your vertex shader’s parameter with the `instance_id` attribute.\n\nThe command assigns each drawing instance a unique `instance_id` value that increases from `baseInstance` through `(baseInstance + instanceCount - 1)`. Your shader can use that value to identify which instance the vertex belongs to.\n\nFor more information about the `instance_id` argument attribute for vertex shaders, see the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf].\n\n## Discussion\n\nYou can complete a primitive and start a new one by passing a sentinel index value that’s the largest unsigned integer possible for `indexType`. For example, the largest unsigned integer for [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint16] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLIndexType\/uint32] is `0xFFFF` and `0xFFFFFFFF`, respectively. The command finishes the current primitive and begins drawing a new one each time the command reads a sentinel index value.\n\nThe method records the encoder’s current rendering state and resources the command needs as it runs. You can safely change the encoder’s render pipeline state to encode other commands after calling this method. Subsequent changes to the state don’t affect the commands already in the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].\n\n## Drawing with indexed vertices\n\n- **drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:)**: Encodes a draw command that renders an instance of a geometric primitive with indexed vertices.\n- **drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:)**: Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices.\n- **drawIndexedPrimitives(type:indexType:indexBuffer:indexBufferOffset:indirectBuffer:indirectBufferOffset:)**: Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices and indirect arguments.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a draw command that renders an instance of a geometric primitive with indexed vertices.",
          "name" : "drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:)"
        },
        {
          "description" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices.",
          "name" : "drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:)"
        },
        {
          "description" : "Encodes a draw command that renders multiple instances of a geometric primitive with indexed vertices and indirect arguments.",
          "name" : "drawIndexedPrimitives(type:indexType:indexBuffer:indexBufferOffset:indirectBuffer:indirectBufferOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawIndexedPrimitives(type:indexType:indexBuffer:indexBufferOffset:indirectBuffer:indirectBufferOffset:)"
        }
      ],
      "title" : "Drawing with indexed vertices"
    }
  ],
  "source" : "appleJSON",
  "title" : "drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:baseVertex:baseInstance:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/drawIndexedPrimitives(type:indexCount:indexType:indexBuffer:indexBufferOffset:instanceCount:baseVertex:baseInstance:)"
}