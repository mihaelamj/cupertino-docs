{
  "abstract" : "An interface you can use to encode argument data into an argument buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "152f3913db4084a245f9b2c8c44783abae3304d9389dba14ef07fc2c696124f4",
  "crawledAt" : "2025-12-02T19:37:44Z",
  "declaration" : {
    "code" : "protocol MTLArgumentEncoder : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "65ECCB7F-315E-4079-A85D-074EC3AABB67",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nAn [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentEncoder] instance encodes buffers, textures, samplers, and inlined constant data into an argument buffer. An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance represents the argument buffer that you set as the encoding destination by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentEncoder\/setArgumentBuffer(_:offset:)] method.\n\nThe recommended way to declare an argument buffer is to define its structure in your Metal shading language code. You can assign the argument buffer to a function’s specific buffer index. To create an encoder for this type of argument buffer, call one of the following [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFunction] methods:\n\nIf you construct your shaders dynamically at runtime, you can still construct argument buffers as parameters for the shader. Define each argument separately and then add it to an array of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentDescriptor] instances. To create an encoder for this type of argument buffer, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeArgumentEncoder(arguments:)] method of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] class.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/metal\/mtlargumentencoder\ncrawled: 2025-12-02T19:37:44Z\n---\n\n# MTLArgumentEncoder\n\n**Protocol**\n\nAn interface you can use to encode argument data into an argument buffer.\n\n## Declaration\n\n```swift\nprotocol MTLArgumentEncoder : NSObjectProtocol\n```\n\n## Overview\n\nAn [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentEncoder] instance encodes buffers, textures, samplers, and inlined constant data into an argument buffer. An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBuffer] instance represents the argument buffer that you set as the encoding destination by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentEncoder\/setArgumentBuffer(_:offset:)] method.\n\nThe recommended way to declare an argument buffer is to define its structure in your Metal shading language code. You can assign the argument buffer to a function’s specific buffer index. To create an encoder for this type of argument buffer, call one of the following [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFunction] methods:\n\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFunction\/makeArgumentEncoder(bufferIndex:)]\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFunction\/makeArgumentEncoder(bufferIndex:reflection:)]\n\nIf you construct your shaders dynamically at runtime, you can still construct argument buffers as parameters for the shader. Define each argument separately and then add it to an array of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLArgumentDescriptor] instances. To create an encoder for this type of argument buffer, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeArgumentEncoder(arguments:)] method of the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] class.\n\n\n\n## Creating an argument buffer\n\n- **setArgumentBuffer(_:offset:)**: Specifies the position in a buffer where the encoder writes argument data.\n- **setArgumentBuffer(_:startOffset:arrayElement:)**: Specifies an array element within a buffer where the encoder writes argument data.\n- **encodedLength**: The number of bytes required to store the encoded resources of an argument buffer.\n\n## Encoding buffers\n\n- **setBuffer(_:offset:index:)**: Encodes a reference to a buffer into the argument buffer.\n- **setBuffers(_:offsets:range:)**: Encodes references to an array of buffers into the argument buffer.\n\n## Encoding textures\n\n- **setTexture(_:index:)**: Encodes a reference to a texture into the argument buffer.\n- **setTextures(_:range:)**: Encodes references to an array of textures into the argument buffer.\n\n## Encoding samplers\n\n- **setSamplerState(_:index:)**: Encodes a sampler into the argument buffer.\n- **setSamplerStates(_:range:)**: Encodes an array of samplers into the argument buffer.\n\n## Encoding pipeline states\n\n- **setRenderPipelineState(_:index:)**: Encodes a reference to a render pipeline state into the argument buffer.\n- **setRenderPipelineStates(_:range:)**: Encodes references to an array of render pipeline states into the argument buffer.\n- **setComputePipelineState(_:index:)**: Encodes a reference to a compute pipeline state into the argument buffer.\n- **setComputePipelineStates(_:with:)**: Encodes references to an array of compute pipeline states into the argument buffer.\n- **setComputePipelineState(_:at:)**: Encodes a reference to a compute pipeline state into the argument buffer.\n- **setComputePipelineStates(_:range:)**: Encodes references to an array of compute pipeline states into the argument buffer.\n\n## Encoding inlined constant data\n\n- **constantData(at:)**: Returns a pointer to an inline, constant-data argument within the argument buffer.\n\n## Encoding indirect command buffers\n\n- **setIndirectCommandBuffer(_:index:)**: Encodes a reference to an indirect command buffer into the argument buffer.\n- **setIndirectCommandBuffers(_:range:)**: Encodes an array of indirect command buffers into the argument buffer.\n\n## Encoding acceleration structures\n\n- **setAccelerationStructure(_:index:)**: Encodes a reference to an acceleration structure into the argument buffer.\n\n## Encoding function tables\n\n- **setVisibleFunctionTable(_:index:)**: Encodes a reference to a visible-function table into the argument buffer.\n- **setIntersectionFunctionTable(_:index:)**: Encodes a reference to a ray-tracing intersection-function table into the argument buffer.\n- **setIntersectionFunctionTables(_:range:)**: Encodes references to an array of ray-tracing intersection-function tables into the argument buffer.\n- **setVisibleFunctionTables(_:range:)**: Encodes references to an array of ray-tracing intersection-function tables into the argument buffer.\n\n## Creating a nested argument encoder\n\n- **makeArgumentEncoderForBuffer(atIndex:)**: Creates a new argument encoder for a nested argument buffer.\n\n## Querying alignment\n\n- **alignment**: The alignment, in bytes, required for storing the encoded resources of an argument buffer.\n\n## Identifying the argument encoder\n\n- **label**: A string that identifies the argument buffer.\n- **device**: The device object that created the argument encoder.\n\n## Instance Methods\n\n- **setDepthStencilState(_:index:)**\n- **setDepthStencilStates(_:range:)**\n\n## Argument buffers\n\n- **Improving CPU performance by using argument buffers**: Optimize your app’s performance by grouping your resources into argument buffers.\n- **Managing groups of resources with argument buffers**: Create argument buffers to organize related resources.\n- **Tracking the resource residency of argument buffers**: Optimize resource performance within an argument buffer.\n- **Indexing argument buffers**: Assign resource indices within an argument buffer.\n- **Rendering terrain dynamically with argument buffers**: Use argument buffers to render terrain in real time with a GPU-driven pipeline.\n- **Encoding argument buffers on the GPU**: Use a compute pass to encode an argument buffer and access its arguments in a subsequent render pass.\n- **Using argument buffers with resource heaps**: Reduce CPU overhead by using arrays inside argument buffers and combining them with resource heaps.\n- **MTLArgumentDescriptor**: A representation of an argument within an argument buffer.\n- **MTLAttributeStrideStatic**\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specifies the position in a buffer where the encoder writes argument data.",
          "name" : "setArgumentBuffer(_:offset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setArgumentBuffer(_:offset:)"
        },
        {
          "description" : "Specifies an array element within a buffer where the encoder writes argument data.",
          "name" : "setArgumentBuffer(_:startOffset:arrayElement:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setArgumentBuffer(_:startOffset:arrayElement:)"
        },
        {
          "description" : "The number of bytes required to store the encoded resources of an argument buffer.",
          "name" : "encodedLength",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/encodedLength"
        }
      ],
      "title" : "Creating an argument buffer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to a buffer into the argument buffer.",
          "name" : "setBuffer(_:offset:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setBuffer(_:offset:index:)"
        },
        {
          "description" : "Encodes references to an array of buffers into the argument buffer.",
          "name" : "setBuffers(_:offsets:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setBuffers(_:offsets:range:)"
        }
      ],
      "title" : "Encoding buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to a texture into the argument buffer.",
          "name" : "setTexture(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setTexture(_:index:)"
        },
        {
          "description" : "Encodes references to an array of textures into the argument buffer.",
          "name" : "setTextures(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setTextures(_:range:)"
        }
      ],
      "title" : "Encoding textures"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a sampler into the argument buffer.",
          "name" : "setSamplerState(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setSamplerState(_:index:)"
        },
        {
          "description" : "Encodes an array of samplers into the argument buffer.",
          "name" : "setSamplerStates(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setSamplerStates(_:range:)"
        }
      ],
      "title" : "Encoding samplers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to a render pipeline state into the argument buffer.",
          "name" : "setRenderPipelineState(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setRenderPipelineState(_:index:)"
        },
        {
          "description" : "Encodes references to an array of render pipeline states into the argument buffer.",
          "name" : "setRenderPipelineStates(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setRenderPipelineStates(_:range:)"
        },
        {
          "description" : "Encodes a reference to a compute pipeline state into the argument buffer.",
          "name" : "setComputePipelineState(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setComputePipelineState(_:index:)"
        },
        {
          "description" : "Encodes references to an array of compute pipeline states into the argument buffer.",
          "name" : "setComputePipelineStates(_:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setComputePipelineStates(_:with:)"
        },
        {
          "description" : "Encodes a reference to a compute pipeline state into the argument buffer.",
          "name" : "setComputePipelineState(_:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setComputePipelineState(_:at:)"
        },
        {
          "description" : "Encodes references to an array of compute pipeline states into the argument buffer.",
          "name" : "setComputePipelineStates(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setComputePipelineStates(_:range:)"
        }
      ],
      "title" : "Encoding pipeline states"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a pointer to an inline, constant-data argument within the argument buffer.",
          "name" : "constantData(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/constantData(at:)"
        }
      ],
      "title" : "Encoding inlined constant data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to an indirect command buffer into the argument buffer.",
          "name" : "setIndirectCommandBuffer(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setIndirectCommandBuffer(_:index:)"
        },
        {
          "description" : "Encodes an array of indirect command buffers into the argument buffer.",
          "name" : "setIndirectCommandBuffers(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setIndirectCommandBuffers(_:range:)"
        }
      ],
      "title" : "Encoding indirect command buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to an acceleration structure into the argument buffer.",
          "name" : "setAccelerationStructure(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setAccelerationStructure(_:index:)"
        }
      ],
      "title" : "Encoding acceleration structures"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a reference to a visible-function table into the argument buffer.",
          "name" : "setVisibleFunctionTable(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setVisibleFunctionTable(_:index:)"
        },
        {
          "description" : "Encodes a reference to a ray-tracing intersection-function table into the argument buffer.",
          "name" : "setIntersectionFunctionTable(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setIntersectionFunctionTable(_:index:)"
        },
        {
          "description" : "Encodes references to an array of ray-tracing intersection-function tables into the argument buffer.",
          "name" : "setIntersectionFunctionTables(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setIntersectionFunctionTables(_:range:)"
        },
        {
          "description" : "Encodes references to an array of ray-tracing intersection-function tables into the argument buffer.",
          "name" : "setVisibleFunctionTables(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setVisibleFunctionTables(_:range:)"
        }
      ],
      "title" : "Encoding function tables"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new argument encoder for a nested argument buffer.",
          "name" : "makeArgumentEncoderForBuffer(atIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/makeArgumentEncoderForBuffer(atIndex:)"
        }
      ],
      "title" : "Creating a nested argument encoder"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The alignment, in bytes, required for storing the encoded resources of an argument buffer.",
          "name" : "alignment",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/alignment"
        }
      ],
      "title" : "Querying alignment"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A string that identifies the argument buffer.",
          "name" : "label",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/label"
        },
        {
          "description" : "The device object that created the argument encoder.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/device"
        }
      ],
      "title" : "Identifying the argument encoder"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "setDepthStencilState(_:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setDepthStencilState(_:index:)"
        },
        {
          "description" : "",
          "name" : "setDepthStencilStates(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentEncoder\/setDepthStencilStates(_:range:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Optimize your app’s performance by grouping your resources into argument buffers.",
          "name" : "Improving CPU performance by using argument buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/improving-cpu-performance-by-using-argument-buffers"
        },
        {
          "description" : "Create argument buffers to organize related resources.",
          "name" : "Managing groups of resources with argument buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/managing-groups-of-resources-with-argument-buffers"
        },
        {
          "description" : "Optimize resource performance within an argument buffer.",
          "name" : "Tracking the resource residency of argument buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/tracking-the-resource-residency-of-argument-buffers"
        },
        {
          "description" : "Assign resource indices within an argument buffer.",
          "name" : "Indexing argument buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/indexing-argument-buffers"
        },
        {
          "description" : "Use argument buffers to render terrain in real time with a GPU-driven pipeline.",
          "name" : "Rendering terrain dynamically with argument buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/rendering-terrain-dynamically-with-argument-buffers"
        },
        {
          "description" : "Use a compute pass to encode an argument buffer and access its arguments in a subsequent render pass.",
          "name" : "Encoding argument buffers on the GPU",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/encoding-argument-buffers-on-the-gpu"
        },
        {
          "description" : "Reduce CPU overhead by using arrays inside argument buffers and combining them with resource heaps.",
          "name" : "Using argument buffers with resource heaps",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/using-argument-buffers-with-resource-heaps"
        },
        {
          "description" : "A representation of an argument within an argument buffer.",
          "name" : "MTLArgumentDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArgumentDescriptor"
        },
        {
          "description" : "",
          "name" : "MTLAttributeStrideStatic",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLAttributeStrideStatic"
        }
      ],
      "title" : "Argument buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLArgumentEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/metal\/mtlargumentencoder"
}