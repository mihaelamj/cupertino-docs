{
  "abstract" : "Load assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.",
  "codeExamples" : [

  ],
  "contentHash" : "88beb5b6fb13075495cbee4c0b4eb846b2dd8d8d3d46bae5b80ffcede9653a00",
  "crawledAt" : "2025-12-03T04:37:54Z",
  "id" : "BD6DED98-D2FE-412D-9E00-26674816C7AC",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Metal",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/resource-creation\ncrawled: 2025-12-03T04:37:54Z\n---\n\n# Resource creation\n\n**API Collection**\n\nLoad assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.\n\n## Working with resource heaps\n\n- **makeHeap(descriptor:)**: Creates a new GPU heap instance.\n- **heapBufferSizeAndAlign(length:options:)**: Returns the size and alignment, in bytes, of a buffer if you create it from a heap.\n- **heapTextureSizeAndAlign(descriptor:)**: Returns the size and alignment, in bytes, of a texture if you create it from a heap.\n- **heapAccelerationStructureSizeAndAlign(size:)**: Returns the size and alignment, in bytes, of an acceleration structure if you create it from a heap.\n- **heapAccelerationStructureSizeAndAlign(descriptor:)**: Returns the size and alignment, in bytes, of an acceleration structure if you create it from a heap with a descriptor.\n- **MTLSizeAndAlign**: The size and alignment of a resource, in bytes.\n\n## Creating buffers\n\n- **maxBufferLength**: The largest amount of memory, in bytes, that a GPU device can allocate to a buffer instance.\n- **makeBuffer(length:options:)**: Creates a buffer the method clears with zero values.\n- **makeBuffer(bytes:length:options:)**: Allocates a new buffer of a given length and initializes its contents by copying existing data into it.\n- **makeBuffer(bytesNoCopy:length:options:deallocator:)**: Creates a buffer that wraps an existing contiguous memory allocation.\n\n## Creating textures\n\n- **makeTexture(descriptor:)**: Creates a new texture instance.\n- **makeTexture(descriptor:iosurface:plane:)**: Creates a texture instance that uses I\/O surface to store its underlying data.\n- **makeSharedTexture(descriptor:)**: Creates a texture that you can share across process boundaries.\n- **makeSharedTexture(handle:)**: Creates a texture that references a shared texture.\n- **minimumLinearTextureAlignment(for:)**: Returns the minimum alignment the GPU device requires to create a linear texture from a buffer.\n- **minimumTextureBufferAlignment(for:)**: Returns the minimum alignment the GPU device requires to create a texture buffer from a buffer.\n\n## Creating samplers\n\n- **supportsTextureSampleCount(_:)**: Returns a Boolean value that indicates whether the GPU can sample a texture with a specific number of sample points.\n- **makeSamplerState(descriptor:)**: Creates a sampler state instance.\n- **getDefaultSamplePositions(sampleCount:)**: Returns the default sample locations based on the number of samples.\n\n## Working with sparse textures\n\n- **sparseTileSize(textureType:pixelFormat:sampleCount:sparsePageSize:)**: Returns the dimensions of a sparse tile for a texture that has a specific sparse page size.\n- **sparseTileSize(with:pixelFormat:sampleCount:)**: Returns the dimensions of a sparse tile for a texture.\n- **sparseTileSizeInBytes(sparsePageSize:)**: Returns the size, in bytes, of a sparse tile the GPU device creates with a specific page size.\n- **sparseTileSizeInBytes**: Returns the size, in bytes, of a sparse tile the GPU device creates using a default page size.\n- **convertSparsePixelRegions(_:toTileRegions:withTileSize:alignmentMode:numRegions:)**: Converts a list of sparse pixel regions to tile regions.\n- **convertSparseTileRegions(_:toPixelRegions:withTileSize:numRegions:)**: Converts a list of sparse tile regions to pixel regions.\n- **MTLSparsePageSize**: The page size options, in kilobytes, for sparse textures.\n- **MTLSparseTextureRegionAlignmentMode**: Options used when converting between a pixel-based region within a texture to a tile-based region.\n\n## Creating acceleration structures for ray tracing\n\n- **makeAccelerationStructure(descriptor:)**: Creates a new ray-tracing acceleration structure from a descriptor.\n- **makeAccelerationStructure(size:)**: Creates a new acceleration structure with a specific size.\n- **accelerationStructureSizes(descriptor:)**: Returns the buffer sizes the GPU device needs to build, refit, and store an acceleration structure.\n- **MTLAccelerationStructureSizes**: The expected sizes for a ray-tracing acceleration structure.\n\n## Creating argument buffer encoders\n\n- **argumentBuffersSupport**: Returns the GPU device’s support tier for argument buffers.\n- **maxArgumentBufferSamplerCount**: The maximum number of unique argument buffer samplers per app.\n- **makeArgumentEncoder(arguments:)**: Creates a new argument encoder for an array of arguments.\n- **makeArgumentEncoder(bufferBinding:)**: Creates a new argument encoder for a buffer binding.\n\n## Creating fences and events\n\n- **makeFence()**: Creates a new memory fence instance.\n- **makeEvent()**: Creates a new event instance that you can use to synchronize commands and resources within the same GPU device.\n- **makeSharedEvent()**: Creates a new shared event instance that you can use to synchronize commands and resources across different GPU devices.\n- **makeSharedEvent(handle:)**: Recreates a shared event from a handle.\n\n## Creating rasterization rate maps\n\n- **supportsRasterizationRateMap(layerCount:)**: Returns a Boolean value that indicates whether the GPU can create a rasterization rate map with a specific number of layers.\n- **makeRasterizationRateMap(descriptor:)**: Creates a rasterization rate map instance.\n\n## Working with GPU devices\n\n- **Device inspection**: Locate and identify a GPU and the features it supports, and sample its counters.\n- **Work submission**: Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.\n- **Pipeline state creation**: Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.\n- **Shader library and archive creation**: Create static and dynamic shader libraries, and binary shader archives.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new GPU heap instance.",
          "name" : "makeHeap(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeHeap(descriptor:)"
        },
        {
          "description" : "Returns the size and alignment, in bytes, of a buffer if you create it from a heap.",
          "name" : "heapBufferSizeAndAlign(length:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/heapBufferSizeAndAlign(length:options:)"
        },
        {
          "description" : "Returns the size and alignment, in bytes, of a texture if you create it from a heap.",
          "name" : "heapTextureSizeAndAlign(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/heapTextureSizeAndAlign(descriptor:)"
        },
        {
          "description" : "Returns the size and alignment, in bytes, of an acceleration structure if you create it from a heap.",
          "name" : "heapAccelerationStructureSizeAndAlign(size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/heapAccelerationStructureSizeAndAlign(size:)"
        },
        {
          "description" : "Returns the size and alignment, in bytes, of an acceleration structure if you create it from a heap with a descriptor.",
          "name" : "heapAccelerationStructureSizeAndAlign(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/heapAccelerationStructureSizeAndAlign(descriptor:)"
        },
        {
          "description" : "The size and alignment of a resource, in bytes.",
          "name" : "MTLSizeAndAlign",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSizeAndAlign"
        }
      ],
      "title" : "Working with resource heaps"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The largest amount of memory, in bytes, that a GPU device can allocate to a buffer instance.",
          "name" : "maxBufferLength",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maxBufferLength"
        },
        {
          "description" : "Creates a buffer the method clears with zero values.",
          "name" : "makeBuffer(length:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeBuffer(length:options:)"
        },
        {
          "description" : "Allocates a new buffer of a given length and initializes its contents by copying existing data into it.",
          "name" : "makeBuffer(bytes:length:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeBuffer(bytes:length:options:)"
        },
        {
          "description" : "Creates a buffer that wraps an existing contiguous memory allocation.",
          "name" : "makeBuffer(bytesNoCopy:length:options:deallocator:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeBuffer(bytesNoCopy:length:options:deallocator:)"
        }
      ],
      "title" : "Creating buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new texture instance.",
          "name" : "makeTexture(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeTexture(descriptor:)"
        },
        {
          "description" : "Creates a texture instance that uses I\/O surface to store its underlying data.",
          "name" : "makeTexture(descriptor:iosurface:plane:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeTexture(descriptor:iosurface:plane:)"
        },
        {
          "description" : "Creates a texture that you can share across process boundaries.",
          "name" : "makeSharedTexture(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeSharedTexture(descriptor:)"
        },
        {
          "description" : "Creates a texture that references a shared texture.",
          "name" : "makeSharedTexture(handle:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeSharedTexture(handle:)"
        },
        {
          "description" : "Returns the minimum alignment the GPU device requires to create a linear texture from a buffer.",
          "name" : "minimumLinearTextureAlignment(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/minimumLinearTextureAlignment(for:)"
        },
        {
          "description" : "Returns the minimum alignment the GPU device requires to create a texture buffer from a buffer.",
          "name" : "minimumTextureBufferAlignment(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/minimumTextureBufferAlignment(for:)"
        }
      ],
      "title" : "Creating textures"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the GPU can sample a texture with a specific number of sample points.",
          "name" : "supportsTextureSampleCount(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsTextureSampleCount(_:)"
        },
        {
          "description" : "Creates a sampler state instance.",
          "name" : "makeSamplerState(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeSamplerState(descriptor:)"
        },
        {
          "description" : "Returns the default sample locations based on the number of samples.",
          "name" : "getDefaultSamplePositions(sampleCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/getDefaultSamplePositions(sampleCount:)"
        }
      ],
      "title" : "Creating samplers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the dimensions of a sparse tile for a texture that has a specific sparse page size.",
          "name" : "sparseTileSize(textureType:pixelFormat:sampleCount:sparsePageSize:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/sparseTileSize(textureType:pixelFormat:sampleCount:sparsePageSize:)"
        },
        {
          "description" : "Returns the dimensions of a sparse tile for a texture.",
          "name" : "sparseTileSize(with:pixelFormat:sampleCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/sparseTileSize(with:pixelFormat:sampleCount:)"
        },
        {
          "description" : "Returns the size, in bytes, of a sparse tile the GPU device creates with a specific page size.",
          "name" : "sparseTileSizeInBytes(sparsePageSize:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/sparseTileSizeInBytes(sparsePageSize:)"
        },
        {
          "description" : "Returns the size, in bytes, of a sparse tile the GPU device creates using a default page size.",
          "name" : "sparseTileSizeInBytes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/sparseTileSizeInBytes"
        },
        {
          "description" : "Converts a list of sparse pixel regions to tile regions.",
          "name" : "convertSparsePixelRegions(_:toTileRegions:withTileSize:alignmentMode:numRegions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/convertSparsePixelRegions(_:toTileRegions:withTileSize:alignmentMode:numRegions:)"
        },
        {
          "description" : "Converts a list of sparse tile regions to pixel regions.",
          "name" : "convertSparseTileRegions(_:toPixelRegions:withTileSize:numRegions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/convertSparseTileRegions(_:toPixelRegions:withTileSize:numRegions:)"
        },
        {
          "description" : "The page size options, in kilobytes, for sparse textures.",
          "name" : "MTLSparsePageSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSparsePageSize"
        },
        {
          "description" : "Options used when converting between a pixel-based region within a texture to a tile-based region.",
          "name" : "MTLSparseTextureRegionAlignmentMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLSparseTextureRegionAlignmentMode"
        }
      ],
      "title" : "Working with sparse textures"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new ray-tracing acceleration structure from a descriptor.",
          "name" : "makeAccelerationStructure(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeAccelerationStructure(descriptor:)"
        },
        {
          "description" : "Creates a new acceleration structure with a specific size.",
          "name" : "makeAccelerationStructure(size:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeAccelerationStructure(size:)"
        },
        {
          "description" : "Returns the buffer sizes the GPU device needs to build, refit, and store an acceleration structure.",
          "name" : "accelerationStructureSizes(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/accelerationStructureSizes(descriptor:)"
        },
        {
          "description" : "The expected sizes for a ray-tracing acceleration structure.",
          "name" : "MTLAccelerationStructureSizes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLAccelerationStructureSizes"
        }
      ],
      "title" : "Creating acceleration structures for ray tracing"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the GPU device’s support tier for argument buffers.",
          "name" : "argumentBuffersSupport",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/argumentBuffersSupport"
        },
        {
          "description" : "The maximum number of unique argument buffer samplers per app.",
          "name" : "maxArgumentBufferSamplerCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maxArgumentBufferSamplerCount"
        },
        {
          "description" : "Creates a new argument encoder for an array of arguments.",
          "name" : "makeArgumentEncoder(arguments:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeArgumentEncoder(arguments:)"
        },
        {
          "description" : "Creates a new argument encoder for a buffer binding.",
          "name" : "makeArgumentEncoder(bufferBinding:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeArgumentEncoder(bufferBinding:)"
        }
      ],
      "title" : "Creating argument buffer encoders"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new memory fence instance.",
          "name" : "makeFence()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeFence()"
        },
        {
          "description" : "Creates a new event instance that you can use to synchronize commands and resources within the same GPU device.",
          "name" : "makeEvent()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeEvent()"
        },
        {
          "description" : "Creates a new shared event instance that you can use to synchronize commands and resources across different GPU devices.",
          "name" : "makeSharedEvent()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeSharedEvent()"
        },
        {
          "description" : "Recreates a shared event from a handle.",
          "name" : "makeSharedEvent(handle:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeSharedEvent(handle:)"
        }
      ],
      "title" : "Creating fences and events"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the GPU can create a rasterization rate map with a specific number of layers.",
          "name" : "supportsRasterizationRateMap(layerCount:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsRasterizationRateMap(layerCount:)"
        },
        {
          "description" : "Creates a rasterization rate map instance.",
          "name" : "makeRasterizationRateMap(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeRasterizationRateMap(descriptor:)"
        }
      ],
      "title" : "Creating rasterization rate maps"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locate and identify a GPU and the features it supports, and sample its counters.",
          "name" : "Device inspection",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/device-inspection"
        },
        {
          "description" : "Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.",
          "name" : "Work submission",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/work-submission"
        },
        {
          "description" : "Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.",
          "name" : "Pipeline state creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/pipeline-state-creation"
        },
        {
          "description" : "Create static and dynamic shader libraries, and binary shader archives.",
          "name" : "Shader library and archive creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/shader-library-and-archive-creation"
        }
      ],
      "title" : "Working with GPU devices"
    }
  ],
  "source" : "appleJSON",
  "title" : "Resource creation",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/resource-creation"
}