{
  "abstract" : "Locate, identify, and choose suitable GPUs for your app.",
  "codeExamples" : [

  ],
  "contentHash" : "a11ca2fc0d5ca68efe55accad3e135ce1934cdaf6ea6ba66711df59a72cbd55c",
  "crawledAt" : "2025-12-04T02:48:06Z",
  "id" : "41A635C9-864F-4467-BFC9-DF5EAB56596B",
  "kind" : "article",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nYour app can use multiple GPUs on an Intel-based Mac, including any built-in and external GPUs. Start by getting a list of all the system’s available GPUs, and then submit workloads to those appropriate for your app’s tasks.\n\n### Get a list of GPU devices\n\nYour app can get an array of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instances, each of which represents an available GPU, by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevices()] function.\n\nHowever, that function provides a list of GPUs that are available at that moment in time. To get the current list and register for device update notifications, provide a handler to Metal by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function.\n\nMetal calls your handler to tell your app when the system adds or removes an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] from the system.\n\nYour app can deregister its observer when it no longer needs GPU device updates from the system by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)] function.\n\n### Identify each GPU by type\n\nEach GPU on a Mac computer’s system can be one of three types: integrated, discrete, or external. You can identify each [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance’s type by inspecting its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isLowPower] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isRemovable] properties.\n\nFor example, you can use these properties to build a list of devices for each GPU type.\n\nSome external or discrete GPUs can also be *headless*, which means they aren’t connected to a display. Your app can identify whether a GPU is headless by checking a device instance’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isHeadless] property.\n\n### Select the GPUs suitable for your workloads\n\nEach GPU type has its advantages for certain tasks or workloads that you can consider for a system with multiple GPUs.\n\nIn general, start with an integrated GPU (if the system has one) to conserve power and extend the device’s battery life. If your app needs additional graphics or compute processing, consider moving some workloads to a discrete GPU, if the system has one.\n\nExternal GPUs typically have significant processing power but lower bandwidth compared to internal GPUs, which makes them a good choice for tasks that don’t require much memory bandwidth for each frame, including the following:\n\nFor more information about GPU memory bandwidth, see [doc:\/\/com.apple.metal\/documentation\/Metal\/adjusting-for-gpu-memory-bandwidth-tradeoffs].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac\ncrawled: 2025-12-04T02:48:06Z\n---\n\n# Finding multiple GPUs on an Intel-based Mac\n\n**Article**\n\nLocate, identify, and choose suitable GPUs for your app.\n\n## Overview\n\nYour app can use multiple GPUs on an Intel-based Mac, including any built-in and external GPUs. Start by getting a list of all the system’s available GPUs, and then submit workloads to those appropriate for your app’s tasks.\n\n\n\n### Get a list of GPU devices\n\nYour app can get an array of [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instances, each of which represents an available GPU, by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevices()] function.\n\n\n\nHowever, that function provides a list of GPUs that are available at that moment in time. To get the current list and register for device update notifications, provide a handler to Metal by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCopyAllDevicesWithObserver] function.\n\n\n\nMetal calls your handler to tell your app when the system adds or removes an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] from the system.\n\n\n\nYour app can deregister its observer when it no longer needs GPU device updates from the system by calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)] function.\n\n\n\n### Identify each GPU by type\n\nEach GPU on a Mac computer’s system can be one of three types: integrated, discrete, or external. You can identify each [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] instance’s type by inspecting its [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isLowPower] and [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isRemovable] properties.\n\n\n\nFor example, you can use these properties to build a list of devices for each GPU type.\n\n\n\nSome external or discrete GPUs can also be *headless*, which means they aren’t connected to a display. Your app can identify whether a GPU is headless by checking a device instance’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/isHeadless] property.\n\n\n\n### Select the GPUs suitable for your workloads\n\nEach GPU type has its advantages for certain tasks or workloads that you can consider for a system with multiple GPUs.\n\n\n\nIn general, start with an integrated GPU (if the system has one) to conserve power and extend the device’s battery life. If your app needs additional graphics or compute processing, consider moving some workloads to a discrete GPU, if the system has one.\n\n\n\nExternal GPUs typically have significant processing power but lower bandwidth compared to internal GPUs, which makes them a good choice for tasks that don’t require much memory bandwidth for each frame, including the following:\n\n- Rendering high-complexity graphics scenes\n- Rendering high-resolution graphics content\n- Processing compute workloads in tandem with rendering graphics\n- Processing compute workloads that use a high arithmetic-logic unit (ALU) complexity\n\nFor more information about GPU memory bandwidth, see [doc:\/\/com.apple.metal\/documentation\/Metal\/adjusting-for-gpu-memory-bandwidth-tradeoffs].\n\n\n\n## Locating GPUs\n\n- **Getting the GPU that drives a view’s display**: Keep up to date with the optimal device for your display.\n- **MTLCopyAllDevices()**: Returns an array of all the Metal device instances in the system.\n- **MTLCopyAllDevicesWithObserver(handler:)**: Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.\n- **MTLRemoveDeviceObserver(_:)**: Removes a registered observer of device notifications.\n- **CGDirectDisplayCopyCurrentMetalDevice(_:)**: Returns the GPU device instance that’s currently driving a display.\n- **MTLDeviceNotificationHandler**: A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.\n- **MTLDeviceNotificationName**: A notification that represents a change to a GPU device in the system.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Keep up to date with the optimal device for your display.",
          "name" : "Getting the GPU that drives a view’s display",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/getting-the-gpu-that-drives-a-views-display"
        },
        {
          "description" : "Returns an array of all the Metal device instances in the system.",
          "name" : "MTLCopyAllDevices()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevices()"
        },
        {
          "description" : "Returns an array of all the Metal GPU devices in the system and registers a notification handler that Metal calls when the device list changes.",
          "name" : "MTLCopyAllDevicesWithObserver(handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCopyAllDevicesWithObserver(handler:)"
        },
        {
          "description" : "Removes a registered observer of device notifications.",
          "name" : "MTLRemoveDeviceObserver(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRemoveDeviceObserver(_:)"
        },
        {
          "description" : "Returns the GPU device instance that’s currently driving a display.",
          "name" : "CGDirectDisplayCopyCurrentMetalDevice(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreGraphics\/CGDirectDisplayCopyCurrentMetalDevice(_:)"
        },
        {
          "description" : "A Swift closure or an Objective-C block that Metal calls when the system adds or removes a GPU device.",
          "name" : "MTLDeviceNotificationHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationHandler"
        },
        {
          "description" : "A notification that represents a change to a GPU device in the system.",
          "name" : "MTLDeviceNotificationName",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceNotificationName"
        }
      ],
      "title" : "Locating GPUs"
    }
  ],
  "source" : "appleJSON",
  "title" : "Finding multiple GPUs on an Intel-based Mac",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/finding-multiple-gpus-on-an-intel-based-mac"
}