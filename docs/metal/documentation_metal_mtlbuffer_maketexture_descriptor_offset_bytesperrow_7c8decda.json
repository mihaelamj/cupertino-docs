{
  "abstract" : "Creates a texture that shares its storage with the buffer.",
  "codeExamples" : [

  ],
  "contentHash" : "25b2cde1678d081aa00772bb2c3da7062768cf6796c1d6887694b082c259eba1",
  "crawledAt" : "2025-12-04T23:50:31Z",
  "declaration" : {
    "code" : "func makeTexture(descriptor: MTLTextureDescriptor, offset: Int, bytesPerRow: Int) -> (any MTLTexture)?",
    "language" : "swift"
  },
  "id" : "FB060DA1-8294-4EDE-AD4E-8162488EB5C6",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Return Value\n\nA new texture that shares the buffer’s underlying storage.\n\n## Discussion\n\nThis method creates a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTexture] instance that uses the same data as the buffer’s. Modifying the buffer also modifies the new texture because they share the same underlying memory.\n\nThe texture’s resource data is coherent between multiple render passes. However, that data may not be coherent within a single render pass due to caching at runtime. For example, a texture you create from the method may not be able to immediately reflect changes to the underlying buffer that come from a render or kernel function.\n\nIf this buffer’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureDescriptor\/storageMode] is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/managed], and a render or kernel function modifies it, the CPU can access the new values through a texture after calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(resource:)] method. CPU memory operations are only coherent between command buffer boundaries. GPU barriers guard its memory operations to buffers and textures so that each operation finishes running before the next one begins.\n\nYou can create multiple, nonoverlapping textures that use the same buffer; however, the GPU serializes memory operations to those textures.\n\nTo create a linear texture, you need to:\n\nAdditionally, creating a linear texture from this method adds the following restrictions for the `descriptor` parameter’s properties:\n\nSamplers can use any [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLSamplerAddressMode] to sample linear textures from this method on any device that supports the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLGPUFamily\/apple2] feature family or later.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLBuffer\/makeTexture(descriptor:offset:bytesPerRow:)\ncrawled: 2025-12-04T23:50:31Z\n---\n\n# makeTexture(descriptor:offset:bytesPerRow:)\n\n**Instance Method**\n\nCreates a texture that shares its storage with the buffer.\n\n## Declaration\n\n```swift\nfunc makeTexture(descriptor: MTLTextureDescriptor, offset: Int, bytesPerRow: Int) -> (any MTLTexture)?\n```\n\n## Parameters\n\n- **descriptor**: The descriptor that contains the properties of the texture.\n- **offset**: The offset, in bytes, from the base address for the first row of texture data.\n- **bytesPerRow**: The stride, in bytes, from one row of texture data to the next.\n\n## Return Value\n\nA new texture that shares the buffer’s underlying storage.\n\n## Discussion\n\nThis method creates a new [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTexture] instance that uses the same data as the buffer’s. Modifying the buffer also modifies the new texture because they share the same underlying memory.\n\n\n\nThe texture’s resource data is coherent between multiple render passes. However, that data may not be coherent within a single render pass due to caching at runtime. For example, a texture you create from the method may not be able to immediately reflect changes to the underlying buffer that come from a render or kernel function.\n\nIf this buffer’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLTextureDescriptor\/storageMode] is [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLStorageMode\/managed], and a render or kernel function modifies it, the CPU can access the new values through a texture after calling the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/synchronize(resource:)] method. CPU memory operations are only coherent between command buffer boundaries. GPU barriers guard its memory operations to buffers and textures so that each operation finishes running before the next one begins.\n\nYou can create multiple, nonoverlapping textures that use the same buffer; however, the GPU serializes memory operations to those textures.\n\n\n\nTo create a linear texture, you need to:\n\n- Align the `offset` and `bytesPerRow` parameters to the value that the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/minimumLinearTextureAlignment(for:)] method returns.\n- Set the `bytesPerRow` parameter to a value greater than or equal to the number of bytes in one row of pixels — the product of the row’s width, in pixels, and the size of one pixel, in bytes.\n\nAdditionally, creating a linear texture from this method adds the following restrictions for the `descriptor` parameter’s properties:\n\n\n\nSamplers can use any [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLSamplerAddressMode] to sample linear textures from this method on any device that supports the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLGPUFamily\/apple2] feature family or later.\n\n\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "makeTexture(descriptor:offset:bytesPerRow:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBuffer\/makeTexture(descriptor:offset:bytesPerRow:)"
}