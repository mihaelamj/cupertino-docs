{
  "abstract" : "Encodes a command that instructs the GPU to update a fence after the blit pass completes.",
  "codeExamples" : [

  ],
  "contentHash" : "130386d88d69ac2886925764e58ef6bce27af0e96c1fa04508b4bfaf0eb034c2",
  "crawledAt" : "2025-12-05T10:21:52Z",
  "declaration" : {
    "code" : "func updateFence(_ fence: any MTLFence)",
    "language" : "swift"
  },
  "id" : "768D7959-2E6C-4495-B88A-A1AC8BEBB1E4",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nYou can synchronize memory operations of a blit pass that access resources with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFence]. This method instructs the pass to update `fence` after it runs all its memory store operations to the resources it accesses. The fence indicates when other passes can access those resources without a race condition.\n\nFor more information about synchronization with fences, see:\n\n### Reuse a fence by waiting first and updating second\n\nWhen encoding a blit pass that reuses a fence, wait for other passes to update the fence before repurposing that fence to notify subsequent passes with an update:\n\nThe GPU driver evaluates the fences that apply to the pass and the commands that depend on those fences when your app commits the enclosing [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/updateFence(_:)\ncrawled: 2025-12-05T10:21:52Z\n---\n\n# updateFence(_:)\n\n**Instance Method**\n\nEncodes a command that instructs the GPU to update a fence after the blit pass completes.\n\n## Declaration\n\n```swift\nfunc updateFence(_ fence: any MTLFence)\n```\n\n## Parameters\n\n- **fence**: A fence the pass updates after it completes.\n\n## Discussion\n\nYou can synchronize memory operations of a blit pass that access resources with an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLFence]. This method instructs the pass to update `fence` after it runs all its memory store operations to the resources it accesses. The fence indicates when other passes can access those resources without a race condition.\n\nFor more information about synchronization with fences, see:\n\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/resource-synchronization]\n- [doc:\/\/com.apple.metal\/documentation\/Metal\/synchronizing-passes-with-a-fence]\n\n### Reuse a fence by waiting first and updating second\n\nWhen encoding a blit pass that reuses a fence, wait for other passes to update the fence before repurposing that fence to notify subsequent passes with an update:\n\n1. Call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/waitForFence(_:)] method before encoding commands that need to wait for other passes.\n2. Call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLBlitCommandEncoder\/updateFence(_:)] method after encoding commands that later passes depend on.\n\nThe GPU driver evaluates the fences that apply to the pass and the commands that depend on those fences when your app commits the enclosing [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer].\n\n\n\n## Preventing resource access conflicts\n\n- **waitForFence(_:)**: Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that instructs the GPU to pause the blit pass until another pass updates a fence.",
          "name" : "waitForFence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/waitForFence(_:)"
        }
      ],
      "title" : "Preventing resource access conflicts"
    }
  ],
  "source" : "appleJSON",
  "title" : "updateFence(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLBlitCommandEncoder\/updateFence(_:)"
}