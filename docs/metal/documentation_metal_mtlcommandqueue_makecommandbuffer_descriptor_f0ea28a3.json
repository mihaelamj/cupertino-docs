{
  "abstract" : "Returns a command buffer from the command queue that you configure with a descriptor.",
  "codeExamples" : [

  ],
  "contentHash" : "74afa8b836256ab0569e2b40a64e73953ec7c13c1f644e077d9291b4d37b7de2",
  "crawledAt" : "2025-12-04T22:06:06Z",
  "declaration" : {
    "code" : "func makeCommandBuffer(descriptor: MTLCommandBufferDescriptor) -> (any MTLCommandBuffer)?",
    "language" : "swift"
  },
  "id" : "9429CD0E-B535-4ACC-8F96-C6725356471C",
  "kind" : "method",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Discussion\n\nUse this method to create a command buffer that you configure with a descriptor. You can configure whether the command buffer retains references to resources that its commands refer to by setting the `descriptor` parameter’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBufferDescriptor\/retainedReferences] property. You can also configure whether the command buffer saves extra error information, which is useful during development, by setting the descriptor’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBufferDescriptor\/errorOptions] property.\n\nEach command queue has a fixed number of command buffers for its lifetime (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue(maxCommandBufferCount:)]). This method blocks the calling CPU thread when the queue doesn’t have any free command buffers, and returns after the GPU finishes executing one.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer(descriptor:)\ncrawled: 2025-12-04T22:06:06Z\n---\n\n# makeCommandBuffer(descriptor:)\n\n**Instance Method**\n\nReturns a command buffer from the command queue that you configure with a descriptor.\n\n## Declaration\n\n```swift\nfunc makeCommandBuffer(descriptor: MTLCommandBufferDescriptor) -> (any MTLCommandBuffer)?\n```\n\n## Parameters\n\n- **descriptor**: An [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBufferDescriptor] instance that configures the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] the method returns.\n\n## Discussion\n\nUse this method to create a command buffer that you configure with a descriptor. You can configure whether the command buffer retains references to resources that its commands refer to by setting the `descriptor` parameter’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBufferDescriptor\/retainedReferences] property. You can also configure whether the command buffer saves extra error information, which is useful during development, by setting the descriptor’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBufferDescriptor\/errorOptions] property.\n\nEach command queue has a fixed number of command buffers for its lifetime (see [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice\/makeCommandQueue(maxCommandBufferCount:)]). This method blocks the calling CPU thread when the queue doesn’t have any free command buffers, and returns after the GPU finishes executing one.\n\n## Creating command buffers\n\n- **makeCommandBuffer()**: Returns a command buffer from the command queue that maintains strong references to resources.\n- **makeCommandBufferWithUnretainedReferences()**: Returns a command buffer from the command queue that doesn’t maintain strong references to resources.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a command buffer from the command queue that maintains strong references to resources.",
          "name" : "makeCommandBuffer()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer()"
        },
        {
          "description" : "Returns a command buffer from the command queue that doesn’t maintain strong references to resources.",
          "name" : "makeCommandBufferWithUnretainedReferences()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBufferWithUnretainedReferences()"
        }
      ],
      "title" : "Creating command buffers"
    }
  ],
  "source" : "appleJSON",
  "title" : "makeCommandBuffer(descriptor:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCommandQueue\/makeCommandBuffer(descriptor:)"
}