{
  "abstract" : "An interface that encodes a render pass into a command buffer, including all its draw calls and configuration.",
  "codeExamples" : [

  ],
  "contentHash" : "f1c0cfd10768fe7b9ccddd51ca590dc696485a7c31bcab994a83a70b9bd3b4f0",
  "crawledAt" : "2025-12-03T13:11:33Z",
  "declaration" : {
    "code" : "protocol MTLRenderCommandEncoder : MTLCommandEncoder",
    "language" : "swift"
  },
  "id" : "AA843D59-7435-4E54-B47F-141F33106BFC",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "Metal",
  "overview" : "## Overview\n\nThe [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder] protocol defines an interface that configures and encodes a render pass. Use a render pass to draw a scene, or a component within a scene, to its render *attachments*, the outputs of a render pass. You can use various approaches to render to those outputs, including techniques that apply the following:\n\nTo create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder] instance, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeRenderCommandEncoder(descriptor:)] of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance, or the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLParallelRenderCommandEncoder\/makeRenderCommandEncoder()] method of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLParallelRenderCommandEncoder] instance.\n\nTo configure the render pass for your first drawing commands, start with a pipeline state by passing an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPipelineState] instance to the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/setRenderPipelineState(_:)] method. You create the pipeline states your render pass needs, typically ahead of time, by calling one or more [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] methods (see [doc:\/\/com.apple.metal\/documentation\/Metal\/pipeline-state-creation]).\n\nSet any other applicable parts of the encoder’s configuration by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/render-pass-configuration] page. For example, you may need to configure the pass’s viewport, its scissor rectangle, and the settings for depth and stencil tests.\n\nAssign resources, such as buffers and textures, for the shaders that depend on them. For more information, see the shader-specific pages in the resource preparation section, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/vertex-shader-resource-preparation-commands] and [doc:\/\/com.apple.metal\/documentation\/Metal\/fragment-shader-resource-preparation-commands]. If your shaders access resources through an argument buffer, ensure the pass makes those resources *resident* by loading those resources resident in GPU memory. You do this by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/argument-buffer-resource-preparation-commands] page.\n\nEncode drawing commands by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/render-pass-drawing-commands] page after you configure the state and resources the commands depend on. The encoder maintains its current state and applies them to all subsequent draw commands. For drawing commands that need different states or resources, reconfigure the render pass appropriately and then encode those draw commands. Repeat the process for each batch of drawing commands that depend on the same render pass configuration and resources.\n\nWhen you finish encoding the render pass’s commands, finalize it into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\ncrawled: 2025-12-03T13:11:33Z\n---\n\n# MTLRenderCommandEncoder\n\n**Protocol**\n\nAn interface that encodes a render pass into a command buffer, including all its draw calls and configuration.\n\n## Declaration\n\n```swift\nprotocol MTLRenderCommandEncoder : MTLCommandEncoder\n```\n\n## Overview\n\nThe [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder] protocol defines an interface that configures and encodes a render pass. Use a render pass to draw a scene, or a component within a scene, to its render *attachments*, the outputs of a render pass. You can use various approaches to render to those outputs, including techniques that apply the following:\n\n- Primitive drawing\n- Mesh drawing\n- Ray tracing\n- Tile shaders dispatching\n\nTo create an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder] instance, call the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer\/makeRenderCommandEncoder(descriptor:)] of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandBuffer] instance, or the [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLParallelRenderCommandEncoder\/makeRenderCommandEncoder()] method of an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLParallelRenderCommandEncoder] instance.\n\nTo configure the render pass for your first drawing commands, start with a pipeline state by passing an [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderPipelineState] instance to the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLRenderCommandEncoder\/setRenderPipelineState(_:)] method. You create the pipeline states your render pass needs, typically ahead of time, by calling one or more [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLDevice] methods (see [doc:\/\/com.apple.metal\/documentation\/Metal\/pipeline-state-creation]).\n\n\n\nSet any other applicable parts of the encoder’s configuration by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/render-pass-configuration] page. For example, you may need to configure the pass’s viewport, its scissor rectangle, and the settings for depth and stencil tests.\n\nAssign resources, such as buffers and textures, for the shaders that depend on them. For more information, see the shader-specific pages in the resource preparation section, such as [doc:\/\/com.apple.metal\/documentation\/Metal\/vertex-shader-resource-preparation-commands] and [doc:\/\/com.apple.metal\/documentation\/Metal\/fragment-shader-resource-preparation-commands]. If your shaders access resources through an argument buffer, ensure the pass makes those resources *resident* by loading those resources resident in GPU memory. You do this by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/argument-buffer-resource-preparation-commands] page.\n\nEncode drawing commands by calling the methods on the [doc:\/\/com.apple.metal\/documentation\/Metal\/render-pass-drawing-commands] page after you configure the state and resources the commands depend on. The encoder maintains its current state and applies them to all subsequent draw commands. For drawing commands that need different states or resources, reconfigure the render pass appropriately and then encode those draw commands. Repeat the process for each batch of drawing commands that depend on the same render pass configuration and resources.\n\nWhen you finish encoding the render pass’s commands, finalize it into the command buffer by calling the encoder’s [doc:\/\/com.apple.metal\/documentation\/Metal\/MTLCommandEncoder\/endEncoding()] method.\n\n## Encoding configuration commands\n\n- **Render pass configuration**: Set a render pass’s pipeline state, attachment actions, viewports, and so on, that affect subsequent drawing commands.\n\n## Encoding resource preparation commands\n\n- **Mesh and object shader resource preparation commands**: Assign resources to mesh and object shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Vertex shader resource preparation commands**: Assign resources to vertex shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Fragment shader resource preparation commands**: Assign resources to fragment shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Tile shaders resource preparation commands**: Assign resources to tile shaders, including buffers, textures, acceleration structures, sampler states, and function tables.\n- **Argument buffer resource preparation commands**: Load individual resources and multiple resources within a heap into GPU memory so that they’re available to shaders through argument buffers.\n\n## Encoding draw commands\n\n- **Render pass drawing commands**: Render an image by drawing meshes, primitives, tessellation patches, and by dispatching tile shaders.\n\n## Encoding resource synchronization commands\n\n- **waitForFence(_:before:)**: Encodes a command that instructs the GPU to pause before starting one or more stages of the render pass until a pass updates a fence.\n- **updateFence(_:after:)**: Encodes a command that instructs the GPU to update a fence after one or more stages, which can unblock other passes waiting for the fence.\n- **memoryBarrier(resources:after:before:)**: Creates a memory barrier that enforces the order of write and read operations for specific resources.\n- **memoryBarrier(scope:after:before:)**: Creates a memory barrier that enforces the order of write and read operations for specific resource types.\n\n## Encoding commands that run indirect command buffers\n\n- **executeCommandsInBuffer(_:range:)**: Encodes a command that runs a range of commands from an indirect command buffer (ICB).\n- **executeCommandsInBuffer(_:indirectBuffer:offset:)**: Encodes a command that runs an indirect range of commands from an indirect command buffer (ICB).\n\n## Encoding data sampling commands\n\n- **sampleCounters(sampleBuffer:sampleIndex:barrier:)**: Encodes a command that samples hardware counters during the render pass and stores the data into a counter sample buffer.\n\n## Deprecated\n\n- **Deprecated symbols**: Review unsupported symbols and their replacements.\n\n## Instance Methods\n\n- **setColorAttachmentMap(_:)**: Sets the mapping from logical shader color output to physical render pass color attachments.\n- **setDepthTestBounds(_:)**: Configures the range for depth bounds testing.\n- **setVertexBuffer(_:offset:attributeStride:index:)**\n- **setVertexBufferOffset(offset:attributeStride:index:)**\n- **setVertexBuffers(_:offsets:attributeStrides:range:)**\n- **setVertexBytes(_:length:attributeStride:index:)**\n\n## Encoding a render pass\n\n- **MTL4RenderCommandEncoder**: Encodes a render pass into a command buffer, including all its draw calls and configuration.\n- **MTL4RenderEncoderOptions**: Custom render pass options you specify at encoder creation time.\n- **MTLTriangleFillMode**: Specifies how to rasterize triangle and triangle strip primitives.\n- **MTLWinding**: The vertex winding rule that determines a front-facing primitive.\n- **MTLCullMode**: The mode that determines whether to perform culling and which type of primitive to cull.\n- **MTLPrimitiveType**: The geometric primitive type for drawing commands.\n- **MTLIndexType**: The index type for an index buffer that references vertices of geometric primitives.\n- **MTLDepthClipMode**: The mode that determines how to deal with fragments outside of the near or far planes.\n- **MTLVisibilityResultMode**: The mode that determines what, if anything, the GPU writes to the results buffer, after the GPU executes the render pass.\n- **MTLVisibilityResultType**: This enumeration controls if Metal accumulates visibility results between render encoders or resets them.\n\n## Inherits From\n\n- MTLCommandEncoder\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Set a render pass’s pipeline state, attachment actions, viewports, and so on, that affect subsequent drawing commands.",
          "name" : "Render pass configuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/render-pass-configuration"
        }
      ],
      "title" : "Encoding configuration commands"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Assign resources to mesh and object shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Mesh and object shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/mesh-and-object-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to vertex shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Vertex shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/vertex-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to fragment shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Fragment shader resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/fragment-shader-resource-preparation-commands"
        },
        {
          "description" : "Assign resources to tile shaders, including buffers, textures, acceleration structures, sampler states, and function tables.",
          "name" : "Tile shaders resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/tile-shaders-resource-preparation-commands"
        },
        {
          "description" : "Load individual resources and multiple resources within a heap into GPU memory so that they’re available to shaders through argument buffers.",
          "name" : "Argument buffer resource preparation commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/argument-buffer-resource-preparation-commands"
        }
      ],
      "title" : "Encoding resource preparation commands"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Render an image by drawing meshes, primitives, tessellation patches, and by dispatching tile shaders.",
          "name" : "Render pass drawing commands",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/render-pass-drawing-commands"
        }
      ],
      "title" : "Encoding draw commands"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that instructs the GPU to pause before starting one or more stages of the render pass until a pass updates a fence.",
          "name" : "waitForFence(_:before:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/waitForFence(_:before:)"
        },
        {
          "description" : "Encodes a command that instructs the GPU to update a fence after one or more stages, which can unblock other passes waiting for the fence.",
          "name" : "updateFence(_:after:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/updateFence(_:after:)"
        },
        {
          "description" : "Creates a memory barrier that enforces the order of write and read operations for specific resources.",
          "name" : "memoryBarrier(resources:after:before:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/memoryBarrier(resources:after:before:)"
        },
        {
          "description" : "Creates a memory barrier that enforces the order of write and read operations for specific resource types.",
          "name" : "memoryBarrier(scope:after:before:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/memoryBarrier(scope:after:before:)"
        }
      ],
      "title" : "Encoding resource synchronization commands"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that runs a range of commands from an indirect command buffer (ICB).",
          "name" : "executeCommandsInBuffer(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/executeCommandsInBuffer(_:range:)"
        },
        {
          "description" : "Encodes a command that runs an indirect range of commands from an indirect command buffer (ICB).",
          "name" : "executeCommandsInBuffer(_:indirectBuffer:offset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/executeCommandsInBuffer(_:indirectBuffer:offset:)"
        }
      ],
      "title" : "Encoding commands that run indirect command buffers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a command that samples hardware counters during the render pass and stores the data into a counter sample buffer.",
          "name" : "sampleCounters(sampleBuffer:sampleIndex:barrier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/sampleCounters(sampleBuffer:sampleIndex:barrier:)"
        }
      ],
      "title" : "Encoding data sampling commands"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Review unsupported symbols and their replacements.",
          "name" : "Deprecated symbols",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/deprecated-symbols"
        }
      ],
      "title" : "Deprecated"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the mapping from logical shader color output to physical render pass color attachments.",
          "name" : "setColorAttachmentMap(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setColorAttachmentMap(_:)"
        },
        {
          "description" : "Configures the range for depth bounds testing.",
          "name" : "setDepthTestBounds(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setDepthTestBounds(_:)"
        },
        {
          "description" : "",
          "name" : "setVertexBuffer(_:offset:attributeStride:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setVertexBuffer(_:offset:attributeStride:index:)"
        },
        {
          "description" : "",
          "name" : "setVertexBufferOffset(offset:attributeStride:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setVertexBufferOffset(offset:attributeStride:index:)"
        },
        {
          "description" : "",
          "name" : "setVertexBuffers(_:offsets:attributeStrides:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setVertexBuffers(_:offsets:attributeStrides:range:)"
        },
        {
          "description" : "",
          "name" : "setVertexBytes(_:length:attributeStride:index:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder\/setVertexBytes(_:length:attributeStride:index:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a render pass into a command buffer, including all its draw calls and configuration.",
          "name" : "MTL4RenderCommandEncoder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderCommandEncoder"
        },
        {
          "description" : "Custom render pass options you specify at encoder creation time.",
          "name" : "MTL4RenderEncoderOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTL4RenderEncoderOptions"
        },
        {
          "description" : "Specifies how to rasterize triangle and triangle strip primitives.",
          "name" : "MTLTriangleFillMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLTriangleFillMode"
        },
        {
          "description" : "The vertex winding rule that determines a front-facing primitive.",
          "name" : "MTLWinding",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLWinding"
        },
        {
          "description" : "The mode that determines whether to perform culling and which type of primitive to cull.",
          "name" : "MTLCullMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCullMode"
        },
        {
          "description" : "The geometric primitive type for drawing commands.",
          "name" : "MTLPrimitiveType",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLPrimitiveType"
        },
        {
          "description" : "The index type for an index buffer that references vertices of geometric primitives.",
          "name" : "MTLIndexType",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLIndexType"
        },
        {
          "description" : "The mode that determines how to deal with fragments outside of the near or far planes.",
          "name" : "MTLDepthClipMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDepthClipMode"
        },
        {
          "description" : "The mode that determines what, if anything, the GPU writes to the results buffer, after the GPU executes the render pass.",
          "name" : "MTLVisibilityResultMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLVisibilityResultMode"
        },
        {
          "description" : "This enumeration controls if Metal accumulates visibility results between render encoders or resets them.",
          "name" : "MTLVisibilityResultType",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLVisibilityResultType"
        }
      ],
      "title" : "Encoding a render pass"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "MTLCommandEncoder"
        },
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MTLRenderCommandEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLRenderCommandEncoder"
}