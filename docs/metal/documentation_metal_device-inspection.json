{
  "abstract" : "Locate and identify a GPU and the features it supports, and sample its counters.",
  "codeExamples" : [

  ],
  "contentHash" : "86eabdd5c08e9c2b237de8497652ab1119b73d495ebcd7890d6cd664121ae64f",
  "crawledAt" : "2025-12-01T09:27:06Z",
  "id" : "16BFB17A-84EB-4449-8183-910E90CF1922",
  "kind" : "collection",
  "module" : "Metal",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Metal\/device-inspection\ncrawled: 2025-12-01T09:27:06Z\n---\n\n# Device inspection\n\n**API Collection**\n\nLocate and identify a GPU and the features it supports, and sample its counters.\n\n## Checking a GPU device’s feature support\n\n- **supportsFamily(_:)**: Returns a Boolean value that indicates whether the GPU device supports the feature set of a specific GPU family.\n- **MTLGPUFamily**: Represents the functionality for families of GPUs.\n- **supportsFeatureSet(_:)**: Returns a Boolean value that indicates whether the GPU device supports a specific feature set.\n- **MTLFeatureSet**: The device feature sets that define specific platform, hardware, and software configurations.\n\n## Checking compute support\n\n- **maxThreadgroupMemoryLength**: The maximum threadgroup memory available to a compute kernel, in bytes.\n- **maxThreadsPerThreadgroup**: The maximum number of threads along each dimension of a threadgroup.\n\n## Checking render support\n\n- **supportsRaytracing**: A Boolean value that indicates whether the GPU device supports ray tracing.\n- **supportsPrimitiveMotionBlur**: A Boolean value that indicates whether the GPU device supports motion blur for ray tracing.\n- **supportsRaytracingFromRender**: A Boolean value that indicates whether you can call ray-tracing functions from a vertex or fragment shader.\n- **supports32BitMSAA**: A Boolean value that indicates whether the GPU can allocate 32-bit integer texture formats and resolve to 32-bit floating-point texture formats.\n- **supportsPullModelInterpolation**: A Boolean value that indicates whether the GPU can compute multiple interpolations of a fragment function’s input.\n- **supportsShaderBarycentricCoordinates**: A Boolean value that indicates whether the GPU supports barycentric coordinates.\n- **supportsVertexAmplificationCount(_:)**: Returns a Boolean value that indicates whether the GPU supports an amplification factor.\n- **areProgrammableSamplePositionsSupported**: A Boolean value that indicates whether the GPU supports programmable sample positions.\n- **areRasterOrderGroupsSupported**: A Boolean value that indicates whether the GPU supports raster order groups.\n- **areBarycentricCoordsSupported**: A Boolean value that indicates whether the GPU supports barycentric coordinates.\n\n## Checking texture and sampler support\n\n- **supports32BitFloatFiltering**: A Boolean value that indicates whether the GPU can filter a texture with a 32-bit floating-point format.\n- **supportsBCTextureCompression**: A Boolean value that indicates whether you can use textures that use BC compression.\n- **isDepth24Stencil8PixelFormatSupported**: A Boolean value that indicates whether a device supports a packed depth-and-stencil pixel format.\n- **supportsQueryTextureLOD**: A Boolean value that indicates whether you can query the texture level of detail from within a shader.\n- **readWriteTextureSupport**: The GPU device’s texture support tier.\n\n## Checking function pointer support\n\n- **supportsFunctionPointers**: A Boolean value that indicates whether the device supports function pointers in compute kernel functions.\n- **supportsFunctionPointersFromRender**: A Boolean value that indicates whether the device supports function pointers in render functions.\n\n## Checking a GPU device’s memory\n\n- **currentAllocatedSize**: The total amount of memory, in bytes, the GPU device is using for all of its resources.\n- **recommendedMaxWorkingSetSize**: An approximation of how much memory, in bytes, this GPU device can allocate without affecting its runtime performance.\n- **hasUnifiedMemory**: A Boolean value that indicates whether the GPU shares all of its memory with the CPU.\n- **maxTransferRate**: The highest theoretical rate, in bytes per second, the system can copy between system memory and the GPU’s dedicated memory (VRAM).\n\n## Sampling a GPU device’s counters\n\n- **counterSets**: The counter sets supported by the device object.\n- **supportsCounterSampling(_:)**: Returns a Boolean value that indicates whether you can read GPU counters at the specified command boundary.\n- **MTLCounterSamplingPoint**: Options for different times when you can sample GPU counters.\n- **makeCounterSampleBuffer(descriptor:)**: Creates a counter sample buffer.\n\n## Sampling GPU and CPU timestamps simultaneously\n\n- **sampleTimestamps()**: Captures and returns a CPU timestamp and a GPU timestamp from the same moment in time.\n\n## Identifying a GPU device\n\n- **name**: The full name of the GPU device.\n- **architecture**: The architectural details of the GPU device.\n- **MTLArchitecture**: A class that contains the architectural details of a GPU device.\n- **registryID**: The GPU device’s registry identifier.\n- **location**: The physical location of the GPU relative to the system.\n- **MTLDeviceLocation**: Indicates the location of the GPU relative to the system it’s connect to.\n- **locationNumber**: A specific GPU position based on its general location.\n- **isLowPower**: A Boolean value that indicates whether the GPU lowers its performance to conserve energy.\n- **isRemovable**: A Boolean value that indicates whether the GPU is removable.\n- **isHeadless**: A Boolean value that indicates whether a GPU device doesn’t have a connection to a display.\n- **peerGroupID**: The peer group ID the GPU belongs to, if applicable.\n- **peerCount**: The total number of GPUs in the peer group, if applicable.\n- **peerIndex**: The unique identifier for a GPU in a peer group.\n\n## Working with GPU devices\n\n- **Work submission**: Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.\n- **Pipeline state creation**: Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.\n- **Resource creation**: Load assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.\n- **Shader library and archive creation**: Create static and dynamic shader libraries, and binary shader archives.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the GPU device supports the feature set of a specific GPU family.",
          "name" : "supportsFamily(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsFamily(_:)"
        },
        {
          "description" : "Represents the functionality for families of GPUs.",
          "name" : "MTLGPUFamily",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLGPUFamily"
        },
        {
          "description" : "Returns a Boolean value that indicates whether the GPU device supports a specific feature set.",
          "name" : "supportsFeatureSet(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsFeatureSet(_:)"
        },
        {
          "description" : "The device feature sets that define specific platform, hardware, and software configurations.",
          "name" : "MTLFeatureSet",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLFeatureSet"
        }
      ],
      "title" : "Checking a GPU device’s feature support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The maximum threadgroup memory available to a compute kernel, in bytes.",
          "name" : "maxThreadgroupMemoryLength",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maxThreadgroupMemoryLength"
        },
        {
          "description" : "The maximum number of threads along each dimension of a threadgroup.",
          "name" : "maxThreadsPerThreadgroup",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maxThreadsPerThreadgroup"
        }
      ],
      "title" : "Checking compute support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the GPU device supports ray tracing.",
          "name" : "supportsRaytracing",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsRaytracing"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU device supports motion blur for ray tracing.",
          "name" : "supportsPrimitiveMotionBlur",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsPrimitiveMotionBlur"
        },
        {
          "description" : "A Boolean value that indicates whether you can call ray-tracing functions from a vertex or fragment shader.",
          "name" : "supportsRaytracingFromRender",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsRaytracingFromRender"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU can allocate 32-bit integer texture formats and resolve to 32-bit floating-point texture formats.",
          "name" : "supports32BitMSAA",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supports32BitMSAA"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU can compute multiple interpolations of a fragment function’s input.",
          "name" : "supportsPullModelInterpolation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsPullModelInterpolation"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU supports barycentric coordinates.",
          "name" : "supportsShaderBarycentricCoordinates",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsShaderBarycentricCoordinates"
        },
        {
          "description" : "Returns a Boolean value that indicates whether the GPU supports an amplification factor.",
          "name" : "supportsVertexAmplificationCount(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsVertexAmplificationCount(_:)"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU supports programmable sample positions.",
          "name" : "areProgrammableSamplePositionsSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/areProgrammableSamplePositionsSupported"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU supports raster order groups.",
          "name" : "areRasterOrderGroupsSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/areRasterOrderGroupsSupported"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU supports barycentric coordinates.",
          "name" : "areBarycentricCoordsSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/areBarycentricCoordsSupported"
        }
      ],
      "title" : "Checking render support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the GPU can filter a texture with a 32-bit floating-point format.",
          "name" : "supports32BitFloatFiltering",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supports32BitFloatFiltering"
        },
        {
          "description" : "A Boolean value that indicates whether you can use textures that use BC compression.",
          "name" : "supportsBCTextureCompression",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsBCTextureCompression"
        },
        {
          "description" : "A Boolean value that indicates whether a device supports a packed depth-and-stencil pixel format.",
          "name" : "isDepth24Stencil8PixelFormatSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/isDepth24Stencil8PixelFormatSupported"
        },
        {
          "description" : "A Boolean value that indicates whether you can query the texture level of detail from within a shader.",
          "name" : "supportsQueryTextureLOD",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsQueryTextureLOD"
        },
        {
          "description" : "The GPU device’s texture support tier.",
          "name" : "readWriteTextureSupport",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/readWriteTextureSupport"
        }
      ],
      "title" : "Checking texture and sampler support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the device supports function pointers in compute kernel functions.",
          "name" : "supportsFunctionPointers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsFunctionPointers"
        },
        {
          "description" : "A Boolean value that indicates whether the device supports function pointers in render functions.",
          "name" : "supportsFunctionPointersFromRender",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsFunctionPointersFromRender"
        }
      ],
      "title" : "Checking function pointer support"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The total amount of memory, in bytes, the GPU device is using for all of its resources.",
          "name" : "currentAllocatedSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/currentAllocatedSize"
        },
        {
          "description" : "An approximation of how much memory, in bytes, this GPU device can allocate without affecting its runtime performance.",
          "name" : "recommendedMaxWorkingSetSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/recommendedMaxWorkingSetSize"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU shares all of its memory with the CPU.",
          "name" : "hasUnifiedMemory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/hasUnifiedMemory"
        },
        {
          "description" : "The highest theoretical rate, in bytes per second, the system can copy between system memory and the GPU’s dedicated memory (VRAM).",
          "name" : "maxTransferRate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/maxTransferRate"
        }
      ],
      "title" : "Checking a GPU device’s memory"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The counter sets supported by the device object.",
          "name" : "counterSets",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/counterSets"
        },
        {
          "description" : "Returns a Boolean value that indicates whether you can read GPU counters at the specified command boundary.",
          "name" : "supportsCounterSampling(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/supportsCounterSampling(_:)"
        },
        {
          "description" : "Options for different times when you can sample GPU counters.",
          "name" : "MTLCounterSamplingPoint",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLCounterSamplingPoint"
        },
        {
          "description" : "Creates a counter sample buffer.",
          "name" : "makeCounterSampleBuffer(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/makeCounterSampleBuffer(descriptor:)"
        }
      ],
      "title" : "Sampling a GPU device’s counters"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Captures and returns a CPU timestamp and a GPU timestamp from the same moment in time.",
          "name" : "sampleTimestamps()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/sampleTimestamps()"
        }
      ],
      "title" : "Sampling GPU and CPU timestamps simultaneously"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The full name of the GPU device.",
          "name" : "name",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/name"
        },
        {
          "description" : "The architectural details of the GPU device.",
          "name" : "architecture",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/architecture"
        },
        {
          "description" : "A class that contains the architectural details of a GPU device.",
          "name" : "MTLArchitecture",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLArchitecture"
        },
        {
          "description" : "The GPU device’s registry identifier.",
          "name" : "registryID",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/registryID"
        },
        {
          "description" : "The physical location of the GPU relative to the system.",
          "name" : "location",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/location"
        },
        {
          "description" : "Indicates the location of the GPU relative to the system it’s connect to.",
          "name" : "MTLDeviceLocation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDeviceLocation"
        },
        {
          "description" : "A specific GPU position based on its general location.",
          "name" : "locationNumber",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/locationNumber"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU lowers its performance to conserve energy.",
          "name" : "isLowPower",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/isLowPower"
        },
        {
          "description" : "A Boolean value that indicates whether the GPU is removable.",
          "name" : "isRemovable",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/isRemovable"
        },
        {
          "description" : "A Boolean value that indicates whether a GPU device doesn’t have a connection to a display.",
          "name" : "isHeadless",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/isHeadless"
        },
        {
          "description" : "The peer group ID the GPU belongs to, if applicable.",
          "name" : "peerGroupID",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/peerGroupID"
        },
        {
          "description" : "The total number of GPUs in the peer group, if applicable.",
          "name" : "peerCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/peerCount"
        },
        {
          "description" : "The unique identifier for a GPU in a peer group.",
          "name" : "peerIndex",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/MTLDevice\/peerIndex"
        }
      ],
      "title" : "Identifying a GPU device"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create queues that submit work to the GPU or load assets into GPU resources, and indirect command buffers that group your frequent commands together.",
          "name" : "Work submission",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/work-submission"
        },
        {
          "description" : "Create pipeline states for render and compute passes, samplers, depth and stencil states, and indirect command buffers.",
          "name" : "Pipeline state creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/pipeline-state-creation"
        },
        {
          "description" : "Load assets with input\/output queues and make various resource instances, such as buffers, textures, acceleration structures, and memory heaps.",
          "name" : "Resource creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/resource-creation"
        },
        {
          "description" : "Create static and dynamic shader libraries, and binary shader archives.",
          "name" : "Shader library and archive creation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/shader-library-and-archive-creation"
        }
      ],
      "title" : "Working with GPU devices"
    }
  ],
  "source" : "appleJSON",
  "title" : "Device inspection",
  "url" : "https:\/\/developer.apple.com\/documentation\/Metal\/device-inspection"
}