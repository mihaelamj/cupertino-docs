{
  "abstract" : "Receive controller and stylus input to interact with content in your augmented reality app.",
  "codeExamples" : [
    {
      "code" : "NotificationCenter.default.addObserver(\n        forName: NSNotification.Name.GCControllerDidConnect,\n        object: nil,\n        queue: nil) { notification in\n    if let controller = notification.object as? GCController {\n        switch controller.productCategory {\n            case GCProductCategorySpatialController:\n                \/\/ A spatial controller connected.\n            default:\n                \/\/ A standard controller connected.\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "input.buttons[.a] \/\/ Cross button (Right), Square button (Left)\ninput.buttons[.b] \/\/ Circle button (Right), Triangle button (Left)\ninput.buttons[.gripButton] \/\/ Grip button\ninput.buttons[.trigger] \/\/ Trigger button\ninput.buttons[.thumbstickButton] \/\/ Thumbstick \"press\"\ninput.buttons[.menu] \/\/ Menu button\ninput.dpads[.thumbstick] \/\/ Joystick",
      "language" : "swift"
    },
    {
      "code" : "input.buttons[.stylusTip] \/\/ Tip pressure sensor\ninput.buttons[.stylusPrimaryButton] \/\/ Primary side button\ninput.buttons[.stylusSecondaryButton] \/\/ Secondary side button",
      "language" : "swift"
    },
    {
      "code" : "let device = \/\/ A connected controller or stylus.\nguard let source = try await AnchoringComponent.AccessoryAnchoringSource(device: device) else {\n     \/\/ Get a list of location names available for the device.\n     let names = source.accessoryLocationNames\n     \n     \/\/ Get a named location on a controller, like `aim`, `grip`, or `grip_surface`.\n     let aimLocation = source.locationName(named: \"aim\")\n     \n     \/\/ Create an entity that targets a location you want to anchor to.\n     let aimEntity = AnchorEntity(.accessory(from: source, location: aimLocation),\n                                  trackingMode: .predicted)\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Configure a spatial tracking session.\nlet configuration = SpatialTrackingSession.Configuration(tracking: [.accessory])\nlet session = SpatialTrackingSession()\nawait session.run(configuration)\n\n\/\/ Get the anchor transform from an entity.\nlet aimTransform = aimEntity.transformMatrix(relativeTo: nil)",
      "language" : "swift"
    }
  ],
  "contentHash" : "ef2c51d0bd1f4f61cdacc6fbd438d0ab734d04869a64c25181cb998172f1c37b",
  "crawledAt" : "2025-12-02T15:26:04Z",
  "id" : "8022C49A-3642-4E22-9F92-78EF16DB66C7",
  "kind" : "article",
  "language" : "swift",
  "module" : "Game Controller",
  "overview" : "## Overview\n\nThe Game Controller framework provides the ability to discover spatial game controllers and stylus, allows you to connect, read button or thumbstick inputs, and play haptics. After you connect to a device, you use [doc:\/\/com.apple.documentation\/documentation\/RealityKit] or [doc:\/\/com.apple.documentation\/documentation\/ARKit] to combine tracking data with input from the device.\n\n## Configure your project\n\nTo begin developing with spatial game controllers, you need to configure your Xcode project. To add the spatial game controller profile to your project, perform the following steps:\n\n## Discover a controller or stylus\n\nThe system can notify your app when a spatial game controller connects or disconnects by listening for [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/GCControllerDidConnect] and [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/GCControllerDidDisconnect]. A notification that includes information as to whether the controller provides spatial input:\n\nMore than one controller can connect to a device at a time. You can use the connection notification to track each connection as they happen, or check [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController\/controllers()] to iterate through an up-to-date list of the currently connected controllers.\n\nTo get notifications for styli, use [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylusDidConnectNotification] and [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylusDidDisconnectNotification]. These notifications provide a [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus], and you can get a list of all currently connected styli by querying [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus\/styli].\n\n## Handle input mapping\n\nYou use [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController\/input] to access the button and thumbstick inputs of a spatial controller. When you work with spatial game controllers, the input button mapping expose the following inputs:\n\nUse [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus\/input] to access inputs from a spatial stylus accessory. A stylus exposes the following inputs:\n\nFor information on polling for input and receiving callbacks, see [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/handling-input-events]. For more information on how to play haptics, see [doc:\/\/com.apple.documentation\/documentation\/CoreHaptics\/playing-haptics-on-game-controllers].\n\n## Track spatial position with RealityKit anchor entities\n\nIn [doc:\/\/com.apple.documentation\/documentation\/RealityKit], an [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchorEntity] provides a way to tether virtual content to physical locations or objects in your real work space. For example, an image in your environment, your hands, or a spatial game controller. On visionOS, accessory anchoring works in immersive and shared spaces.\n\nUse [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryAnchoringSource] with a [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController] or [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus] to anchor virtual content onto the accessory. Each controller and stylus accessory has a list of possible locations you can anchor to, and depends on the accessory you use. You can anchor virtual content to a location on the accessory by specifying a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryLocation\/name] from a list of possible [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryAnchoringSource\/accessoryLocations].\n\nFor apps that don’t depend on high location accuracy, use the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/TrackingMode-swift.struct\/predicted] tracking mode. If you need higher location accuracy — at the cost of higher latency — use [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/TrackingMode-swift.struct\/continuous] tracking mode.\n\nBefore using [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/SpatialTrackingSession] to get the transforms of a spatial game controller, your app needs request permission to track an accessory. Set [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSAccessoryTrackingUsageDescription] in your app’s `Info.plist` file that explains how your app intends to use tracking information.\n\nIf you use [doc:\/\/com.apple.documentation\/documentation\/ARKit], tracking works similarly to the object and image tracking APIs. For more information about tracking accessories, see [doc:\/\/com.apple.documentation\/documentation\/ARKit\/tracking-accessories-in-volumetric-windows].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/GameController\/discovering-and-tracking-spatial-game-controllers-and-styli\ncrawled: 2025-12-02T15:26:04Z\n---\n\n# Discovering and tracking spatial game controllers and styli\n\n**Article**\n\nReceive controller and stylus input to interact with content in your augmented reality app.\n\n## Overview\n\nThe Game Controller framework provides the ability to discover spatial game controllers and stylus, allows you to connect, read button or thumbstick inputs, and play haptics. After you connect to a device, you use [doc:\/\/com.apple.documentation\/documentation\/RealityKit] or [doc:\/\/com.apple.documentation\/documentation\/ARKit] to combine tracking data with input from the device.\n\n## Configure your project\n\nTo begin developing with spatial game controllers, you need to configure your Xcode project. To add the spatial game controller profile to your project, perform the following steps:\n\n1. In Xcode, select your project in Xcode’s project navigator.\n2. Select your project’s target.\n3. Click the Signing & Capabilities tab in the project editor.\n4. Add the Game Controller capability.\n5. Select the Spatial Gamepad profile.\n\n\n\n## Discover a controller or stylus\n\nThe system can notify your app when a spatial game controller connects or disconnects by listening for [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/GCControllerDidConnect] and [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/GCControllerDidDisconnect]. A notification that includes information as to whether the controller provides spatial input:\n\n```swift\nNotificationCenter.default.addObserver(\n        forName: NSNotification.Name.GCControllerDidConnect,\n        object: nil,\n        queue: nil) { notification in\n    if let controller = notification.object as? GCController {\n        switch controller.productCategory {\n            case GCProductCategorySpatialController:\n                \/\/ A spatial controller connected.\n            default:\n                \/\/ A standard controller connected.\n        }\n    }\n}\n```\n\nMore than one controller can connect to a device at a time. You can use the connection notification to track each connection as they happen, or check [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController\/controllers()] to iterate through an up-to-date list of the currently connected controllers.\n\nTo get notifications for styli, use [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylusDidConnectNotification] and [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylusDidDisconnectNotification]. These notifications provide a [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus], and you can get a list of all currently connected styli by querying [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus\/styli].\n\n\n\n## Handle input mapping\n\nYou use [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController\/input] to access the button and thumbstick inputs of a spatial controller. When you work with spatial game controllers, the input button mapping expose the following inputs:\n\n```swift\ninput.buttons[.a] \/\/ Cross button (Right), Square button (Left)\ninput.buttons[.b] \/\/ Circle button (Right), Triangle button (Left)\ninput.buttons[.gripButton] \/\/ Grip button\ninput.buttons[.trigger] \/\/ Trigger button\ninput.buttons[.thumbstickButton] \/\/ Thumbstick \"press\"\ninput.buttons[.menu] \/\/ Menu button\ninput.dpads[.thumbstick] \/\/ Joystick\n```\n\nUse [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus\/input] to access inputs from a spatial stylus accessory. A stylus exposes the following inputs:\n\n```swift\ninput.buttons[.stylusTip] \/\/ Tip pressure sensor\ninput.buttons[.stylusPrimaryButton] \/\/ Primary side button\ninput.buttons[.stylusSecondaryButton] \/\/ Secondary side button\n```\n\nFor information on polling for input and receiving callbacks, see [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/handling-input-events]. For more information on how to play haptics, see [doc:\/\/com.apple.documentation\/documentation\/CoreHaptics\/playing-haptics-on-game-controllers].\n\n## Track spatial position with RealityKit anchor entities\n\nIn [doc:\/\/com.apple.documentation\/documentation\/RealityKit], an [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchorEntity] provides a way to tether virtual content to physical locations or objects in your real work space. For example, an image in your environment, your hands, or a spatial game controller. On visionOS, accessory anchoring works in immersive and shared spaces.\n\nUse [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryAnchoringSource] with a [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCController] or [doc:\/\/com.apple.gamecontroller\/documentation\/GameController\/GCStylus] to anchor virtual content onto the accessory. Each controller and stylus accessory has a list of possible locations you can anchor to, and depends on the accessory you use. You can anchor virtual content to a location on the accessory by specifying a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryLocation\/name] from a list of possible [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/AccessoryAnchoringSource\/accessoryLocations].\n\n```swift\nlet device = \/\/ A connected controller or stylus.\nguard let source = try await AnchoringComponent.AccessoryAnchoringSource(device: device) else {\n     \/\/ Get a list of location names available for the device.\n     let names = source.accessoryLocationNames\n     \n     \/\/ Get a named location on a controller, like `aim`, `grip`, or `grip_surface`.\n     let aimLocation = source.locationName(named: \"aim\")\n     \n     \/\/ Create an entity that targets a location you want to anchor to.\n     let aimEntity = AnchorEntity(.accessory(from: source, location: aimLocation),\n                                  trackingMode: .predicted)\n}\n```\n\nFor apps that don’t depend on high location accuracy, use the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/TrackingMode-swift.struct\/predicted] tracking mode. If you need higher location accuracy — at the cost of higher latency — use [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/AnchoringComponent\/TrackingMode-swift.struct\/continuous] tracking mode.\n\nBefore using [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/SpatialTrackingSession] to get the transforms of a spatial game controller, your app needs request permission to track an accessory. Set [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSAccessoryTrackingUsageDescription] in your app’s `Info.plist` file that explains how your app intends to use tracking information.\n\n```swift\n\/\/ Configure a spatial tracking session.\nlet configuration = SpatialTrackingSession.Configuration(tracking: [.accessory])\nlet session = SpatialTrackingSession()\nawait session.run(configuration)\n\n\/\/ Get the anchor transform from an entity.\nlet aimTransform = aimEntity.transformMatrix(relativeTo: nil)\n```\n\nIf you use [doc:\/\/com.apple.documentation\/documentation\/ARKit], tracking works similarly to the object and image tracking APIs. For more information about tracking accessories, see [doc:\/\/com.apple.documentation\/documentation\/ARKit\/tracking-accessories-in-volumetric-windows].\n\n## Game controllers\n\n- **Supporting Game Controllers**: Support a physical controller or add a virtual controller to enhance how people interact with your game through haptics, lighting, and motion sensing.\n- **Letting players use their second-generation Siri Remote as a game controller**: Support the second-generation Siri Remote as a game controller in your Apple TV game.\n- **GCDevice**: A protocol that defines a common interface for game input devices.\n- **GCController**: A representation of a real game controller, a virtual controller, or a snapshot of a controller.\n- **GCRacingWheel**: An object that represents a physical racing wheel controller connected to a device.\n- **GCKeyboard**: An object that represents a physical keyboard connected to a device.\n- **GCMouse**: An object that represents a physical mouse connected to a device.\n- **GCStylus**: An object that represents a physical stylus connected to the device.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Support a physical controller or add a virtual controller to enhance how people interact with your game through haptics, lighting, and motion sensing.",
          "name" : "Supporting Game Controllers",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/supporting-game-controllers"
        },
        {
          "description" : "Support the second-generation Siri Remote as a game controller in your Apple TV game.",
          "name" : "Letting players use their second-generation Siri Remote as a game controller",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/letting-players-use-their-second-generation-siri-remote-as-a-game-controller"
        },
        {
          "description" : "A protocol that defines a common interface for game input devices.",
          "name" : "GCDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCDevice"
        },
        {
          "description" : "A representation of a real game controller, a virtual controller, or a snapshot of a controller.",
          "name" : "GCController",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCController"
        },
        {
          "description" : "An object that represents a physical racing wheel controller connected to a device.",
          "name" : "GCRacingWheel",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCRacingWheel"
        },
        {
          "description" : "An object that represents a physical keyboard connected to a device.",
          "name" : "GCKeyboard",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCKeyboard"
        },
        {
          "description" : "An object that represents a physical mouse connected to a device.",
          "name" : "GCMouse",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCMouse"
        },
        {
          "description" : "An object that represents a physical stylus connected to the device.",
          "name" : "GCStylus",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/GCStylus"
        }
      ],
      "title" : "Game controllers"
    }
  ],
  "source" : "appleJSON",
  "title" : "Discovering and tracking spatial game controllers and styli",
  "url" : "https:\/\/developer.apple.com\/documentation\/GameController\/discovering-and-tracking-spatial-game-controllers-and-styli"
}