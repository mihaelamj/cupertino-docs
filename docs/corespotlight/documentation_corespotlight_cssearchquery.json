{
  "abstract" : "A type you use to programmatically search the indexed app content.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "0111573ae29e3e18260ec09d9f5f00c6578979d76418cb5b67e8e8c8f42fc937",
  "crawledAt" : "2025-12-03T04:16:21Z",
  "declaration" : {
    "code" : "class CSSearchQuery",
    "language" : "swift"
  },
  "id" : "E462EE70-EB67-454E-8E7D-C0A00DFD91E8",
  "inheritedBy" : [
    "CSUserQuery"
  ],
  "kind" : "class",
  "language" : "swift",
  "module" : "Core Spotlight",
  "overview" : "## Overview\n\nUse a `CSSearchQuery` object to search your app’s indexed content using a formatted search string. To perform a search, build a predicate string to specify the indexed attributes you want to search and the value you want them to match. After you start the query, you receive batches of results in the handlers you provide.\n\nEach `CSSearchQuery` object you create performs a single search operation and delivers the results back to your code. Build each predicate with an attribute name, one or more values, and either a comparison operator or the `InRange` operator. Your predicate string takes one of the following forms:\n\nQueries search all of your app’s indexes by default. If your app encrypts some of its indexed data, you can limit your search to one or more of the encrypted indexes by updating the query’s [doc:\/\/com.apple.corespotlight\/documentation\/CoreSpotlight\/CSSearchQuery\/protectionClasses] property.  The query must have access to the protected index to search it.\n\nFor more information about how to construct predicate strings for your query, see [doc:\/\/com.apple.corespotlight\/documentation\/CoreSpotlight\/searching-for-information-in-your-app].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\ncrawled: 2025-12-03T04:16:21Z\n---\n\n# CSSearchQuery\n\n**Class**\n\nA type you use to programmatically search the indexed app content.\n\n## Declaration\n\n```swift\nclass CSSearchQuery\n```\n\n## Overview\n\nUse a `CSSearchQuery` object to search your app’s indexed content using a formatted search string. To perform a search, build a predicate string to specify the indexed attributes you want to search and the value you want them to match. After you start the query, you receive batches of results in the handlers you provide.\n\nEach `CSSearchQuery` object you create performs a single search operation and delivers the results back to your code. Build each predicate with an attribute name, one or more values, and either a comparison operator or the `InRange` operator. Your predicate string takes one of the following forms:\n\n- `attributeName operator value[modifiers]`\n- `InRange(attributeName, minValue, maxValue)`\n\nQueries search all of your app’s indexes by default. If your app encrypts some of its indexed data, you can limit your search to one or more of the encrypted indexes by updating the query’s [doc:\/\/com.apple.corespotlight\/documentation\/CoreSpotlight\/CSSearchQuery\/protectionClasses] property.  The query must have access to the protected index to search it.\n\nFor more information about how to construct predicate strings for your query, see [doc:\/\/com.apple.corespotlight\/documentation\/CoreSpotlight\/searching-for-information-in-your-app].\n\n## Creating a query object\n\n- **init(queryString:attributes:)**: Initializes and returns a query object with the specified query string and item attributes.\n- **init(queryString:queryContext:)**: Initializes and returns a query object with the specified query string and query context.\n\n## Continuing an activity\n\n- **CSSearchQueryString**: Provides the key for the current query in the info dictionary of the user activity object.\n- **CSQueryContinuationActionType**: Indicates that the activity type to continue is a search or query.\n\n## Specifying the indexes to search\n\n- **protectionClasses**: The protection types of the indexes you want to search.\n\n## Executing the query automatically\n\n- **results**: The results that match the current query string.\n- **CSSearchQuery.Results**: An asynchronous sequence that contains the results that match the query string.\n\n## Executing the query with handler blocks\n\n- **start()**: Starts searching the index for items that match the current query string and parameters.\n- **cancel()**: Cancels the current query operation.\n- **isCancelled**: A Boolean value that indicates whether the current query is no longer running.\n- **foundItemCount**: The number of matching items found for the given query string.\n- **foundItemsHandler**: The block to execute when the query delivers a new batch of matching items.\n- **completionHandler**: The block to execute when the query finishes delivering all results.\n\n## Queries\n\n- **Building a search interface for your app**: Add a search interface to your app to execute Spotlight queries and offer suggested text completions.\n- **Searching for information in your app**: Search for app-specific content and refine search results using predicates and filters.\n- **CSUserQuery**: A type you use to initiate searches from your interface and offer suggested text completions.\n- **CSUserQueryContext**: The configuration details to apply to a user query.\n- **CSSearchQueryContext**: The behavior configuration to use for a search query.\n- **CSSuggestion**: The kind of suggestion to use in a query.\n\n## Inherits From\n\n- NSObject\n\n## Inherited By\n\n- CSUserQuery\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes and returns a query object with the specified query string and item attributes.",
          "name" : "init(queryString:attributes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/init(queryString:attributes:)"
        },
        {
          "description" : "Initializes and returns a query object with the specified query string and query context.",
          "name" : "init(queryString:queryContext:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/init(queryString:queryContext:)"
        }
      ],
      "title" : "Creating a query object"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provides the key for the current query in the info dictionary of the user activity object.",
          "name" : "CSSearchQueryString",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQueryString"
        },
        {
          "description" : "Indicates that the activity type to continue is a search or query.",
          "name" : "CSQueryContinuationActionType",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSQueryContinuationActionType"
        }
      ],
      "title" : "Continuing an activity"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The protection types of the indexes you want to search.",
          "name" : "protectionClasses",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/protectionClasses"
        }
      ],
      "title" : "Specifying the indexes to search"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The results that match the current query string.",
          "name" : "results",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/results-swift.property"
        },
        {
          "description" : "An asynchronous sequence that contains the results that match the query string.",
          "name" : "CSSearchQuery.Results",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/Results-swift.struct"
        }
      ],
      "title" : "Executing the query automatically"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts searching the index for items that match the current query string and parameters.",
          "name" : "start()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/start()"
        },
        {
          "description" : "Cancels the current query operation.",
          "name" : "cancel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/cancel()"
        },
        {
          "description" : "A Boolean value that indicates whether the current query is no longer running.",
          "name" : "isCancelled",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/isCancelled"
        },
        {
          "description" : "The number of matching items found for the given query string.",
          "name" : "foundItemCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/foundItemCount"
        },
        {
          "description" : "The block to execute when the query delivers a new batch of matching items.",
          "name" : "foundItemsHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/foundItemsHandler"
        },
        {
          "description" : "The block to execute when the query finishes delivering all results.",
          "name" : "completionHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery\/completionHandler"
        }
      ],
      "title" : "Executing the query with handler blocks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add a search interface to your app to execute Spotlight queries and offer suggested text completions.",
          "name" : "Building a search interface for your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/building-a-search-interface-for-your-app"
        },
        {
          "description" : "Search for app-specific content and refine search results using predicates and filters.",
          "name" : "Searching for information in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/searching-for-information-in-your-app"
        },
        {
          "description" : "A type you use to initiate searches from your interface and offer suggested text completions.",
          "name" : "CSUserQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSUserQuery"
        },
        {
          "description" : "The configuration details to apply to a user query.",
          "name" : "CSUserQueryContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSUserQueryContext"
        },
        {
          "description" : "The behavior configuration to use for a search query.",
          "name" : "CSSearchQueryContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQueryContext"
        },
        {
          "description" : "The kind of suggestion to use in a query.",
          "name" : "CSSuggestion",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSuggestion"
        }
      ],
      "title" : "Queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CSSearchQuery",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreSpotlight\/CSSearchQuery"
}