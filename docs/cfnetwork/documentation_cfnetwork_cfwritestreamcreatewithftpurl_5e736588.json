{
  "abstract" : "Creates an FTP write stream.",
  "codeExamples" : [

  ],
  "contentHash" : "7dfec6bc81f3dacb4734abbef3ea6027fd16ec4ded1bee859a8b8b2974470e82",
  "crawledAt" : "2025-12-07T14:29:15Z",
  "declaration" : {
    "code" : "func CFWriteStreamCreateWithFTPURL(_ alloc: CFAllocator?, _ ftpURL: CFURL) -> Unmanaged<CFWriteStream>",
    "language" : "swift"
  },
  "id" : "79763A1F-E9A9-4935-886B-77D5C7EA892D",
  "kind" : "function",
  "language" : "swift",
  "module" : "CFNetwork",
  "overview" : "## Return Value\n\nA new write stream, or `NULL` if the call failed. Ownership follows the [https:\/\/developer.apple.com\/library\/archive\/documentation\/CoreFoundation\/Conceptual\/CFMemoryMgmt\/Concepts\/Ownership.html#\/\/apple_ref\/doc\/uid\/20001148-103029].\n\n## Discussion\n\nThis function creates an FTP write stream for uploading data to an FTP URL. If the `ftpURL` parameter is created with the user name and password as part of the URL (such as `ftp:\/\/username:password@ftp.example.com`) then the user name and password will automatically be set in the `CFWriteStream`. Call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamSetProperty(_:_:_:)] to set the steam’s properties, such as `kCFStreamPropertyFTPUserName` and `kCFStreamPropertyFTPPassword` to associate a user name and password with the stream that are used to log in when the stream is opened. See `Constants` for a description of all FTP stream properties.\n\nAfter creating the write stream, you can call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamGetStatus(_:)] at any time to check the status of the stream.\n\nTo initiate a connection with the FTP server, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamOpen(_:)]. If the URL specifies a directory, the open is immediately followed by the event `kCFStreamEventEndEncountered` (and the stream passes to the state `kCFStreamStatusAtEnd`). Once the stream reaches this state, the directory has been created. Intermediary directories are not created.\n\nTo write to the FTP stream, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamWrite(_:_:_:)].\n\nTo close a connection with the FTP server, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamClose(_:)].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFWriteStreamCreateWithFTPURL(_:_:)\ncrawled: 2025-12-07T14:29:15Z\n---\n\n# CFWriteStreamCreateWithFTPURL(_:_:)\n\n**Function**\n\nCreates an FTP write stream.\n\n## Declaration\n\n```swift\nfunc CFWriteStreamCreateWithFTPURL(_ alloc: CFAllocator?, _ ftpURL: CFURL) -> Unmanaged<CFWriteStream>\n```\n\n## Parameters\n\n- **alloc**: The allocator to use to allocate memory for the new object. Pass `NULL` or kCFAllocatorDefault to use the current default allocator.\n- **ftpURL**: A pointer to a CFURL structure for the URL to be uploaded created by calling any of the `CFURLCreate` functions, such as `CFURLCreateWithString`.\n\n## Return Value\n\nA new write stream, or `NULL` if the call failed. Ownership follows the [https:\/\/developer.apple.com\/library\/archive\/documentation\/CoreFoundation\/Conceptual\/CFMemoryMgmt\/Concepts\/Ownership.html#\/\/apple_ref\/doc\/uid\/20001148-103029].\n\n## Discussion\n\nThis function creates an FTP write stream for uploading data to an FTP URL. If the `ftpURL` parameter is created with the user name and password as part of the URL (such as `ftp:\/\/username:password@ftp.example.com`) then the user name and password will automatically be set in the `CFWriteStream`. Call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamSetProperty(_:_:_:)] to set the steam’s properties, such as `kCFStreamPropertyFTPUserName` and `kCFStreamPropertyFTPPassword` to associate a user name and password with the stream that are used to log in when the stream is opened. See `Constants` for a description of all FTP stream properties.\n\nAfter creating the write stream, you can call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamGetStatus(_:)] at any time to check the status of the stream.\n\nTo initiate a connection with the FTP server, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamOpen(_:)]. If the URL specifies a directory, the open is immediately followed by the event `kCFStreamEventEndEncountered` (and the stream passes to the state `kCFStreamStatusAtEnd`). Once the stream reaches this state, the directory has been created. Intermediary directories are not created.\n\nTo write to the FTP stream, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamWrite(_:_:_:)].\n\nTo close a connection with the FTP server, call [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFWriteStreamClose(_:)].\n\n## Streams\n\n- **CFReadStreamCreateForHTTPRequest(_:_:)**: Creates a read stream for a CFHTTP request message.\n- **CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)**: Creates a read stream for a CFHTTP request message object whose body is too long to keep in memory.\n- **kCFStreamPropertyHTTPAttemptPersistentConnection**\n- **kCFStreamPropertyHTTPFinalRequest**: HTTP Final Request property. A value of type CFHTTPMessage containing the final message transmitted by the stream after all modifications (including authentication, connection policy, redirects, and so on) have been made. This property cannot be set.\n- **kCFStreamPropertyHTTPFinalURL**: HTTP Final URL property. A value of type CFURL containing the final HTTP URL. This value differs from the URL in the original HTTP request if an autoredirection occurred. This property cannot be set.\n- **kCFStreamPropertyHTTPProxy**\n- **kCFStreamPropertyHTTPProxyHost**\n- **kCFStreamPropertyHTTPProxyPort**\n- **kCFStreamPropertyHTTPRequestBytesWrittenCount**\n- **kCFStreamPropertyHTTPResponseHeader**: HTTP Response Header property. When copied by [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFReadStreamCopyProperty(_:_:)], the header of an HTTP response message is returned.\n- **kCFStreamPropertyHTTPSProxyHost**\n- **kCFStreamPropertyHTTPSProxyPort**\n- **kCFStreamPropertyHTTPShouldAutoredirect**: HTTP Should Auto Redirect property. Set this property to `kCFBooleanTrue` to enable autoredirection; set this property to `kCFBooleanFalse` to disable autoredirection.\n- **CFReadStreamCreateWithFTPURL(_:_:)**: Creates an FTP read stream.\n- **kCFStreamPropertyFTPAttemptPersistentConnection**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a read stream for a CFHTTP request message.",
          "name" : "CFReadStreamCreateForHTTPRequest(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateForHTTPRequest(_:_:)"
        },
        {
          "description" : "Creates a read stream for a CFHTTP request message object whose body is too long to keep in memory.",
          "name" : "CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPAttemptPersistentConnection",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPAttemptPersistentConnection"
        },
        {
          "description" : "HTTP Final Request property. A value of type CFHTTPMessage containing the final message transmitted by the stream after all modifications (including authentication, connection policy, redirects, and so on) have been made. This property cannot be set.",
          "name" : "kCFStreamPropertyHTTPFinalRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPFinalRequest"
        },
        {
          "description" : "HTTP Final URL property. A value of type CFURL containing the final HTTP URL. This value differs from the URL in the original HTTP request if an autoredirection occurred. This property cannot be set.",
          "name" : "kCFStreamPropertyHTTPFinalURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPFinalURL"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxy",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxy"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxyHost",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxyHost"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxyPort",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxyPort"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPRequestBytesWrittenCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPRequestBytesWrittenCount"
        },
        {
          "description" : "HTTP Response Header property. When copied by [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFReadStreamCopyProperty(_:_:)], the header of an HTTP response message is returned.",
          "name" : "kCFStreamPropertyHTTPResponseHeader",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPResponseHeader"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPSProxyHost",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPSProxyHost"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPSProxyPort",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPSProxyPort"
        },
        {
          "description" : "HTTP Should Auto Redirect property. Set this property to `kCFBooleanTrue` to enable autoredirection; set this property to `kCFBooleanFalse` to disable autoredirection.",
          "name" : "kCFStreamPropertyHTTPShouldAutoredirect",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPShouldAutoredirect"
        },
        {
          "description" : "Creates an FTP read stream.",
          "name" : "CFReadStreamCreateWithFTPURL(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateWithFTPURL(_:_:)"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyFTPAttemptPersistentConnection",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyFTPAttemptPersistentConnection"
        }
      ],
      "title" : "Streams"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFWriteStreamCreateWithFTPURL(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFWriteStreamCreateWithFTPURL(_:_:)"
}