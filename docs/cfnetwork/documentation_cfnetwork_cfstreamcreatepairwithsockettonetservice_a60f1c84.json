{
  "abstract" : "Creates a pair of streams for a CFNetService.",
  "codeExamples" : [

  ],
  "contentHash" : "39205a11c7643b09c668bd241e039e4619b2fe153090f9d0e5b180b8502b7aee",
  "crawledAt" : "2025-12-05T07:19:01Z",
  "declaration" : {
    "code" : "func CFStreamCreatePairWithSocketToNetService(_ alloc: CFAllocator?, _ service: CFNetService, _ readStream: UnsafeMutablePointer<Unmanaged<CFReadStream>?>?, _ writeStream: UnsafeMutablePointer<Unmanaged<CFWriteStream>?>?)",
    "language" : "swift"
  },
  "id" : "29A86E98-F60B-470C-A3BC-5B7BA1098578",
  "kind" : "function",
  "language" : "swift",
  "module" : "CFNetwork",
  "overview" : "## Discussion\n\nThe streams do not create a socket, resolve the service, or connect to the service’s host until you open one of the streams.\n\nMost properties are shared by both streams. Setting a shared property for one stream automatically sets the property for the other.\n\n### Special Considerations\n\nThis function is thread safe.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFStreamCreatePairWithSocketToNetService(_:_:_:_:)\ncrawled: 2025-12-05T07:19:01Z\n---\n\n# CFStreamCreatePairWithSocketToNetService(_:_:_:_:)\n\n**Function**\n\nCreates a pair of streams for a CFNetService.\n\n## Declaration\n\n```swift\nfunc CFStreamCreatePairWithSocketToNetService(_ alloc: CFAllocator?, _ service: CFNetService, _ readStream: UnsafeMutablePointer<Unmanaged<CFReadStream>?>?, _ writeStream: UnsafeMutablePointer<Unmanaged<CFWriteStream>?>?)\n```\n\n## Parameters\n\n- **alloc**: The allocator to use to allocate memory for the `CFReadStream` and `CFWriteStream` objects. Pass `NULL` or kCFAllocatorDefault to use the current default allocator.\n- **service**: Reference to the `CFNetService` to which the streams are to be connected. If the service is not resolved, the service will be resolved before the streams are connected.\n- **writeStream**: Upon return, contains a `CFWriteStream` object connected to the service specified by `service`, or `NULL` if there is a failure during creation. If you pass `NULL`, the function will not create a writable stream. Ownership follows the [https:\/\/developer.apple.com\/library\/archive\/documentation\/CoreFoundation\/Conceptual\/CFMemoryMgmt\/Concepts\/Ownership.html#\/\/apple_ref\/doc\/uid\/20001148-103029].\n\n## Discussion\n\nThe streams do not create a socket, resolve the service, or connect to the service’s host until you open one of the streams.\n\nMost properties are shared by both streams. Setting a shared property for one stream automatically sets the property for the other.\n\n### Special Considerations\n\nThis function is thread safe.\n\n## Streams\n\n- **CFReadStreamCreateForHTTPRequest(_:_:)**: Creates a read stream for a CFHTTP request message.\n- **CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)**: Creates a read stream for a CFHTTP request message object whose body is too long to keep in memory.\n- **kCFStreamPropertyHTTPAttemptPersistentConnection**\n- **kCFStreamPropertyHTTPFinalRequest**: HTTP Final Request property. A value of type CFHTTPMessage containing the final message transmitted by the stream after all modifications (including authentication, connection policy, redirects, and so on) have been made. This property cannot be set.\n- **kCFStreamPropertyHTTPFinalURL**: HTTP Final URL property. A value of type CFURL containing the final HTTP URL. This value differs from the URL in the original HTTP request if an autoredirection occurred. This property cannot be set.\n- **kCFStreamPropertyHTTPProxy**\n- **kCFStreamPropertyHTTPProxyHost**\n- **kCFStreamPropertyHTTPProxyPort**\n- **kCFStreamPropertyHTTPRequestBytesWrittenCount**\n- **kCFStreamPropertyHTTPResponseHeader**: HTTP Response Header property. When copied by [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFReadStreamCopyProperty(_:_:)], the header of an HTTP response message is returned.\n- **kCFStreamPropertyHTTPSProxyHost**\n- **kCFStreamPropertyHTTPSProxyPort**\n- **kCFStreamPropertyHTTPShouldAutoredirect**: HTTP Should Auto Redirect property. Set this property to `kCFBooleanTrue` to enable autoredirection; set this property to `kCFBooleanFalse` to disable autoredirection.\n- **CFWriteStreamCreateWithFTPURL(_:_:)**: Creates an FTP write stream.\n- **CFReadStreamCreateWithFTPURL(_:_:)**: Creates an FTP read stream.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a read stream for a CFHTTP request message.",
          "name" : "CFReadStreamCreateForHTTPRequest(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateForHTTPRequest(_:_:)"
        },
        {
          "description" : "Creates a read stream for a CFHTTP request message object whose body is too long to keep in memory.",
          "name" : "CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateForStreamedHTTPRequest(_:_:_:)"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPAttemptPersistentConnection",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPAttemptPersistentConnection"
        },
        {
          "description" : "HTTP Final Request property. A value of type CFHTTPMessage containing the final message transmitted by the stream after all modifications (including authentication, connection policy, redirects, and so on) have been made. This property cannot be set.",
          "name" : "kCFStreamPropertyHTTPFinalRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPFinalRequest"
        },
        {
          "description" : "HTTP Final URL property. A value of type CFURL containing the final HTTP URL. This value differs from the URL in the original HTTP request if an autoredirection occurred. This property cannot be set.",
          "name" : "kCFStreamPropertyHTTPFinalURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPFinalURL"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxy",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxy"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxyHost",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxyHost"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPProxyPort",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPProxyPort"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPRequestBytesWrittenCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPRequestBytesWrittenCount"
        },
        {
          "description" : "HTTP Response Header property. When copied by [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CFReadStreamCopyProperty(_:_:)], the header of an HTTP response message is returned.",
          "name" : "kCFStreamPropertyHTTPResponseHeader",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPResponseHeader"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPSProxyHost",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPSProxyHost"
        },
        {
          "description" : "",
          "name" : "kCFStreamPropertyHTTPSProxyPort",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPSProxyPort"
        },
        {
          "description" : "HTTP Should Auto Redirect property. Set this property to `kCFBooleanTrue` to enable autoredirection; set this property to `kCFBooleanFalse` to disable autoredirection.",
          "name" : "kCFStreamPropertyHTTPShouldAutoredirect",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/kCFStreamPropertyHTTPShouldAutoredirect"
        },
        {
          "description" : "Creates an FTP write stream.",
          "name" : "CFWriteStreamCreateWithFTPURL(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFWriteStreamCreateWithFTPURL(_:_:)"
        },
        {
          "description" : "Creates an FTP read stream.",
          "name" : "CFReadStreamCreateWithFTPURL(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFReadStreamCreateWithFTPURL(_:_:)"
        }
      ],
      "title" : "Streams"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFStreamCreatePairWithSocketToNetService(_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CFNetwork\/CFStreamCreatePairWithSocketToNetService(_:_:_:_:)"
}