{
  "abstract" : "Return a value that changes in regular steps as a function of the age of the requests.",
  "codeExamples" : [
    {
      "code" : "diff(requests[].properties.skill) <= agedValues(avg(requests[].secondsInQueue), 20, 100, 10, 20)",
      "language" : "other"
    },
    {
      "code" : "number agedAsSteppedValue(number $ageSeconds, number $initialValue, number $finalLimit, number ageIntervalSeconds, number $intervalChange)",
      "language" : "other"
    },
    {
      "code" : "$initialValue + $intervalChange * ( $ageSeconds \/ $ageIntervalSecs )",
      "language" : "swift"
    }
  ],
  "contentHash" : "ec98d335b4875140d57e38ea20ac43e97248d9d7f5007de490eb2120c8ddd1c9",
  "crawledAt" : "2025-12-04T22:28:29Z",
  "id" : "E9232345-F52B-4263-9247-B358AEB71004",
  "kind" : "article",
  "language" : "data",
  "module" : "App Store Connect API",
  "overview" : "## Overview\n\nUse the `agedAsSteppedValue()` function in the expression of a matchmaking rule to get a value that depends on the age of a request. You can use this function in combination with others to create a criteria that loosen over time.\n\nFor example, `agedAsSteppedValue(age, `50`, `500`, `10`, `50`)` — where `ageIntervalSeconds` is `10`, `intervalChange` is `50`, and `finalLimit` is `500` — maps the `ageSeconds` parameter to the values in the table below. If `age` is `3`, the function returns `50`, if `age` is `11`, it returns `150`, and if `age` is `84`, it returns `500`.\n\nIf you pass a negative value for the `intervalChange` and `finalLimit` parameters, the values decrement as the `age` increases. For example, `agedValueLinear(age, `8`, `-4`, `5`, `-2`)` maps the `ageSeconds` parameter to the values in the table below.\n\nTo loosen constraints over time, use this function in comparisons. For example, use this function in an expression to constrain matches to players with similar skill levels. Start with the difference in skill set to `20`, and as the average age of the requests increases by `10` seconds, increase the difference by `20` until it reaches the maximum of `100`.\n\nTo compute the average age of the requests in the queue, pass `requests[].secondsInQueue` to the `avg()` function. Alternatively, you can get the minimum or maximum age of the requests using the JMESPath `min()` and `max()` functions.\n\n### Declaration\n\n### Parameters\n\n### Return value\n\nA linear-stepped value that increments or decrements by the given amount based on the ageSeconds parameter. If ageSeconds is less than intervalChange, returns initialValue. Otherwise, returns the result of this equation that maps ageSeconds to a range of values:\n\nIf the result is greater than `finalLimit`, returns `finalLimit` instead.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/getting-value-based-on-age\ncrawled: 2025-12-04T22:28:29Z\n---\n\n# Getting value based on age\n\n**Article**\n\nReturn a value that changes in regular steps as a function of the age of the requests.\n\n## Overview\n\nUse the `agedAsSteppedValue()` function in the expression of a matchmaking rule to get a value that depends on the age of a request. You can use this function in combination with others to create a criteria that loosen over time.\n\nFor example, `agedAsSteppedValue(age, `50`, `500`, `10`, `50`)` — where `ageIntervalSeconds` is `10`, `intervalChange` is `50`, and `finalLimit` is `500` — maps the `ageSeconds` parameter to the values in the table below. If `age` is `3`, the function returns `50`, if `age` is `11`, it returns `150`, and if `age` is `84`, it returns `500`.\n\n\n\nIf you pass a negative value for the `intervalChange` and `finalLimit` parameters, the values decrement as the `age` increases. For example, `agedValueLinear(age, `8`, `-4`, `5`, `-2`)` maps the `ageSeconds` parameter to the values in the table below.\n\n\n\nTo loosen constraints over time, use this function in comparisons. For example, use this function in an expression to constrain matches to players with similar skill levels. Start with the difference in skill set to `20`, and as the average age of the requests increases by `10` seconds, increase the difference by `20` until it reaches the maximum of `100`.\n\n```other\ndiff(requests[].properties.skill) <= agedValues(avg(requests[].secondsInQueue), 20, 100, 10, 20)\n```\n\nTo compute the average age of the requests in the queue, pass `requests[].secondsInQueue` to the `avg()` function. Alternatively, you can get the minimum or maximum age of the requests using the JMESPath `min()` and `max()` functions.\n\n### Declaration\n\n```other\nnumber agedAsSteppedValue(number $ageSeconds, number $initialValue, number $finalLimit, number ageIntervalSeconds, number $intervalChange)\n```\n\n### Parameters\n\n\n\n### Return value\n\nA linear-stepped value that increments or decrements by the given amount based on the ageSeconds parameter. If ageSeconds is less than intervalChange, returns initialValue. Otherwise, returns the result of this equation that maps ageSeconds to a range of values:\n\n```swift\n$initialValue + $intervalChange * ( $ageSeconds \/ $ageIntervalSecs )\n```\n\nIf the result is greater than `finalLimit`, returns `finalLimit` instead.\n\n## Match functions\n\n- **Getting value based on age using an array**: Return a value that changes according to an array of values as a function of the age of the requests.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Return a value that changes according to an array of values as a function of the age of the requests.",
          "name" : "Getting value based on age using an array",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/getting-value-based-on-age-using-an-array"
        }
      ],
      "title" : "Match functions"
    }
  ],
  "source" : "appleJSON",
  "title" : "Getting value based on age",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/getting-value-based-on-age"
}