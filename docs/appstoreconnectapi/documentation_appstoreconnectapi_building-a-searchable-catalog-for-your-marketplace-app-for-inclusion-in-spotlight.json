{
  "abstract" : "Set up and build your alternative marketplace’s searchable index.",
  "codeExamples" : [
    {
      "code" : "example.com\n  \/crawler-site\n     |\n     | - sitemap.xml\n     | - apps -\n                   | - backyard-birds.html\n                   | - camping-app.html",
      "language" : "other"
    },
    {
      "code" : "curl -X GET https:\/\/example.com\/apps\/sitemap.xml \n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"https:\/\/www.sitemaps.org\/schemas\/sitemap\/0.9\">\n   <url>\n      <loc>https:\/\/example.com\/apps\/catalog\/backyard-birds.html<\/loc>\n      <lastmod>2023-06-20<\/lastmod>\n      <changefreq>monthly<\/changefreq>\n      <priority>0.8<\/priority>\n   <\/url>\n   <url>\n      <loc>https:\/\/example.com\/apps\/catalog\/camping-app.html<\/loc>\n      <lastmod>2023-07-10<\/lastmod>\n      <changefreq>daily<\/changefreq>\n      <priority>0.8<\/priority>\n   <\/url>\n<\/urlset> ",
      "language" : "other"
    },
    {
      "code" : "curl -X GET https:\/\/example.com\/apps\/catalog\/backyard-birds.html\n\n<!DOCTYPE html>\n<html>\n<head>\n\n<!-- This document applies to app version v0.0.1. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-20T11:01:11Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 4.8,\n        \"reviewCount\": 2381453,\n        \"bestRating\": 5,\n        \"worstRating: 1\"\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"173757332\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 26.48\n        }\n      ]\n    }\n  }\n<\/script>\n\n<!-- This document applies to app version v0.0.2 - note the different appleVersionId. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-21T09:45:01Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 4.5,\n        \"reviewCount\": 238153,\n        \"bestRating\": 5,\n        \"worstRating\": 1\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"2347437814\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 22.12\n        }\n      ]\n    }\n  }\n<\/script>\n\n<!-- This document applies to app version v0.0.3 - note the different appleVersionId, some ranking signals also changed. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-22T06:19:45Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 3.5,\n        \"reviewCount\": 2814,\n        \"bestRating\": 5,\n        \"worstRating\": 1\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"2347437815\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 15.32\n        }\n      ]\n    }\n  }\n<\/script>\n<\/head>\n\n<body>\n<h1>Backyard Birds<\/h1>\n<p>Identify the birds in your backyard!<\/p>\n<p>Category: utility<\/p>\n<\/body>\n\n<\/html>",
      "language" : "other"
    },
    {
      "code" : "\"supportingData\": {\n    \"@type\": \"DataFeed\",\n    \"dataFeedElement\": [\n        {\n            \"@type\": \"PropertyValue\",\n            \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\",\n            \"value\": 15.32\n        }\n    ]\n}",
      "language" : "other"
    }
  ],
  "contentHash" : "900ed3174306939bcf97942712096662ef2c05332404f6e351d922c3d75bbb87",
  "crawledAt" : "2025-12-05T18:30:21Z",
  "id" : "53F5E802-C16D-4736-8D5B-864F9A05E4A4",
  "kind" : "article",
  "language" : "data",
  "module" : "App Store Connect API",
  "overview" : "## Overview\n\nApple builds an index of alternative marketplace apps in order to integrate them into Spotlight. You can set up a catalog of your applications so the Applebot web crawler discovers, indexes, and then shows your apps as Spotlight results on iOS. You must implement this interface to be part of search results in Spotlight.\n\n### Understand basic requirements\n\nThe application catalog-crawling mechanism is based on two standard industry practices: [https:\/\/sitemaps.org] and semantic, [https:\/\/schema.org].\n\nApp developers for alternative marketplaces need to maintain a web presence, which means being reachable over the web, and use App Store Connect API to submit the URL of a root sitemap. To learn more see, [doc:\/\/com.apple.appstoreconnectapi\/documentation\/AppStoreConnectAPI\/POST-v1-marketplaceSearchDetails]. Apple uses the root sitemap for further URL discovery and traverses subsequent sitemaps when a catalog is large enough to need fragmentation, or directly uses application URLs. Each application URL needs to return an HTML document enriched with structured data annotated in accordance with schema.org’s schemas, specifically the `MobileApplication` type. Apple defines which fields must be populated using a mixture of standard fields and additional proprietary properties specified using the `supportingData` field, which is described below.\n\nHere’s an example catalog with two applications – an app called Backyard Birds, and another called Camping App:\n\nThe following items are required for the alternative marketplace:\n\nThe marketplace submits the sitemap URL to App Store Connect with [doc:\/\/com.apple.appstoreconnectapi\/documentation\/AppStoreConnectAPI\/POST-v1-marketplaceSearchDetails].\n\nThe sitemap is the root file where Applebot start its crawl and then it proceeds to the application URLs.\n\nHere’s an example sitemap:\n\nThe [https:\/\/support.apple.com\/en-us\/HT204683] web crawler fetches the list of URLs present in the sitemap and crawls them all. Each URL needs to point to an HTML document that contains structured data schemas that include essential information about the content using the [https:\/\/json-ld.org]\n\nHere’s an example markup:\n\n### Include mandatory fields\n\nThese fields are the exact and only fields that are mandatory for `MobileApplication`. For more information see [https:\/\/schema.org\/supportingData].\n\n### Consider optional fields\n\nOptionally, every instance *may* define additional ranking signals to facilitate surfacing the best results. These signals use [https:\/\/schema.org]’s `aggregateRating`, which is an app-rating value, together with the total review count and the rating range. The widest supported rating range is from 0 to 100. When using `aggregateRating`, all four properties are mandatory. For more information see [https:\/\/schema.org\/aggregateRating].\n\nThis table shows details for the `AggregateRating` properties:\n\nThis example shows the `popularity` property as part of the `supportingData` code block:\n\n### Understand supported countries\n\nSearchabilty for apps distributed on alternative marketplaces has two approaches: Applebot web crawler uses `countriesSupported`, while [doc:\/\/com.apple.documentation\/documentation\/MarketplaceKit] uses `searchTerritory`.\n\n`countriesSupported` is an array that contains a list of 2-letter country codes as defined by [https:\/\/www.iso.org\/obp\/ui\/#search]. Use these codes to filter the availabilty of an app per country for search. You’re responsible for setting an optional territory as necessary inside your marketplace app. To learn more about territory support, see the MarketplaceKit property `searchTerritory`.\n\nWhen someone searchs inside Lookup, Safari, or Spotlight, the request context contains the territory, which you set through the `setSearchTerritory` instance method on `AppLibrary`.\n\nFor this example, the user searches for outdoor apps. There are three apps that match the query in the table below. The user is in France, `territory: FR,` so Spotlight returns the two apps that match `countriesSupported.` In this example Spotlight returns Camping App and Forest Explorer.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/building-a-searchable-catalog-for-your-marketplace-app-for-inclusion-in-spotlight\ncrawled: 2025-12-05T18:30:21Z\n---\n\n# Building a searchable catalog for your marketplace app for inclusion in Spotlight\n\n**Article**\n\nSet up and build your alternative marketplace’s searchable index.\n\n## Overview\n\nApple builds an index of alternative marketplace apps in order to integrate them into Spotlight. You can set up a catalog of your applications so the Applebot web crawler discovers, indexes, and then shows your apps as Spotlight results on iOS. You must implement this interface to be part of search results in Spotlight.\n\n### Understand basic requirements\n\nThe application catalog-crawling mechanism is based on two standard industry practices: [https:\/\/sitemaps.org] and semantic, [https:\/\/schema.org].\n\nApp developers for alternative marketplaces need to maintain a web presence, which means being reachable over the web, and use App Store Connect API to submit the URL of a root sitemap. To learn more see, [doc:\/\/com.apple.appstoreconnectapi\/documentation\/AppStoreConnectAPI\/POST-v1-marketplaceSearchDetails]. Apple uses the root sitemap for further URL discovery and traverses subsequent sitemaps when a catalog is large enough to need fragmentation, or directly uses application URLs. Each application URL needs to return an HTML document enriched with structured data annotated in accordance with schema.org’s schemas, specifically the `MobileApplication` type. Apple defines which fields must be populated using a mixture of standard fields and additional proprietary properties specified using the `supportingData` field, which is described below.\n\nHere’s an example catalog with two applications – an app called Backyard Birds, and another called Camping App:\n\n```other\nexample.com\n  \/crawler-site\n     |\n     | - sitemap.xml\n     | - apps -\n                   | - backyard-birds.html\n                   | - camping-app.html\n```\n\nThe following items are required for the alternative marketplace:\n\n- Enable SSL.\n- Serve the sitemap and app pages from the same hostname (`example.com` in the example). If you intend to operate two marketplaces, you need to use two hostnames, for example `www.example.com` and `www.example2.com`.\n- Render structured data schema server-side. The schema must not require any client-side JavaScript processing.\n\n\n\nThe marketplace submits the sitemap URL to App Store Connect with [doc:\/\/com.apple.appstoreconnectapi\/documentation\/AppStoreConnectAPI\/POST-v1-marketplaceSearchDetails].\n\nThe sitemap is the root file where Applebot start its crawl and then it proceeds to the application URLs.\n\nHere’s an example sitemap:\n\n```other\ncurl -X GET https:\/\/example.com\/apps\/sitemap.xml \n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"https:\/\/www.sitemaps.org\/schemas\/sitemap\/0.9\">\n   <url>\n      <loc>https:\/\/example.com\/apps\/catalog\/backyard-birds.html<\/loc>\n      <lastmod>2023-06-20<\/lastmod>\n      <changefreq>monthly<\/changefreq>\n      <priority>0.8<\/priority>\n   <\/url>\n   <url>\n      <loc>https:\/\/example.com\/apps\/catalog\/camping-app.html<\/loc>\n      <lastmod>2023-07-10<\/lastmod>\n      <changefreq>daily<\/changefreq>\n      <priority>0.8<\/priority>\n   <\/url>\n<\/urlset> \n```\n\nThe [https:\/\/support.apple.com\/en-us\/HT204683] web crawler fetches the list of URLs present in the sitemap and crawls them all. Each URL needs to point to an HTML document that contains structured data schemas that include essential information about the content using the [https:\/\/json-ld.org]\n\n\n\nHere’s an example markup:\n\n```other\ncurl -X GET https:\/\/example.com\/apps\/catalog\/backyard-birds.html\n\n<!DOCTYPE html>\n<html>\n<head>\n\n<!-- This document applies to app version v0.0.1. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-20T11:01:11Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 4.8,\n        \"reviewCount\": 2381453,\n        \"bestRating\": 5,\n        \"worstRating: 1\"\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"173757332\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 26.48\n        }\n      ]\n    }\n  }\n<\/script>\n\n<!-- This document applies to app version v0.0.2 - note the different appleVersionId. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-21T09:45:01Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 4.5,\n        \"reviewCount\": 238153,\n        \"bestRating\": 5,\n        \"worstRating\": 1\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"2347437814\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 22.12\n        }\n      ]\n    }\n  }\n<\/script>\n\n<!-- This document applies to app version v0.0.3 - note the different appleVersionId, some ranking signals also changed. -->\n<script type=\"application\/ld+json\"> \n  {\n    \"@context\": \"https:\/\/schema.org\/\",\n    \"@type\": \"MobileApplication\",\n    \"datePublished\": \"2024-02-22T06:19:45Z\",\n    \"countriesSupported\": [\"PL\", \"FR\"],\n    \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": 3.5,\n        \"reviewCount\": 2814,\n        \"bestRating\": 5,\n        \"worstRating\": 1\n    },\n    \"supportingData\": {\n      \"@type\": \"DataFeed\",\n      \"dataFeedElement\": [\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleItemId\",\n          \"value\": \"6448401697\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.appleVersionId\",\n          \"value\": \"2347437815\"\n        },\n        {\n          \"@type\": \"PropertyValue\",\n          \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\", \n          \"value\": 15.32\n        }\n      ]\n    }\n  }\n<\/script>\n<\/head>\n\n<body>\n<h1>Backyard Birds<\/h1>\n<p>Identify the birds in your backyard!<\/p>\n<p>Category: utility<\/p>\n<\/body>\n\n<\/html>\n```\n\n### Include mandatory fields\n\nThese fields are the exact and only fields that are mandatory for `MobileApplication`. For more information see [https:\/\/schema.org\/supportingData].\n\n\n\n\n\n### Consider optional fields\n\nOptionally, every instance *may* define additional ranking signals to facilitate surfacing the best results. These signals use [https:\/\/schema.org]’s `aggregateRating`, which is an app-rating value, together with the total review count and the rating range. The widest supported rating range is from 0 to 100. When using `aggregateRating`, all four properties are mandatory. For more information see [https:\/\/schema.org\/aggregateRating].\n\n\n\nThis table shows details for the `AggregateRating` properties:\n\n\n\nThis example shows the `popularity` property as part of the `supportingData` code block:\n\n```other\n\"supportingData\": {\n    \"@type\": \"DataFeed\",\n    \"dataFeedElement\": [\n        {\n            \"@type\": \"PropertyValue\",\n            \"name\": \"com.apple.alternativeDistribution.search.ranking.popularity\",\n            \"value\": 15.32\n        }\n    ]\n}\n```\n\n### Understand supported countries\n\nSearchabilty for apps distributed on alternative marketplaces has two approaches: Applebot web crawler uses `countriesSupported`, while [doc:\/\/com.apple.documentation\/documentation\/MarketplaceKit] uses `searchTerritory`.\n\n`countriesSupported` is an array that contains a list of 2-letter country codes as defined by [https:\/\/www.iso.org\/obp\/ui\/#search]. Use these codes to filter the availabilty of an app per country for search. You’re responsible for setting an optional territory as necessary inside your marketplace app. To learn more about territory support, see the MarketplaceKit property `searchTerritory`.\n\nWhen someone searchs inside Lookup, Safari, or Spotlight, the request context contains the territory, which you set through the `setSearchTerritory` instance method on `AppLibrary`.\n\nFor this example, the user searches for outdoor apps. There are three apps that match the query in the table below. The user is in France, `territory: FR,` so Spotlight returns the two apps that match `countriesSupported.` In this example Spotlight returns Camping App and Forest Explorer.\n\n\n\n## Managing search URLs\n\n- **Add a marketplace search detail URL**: Add a search detail URL for the alternative marketplace.\n- **Read the marketplace search detail URL**: Get search detail URL for the alternative marketplace.\n- **GET \/v1\/apps\/{id}\/relationships\/marketplaceSearchDetail**\n- **Modify a marketplace search detail URL**: Update the search detail URL for the alternative marketplace.\n- **Delete a marketplace search detail URL**: Delete search detail URL for the alternative marketplace.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add a search detail URL for the alternative marketplace.",
          "name" : "Add a marketplace search detail URL",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/POST-v1-marketplaceSearchDetails"
        },
        {
          "description" : "Get search detail URL for the alternative marketplace.",
          "name" : "Read the marketplace search detail URL",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/GET-v1-apps-_id_-marketplaceSearchDetail"
        },
        {
          "description" : "",
          "name" : "GET \/v1\/apps\/{id}\/relationships\/marketplaceSearchDetail",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/GET-v1-apps-_id_-relationships-marketplaceSearchDetail"
        },
        {
          "description" : "Update the search detail URL for the alternative marketplace.",
          "name" : "Modify a marketplace search detail URL",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/PATCH-v1-marketplaceSearchDetails-_id_"
        },
        {
          "description" : "Delete search detail URL for the alternative marketplace.",
          "name" : "Delete a marketplace search detail URL",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/DELETE-v1-marketplaceSearchDetails-_id_"
        }
      ],
      "title" : "Managing search URLs"
    }
  ],
  "source" : "appleJSON",
  "title" : "Building a searchable catalog for your marketplace app for inclusion in Spotlight",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppStoreConnectAPI\/building-a-searchable-catalog-for-your-marketplace-app-for-inclusion-in-spotlight"
}