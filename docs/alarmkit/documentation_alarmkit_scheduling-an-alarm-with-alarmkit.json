{
  "abstract" : "Create prominent alerts at specified dates for your iOS app.",
  "codeExamples" : [
    {
      "code" : "do {\n    let state = try await alarmManager.requestAuthorization()\n    return state == .authorized\n} catch {\n    print(\"Error occurred while requesting authorization: \\(error)\")\n    return false\n}",
      "language" : "swift"
    },
    {
      "code" : "We'll schedule alerts for alarms you create within our app."
    },
    {
      "code" : "let time = Alarm.Schedule.Relative.Time(hour: hour, minute: minute)\nreturn .relative(.init(\n    time: time,\n    repeats: weekdays.isEmpty ? .never : .weekly(Array(weekdays))\n))",
      "language" : "swift"
    },
    {
      "code" : "let alertContent = AlarmPresentation.Alert(title: userInput.localizedLabel,\n        stopButton: .stopButton,\n        secondaryButton: secondaryButton,\n        secondaryButtonBehavior: secondaryButtonBehavior)\n\nguard userInput.countdownDuration != nil else {\n    \/\/ An alarm without countdown specifies only an alert state.\n    return AlarmPresentation(alert: alertContent)\n}\n\n\/\/ With countdown enabled, provide a presentation for both a countdown and paused state.\nlet countdownContent = AlarmPresentation.Countdown(title: userInput.localizedLabel,\n        pauseButton: .pauseButton)\n\nlet pausedContent = AlarmPresentation.Paused(title: \"Paused\",\n        resumeButton: .resumeButton)\n\nreturn AlarmPresentation(alert: alertContent, countdown: countdownContent, paused: pausedContent)",
      "language" : "swift"
    },
    {
      "code" : "var secondaryButtonBehavior: AlarmPresentation.Alert.SecondaryButtonBehavior? {\n    switch selectedSecondaryButton {\n    case .none: nil\n    case .countdown: .countdown\n    case .openApp: .custom\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "let secondaryButton: AlarmButton? = switch secondaryButtonBehavior {\n    case .countdown: .repeatButton\n    case .custom: .openAppButton\n    default: nil\n}",
      "language" : "swift"
    },
    {
      "code" : "let attributes = AlarmAttributes(presentation: alarmPresentation(with: userInput),\n        metadata: CookingData(),\n        tintColor: Color.blue)",
      "language" : "swift"
    },
    {
      "code" : "let id = UUID()\nlet alarmConfiguration = AlarmConfiguration(countdownDuration: userInput.countdownDuration,\n        schedule: userInput.schedule,\n        attributes: attributes,\n        stopIntent: StopIntent(alarmID: id.uuidString),\n        secondaryIntent: secondaryIntent(alarmID: id, userInput: userInput))",
      "language" : "swift"
    },
    {
      "code" : "let alarm = try await alarmManager.schedule(id: id, configuration: alarmConfiguration)",
      "language" : "swift"
    },
    {
      "code" : "Task {\n    for await incomingAlarms in alarmManager.alarmUpdates {\n        updateAlarmState(with: incomingAlarms)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "6f56325057c68f155fe9b4fbd821c6ff57d3d9a7a94a74b57fa5af8554442302",
  "crawledAt" : "2025-12-02T15:45:49Z",
  "id" : "E0EE24E0-D7ED-4ADD-8AA7-4569EB03F275",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AlarmKit",
  "overview" : "## Overview\n\nAn alarm is an alert that presents at a pre-determined time based on a schedule or after a countdown. It overrides both a device’s focus and silent mode, if necessary.\n\nThis sample project uses AlarmKit to create and manage different types of alarms. In this app people can create and manage:\n\nThis project also includes a widget extension for setting up the custom countdown Live Activity associated with an alarm.\n\n## Authorize the app to schedule alarms\n\nThis sample prompts people to authorize the app to allow AlarmKit to schedule alarms and create alerts by calling [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/requestAuthorization()] on [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager]. Otherwise, when a person adds their first alarm, AlarmKit automatically requests this authorization on behalf of the app, before scheduling the alarm. If this sample doesn’t get this authorization, then any alarm created by the app isn’t scheduled and subsequently doesn’t alert.\n\nThe sample includes the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSAlarmKitUsageDescription] key in the app’s `Info.plist` with a descriptive string explaining why it schedules alarms. This string appears in the system prompt when requesting authorization, in this sample the string is:\n\nIf the `NSAlarmKitUsageDescription` key is missing or its value is an empty string, apps can’t schedule alarms with AlarmKit.\n\n## Create the alarm schedule\n\nThe sample app creates an alarm with either, or both, a countdown duration and a schedule, based on the options a person sets.\n\n[doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/CountdownDuration-swift.struct] uses the selected `TimeInterval` for the  pre-alert countdown, which displays the alert when the countdown reaches 0.\n\n[doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum] enables people to set a one-time alarm, or configure a weekly schedule. For single-occurrence alarms, the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/repeats] property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/Recurrence\/never]. For recurring alarms, the `repeats` property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/Recurrence\/weekly(_:)] with an associated array `Locale.Weekday`, indicating the days of the week the alarm alerts.\n\n## Configure the alarm’s UI attributes\n\nAlarmKit provides a presentation for each of the three alarm states - [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct], [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Countdown-swift.struct], and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Paused-swift.struct]. Because `Countdown` and `Paused` are optional presentations, this sample doesn’t use them if the alarm only has an `Alert` state.\n\nAlongside the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/stopButton], the sample includes another action button in the alerting UI. This action depends on [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/secondaryButton] and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/secondaryButtonBehavior-swift.property].\n\nWhen the `secondaryButtonBehavior` property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/SecondaryButtonBehavior-swift.enum\/countdown], the secondary button is a `Repeat` action, which re-triggers the alarm after a certain `TimeInterval`, as specified in [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/CountdownDuration-swift.struct\/postAlert]. If the `secondaryButtonBehavior` is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/SecondaryButtonBehavior-swift.enum\/custom], the alarm alert displays an `Open` action to launch the app.\n\nThe content for these presentations is wrapped into [doc:\/\/com.apple.documentation\/documentation\/ActivityKit\/ActivityAttributes], along with [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes\/tintColor], and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes\/metadata]. The tint color associates the alarms with the sample app and also differentiates them from other app’s alarms on the person’s device.\n\n## Schedule the configured alarm\n\nThe sample uses a unique identifier to track alarms registered with AlarmKit. The sample manages and updates alarm states, such as [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/pause(id:)] and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/cancel(id:)], using this identifier.\n\nWhen a person taps the button in the alerting UI, the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager] automatically handles stop or countdown functionalities, depending on the button type.\n\nThis sample creates the alarm ID and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/AlarmConfiguration] and schedules the alarm with [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager].\n\n## Observe state changes on the alarms\n\nAt initialization, the `ViewModel` subscribes to alarm events from [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/shared]. This enables the sample app to have the latest state of an alarm even if the alarm state updated while the sample app isn’t running.\n\n## Create a Widget Extension for Live Activities\n\nThe sample app adds a widget extension target to customize non-alerting presentations in the Dynamic Island, Lock Screen, and StandBy. The widget extension receives the same [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes] structure that you provide to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/shared] when scheduling alarms. It includes the metadata provided in the [#Configure-the-alarms-UI-attributes] section above.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AlarmKit\/scheduling-an-alarm-with-alarmkit\ncrawled: 2025-12-02T15:45:49Z\n---\n\n# Scheduling an alarm with AlarmKit\n\n**Sample Code**\n\nCreate prominent alerts at specified dates for your iOS app.\n\n## Overview\n\nAn alarm is an alert that presents at a pre-determined time based on a schedule or after a countdown. It overrides both a device’s focus and silent mode, if necessary.\n\nThis sample project uses AlarmKit to create and manage different types of alarms. In this app people can create and manage:\n\n- **One-time alarms** which alert only once at a specified time in the future.\n- **Repeating alarms** which alert with a weekly cadence.\n- **Timers** which alert after a countdown, and start immediately.\n\nThis project also includes a widget extension for setting up the custom countdown Live Activity associated with an alarm.\n\n\n\n## Authorize the app to schedule alarms\n\nThis sample prompts people to authorize the app to allow AlarmKit to schedule alarms and create alerts by calling [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/requestAuthorization()] on [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager]. Otherwise, when a person adds their first alarm, AlarmKit automatically requests this authorization on behalf of the app, before scheduling the alarm. If this sample doesn’t get this authorization, then any alarm created by the app isn’t scheduled and subsequently doesn’t alert.\n\n```swift\ndo {\n    let state = try await alarmManager.requestAuthorization()\n    return state == .authorized\n} catch {\n    print(\"Error occurred while requesting authorization: \\(error)\")\n    return false\n}\n```\n\nThe sample includes the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSAlarmKitUsageDescription] key in the app’s `Info.plist` with a descriptive string explaining why it schedules alarms. This string appears in the system prompt when requesting authorization, in this sample the string is:\n\n```\nWe'll schedule alerts for alarms you create within our app.\n```\n\nIf the `NSAlarmKitUsageDescription` key is missing or its value is an empty string, apps can’t schedule alarms with AlarmKit.\n\n## Create the alarm schedule\n\nThe sample app creates an alarm with either, or both, a countdown duration and a schedule, based on the options a person sets.\n\n[doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/CountdownDuration-swift.struct] uses the selected `TimeInterval` for the  pre-alert countdown, which displays the alert when the countdown reaches 0.\n\n[doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum] enables people to set a one-time alarm, or configure a weekly schedule. For single-occurrence alarms, the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/repeats] property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/Recurrence\/never]. For recurring alarms, the `repeats` property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/Schedule-swift.enum\/Relative\/Recurrence\/weekly(_:)] with an associated array `Locale.Weekday`, indicating the days of the week the alarm alerts.\n\n```swift\nlet time = Alarm.Schedule.Relative.Time(hour: hour, minute: minute)\nreturn .relative(.init(\n    time: time,\n    repeats: weekdays.isEmpty ? .never : .weekly(Array(weekdays))\n))\n```\n\n## Configure the alarm’s UI attributes\n\nAlarmKit provides a presentation for each of the three alarm states - [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct], [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Countdown-swift.struct], and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Paused-swift.struct]. Because `Countdown` and `Paused` are optional presentations, this sample doesn’t use them if the alarm only has an `Alert` state.\n\n```swift\nlet alertContent = AlarmPresentation.Alert(title: userInput.localizedLabel,\n        stopButton: .stopButton,\n        secondaryButton: secondaryButton,\n        secondaryButtonBehavior: secondaryButtonBehavior)\n\nguard userInput.countdownDuration != nil else {\n    \/\/ An alarm without countdown specifies only an alert state.\n    return AlarmPresentation(alert: alertContent)\n}\n\n\/\/ With countdown enabled, provide a presentation for both a countdown and paused state.\nlet countdownContent = AlarmPresentation.Countdown(title: userInput.localizedLabel,\n        pauseButton: .pauseButton)\n\nlet pausedContent = AlarmPresentation.Paused(title: \"Paused\",\n        resumeButton: .resumeButton)\n\nreturn AlarmPresentation(alert: alertContent, countdown: countdownContent, paused: pausedContent)\n```\n\nAlongside the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/stopButton], the sample includes another action button in the alerting UI. This action depends on [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/secondaryButton] and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/secondaryButtonBehavior-swift.property].\n\n```swift\nvar secondaryButtonBehavior: AlarmPresentation.Alert.SecondaryButtonBehavior? {\n    switch selectedSecondaryButton {\n    case .none: nil\n    case .countdown: .countdown\n    case .openApp: .custom\n    }\n}\n```\n\nWhen the `secondaryButtonBehavior` property is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/SecondaryButtonBehavior-swift.enum\/countdown], the secondary button is a `Repeat` action, which re-triggers the alarm after a certain `TimeInterval`, as specified in [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/Alarm\/CountdownDuration-swift.struct\/postAlert]. If the `secondaryButtonBehavior` is set to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmPresentation\/Alert-swift.struct\/SecondaryButtonBehavior-swift.enum\/custom], the alarm alert displays an `Open` action to launch the app.\n\n```swift\nlet secondaryButton: AlarmButton? = switch secondaryButtonBehavior {\n    case .countdown: .repeatButton\n    case .custom: .openAppButton\n    default: nil\n}\n```\n\n\n\nThe content for these presentations is wrapped into [doc:\/\/com.apple.documentation\/documentation\/ActivityKit\/ActivityAttributes], along with [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes\/tintColor], and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes\/metadata]. The tint color associates the alarms with the sample app and also differentiates them from other app’s alarms on the person’s device.\n\n```swift\nlet attributes = AlarmAttributes(presentation: alarmPresentation(with: userInput),\n        metadata: CookingData(),\n        tintColor: Color.blue)\n```\n\n## Schedule the configured alarm\n\nThe sample uses a unique identifier to track alarms registered with AlarmKit. The sample manages and updates alarm states, such as [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/pause(id:)] and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/cancel(id:)], using this identifier.\n\nWhen a person taps the button in the alerting UI, the [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager] automatically handles stop or countdown functionalities, depending on the button type.\n\n\n\n```swift\nlet id = UUID()\nlet alarmConfiguration = AlarmConfiguration(countdownDuration: userInput.countdownDuration,\n        schedule: userInput.schedule,\n        attributes: attributes,\n        stopIntent: StopIntent(alarmID: id.uuidString),\n        secondaryIntent: secondaryIntent(alarmID: id, userInput: userInput))\n```\n\nThis sample creates the alarm ID and [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/AlarmConfiguration] and schedules the alarm with [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager].\n\n```swift\nlet alarm = try await alarmManager.schedule(id: id, configuration: alarmConfiguration)\n```\n\n## Observe state changes on the alarms\n\nAt initialization, the `ViewModel` subscribes to alarm events from [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/shared]. This enables the sample app to have the latest state of an alarm even if the alarm state updated while the sample app isn’t running.\n\n```swift\nTask {\n    for await incomingAlarms in alarmManager.alarmUpdates {\n        updateAlarmState(with: incomingAlarms)\n    }\n}\n```\n\n\n\n## Create a Widget Extension for Live Activities\n\nThe sample app adds a widget extension target to customize non-alerting presentations in the Dynamic Island, Lock Screen, and StandBy. The widget extension receives the same [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmAttributes] structure that you provide to [doc:\/\/com.apple.alarmkit\/documentation\/AlarmKit\/AlarmManager\/shared] when scheduling alarms. It includes the metadata provided in the [#Configure-the-alarms-UI-attributes] section above.\n\n\n\n## Alarm management\n\n- **AlarmManager**: An object that exposes functions to work with alarms: scheduling, snoozing, cancelling.\n- **Alarm**: An object that describes an alarm that can alert once or on a repeating schedule.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that exposes functions to work with alarms: scheduling, snoozing, cancelling.",
          "name" : "AlarmManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/AlarmKit\/AlarmManager"
        },
        {
          "description" : "An object that describes an alarm that can alert once or on a repeating schedule.",
          "name" : "Alarm",
          "url" : "https:\/\/developer.apple.com\/documentation\/AlarmKit\/Alarm"
        }
      ],
      "title" : "Alarm management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Scheduling an alarm with AlarmKit",
  "url" : "https:\/\/developer.apple.com\/documentation\/AlarmKit\/scheduling-an-alarm-with-alarmkit"
}