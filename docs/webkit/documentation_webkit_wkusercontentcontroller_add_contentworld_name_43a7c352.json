{
  "abstract" : "Installs a message handler that you can call from the specified content world in your JavaScript code.",
  "codeExamples" : [

  ],
  "contentHash" : "f943f1834949037006afc04d1ea8d6e10b2f2658fda7a458b0f0824ead9662de",
  "crawledAt" : "2025-12-07T13:42:02Z",
  "declaration" : {
    "code" : "@MainActor func add(_ scriptMessageHandler: any WKScriptMessageHandler, contentWorld world: WKContentWorld, name: String)",
    "language" : "swift"
  },
  "id" : "59E7CCCA-4C31-4272-8E2F-D68C301DBE83",
  "kind" : "method",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Discussion\n\nTo execute your handler’s code, call the JavaScript function that this method defines. You may pass a parameter value to the method. The user content controller packages that value into an appropriate type and delivers it to your content handler’s delegate method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:contentWorld:name:)\ncrawled: 2025-12-07T13:42:02Z\n---\n\n# add(_:contentWorld:name:)\n\n**Instance Method**\n\nInstalls a message handler that you can call from the specified content world in your JavaScript code.\n\n## Declaration\n\n```swift\n@MainActor func add(_ scriptMessageHandler: any WKScriptMessageHandler, contentWorld world: WKContentWorld, name: String)\n```\n\n## Parameters\n\n- **scriptMessageHandler**: The message handler object that implements your custom code. This object must adopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler] protocol.\n- **world**: The content world in which to install the message handler. Use the content world to scope your message handler to specific parts of your JavaScript code.\n- **name**: The name of the message handler. This parameter must be unique within the user content controller and must not be an empty string.\n\nThe user content controller uses this parameter to define a JavaScript function for your message handler in all frames in the specified content world. The name of this function is `window.webkit.messageHandlers.`**`.postMessage(<messageBody>)`, where ** corresponds to the value of this parameter.  For example, if you specify the string `MyFunction`, the user content controller defines the `window.webkit.messageHandlers.MyFunction.postMessage()` function in JavaScript.\n\n## Discussion\n\nTo execute your handler’s code, call the JavaScript function that this method defines. You may pass a parameter value to the method. The user content controller packages that value into an appropriate type and delivers it to your content handler’s delegate method.\n\n## Adding and Removing Message Handlers\n\n- **add(_:name:)**: Installs a message handler that you can call from your JavaScript code.\n- **addScriptMessageHandler(_:contentWorld:name:)**: Installs a message handler that returns a reply to your JavaScript code.\n- **removeScriptMessageHandler(forName:)**: Uninstalls the custom message handler with the specified name from your JavaScript code.\n- **removeScriptMessageHandler(forName:contentWorld:)**: Uninstalls a custom message handler from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers(from:)**: Uninstalls all custom message handlers from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers()**: Uninstalls all custom message handlers associated with the user content controller.\n- **WKScriptMessageHandler**: An interface for receiving messages from JavaScript code running in a webpage.\n- **WKScriptMessageHandlerWithReply**: An interface for responding to messages from JavaScript code running in a webpage.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Installs a message handler that you can call from your JavaScript code.",
          "name" : "add(_:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:name:)"
        },
        {
          "description" : "Installs a message handler that returns a reply to your JavaScript code.",
          "name" : "addScriptMessageHandler(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/addScriptMessageHandler(_:contentWorld:name:)"
        },
        {
          "description" : "Uninstalls the custom message handler with the specified name from your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:)"
        },
        {
          "description" : "Uninstalls a custom message handler from the specified content world in your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:contentWorld:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:contentWorld:)"
        },
        {
          "description" : "Uninstalls all custom message handlers from the specified content world in your JavaScript code.",
          "name" : "removeAllScriptMessageHandlers(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers(from:)"
        },
        {
          "description" : "Uninstalls all custom message handlers associated with the user content controller.",
          "name" : "removeAllScriptMessageHandlers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers()"
        },
        {
          "description" : "An interface for receiving messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler"
        },
        {
          "description" : "An interface for responding to messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandlerWithReply",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply"
        }
      ],
      "title" : "Adding and Removing Message Handlers"
    }
  ],
  "source" : "appleJSON",
  "title" : "add(_:contentWorld:name:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:contentWorld:name:)"
}