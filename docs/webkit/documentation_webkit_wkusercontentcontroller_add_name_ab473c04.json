{
  "abstract" : "Installs a message handler that you can call from your JavaScript code.",
  "codeExamples" : [

  ],
  "contentHash" : "c2a7c197bbb9de2cea92702035f8e0e3c6abceb39eb53a3d1de475d55bb782d5",
  "crawledAt" : "2025-12-07T15:07:12Z",
  "declaration" : {
    "code" : "@MainActor func add(_ scriptMessageHandler: any WKScriptMessageHandler, name: String)",
    "language" : "swift"
  },
  "id" : "500CE5C0-E6A1-44EA-A570-B1A92A2D1012",
  "kind" : "method",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Discussion\n\nTo execute your handler’s code, call the JavaScript function that this method defines. You may pass a parameter value to the method. The user content controller packages that value into an appropriate type and delivers it to your content handler’s delegate method.\n\nThis method uses the content world from the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKContentWorld\/page] property of [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKContentWorld].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:name:)\ncrawled: 2025-12-07T15:07:12Z\n---\n\n# add(_:name:)\n\n**Instance Method**\n\nInstalls a message handler that you can call from your JavaScript code.\n\n## Declaration\n\n```swift\n@MainActor func add(_ scriptMessageHandler: any WKScriptMessageHandler, name: String)\n```\n\n## Parameters\n\n- **scriptMessageHandler**: The message handler object that implements your custom code. This object must adopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler] protocol.\n- **name**: The name of the message handler. This parameter must be unique within the user content controller and must not be an empty string.\n\nThe user content controller uses this parameter to define a JavaScript function for your message handler in the page’s main content world. The name of this function is `window.webkit.messageHandlers.`**`.postMessage(<messageBody>)`, where ** corresponds to the value of this parameter.  For example, if you specify the string `MyFunction`, the user content controller defines the `window.webkit.messageHandlers.MyFunction.postMessage()` function in JavaScript.\n\n## Discussion\n\nTo execute your handler’s code, call the JavaScript function that this method defines. You may pass a parameter value to the method. The user content controller packages that value into an appropriate type and delivers it to your content handler’s delegate method.\n\nThis method uses the content world from the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKContentWorld\/page] property of [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKContentWorld].\n\n## Adding and Removing Message Handlers\n\n- **add(_:contentWorld:name:)**: Installs a message handler that you can call from the specified content world in your JavaScript code.\n- **addScriptMessageHandler(_:contentWorld:name:)**: Installs a message handler that returns a reply to your JavaScript code.\n- **removeScriptMessageHandler(forName:)**: Uninstalls the custom message handler with the specified name from your JavaScript code.\n- **removeScriptMessageHandler(forName:contentWorld:)**: Uninstalls a custom message handler from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers(from:)**: Uninstalls all custom message handlers from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers()**: Uninstalls all custom message handlers associated with the user content controller.\n- **WKScriptMessageHandler**: An interface for receiving messages from JavaScript code running in a webpage.\n- **WKScriptMessageHandlerWithReply**: An interface for responding to messages from JavaScript code running in a webpage.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Installs a message handler that you can call from the specified content world in your JavaScript code.",
          "name" : "add(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:contentWorld:name:)"
        },
        {
          "description" : "Installs a message handler that returns a reply to your JavaScript code.",
          "name" : "addScriptMessageHandler(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/addScriptMessageHandler(_:contentWorld:name:)"
        },
        {
          "description" : "Uninstalls the custom message handler with the specified name from your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:)"
        },
        {
          "description" : "Uninstalls a custom message handler from the specified content world in your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:contentWorld:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:contentWorld:)"
        },
        {
          "description" : "Uninstalls all custom message handlers from the specified content world in your JavaScript code.",
          "name" : "removeAllScriptMessageHandlers(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers(from:)"
        },
        {
          "description" : "Uninstalls all custom message handlers associated with the user content controller.",
          "name" : "removeAllScriptMessageHandlers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers()"
        },
        {
          "description" : "An interface for receiving messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler"
        },
        {
          "description" : "An interface for responding to messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandlerWithReply",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply"
        }
      ],
      "title" : "Adding and Removing Message Handlers"
    }
  ],
  "source" : "appleJSON",
  "title" : "add(_:name:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:name:)"
}