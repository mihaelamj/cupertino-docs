{
  "abstract" : "Called when an extension context requests permissions.",
  "codeExamples" : [

  ],
  "contentHash" : "e98693da061af96f3290f99139376aba08f0295ca9151e41c739ffe980f1882f",
  "crawledAt" : "2025-12-07T15:10:14Z",
  "declaration" : {
    "code" : "@MainActor optional func webExtensionController(_ controller: WKWebExtensionController, promptForPermissions permissions: Set<WKWebExtension.Permission>, in tab: (any WKWebExtensionTab)?, for extensionContext: WKWebExtensionContext, completionHandler: @escaping (Set<WKWebExtension.Permission>, Date?) -> Void)",
    "language" : "swift"
  },
  "id" : "95FC5CEC-4FFE-4C98-A81E-6E1EF5E4D806",
  "kind" : "method",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Discussion\n\nThis method should be implemented by the app to prompt the user for permission and call the completion handler with the set of permissions that were granted and an optional expiration date. If not implemented or the completion handler is not called within a reasonable amount of time, the request is assumed to have been denied. The expiration date can be used to specify when the permissions expire. If `nil`, permissions are assumed to not expire.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKWebExtensionControllerDelegate\/webExtensionController(_:promptForPermissions:in:for:completionHandler:)\ncrawled: 2025-12-07T15:10:14Z\n---\n\n# webExtensionController(_:promptForPermissions:in:for:completionHandler:)\n\n**Instance Method**\n\nCalled when an extension context requests permissions.\n\n## Declaration\n\n```swift\n@MainActor optional func webExtensionController(_ controller: WKWebExtensionController, promptForPermissions permissions: Set<WKWebExtension.Permission>, in tab: (any WKWebExtensionTab)?, for extensionContext: WKWebExtensionContext, completionHandler: @escaping (Set<WKWebExtension.Permission>, Date?) -> Void)\n```\n\n```swift\n@MainActor optional func webExtensionController(_ controller: WKWebExtensionController, promptForPermissions permissions: Set<WKWebExtension.Permission>, in tab: (any WKWebExtensionTab)?, for extensionContext: WKWebExtensionContext) async -> (Set<WKWebExtension.Permission>, Date?)\n```\n\n## Parameters\n\n- **controller**: The web extension controller that is managing the extension.\n- **permissions**: The set of permissions being requested by the extension.\n- **tab**: The tab in which the extension is running, or \\c nil if the request is not specific to a tab.\n- **extensionContext**: The context in which the web extension is running.\n- **completionHandler**: A block to be called with the set of allowed permissions and an optional expiration date.\n\n## Discussion\n\nThis method should be implemented by the app to prompt the user for permission and call the completion handler with the set of permissions that were granted and an optional expiration date. If not implemented or the completion handler is not called within a reasonable amount of time, the request is assumed to have been denied. The expiration date can be used to specify when the permissions expire. If `nil`, permissions are assumed to not expire.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "webExtensionController(_:promptForPermissions:in:for:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKWebExtensionControllerDelegate\/webExtensionController(_:promptForPermissions:in:for:completionHandler:)"
}