{
  "abstract" : "Asks the delegate to provide a file destination where the system should write the download data.",
  "codeExamples" : [

  ],
  "contentHash" : "27bc7163beb524991c7dcfdaeb078ceb1f47d1f7f5b1bed0a95e9a9229b611aa",
  "crawledAt" : "2025-12-07T13:41:33Z",
  "declaration" : {
    "code" : "@MainActor func download(_ download: WKDownload, decideDestinationUsing response: URLResponse, suggestedFilename: String, completionHandler: @escaping @MainActor (URL?) -> Void)",
    "language" : "swift"
  },
  "id" : "40BB54F6-C533-430C-B2EE-1B9C4CEADB1C",
  "kind" : "method",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Discussion\n\nThe suggested filename can come from the response or from the web content.\n\nThe destination file URL must meet the following requirements:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKDownloadDelegate\/download(_:decideDestinationUsing:suggestedFilename:completionHandler:)\ncrawled: 2025-12-07T13:41:33Z\n---\n\n# download(_:decideDestinationUsing:suggestedFilename:completionHandler:)\n\n**Instance Method**\n\nAsks the delegate to provide a file destination where the system should write the download data.\n\n## Declaration\n\n```swift\n@MainActor func download(_ download: WKDownload, decideDestinationUsing response: URLResponse, suggestedFilename: String, completionHandler: @escaping @MainActor (URL?) -> Void)\n```\n\n```swift\n@MainActor func download(_ download: WKDownload, decideDestinationUsing response: URLResponse, suggestedFilename: String) async -> URL?\n```\n\n## Parameters\n\n- **download**: The download that needs a file destination where the systems should write the download data.\n- **response**: A response from the server for an HTTP request, or a synthesized response for a blob download.\n- **suggestedFilename**: A string with a filename suggestion to use in creating the file destination.\n- **completionHandler**: A closure you invoke with a destination file URL to begin the download, or `nil` to cancel the download.\n\n## Discussion\n\nThe suggested filename can come from the response or from the web content.\n\nThe destination file URL must meet the following requirements:\n\n- It’s a file that doesn’t exist.\n- It’s in a directory that exists.\n- It’s in a directory that WebKit can write to.\n\n## Tracking Download Progress\n\n- **downloadDidFinish(_:)**: Tells the delegate that the download finished.\n- **download(_:didFailWithError:resumeData:)**: Tells the delegate that the download failed, with error information and data you can use to restart the download.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the delegate that the download finished.",
          "name" : "downloadDidFinish(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKDownloadDelegate\/downloadDidFinish(_:)"
        },
        {
          "description" : "Tells the delegate that the download failed, with error information and data you can use to restart the download.",
          "name" : "download(_:didFailWithError:resumeData:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKDownloadDelegate\/download(_:didFailWithError:resumeData:)"
        }
      ],
      "title" : "Tracking Download Progress"
    }
  ],
  "source" : "appleJSON",
  "title" : "download(_:decideDestinationUsing:suggestedFilename:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKDownloadDelegate\/download(_:decideDestinationUsing:suggestedFilename:completionHandler:)"
}