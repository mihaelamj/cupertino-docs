{
  "abstract" : "An interface for responding to messages from JavaScript code running in a webpage.",
  "codeExamples" : [

  ],
  "contentHash" : "03139e511aa3ebb09046d934fbc38e5bf9347c4e968ca45b259a19adcb39cd7e",
  "crawledAt" : "2025-12-07T13:42:08Z",
  "declaration" : {
    "code" : "@MainActor protocol WKScriptMessageHandlerWithReply : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "87F9ABAF-6EA0-47B6-95DB-6D8B5530B937",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Overview\n\nAdopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandlerWithReply] protocol when your app needs to receive JavaScript messages from a web view and provide an appropriate response. When JavaScript code sends a message that specifically targets your message handler, WebKit calls your handler’s [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandlerWithReply\/userContentController(_:didReceive:replyHandler:)] method. Use that method to process the message and provide your response.\n\nTo call your message handler from JavaScript, send a message to `window.webkit.messageHandlers.<messageHandlerName>.postMessage(<messageBody>)` in your code. You specify the name of your message handler when you add it to a [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKUserContentController] object.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply\ncrawled: 2025-12-07T13:42:08Z\n---\n\n# WKScriptMessageHandlerWithReply\n\n**Protocol**\n\nAn interface for responding to messages from JavaScript code running in a webpage.\n\n## Declaration\n\n```swift\n@MainActor protocol WKScriptMessageHandlerWithReply : NSObjectProtocol\n```\n\n## Overview\n\nAdopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandlerWithReply] protocol when your app needs to receive JavaScript messages from a web view and provide an appropriate response. When JavaScript code sends a message that specifically targets your message handler, WebKit calls your handler’s [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandlerWithReply\/userContentController(_:didReceive:replyHandler:)] method. Use that method to process the message and provide your response.\n\nTo call your message handler from JavaScript, send a message to `window.webkit.messageHandlers.<messageHandlerName>.postMessage(<messageBody>)` in your code. You specify the name of your message handler when you add it to a [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKUserContentController] object.\n\n\n\n## Receiving Messages\n\n- **userContentController(_:didReceive:replyHandler:)**: Tells the handler that a webpage sent a script message that included a reply.\n- **WKScriptMessage**: An object that encapsulates a message sent by JavaScript code from a webpage.\n\n## Adding and Removing Message Handlers\n\n- **add(_:name:)**: Installs a message handler that you can call from your JavaScript code.\n- **add(_:contentWorld:name:)**: Installs a message handler that you can call from the specified content world in your JavaScript code.\n- **addScriptMessageHandler(_:contentWorld:name:)**: Installs a message handler that returns a reply to your JavaScript code.\n- **removeScriptMessageHandler(forName:)**: Uninstalls the custom message handler with the specified name from your JavaScript code.\n- **removeScriptMessageHandler(forName:contentWorld:)**: Uninstalls a custom message handler from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers(from:)**: Uninstalls all custom message handlers from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers()**: Uninstalls all custom message handlers associated with the user content controller.\n- **WKScriptMessageHandler**: An interface for receiving messages from JavaScript code running in a webpage.\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the handler that a webpage sent a script message that included a reply.",
          "name" : "userContentController(_:didReceive:replyHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply\/userContentController(_:didReceive:replyHandler:)"
        },
        {
          "description" : "An object that encapsulates a message sent by JavaScript code from a webpage.",
          "name" : "WKScriptMessage",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessage"
        }
      ],
      "title" : "Receiving Messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Installs a message handler that you can call from your JavaScript code.",
          "name" : "add(_:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:name:)"
        },
        {
          "description" : "Installs a message handler that you can call from the specified content world in your JavaScript code.",
          "name" : "add(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:contentWorld:name:)"
        },
        {
          "description" : "Installs a message handler that returns a reply to your JavaScript code.",
          "name" : "addScriptMessageHandler(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/addScriptMessageHandler(_:contentWorld:name:)"
        },
        {
          "description" : "Uninstalls the custom message handler with the specified name from your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:)"
        },
        {
          "description" : "Uninstalls a custom message handler from the specified content world in your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:contentWorld:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:contentWorld:)"
        },
        {
          "description" : "Uninstalls all custom message handlers from the specified content world in your JavaScript code.",
          "name" : "removeAllScriptMessageHandlers(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers(from:)"
        },
        {
          "description" : "Uninstalls all custom message handlers associated with the user content controller.",
          "name" : "removeAllScriptMessageHandlers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers()"
        },
        {
          "description" : "An interface for receiving messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler"
        }
      ],
      "title" : "Adding and Removing Message Handlers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "WKScriptMessageHandlerWithReply",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply"
}