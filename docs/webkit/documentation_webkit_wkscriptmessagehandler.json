{
  "abstract" : "An interface for receiving messages from JavaScript code running in a webpage.",
  "codeExamples" : [

  ],
  "contentHash" : "8c2345a4821eda8dab1e2e906bef6ae9a609c9f74ac3ee2abefea4c97bfdba58",
  "crawledAt" : "2025-12-07T13:42:07Z",
  "declaration" : {
    "code" : "@MainActor protocol WKScriptMessageHandler : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "14344FC3-83C2-4593-A2D3-B01C758D35EF",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Overview\n\nAdopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler] protocol when your app needs a way to respond to JavaScript messages in the web view. When JavaScript code sends a message that specifically targets your message handler, WebKit calls your handler’s [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler\/userContentController(_:didReceive:)] method. Use that method to implement your response. For example, you might update other parts of your app in response to web content changes.\n\nTo call your message handler from JavaScript, call the function `window.webkit.messageHandlers.<messageHandlerName>.postMessage(<messageBody>)` in your code. You specify the value of `<messageHandlerName>` when you install your message handler in a [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKUserContentController] object.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler\ncrawled: 2025-12-07T13:42:07Z\n---\n\n# WKScriptMessageHandler\n\n**Protocol**\n\nAn interface for receiving messages from JavaScript code running in a webpage.\n\n## Declaration\n\n```swift\n@MainActor protocol WKScriptMessageHandler : NSObjectProtocol\n```\n\n## Overview\n\nAdopt the [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler] protocol when your app needs a way to respond to JavaScript messages in the web view. When JavaScript code sends a message that specifically targets your message handler, WebKit calls your handler’s [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKScriptMessageHandler\/userContentController(_:didReceive:)] method. Use that method to implement your response. For example, you might update other parts of your app in response to web content changes.\n\nTo call your message handler from JavaScript, call the function `window.webkit.messageHandlers.<messageHandlerName>.postMessage(<messageBody>)` in your code. You specify the value of `<messageHandlerName>` when you install your message handler in a [doc:\/\/com.apple.webkit\/documentation\/WebKit\/WKUserContentController] object.\n\n\n\n## Receiving Messages\n\n- **userContentController(_:didReceive:)**: Tells the handler that a webpage sent a script message.\n- **WKScriptMessage**: An object that encapsulates a message sent by JavaScript code from a webpage.\n\n## Adding and Removing Message Handlers\n\n- **add(_:name:)**: Installs a message handler that you can call from your JavaScript code.\n- **add(_:contentWorld:name:)**: Installs a message handler that you can call from the specified content world in your JavaScript code.\n- **addScriptMessageHandler(_:contentWorld:name:)**: Installs a message handler that returns a reply to your JavaScript code.\n- **removeScriptMessageHandler(forName:)**: Uninstalls the custom message handler with the specified name from your JavaScript code.\n- **removeScriptMessageHandler(forName:contentWorld:)**: Uninstalls a custom message handler from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers(from:)**: Uninstalls all custom message handlers from the specified content world in your JavaScript code.\n- **removeAllScriptMessageHandlers()**: Uninstalls all custom message handlers associated with the user content controller.\n- **WKScriptMessageHandlerWithReply**: An interface for responding to messages from JavaScript code running in a webpage.\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the handler that a webpage sent a script message.",
          "name" : "userContentController(_:didReceive:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler\/userContentController(_:didReceive:)"
        },
        {
          "description" : "An object that encapsulates a message sent by JavaScript code from a webpage.",
          "name" : "WKScriptMessage",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessage"
        }
      ],
      "title" : "Receiving Messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Installs a message handler that you can call from your JavaScript code.",
          "name" : "add(_:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:name:)"
        },
        {
          "description" : "Installs a message handler that you can call from the specified content world in your JavaScript code.",
          "name" : "add(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/add(_:contentWorld:name:)"
        },
        {
          "description" : "Installs a message handler that returns a reply to your JavaScript code.",
          "name" : "addScriptMessageHandler(_:contentWorld:name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/addScriptMessageHandler(_:contentWorld:name:)"
        },
        {
          "description" : "Uninstalls the custom message handler with the specified name from your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:)"
        },
        {
          "description" : "Uninstalls a custom message handler from the specified content world in your JavaScript code.",
          "name" : "removeScriptMessageHandler(forName:contentWorld:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeScriptMessageHandler(forName:contentWorld:)"
        },
        {
          "description" : "Uninstalls all custom message handlers from the specified content world in your JavaScript code.",
          "name" : "removeAllScriptMessageHandlers(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers(from:)"
        },
        {
          "description" : "Uninstalls all custom message handlers associated with the user content controller.",
          "name" : "removeAllScriptMessageHandlers()",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKUserContentController\/removeAllScriptMessageHandlers()"
        },
        {
          "description" : "An interface for responding to messages from JavaScript code running in a webpage.",
          "name" : "WKScriptMessageHandlerWithReply",
          "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandlerWithReply"
        }
      ],
      "title" : "Adding and Removing Message Handlers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "WKScriptMessageHandler",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WKScriptMessageHandler"
}