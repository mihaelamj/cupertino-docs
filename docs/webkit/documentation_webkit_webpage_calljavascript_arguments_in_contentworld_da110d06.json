{
  "abstract" : "Executes the specified string as an async JavaScript function.",
  "codeExamples" : [
    {
      "code" : "return x ? y : z;",
      "language" : "javascript"
    },
    {
      "code" : "var p = new Promise(function (f) {\n  window.setTimeout(\"f(42)\", 1000);\n});\nawait p;\nreturn p;",
      "language" : "javascript"
    }
  ],
  "contentHash" : "ac6abc5fa02b3dd604b5cdf1cd845c05edf13138f5aa924411f7789b6c4568d0",
  "crawledAt" : "2025-12-03T07:02:08Z",
  "declaration" : {
    "code" : "@discardableResult @MainActor final func callJavaScript(_ functionBody: String, arguments: [String : Any] = [:], in frame: WebPage.FrameInfo? = nil, contentWorld: WKContentWorld? = nil) async throws -> sending Any?",
    "language" : "swift"
  },
  "id" : "6BD43D59-9DBA-4343-BEDC-BB68FA66B360",
  "kind" : "method",
  "language" : "swift",
  "module" : "WebKit",
  "overview" : "## Return Value\n\nThe result of the script evaluation. If your function body doesn’t return an explicit value, `nil` is returned. If your function body explicitly returns `null`, then `NSNull` is returned.\n\n## Discussion\n\nDon’t format the string in the functionBody parameter as a function-like callable object, as you would in pure JavaScript. Instead, put only the body of the function in the string. For example, the following string shows a valid function body that takes x, y, and z arguments and returns a result.\n\nIf your JavaScript code returns an object with a callable then property, WebKit calls that property on the resulting object and waits for its resolution. If resolution succeeds, WebKit returns the resulting object. If resolution fails, WebKit throws a `WKErrorJavaScriptAsyncFunctionResultRejected` error. If the garbage collector reclaims the object before resolution finishes, WebKit throws a `WKErrorJavaScriptAsyncFunctionResultUnreachable` error.\n\nBecause this method calls your JavaScript code asynchronously, you can call `await` on objects with a `then` property inside your function body. The following code example illustrates this technique.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WebKit\/WebPage\/callJavaScript(_:arguments:in:contentWorld:)\ncrawled: 2025-12-03T07:02:08Z\n---\n\n# callJavaScript(_:arguments:in:contentWorld:)\n\n**Instance Method**\n\nExecutes the specified string as an async JavaScript function.\n\n## Declaration\n\n```swift\n@discardableResult @MainActor final func callJavaScript(_ functionBody: String, arguments: [String : Any] = [:], in frame: WebPage.FrameInfo? = nil, contentWorld: WKContentWorld? = nil) async throws -> sending Any?\n```\n\n## Parameters\n\n- **functionBody**: The JavaScript string to use as the function body. This method treats the string as an anonymous JavaScript function body and calls it with the named arguments in the `arguments` parameter.\n- **arguments**: A dictionary of the arguments to pass to the function call. Each key in the dictionary corresponds to the name of an argument in the `functionBody` string, and the value of that key is the value to use during the evaluation of the code. Supported value types are `Numeric`, `String`, `Date`, and arrays, dictionaries, and optional values of those types.\n- **frame**: The frame in which to evaluate the JavaScript code. Specify `nil` to target the main frame. If this frame is no longer valid when script evaluation begins, this function throws an error with the `WKError.Code.javaScriptInvalidFrameTarget` code.\n- **contentWorld**: The namespace in which to evaluate the JavaScript code. This parameter doesn’t apply to changes you make in the underlying web content, such as the document’s DOM structure. Those changes remain visible to all scripts, regardless of which content world you specify. For more information about content worlds, see `WKContentWorld`.\n\n## Return Value\n\nThe result of the script evaluation. If your function body doesn’t return an explicit value, `nil` is returned. If your function body explicitly returns `null`, then `NSNull` is returned.\n\n## Discussion\n\nDon’t format the string in the functionBody parameter as a function-like callable object, as you would in pure JavaScript. Instead, put only the body of the function in the string. For example, the following string shows a valid function body that takes x, y, and z arguments and returns a result.\n\n```javascript\nreturn x ? y : z;\n```\n\nIf your JavaScript code returns an object with a callable then property, WebKit calls that property on the resulting object and waits for its resolution. If resolution succeeds, WebKit returns the resulting object. If resolution fails, WebKit throws a `WKErrorJavaScriptAsyncFunctionResultRejected` error. If the garbage collector reclaims the object before resolution finishes, WebKit throws a `WKErrorJavaScriptAsyncFunctionResultUnreachable` error.\n\nBecause this method calls your JavaScript code asynchronously, you can call `await` on objects with a `then` property inside your function body. The following code example illustrates this technique.\n\n```javascript\nvar p = new Promise(function (f) {\n  window.setTimeout(\"f(42)\", 1000);\n});\nawait p;\nreturn p;\n```\n\n\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "callJavaScript(_:arguments:in:contentWorld:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WebKit\/WebPage\/callJavaScript(_:arguments:in:contentWorld:)"
}