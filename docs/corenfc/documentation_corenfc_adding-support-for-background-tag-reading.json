{
  "abstract" : "Allow users to scan NFC tags without an app using background tag reading.",
  "codeExamples" : [
    {
      "code" : "func application(_ application: UIApplication,\n                 continue userActivity: NSUserActivity,\n                 restorationHandler: @escaping ([Any]?) -> Void) -> Bool {\n\n    guard userActivity.activityType == NSUserActivityTypeBrowsingWeb else {\n        return false\n    }\n\n    \/\/ Confirm that the NSUserActivity object contains a valid NDEF message.\n    let ndefMessage = userActivity.ndefMessagePayload\n    guard ndefMessage.records.count > 0,\n        ndefMessage.records[0].typeNameFormat != .empty else {\n            return false\n    }\n\n    \/\/ Send the message to `MessagesTableViewController` for processing.\n    guard let navigationController = window?.rootViewController as? UINavigationController else {\n        return false\n    }\n\n    navigationController.popToRootViewController(animated: true)\n    let messageTableViewController = navigationController.topViewController as? MessagesTableViewController\n    messageTableViewController?.addMessage(fromUserActivity: ndefMessage)\n\n    return true\n}\n",
      "language" : "swift"
    }
  ],
  "contentHash" : "cbd1b028abff18390ae922077941ef247010056cdd768379b51ff53d1ed025d8",
  "crawledAt" : "2025-12-03T17:07:17Z",
  "id" : "CA7FCE6A-9D33-4C54-B9D4-E5BE7EF29DEC",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core NFC",
  "overview" : "## Overview\n\nOn iPhones that support background tag reading, the system scans for and reads NFC data without requiring users to scan tags using an app. The system displays a pop-up notification each time it reads a new tag. After the user taps the notification, the system delivers the tag data to the appropriate app. If the iPhone is locked, the system prompts the user to unlock the phone before providing the tag data to the app.\n\nTo avoid unintentional tag reading, the system reads tags in the background only when the user’s iPhone is in use. Also, be aware there are times when the display is on and background tag reading is unavailable, such as if:\n\n### Process Scanned Tags\n\nAfter the device scans an NFC tag while in background tag reading mode, the system inspects the tag’s NDEF message for a URI record by looking for an [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload] object with the following property values:\n\nIf the NDEF message contains more than one URI record, the system uses the first one. The URI record must contain either a universal link or a supported URL scheme.\n\n#### Use Universal Links\n\nFor universal links, the system launches (or brings to the foreground) the app associated with the universal link after the user taps the notification. The system sends the NDEF message to the app as an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity] object. If there are no installed apps associated with the universal link, the system opens the link in Safari.\n\n#### Use URL Schemes\n\nThe system processes NDEF payloads containing a URI for a URL scheme in the same way as universal links. The system displays a notification after reading the tag. When the user taps the notification, the system launches the app that supports the URL scheme.\n\nBackground tag reading supports the following URL schemes:\n\nFor more information on URL schemes, see [https:\/\/developer.apple.com\/library\/archive\/featuredarticles\/iPhoneURLScheme_Reference\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40007899].\n\n### Configure Your App\n\nAdd support for background tag reading to your app by turning on *Associated Domains* under the project’s Capabilities tab. This step adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.associated-domains] to your project’s entitlement file and to the app ID. Next, enter the domain for each universal link supported by your app.\n\n\n\n### Handle Tag Delivery\n\nTo handle the NDEF message read from the tag, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:continue:restorationHandler:)] method in your app delegate. The system calls this method to deliver the tag data to your app in an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity] object. The user activity has an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType] of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivityTypeBrowsingWeb], and the tag data is available in the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/ndefMessagePayload] property.\n\nFor user activities not generated by background tag reading, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/ndefMessagePayload] returns a message that contains only one [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload] record. That record has a [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload\/typeNameFormat] of [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCTypeNameFormat\/empty].\n\nListing 1. Process data from a tag read in the background\n\nNot all devices support background tag reading, so be sure to provide the user the option to read tags directly from your app. For more information, see [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/building-an-nfc-tag-reader-app].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/corenfc\/adding-support-for-background-tag-reading\ncrawled: 2025-12-03T17:07:17Z\n---\n\n# Adding Support for Background Tag Reading\n\n**Article**\n\nAllow users to scan NFC tags without an app using background tag reading.\n\n## Overview\n\nOn iPhones that support background tag reading, the system scans for and reads NFC data without requiring users to scan tags using an app. The system displays a pop-up notification each time it reads a new tag. After the user taps the notification, the system delivers the tag data to the appropriate app. If the iPhone is locked, the system prompts the user to unlock the phone before providing the tag data to the app.\n\n\n\nTo avoid unintentional tag reading, the system reads tags in the background only when the user’s iPhone is in use. Also, be aware there are times when the display is on and background tag reading is unavailable, such as if:\n\n- The device has never been unlocked.\n- A Core NFC reader session is in progress.\n- Apple Pay Wallet is in use.\n- The camera is in use.\n- Airplane mode is enabled.\n\n### Process Scanned Tags\n\nAfter the device scans an NFC tag while in background tag reading mode, the system inspects the tag’s NDEF message for a URI record by looking for an [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload] object with the following property values:\n\n- [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload\/typeNameFormat] equal to [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCTypeNameFormat\/nfcWellKnown]\n- [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload\/type] equal to “U”\n\nIf the NDEF message contains more than one URI record, the system uses the first one. The URI record must contain either a universal link or a supported URL scheme.\n\n#### Use Universal Links\n\nFor universal links, the system launches (or brings to the foreground) the app associated with the universal link after the user taps the notification. The system sends the NDEF message to the app as an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity] object. If there are no installed apps associated with the universal link, the system opens the link in Safari.\n\n#### Use URL Schemes\n\nThe system processes NDEF payloads containing a URI for a URL scheme in the same way as universal links. The system displays a notification after reading the tag. When the user taps the notification, the system launches the app that supports the URL scheme.\n\nBackground tag reading supports the following URL schemes:\n\n\n\nFor more information on URL schemes, see [https:\/\/developer.apple.com\/library\/archive\/featuredarticles\/iPhoneURLScheme_Reference\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40007899].\n\n\n\n### Configure Your App\n\nAdd support for background tag reading to your app by turning on *Associated Domains* under the project’s Capabilities tab. This step adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.associated-domains] to your project’s entitlement file and to the app ID. Next, enter the domain for each universal link supported by your app.\n\n\n\n### Handle Tag Delivery\n\nTo handle the NDEF message read from the tag, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:continue:restorationHandler:)] method in your app delegate. The system calls this method to deliver the tag data to your app in an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity] object. The user activity has an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/activityType] of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivityTypeBrowsingWeb], and the tag data is available in the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/ndefMessagePayload] property.\n\nFor user activities not generated by background tag reading, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/ndefMessagePayload] returns a message that contains only one [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload] record. That record has a [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCNDEFPayload\/typeNameFormat] of [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/NFCTypeNameFormat\/empty].\n\nListing 1. Process data from a tag read in the background\n\n```swift\nfunc application(_ application: UIApplication,\n                 continue userActivity: NSUserActivity,\n                 restorationHandler: @escaping ([Any]?) -> Void) -> Bool {\n\n    guard userActivity.activityType == NSUserActivityTypeBrowsingWeb else {\n        return false\n    }\n\n    \/\/ Confirm that the NSUserActivity object contains a valid NDEF message.\n    let ndefMessage = userActivity.ndefMessagePayload\n    guard ndefMessage.records.count > 0,\n        ndefMessage.records[0].typeNameFormat != .empty else {\n            return false\n    }\n\n    \/\/ Send the message to `MessagesTableViewController` for processing.\n    guard let navigationController = window?.rootViewController as? UINavigationController else {\n        return false\n    }\n\n    navigationController.popToRootViewController(animated: true)\n    let messageTableViewController = navigationController.topViewController as? MessagesTableViewController\n    messageTableViewController?.addMessage(fromUserActivity: ndefMessage)\n\n    return true\n}\n\n```\n\nNot all devices support background tag reading, so be sure to provide the user the option to read tags directly from your app. For more information, see [doc:\/\/com.apple.corenfc\/documentation\/CoreNFC\/building-an-nfc-tag-reader-app].\n\n## Essentials\n\n- **Building an NFC Tag-Reader App**: Read NFC tags with NDEF messages in your app.\n- **NFCReaderUsageDescription**: A message that tells people why the app is requesting access to the device’s NFC hardware.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Read NFC tags with NDEF messages in your app.",
          "name" : "Building an NFC Tag-Reader App",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreNFC\/building-an-nfc-tag-reader-app"
        },
        {
          "description" : "A message that tells people why the app is requesting access to the device’s NFC hardware.",
          "name" : "NFCReaderUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NFCReaderUsageDescription"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Adding Support for Background Tag Reading",
  "url" : "https:\/\/developer.apple.com\/documentation\/corenfc\/adding-support-for-background-tag-reading"
}