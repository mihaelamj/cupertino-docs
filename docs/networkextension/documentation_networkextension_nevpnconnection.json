{
  "abstract" : "An object to start and stop a Personal VPN connection and get its status.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "3e638fa93d52f9c39a468692ab3f1fd114e155ff55dd1dae1efd8aa4902ee8f7",
  "crawledAt" : "2025-12-07T18:21:05Z",
  "declaration" : {
    "code" : "class NEVPNConnection",
    "language" : "swift"
  },
  "id" : "D1471F3F-25C1-4AFF-B25A-1690E129C275",
  "inheritedBy" : [
    "NETunnelProviderSession"
  ],
  "kind" : "class",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] objects are not instantiated directly. Instead, each `NEVPNManager` object has an associated [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] object as a read-only property.\n\nThe [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] class provides methods for starting and stopping the VPN programmatically. The other way that the VPN can be started and stopped is through VPN On Demand. See the `onDemandRules` property in [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNManager] and [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEOnDemandRule].\n\nInstances of this class are thread safe.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/networkextension\/nevpnconnection\ncrawled: 2025-12-07T18:21:05Z\n---\n\n# NEVPNConnection\n\n**Class**\n\nAn object to start and stop a Personal VPN connection and get its status.\n\n## Declaration\n\n```swift\nclass NEVPNConnection\n```\n\n## Overview\n\n[doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] objects are not instantiated directly. Instead, each `NEVPNManager` object has an associated [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] object as a read-only property.\n\nThe [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNConnection] class provides methods for starting and stopping the VPN programmatically. The other way that the VPN can be started and stopped is through VPN On Demand. See the `onDemandRules` property in [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEVPNManager] and [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEOnDemandRule].\n\nInstances of this class are thread safe.\n\n## Controlling the VPN connection\n\n- **startVPNTunnel()**: Start the process of connecting the VPN.\n- **startVPNTunnel(options:)**: Start the process of connecting the VPN.\n- **NEVPNConnectionStartOptionUsername**\n- **NEVPNConnectionStartOptionPassword**\n- **stopVPNTunnel()**: Start the process of disconnecting the VPN.\n\n## Getting VPN connection status\n\n- **manager**\n- **status**: The current status of the VPN connection.\n- **NEVPNStatus**: The possible states of a VPN connection.\n- **connectedDate**: The date and time when the connection status changed to `NEVPNStatusConnected`.\n\n## Notifications\n\n- **NEVPNStatusDidChange**: Posted when the status of the VPN connection changes.\n\n## Handling errors\n\n- **fetchLastDisconnectError(completionHandler:)**: Retrives the most recent error that caused the VPN to disconnect.\n- **NEVPNConnectionErrorDomain**: The domain for errors resulting from VPN connection calls.\n- **NEVPNConnectionError**: Error codes specific to VPN connections.\n\n## VPN control\n\n- **NETunnelProviderSession**: An object to start and stop a tunnel connection and get its status.\n\n## Inherits From\n\n- NSObject\n\n## Inherited By\n\n- NETunnelProviderSession\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Start the process of connecting the VPN.",
          "name" : "startVPNTunnel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/startVPNTunnel()"
        },
        {
          "description" : "Start the process of connecting the VPN.",
          "name" : "startVPNTunnel(options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/startVPNTunnel(options:)"
        },
        {
          "description" : "",
          "name" : "NEVPNConnectionStartOptionUsername",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnectionStartOptionUsername"
        },
        {
          "description" : "",
          "name" : "NEVPNConnectionStartOptionPassword",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnectionStartOptionPassword"
        },
        {
          "description" : "Start the process of disconnecting the VPN.",
          "name" : "stopVPNTunnel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/stopVPNTunnel()"
        }
      ],
      "title" : "Controlling the VPN connection"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "manager",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/manager"
        },
        {
          "description" : "The current status of the VPN connection.",
          "name" : "status",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/status"
        },
        {
          "description" : "The possible states of a VPN connection.",
          "name" : "NEVPNStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNStatus"
        },
        {
          "description" : "The date and time when the connection status changed to `NEVPNStatusConnected`.",
          "name" : "connectedDate",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/connectedDate"
        }
      ],
      "title" : "Getting VPN connection status"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Posted when the status of the VPN connection changes.",
          "name" : "NEVPNStatusDidChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/NEVPNStatusDidChange"
        }
      ],
      "title" : "Notifications"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrives the most recent error that caused the VPN to disconnect.",
          "name" : "fetchLastDisconnectError(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnection\/fetchLastDisconnectError(completionHandler:)"
        },
        {
          "description" : "The domain for errors resulting from VPN connection calls.",
          "name" : "NEVPNConnectionErrorDomain",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnectionErrorDomain"
        },
        {
          "description" : "Error codes specific to VPN connections.",
          "name" : "NEVPNConnectionError",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEVPNConnectionError"
        }
      ],
      "title" : "Handling errors"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object to start and stop a tunnel connection and get its status.",
          "name" : "NETunnelProviderSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NETunnelProviderSession"
        }
      ],
      "title" : "VPN control"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NEVPNConnection",
  "url" : "https:\/\/developer.apple.com\/documentation\/networkextension\/nevpnconnection"
}