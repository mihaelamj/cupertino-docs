{
  "abstract" : "Create an on-device DNS proxy using a custom protocol.",
  "codeExamples" : [

  ],
  "contentHash" : "7fc990da9f14e01b4ebdc194f85a85cb4e39b46e1195aef6f38ee78218fddb50",
  "crawledAt" : "2025-12-01T09:46:36Z",
  "id" : "25BDCBAA-110D-4B73-A226-6F7CC8920FA4",
  "kind" : "collection",
  "module" : "Network Extension",
  "overview" : "## Overview\n\nA DNS proxy provider is an app extension that implements DNS proxying. You should create a DNS proxy provider if you want to take responsibility for resolving all DNS queries on the system. Typically this involves forwarding the queries in a way that improves performance, reliability or security. For example, a DNS proxy provider might:\n\nFor detailed information about DNS proxy provider deployment options, see [doc:\/\/com.apple.documentation\/documentation\/Technotes\/tn3134-network-extension-provider-deployment].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/dns-proxy-provider\ncrawled: 2025-12-01T09:46:36Z\n---\n\n# DNS proxy provider\n\n**API Collection**\n\nCreate an on-device DNS proxy using a custom protocol.\n\n## Overview\n\nA DNS proxy provider is an app extension that implements DNS proxying. You should create a DNS proxy provider if you want to take responsibility for resolving all DNS queries on the system. Typically this involves forwarding the queries in a way that improves performance, reliability or security. For example, a DNS proxy provider might:\n\n- Forward DNS queries to a well-known Internet-wide DNS server\n- Talk to a DNS proxying service using DNS over HTTPS (DoH) or DNS over TLS (DoT)\n- Implement a completely custom DNS proxying protocol\n\nFor detailed information about DNS proxy provider deployment options, see [doc:\/\/com.apple.documentation\/documentation\/Technotes\/tn3134-network-extension-provider-deployment].\n\n## Essentials\n\n- **Network Extensions Entitlement**: The APIs an app can use to customize networking features.\n\n## Provider\n\n- **NEDNSProxyProvider**: The principal class for a DNS proxy provider app extension.\n- **NEDNSSettings**: The DNS resolver settings of a network tunnel or a system-wide configuration.\n\n## Handling flows\n\n- **NEAppProxyTCPFlow**: An object for reading and writing data to and from a TCP connection being proxied by the provider.\n- **NEAppProxyUDPFlow**: An object for reading and writing data to and from a UDP conversation being proxied by the provider.\n- **NEAppProxyFlow**: An abstract base class shared by NEAppProxyTCPFlow and NEAppProxyUDPFlow.\n\n## Configuration\n\n- **NEDNSProxyManager**: An object to create and manage an DNS proxy provider’s configuration.\n- **NEDNSProxyProviderProtocol**: Configuration parameters for a DNS proxy.\n\n## DNS configurations\n\n- **DNS settings**: Create and manage a system-wide DNS configuration that uses built-in encrypted DNS protocols.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The APIs an app can use to customize networking features.",
          "name" : "Network Extensions Entitlement",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.networking.networkextension"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The principal class for a DNS proxy provider app extension.",
          "name" : "NEDNSProxyProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider"
        },
        {
          "description" : "The DNS resolver settings of a network tunnel or a system-wide configuration.",
          "name" : "NEDNSSettings",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSSettings"
        }
      ],
      "title" : "Provider"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object for reading and writing data to and from a TCP connection being proxied by the provider.",
          "name" : "NEAppProxyTCPFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyTCPFlow"
        },
        {
          "description" : "An object for reading and writing data to and from a UDP conversation being proxied by the provider.",
          "name" : "NEAppProxyUDPFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyUDPFlow"
        },
        {
          "description" : "An abstract base class shared by NEAppProxyTCPFlow and NEAppProxyUDPFlow.",
          "name" : "NEAppProxyFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyFlow"
        }
      ],
      "title" : "Handling flows"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object to create and manage an DNS proxy provider’s configuration.",
          "name" : "NEDNSProxyManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager"
        },
        {
          "description" : "Configuration parameters for a DNS proxy.",
          "name" : "NEDNSProxyProviderProtocol",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProviderProtocol"
        }
      ],
      "title" : "Configuration"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create and manage a system-wide DNS configuration that uses built-in encrypted DNS protocols.",
          "name" : "DNS settings",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/dns-settings"
        }
      ],
      "title" : "DNS configurations"
    }
  ],
  "source" : "appleJSON",
  "title" : "DNS proxy provider",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/dns-proxy-provider"
}