{
  "abstract" : "Override the default trust evaluation for the connection.",
  "codeExamples" : [

  ],
  "contentHash" : "9443345fb54b16341cd773b0743d1b75001157da5732551616d47589bd7322a8",
  "crawledAt" : "2025-12-05T03:25:20Z",
  "declaration" : {
    "code" : "optional func evaluateTrust(for connection: NWTCPConnection, peerCertificateChain: [Any], completionHandler completion: @escaping (SecTrust) -> Void)",
    "language" : "swift"
  },
  "id" : "2CB53607-D06E-4A4F-9570-CF57287945E4",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nThe caller can implement this optional protocol method to set up custom policies for peer certificate trust evaluation. If the delegate method is implemented, the caller is responsible for creating and setting up the [doc:\/\/com.apple.documentation\/documentation\/Security\/SecTrust] object and passing it to the completion handler. Otherwise, the default trust evaluation policy is used for the connection.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate\/evaluateTrust(for:peerCertificateChain:completionHandler:)\ncrawled: 2025-12-05T03:25:20Z\n---\n\n# evaluateTrust(for:peerCertificateChain:completionHandler:)\n\n**Instance Method**\n\nOverride the default trust evaluation for the connection.\n\n## Declaration\n\n```swift\noptional func evaluateTrust(for connection: NWTCPConnection, peerCertificateChain: [Any], completionHandler completion: @escaping (SecTrust) -> Void)\n```\n\n## Parameters\n\n- **connection**: The connection sending this message\n- **peerCertificateChain**: The connection peerâ€™s certificate chain\n- **completion**: The completion handler for passing the [doc:\/\/com.apple.documentation\/documentation\/Security\/SecTrust] object to the connection. The `SecTrustRef` object `trust` is required and must not be `nil`. It will be evaluated using [doc:\/\/com.apple.documentation\/documentation\/Security\/SecTrustEvaluate(_:_:)] if necessary.\n\nThe caller is responsible for keeping the argument object valid for the duration of the completion handler invocation.\n\n## Discussion\n\nThe caller can implement this optional protocol method to set up custom policies for peer certificate trust evaluation. If the delegate method is implemented, the caller is responsible for creating and setting up the [doc:\/\/com.apple.documentation\/documentation\/Security\/SecTrust] object and passing it to the completion handler. Otherwise, the default trust evaluation policy is used for the connection.\n\n## Delegate methods\n\n- **shouldEvaluateTrust(for:)**: Indicate that the delegate should override the default trust evaluation for the connection.\n- **shouldProvideIdentity(for:)**: Indicate that the delegate can provide an identity for the connection authentication.\n- **provideIdentity(for:completionHandler:)**: Provide the identity and an optional certificate chain to be used for authentication.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicate that the delegate should override the default trust evaluation for the connection.",
          "name" : "shouldEvaluateTrust(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate\/shouldEvaluateTrust(for:)"
        },
        {
          "description" : "Indicate that the delegate can provide an identity for the connection authentication.",
          "name" : "shouldProvideIdentity(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate\/shouldProvideIdentity(for:)"
        },
        {
          "description" : "Provide the identity and an optional certificate chain to be used for authentication.",
          "name" : "provideIdentity(for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate\/provideIdentity(for:completionHandler:)"
        }
      ],
      "title" : "Delegate methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "evaluateTrust(for:peerCertificateChain:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate\/evaluateTrust(for:peerCertificateChain:completionHandler:)"
}