{
  "abstract" : "Network APIs for use by all types of NetworkExtension providers and by hotspot helpers.",
  "codeExamples" : [

  ],
  "contentHash" : "c856b53a579611fbb07928bbc05dda4881c5e272a3030768856e9a49242d3fe7",
  "crawledAt" : "2025-12-02T20:42:22Z",
  "id" : "09166F67-8001-4741-B0B4-E3E31FCF671A",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Overview\n\nNetworkExtension providers and hotspot helpers run in an unusual network environment that can cause problems for general-purpose networking APIs. For example, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession] typically sends requests via the default route, which is inappropriate for a hotspot helper that must always use the Wi-Fi interface. The NetworkExtension framework includes a number of APIs that are useful in such situations.\n\nThese APIs have the following key characteristics:\n\nThe recommended general-purpose networking APIs are the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/url-loading-system] for HTTP and the [doc:\/\/com.apple.documentation\/documentation\/Network] framework for TCP and UDP.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/in-provider-networking\ncrawled: 2025-12-02T20:42:22Z\n---\n\n# In-Provider Networking\n\n**API Collection**\n\nNetwork APIs for use by all types of NetworkExtension providers and by hotspot helpers.\n\n## Overview\n\nNetworkExtension providers and hotspot helpers run in an unusual network environment that can cause problems for general-purpose networking APIs. For example, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession] typically sends requests via the default route, which is inappropriate for a hotspot helper that must always use the Wi-Fi interface. The NetworkExtension framework includes a number of APIs that are useful in such situations.\n\nThese APIs have the following key characteristics:\n\n- They aren’t general-purpose APIs; they can only be used in the context of a NetworkExtension provider or hotspot helper.\n- In many cases, you don’t need to use them. For example, it’s possible for a packet tunnel provider to use a general-purpose networking API, like BSD Sockets, for its tunnel connection.\n\nThe recommended general-purpose networking APIs are the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/url-loading-system] for HTTP and the [doc:\/\/com.apple.documentation\/documentation\/Network] framework for TCP and UDP.\n\n## TCP connections\n\n- **NWTCPConnection**: An object to manage a TCP connection, with or without TLS.\n- **NWTLSParameters**: TLS properties for creating a connection.\n- **NWTCPConnectionAuthenticationDelegate**: A delegate protocol to customize the TLS authentication done by a connection.\n\n## UDP sessions\n\n- **NWUDPSession**: An object to manage a UDP session to a network endpoint.\n\n## Endpoints\n\n- **NWHostEndpoint**: A network endpoint specified by DNS name (or IP address) and port.\n- **NWBonjourServiceEndpoint**: A network endpoint specified as a Bonjour service name, type, and domain.\n- **NWEndpoint**: An abstract base class, shared by [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWHostEndpoint] or [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWBonjourServiceEndpoint], that represents the source or destination of a network connection.\n\n## Network path information\n\n- **NWPath**: The path made by a network connection, including information about its viability.\n\n## Related Documentation\n\n- **Packet tunnel provider**: Implement a VPN client for a packet-oriented, custom VPN protocol.\n- **App proxy provider**: Implement a VPN client for a flow-oriented, custom VPN protocol.\n- **Hotspot helper**: Integrate your app with the iOS hotspot network subsystem.\n\n## Flow handling\n\n- **NEAppProxyTCPFlow**: An object for reading and writing data to and from a TCP connection being proxied by the provider.\n- **NEAppProxyUDPFlow**: An object for reading and writing data to and from a UDP conversation being proxied by the provider.\n- **NEAppProxyFlow**: An abstract base class shared by NEAppProxyTCPFlow and NEAppProxyUDPFlow.\n- **NEFlowMetaData**: Additional information about data flowing through a per-app VPN provider.\n- **Handling Flow Copying**: Exchange data streams by using proxy-provider classes.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object to manage a TCP connection, with or without TLS.",
          "name" : "NWTCPConnection",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnection"
        },
        {
          "description" : "TLS properties for creating a connection.",
          "name" : "NWTLSParameters",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTLSParameters"
        },
        {
          "description" : "A delegate protocol to customize the TLS authentication done by a connection.",
          "name" : "NWTCPConnectionAuthenticationDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnectionAuthenticationDelegate"
        }
      ],
      "title" : "TCP connections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object to manage a UDP session to a network endpoint.",
          "name" : "NWUDPSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWUDPSession"
        }
      ],
      "title" : "UDP sessions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A network endpoint specified by DNS name (or IP address) and port.",
          "name" : "NWHostEndpoint",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWHostEndpoint"
        },
        {
          "description" : "A network endpoint specified as a Bonjour service name, type, and domain.",
          "name" : "NWBonjourServiceEndpoint",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWBonjourServiceEndpoint"
        },
        {
          "description" : "An abstract base class, shared by [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWHostEndpoint] or [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWBonjourServiceEndpoint], that represents the source or destination of a network connection.",
          "name" : "NWEndpoint",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWEndpoint"
        }
      ],
      "title" : "Endpoints"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The path made by a network connection, including information about its viability.",
          "name" : "NWPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWPath"
        }
      ],
      "title" : "Network path information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Implement a VPN client for a packet-oriented, custom VPN protocol.",
          "name" : "Packet tunnel provider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/packet-tunnel-provider"
        },
        {
          "description" : "Implement a VPN client for a flow-oriented, custom VPN protocol.",
          "name" : "App proxy provider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/app-proxy-provider"
        },
        {
          "description" : "Integrate your app with the iOS hotspot network subsystem.",
          "name" : "Hotspot helper",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/hotspot-helper"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object for reading and writing data to and from a TCP connection being proxied by the provider.",
          "name" : "NEAppProxyTCPFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyTCPFlow"
        },
        {
          "description" : "An object for reading and writing data to and from a UDP conversation being proxied by the provider.",
          "name" : "NEAppProxyUDPFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyUDPFlow"
        },
        {
          "description" : "An abstract base class shared by NEAppProxyTCPFlow and NEAppProxyUDPFlow.",
          "name" : "NEAppProxyFlow",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEAppProxyFlow"
        },
        {
          "description" : "Additional information about data flowing through a per-app VPN provider.",
          "name" : "NEFlowMetaData",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFlowMetaData"
        },
        {
          "description" : "Exchange data streams by using proxy-provider classes.",
          "name" : "Handling Flow Copying",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/handling-flow-copying"
        }
      ],
      "title" : "Flow handling"
    }
  ],
  "source" : "appleJSON",
  "title" : "In-Provider Networking",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/in-provider-networking"
}