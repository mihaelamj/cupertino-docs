{
  "abstract" : "Specify the network settings for the current tunneling session.",
  "codeExamples" : [

  ],
  "contentHash" : "6b585e011e92dc12a4a41327379962bdfb0314f2631875e9aad3647af13e3535",
  "crawledAt" : "2025-12-05T04:08:10Z",
  "declaration" : {
    "code" : "func setTunnelNetworkSettings(_ tunnelNetworkSettings: NETunnelNetworkSettings?, completionHandler: (((any Error)?) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "FD41785B-B4B7-4089-A85D-C90DD8F48F33",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nUse this method to specify the settings to be used by network communication that traverses the tunnel. If you are implementing a Packet Tunnel Provider, pass a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEPacketTunnelNetworkSettings] object containing virtual IP configuration, DNS settings, proxy settings, the tunnel MTU, and IP routes. If you are implementing an App Proxy Provider, pass a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NETunnelNetworkSettings] containing DNS settings and proxy settings.\n\nThis method should be called as part of the process of establishing the tunnel, as follows:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NETunnelProvider\/setTunnelNetworkSettings(_:completionHandler:)\ncrawled: 2025-12-05T04:08:10Z\n---\n\n# setTunnelNetworkSettings(_:completionHandler:)\n\n**Instance Method**\n\nSpecify the network settings for the current tunneling session.\n\n## Declaration\n\n```swift\nfunc setTunnelNetworkSettings(_ tunnelNetworkSettings: NETunnelNetworkSettings?, completionHandler: (((any Error)?) -> Void)? = nil)\n```\n\n```swift\nfunc setTunnelNetworkSettings(_ tunnelNetworkSettings: NETunnelNetworkSettings?) async throws\n```\n\n## Parameters\n\n- **tunnelNetworkSettings**: The network settings to use for the tunnel. Pass nil to clear out the network settings for the current tunneling session.\n- **completionHandler**: A block that will be executed when the operation of setting the network settings is complete. If the network settings could not be set due to an error, then the error parameter will be set to an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError] object containing more information about the error. See `NETunnelProviderError` for possible error codes. If the network settings were set successfully then the error parameter will be set to nil.\n\n## Discussion\n\nUse this method to specify the settings to be used by network communication that traverses the tunnel. If you are implementing a Packet Tunnel Provider, pass a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEPacketTunnelNetworkSettings] object containing virtual IP configuration, DNS settings, proxy settings, the tunnel MTU, and IP routes. If you are implementing an App Proxy Provider, pass a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NETunnelNetworkSettings] containing DNS settings and proxy settings.\n\nThis method should be called as part of the process of establishing the tunnel, as follows:\n\n- The system calls the appropriate “start” method on the tunnel provider object.\n- The provider obtains the network settings for the tunnel by some means dictated by the tunnel provider, such as by downloading them from the tunnel server.\n- The tunnel provider calls [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NETunnelProvider\/setTunnelNetworkSettings(_:completionHandler:)] method to apply the network settings to the system.\n- The system executes the completion handler passed to `setTunnelNetworkSettings:completionHandler`: to indicate that the network settings have been set.\n- The tunnel provider executes the completion handler block passed to the “start” method to indicate that the tunnel is fully established.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "setTunnelNetworkSettings(_:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NETunnelProvider\/setTunnelNetworkSettings(_:completionHandler:)"
}