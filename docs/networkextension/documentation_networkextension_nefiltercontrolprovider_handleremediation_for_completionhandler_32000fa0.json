{
  "abstract" : "Handle a request for remediation from the user.",
  "codeExamples" : [

  ],
  "contentHash" : "1df7321a518a460deeb5582aa4d844d0187c3d13b818dd16070e088cf1aaf664",
  "crawledAt" : "2025-12-03T17:30:04Z",
  "declaration" : {
    "code" : "func handleRemediation(for flow: NEFilterFlow, completionHandler: @escaping (NEFilterControlVerdict) -> Void)",
    "language" : "swift"
  },
  "id" : "0EBBC35E-892F-46E5-AC5F-996975CEAD77",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nThis method is called by the system when the Filter Data Provider indicates that the filtering verdict for the given flow is `NEFilterRemediateVerdictNeedRules`. Subclass implementations must override this method and implement whatever steps are necessary to remediate the given flow.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterControlProvider\/handleRemediation(for:completionHandler:)\ncrawled: 2025-12-03T17:30:04Z\n---\n\n# handleRemediation(for:completionHandler:)\n\n**Instance Method**\n\nHandle a request for remediation from the user.\n\n## Declaration\n\n```swift\nfunc handleRemediation(for flow: NEFilterFlow, completionHandler: @escaping (NEFilterControlVerdict) -> Void)\n```\n\n```swift\nfunc handleRemediation(for flow: NEFilterFlow) async -> NEFilterControlVerdict\n```\n\n## Parameters\n\n- **flow**: An [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] object containing details about the flow that requires remediation.\n- **completionHandler**: A block that must be called when the Filter Control Provider has made a decision about the flow. The [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterControlVerdict] object passed to this block contains the decision that the Filter Control Provider made about the flow.\n\n## Discussion\n\nThis method is called by the system when the Filter Data Provider indicates that the filtering verdict for the given flow is `NEFilterRemediateVerdictNeedRules`. Subclass implementations must override this method and implement whatever steps are necessary to remediate the given flow.\n\n## Handling remediation\n\n- **remediationMap**: A dictionary containing sets of strings used to customize the remediation portion of the block page.\n- **NEFilterProviderRemediationMapRemediationButtonTexts**: A key in the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterControlProvider\/remediationMap] dictionary. The value of this key should be set to a dictionary that maps button text string identifiers to the text to display for the remediation URL link in the block page. The button text string identifiers are defined by the Filter Control Provider app extension.\n- **NEFilterProviderRemediationMapRemediationURLs**: A key in the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterControlProvider\/remediationMap] dictionary. The value of this key should be set to a dictionary that maps URL identifiers to remediation URLs to be inserted into the block page. The URL identifiers are defined by the Filter Control Provider app extension.\n- **NEFilterProviderRemediationURLFlowURL**: This string will be replaced with the full URL of the flow.\n- **NEFilterProviderRemediationURLFlowURLHostname**: This string will be replaced with the hostname portion of the flow’s URL.\n- **NEFilterProviderRemediationURLOrganization**: This string will be replaced with the value of the organization property set in the filter configuration.\n- **NEFilterProviderRemediationURLUsername**: This string will be replaced with the value of the username property set in the filter configuration.\n- **urlAppendStringMap**: A dictionary containing strings to be appended to URLs.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A dictionary containing sets of strings used to customize the remediation portion of the block page.",
          "name" : "remediationMap",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterControlProvider\/remediationMap"
        },
        {
          "description" : "A key in the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterControlProvider\/remediationMap] dictionary. The value of this key should be set to a dictionary that maps button text string identifiers to the text to display for the remediation URL link in the block page. The button text string identifiers are defined by the Filter Control Provider app extension.",
          "name" : "NEFilterProviderRemediationMapRemediationButtonTexts",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationMapRemediationButtonTexts"
        },
        {
          "description" : "A key in the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterControlProvider\/remediationMap] dictionary. The value of this key should be set to a dictionary that maps URL identifiers to remediation URLs to be inserted into the block page. The URL identifiers are defined by the Filter Control Provider app extension.",
          "name" : "NEFilterProviderRemediationMapRemediationURLs",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationMapRemediationURLs"
        },
        {
          "description" : "This string will be replaced with the full URL of the flow.",
          "name" : "NEFilterProviderRemediationURLFlowURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationURLFlowURL"
        },
        {
          "description" : "This string will be replaced with the hostname portion of the flow’s URL.",
          "name" : "NEFilterProviderRemediationURLFlowURLHostname",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationURLFlowURLHostname"
        },
        {
          "description" : "This string will be replaced with the value of the organization property set in the filter configuration.",
          "name" : "NEFilterProviderRemediationURLOrganization",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationURLOrganization"
        },
        {
          "description" : "This string will be replaced with the value of the username property set in the filter configuration.",
          "name" : "NEFilterProviderRemediationURLUsername",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProviderRemediationURLUsername"
        },
        {
          "description" : "A dictionary containing strings to be appended to URLs.",
          "name" : "urlAppendStringMap",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterControlProvider\/urlAppendStringMap"
        }
      ],
      "title" : "Handling remediation"
    }
  ],
  "source" : "appleJSON",
  "title" : "handleRemediation(for:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterControlProvider\/handleRemediation(for:completionHandler:)"
}