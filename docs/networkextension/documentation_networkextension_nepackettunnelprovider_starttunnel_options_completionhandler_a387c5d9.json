{
  "abstract" : "Start the network tunnel.",
  "codeExamples" : [

  ],
  "contentHash" : "094e8f3d80fc195f8e14ccbb2a2f4b70567084453cabaac5e6fecf899c02384a",
  "crawledAt" : "2025-12-05T16:14:28Z",
  "declaration" : {
    "code" : "func startTunnel(options: [String : NSObject]? = nil, completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "F0C71804-7D68-47B0-B312-8E7A4563E42D",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nThis method is called by the system to start the network tunnel.\n\n`NEPacketTunnelProvider` subclasses must override this method.\n\nWhen the Packet Tunnel Provider executes the completionHandler block with a nil error parameter, it signals to the system that it is ready to begin handling network data. Therefore, the Packet Tunnel Provider should call [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NETunnelProvider\/setTunnelNetworkSettings(_:completionHandler:)] and wait for it to complete before executing the completionHandler block.\n\nThe domain and code of the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError] object passed to the `completionHandler` block are defined by the Packet Tunnel Provider.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEPacketTunnelProvider\/startTunnel(options:completionHandler:)\ncrawled: 2025-12-05T16:14:28Z\n---\n\n# startTunnel(options:completionHandler:)\n\n**Instance Method**\n\nStart the network tunnel.\n\n## Declaration\n\n```swift\nfunc startTunnel(options: [String : NSObject]? = nil, completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc startTunnel(options: [String : NSObject]? = nil) async throws\n```\n\n## Parameters\n\n- **options**: A dictionary passed by the app that requested that the tunnel be started. If the starting app did not specify a dictionary of options then this parameter will be nil. If the tunnel was started via Connect On Demand, then this parameter will be nil.\n- **completionHandler**: A block that must be executed when the tunnel is fully established, or when the tunnel cannot be started due to an error. If the tunnel was successfully established, then the error parameter must be set to nil. If an error occurred, the error parameter passed to this block must be set to a non-nil [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError] object.\n\n## Discussion\n\nThis method is called by the system to start the network tunnel.\n\n`NEPacketTunnelProvider` subclasses must override this method.\n\nWhen the Packet Tunnel Provider executes the completionHandler block with a nil error parameter, it signals to the system that it is ready to begin handling network data. Therefore, the Packet Tunnel Provider should call [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NETunnelProvider\/setTunnelNetworkSettings(_:completionHandler:)] and wait for it to complete before executing the completionHandler block.\n\nThe domain and code of the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSError] object passed to the `completionHandler` block are defined by the Packet Tunnel Provider.\n\n## Managing the tunnel life cycle\n\n- **stopTunnel(with:completionHandler:)**: Stop the network tunnel.\n- **cancelTunnelWithError(_:)**: Stop the network tunnel from the Packet Tunnel Provider.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Stop the network tunnel.",
          "name" : "stopTunnel(with:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEPacketTunnelProvider\/stopTunnel(with:completionHandler:)"
        },
        {
          "description" : "Stop the network tunnel from the Packet Tunnel Provider.",
          "name" : "cancelTunnelWithError(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEPacketTunnelProvider\/cancelTunnelWithError(_:)"
        }
      ],
      "title" : "Managing the tunnel life cycle"
    }
  ],
  "source" : "appleJSON",
  "title" : "startTunnel(options:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEPacketTunnelProvider\/startTunnel(options:completionHandler:)"
}