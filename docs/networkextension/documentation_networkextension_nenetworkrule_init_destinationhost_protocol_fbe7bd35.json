{
  "abstract" : "Creates a rule that matches network traffic destined for a host within a specific DNS domain.",
  "codeExamples" : [
    {
      "code" : "let endpoint = NWHostEndpoint(hostname: \"com\", port: \"0\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)",
      "language" : "swift"
    },
    {
      "code" : "NWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"com\"\n                                                           port:@\"0\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];",
      "language" : "objc"
    },
    {
      "code" : "let endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"0\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)",
      "language" : "swift"
    },
    {
      "code" : "NWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"0\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];",
      "language" : "objc"
    },
    {
      "code" : "let endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"53\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)",
      "language" : "swift"
    },
    {
      "code" : "NWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"53\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];",
      "language" : "objc"
    },
    {
      "code" : "let endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"443\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .TCP)",
      "language" : "swift"
    },
    {
      "code" : "NWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"443\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolTCP];",
      "language" : "objc"
    }
  ],
  "contentHash" : "88cbaaf4bb522831165380057b808f656cc233e35d3eeb06ff18e49251950320",
  "crawledAt" : "2025-12-05T17:46:52Z",
  "declaration" : {
    "code" : "init(destinationHost hostEndpoint: NWHostEndpoint, protocol: NENetworkRule.Protocol)",
    "language" : "swift"
  },
  "id" : "11A7D001-1E64-463B-B135-CBE5FAE69CD4",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nIf the port string of `destinationHost` is `0` or is the empty string, then the rule matches traffic on any port destined for the given hostname or domain.\n\nIf the hostname string of `destinationHost` consists of a single label, then the rule matches traffic destined to the specific host with that single label as its name.\n\nIf the hostname string of `destinationHost` consists of two or more labels, then the rule matches traffic destined to hosts within the domain specified by the hostname string.\n\n### Examples\n\nThe following example makes a rule that matches all TCP and UDP traffic to a host named `com` in Swift.\n\nHere’s the same example in ObjectiveC.\n\nThe next example matches all TCP and UDP traffic to hosts in the `example.com` DNS domain, including all DNS queries for names in the `example.com` DNS domain.\n\nHere’s the same example in ObjectiveC.\n\nThe next example makes a rule that matches all DNS queries and responses for hosts in the `example.com` domain.\n\nHere’s the same example in ObjectiveC.\n\nThe last example makes a rule that matches all TCP port 443 traffic to hosts in the `example.com` domain.\n\nHere’s the same example in ObjectiveC.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NENetworkRule\/init(destinationHost:protocol:)\ncrawled: 2025-12-05T17:46:52Z\n---\n\n# init(destinationHost:protocol:)\n\n**Initializer**\n\nCreates a rule that matches network traffic destined for a host within a specific DNS domain.\n\n## Declaration\n\n```swift\ninit(destinationHost hostEndpoint: NWHostEndpoint, protocol: NENetworkRule.Protocol)\n```\n\n## Parameters\n\n- **hostEndpoint**: An endpoint instance that contains the port and hostname or domain that the rule matches. This endpoint must contain a hostname, not an address.\n- **protocol**: The protocol that the rule matches.\n\n## Discussion\n\nIf the port string of `destinationHost` is `0` or is the empty string, then the rule matches traffic on any port destined for the given hostname or domain.\n\nIf the hostname string of `destinationHost` consists of a single label, then the rule matches traffic destined to the specific host with that single label as its name.\n\nIf the hostname string of `destinationHost` consists of two or more labels, then the rule matches traffic destined to hosts within the domain specified by the hostname string.\n\n### Examples\n\nThe following example makes a rule that matches all TCP and UDP traffic to a host named `com` in Swift.\n\n```swift\nlet endpoint = NWHostEndpoint(hostname: \"com\", port: \"0\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)\n```\n\nHere’s the same example in ObjectiveC.\n\n```objc\nNWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"com\"\n                                                           port:@\"0\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];\n```\n\nThe next example matches all TCP and UDP traffic to hosts in the `example.com` DNS domain, including all DNS queries for names in the `example.com` DNS domain.\n\n```swift\nlet endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"0\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)\n```\n\nHere’s the same example in ObjectiveC.\n\n```objc\nNWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"0\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];\n```\n\nThe next example makes a rule that matches all DNS queries and responses for hosts in the `example.com` domain.\n\n```swift\nlet endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"53\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .any)\n```\n\nHere’s the same example in ObjectiveC.\n\n```objc\nNWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"53\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolAny];\n```\n\nThe last example makes a rule that matches all TCP port 443 traffic to hosts in the `example.com` domain.\n\n```swift\nlet endpoint = NWHostEndpoint(hostname: \"example.com\", port: \"443\")\nlet rule = NENetworkRule(destinationHost: endpoint, protocol: .TCP)\n```\n\nHere’s the same example in ObjectiveC.\n\n```objc\nNWHostEndpoint *endpoint = [NWHostEndpoint endpointWithHostname:@\"example.com\"\n                                                           port:@\"443\"];\n\nNENetworkRule *rule = [[NENetworkRule alloc] initWithDestinationHost:endpoint\n                                                            protocol:NENetworkRuleProtocolTCP];\n```\n\n## Creating a network rule\n\n- **init(destinationNetwork:prefix:protocol:)**: Creates a rule that matches network traffic destined for a host within a specific network.\n- **init(remoteNetwork:remotePrefix:localNetwork:localPrefix:protocol:direction:)**: Creates a rule that matches traffic by remote network, local network, protocol, and direction.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a rule that matches network traffic destined for a host within a specific network.",
          "name" : "init(destinationNetwork:prefix:protocol:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NENetworkRule\/init(destinationNetwork:prefix:protocol:)"
        },
        {
          "description" : "Creates a rule that matches traffic by remote network, local network, protocol, and direction.",
          "name" : "init(remoteNetwork:remotePrefix:localNetwork:localPrefix:protocol:direction:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NENetworkRule\/init(remoteNetwork:remotePrefix:localNetwork:localPrefix:protocol:direction:)"
        }
      ],
      "title" : "Creating a network rule"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(destinationHost:protocol:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NENetworkRule\/init(destinationHost:protocol:)"
}