{
  "abstract" : "Stops the DNS proxy.",
  "codeExamples" : [

  ],
  "contentHash" : "ce624be25ed3999309d6f6670d6be4679465261e32560a1e956668477c95e1da",
  "crawledAt" : "2025-12-05T02:36:52Z",
  "declaration" : {
    "code" : "func stopProxy(with reason: NEProviderStopReason, completionHandler: @escaping () -> Void)",
    "language" : "swift"
  },
  "id" : "F7BF2330-7BCF-4172-84F8-E6020A946416",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nSubclasses of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider] must override this method to perform whatever steps are necessary to stop the proxy.\n\nThe system calls this method to stop the proxy. You indicate that the proxy is fully stopped by calling the completion handler.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/stopProxy(with:completionHandler:)\ncrawled: 2025-12-05T02:36:52Z\n---\n\n# stopProxy(with:completionHandler:)\n\n**Instance Method**\n\nStops the DNS proxy.\n\n## Declaration\n\n```swift\nfunc stopProxy(with reason: NEProviderStopReason, completionHandler: @escaping () -> Void)\n```\n\n```swift\nfunc stopProxy(with reason: NEProviderStopReason) async\n```\n\n## Parameters\n\n- **reason**: A code indicating why the proxy is being stopped.\n- **completionHandler**: A block that must be called when the proxy is completely stopped.\n\n## Discussion\n\nSubclasses of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider] must override this method to perform whatever steps are necessary to stop the proxy.\n\nThe system calls this method to stop the proxy. You indicate that the proxy is fully stopped by calling the completion handler.\n\n\n\n## Managing the DNS proxy life cycle\n\n- **startProxy(options:completionHandler:)**: Starts the DNS proxy.\n- **cancelProxyWithError(_:)**: Cancels the DNS proxy.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts the DNS proxy.",
          "name" : "startProxy(options:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/startProxy(options:completionHandler:)"
        },
        {
          "description" : "Cancels the DNS proxy.",
          "name" : "cancelProxyWithError(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/cancelProxyWithError(_:)"
        }
      ],
      "title" : "Managing the DNS proxy life cycle"
    }
  ],
  "source" : "appleJSON",
  "title" : "stopProxy(with:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/stopProxy(with:completionHandler:)"
}