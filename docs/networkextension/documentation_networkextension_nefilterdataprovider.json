{
  "abstract" : "The principal class for a filter data provider extension.",
  "codeExamples" : [
    {
      "code" : "<key>NSExtension<\/key>\n<dict>\n    <key>NSExtensionPointIdentifier<\/key>\n    <string>com.apple.networkextension.filter-data<\/string>\n    <key>NSExtensionPrincipalClass<\/key>\n    <string>MyCustomFilterDataProvider<\/string>\n<\/dict>",
      "language" : "xml"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "6c10a7ce988f7248c66599581ba5ba19171bd24439208934cdfc93dd915c4b58",
  "crawledAt" : "2025-12-02T21:07:03Z",
  "declaration" : {
    "code" : "class NEFilterDataProvider",
    "language" : "swift"
  },
  "id" : "19190025-C1B1-4280-A87C-E011747C1DAA",
  "kind" : "class",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Overview\n\nNetwork content is delivered to the Filter Data Provider in the form of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] objects. Each [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] object corresponds to a network connection opened by an application running on the device. The Filter Data Provider can choose to pass or block the data when it receives a new flow, or it can ask the system to see more of the flow’s data in either the outbound or inbound direction before making a pass or block decision.\n\nIn addition to passing or blocking network data, the Filter Data Provider can tell the system that it needs more information before it can make a decision about a particular flow of data. The system will then ask the Filter Control Provider to update the current set of rules and place them in a location on disk that is readable from the Filter Data Provider extension.\n\nWhen a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] object is originated from a WebKit browser object, the Filter Data Provider can affect the user experience in the following ways:\n\nTo protect the user’s privacy, the Filter Data Provider extension sandbox prevents the extension from moving network content outside of its address space.\n\n### Creating a Filter Data Provider Extension\n\nFilter Data Providers run as App Extensions for the `com.apple.networkextension.filter-data` extension point.\n\nTo create a Filter Data Provider extension, first create a new App Extension target in your project.\n\nFor an example of an Xcode build target for this app extension, see the [https:\/\/developer.apple.com\/library\/archive\/samplecode\/SimpleTunnel\/Introduction\/Intro.html#\/\/apple_ref\/doc\/uid\/TP40016140] sample code project.\n\nOnce you have a Filter Data Provider extension target, create a subclass of `NEFilterDataProvider`. Then set the `NSExtensionPrincipalClass` key in the the extension’s `Info.plist` to the name of your subclass.\n\nIf it is not done already, set the `NSExtensionPointIdentifier` key in the extension’s `Info.plist` to `com.apple.networkextension.filter-data`.\n\nHere is an example of the `NSExtension` dictionary in a Filter Data Provider extension’s `Info.plist`:\n\nFinally, add your Filter Data Provider extension target to your app’s Embed App Extensions build phase.\n\n### Subclassing Notes\n\nTo create a Filter Data Provider extension, you must first create a subclass of `NEFilterDataProvider` and override the methods listed below.\n\n#### Methods to Override",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\ncrawled: 2025-12-02T21:07:03Z\n---\n\n# NEFilterDataProvider\n\n**Class**\n\nThe principal class for a filter data provider extension.\n\n## Declaration\n\n```swift\nclass NEFilterDataProvider\n```\n\n## Overview\n\nNetwork content is delivered to the Filter Data Provider in the form of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] objects. Each [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] object corresponds to a network connection opened by an application running on the device. The Filter Data Provider can choose to pass or block the data when it receives a new flow, or it can ask the system to see more of the flow’s data in either the outbound or inbound direction before making a pass or block decision.\n\nIn addition to passing or blocking network data, the Filter Data Provider can tell the system that it needs more information before it can make a decision about a particular flow of data. The system will then ask the Filter Control Provider to update the current set of rules and place them in a location on disk that is readable from the Filter Data Provider extension.\n\nWhen a [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterFlow] object is originated from a WebKit browser object, the Filter Data Provider can affect the user experience in the following ways:\n\n- If the Filter Data Provider chooses to block the web page, then a special “block” page is displayed in the WebKit browser object informing the user that their attempt to access the content was blocked. The Filter Data Provider can choose to add a link to this block page, giving the user the option of requesting access to the content.\n- If the Filter Data Provider chooses to allow the web page, then it can also specify that a string be appended to the web page URL. This allows the Filter Data Provider to direct the WebKit browser object to a “safe” version of the web page.\n\nTo protect the user’s privacy, the Filter Data Provider extension sandbox prevents the extension from moving network content outside of its address space.\n\n\n\n### Creating a Filter Data Provider Extension\n\nFilter Data Providers run as App Extensions for the `com.apple.networkextension.filter-data` extension point.\n\nTo create a Filter Data Provider extension, first create a new App Extension target in your project.\n\nFor an example of an Xcode build target for this app extension, see the [https:\/\/developer.apple.com\/library\/archive\/samplecode\/SimpleTunnel\/Introduction\/Intro.html#\/\/apple_ref\/doc\/uid\/TP40016140] sample code project.\n\nOnce you have a Filter Data Provider extension target, create a subclass of `NEFilterDataProvider`. Then set the `NSExtensionPrincipalClass` key in the the extension’s `Info.plist` to the name of your subclass.\n\nIf it is not done already, set the `NSExtensionPointIdentifier` key in the extension’s `Info.plist` to `com.apple.networkextension.filter-data`.\n\nHere is an example of the `NSExtension` dictionary in a Filter Data Provider extension’s `Info.plist`:\n\n```xml\n<key>NSExtension<\/key>\n<dict>\n    <key>NSExtensionPointIdentifier<\/key>\n    <string>com.apple.networkextension.filter-data<\/string>\n    <key>NSExtensionPrincipalClass<\/key>\n    <string>MyCustomFilterDataProvider<\/string>\n<\/dict>\n```\n\nFinally, add your Filter Data Provider extension target to your app’s Embed App Extensions build phase.\n\n### Subclassing Notes\n\nTo create a Filter Data Provider extension, you must first create a subclass of `NEFilterDataProvider` and override the methods listed below.\n\n#### Methods to Override\n\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleNewFlow(_:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleInboundData(from:readBytesStartOffset:readBytes:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleOutboundData(from:readBytesStartOffset:readBytes:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleInboundDataComplete(for:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleOutboundDataComplete(for:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleRemediation(for:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleRulesChanged()]\n\n## Filtering network content\n\n- **handleNewFlow(_:)**: Make a filtering decision for a newly-created flow of network content.\n- **handleInboundData(from:readBytesStartOffset:readBytes:)**: Make a filtering decision about a chunk of inbound data.\n- **NEFilterDataAttribute**: Attribute flags that describe the data handled by a filter.\n- **handleOutboundData(from:readBytesStartOffset:readBytes:)**: Make a filtering decision about a chunk of outbound data.\n- **handleInboundDataComplete(for:)**: Make a filtering decision after seeing all of the inbound data for a flow.\n- **handleOutboundDataComplete(for:)**: Make a filtering decision after seeing all of the outbound data for a flow.\n\n## Handling remediation\n\n- **handleRemediation(for:)**: Handle a remediation request.\n\n## Handling rule updates\n\n- **handleRulesChanged()**: Handle a rules changed event.\n\n## Changing filter settings\n\n- **apply(_:completionHandler:)**: Applies a set of filtering rules associated with the provider and changes the default filtering action.\n- **NEFilterSettings**: The rules and other settings that define the operation of a filter.\n\n## Resuming data flows\n\n- **resumeFlow(_:with:)**: Resumes a previously-paused flow.\n\n## Updating filter verdicts\n\n- **update(_:using:for:)**: Updates the verdict for a flow outside the context of any filter data provider callback.\n\n## Data and control providers\n\n- **NEFilterControlProvider**: The principal class for a filter control provider extension.\n- **NEFilterPacketProvider**: A filter provider that evaluates network packets and decides whether to block, allow, or delay the packets.\n- **NEFilterProvider**: An abstract base class shared by content filters.\n\n## Inherits From\n\n- NEFilterProvider\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Make a filtering decision for a newly-created flow of network content.",
          "name" : "handleNewFlow(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleNewFlow(_:)"
        },
        {
          "description" : "Make a filtering decision about a chunk of inbound data.",
          "name" : "handleInboundData(from:readBytesStartOffset:readBytes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleInboundData(from:readBytesStartOffset:readBytes:)"
        },
        {
          "description" : "Attribute flags that describe the data handled by a filter.",
          "name" : "NEFilterDataAttribute",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataAttribute"
        },
        {
          "description" : "Make a filtering decision about a chunk of outbound data.",
          "name" : "handleOutboundData(from:readBytesStartOffset:readBytes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleOutboundData(from:readBytesStartOffset:readBytes:)"
        },
        {
          "description" : "Make a filtering decision after seeing all of the inbound data for a flow.",
          "name" : "handleInboundDataComplete(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleInboundDataComplete(for:)"
        },
        {
          "description" : "Make a filtering decision after seeing all of the outbound data for a flow.",
          "name" : "handleOutboundDataComplete(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleOutboundDataComplete(for:)"
        }
      ],
      "title" : "Filtering network content"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Handle a remediation request.",
          "name" : "handleRemediation(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleRemediation(for:)"
        }
      ],
      "title" : "Handling remediation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Handle a rules changed event.",
          "name" : "handleRulesChanged()",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/handleRulesChanged()"
        }
      ],
      "title" : "Handling rule updates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Applies a set of filtering rules associated with the provider and changes the default filtering action.",
          "name" : "apply(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/apply(_:completionHandler:)"
        },
        {
          "description" : "The rules and other settings that define the operation of a filter.",
          "name" : "NEFilterSettings",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterSettings"
        }
      ],
      "title" : "Changing filter settings"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Resumes a previously-paused flow.",
          "name" : "resumeFlow(_:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/resumeFlow(_:with:)"
        }
      ],
      "title" : "Resuming data flows"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the verdict for a flow outside the context of any filter data provider callback.",
          "name" : "update(_:using:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider\/update(_:using:for:)"
        }
      ],
      "title" : "Updating filter verdicts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The principal class for a filter control provider extension.",
          "name" : "NEFilterControlProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterControlProvider"
        },
        {
          "description" : "A filter provider that evaluates network packets and decides whether to block, allow, or delay the packets.",
          "name" : "NEFilterPacketProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterPacketProvider"
        },
        {
          "description" : "An abstract base class shared by content filters.",
          "name" : "NEFilterProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterProvider"
        }
      ],
      "title" : "Data and control providers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NEFilterProvider"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NEFilterDataProvider",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEFilterDataProvider"
}