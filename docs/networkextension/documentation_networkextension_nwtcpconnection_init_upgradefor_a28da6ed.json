{
  "abstract" : "This convenience initializer can be used to create a new connection that will only be connected if there exists a better path (as determined by the system) to the remote endpoint of the original connection.",
  "codeExamples" : [

  ],
  "contentHash" : "2937d604848b72282baed4d4ee66b856ff2b95b672d4cdc5e586c2c50f8de3a5",
  "crawledAt" : "2025-12-05T03:25:12Z",
  "declaration" : {
    "code" : "init(upgradeFor connection: NWTCPConnection)",
    "language" : "swift"
  },
  "id" : "2228E99E-E4B4-4FC3-865E-B1D14C0B9604",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nAn upgraded connection will be initialized using the same remote endpoint and set of parameters from the original connection. If the original connection becomes disconnected or cancelled, the new upgrade connection will automatically be considered better.\n\nThe caller should create an [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWTCPConnection] and watch for the `hasBetterPath` property. When this property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the caller should attempt to create a new upgrade connection, with the goal to start transferring data on the new connection path as soon as possible to reduce power and avoid expensive networks. When the new connection is successfully connected the caller can start using the new connection and cancel the original one.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnection\/init(upgradeFor:)\ncrawled: 2025-12-05T03:25:12Z\n---\n\n# init(upgradeFor:)\n\n**Initializer**\n\nThis convenience initializer can be used to create a new connection that will only be connected if there exists a better path (as determined by the system) to the remote endpoint of the original connection.\n\n## Declaration\n\n```swift\ninit(upgradeFor connection: NWTCPConnection)\n```\n\n## Discussion\n\nAn upgraded connection will be initialized using the same remote endpoint and set of parameters from the original connection. If the original connection becomes disconnected or cancelled, the new upgrade connection will automatically be considered better.\n\nThe caller should create an [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NWTCPConnection] and watch for the `hasBetterPath` property. When this property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the caller should attempt to create a new upgrade connection, with the goal to start transferring data on the new connection path as soon as possible to reduce power and avoid expensive networks. When the new connection is successfully connected the caller can start using the new connection and cancel the original one.\n\n## Responding to network changes\n\n- **hasBetterPath**: If a connection has a better path, new connections would use a different interface.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "If a connection has a better path, new connections would use a different interface.",
          "name" : "hasBetterPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnection\/hasBetterPath"
        }
      ],
      "title" : "Responding to network changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(upgradeFor:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NWTCPConnection\/init(upgradeFor:)"
}