{
  "abstract" : "`NEEvaluateConnectionRule` associates properties of network connections with an action.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding"
  ],
  "contentHash" : "510d56b6018bd7707ad0ce3cbce55d949c2999337f8a6f772a132cd17edc6e6b",
  "crawledAt" : "2025-12-07T16:55:40Z",
  "declaration" : {
    "code" : "class NEEvaluateConnectionRule",
    "language" : "swift"
  },
  "id" : "F37AE526-F6FC-49E6-8859-092651E50667",
  "kind" : "class",
  "language" : "swift",
  "module" : "Network Extension",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\ncrawled: 2025-12-07T16:55:40Z\n---\n\n# NEEvaluateConnectionRule\n\n**Class**\n\n`NEEvaluateConnectionRule` associates properties of network connections with an action.\n\n## Declaration\n\n```swift\nclass NEEvaluateConnectionRule\n```\n\n## Initializing a Rule\n\n- **init(matchDomains:andAction:)**: Initialize an `NEEvaluateConnectionRule` instance with a list of destination host domains and an action.\n\n## Accessing Rule Match Properties\n\n- **matchDomains**: An array of domains used to match the destination hostname of connections. If the destination hostname of a connection matches any of the domains in the array, then the connection matches the rule. Each domain is matched against the destination hostname using suffix matching, and each label in the domain must match an entire label in the hostname. For example, the domain `example.com` will match the hostname `www.example.com` but not `www.anotherexample.com`.\n- **useDNSServers**: If the rule matches the connection being established and the action is `NEEvaluateConnectionRuleActionConnectIfNeeded`, the DNS servers specified in this array are used to resolve the destination hostname of the connection while evaluating connectivity to the destination of the connection. If the resolution fails for any reason, the VPN is started.\n- **probeURL**: An HTTP or HTTPS URL. If the rule matches the connection being established and the action is `NEEvaluateConnectionRuleActionConnectIfNeeded` and a request sent to this URL results in a response with an HTTP response code other than 200, then the VPN is started.\n\n## Accessing the Rule Action\n\n- **action**: The action to take if the properties of the network connection being established match the rule.\n- **NEEvaluateConnectionRuleAction**\n\n## Accessing connection rules\n\n- **connectionRules**: An array of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEEvaluateConnectionRule] objects\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initialize an `NEEvaluateConnectionRule` instance with a list of destination host domains and an action.",
          "name" : "init(matchDomains:andAction:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\/init(matchDomains:andAction:)"
        }
      ],
      "title" : "Initializing a Rule"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array of domains used to match the destination hostname of connections. If the destination hostname of a connection matches any of the domains in the array, then the connection matches the rule. Each domain is matched against the destination hostname using suffix matching, and each label in the domain must match an entire label in the hostname. For example, the domain `example.com` will match the hostname `www.example.com` but not `www.anotherexample.com`.",
          "name" : "matchDomains",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\/matchDomains"
        },
        {
          "description" : "If the rule matches the connection being established and the action is `NEEvaluateConnectionRuleActionConnectIfNeeded`, the DNS servers specified in this array are used to resolve the destination hostname of the connection while evaluating connectivity to the destination of the connection. If the resolution fails for any reason, the VPN is started.",
          "name" : "useDNSServers",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\/useDNSServers"
        },
        {
          "description" : "An HTTP or HTTPS URL. If the rule matches the connection being established and the action is `NEEvaluateConnectionRuleActionConnectIfNeeded` and a request sent to this URL results in a response with an HTTP response code other than 200, then the VPN is started.",
          "name" : "probeURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\/probeURL"
        }
      ],
      "title" : "Accessing Rule Match Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The action to take if the properties of the network connection being established match the rule.",
          "name" : "action",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule\/action"
        },
        {
          "description" : "",
          "name" : "NEEvaluateConnectionRuleAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRuleAction"
        }
      ],
      "title" : "Accessing the Rule Action"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEEvaluateConnectionRule] objects",
          "name" : "connectionRules",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEOnDemandRuleEvaluateConnection\/connectionRules"
        }
      ],
      "title" : "Accessing connection rules"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NEEvaluateConnectionRule",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEEvaluateConnectionRule"
}