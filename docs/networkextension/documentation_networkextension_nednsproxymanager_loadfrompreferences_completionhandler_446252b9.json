{
  "abstract" : "Loads the current DNS proxy configuration from the caller’s DNS proxy preferences.",
  "codeExamples" : [

  ],
  "contentHash" : "e0827685222538895ec21d269686be478954a66fb8ae4bbaf519222caa5cb28a",
  "crawledAt" : "2025-12-05T17:48:47Z",
  "declaration" : {
    "code" : "func loadFromPreferences(completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "DA1B458A-BD76-4E63-AACB-8668EED86371",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Discussion\n\nInitially, the DNS proxy configuration comes from a configuration profile stored on the device in a managed environment, as described in [https:\/\/developer.apple.com\/library\/archive\/featuredarticles\/iPhoneConfigurationProfileRef\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40010206].\n\nWhen you want to inspect or make changes to the configuration, you call the proxy manager’s [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/loadFromPreferences(completionHandler:)] method. This causes the system to load the configuration into the manager’s [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/providerProtocol] and [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/isEnabled] properties.\n\nIf you modify the configuration stored in these properties, you must then call the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/saveToPreferences(completionHandler:)] method to make the changes take effect. Saving the preferences also stores the modified configuration on disk for use the next time the proxy is started or the configuration is loaded.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager\/loadFromPreferences(completionHandler:)\ncrawled: 2025-12-05T17:48:47Z\n---\n\n# loadFromPreferences(completionHandler:)\n\n**Instance Method**\n\nLoads the current DNS proxy configuration from the caller’s DNS proxy preferences.\n\n## Declaration\n\n```swift\nfunc loadFromPreferences(completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\nfunc loadFromPreferences() async throws\n```\n\n## Parameters\n\n- **completionHandler**: A block called when the load operation completes. If the operation fails, an error instance passed to this block describes the problem. Otherwise, the error is `nil`. See [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManagerError] for the list of possible errors.\n\n## Discussion\n\nInitially, the DNS proxy configuration comes from a configuration profile stored on the device in a managed environment, as described in [https:\/\/developer.apple.com\/library\/archive\/featuredarticles\/iPhoneConfigurationProfileRef\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40010206].\n\nWhen you want to inspect or make changes to the configuration, you call the proxy manager’s [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/loadFromPreferences(completionHandler:)] method. This causes the system to load the configuration into the manager’s [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/providerProtocol] and [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/isEnabled] properties.\n\nIf you modify the configuration stored in these properties, you must then call the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyManager\/saveToPreferences(completionHandler:)] method to make the changes take effect. Saving the preferences also stores the modified configuration on disk for use the next time the proxy is started or the configuration is loaded.\n\n## Managing the DNS proxy configuration\n\n- **shared()**: Returns a singleton DNS proxy manager instance.\n- **saveToPreferences(completionHandler:)**: Saves the DNS proxy configuration in the caller’s DNS proxy preferences.\n- **removeFromPreferences(completionHandler:)**: Removes the DNS proxy configuration from the caller’s DNS proxy preferences.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a singleton DNS proxy manager instance.",
          "name" : "shared()",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager\/shared()"
        },
        {
          "description" : "Saves the DNS proxy configuration in the caller’s DNS proxy preferences.",
          "name" : "saveToPreferences(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager\/saveToPreferences(completionHandler:)"
        },
        {
          "description" : "Removes the DNS proxy configuration from the caller’s DNS proxy preferences.",
          "name" : "removeFromPreferences(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager\/removeFromPreferences(completionHandler:)"
        }
      ],
      "title" : "Managing the DNS proxy configuration"
    }
  ],
  "source" : "appleJSON",
  "title" : "loadFromPreferences(completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyManager\/loadFromPreferences(completionHandler:)"
}