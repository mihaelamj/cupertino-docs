{
  "abstract" : "The principal class for a DNS proxy provider app extension.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "665d3ff1d5c9df22f34245415d731c7fb63e1c333d00b8e7fb10dd9fbb2e51e6",
  "crawledAt" : "2025-12-03T17:56:33Z",
  "declaration" : {
    "code" : "class NEDNSProxyProvider",
    "language" : "swift"
  },
  "id" : "A56BB020-40C8-4061-AC09-4003CA5C1B49",
  "kind" : "class",
  "language" : "swift",
  "module" : "Network Extension",
  "overview" : "## Overview\n\nA DNS proxy allows your app to intercept all DNS traffic generated on a device. You can use this capability to provide services like DNS traffic encryption, typically by redirecting DNS traffic to your own server. You usually do this in the context of managed devices, such as those owned by a school or an enterprise.\n\nYou create a DNS proxy as an app extension based on a custom subclass of the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider] class. Once active, the proxy receives access to flows of DNS traffic in the form of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEAppProxyFlow] instances. Each flow corresponds to a socket opened by an app to UDP port 53 or TCP port 53. Your DNS proxy provider acts as a transparent DNS proxy for the flows of network data that it receives.\n\nWhen you subclass [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider], you must provide implementations for the following methods:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\ncrawled: 2025-12-03T17:56:33Z\n---\n\n# NEDNSProxyProvider\n\n**Class**\n\nThe principal class for a DNS proxy provider app extension.\n\n## Declaration\n\n```swift\nclass NEDNSProxyProvider\n```\n\n## Overview\n\nA DNS proxy allows your app to intercept all DNS traffic generated on a device. You can use this capability to provide services like DNS traffic encryption, typically by redirecting DNS traffic to your own server. You usually do this in the context of managed devices, such as those owned by a school or an enterprise.\n\nYou create a DNS proxy as an app extension based on a custom subclass of the [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider] class. Once active, the proxy receives access to flows of DNS traffic in the form of [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEAppProxyFlow] instances. Each flow corresponds to a socket opened by an app to UDP port 53 or TCP port 53. Your DNS proxy provider acts as a transparent DNS proxy for the flows of network data that it receives.\n\n\n\nWhen you subclass [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider], you must provide implementations for the following methods:\n\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider\/startProxy(options:completionHandler:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider\/stopProxy(with:completionHandler:)]\n- [doc:\/\/com.apple.networkextension\/documentation\/NetworkExtension\/NEDNSProxyProvider\/handleNewFlow(_:)]\n\n## Managing the DNS proxy life cycle\n\n- **startProxy(options:completionHandler:)**: Starts the DNS proxy.\n- **stopProxy(with:completionHandler:)**: Stops the DNS proxy.\n- **cancelProxyWithError(_:)**: Cancels the DNS proxy.\n\n## Handling proxied DNS flow\n\n- **handleNewFlow(_:)**: Handles a new flow of DNS traffic.\n- **handleNewUDPFlow(_:initialRemoteEndpoint:)**: Handles a new flow of UDP traffic.\n\n## Getting system DNS settings\n\n- **systemDNSSettings**: The current system DNS settings.\n\n## Provider\n\n- **NEDNSSettings**: The DNS resolver settings of a network tunnel or a system-wide configuration.\n\n## Inherits From\n\n- NEProvider\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts the DNS proxy.",
          "name" : "startProxy(options:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/startProxy(options:completionHandler:)"
        },
        {
          "description" : "Stops the DNS proxy.",
          "name" : "stopProxy(with:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/stopProxy(with:completionHandler:)"
        },
        {
          "description" : "Cancels the DNS proxy.",
          "name" : "cancelProxyWithError(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/cancelProxyWithError(_:)"
        }
      ],
      "title" : "Managing the DNS proxy life cycle"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Handles a new flow of DNS traffic.",
          "name" : "handleNewFlow(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/handleNewFlow(_:)"
        },
        {
          "description" : "Handles a new flow of UDP traffic.",
          "name" : "handleNewUDPFlow(_:initialRemoteEndpoint:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/handleNewUDPFlow(_:initialRemoteEndpoint:)"
        }
      ],
      "title" : "Handling proxied DNS flow"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The current system DNS settings.",
          "name" : "systemDNSSettings",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider\/systemDNSSettings"
        }
      ],
      "title" : "Getting system DNS settings"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The DNS resolver settings of a network tunnel or a system-wide configuration.",
          "name" : "NEDNSSettings",
          "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSSettings"
        }
      ],
      "title" : "Provider"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NEProvider"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NEDNSProxyProvider",
  "url" : "https:\/\/developer.apple.com\/documentation\/NetworkExtension\/NEDNSProxyProvider"
}