{
  "abstract" : "Automatically record data change operations that people perform in your SwiftUI app, and let them undo and redo those changes.",
  "codeExamples" : [
    {
      "code" : "@main\nstruct SwiftDataAnimalsApp: App {\n    var body: some Scene {\n        WindowGroup() {\n            ContentView()\n        }\n        .modelContainer(for: AnimalCategory.self, isUndoEnabled: true)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "47bee37a5ded73aeb113cc80157fe5c87bc7ecf5963ba300965004035291373e",
  "crawledAt" : "2025-12-02T15:56:36Z",
  "id" : "834420BB-B5C2-4FE8-B95B-3DF1AF19A7BE",
  "kind" : "article",
  "language" : "swift",
  "module" : "SwiftData",
  "overview" : "## Overview\n\nPeople who interact with apps to change data typically expect the app to provide a way to revert changes that they no longer wish to make. To provide this *undo* support, apps can use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager], which can:\n\nIf your app uses SwiftData, it can automatically register data changes with the undo manager. No need for you to add more code to your app that records those changes. Instead, just enable undo in SwiftData.\n\n### Enable undo in SwiftData\n\nUsing SwiftData to store data, you can enable undo support for data changes by setting the `isUndoEnabled` parameter to `true` when applying the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)-18hhy] modifier to a scene or view in your SwiftUI app:\n\nBy default, the `isUndoEnabled` parameter value is `false`, which disables undo support in SwiftData. If you set this parameter to `true` in your app, the app’s window or window group provides the system’s undo manager to SwiftData. SwiftData then binds the undo manager to the [doc:\/\/com.apple.SwiftData\/documentation\/SwiftData\/ModelContainer\/mainContext] of the [doc:\/\/com.apple.SwiftData\/documentation\/SwiftData\/ModelContainer]. When someone makes data changes in your app and the app saves those changes to the main context, they can use system gestures in iOS and iPadOS like three finger swap and device shake, or choose Edit > Undo or Edit > Redo in macOS, to undo and redo those changes, respectively.\n\nOther than enabling undo in SwiftData, you don’t need to write any additional code to manage undo operations for data changes. Instead, SwiftData automatically registers data change operations with the undo manager each time SwiftData saves those changes to the main context. And if your app uses [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/DocumentGroup] to manage data storage, undo and redo in SwiftData is automatically enabled.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftData\/Reverting-data-changes-using-the-undo-manager\ncrawled: 2025-12-02T15:56:36Z\n---\n\n# Reverting data changes using the undo manager\n\n**Article**\n\nAutomatically record data change operations that people perform in your SwiftUI app, and let them undo and redo those changes.\n\n## Overview\n\nPeople who interact with apps to change data typically expect the app to provide a way to revert changes that they no longer wish to make. To provide this *undo* support, apps can use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager], which can:\n\n- Record operations that a person performs while using the app\n- Provide undo capability to revert the last operation\n- Provide redo capability to reapply the last reverted operation\n\nIf your app uses SwiftData, it can automatically register data changes with the undo manager. No need for you to add more code to your app that records those changes. Instead, just enable undo in SwiftData.\n\n### Enable undo in SwiftData\n\nUsing SwiftData to store data, you can enable undo support for data changes by setting the `isUndoEnabled` parameter to `true` when applying the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/modelContainer(for:inMemory:isAutosaveEnabled:isUndoEnabled:onSetup:)-18hhy] modifier to a scene or view in your SwiftUI app:\n\n```swift\n@main\nstruct SwiftDataAnimalsApp: App {\n    var body: some Scene {\n        WindowGroup() {\n            ContentView()\n        }\n        .modelContainer(for: AnimalCategory.self, isUndoEnabled: true)\n    }\n}\n```\n\nBy default, the `isUndoEnabled` parameter value is `false`, which disables undo support in SwiftData. If you set this parameter to `true` in your app, the app’s window or window group provides the system’s undo manager to SwiftData. SwiftData then binds the undo manager to the [doc:\/\/com.apple.SwiftData\/documentation\/SwiftData\/ModelContainer\/mainContext] of the [doc:\/\/com.apple.SwiftData\/documentation\/SwiftData\/ModelContainer]. When someone makes data changes in your app and the app saves those changes to the main context, they can use system gestures in iOS and iPadOS like three finger swap and device shake, or choose Edit > Undo or Edit > Redo in macOS, to undo and redo those changes, respectively.\n\n\n\nOther than enabling undo in SwiftData, you don’t need to write any additional code to manage undo operations for data changes. Instead, SwiftData automatically registers data change operations with the undo manager each time SwiftData saves those changes to the main context. And if your app uses [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/DocumentGroup] to manage data storage, undo and redo in SwiftData is automatically enabled.\n\n\n\n## Model life cycle\n\n- **ModelContainer**: An object that manages an app’s schema and model storage configuration.\n- **ModelContext**: An object that enables you to fetch, insert, and delete models, and save any changes to disk.\n- **Fetching and filtering time-based model changes**: Track all inserts, updates, and deletes that occur in a data store and process them as a series of chronological transactions.\n- **HistoryDescriptor**: A type that describes the criteria, and, optionally, sort order, to use when fetching history data\n- **Deleting persistent data from your app**: Explore different ways to use SwiftData to delete persistent data.\n- **Syncing model data across a person’s devices**: Add the required capabilities and define a compatible schema to enable SwiftData to automatically sync your app’s model data using iCloud.\n- **Concurrency support**: Types you use to access model attributes and perform storage-related tasks in a safe and isolated way.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that manages an app’s schema and model storage configuration.",
          "name" : "ModelContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/ModelContainer"
        },
        {
          "description" : "An object that enables you to fetch, insert, and delete models, and save any changes to disk.",
          "name" : "ModelContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/ModelContext"
        },
        {
          "description" : "Track all inserts, updates, and deletes that occur in a data store and process them as a series of chronological transactions.",
          "name" : "Fetching and filtering time-based model changes",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/Fetching-and-filtering-time-based-model-changes"
        },
        {
          "description" : "A type that describes the criteria, and, optionally, sort order, to use when fetching history data",
          "name" : "HistoryDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/HistoryDescriptor"
        },
        {
          "description" : "Explore different ways to use SwiftData to delete persistent data.",
          "name" : "Deleting persistent data from your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/Deleting-persistent-data-from-your-app"
        },
        {
          "description" : "Add the required capabilities and define a compatible schema to enable SwiftData to automatically sync your app’s model data using iCloud.",
          "name" : "Syncing model data across a person’s devices",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/Syncing-model-data-across-a-persons-devices"
        },
        {
          "description" : "Types you use to access model attributes and perform storage-related tasks in a safe and isolated way.",
          "name" : "Concurrency support",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/ConcurrencySupport"
        }
      ],
      "title" : "Model life cycle"
    }
  ],
  "source" : "appleJSON",
  "title" : "Reverting data changes using the undo manager",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftData\/Reverting-data-changes-using-the-undo-manager"
}