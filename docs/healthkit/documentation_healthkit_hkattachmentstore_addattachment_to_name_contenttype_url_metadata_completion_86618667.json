{
  "abstract" : "Adds an attachment to the specified object.",
  "codeExamples" : [
    {
      "code" : "\/\/ Get the attachment store.\nlet attachmentStore = HKAttachmentStore(healthStore: store)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Get the attachment store.\nlet attachmentStore = HKAttachmentStore(healthStore: store)\n\n\/\/ Attach the image to the sample.\nattachmentStore.addAttachment(to: prescription,\n                              name: \"Glasses Prescription\",\n                              contentType: type,\n                              url: url) { attachment, error in\n    \n    if let error {\n        \/\/ Handle the error here.\n        fatalError(\"*** An error occurred while adding the attachment: \\(error.localizedDescription) ***\")\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "5e0b834869c6b68c6301786b9d6b86ea5bbda91d2859ee77f5d7201d792c8458",
  "crawledAt" : "2025-12-03T07:42:45Z",
  "declaration" : {
    "code" : "func addAttachment(to object: HKObject, name: String, contentType: UTType, url: URL, metadata: [String : Any] = [:], completion: @escaping (HKAttachment?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "A9A50E07-F8AF-4B3D-AD8C-A5995DBCC54F",
  "kind" : "method",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nUse this method to add an attachment to an object in the HealthKit store. You can add more than one attachment to the specified object.\n\nTo add an attachment, start by creating an attachment store.\n\nNext, add the attachment to an object that you’ve already saved to the HealthKit store.\n\nYou can only add attachments to [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKVisionPrescription], [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKGlassesPrescription], and [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKContactsPrescription] samples. The attachment must be a static image or PDF (no videos or GIFs). HealthKit supports attaching Live Photos, however it automatically selects and attaches the key photo.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAttachmentStore\/addAttachment(to:name:contentType:url:metadata:completion:)\ncrawled: 2025-12-03T07:42:45Z\n---\n\n# addAttachment(to:name:contentType:url:metadata:completion:)\n\n**Instance Method**\n\nAdds an attachment to the specified object.\n\n## Declaration\n\n```swift\nfunc addAttachment(to object: HKObject, name: String, contentType: UTType, url: URL, metadata: [String : Any] = [:], completion: @escaping (HKAttachment?, (any Error)?) -> Void)\n```\n\n## Parameters\n\n- **object**: An object stored in the HealthKit store.\n- **name**: The filename for the attachment.\n- **contentType**: The type of data stored in the attachment.\n- **url**: The url for the attachment. This must be a local file url.\n- **metadata**: Additional data associated with the attachment.\n- **completion**: A completion handler that the system calls after adding the attachment. This handler takes the following parameters:\n\n\n\n## Discussion\n\nUse this method to add an attachment to an object in the HealthKit store. You can add more than one attachment to the specified object.\n\nTo add an attachment, start by creating an attachment store.\n\n```swift\n\/\/ Get the attachment store.\nlet attachmentStore = HKAttachmentStore(healthStore: store)\n```\n\nNext, add the attachment to an object that you’ve already saved to the HealthKit store.\n\n```swift\n\/\/ Get the attachment store.\nlet attachmentStore = HKAttachmentStore(healthStore: store)\n\n\/\/ Attach the image to the sample.\nattachmentStore.addAttachment(to: prescription,\n                              name: \"Glasses Prescription\",\n                              contentType: type,\n                              url: url) { attachment, error in\n    \n    if let error {\n        \/\/ Handle the error here.\n        fatalError(\"*** An error occurred while adding the attachment: \\(error.localizedDescription) ***\")\n    }\n}\n```\n\nYou can only add attachments to [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKVisionPrescription], [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKGlassesPrescription], and [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKContactsPrescription] samples. The attachment must be a static image or PDF (no videos or GIFs). HealthKit supports attaching Live Photos, however it automatically selects and attaches the key photo.\n\n## Adding attachments\n\n- **addAttachment(to:name:contentType:url:metadata:)**: Asynchronously adds an attachment to the specified object.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asynchronously adds an attachment to the specified object.",
          "name" : "addAttachment(to:name:contentType:url:metadata:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAttachmentStore\/addAttachment(to:name:contentType:url:metadata:)"
        }
      ],
      "title" : "Adding attachments"
    }
  ],
  "source" : "appleJSON",
  "title" : "addAttachment(to:name:contentType:url:metadata:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAttachmentStore\/addAttachment(to:name:contentType:url:metadata:completion:)"
}