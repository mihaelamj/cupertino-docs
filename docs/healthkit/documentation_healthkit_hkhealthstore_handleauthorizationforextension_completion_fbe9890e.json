{
  "abstract" : "Requests permission to save and read the data types specified by an extension.",
  "codeExamples" : [

  ],
  "contentHash" : "b00a3ffc47467769f864d2640ac998211c10f4263030f6ac13092991932b719f",
  "crawledAt" : "2025-12-02T17:49:55Z",
  "declaration" : {
    "code" : "func handleAuthorizationForExtension(completion: @escaping (Bool, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "EADB217B-01DD-43BB-84C4-AEB5C52CA090",
  "kind" : "method",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nThe host app must implement the application delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationShouldRequestHealthAuthorization(_:)] method. This delegate method is called after an app extension calls [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKHealthStore\/requestAuthorization(toShare:read:completion:)]. The host app is then responsible for calling [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKHealthStore\/handleAuthorizationForExtension(completion:)]. This method prompts the user to authorize both the app and its extensions for the types that the extension requested.\n\nThe system performs this request asynchronously. After the user has finished responding, this method calls its completion block on a background queue. If the user has already chosen to grant or prohibit access to all of the types specified, the completion is called without prompting the user.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/handleAuthorizationForExtension(completion:)\ncrawled: 2025-12-02T17:49:55Z\n---\n\n# handleAuthorizationForExtension(completion:)\n\n**Instance Method**\n\nRequests permission to save and read the data types specified by an extension.\n\n## Declaration\n\n```swift\nfunc handleAuthorizationForExtension(completion: @escaping (Bool, (any Error)?) -> Void)\n```\n\n```swift\nfunc handleAuthorizationForExtension() async throws\n```\n\n## Parameters\n\n- **completion**: A block that is called after the user finishes responding to the request. This block is passed the following parameters:\n\n\n\n## Discussion\n\nThe host app must implement the application delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationShouldRequestHealthAuthorization(_:)] method. This delegate method is called after an app extension calls [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKHealthStore\/requestAuthorization(toShare:read:completion:)]. The host app is then responsible for calling [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKHealthStore\/handleAuthorizationForExtension(completion:)]. This method prompts the user to authorize both the app and its extensions for the types that the extension requested.\n\nThe system performs this request asynchronously. After the user has finished responding, this method calls its completion block on a background queue. If the user has already chosen to grant or prohibit access to all of the types specified, the completion is called without prompting the user.\n\n## Accessing HealthKit\n\n- **authorizationStatus(for:)**: Returns the app’s authorization status for sharing the specified data type.\n- **HKAuthorizationStatus**: Constants indicating the authorization status for a particular data type.\n- **getRequestStatusForAuthorization(toShare:read:completion:)**: Indicates whether the system presents the user with a permission sheet if your app requests authorization for the provided types.\n- **HKAuthorizationRequestStatus**: Values that indicate whether your app needs to request authorization from the user.\n- **isHealthDataAvailable()**: Returns a Boolean value that indicates whether HealthKit is available on this device.\n- **supportsHealthRecords()**: Returns a Boolean value that indicates whether the current device supports clinical records.\n- **requestAuthorization(toShare:read:completion:)**: Requests permission to save and read the specified data types.\n- **requestAuthorization(toShare:read:)**: Asynchronously requests permission to save and read the specified data types.\n- **requestPerObjectReadAuthorization(for:predicate:completion:)**: Asynchronously requests permission to read a data type that requires per-object authorization (such as vision prescriptions).\n- **authorizationViewControllerPresenter**: The view controller that presents HealthKit authorization sheets.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the app’s authorization status for sharing the specified data type.",
          "name" : "authorizationStatus(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/authorizationStatus(for:)"
        },
        {
          "description" : "Constants indicating the authorization status for a particular data type.",
          "name" : "HKAuthorizationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAuthorizationStatus"
        },
        {
          "description" : "Indicates whether the system presents the user with a permission sheet if your app requests authorization for the provided types.",
          "name" : "getRequestStatusForAuthorization(toShare:read:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/getRequestStatusForAuthorization(toShare:read:completion:)"
        },
        {
          "description" : "Values that indicate whether your app needs to request authorization from the user.",
          "name" : "HKAuthorizationRequestStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAuthorizationRequestStatus"
        },
        {
          "description" : "Returns a Boolean value that indicates whether HealthKit is available on this device.",
          "name" : "isHealthDataAvailable()",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/isHealthDataAvailable()"
        },
        {
          "description" : "Returns a Boolean value that indicates whether the current device supports clinical records.",
          "name" : "supportsHealthRecords()",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/supportsHealthRecords()"
        },
        {
          "description" : "Requests permission to save and read the specified data types.",
          "name" : "requestAuthorization(toShare:read:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/requestAuthorization(toShare:read:completion:)"
        },
        {
          "description" : "Asynchronously requests permission to save and read the specified data types.",
          "name" : "requestAuthorization(toShare:read:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/requestAuthorization(toShare:read:)"
        },
        {
          "description" : "Asynchronously requests permission to read a data type that requires per-object authorization (such as vision prescriptions).",
          "name" : "requestPerObjectReadAuthorization(for:predicate:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/requestPerObjectReadAuthorization(for:predicate:completion:)"
        },
        {
          "description" : "The view controller that presents HealthKit authorization sheets.",
          "name" : "authorizationViewControllerPresenter",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/authorizationViewControllerPresenter"
        }
      ],
      "title" : "Accessing HealthKit"
    }
  ],
  "source" : "appleJSON",
  "title" : "handleAuthorizationForExtension(completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/handleAuthorizationForExtension(completion:)"
}