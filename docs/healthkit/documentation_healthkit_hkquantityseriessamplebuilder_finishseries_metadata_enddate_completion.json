{
  "abstract" : "Finalizes the series with the provided end date, and returns the resulting quantity samples.",
  "codeExamples" : [

  ],
  "contentHash" : "bd50eef9d07cafa74a82f95ff6e62a85696e4aa0e41e77df05ced39919904522",
  "crawledAt" : "2025-12-01T12:54:48Z",
  "declaration" : {
    "code" : "func finishSeries(metadata: [String : Any]?, endDate: Date?, completion: @escaping ([HKQuantitySample]?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "C9946298-D72F-44F4-ABCF-796ECB658F9B",
  "kind" : "method",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nCall [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/finishSeries(metadata:endDate:completion:)] after inserting all the quantities for the series. The series builder then creates one or more samples to represent the series, saves the samples to the HealthKit store, and then passes them to the completion handler.\n\nCalling this method before inserting any samples results in an error. Also, calling this method invalidates the series builder; you cannot call any other series builder methods after calling this method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/finishSeries(metadata:endDate:completion:)\ncrawled: 2025-12-01T12:54:48Z\n---\n\n# finishSeries(metadata:endDate:completion:)\n\n**Instance Method**\n\nFinalizes the series with the provided end date, and returns the resulting quantity samples.\n\n## Declaration\n\n```swift\nfunc finishSeries(metadata: [String : Any]?, endDate: Date?, completion: @escaping ([HKQuantitySample]?, (any Error)?) -> Void)\n```\n\n```swift\nfunc finishSeries(metadata: [String : Any]?, endDate: Date?) async throws -> [HKQuantitySample]\n```\n\n## Parameters\n\n- **metadata**: The metadata dictionary contains extra information describing all the samples created by the builder. The dictionary’s keys are all strings. The values may be strings, numbers, or date objects. For a complete list of predefined metadata keys, see [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/metadata-keys].\n\nUsing predefined keys helps facilitate sharing data between apps; however, you are also encouraged to create your own, custom keys as needed to extend the samples’ capabilities.\n- **endDate**: The date when the sample ends. If `nil`, the builder uses the latest end date from the contained quantities.\n\nThe sample builder returns an [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKError\/Code\/errorInvalidArgument] error if the `endDate` is earlier than the builder’s [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/startDate] parameter, or is earlier than the end date of any of the quantities inserted into the builder.\n- **completion**: A completion handler, called by the builder after it creates the samples.\n\nThe handler takes the following parameters:\n\n\n\n## Discussion\n\nCall [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/finishSeries(metadata:endDate:completion:)] after inserting all the quantities for the series. The series builder then creates one or more samples to represent the series, saves the samples to the HealthKit store, and then passes them to the completion handler.\n\n\n\nCalling this method before inserting any samples results in an error. Also, calling this method invalidates the series builder; you cannot call any other series builder methods after calling this method.\n\n## Ending the Collection\n\n- **discard()**: Discards all previously collected data and invalidates the builder.\n- **finishSeries(metadata:completion:)**: Finalizes the series and returns the resulting quantity samples.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Discards all previously collected data and invalidates the builder.",
          "name" : "discard()",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/discard()"
        },
        {
          "description" : "Finalizes the series and returns the resulting quantity samples.",
          "name" : "finishSeries(metadata:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/finishSeries(metadata:completion:)"
        }
      ],
      "title" : "Ending the Collection"
    }
  ],
  "source" : "appleJSON",
  "title" : "finishSeries(metadata:endDate:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKQuantitySeriesSampleBuilder\/finishSeries(metadata:endDate:completion:)"
}