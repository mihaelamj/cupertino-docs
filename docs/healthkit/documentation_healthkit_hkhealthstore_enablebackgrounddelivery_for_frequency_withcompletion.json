{
  "abstract" : "Enables the delivery of updates to an app running in the background.",
  "codeExamples" : [

  ],
  "contentHash" : "ccd19abea0a7d29c56424086ba068157969b7949c410ec58fd23b43fc091a291",
  "crawledAt" : "2025-11-30T21:53:17Z",
  "declaration" : {
    "code" : "func enableBackgroundDelivery(for type: HKObjectType, frequency: HKUpdateFrequency, withCompletion completion: @escaping (Bool, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "76D9F77A-53D8-4638-84C6-562B77A3CE86",
  "kind" : "method",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nCall this method to register your app for background updates.\n\nHealthKit wakes your app whenever a process saves or deletes samples of the specified type. The system wakes your app at most once per time period defined by the specified frequency. Some sample types have a maximum frequency of [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKUpdateFrequency\/hourly]. The system enforces this frequency  transparently.\n\nFor example, on iOS, [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantityTypeIdentifier\/stepCount] samples have an hourly maximum frequency.\n\nIn watchOS, most data types have an hourly maximum frequency; however, the following data types can receive updates at [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKUpdateFrequency\/immediate]:\n\nAlso, in watchOS, the background updates share a budget with [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask] tasks. Your app can receive four updates (or background app refresh tasks) an hour, as long as it has a complication on the active watch face.\n\n### Receive Background Updates\n\nAs soon as your app launches, HealthKit calls the update handler for any observer queries that match the newly saved data. If you plan on supporting background delivery, set up all your observer queries in your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFinishLaunchingWithOptions:)] method. By setting up the queries in [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFinishLaunchingWithOptions:)], you ensure that you’ve instantiated your queries, and they’re ready to use before HealthKit delivers the updates.\n\nAfter your observer queries have finished processing the new data, you must call the update’s completion handler. This lets HealthKit know that your app successfully received the background delivery. If you don’t call the update’s completion handler, HealthKit continues to attempt to launch your app using a backoff algorithm to increase the delay between attempts. If your app fails to respond three times, HealthKit assumes your app can’t receive data and stops sending background updates.\n\nFor more information on the background delivery completion handler, see [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKObserverQueryCompletionHandler].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/enableBackgroundDelivery(for:frequency:withCompletion:)\ncrawled: 2025-11-30T21:53:17Z\n---\n\n# enableBackgroundDelivery(for:frequency:withCompletion:)\n\n**Instance Method**\n\nEnables the delivery of updates to an app running in the background.\n\n## Declaration\n\n```swift\nfunc enableBackgroundDelivery(for type: HKObjectType, frequency: HKUpdateFrequency, withCompletion completion: @escaping (Bool, (any Error)?) -> Void)\n```\n\n```swift\nfunc enableBackgroundDelivery(for type: HKObjectType, frequency: HKUpdateFrequency) async throws\n```\n\n## Parameters\n\n- **type**: The type of data to observe. This object can be a [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCharacteristicType] , [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantityType], [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryType], or [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKWorkoutType]. [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCorrelationType] is not a supported type for background delivery.\n- **frequency**: The maximum frequency of the updates. The system wakes your app from the background at most once per time period specified. For a complete list of valid frequencies, see [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKUpdateFrequency].\n- **completion**: A block that this method calls as soon as it enables background delivery. It passes the following parameters:\n\n\n\n## Discussion\n\nCall this method to register your app for background updates.\n\n\n\nHealthKit wakes your app whenever a process saves or deletes samples of the specified type. The system wakes your app at most once per time period defined by the specified frequency. Some sample types have a maximum frequency of [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKUpdateFrequency\/hourly]. The system enforces this frequency  transparently.\n\nFor example, on iOS, [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantityTypeIdentifier\/stepCount] samples have an hourly maximum frequency.\n\nIn watchOS, most data types have an hourly maximum frequency; however, the following data types can receive updates at [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKUpdateFrequency\/immediate]:\n\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/highHeartRateEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/lowHeartRateEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/irregularHeartRhythmEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/environmentalAudioExposureEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/headphoneAudioExposureEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/lowCardioFitnessEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantityTypeIdentifier\/numberOfTimesFallen]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantityTypeIdentifier\/vo2Max]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/handwashingEvent]\n- [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCategoryTypeIdentifier\/toothbrushingEvent]\n\nAlso, in watchOS, the background updates share a budget with [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask] tasks. Your app can receive four updates (or background app refresh tasks) an hour, as long as it has a complication on the active watch face.\n\n\n\n### Receive Background Updates\n\nAs soon as your app launches, HealthKit calls the update handler for any observer queries that match the newly saved data. If you plan on supporting background delivery, set up all your observer queries in your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFinishLaunchingWithOptions:)] method. By setting up the queries in [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFinishLaunchingWithOptions:)], you ensure that you’ve instantiated your queries, and they’re ready to use before HealthKit delivers the updates.\n\nAfter your observer queries have finished processing the new data, you must call the update’s completion handler. This lets HealthKit know that your app successfully received the background delivery. If you don’t call the update’s completion handler, HealthKit continues to attempt to launch your app using a backoff algorithm to increase the delay between attempts. If your app fails to respond three times, HealthKit assumes your app can’t receive data and stops sending background updates.\n\nFor more information on the background delivery completion handler, see [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKObserverQueryCompletionHandler].\n\n## Related Documentation\n\n- **HKObserverQuery**: A long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.\n\n## Managing background delivery\n\n- **com.apple.developer.healthkit.background-delivery**: A Boolean value that indicates whether observer queries receive updates while running in the background.\n- **HKUpdateFrequency**: Constants that determine how often the system launches your app in response to changes to HealthKit data.\n- **disableBackgroundDelivery(for:withCompletion:)**: Disables background deliveries of update notifications for the specified data type.\n- **disableAllBackgroundDelivery(completion:)**: Disables all background deliveries of update notifications.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.",
          "name" : "HKObserverQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether observer queries receive updates while running in the background.",
          "name" : "com.apple.developer.healthkit.background-delivery",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit.background-delivery"
        },
        {
          "description" : "Constants that determine how often the system launches your app in response to changes to HealthKit data.",
          "name" : "HKUpdateFrequency",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKUpdateFrequency"
        },
        {
          "description" : "Disables background deliveries of update notifications for the specified data type.",
          "name" : "disableBackgroundDelivery(for:withCompletion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/disableBackgroundDelivery(for:withCompletion:)"
        },
        {
          "description" : "Disables all background deliveries of update notifications.",
          "name" : "disableAllBackgroundDelivery(completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/disableAllBackgroundDelivery(completion:)"
        }
      ],
      "title" : "Managing background delivery"
    }
  ],
  "source" : "appleJSON",
  "title" : "enableBackgroundDelivery(for:frequency:withCompletion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKHealthStore\/enableBackgroundDelivery(for:frequency:withCompletion:)"
}