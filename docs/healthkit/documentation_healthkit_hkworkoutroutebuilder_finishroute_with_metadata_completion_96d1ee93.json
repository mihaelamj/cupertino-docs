{
  "abstract" : "Creates, saves, and associates the route with the provided workout.",
  "codeExamples" : [

  ],
  "contentHash" : "b335bb14968e3a3d99a1b5d86af4f53778c893172774808874278285f05b6b25",
  "crawledAt" : "2025-12-04T19:06:30Z",
  "declaration" : {
    "code" : "func finishRoute(with workout: HKWorkout, metadata: [String : Any]?, completion: @escaping (HKWorkoutRoute?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "BE90BBE5-E948-4720-B994-2BD9288E5197",
  "kind" : "method",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nCall this method after adding all the route data to the builder. The builder creates the route and saves it to the HealthKit store. It also associates the route with the provided workout. You cannot associate the route with another workout.\n\nThis method fails if you haven’t added any location data to the builder. The completion handler returns an error and `nil` for the route.\n\nAdditionally, this method invalidates the builder. Any further calls to the builder returns an error. To subsequently access the workout route, use a query (for example, an [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKSampleQuery] object).",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKWorkoutRouteBuilder\/finishRoute(with:metadata:completion:)\ncrawled: 2025-12-04T19:06:30Z\n---\n\n# finishRoute(with:metadata:completion:)\n\n**Instance Method**\n\nCreates, saves, and associates the route with the provided workout.\n\n## Declaration\n\n```swift\nfunc finishRoute(with workout: HKWorkout, metadata: [String : Any]?, completion: @escaping (HKWorkoutRoute?, (any Error)?) -> Void)\n```\n\n```swift\nfunc finishRoute(with workout: HKWorkout, metadata: [String : Any]?) async throws -> HKWorkoutRoute\n```\n\n## Parameters\n\n- **workout**: The workout to associate with the route. You must have already saved this workout to the HealthKit store.\n- **metadata**: The metadata dictionary can contain extra information describing this sample. The dictionary’s keys are all [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSString] objects. The values may be [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantity], [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSString], [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNumber], or [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDate] objects. For a complete list of predefined metadata keys, see [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/metadata-keys].\n\nUsing predefined keys helps facilitate sharing data between apps; however, you are also encouraged to create your own custom keys as needed to extend the HealthKit quantity sample’s capabilities.\n- **completion**: A block called after the system has saved the route data. The system passes the block the following parameters:\n\n\n\n## Discussion\n\nCall this method after adding all the route data to the builder. The builder creates the route and saves it to the HealthKit store. It also associates the route with the provided workout. You cannot associate the route with another workout.\n\n\n\nThis method fails if you haven’t added any location data to the builder. The completion handler returns an error and `nil` for the route.\n\nAdditionally, this method invalidates the builder. Any further calls to the builder returns an error. To subsequently access the workout route, use a query (for example, an [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKSampleQuery] object).\n\n## Building the route\n\n- **insertRouteData(_:completion:)**: Adds route data to the builder.\n- **addMetadata(_:completion:)**: Adds metadata to the builder.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds route data to the builder.",
          "name" : "insertRouteData(_:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKWorkoutRouteBuilder\/insertRouteData(_:completion:)"
        },
        {
          "description" : "Adds metadata to the builder.",
          "name" : "addMetadata(_:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKWorkoutRouteBuilder\/addMetadata(_:completion:)"
        }
      ],
      "title" : "Building the route"
    }
  ],
  "source" : "appleJSON",
  "title" : "finishRoute(with:metadata:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKWorkoutRouteBuilder\/finishRoute(with:metadata:completion:)"
}