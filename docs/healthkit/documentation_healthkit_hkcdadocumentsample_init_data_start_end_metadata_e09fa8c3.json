{
  "abstract" : "Returns a CDA document sample containing the provided XML document and metadata.",
  "codeExamples" : [
    {
      "code" : "\/\/ Creating a Health Document Using HKCDADocumentSample\nlet today = Date()\nlet documentData: Data = ... \/\/ Use XML data provided by a health organization\ndo {\n    let cdaSample = try HKCDADocumentSample.init(data: documentData, start: today, end:\n        today, metadata: nil)\n    healthStore.save(cdaSample) { success, error in\n        \/\/ Handle save error here...\n    }\n} catch {\n    \/\/ Handle validation error here...\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "3dbe61b075c6566841f7e9fec859c720d44040796415c2faaffb3428da22d793",
  "crawledAt" : "2025-12-02T19:47:20Z",
  "declaration" : {
    "code" : "convenience init(data documentData: Data, start startDate: Date, end endDate: Date, metadata: [String : Any]?) throws",
    "language" : "swift"
  },
  "id" : "D8ACE378-4949-4353-8BC6-236A040447DD",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Return Value\n\nA valid CDA document sample with the provided metadata.\n\n## Discussion\n\nTo create a CDA document sample:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKCDADocumentSample\/init(data:start:end:metadata:)\ncrawled: 2025-12-02T19:47:20Z\n---\n\n# init(data:start:end:metadata:)\n\n**Initializer**\n\nReturns a CDA document sample containing the provided XML document and metadata.\n\n## Declaration\n\n```swift\nconvenience init(data documentData: Data, start startDate: Date, end endDate: Date, metadata: [String : Any]?) throws\n```\n\n## Parameters\n\n- **documentData**: The CDA document in an XML format that meets the CDA standard. For more information on the CDA document format, see the [http:\/\/www.hl7.org\/implement\/standards\/product_brief.cfm?product_id=7] standard.\n- **startDate**: A fallback start date for the sample. This date is only used when the XML document does not include the document’s effective date. This date must be equal to or earlier than the end date; otherwise, this method throws an exception ([doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSExceptionName\/invalidArgumentException]).\n- **endDate**: A fallback end date for the sample. This date is only used when the XML document does not include the document’s effective date. This date must be equal to or later than the start date; otherwise, this method throws an exception ([doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSExceptionName\/invalidArgumentException]).\n- **metadata**: The metadata dictionary contains extra information describing this sample. The dictionary’s keys are all [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSString] objects. The values may be [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSString] objects, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNumber] objects, or [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDate] objects. For a complete list of predefined metadata keys, see Metadata Keys in [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/healthkit-constants].\n\nUsing predefined keys helps facilitate sharing data between apps; however, you are also encouraged to create your own, custom keys as needed to extend the sample’s capabilities.\n\n## Return Value\n\nA valid CDA document sample with the provided metadata.\n\n## Discussion\n\nTo create a CDA document sample:\n\n1. Create [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDate] objects to represent fallback start and end dates for the sample. Where possible, the system uses the effective date from the document’s XML data to set the sample’s start and end dates. The start and end date parameters are only used when the effective date is not available. Use the current date and time.\n2. Create an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSData] object that contains the CDA’s XML data.\n3. (optionally) Create an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDictionary] object containing any additional metadata for this sample.\n4. Call the `HKCDADocumentSample` class’s [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKCDADocumentSample\/init(data:start:end:metadata:)] method. Handle any errors that occur during XML validation.\n5. Save the sample to the HealthKit store. Handle any errors that occur while saving.\n\n```swift\n\/\/ Creating a Health Document Using HKCDADocumentSample\nlet today = Date()\nlet documentData: Data = ... \/\/ Use XML data provided by a health organization\ndo {\n    let cdaSample = try HKCDADocumentSample.init(data: documentData, start: today, end:\n        today, metadata: nil)\n    healthStore.save(cdaSample) { success, error in\n        \/\/ Handle save error here...\n    }\n} catch {\n    \/\/ Handle validation error here...\n}\n```\n\n## Creating CDA Samples\n\n- **HKDetailedCDAValidationErrorKey**: A key for accessing validation error information from an error object’s user information dictionary.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A key for accessing validation error information from an error object’s user information dictionary.",
          "name" : "HKDetailedCDAValidationErrorKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKDetailedCDAValidationErrorKey"
        }
      ],
      "title" : "Creating CDA Samples"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(data:start:end:metadata:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKCDADocumentSample\/init(data:start:end:metadata:)"
}