{
  "abstract" : "A long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "c41f57b65cea3f94d85f6360cea07646210b0d7fae82688298789349dd6d0a74",
  "crawledAt" : "2025-12-02T17:53:14Z",
  "declaration" : {
    "code" : "class HKObserverQuery",
    "language" : "swift"
  },
  "id" : "31FC93B4-ACE3-49BF-9246-4B2C2FBF169E",
  "kind" : "class",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Overview\n\nObserver queries set up a long-running task on a background queue. This task watches the HealthKit store, and alerts you when the store saves or removes matching data. Your app uses observer queries to respond to changes made by other apps and devices.\n\nObserver queries are immutable: You set their properties when you first create them, and you can’t change them.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery\ncrawled: 2025-12-02T17:53:14Z\n---\n\n# HKObserverQuery\n\n**Class**\n\nA long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.\n\n## Declaration\n\n```swift\nclass HKObserverQuery\n```\n\n## Overview\n\nObserver queries set up a long-running task on a background queue. This task watches the HealthKit store, and alerts you when the store saves or removes matching data. Your app uses observer queries to respond to changes made by other apps and devices.\n\n\n\nObserver queries are immutable: You set their properties when you first create them, and you can’t change them.\n\n## Creating Observer Queries\n\n- **Executing Observer Queries**: Create and run observer queries.\n- **init(sampleType:predicate:updateHandler:)**: Instantiates and returns a query that monitors the HealthKit store and responds to changes.\n- **init(queryDescriptors:updateHandler:)**: Creates a query that monitors the HealthKit store and responds to any changes matching any of the query descriptors you provided.\n- **HKObserverQueryCompletionHandler**: The completion handler for background deliveries.\n\n## Long-running queries\n\n- **HKActivitySummaryQueryDescriptor**: A query interface that reads activity summaries using Swift concurrency.\n- **HKActivitySummaryQuery**: A query for reading activity summary objects from the HealthKit store.\n- **HKAnchoredObjectQueryDescriptor**: A query interface that runs anchored object queries using Swift concurrency.\n- **HKAnchoredObjectQuery**: A query that returns changes to the HealthKit store, including a snapshot of new changes and continuous monitoring as a long-running query.\n\n## Inherits From\n\n- HKQuery\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create and run observer queries.",
          "name" : "Executing Observer Queries",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/executing-observer-queries"
        },
        {
          "description" : "Instantiates and returns a query that monitors the HealthKit store and responds to changes.",
          "name" : "init(sampleType:predicate:updateHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery\/init(sampleType:predicate:updateHandler:)"
        },
        {
          "description" : "Creates a query that monitors the HealthKit store and responds to any changes matching any of the query descriptors you provided.",
          "name" : "init(queryDescriptors:updateHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery\/init(queryDescriptors:updateHandler:)"
        },
        {
          "description" : "The completion handler for background deliveries.",
          "name" : "HKObserverQueryCompletionHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQueryCompletionHandler"
        }
      ],
      "title" : "Creating Observer Queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A query interface that reads activity summaries using Swift concurrency.",
          "name" : "HKActivitySummaryQueryDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor"
        },
        {
          "description" : "A query for reading activity summary objects from the HealthKit store.",
          "name" : "HKActivitySummaryQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQuery"
        },
        {
          "description" : "A query interface that runs anchored object queries using Swift concurrency.",
          "name" : "HKAnchoredObjectQueryDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor"
        },
        {
          "description" : "A query that returns changes to the HealthKit store, including a snapshot of new changes and continuous monitoring as a long-running query.",
          "name" : "HKAnchoredObjectQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAnchoredObjectQuery"
        }
      ],
      "title" : "Long-running queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "HKQuery"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "HKObserverQuery",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery"
}