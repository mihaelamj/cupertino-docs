{
  "abstract" : "A query interface that reads activity summaries using Swift concurrency.",
  "codeExamples" : [
    {
      "code" : "\/\/ Get the start and end date components.\nlet calendar = Calendar(identifier: .gregorian)\n\nvar startComponents = calendar.dateComponents([.day, .month, .year], from: Date())\nstartComponents.hour = 0\nstartComponents.minute = 0\nstartComponents.second = 0\n\nvar endComponents = startComponents\nendComponents.day = 1 + (endComponents.day ?? 0)\n\n\n\/\/ Create a predicate for the query.\nlet today = HKQuery.predicate(forActivitySummariesBetweenStart: startComponents, end: endComponents)\n\n\/\/ Create the descriptor.\nlet activeSummaryDescriptor = HKActivitySummaryQueryDescriptor(predicate:today)\n\n\/\/ Run the query.\nlet results = try await activeSummaryDescriptor.result(for: store)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Run a long-running query and monitor for updates.\nlet updateQueue = activeSummaryDescriptor.results(for: store)\n\n\/\/ Wait for the initial results and updates.\nupdateTask = Task {\n    for try await results in updateQueue {\n        \/\/ Process results here.\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Copyable",
    "HKAsyncQuery",
    "HKAsyncSequenceQuery"
  ],
  "contentHash" : "0bfbbb90083d17195593872aad2a60d2266ed6d529be897d25f6f98326799cf6",
  "crawledAt" : "2025-12-02T18:11:29Z",
  "declaration" : {
    "code" : "struct HKActivitySummaryQueryDescriptor",
    "language" : "swift"
  },
  "id" : "39DC77F2-6D5C-41C2-9A12-5EBEDA49BBD5",
  "kind" : "struct",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Overview\n\nUse [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor] to run a query that reads activity summary objects from the HealthKit store. To get a snapshot of activity summaries currently in the store, create a descriptor and call its [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/result(for:)] method.\n\nTo set up a long-running query that returns both matching values currently in the HealthKit store, and any updates that arrive while the query is running, call the [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAsyncSequenceQuery\/results(for:)] method instead.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\ncrawled: 2025-12-02T18:11:29Z\n---\n\n# HKActivitySummaryQueryDescriptor\n\n**Structure**\n\nA query interface that reads activity summaries using Swift concurrency.\n\n## Declaration\n\n```swift\nstruct HKActivitySummaryQueryDescriptor\n```\n\n## Overview\n\nUse [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor] to run a query that reads activity summary objects from the HealthKit store. To get a snapshot of activity summaries currently in the store, create a descriptor and call its [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/result(for:)] method.\n\n```swift\n\/\/ Get the start and end date components.\nlet calendar = Calendar(identifier: .gregorian)\n\nvar startComponents = calendar.dateComponents([.day, .month, .year], from: Date())\nstartComponents.hour = 0\nstartComponents.minute = 0\nstartComponents.second = 0\n\nvar endComponents = startComponents\nendComponents.day = 1 + (endComponents.day ?? 0)\n\n\n\/\/ Create a predicate for the query.\nlet today = HKQuery.predicate(forActivitySummariesBetweenStart: startComponents, end: endComponents)\n\n\/\/ Create the descriptor.\nlet activeSummaryDescriptor = HKActivitySummaryQueryDescriptor(predicate:today)\n\n\/\/ Run the query.\nlet results = try await activeSummaryDescriptor.result(for: store)\n```\n\nTo set up a long-running query that returns both matching values currently in the HealthKit store, and any updates that arrive while the query is running, call the [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAsyncSequenceQuery\/results(for:)] method instead.\n\n```swift\n\/\/ Run a long-running query and monitor for updates.\nlet updateQueue = activeSummaryDescriptor.results(for: store)\n\n\/\/ Wait for the initial results and updates.\nupdateTask = Task {\n    for try await results in updateQueue {\n        \/\/ Process results here.\n    }\n}\n```\n\n## Creating query descriptors\n\n- **init(predicate:)**: Instantiates an activity summary query descriptor.\n\n## Running queries\n\n- **result(for:)**: Runs a one-shot query and asynchronously returns a snapshot of the current matching results.\n- **results(for:)**: Initiates a long-running query that returns its results using an asynchronous sequence.\n- **HKActivitySummaryQueryDescriptor.Results**: An asynchronous sequence that emits updates from an activity summary query.\n\n## Accessing query properties\n\n- **predicate**: A predicate that limits the results that the query returned.\n\n## Default Implementations\n\n- **HKAsyncQuery Implementations**\n- **HKAsyncSequenceQuery Implementations**\n\n## Long-running queries\n\n- **HKActivitySummaryQuery**: A query for reading activity summary objects from the HealthKit store.\n- **HKAnchoredObjectQueryDescriptor**: A query interface that runs anchored object queries using Swift concurrency.\n- **HKAnchoredObjectQuery**: A query that returns changes to the HealthKit store, including a snapshot of new changes and continuous monitoring as a long-running query.\n- **HKObserverQuery**: A long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.\n\n## Conforms To\n\n- Copyable\n- HKAsyncQuery\n- HKAsyncSequenceQuery\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Instantiates an activity summary query descriptor.",
          "name" : "init(predicate:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/init(predicate:)"
        }
      ],
      "title" : "Creating query descriptors"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Runs a one-shot query and asynchronously returns a snapshot of the current matching results.",
          "name" : "result(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/result(for:)"
        },
        {
          "description" : "Initiates a long-running query that returns its results using an asynchronous sequence.",
          "name" : "results(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/results(for:)"
        },
        {
          "description" : "An asynchronous sequence that emits updates from an activity summary query.",
          "name" : "HKActivitySummaryQueryDescriptor.Results",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/Results"
        }
      ],
      "title" : "Running queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A predicate that limits the results that the query returned.",
          "name" : "predicate",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/predicate"
        }
      ],
      "title" : "Accessing query properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "HKAsyncQuery Implementations",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/HKAsyncQuery-Implementations"
        },
        {
          "description" : "",
          "name" : "HKAsyncSequenceQuery Implementations",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor\/HKAsyncSequenceQuery-Implementations"
        }
      ],
      "title" : "Default Implementations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A query for reading activity summary objects from the HealthKit store.",
          "name" : "HKActivitySummaryQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQuery"
        },
        {
          "description" : "A query interface that runs anchored object queries using Swift concurrency.",
          "name" : "HKAnchoredObjectQueryDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor"
        },
        {
          "description" : "A query that returns changes to the HealthKit store, including a snapshot of new changes and continuous monitoring as a long-running query.",
          "name" : "HKAnchoredObjectQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAnchoredObjectQuery"
        },
        {
          "description" : "A long-running query that monitors the HealthKit store and updates your app when the HealthKit store saves or deletes a matching sample.",
          "name" : "HKObserverQuery",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKObserverQuery"
        }
      ],
      "title" : "Long-running queries"
    }
  ],
  "source" : "appleJSON",
  "title" : "HKActivitySummaryQueryDescriptor",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKActivitySummaryQueryDescriptor"
}