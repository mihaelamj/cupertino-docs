{
  "abstract" : "Initiates a query that returns its results using an asynchronous sequence.",
  "codeExamples" : [
    {
      "code" : "let anchorDescriptor =\nHKAnchoredObjectQueryDescriptor(\n    predicates: [.workout()],\n    anchor: anchor)\n\nlet updateQueue = anchorDescriptor.results(for: store)\n\nupdateTask = Task {\n    for try await results in updateQueue {\n        \/\/ Process results here.\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "72aa1de4bb4ccd0d219b822cf88b5e9541fdeb9420d458dd59773ffbd21ea580",
  "crawledAt" : "2025-12-03T08:08:07Z",
  "declaration" : {
    "code" : "func results(for healthStore: HKHealthStore) -> Self.Sequence",
    "language" : "swift"
  },
  "id" : "F60B3E45-CF07-4277-9B03-89BFB0DFCFF3",
  "kind" : "method",
  "language" : "swift",
  "module" : "HealthKit",
  "overview" : "## Discussion\n\nThe adopting type’s [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAsyncSequenceQuery\/Sequence] associated type specifies the type of [doc:\/\/com.apple.documentation\/documentation\/Swift\/AsyncSequence] that this method returns. For example, the [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor] returns an `HKAnchoredObjectQueryDescriptor\/Sequence`, where each element in this sequence is an [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor\/Result] value.\n\nQuery descriptors for series data, like [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantitySeriesSampleQueryDescriptor], use an asynchronous sequence to return the high-frequency samples from a condensed sample, for example accessing individual heart rate samples from data recorded during a workout. These sequences have a finite size. When your app iterates over the sequence’s contents, the iteration automatically terminates after you receive all the data.\n\nOther query descriptors, like [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor], use this method to set up long-running queries that monitor the HealthKit store in the background. These queries continue to send updates using the asynchronous sequence. In these cases, code that iterates over the sequence continues until you cancel the sequence.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAsyncSequenceQuery\/results(for:)\ncrawled: 2025-12-03T08:08:07Z\n---\n\n# results(for:)\n\n**Instance Method**\n\nInitiates a query that returns its results using an asynchronous sequence.\n\n## Declaration\n\n```swift\nfunc results(for healthStore: HKHealthStore) -> Self.Sequence\n```\n\n## Parameters\n\n- **healthStore**: The access point for HealthKit data.\n\n## Discussion\n\nThe adopting type’s [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAsyncSequenceQuery\/Sequence] associated type specifies the type of [doc:\/\/com.apple.documentation\/documentation\/Swift\/AsyncSequence] that this method returns. For example, the [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor] returns an `HKAnchoredObjectQueryDescriptor\/Sequence`, where each element in this sequence is an [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor\/Result] value.\n\n```swift\nlet anchorDescriptor =\nHKAnchoredObjectQueryDescriptor(\n    predicates: [.workout()],\n    anchor: anchor)\n\nlet updateQueue = anchorDescriptor.results(for: store)\n\nupdateTask = Task {\n    for try await results in updateQueue {\n        \/\/ Process results here.\n    }\n}\n```\n\nQuery descriptors for series data, like [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKQuantitySeriesSampleQueryDescriptor], use an asynchronous sequence to return the high-frequency samples from a condensed sample, for example accessing individual heart rate samples from data recorded during a workout. These sequences have a finite size. When your app iterates over the sequence’s contents, the iteration automatically terminates after you receive all the data.\n\nOther query descriptors, like [doc:\/\/com.apple.healthkit\/documentation\/HealthKit\/HKAnchoredObjectQueryDescriptor], use this method to set up long-running queries that monitor the HealthKit store in the background. These queries continue to send updates using the asynchronous sequence. In these cases, code that iterates over the sequence continues until you cancel the sequence.\n\n## Running Queries\n\n- **Sequence**: The data type that the query returns.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The data type that the query returns.",
          "name" : "Sequence",
          "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAsyncSequenceQuery\/Sequence"
        }
      ],
      "title" : "Running Queries"
    }
  ],
  "source" : "appleJSON",
  "title" : "results(for:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/HealthKit\/HKAsyncSequenceQuery\/results(for:)"
}