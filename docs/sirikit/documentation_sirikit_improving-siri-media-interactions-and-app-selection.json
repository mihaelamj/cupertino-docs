{
  "abstract" : "Fine-tune voice controls and improve Siri Suggestions by sharing app capabilities, customized names, and listening habits with the system.",
  "codeExamples" : [
    {
      "code" : "let context = INMediaUserContext()\ncontext.numberOfLibraryItems = 345\ncontext.subscriptionStatus = .subscribed\ncontext.becomeCurrent()",
      "language" : "swift"
    },
    {
      "code" : "let attributes = CSSearchableItemAttributeSet(contentType: .audio)\nattributes.title = \"Some Cool Song Title\"\nattributes.artist = \"Hot New Artist\"\nattributes.album = \"Hot New Artist's Exclusive Album\"\nattributes.genre = \"Pop\"\nattributes.playCount = 5\nattributes.lastUsedDate = Date()\n\nlet item = CSSearchableItem(uniqueIdentifier: \"<identifier>\", domainIdentifier: domain, attributeSet: attributes)\n\nCSSearchableIndex.default().indexSearchableItems([item]) { ... }\n",
      "language" : "swift"
    }
  ],
  "contentHash" : "67fba240d66e1d954bcd520a945be6a0d9a0f69892094747e8ae3a9b715f99fd",
  "crawledAt" : "2025-12-03T05:11:16Z",
  "id" : "F25B131E-C719-4D17-A13F-46F69D9EEC08",
  "kind" : "article",
  "language" : "swift",
  "module" : "Intents",
  "overview" : "## Overview\n\nWhen the user interacts with Siri to request media, the system may send your app an intent that represents the user’s request. To effectively communicate the user’s request to your app, the system relies on the intents your app supports, the names of media items and performers, and the user’s listening habits. The system also uses this information to make proactive suggestions and provide relevant search results. Your app can contribute to this information with Core Spotlight and Intents to improve the accuracy, relevance, and convenience of playing media.\n\nApp Selection streamlines voice-driven interactions. As the system learns about the user’s listening habits, it intelligently predicts when the user intends for your app to handle a request, even if the user didn’t mention your app by name. By adopting these Intents and Core Spotlight APIs, your app also helps refine App Selection’s predictions.\n\nFor information about how Apple protects user privacy when your app shares information with the system, see the Siri section of [https:\/\/www.apple.com\/privacy\/features\/].\n\n### Support Media Intents\n\nUse [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] to receive media intents from Siri and Shortcuts. Support other system-defined media intents, such as [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INUpdateMediaAffinityIntent] or [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INAddMediaIntent], that reflect interactions the user can perform directly in your app.\n\nTell the system what types of media your app supports in Xcode’s Project editor. In the Supported Intents section of the Project editor, select each Media Category that describes your app’s content. Select `General` if your app plays media that doesn’t fit any of the other categories, like spooky sound effects or white noise. To opt in to Siri media control, you must choose at least one category for your app. With the settings shown here, users can say “Play some music in ControlAudio” to play music in the ControlAudio app. When App Selection is available, they can simply say “Play some music” and Siri intelligently picks the user’s preferred music app with App Selection.\n\n\n\nWhen a user searches for a musician or band on iOS 15 or later, Spotlight may include a suggestion to start listening to content from that artist. To include your app in the list of apps available to listen on, support [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INSearchForMediaIntent]. If the user chooses your app from the list, or if your app is the user’s preferred music app, the system sends your app an intent so you can display content by that artist.\n\nThe system can also use your app’s [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] donations to offer personalized audio suggestions on Lock Screen, in Control Center, and in the Home app. To opt-in to these suggestions, you need to explicitly indicate that your app can play media container intents with no additional parameters. If you haven’t already customized the PlayMedia system intent, follow these steps to set that up:\n\nOnce you have the PlayMedia system intent in a SiriKit Intent Definition file, make sure that its list of Supported Combinations includes the entry with “mediaContainer” as the only parameter.\n\n\n\n### Donate Interactions\n\nImprove App Selection, Shortcuts, and Shortcut Suggestions by donating interactions from your app. Each time the user starts playing media directly in your app, create and donate an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INInteraction] containing an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] to tell the system what the user is listening to. Provide as much detail as possible in each donation to help the system interact more accurately with the user in the future. If the user starts a playlist or radio station, donate that information instead of each individual song.\n\n### Set the Current User Context\n\nWhen your app launches, create an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INMediaUserContext], add the user’s information, and make the context current. The system uses this information to optimize the user experience for App Selection. The following code listing shows how to set the current context for a user with a paid subscription and a few hundred items in their library:\n\n### Populate the Spotlight Database\n\nAdd metadata about playlists and individual media items from the user’s local library to the Core Spotlight database. When the user searches for the item, the system can offer to play the media in your app alongside any other search results.\n\nFor Swift, choose the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileProtectionType\/completeUntilFirstUserAuthentication] level of protection for your Spotlight database so the system can access this information even when your app isn’t running. In Objective-C, choose the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileProtectionType\/completeUntilFirstUserAuthentication] level of protection for your Spotlight database so the system can access this information even when your app isn’t running.\n\n### Define Relevant Vocabulary\n\nDefine vocabulary for Siri, both specific to the individual user and relevant for all users but exclusive to your app. Providing vocabulary helps Siri match a user’s request to media items you’ve added to the Spotlight database or included in donated intents and interactions. Take care to include terms that include numbers or have other unusual spellings. There are two ways to provide vocabulary, and each one helps Siri interpret and route user requests:\n\nDefine general terms in the [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/global-vocabulary-reference]. Add an `AppIntentVocabulary.plist` file to your project and provide any vocabulary that’s unique to your app but relevant for all users in the [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/parameter-vocabularies] section. For more details, see [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/registering-custom-vocabulary-with-sirikit].\n\nProvide additional vocabulary programmatically with [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INVocabulary], like names that are unique or particularly important to the user, such as playlist titles. Put terms that are most important for this user or that Siri most often misunderstands first. You should update the vocabulary as needed, such as when the user renames or deletes a playlist, or begins listening to a particular artist more frequently.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SiriKit\/improving-siri-media-interactions-and-app-selection\ncrawled: 2025-12-03T05:11:16Z\n---\n\n# Improving Siri Media Interactions and App Selection\n\n**Article**\n\nFine-tune voice controls and improve Siri Suggestions by sharing app capabilities, customized names, and listening habits with the system.\n\n## Overview\n\nWhen the user interacts with Siri to request media, the system may send your app an intent that represents the user’s request. To effectively communicate the user’s request to your app, the system relies on the intents your app supports, the names of media items and performers, and the user’s listening habits. The system also uses this information to make proactive suggestions and provide relevant search results. Your app can contribute to this information with Core Spotlight and Intents to improve the accuracy, relevance, and convenience of playing media.\n\nApp Selection streamlines voice-driven interactions. As the system learns about the user’s listening habits, it intelligently predicts when the user intends for your app to handle a request, even if the user didn’t mention your app by name. By adopting these Intents and Core Spotlight APIs, your app also helps refine App Selection’s predictions.\n\nFor information about how Apple protects user privacy when your app shares information with the system, see the Siri section of [https:\/\/www.apple.com\/privacy\/features\/].\n\n\n\n### Support Media Intents\n\nUse [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] to receive media intents from Siri and Shortcuts. Support other system-defined media intents, such as [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INUpdateMediaAffinityIntent] or [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INAddMediaIntent], that reflect interactions the user can perform directly in your app.\n\n\n\nTell the system what types of media your app supports in Xcode’s Project editor. In the Supported Intents section of the Project editor, select each Media Category that describes your app’s content. Select `General` if your app plays media that doesn’t fit any of the other categories, like spooky sound effects or white noise. To opt in to Siri media control, you must choose at least one category for your app. With the settings shown here, users can say “Play some music in ControlAudio” to play music in the ControlAudio app. When App Selection is available, they can simply say “Play some music” and Siri intelligently picks the user’s preferred music app with App Selection.\n\n\n\nWhen a user searches for a musician or band on iOS 15 or later, Spotlight may include a suggestion to start listening to content from that artist. To include your app in the list of apps available to listen on, support [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INSearchForMediaIntent]. If the user chooses your app from the list, or if your app is the user’s preferred music app, the system sends your app an intent so you can display content by that artist.\n\nThe system can also use your app’s [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] donations to offer personalized audio suggestions on Lock Screen, in Control Center, and in the Home app. To opt-in to these suggestions, you need to explicitly indicate that your app can play media container intents with no additional parameters. If you haven’t already customized the PlayMedia system intent, follow these steps to set that up:\n\n1. If your project doesn’t already have an `.intentDefinition` file, use File > New File and then choose SiriKit Intent Definition File to add one to your project.\n2. Open your `.intentDefinition` file.\n3. Choose Customize System Intent > Media > Play Media from the + menu at the bottom of the intent definition editor.\n\nOnce you have the PlayMedia system intent in a SiriKit Intent Definition file, make sure that its list of Supported Combinations includes the entry with “mediaContainer” as the only parameter.\n\n\n\n\n\n### Donate Interactions\n\nImprove App Selection, Shortcuts, and Shortcut Suggestions by donating interactions from your app. Each time the user starts playing media directly in your app, create and donate an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INInteraction] containing an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INPlayMediaIntent] to tell the system what the user is listening to. Provide as much detail as possible in each donation to help the system interact more accurately with the user in the future. If the user starts a playlist or radio station, donate that information instead of each individual song.\n\n\n\n### Set the Current User Context\n\nWhen your app launches, create an [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INMediaUserContext], add the user’s information, and make the context current. The system uses this information to optimize the user experience for App Selection. The following code listing shows how to set the current context for a user with a paid subscription and a few hundred items in their library:\n\n```swift\nlet context = INMediaUserContext()\ncontext.numberOfLibraryItems = 345\ncontext.subscriptionStatus = .subscribed\ncontext.becomeCurrent()\n```\n\n### Populate the Spotlight Database\n\nAdd metadata about playlists and individual media items from the user’s local library to the Core Spotlight database. When the user searches for the item, the system can offer to play the media in your app alongside any other search results.\n\nFor Swift, choose the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileProtectionType\/completeUntilFirstUserAuthentication] level of protection for your Spotlight database so the system can access this information even when your app isn’t running. In Objective-C, choose the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileProtectionType\/completeUntilFirstUserAuthentication] level of protection for your Spotlight database so the system can access this information even when your app isn’t running.\n\n```swift\nlet attributes = CSSearchableItemAttributeSet(contentType: .audio)\nattributes.title = \"Some Cool Song Title\"\nattributes.artist = \"Hot New Artist\"\nattributes.album = \"Hot New Artist's Exclusive Album\"\nattributes.genre = \"Pop\"\nattributes.playCount = 5\nattributes.lastUsedDate = Date()\n\nlet item = CSSearchableItem(uniqueIdentifier: \"<identifier>\", domainIdentifier: domain, attributeSet: attributes)\n\nCSSearchableIndex.default().indexSearchableItems([item]) { ... }\n\n```\n\n\n\n### Define Relevant Vocabulary\n\nDefine vocabulary for Siri, both specific to the individual user and relevant for all users but exclusive to your app. Providing vocabulary helps Siri match a user’s request to media items you’ve added to the Spotlight database or included in donated intents and interactions. Take care to include terms that include numbers or have other unusual spellings. There are two ways to provide vocabulary, and each one helps Siri interpret and route user requests:\n\n- Global vocabulary relevant to all users of your app.\n- User-specific vocabulary that you update as the user interacts with your app.\n\nDefine general terms in the [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/global-vocabulary-reference]. Add an `AppIntentVocabulary.plist` file to your project and provide any vocabulary that’s unique to your app but relevant for all users in the [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/parameter-vocabularies] section. For more details, see [doc:\/\/com.apple.documentation\/documentation\/SiriKit\/registering-custom-vocabulary-with-sirikit].\n\nProvide additional vocabulary programmatically with [doc:\/\/com.apple.sirikit\/documentation\/Intents\/INVocabulary], like names that are unique or particularly important to the user, such as playlist titles. Put terms that are most important for this user or that Siri most often misunderstands first. You should update the vocabulary as needed, such as when the user renames or deletes a playlist, or begins listening to a particular artist more frequently.\n\n## Articles\n\n- **Adding User Interactivity with Siri Shortcuts and the Shortcuts App**: Add custom intents and parameters to help users interact more quickly and effectively with Siri and the Shortcuts app.\n- **Defining Relevant Shortcuts for the Siri Watch Face**: Inform Siri when your app’s shortcuts may be useful to the user.\n- **Deleting Donated Shortcuts**: Remove your donations from Siri.\n- **Dispatching intents to handlers**: Provide SiriKit with an intent handler capable of handling a specific intent.\n- **Improving interactions between Siri and your messaging app**: Donate app-specific content, use Siri’s contact suggestions, and adopt the latest platform features to create a more consistent messaging experience.\n- **Registering Custom Vocabulary with SiriKit**: Register your app’s custom terminology, and provide sample phrases for how to use your app with Siri.\n- **Confirming the Details of an Intent**: Perform final validation of the intent parameters and verify that your services are ready to fulfill the intent.\n- **Handling an Intent**: Fulfill the intent and provide feedback to SiriKit about what you did.\n- **Resolving the Parameters of an Intent**: Validate the parameters of an intent and make sure that you have the information you need to continue.\n- **Generating a List of Ride Options**: Generate ride options for Maps to display to the user.\n- **Handling the Ride-Booking Intents**: Support the different intent-handling sequences for booking rides with Shortcuts or Maps.\n- **Donating Reservations**: Inform Siri of reservations made from your app.\n- **Specifying Synonyms for Your App Name**: Provide alternative names for your app that are more familiar or easier for users to speak.\n- **Intent Phrases**: The keys that you include in your global vocabulary file to show how users engage your app from Siri.\n- **Localizing Your Vocabulary for Chinese Dialects**: Apply emphasis markers to your pronunciation tips to assist Siri with Chinese dialects.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add custom intents and parameters to help users interact more quickly and effectively with Siri and the Shortcuts app.",
          "name" : "Adding User Interactivity with Siri Shortcuts and the Shortcuts App",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/adding-user-interactivity-with-siri-shortcuts-and-the-shortcuts-app"
        },
        {
          "description" : "Inform Siri when your app’s shortcuts may be useful to the user.",
          "name" : "Defining Relevant Shortcuts for the Siri Watch Face",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/defining-relevant-shortcuts-for-the-siri-watch-face"
        },
        {
          "description" : "Remove your donations from Siri.",
          "name" : "Deleting Donated Shortcuts",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/deleting-donated-shortcuts"
        },
        {
          "description" : "Provide SiriKit with an intent handler capable of handling a specific intent.",
          "name" : "Dispatching intents to handlers",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/dispatching-intents-to-handlers"
        },
        {
          "description" : "Donate app-specific content, use Siri’s contact suggestions, and adopt the latest platform features to create a more consistent messaging experience.",
          "name" : "Improving interactions between Siri and your messaging app",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/improving-interactions-between-siri-and-your-messaging-app"
        },
        {
          "description" : "Register your app’s custom terminology, and provide sample phrases for how to use your app with Siri.",
          "name" : "Registering Custom Vocabulary with SiriKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/registering-custom-vocabulary-with-sirikit"
        },
        {
          "description" : "Perform final validation of the intent parameters and verify that your services are ready to fulfill the intent.",
          "name" : "Confirming the Details of an Intent",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/confirming-the-details-of-an-intent"
        },
        {
          "description" : "Fulfill the intent and provide feedback to SiriKit about what you did.",
          "name" : "Handling an Intent",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/handling-an-intent"
        },
        {
          "description" : "Validate the parameters of an intent and make sure that you have the information you need to continue.",
          "name" : "Resolving the Parameters of an Intent",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/resolving-the-parameters-of-an-intent"
        },
        {
          "description" : "Generate ride options for Maps to display to the user.",
          "name" : "Generating a List of Ride Options",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/generating-a-list-of-ride-options"
        },
        {
          "description" : "Support the different intent-handling sequences for booking rides with Shortcuts or Maps.",
          "name" : "Handling the Ride-Booking Intents",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/handling-the-ride-booking-intents"
        },
        {
          "description" : "Inform Siri of reservations made from your app.",
          "name" : "Donating Reservations",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/donating-reservations"
        },
        {
          "description" : "Provide alternative names for your app that are more familiar or easier for users to speak.",
          "name" : "Specifying Synonyms for Your App Name",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/specifying-synonyms-for-your-app-name"
        },
        {
          "description" : "The keys that you include in your global vocabulary file to show how users engage your app from Siri.",
          "name" : "Intent Phrases",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/intent-phrases"
        },
        {
          "description" : "Apply emphasis markers to your pronunciation tips to assist Siri with Chinese dialects.",
          "name" : "Localizing Your Vocabulary for Chinese Dialects",
          "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/localizing-your-vocabulary-for-chinese-dialects"
        }
      ],
      "title" : "Articles"
    }
  ],
  "source" : "appleJSON",
  "title" : "Improving Siri Media Interactions and App Selection",
  "url" : "https:\/\/developer.apple.com\/documentation\/SiriKit\/improving-siri-media-interactions-and-app-selection"
}