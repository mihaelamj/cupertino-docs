{
  "abstract" : "A reference to a captured portion of a regular expression.",
  "codeExamples" : [
    {
      "code" : "let kindRef = Reference(Substring.self)\nlet kindRegex = ChoiceOf {\n    \"CREDIT\"\n    \"DEBIT\"\n}\n\nlet transactionRegex = Regex {\n    Anchor.startOfLine\n    Capture(kindRegex, as: kindRef)\n    OneOrMore(.anyNonNewline)\n    kindRef\n    Anchor.endOfLine\n}\n\nlet validTransaction = \"CREDIT     109912311421    Payroll   $69.73  CREDIT\"\nlet invalidTransaction = \"DEBIT     00522142123    Expense   $5.17  CREDIT\"\n\nprint(validTransaction.contains(transactionRegex))\n\/\/ Prints \"true\"\nprint(invalidTransaction.contains(transactionRegex))\n\/\/ Prints \"false\"",
      "language" : "swift"
    },
    {
      "code" : "if let match = validTransaction.firstMatch(of: transactionRegex) {\n    print(match[kindRef])\n}\n\/\/ Prints \"CREDIT\"",
      "language" : "swift"
    },
    {
      "code" : "struct Transaction {\n    var id: UInt64\n}\nlet transactionRef = Reference(Transaction.self)\n\nlet transactionIDRegex = Regex {\n    Capture(kindRegex, as: kindRef)\n    OneOrMore(.whitespace)\n    TryCapture(as: transactionRef) {\n        OneOrMore(.digit)\n    } transform: { str in\n        UInt64(str).map(Transaction.init(id:))\n    }\n    OneOrMore(.anyNonNewline)\n    kindRef\n    Anchor.endOfLine\n}\n\nif let match = validTransaction.firstMatch(of: transactionIDRegex) {\n    print(match[transactionRef])\n}\n\/\/ Prints \"Transaction(id: 109912311421)\"",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "RegexComponent"
  ],
  "contentHash" : "55b5510752ba2621eb9c99143baf16b311f4160ed28d60fab3db5419ef6a7321",
  "crawledAt" : "2025-12-01T21:38:05Z",
  "declaration" : {
    "code" : "struct Reference<Capture>",
    "language" : "swift"
  },
  "id" : "9BD0D855-BEDD-4987-9665-F05C75B7F768",
  "kind" : "struct",
  "module" : "RegexBuilder",
  "overview" : "## Overview\n\nYou can use a `Reference` to access a regular expression, both during the matching process and after a capture has been successful.\n\nIn this example, the `kind` reference captures either `\"CREDIT\"` or `\"DEBIT\"` at the beginning of a line. Later in the regular expression, the presence of `kind` matches the same substring that was captured previously at the end of the line.\n\nAny reference that is used for matching must be captured elsewhere in the `Regex` block. You can use a reference for matching before it is captured; in that case, the reference will not match until it has previously been captured.\n\nTo access the captured “transaction kind”, you can use the `kind` reference to subscript a `Regex.Match` instance:\n\nTo use a `Reference` to capture a transformed value, include a `transform` closure when capturing.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RegexBuilder\/Reference\ncrawled: 2025-12-01T21:38:05Z\n---\n\n# Reference\n\n**Structure**\n\nA reference to a captured portion of a regular expression.\n\n## Declaration\n\n```swift\nstruct Reference<Capture>\n```\n\n## Overview\n\nYou can use a `Reference` to access a regular expression, both during the matching process and after a capture has been successful.\n\nIn this example, the `kind` reference captures either `\"CREDIT\"` or `\"DEBIT\"` at the beginning of a line. Later in the regular expression, the presence of `kind` matches the same substring that was captured previously at the end of the line.\n\n```swift\nlet kindRef = Reference(Substring.self)\nlet kindRegex = ChoiceOf {\n    \"CREDIT\"\n    \"DEBIT\"\n}\n\nlet transactionRegex = Regex {\n    Anchor.startOfLine\n    Capture(kindRegex, as: kindRef)\n    OneOrMore(.anyNonNewline)\n    kindRef\n    Anchor.endOfLine\n}\n\nlet validTransaction = \"CREDIT     109912311421    Payroll   $69.73  CREDIT\"\nlet invalidTransaction = \"DEBIT     00522142123    Expense   $5.17  CREDIT\"\n\nprint(validTransaction.contains(transactionRegex))\n\/\/ Prints \"true\"\nprint(invalidTransaction.contains(transactionRegex))\n\/\/ Prints \"false\"\n```\n\nAny reference that is used for matching must be captured elsewhere in the `Regex` block. You can use a reference for matching before it is captured; in that case, the reference will not match until it has previously been captured.\n\nTo access the captured “transaction kind”, you can use the `kind` reference to subscript a `Regex.Match` instance:\n\n```swift\nif let match = validTransaction.firstMatch(of: transactionRegex) {\n    print(match[kindRef])\n}\n\/\/ Prints \"CREDIT\"\n```\n\nTo use a `Reference` to capture a transformed value, include a `transform` closure when capturing.\n\n```swift\nstruct Transaction {\n    var id: UInt64\n}\nlet transactionRef = Reference(Transaction.self)\n\nlet transactionIDRegex = Regex {\n    Capture(kindRegex, as: kindRef)\n    OneOrMore(.whitespace)\n    TryCapture(as: transactionRef) {\n        OneOrMore(.digit)\n    } transform: { str in\n        UInt64(str).map(Transaction.init(id:))\n    }\n    OneOrMore(.anyNonNewline)\n    kindRef\n    Anchor.endOfLine\n}\n\nif let match = validTransaction.firstMatch(of: transactionIDRegex) {\n    print(match[transactionRef])\n}\n\/\/ Prints \"Transaction(id: 109912311421)\"\n```\n\n## Initializers\n\n- **init(_:)**: Creates a reference with the specified capture type.\n\n## Captures\n\n- **Capture**: A regex component that saves the matched substring, or a transformed result, for access in a regex match.\n- **TryCapture**: A regex component that attempts to transform a matched substring, saving the result if successful and backtracking if the transformation fails.\n\n## Conforms To\n\n- RegexComponent\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a reference with the specified capture type.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RegexBuilder\/Reference\/init(_:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A regex component that saves the matched substring, or a transformed result, for access in a regex match.",
          "name" : "Capture",
          "url" : "https:\/\/developer.apple.com\/documentation\/RegexBuilder\/Capture"
        },
        {
          "description" : "A regex component that attempts to transform a matched substring, saving the result if successful and backtracking if the transformation fails.",
          "name" : "TryCapture",
          "url" : "https:\/\/developer.apple.com\/documentation\/RegexBuilder\/TryCapture"
        }
      ],
      "title" : "Captures"
    }
  ],
  "source" : "appleJSON",
  "title" : "Reference",
  "url" : "https:\/\/developer.apple.com\/documentation\/RegexBuilder\/Reference"
}