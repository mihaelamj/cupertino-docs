{
  "abstract" : "Creates a generic interrupt controller (GIC) v3 device for a VM configuration.",
  "codeExamples" : [

  ],
  "contentHash" : "531a2c2d561ecdf6149c16b776551f812aae14431fcc01be6ca5edae2ee2d046",
  "crawledAt" : "2025-12-05T18:30:09Z",
  "declaration" : {
    "code" : "func hv_gic_create(_ gic_config: hv_gic_config_t) -> hv_return_t",
    "language" : "swift"
  },
  "id" : "A5BE9008-BCA8-4D32-90B2-03BDA50120B8",
  "kind" : "function",
  "language" : "swift",
  "module" : "Hypervisor",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_SUCCESS] on success, an error code otherwise.\n\n## Discussion\n\nUse this method to create an [https:\/\/developer.arm.com\/documentation\/ihi0069\/latest\/] device. The framework supports a maximum of one instance of this device per VM. The device supports a distributor, redistributors, MSIs, and GIC CPU system registers.\n\nWhen EL2 is enabled, the device supports GIC hypervisor control registers which the guest hypervisor uses to inject interrupts to its guest. The framework doesn’t support the Hypervisor’s vCPU get or set interrupt functions for injecting interrupts to a nested guest.\n\nGIC v3 uses affinity based interrupt routing. vCPUs must set affinity values in their `MPIDR_EL1` register. When the virtual machine vCPUs are running, the framework considers its topology final. Destroy vCPUs only when you’re tearing down the virtual machine.\n\nHypervisor only provides GIC MSI support when you’ve both configured an MSI region base address and set an MSI interrupt range.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_gic_create(_:)\ncrawled: 2025-12-05T18:30:09Z\n---\n\n# hv_gic_create(_:)\n\n**Function**\n\nCreates a generic interrupt controller (GIC) v3 device for a VM configuration.\n\n## Declaration\n\n```swift\nfunc hv_gic_create(_ gic_config: hv_gic_config_t) -> hv_return_t\n```\n\n## Parameters\n\n- **gic_config**: A GIC configuration object.\n\n## Return Value\n\n[doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_SUCCESS] on success, an error code otherwise.\n\n## Discussion\n\n\n\nUse this method to create an [https:\/\/developer.arm.com\/documentation\/ihi0069\/latest\/] device. The framework supports a maximum of one instance of this device per VM. The device supports a distributor, redistributors, MSIs, and GIC CPU system registers.\n\nWhen EL2 is enabled, the device supports GIC hypervisor control registers which the guest hypervisor uses to inject interrupts to its guest. The framework doesn’t support the Hypervisor’s vCPU get or set interrupt functions for injecting interrupts to a nested guest.\n\nGIC v3 uses affinity based interrupt routing. vCPUs must set affinity values in their `MPIDR_EL1` register. When the virtual machine vCPUs are running, the framework considers its topology final. Destroy vCPUs only when you’re tearing down the virtual machine.\n\nHypervisor only provides GIC MSI support when you’ve both configured an MSI region base address and set an MSI interrupt range.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "hv_gic_create(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_gic_create(_:)"
}