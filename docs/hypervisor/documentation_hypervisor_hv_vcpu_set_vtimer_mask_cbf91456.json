{
  "abstract" : "Sets or clears the virtual timer mask.",
  "codeExamples" : [

  ],
  "contentHash" : "75878d7ac4b8a40de42deda80fab36281b8e7bb465d2249b7d4c0e8948db31d4",
  "crawledAt" : "2025-12-04T10:47:54Z",
  "declaration" : {
    "code" : "func hv_vcpu_set_vtimer_mask(_ vcpu: hv_vcpu_t, _ vtimer_is_masked: Bool) -> hv_return_t",
    "language" : "swift"
  },
  "id" : "1E5C738A-4E13-4A19-ABCF-908AE5119BD6",
  "kind" : "function",
  "language" : "swift",
  "module" : "Hypervisor",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_SUCCESS] if the operation was successful, otherwise an error code specified in [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/hv_return_t].\n\n## Discussion\n\nAfter [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/hv_vcpu_run(_:)] returns with the exit reason `HV_EXIT_REASON_VTIMER_ACTIVATED`, the timer is masked automatically.\n\nThe vCPU won’t exit with this reason again until the mask is cleared even when calling hv_vcpu_run() with the vTimer interrupt in a pending state.\n\nAfter receiving a [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_EXIT_REASON_VTIMER_ACTIVATED] exit reason, the caller of `hv_vcpu_run`() needs to make the interrupts to the vTimer pending in the guest’s virtual interrupt controller. It also needs to detect when the guest has serviced this interrupt. For example, call this function when emulating a GIC when deactivating an interrupt whose ID matches that of the vTimer.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vcpu_set_vtimer_mask(_:_:)\ncrawled: 2025-12-04T10:47:54Z\n---\n\n# hv_vcpu_set_vtimer_mask(_:_:)\n\n**Function**\n\nSets or clears the virtual timer mask.\n\n## Declaration\n\n```swift\nfunc hv_vcpu_set_vtimer_mask(_ vcpu: hv_vcpu_t, _ vtimer_is_masked: Bool) -> hv_return_t\n```\n\n## Parameters\n\n- **vcpu**: The ID of the vCPU instance.\n- **vtimer_is_masked**: A Boolean value that indicates whether the vTimer has a mask set.\n\n## Return Value\n\n[doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_SUCCESS] if the operation was successful, otherwise an error code specified in [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/hv_return_t].\n\n## Discussion\n\nAfter [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/hv_vcpu_run(_:)] returns with the exit reason `HV_EXIT_REASON_VTIMER_ACTIVATED`, the timer is masked automatically.\n\nThe vCPU won’t exit with this reason again until the mask is cleared even when calling hv_vcpu_run() with the vTimer interrupt in a pending state.\n\nAfter receiving a [doc:\/\/com.apple.hypervisor\/documentation\/Hypervisor\/HV_EXIT_REASON_VTIMER_ACTIVATED] exit reason, the caller of `hv_vcpu_run`() needs to make the interrupts to the vTimer pending in the guest’s virtual interrupt controller. It also needs to detect when the guest has serviced this interrupt. For example, call this function when emulating a GIC when deactivating an interrupt whose ID matches that of the vTimer.\n\n## Timer functions\n\n- **hv_vcpu_get_vtimer_mask(_:_:)**: Gets the virtual timer mask.\n- **hv_vcpu_get_vtimer_offset(_:_:)**: Returns the vTimer offset for the vCPU ID you specify.\n- **hv_vcpu_set_vtimer_offset(_:_:)**: Sets the vTimer offset to a value that you provide.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Gets the virtual timer mask.",
          "name" : "hv_vcpu_get_vtimer_mask(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vcpu_get_vtimer_mask(_:_:)"
        },
        {
          "description" : "Returns the vTimer offset for the vCPU ID you specify.",
          "name" : "hv_vcpu_get_vtimer_offset(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vcpu_get_vtimer_offset(_:_:)"
        },
        {
          "description" : "Sets the vTimer offset to a value that you provide.",
          "name" : "hv_vcpu_set_vtimer_offset(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vcpu_set_vtimer_offset(_:_:)"
        }
      ],
      "title" : "Timer functions"
    }
  ],
  "source" : "appleJSON",
  "title" : "hv_vcpu_set_vtimer_mask(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vcpu_set_vtimer_mask(_:_:)"
}