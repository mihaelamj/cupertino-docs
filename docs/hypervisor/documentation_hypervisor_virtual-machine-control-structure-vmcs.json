{
  "abstract" : "Read and write to fields of the virtual machine control structure.",
  "codeExamples" : [

  ],
  "contentHash" : "ee093cd9773fbd98142785243be2db649cc05794e4f17b2238aa21afea471e49",
  "crawledAt" : "2025-12-04T09:17:41Z",
  "id" : "06865661-AC9B-4132-A7D5-520FAD5BC99B",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Hypervisor",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Hypervisor\/virtual-machine-control-structure-vmcs\ncrawled: 2025-12-04T09:17:41Z\n---\n\n# Virtual Machine Control Structure (VMCS)\n\n**API Collection**\n\nRead and write to fields of the virtual machine control structure.\n\n## Capabilities\n\n- **hv_vmx_read_capability(_:_:)**: Returns, by reference, the VMX virtualization capabilities of the host processor.\n- **hv_vmx_get_msr_info(_:_:)**: Returns information about guest MSR configuration.\n- **hv_vmx_capability_t**: The type that describes Virtual Machine Extensions (VMX) capability fields.\n- **VMX Capabilities**: An enumeration that represents the available VMX capabilities.\n- **hv_vmx_msr_info_t**: The type that describes Move to Status Register (MSR) information fields.\n- **MSR Information Fields**: The type that describes Machine Specific Register (MSR) fields.\n\n## Field management\n\n- **Virtual Machine Control Structure (VMCS) Field IDs**: Fields you can read or change using the Hypervisor framework’s read and write functions.\n- **hv_vmx_vcpu_read_vmcs(_:_:_:)**: Returns, by reference, the current value of a virtual machine control structure (VMCS) field of a vCPU.\n- **hv_vmx_vcpu_write_vmcs(_:_:_:)**: Sets the value of a virtual machine control structure (VMCS) field of a vCPU.\n- **hv_vmx_vcpu_get_cap_write_vmcs(_:_:_:_:)**: Returns the allowed_0 and allowed_1 masks for a VMCS field of a vCPU.\n- **hv_vmx_vcpu_set_apic_address(_:_:)**: Sets the address of the guest Advanced Programmable Interrupt Controller (APIC) for a vCPU in the guest physical address space of the VM.\n- **Virtual Machine control structure (VMCS) Field IDs**: Identify the fields of the virtual machine control structure.\n\n## Shadow fields\n\n- **hv_vmx_vcpu_read_shadow_vmcs(_:_:_:)**: Returns the current value of a shadow VMCS field of a vCPU.\n- **hv_vmx_vcpu_set_shadow_access(_:_:_:)**: Set the access permissions of a shadow VMCS field of a vCPU.\n- **hv_vmx_vcpu_write_shadow_vmcs(_:_:_:)**: Set the value of a shadow VMCS field of a vCPU.\n- **hv_shadow_flags_t**: Shadow VMCS permissions for the set shadow access function.\n- **Shadow Permissions**: Permissions that define access to the shadow VMCS fields.\n\n## Shared types\n\n- **VMX Creation Behavior**: An enumeration that describes VMX creation behavior options.\n- **VMX Exit Reasons**: An enumertion that describes the VMX exit reasons.\n- **Interrupt request (IRQ) codes**: An enumeration that describes available interrupt codes.\n\n## Resource management\n\n- **vCPU Management**: Create and run virtual CPUs, and manage CPU-specific registers and features.\n- **Memory Management**: Map memory into the physical address space of the virtual machine, and allocate additional memory for the current task.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns, by reference, the VMX virtualization capabilities of the host processor.",
          "name" : "hv_vmx_read_capability(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_read_capability(_:_:)"
        },
        {
          "description" : "Returns information about guest MSR configuration.",
          "name" : "hv_vmx_get_msr_info(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_get_msr_info(_:_:)"
        },
        {
          "description" : "The type that describes Virtual Machine Extensions (VMX) capability fields.",
          "name" : "hv_vmx_capability_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_capability_t"
        },
        {
          "description" : "An enumeration that represents the available VMX capabilities.",
          "name" : "VMX Capabilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/1469645-vmx-capabilities"
        },
        {
          "description" : "The type that describes Move to Status Register (MSR) information fields.",
          "name" : "hv_vmx_msr_info_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_msr_info_t"
        },
        {
          "description" : "The type that describes Machine Specific Register (MSR) fields.",
          "name" : "MSR Information Fields",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/3567084-msr-information-fields"
        }
      ],
      "title" : "Capabilities"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Fields you can read or change using the Hypervisor framework’s read and write functions.",
          "name" : "Virtual Machine Control Structure (VMCS) Field IDs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/virtual-machine-control-structure-vmcs-field-ids"
        },
        {
          "description" : "Returns, by reference, the current value of a virtual machine control structure (VMCS) field of a vCPU.",
          "name" : "hv_vmx_vcpu_read_vmcs(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_read_vmcs(_:_:_:)"
        },
        {
          "description" : "Sets the value of a virtual machine control structure (VMCS) field of a vCPU.",
          "name" : "hv_vmx_vcpu_write_vmcs(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_write_vmcs(_:_:_:)"
        },
        {
          "description" : "Returns the allowed_0 and allowed_1 masks for a VMCS field of a vCPU.",
          "name" : "hv_vmx_vcpu_get_cap_write_vmcs(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_get_cap_write_vmcs(_:_:_:_:)"
        },
        {
          "description" : "Sets the address of the guest Advanced Programmable Interrupt Controller (APIC) for a vCPU in the guest physical address space of the VM.",
          "name" : "hv_vmx_vcpu_set_apic_address(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_set_apic_address(_:_:)"
        },
        {
          "description" : "Identify the fields of the virtual machine control structure.",
          "name" : "Virtual Machine control structure (VMCS) Field IDs",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/1469436-virtual_machine_control_structur-enum"
        }
      ],
      "title" : "Field management"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the current value of a shadow VMCS field of a vCPU.",
          "name" : "hv_vmx_vcpu_read_shadow_vmcs(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_read_shadow_vmcs(_:_:_:)"
        },
        {
          "description" : "Set the access permissions of a shadow VMCS field of a vCPU.",
          "name" : "hv_vmx_vcpu_set_shadow_access(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_set_shadow_access(_:_:_:)"
        },
        {
          "description" : "Set the value of a shadow VMCS field of a vCPU.",
          "name" : "hv_vmx_vcpu_write_shadow_vmcs(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_vmx_vcpu_write_shadow_vmcs(_:_:_:)"
        },
        {
          "description" : "Shadow VMCS permissions for the set shadow access function.",
          "name" : "hv_shadow_flags_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/hv_shadow_flags_t"
        },
        {
          "description" : "Permissions that define access to the shadow VMCS fields.",
          "name" : "Shadow Permissions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/3567083-shadow_permissions-enum"
        }
      ],
      "title" : "Shadow fields"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An enumeration that describes VMX creation behavior options.",
          "name" : "VMX Creation Behavior",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/1469509-vmx_creation_behavior-enum"
        },
        {
          "description" : "An enumertion that describes the VMX exit reasons.",
          "name" : "VMX Exit Reasons",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/1469470-vmx-exit-reasons"
        },
        {
          "description" : "An enumeration that describes available interrupt codes.",
          "name" : "Interrupt request (IRQ) codes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/1469442-interrupt_request_irq_codes-enum"
        }
      ],
      "title" : "Shared types"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create and run virtual CPUs, and manage CPU-specific registers and features.",
          "name" : "vCPU Management",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/intel-based_mac-vcpu-management"
        },
        {
          "description" : "Map memory into the physical address space of the virtual machine, and allocate additional memory for the current task.",
          "name" : "Memory Management",
          "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/intel-based_mac-memory-management"
        }
      ],
      "title" : "Resource management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Virtual Machine Control Structure (VMCS)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Hypervisor\/virtual-machine-control-structure-vmcs"
}