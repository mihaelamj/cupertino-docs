{
  "abstract" : "Set up your app to play haptics.",
  "codeExamples" : [

  ],
  "contentHash" : "ab76f62da0a77fca8f8fb33152d8586efde5a41bafb94958ab57df39158748a5",
  "crawledAt" : "2025-12-03T05:03:12Z",
  "id" : "35317BFC-3C08-4A2F-B75B-052FD843A19C",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core Haptics",
  "overview" : "## Overview\n\nThis article describes the process of setting up your app to play haptics. You’ll check for device compatibility, create a haptic engine, and then configure the engine’s handler properties.\n\n### Check for device compatibility\n\nBefore you create and configure a haptic engine, check the hardware capabilities to see what type of feedback the device supports. Some devices don’t support haptic feedback, including iPad, iPod touch, and Apple Vision Pro. Checking the hardware capabilities lets you adjust your app’s behavior to provide alternative types of feedback as needed. For example, you might play stronger audio or multimedia, or you might provide visual feedback instead.\n\nThe following example fetches the hardware capabilities and checks the value of the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticDeviceCapability\/supportsHaptics] property to determine whether haptic feedback is available. The app then saves the result to a variable, which it uses later to determine what type of feedback to provide.\n\nFor an example of conditioning haptic playback, see [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/playing-a-custom-haptic-pattern-from-a-file].\n\n### Create a haptic engine\n\nThe [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine] is your app’s interface to the haptic device. Use an instance of a haptic engine to perform these key tasks:\n\nCreate this engine early in your app’s life cycle—for example, in your main view controller’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIViewController\/viewDidLoad()]—and store it in an instance variable or property so it doesn’t go out of scope during playback.\n\n### Set the reset handler to recover from failure\n\nCore Haptics calls the reset handler after the media server has recovered from failure. When this occurs, inside the reset handler, your app should do the following:\n\nYour app could attempt to restart the engine inside the handler, allowing it to recover on its own. However, as shown in the code listing above, a restart may still fail if the external reason for the reset hasn’t subsided.\n\n### Receive notification of haptic engine stoppage due to outside causes\n\nWhen external factors cause the haptic engine to stop, like audio interruptions from a phone call or because the user has put your app in the background, Core Haptics calls the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/stoppedHandler-swift.property]. The reason for the stoppage is passed into the handler. Because stopping is a normal part of the life cycle, you need to restart the engine before it can play the next haptic.\n\nAs you’re testing your app, set the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/stoppedHandler-swift.property] to debug the precise cause of the engine stoppage, as shown below.\n\nIn production, your app can handle each cause in a different way. For example, you could handle the case [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/StoppedReason\/systemError] by continuing the app without haptics, or by throwing a fatal error to terminate the app.\n\n### Define and play haptics\n\nOnce you’ve set up your app to play haptics, you can incorporate haptic patterns. See:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreHaptics\/preparing-your-app-to-play-haptics\ncrawled: 2025-12-03T05:03:12Z\n---\n\n# Preparing your app to play haptics\n\n**Article**\n\nSet up your app to play haptics.\n\n## Overview\n\nThis article describes the process of setting up your app to play haptics. You’ll check for device compatibility, create a haptic engine, and then configure the engine’s handler properties.\n\n\n\n### Check for device compatibility\n\nBefore you create and configure a haptic engine, check the hardware capabilities to see what type of feedback the device supports. Some devices don’t support haptic feedback, including iPad, iPod touch, and Apple Vision Pro. Checking the hardware capabilities lets you adjust your app’s behavior to provide alternative types of feedback as needed. For example, you might play stronger audio or multimedia, or you might provide visual feedback instead.\n\nThe following example fetches the hardware capabilities and checks the value of the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticDeviceCapability\/supportsHaptics] property to determine whether haptic feedback is available. The app then saves the result to a variable, which it uses later to determine what type of feedback to provide.\n\n\n\nFor an example of conditioning haptic playback, see [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/playing-a-custom-haptic-pattern-from-a-file].\n\n### Create a haptic engine\n\nThe [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine] is your app’s interface to the haptic device. Use an instance of a haptic engine to perform these key tasks:\n\n- Create players to play those haptic and audio patterns.\n- Play haptic patterns directly from a file URL.\n- Modulate haptic patterns during playback.\n\nCreate this engine early in your app’s life cycle—for example, in your main view controller’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIViewController\/viewDidLoad()]—and store it in an instance variable or property so it doesn’t go out of scope during playback.\n\n\n\n\n\n### Set the reset handler to recover from failure\n\nCore Haptics calls the reset handler after the media server has recovered from failure. When this occurs, inside the reset handler, your app should do the following:\n\n- Restart the haptic engine, if it was running at the time reset happened, by calling [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/start()].\n- Reregister any custom audio resources you had registered, using [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/registerAudioResource(_:options:)].\n- Recreate all haptic pattern players you had created, using [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/makePlayer(with:)].\n\n\n\nYour app could attempt to restart the engine inside the handler, allowing it to recover on its own. However, as shown in the code listing above, a restart may still fail if the external reason for the reset hasn’t subsided.\n\n### Receive notification of haptic engine stoppage due to outside causes\n\nWhen external factors cause the haptic engine to stop, like audio interruptions from a phone call or because the user has put your app in the background, Core Haptics calls the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/stoppedHandler-swift.property]. The reason for the stoppage is passed into the handler. Because stopping is a normal part of the life cycle, you need to restart the engine before it can play the next haptic.\n\nAs you’re testing your app, set the [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/stoppedHandler-swift.property] to debug the precise cause of the engine stoppage, as shown below.\n\n\n\nIn production, your app can handle each cause in a different way. For example, you could handle the case [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/CHHapticEngine\/StoppedReason\/systemError] by continuing the app without haptics, or by throwing a fatal error to terminate the app.\n\n\n\n### Define and play haptics\n\nOnce you’ve set up your app to play haptics, you can incorporate haptic patterns. See:\n\n- Simple haptic patterns defined inline as dictionaries: [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/playing-a-single-tap-haptic-pattern]\n- Custom file-based haptic patterns: [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/playing-a-custom-haptic-pattern-from-a-file]\n- Programmatic haptics tied to real-time physics: [doc:\/\/com.apple.corehaptics\/documentation\/CoreHaptics\/playing-collision-based-haptic-patterns]\n\n## Essentials\n\n- **Playing a single-tap haptic pattern**: Create and play a transient haptic pattern from a dictionary literal inline.\n- **CHHapticEngine**: An object that represents the connection to the haptic server.\n- **CHHapticPattern**: An object representing a haptic waveform.\n- **CHHapticPatternPlayer**: A protocol that defines a standard pattern player capable of playing haptic patterns with fixed parameters.\n- **CHHapticAdvancedPatternPlayer**: A protocol that defines an advanced pattern player capable of looping, seeking, pausing, and resuming haptic playback.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create and play a transient haptic pattern from a dictionary literal inline.",
          "name" : "Playing a single-tap haptic pattern",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/playing-a-single-tap-haptic-pattern"
        },
        {
          "description" : "An object that represents the connection to the haptic server.",
          "name" : "CHHapticEngine",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/CHHapticEngine"
        },
        {
          "description" : "An object representing a haptic waveform.",
          "name" : "CHHapticPattern",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/CHHapticPattern"
        },
        {
          "description" : "A protocol that defines a standard pattern player capable of playing haptic patterns with fixed parameters.",
          "name" : "CHHapticPatternPlayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/CHHapticPatternPlayer"
        },
        {
          "description" : "A protocol that defines an advanced pattern player capable of looping, seeking, pausing, and resuming haptic playback.",
          "name" : "CHHapticAdvancedPatternPlayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/CHHapticAdvancedPatternPlayer"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Preparing your app to play haptics",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreHaptics\/preparing-your-app-to-play-haptics"
}