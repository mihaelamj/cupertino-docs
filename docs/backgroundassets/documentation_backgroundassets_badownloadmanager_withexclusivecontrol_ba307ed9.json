{
  "abstract" : "Attempts to acquire immediate, exclusive access to the download manager.",
  "codeExamples" : [
    {
      "code" : "let manager = BADownloadManager.shared\n\n\/\/ Attempt to acquire exclusive access of the download manager.\nmanager.withExclusiveControl { error in\n    \/\/ Return immediately if the attempt fails.\n    if let error {\n        print(error.localizedDescription)\n        return\n    }\n    \n    \/\/ Perform the work that requires exclusive access.\n    \/\/ Return and yield control to the system.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "3ac3f3443da543355431abc2a9d57191edadcef40488b3e0b9f1887156e7fe73",
  "crawledAt" : "2025-12-03T09:30:46Z",
  "declaration" : {
    "code" : "func withExclusiveControl(_ performHandler: @escaping (Bool, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "62B8E019-4B32-4D8D-9526-0BD11546C119",
  "kind" : "method",
  "language" : "swift",
  "module" : "Background Assets",
  "overview" : "## Discussion\n\nThe handler takes the following parameter:\n\nTo prevent race conditions, always acquire exclusive control of the download manager before you schedule new assets downloads, or fetch or cancel existing downloads. Because the handler yields control as soon as it returns, complete all work that depends on exclusivity in the handler’s body.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/backgroundassets\/badownloadmanager\/withexclusivecontrol(_:)\ncrawled: 2025-12-03T09:30:46Z\n---\n\n# withExclusiveControl(_:)\n\n**Instance Method**\n\nAttempts to acquire immediate, exclusive access to the download manager.\n\n## Declaration\n\n```swift\nfunc withExclusiveControl(_ performHandler: @escaping (Bool, (any Error)?) -> Void)\n```\n\n## Parameters\n\n- **performHandler**: The handler that performs the work requiring exclusive access to the download manager, which the system executes on an arbitrary queue.\n\n## Discussion\n\nThe handler takes the following parameter:\n\n- An error if a problems occurs, or `nil` if the method successfully acquires exclusive access.\n\nTo prevent race conditions, always acquire exclusive control of the download manager before you schedule new assets downloads, or fetch or cancel existing downloads. Because the handler yields control as soon as it returns, complete all work that depends on exclusivity in the handler’s body.\n\n```swift\nlet manager = BADownloadManager.shared\n\n\/\/ Attempt to acquire exclusive access of the download manager.\nmanager.withExclusiveControl { error in\n    \/\/ Return immediately if the attempt fails.\n    if let error {\n        print(error.localizedDescription)\n        return\n    }\n    \n    \/\/ Perform the work that requires exclusive access.\n    \/\/ Return and yield control to the system.\n}\n```\n\n## Synchronizing manager access\n\n- **withExclusiveControl(beforeDate:perform:)**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "withExclusiveControl(beforeDate:perform:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/BackgroundAssets\/BADownloadManager\/withExclusiveControl(beforeDate:perform:)"
        }
      ],
      "title" : "Synchronizing manager access"
    }
  ],
  "source" : "appleJSON",
  "title" : "withExclusiveControl(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/backgroundassets\/badownloadmanager\/withexclusivecontrol(_:)"
}