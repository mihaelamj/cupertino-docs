{
  "abstract" : "Test your system-managed asset packs using a mock server on your Mac.",
  "codeExamples" : [
    {
      "code" : "xcrun ba-serve --host localhost Tutorial.aar HighQualityTextures.aar",
      "language" : "sh"
    },
    {
      "code" : "xcrun ba-serve url-override [Base URL]",
      "language" : "sh"
    }
  ],
  "contentHash" : "7d87716ae794e77f2449a70c3a7d06f65e26f4c260b993cc6934cafb9cc394a3",
  "crawledAt" : "2025-12-03T04:10:01Z",
  "id" : "1B7A6DF5-B914-444E-9DCC-5D1FF52C4C0E",
  "kind" : "article",
  "language" : "swift",
  "module" : "Background Assets",
  "overview" : "## Overview\n\nBefore you submit your asset packs to TestFlight or the App Store, you can use a mock server to test downloading asset packs and accessing files locally.\n\nBackground Assets uses HTTPS for all downloads, so you need an SSL certificate for the mock server to use. If you don’t have access to a publicly trusted certificate authority (CA), then you can create your own root CA, manually trust it on your test devices, and use it to issue an SSL certificate.\n\nTo create Apple-hosted asset packs that specify a download policy, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/creating-managed-asset-packs]. To add an Apple-Hosted Background Assets downloader extension to your app, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/downloading-apple-hosted-asset-packs].\n\n### Create a root CA\n\nYou create a root CA on your Mac using Keychain Access. To quickly open Keychain Access, search for Keychain Access in Spotlight and press Return. Then follow these steps to create a self-signed certificate:\n\n\n\nIn Keychain Access, select the “login” keychain in the sidebar and click the Certificates tab (not the My Certificates tab). Control-click on your new CA and select Export *Certificate Name*. In the dialog that appears, choose Certificate (`.cer`) as the file format, select a location to save the exported certificate, and click Save.\n\nFor more information on creating certificate authorities, see [https:\/\/support.apple.com\/guide\/keychain-access].\n\n### Install the CA on test devices using a profile\n\nFirst you create a profile containing the CA, and then you install and trust the profile on test devices.\n\nTo create the profile, download [https:\/\/apps.apple.com\/us\/app\/apple-configurator\/id1037126344] from the App Store. Then, open Apple Configurator and choose File > New Profile in the menu bar or press Command-N. In the window that appears, follow these steps:\n\nTo install the profile on test devices, see [https:\/\/support.apple.com\/en-us\/102400]. To install the profile on macOS devices, see [https:\/\/support.apple.com\/guide\/mac-help\/configuration-profiles-standardize-settings-mh35561\/mac].\n\nTo trust the CA on test devices, see [https:\/\/support.apple.com\/en-us\/102390].\n\nTo trust the CA on macOS, open Keychain Access, select the “login” keychain in the sidebar, click the Certificates tab, Control-click your root CA, and choose Get Info. In the window that appears, expand the Trust section and select Always Trust. If necessary, authenticate yourself.\n\n### Issue an SSL certificate\n\nIn Keychain Access on your Mac, choose Keychain Access > Certificate Assistant > Create a Certificate. In the Certificate Assistant window that appears, follow these steps:\n\n### Start the mock server with the SSL certificate\n\nIn Terminal, start the mock server with the `--host` flag set to the same IP address, hostname, or domain name that you used when issuing your SSL certificate, and pass the paths to the asset packs (files with a `.aar` filename extension) that you want to host:\n\nIn the Choose An Identity window that appears, select your SSL certificate (not your root CA) and click Choose. If necessary, authenticate with your password.\n\nTo create asset pack archives, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/creating-managed-asset-packs].\n\n### Configure a URL override in Developer settings\n\nEnable Developer Mode on all of your test devices (see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/enabling-developer-mode-on-a-device]).\n\nIn iOS, iPadOS, tvOS, and visionOS, go to Settings > Developer and click Development Overrides under Background Assets Testing. Under URL Override, enter your server’s base URL.\n\nIn macOS, install Xcode, and in Terminal, run the following command:\n\nInclude the HTTPS scheme in the base URL and omit the path. Now, when you build and run your app through Xcode, your app downloads its asset packs from the mock server.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/BackgroundAssets\/testing-asset-packs-locally\ncrawled: 2025-12-03T04:10:01Z\n---\n\n# Testing asset packs locally\n\n**Article**\n\nTest your system-managed asset packs using a mock server on your Mac.\n\n## Overview\n\nBefore you submit your asset packs to TestFlight or the App Store, you can use a mock server to test downloading asset packs and accessing files locally.\n\nBackground Assets uses HTTPS for all downloads, so you need an SSL certificate for the mock server to use. If you don’t have access to a publicly trusted certificate authority (CA), then you can create your own root CA, manually trust it on your test devices, and use it to issue an SSL certificate.\n\nTo create Apple-hosted asset packs that specify a download policy, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/creating-managed-asset-packs]. To add an Apple-Hosted Background Assets downloader extension to your app, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/downloading-apple-hosted-asset-packs].\n\n### Create a root CA\n\nYou create a root CA on your Mac using Keychain Access. To quickly open Keychain Access, search for Keychain Access in Spotlight and press Return. Then follow these steps to create a self-signed certificate:\n\n1. In Keychain Access, choose Keychain Access > Certificate Assistant > Create a Certificate Authority\n2. In the Create Your Certificate Authority sheet, enter a name for the root CA, choose Self Signed Root CA as the identity type, and select SSL Server for user certificate. Enable “Let me override defaults”, enter an email address, and click Continue.\n3. In the Certificate Information sheet, deselect “Sign your invitation” and click Continue.\n4. In the next Certificate Information sheet, optionally provide information about your organization, and then click Continue.\n5. In these following sheets, leave the default options with all the text fields blank and click Continue:\n\n- Key Pair Information For This CA\n- Specify Key Pair Information For Users of This CA\n- Key Usage Extension For This CA\n- Key Usage Extension For Users of This CA\n- Extended Key Usage Extension For This CA\n- Extended Key Usage Extension For Users Of This CA\n- Basic Constraints Extension For This CA\n- Basic Constraints Extension For Users Of This CA\n- Subject Alternate Name Extension For This CA\n- Subject Alternate Name Extension For Users Of This CA\n6. In the Specify a Location For The Certificate sheet, select “login” as the keychain, enable “On this machine, trust certificates signed by this CA,” and click Create.\n7. If necessary, authenticate with Touch ID, your Apple Watch, or your password.\n8. Review the information in the Conclusion sheet, and then close the Certificate Assistant window.\n\n\n\nIn Keychain Access, select the “login” keychain in the sidebar and click the Certificates tab (not the My Certificates tab). Control-click on your new CA and select Export *Certificate Name*. In the dialog that appears, choose Certificate (`.cer`) as the file format, select a location to save the exported certificate, and click Save.\n\nFor more information on creating certificate authorities, see [https:\/\/support.apple.com\/guide\/keychain-access].\n\n### Install the CA on test devices using a profile\n\nFirst you create a profile containing the CA, and then you install and trust the profile on test devices.\n\nTo create the profile, download [https:\/\/apps.apple.com\/us\/app\/apple-configurator\/id1037126344] from the App Store. Then, open Apple Configurator and choose File > New Profile in the menu bar or press Command-N. In the window that appears, follow these steps:\n\n1. In the General tab, enter a name and an ID for the profile.\n2. In the Certificates tab, click Configure.\n3. In the sheet that appears, select your exported CA and click Open.\n4. In Apple Configurator, choose File > Save.\n\nTo install the profile on test devices, see [https:\/\/support.apple.com\/en-us\/102400]. To install the profile on macOS devices, see [https:\/\/support.apple.com\/guide\/mac-help\/configuration-profiles-standardize-settings-mh35561\/mac].\n\nTo trust the CA on test devices, see [https:\/\/support.apple.com\/en-us\/102390].\n\nTo trust the CA on macOS, open Keychain Access, select the “login” keychain in the sidebar, click the Certificates tab, Control-click your root CA, and choose Get Info. In the window that appears, expand the Trust section and select Always Trust. If necessary, authenticate yourself.\n\n### Issue an SSL certificate\n\nIn Keychain Access on your Mac, choose Keychain Access > Certificate Assistant > Create a Certificate. In the Certificate Assistant window that appears, follow these steps:\n\n1. In the first sheet, enter this information and click Continue:\n\n- Set the name to the IP address, hostname, or domain name where you’re hosting the mock server.\n- Set the identity type to Leaf.\n- Set the certificate type to SSL Server.\n- Enable “Let me override defaults.”\n\n\n\n\n2. In the Certificate Information sheet, leave the default options and click Continue.\n3. In the next Certificate Information sheet, set the name (common name) to the same IP address, hostname, or domain name that you provided earlier. Optionally, provide information about your organization, and then click Continue.\n\n\n4. In the Choose An Issuer sheet, select your root CA as the issuer and click Continue.\n5. In these next sheets, just click Continue:\n\n- Key Pair Information\n- Key Usage Extension\n- Extended Key Usage Extension\n- Basic Constraints Extension\n6. In the Subject Alternate Name Extension sheet, either set dNSName to the hostname or domain name that you provided earlier or set iPAddress to the IP address that you provided earlier. Leave all other text fields blank and click Continue.\n\n\n\n\n7. In the Specify a Location For The Certificate sheet, select the “login” keychain and click Create.\n8. In the Conclusion sheet, click Done.\n\n### Start the mock server with the SSL certificate\n\nIn Terminal, start the mock server with the `--host` flag set to the same IP address, hostname, or domain name that you used when issuing your SSL certificate, and pass the paths to the asset packs (files with a `.aar` filename extension) that you want to host:\n\n```sh\nxcrun ba-serve --host localhost Tutorial.aar HighQualityTextures.aar\n```\n\nIn the Choose An Identity window that appears, select your SSL certificate (not your root CA) and click Choose. If necessary, authenticate with your password.\n\nTo create asset pack archives, see [doc:\/\/com.apple.backgroundassets\/documentation\/BackgroundAssets\/creating-managed-asset-packs].\n\n### Configure a URL override in Developer settings\n\nEnable Developer Mode on all of your test devices (see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/enabling-developer-mode-on-a-device]).\n\nIn iOS, iPadOS, tvOS, and visionOS, go to Settings > Developer and click Development Overrides under Background Assets Testing. Under URL Override, enter your server’s base URL.\n\nIn macOS, install Xcode, and in Terminal, run the following command:\n\n```sh\nxcrun ba-serve url-override [Base URL]\n```\n\nInclude the HTTPS scheme in the base URL and omit the path. Now, when you build and run your app through Xcode, your app downloads its asset packs from the mock server.\n\n## Essentials\n\n- **Creating managed asset packs**: Create managed asset packs, choose download options, and upload Apple-hosted asset packs  to App Store Connect.\n- **Downloading Apple-hosted asset packs**: Configure your project and write the code to download asset packs hosted by Apple.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create managed asset packs, choose download options, and upload Apple-hosted asset packs  to App Store Connect.",
          "name" : "Creating managed asset packs",
          "url" : "https:\/\/developer.apple.com\/documentation\/BackgroundAssets\/creating-managed-asset-packs"
        },
        {
          "description" : "Configure your project and write the code to download asset packs hosted by Apple.",
          "name" : "Downloading Apple-hosted asset packs",
          "url" : "https:\/\/developer.apple.com\/documentation\/BackgroundAssets\/downloading-apple-hosted-asset-packs"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Testing asset packs locally",
  "url" : "https:\/\/developer.apple.com\/documentation\/BackgroundAssets\/testing-asset-packs-locally"
}