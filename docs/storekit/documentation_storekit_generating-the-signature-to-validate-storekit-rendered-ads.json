{
  "abstract" : "Initiate install validation by displaying a StoreKit-rendered ad with signed parameters.",
  "codeExamples" : [
    {
      "code" : "\/\/ Parameter values combined, in order, for version 4 and later.\nversion + '\\u2063' + ad-network-id + '\\u2063' + source-identifier + '\\u2063' + itunes-item-id + '\\u2063' + nonce + '\\u2063' + source-app-id + '\\u2063' + fidelity-type + '\\u2063' + timestamp\n",
      "language" : "javascript"
    },
    {
      "code" : "MEQCIEQlmZRNfYzKBSE8QnhLTIHZZZWCFgZpRqRxHss65KoFAiAJgJKjdrWdkLUOCCjuEx2RmFS7daRzSVZRVZ8RyMyUXg=="
    }
  ],
  "contentHash" : "bdeee1ec61b584dfa129ca9024946913d8dc287fc888d4866da88c60d7216bcf",
  "crawledAt" : "2025-12-05T11:21:46Z",
  "id" : "FCCF8BC0-3DCA-4AE5-AA39-4E4171B49156",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nInstall validation informs an ad network when users install and launch an app they purchase after viewing an ad. Ad networks first provide an ad with cryptographically signed information that includes their ad network ID. Later, if the ad results in a conversion, the customer’s device sends install-validation postbacks. For information about attribution-winning and nonwinning postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\nTo display a StoreKit-rendered ad and initiate a validation, an app needs to call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(withParameters:completionBlock:)] with a signature key that the ad network generates, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductParameterAdNetworkAttributionSignature]. To generate the signature, combine the required values from [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] and cryptographically sign the resulting string. Use the ad network ID and PKCS#8 private key that you establish when registering to use the API. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/registering-an-ad-network].\n\n### Choose parameters based on signature version\n\nSelect the required values of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] based on the version of the signature you’re generating. The API supports multiple versions of signed ads. Use the most recent version available in the SDK whenever possible. For information about availability, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/skadnetwork-release-notes].\n\nThe following table lists the required signature parameters for version 4 and later. Combine them in a UTF-8 string as the example shows in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/generating-the-signature-to-validate-storekit-rendered-ads#Combine-the-parameters] section below.\n\nTo create signatures for previous SKAdNetwork versions, see:\n\n#### Combine the parameters\n\nCreate the UTF-8 string using the parameters in the example below.\n\nFor version 4 and later, combine the values into a UTF-8 string with an invisible separator (`‘\\u2063’`) between them, in the exact order the code below shows:\n\n### Sign the combined string\n\nSign the combined UTF-8 string with the following key and algorithm:\n\nThe resulting Digital Encoding Rules (DER)-formatted binary value is the signature.\n\n### Encode the signature\n\nEncode the binary signature you generate into a Base64 string. The result is your ad network attribution signature, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductParameterAdNetworkAttributionSignature]. The signature string should look similar to the following:\n\nFor more information about Base64 encoding, see [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Data\/base64EncodedString(options:)].\n\n### Use the generated signature string\n\nAfter you generate the signature, you have all the required [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] an app needs to call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(withParameters:completionBlock:)] to intiate a validation.\n\nIf the user installs and launches the advertised app, the attribution-winning ad network receives an install-validation postback. For more information about postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/verifying-an-install-validation-postback].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/generating-the-signature-to-validate-storekit-rendered-ads\ncrawled: 2025-12-05T11:21:46Z\n---\n\n# Generating the signature to validate StoreKit-rendered ads\n\n**Article**\n\nInitiate install validation by displaying a StoreKit-rendered ad with signed parameters.\n\n## Overview\n\nInstall validation informs an ad network when users install and launch an app they purchase after viewing an ad. Ad networks first provide an ad with cryptographically signed information that includes their ad network ID. Later, if the ad results in a conversion, the customer’s device sends install-validation postbacks. For information about attribution-winning and nonwinning postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\n\n\nTo display a StoreKit-rendered ad and initiate a validation, an app needs to call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(withParameters:completionBlock:)] with a signature key that the ad network generates, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductParameterAdNetworkAttributionSignature]. To generate the signature, combine the required values from [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] and cryptographically sign the resulting string. Use the ad network ID and PKCS#8 private key that you establish when registering to use the API. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/registering-an-ad-network].\n\n### Choose parameters based on signature version\n\nSelect the required values of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] based on the version of the signature you’re generating. The API supports multiple versions of signed ads. Use the most recent version available in the SDK whenever possible. For information about availability, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/skadnetwork-release-notes].\n\nThe following table lists the required signature parameters for version 4 and later. Combine them in a UTF-8 string as the example shows in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/generating-the-signature-to-validate-storekit-rendered-ads#Combine-the-parameters] section below.\n\n\n\nTo create signatures for previous SKAdNetwork versions, see:\n\n- [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/combining-parameters-to-generate-signatures-for-skadnetwork-2-2-and-3].\n- [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/combining-parameters-to-generate-a-signature-for-skadnetwork-2].\n- If you build your app with iOS SDK 11.3 through 13.7, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/combining-parameters-to-generate-a-signature-for-skadnetwork-1].\n\n#### Combine the parameters\n\nCreate the UTF-8 string using the parameters in the example below.\n\n\n\nFor version 4 and later, combine the values into a UTF-8 string with an invisible separator (`‘\\u2063’`) between them, in the exact order the code below shows:\n\n```javascript\n\/\/ Parameter values combined, in order, for version 4 and later.\nversion + '\\u2063' + ad-network-id + '\\u2063' + source-identifier + '\\u2063' + itunes-item-id + '\\u2063' + nonce + '\\u2063' + source-app-id + '\\u2063' + fidelity-type + '\\u2063' + timestamp\n\n```\n\n### Sign the combined string\n\nSign the combined UTF-8 string with the following key and algorithm:\n\n- Your PKCS#8 private key.\n- The Elliptic Curve Digital Signature Algorithm (ECDSA) with a SHA-256 hash.\n\nThe resulting Digital Encoding Rules (DER)-formatted binary value is the signature.\n\n### Encode the signature\n\nEncode the binary signature you generate into a Base64 string. The result is your ad network attribution signature, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductParameterAdNetworkAttributionSignature]. The signature string should look similar to the following:\n\n```\nMEQCIEQlmZRNfYzKBSE8QnhLTIHZZZWCFgZpRqRxHss65KoFAiAJgJKjdrWdkLUOCCjuEx2RmFS7daRzSVZRVZ8RyMyUXg==\n```\n\nFor more information about Base64 encoding, see [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Data\/base64EncodedString(options:)].\n\n### Use the generated signature string\n\nAfter you generate the signature, you have all the required [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ad-network-install-validation-keys] an app needs to call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController\/loadProduct(withParameters:completionBlock:)] to intiate a validation.\n\nIf the user installs and launches the advertised app, the attribution-winning ad network receives an install-validation postback. For more information about postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/verifying-an-install-validation-postback].\n\n## Signatures for SKAdNetwork 1, 2, and 2.2–3\n\n- **Combining parameters to generate signatures for SKAdNetwork 2.2 and 3**: Generate signatures to sign your ad with versions 2.2 and 3.\n- **Combining parameters to generate a signature for SKAdNetwork 2**: Generate signatures to sign your ad with version 2.\n- **Combining parameters to generate a signature for SKAdNetwork 1**: Generate signatures for apps compiled with earlier SDKs.\n\n## Signing StoreKit-rendered ads\n\n- **Ad network install-validation keys**: Specify key values that validate and associate an app installation with an ad campaign.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Generate signatures to sign your ad with versions 2.2 and 3.",
          "name" : "Combining parameters to generate signatures for SKAdNetwork 2.2 and 3",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-to-generate-signatures-for-skadnetwork-2-2-and-3"
        },
        {
          "description" : "Generate signatures to sign your ad with version 2.",
          "name" : "Combining parameters to generate a signature for SKAdNetwork 2",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-to-generate-a-signature-for-skadnetwork-2"
        },
        {
          "description" : "Generate signatures for apps compiled with earlier SDKs.",
          "name" : "Combining parameters to generate a signature for SKAdNetwork 1",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-to-generate-a-signature-for-skadnetwork-1"
        }
      ],
      "title" : "Signatures for SKAdNetwork 1, 2, and 2.2–3"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specify key values that validate and associate an app installation with an ad campaign.",
          "name" : "Ad network install-validation keys",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ad-network-install-validation-keys"
        }
      ],
      "title" : "Signing StoreKit-rendered ads"
    }
  ],
  "source" : "appleJSON",
  "title" : "Generating the signature to validate StoreKit-rendered ads",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/generating-the-signature-to-validate-storekit-rendered-ads"
}