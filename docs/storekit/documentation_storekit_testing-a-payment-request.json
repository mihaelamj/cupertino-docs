{
  "abstract" : "Verify that requests for payment function properly in the sandbox environment by inspecting the calls to the payment transaction observer.",
  "codeExamples" : [

  ],
  "contentHash" : "4d298608d84bf5391421255e873e01ecc9b82c51583cbd3e84722c2e8c4d6f1c",
  "crawledAt" : "2025-12-01T12:11:48Z",
  "id" : "2EC75767-D64F-42D2-8136-1E10F109B659",
  "kind" : "article",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nCreate an instance of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPayment] using a valid product identifier that you’ve already tested, as described in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-fetching-product-identifiers]. Set a breakpoint and inspect the payment request. Add the payment request to the transaction queue, and set a breakpoint to confirm that the system calls your observer’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method.\n\nThough you can finish the transaction immediately without providing the content of the purchase during testing, failing to finish the transaction can cause problems. Unfinished transactions remain in the queue indefinitely, which could interfere with later testing. Complete the transaction as described in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/finishing-a-transaction] at the end of each test.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-a-payment-request\ncrawled: 2025-12-01T12:11:48Z\n---\n\n# Testing a payment request\n\n**Article**\n\nVerify that requests for payment function properly in the sandbox environment by inspecting the calls to the payment transaction observer.\n\n## Overview\n\nCreate an instance of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPayment] using a valid product identifier that you’ve already tested, as described in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-fetching-product-identifiers]. Set a breakpoint and inspect the payment request. Add the payment request to the transaction queue, and set a breakpoint to confirm that the system calls your observer’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method.\n\nThough you can finish the transaction immediately without providing the content of the purchase during testing, failing to finish the transaction can cause problems. Unfinished transactions remain in the queue indefinitely, which could interfere with later testing. Complete the transaction as described in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/finishing-a-transaction] at the end of each test.\n\n## Payment transactions\n\n- **Testing purchases made outside your app**: Verify that your app receives and handles transactions that occur outside your app, such as subscription purchases, renewals, and offer and promo code redemptions.\n- **Testing win-back offers in the sandbox environment**: Verify that your app receives and handles win-back offer transactions, including those made outside your app.\n- **Testing an interrupted purchase**: Verify that your app handles an interrupted purchase by inspecting and invoking payment transactions.\n- **Testing failing subscription renewals and In-App Purchases**: Verify that your app handles failed subscription renewals that are in the billing retry or billing grace period states, as well as failed In-App Purchases.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Verify that your app receives and handles transactions that occur outside your app, such as subscription purchases, renewals, and offer and promo code redemptions.",
          "name" : "Testing purchases made outside your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-purchases-made-outside-your-app"
        },
        {
          "description" : "Verify that your app receives and handles win-back offer transactions, including those made outside your app.",
          "name" : "Testing win-back offers in the sandbox environment",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-win-back-offers-in-the-sandbox-environment"
        },
        {
          "description" : "Verify that your app handles an interrupted purchase by inspecting and invoking payment transactions.",
          "name" : "Testing an interrupted purchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-an-interrupted-purchase"
        },
        {
          "description" : "Verify that your app handles failed subscription renewals that are in the billing retry or billing grace period states, as well as failed In-App Purchases.",
          "name" : "Testing failing subscription renewals and In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-failing-subscription-renewals-and-in-app-purchases"
        }
      ],
      "title" : "Payment transactions"
    }
  ],
  "source" : "appleJSON",
  "title" : "Testing a payment request",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-a-payment-request"
}