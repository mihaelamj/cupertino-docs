{
  "abstract" : "Respond to notifications about customer refunds for consumable, non-consumable, and non-renewing subscription products.",
  "codeExamples" : [

  ],
  "contentHash" : "f95794ffd6459c3a80d52dc4f207fd88bf9fc2b1c91ebf3452ebe011a97a7bf7",
  "crawledAt" : "2025-12-01T12:12:49Z",
  "id" : "25843D86-FC2A-4A8E-96E3-38F9D8C10633",
  "kind" : "article",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nThe App Store server sends near real-time notifications when customers receive refunds for in-app purchases. If you offer content across multiple platforms, for example gems or coins for games, and you update player account balances on your server, receiving refund notifications is important. Respond to refund notifications by interpreting and handling the refund information, and informing customers in the app of any actions you take as a result of the refund.\n\nTo enable notifications, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/enabling-app-store-server-notifications] and [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications].\n\n### Receive notifications of customer refunds for one-time purchases\n\nCustomers request refunds in several ways, such as:\n\nWhen the App Store processes a refund, the App Store server sends a `REFUND` notification to your server, at the URL you configure. Your server must respond to the post with a 200 response code. The `REFUND` notification applies to consumable, non-consumable, and non-renewing subscriptions only. To detect refunds for auto-renewable subscriptions, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/handling-subscriptions-billing#Detect-a-Refund].\n\n### Interpret and handle the refund notification\n\nYour server is responsible for parsing and interpreting all notifications from the App Store server. For the `REFUND` notification, identify the specific transaction, product ID, and relevant dates from the response:\n\nFor more information about the response, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications].\n\nYou’re responsible to store, monitor, and take appropriate action for each refunded transaction when you receive a `REFUND` notification. For example, you might build your own in-game currency-rebalancing logic that handles refunded transactions by linking a notification to a player account or session.\n\nInform customers by presenting contextual messaging in the app for any actions you take as a result of the refund.\n\n### Identify refund abuse\n\nReduce refund abuse and identify repeated refunded purchases by mapping `REFUND` notifications to the player accounts on your server. Monitor and analyze your data to identify suspicious refund activity.\n\nIf you offer content across multiple platforms, keep the balances for user accounts up to date on your server. Use [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications] to get near real-time status updates for the transactions that affect your customers.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/handling-refund-notifications\ncrawled: 2025-12-01T12:12:49Z\n---\n\n# Handling refund notifications\n\n**Article**\n\nRespond to notifications about customer refunds for consumable, non-consumable, and non-renewing subscription products.\n\n## Overview\n\nThe App Store server sends near real-time notifications when customers receive refunds for in-app purchases. If you offer content across multiple platforms, for example gems or coins for games, and you update player account balances on your server, receiving refund notifications is important. Respond to refund notifications by interpreting and handling the refund information, and informing customers in the app of any actions you take as a result of the refund.\n\nTo enable notifications, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/enabling-app-store-server-notifications] and [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications].\n\n### Receive notifications of customer refunds for one-time purchases\n\nCustomers request refunds in several ways, such as:\n\n- Contacting Apple Customer Support and asking for a refund\n- Logging in and using Apple’s self-service tool, [https:\/\/reportaproblem.apple.com], to request a refund\n- Asking their payment method issuer for a refund\n\nWhen the App Store processes a refund, the App Store server sends a `REFUND` notification to your server, at the URL you configure. Your server must respond to the post with a 200 response code. The `REFUND` notification applies to consumable, non-consumable, and non-renewing subscriptions only. To detect refunds for auto-renewable subscriptions, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/handling-subscriptions-billing#Detect-a-Refund].\n\n### Interpret and handle the refund notification\n\nYour server is responsible for parsing and interpreting all notifications from the App Store server. For the `REFUND` notification, identify the specific transaction, product ID, and relevant dates from the response:\n\n- Find the most recent transaction for the `product_id i`n the `unified_receipt.latest_receipt_info` by checking the `purchase_date` to select the most recent transaction.\n- The date when App Store issued the refund is in the `cancellation_date_ms` field for the transaction.\n\nFor more information about the response, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications].\n\nYou’re responsible to store, monitor, and take appropriate action for each refunded transaction when you receive a `REFUND` notification. For example, you might build your own in-game currency-rebalancing logic that handles refunded transactions by linking a notification to a player account or session.\n\nInform customers by presenting contextual messaging in the app for any actions you take as a result of the refund.\n\n### Identify refund abuse\n\nReduce refund abuse and identify repeated refunded purchases by mapping `REFUND` notifications to the player accounts on your server. Monitor and analyze your data to identify suspicious refund activity.\n\nIf you offer content across multiple platforms, keep the balances for user accounts up to date on your server. Use [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications] to get near real-time status updates for the transactions that affect your customers.\n\n## Refunds\n\n- **Testing refund requests**: Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.",
          "name" : "Testing refund requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-refund-requests"
        }
      ],
      "title" : "Refunds"
    }
  ],
  "source" : "appleJSON",
  "title" : "Handling refund notifications",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/handling-refund-notifications"
}