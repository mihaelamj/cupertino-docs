{
  "abstract" : "Provide service to share subscriptions and non-consumable products to family members.",
  "codeExamples" : [

  ],
  "contentHash" : "57c297a6bb9312cc1dc3d64d9de550548605511295f59b20a2f7eb7b9be6ea67",
  "crawledAt" : "2025-12-03T07:23:50Z",
  "id" : "04E5BA6E-7153-465B-B9B1-AB435FA32740",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nFamily Sharing allows a customer to share access to auto-renewable subscriptions or non-consumables with up to five family members on all of their Apple devices. Enabling Family Sharing for a subscription can make your content or service more appealing to subscribers, and may encourage conversion to a paid subscription, increase customer engagement, and improve retention. Developers can choose to turn on Family Sharing for in-app purchases and non-consumables in App Store Connect. Users can also choose whether to share their purchases with family.\n\nWhen users share a purchase through Family Sharing, each family member gets their own unique receipts and transactions. Process the transactions in the same way you already handle purchases — you don’t need any special logic for shared products. However, you do need to implement a new method in your transaction observer, and listen for a new notification type in server notifications. Specifically, to support Family Sharing, you need to:\n\n### Enable Family Sharing for in-app purchases\n\nTo make Family Sharing available for an in-app purchase, developers need to turn on Family Sharing in App Store Connect. After you enable Family Sharing for an in-app purchase, you can’t turn it off. For more information, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev45b03fab9].\n\nUsers can choose whether to share their purchases with family. As users join or leave family groups and enable or disable sharing, your app needs to update the family’s access to your products. For information about how users manage their Family Sharing choices, see [https:\/\/support.apple.com\/guide\/iphone\/set-up-family-sharing-iph223f61318\/ios].\n\n### Provide access to shared purchases\n\nYour app receives a unique receipt for each family member entitled to a shared purchase, on each of their devices. For subscriptions, your app unlocks access through the normal purchase flow. For non-consumable products, unlocking access may require users to initiate a restored purchase, depending on the Family Sharing settings at the time of purchase.\n\nTo provide access for family members to a subscription or non-consumable, your app needs to handle purchased and restored transactions as usual. Specifically, follow these steps:\n\n### Revoke access if Family Sharing is disabled\n\nWith Family Sharing products, users have access to products only while Family Sharing is enabled. If the purchaser leaves the group, gets a refund, or stops sharing, the expectation is that the family’s access to the product stops immediately.\n\nWhen a condition occurs that disables sharing, StoreKit informs your app by updating the receipt, and then calling the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)] method of the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver] protocol. Implement this method on your transaction observer, and do the following:\n\nFor more information, including a list of conditions that trigger this call, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)].\n\n### Listen for the revoke notification\n\nIf you set up your server to receive [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications], your server gets a `REVOKE` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notification_type] as soon as a shared purchase is no longer shared. This notification serves the same purpose as the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)]call. Listen for and process this notification by:\n\n### Indicate to users when products support Family Sharing\n\nWhen your app displays in-app purchases, indicate in your UI whether users can share the product with family. Call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKProduct\/isFamilyShareable] to determine at runtime whether the in-app purchase supports Family Sharing. Knowing whether a product is shareable helps users make a selection that best fits their needs.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-family-sharing-in-your-app\ncrawled: 2025-12-03T07:23:50Z\n---\n\n# Supporting Family Sharing in your app\n\n**Article**\n\nProvide service to share subscriptions and non-consumable products to family members.\n\n## Overview\n\nFamily Sharing allows a customer to share access to auto-renewable subscriptions or non-consumables with up to five family members on all of their Apple devices. Enabling Family Sharing for a subscription can make your content or service more appealing to subscribers, and may encourage conversion to a paid subscription, increase customer engagement, and improve retention. Developers can choose to turn on Family Sharing for in-app purchases and non-consumables in App Store Connect. Users can also choose whether to share their purchases with family.\n\nWhen users share a purchase through Family Sharing, each family member gets their own unique receipts and transactions. Process the transactions in the same way you already handle purchases — you don’t need any special logic for shared products. However, you do need to implement a new method in your transaction observer, and listen for a new notification type in server notifications. Specifically, to support Family Sharing, you need to:\n\n- Enable Family Sharing for your in-app purchases in App Store Connect. For more information, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev45b03fab9].\n- During runtime, check whether in-app purchases support Family Sharing using either  [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/isFamilyShareable] in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKProduct\/isFamilyShareable] in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKProduct]. Then inform users when merchandising your subscriptions.\n- Process purchased and restored transactions in your app. This is standard processing you already do for any purchases.\n- Implement [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)] in your transaction observer to handle conditions in which products are no longer shared.\n- Listen for the `REVOKE` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notification_type] from [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications] on your server.\n\n\n\n### Enable Family Sharing for in-app purchases\n\nTo make Family Sharing available for an in-app purchase, developers need to turn on Family Sharing in App Store Connect. After you enable Family Sharing for an in-app purchase, you can’t turn it off. For more information, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev45b03fab9].\n\nUsers can choose whether to share their purchases with family. As users join or leave family groups and enable or disable sharing, your app needs to update the family’s access to your products. For information about how users manage their Family Sharing choices, see [https:\/\/support.apple.com\/guide\/iphone\/set-up-family-sharing-iph223f61318\/ios].\n\n### Provide access to shared purchases\n\nYour app receives a unique receipt for each family member entitled to a shared purchase, on each of their devices. For subscriptions, your app unlocks access through the normal purchase flow. For non-consumable products, unlocking access may require users to initiate a restored purchase, depending on the Family Sharing settings at the time of purchase.\n\nTo provide access for family members to a subscription or non-consumable, your app needs to handle purchased and restored transactions as usual. Specifically, follow these steps:\n\n1. Set up a transaction observer at app launch so your app receives transactions that occur outside of your app, such as receiving a Family Sharing purchase. For more information on this best practice, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/setting-up-the-transaction-observer-for-the-payment-queue].\n2. Verify the receipt. Look for a transaction in the latest receipt info array ([doc:\/\/com.apple.documentation\/documentation\/AppStoreReceipts\/responseBody\/Latest_receipt_info-data.dictionary]) with the new Family Sharing purchase.\n3. Handle purchased ([doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/purchased]) transactions. This is a standard state apps need to handle, and you don’t need anything special for Family Sharing. For shared subscriptions, the transaction always has a purchased state. For shared non-consumable products, the transaction has a purchased state if Family Sharing was enabled for the product at the time of the purchase. For more information about handling transactions, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/processing-a-transaction].\n4. Handle restored ([doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/restored]) transactions, which is also a standard state apps need to handle. For shared non-consumable products, your app gets a restored transaction if developers enable Family Sharing after the user purchases the product. To gain access to the shared product, family members use your app’s restore functionality. For more information about restoring, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/restoring-purchased-products].\n5. Unlock access to the shared subscription or non-consumable product.\n6. Call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)].\n\n### Revoke access if Family Sharing is disabled\n\nWith Family Sharing products, users have access to products only while Family Sharing is enabled. If the purchaser leaves the group, gets a refund, or stops sharing, the expectation is that the family’s access to the product stops immediately.\n\nWhen a condition occurs that disables sharing, StoreKit informs your app by updating the receipt, and then calling the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)] method of the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver] protocol. Implement this method on your transaction observer, and do the following:\n\n1. Verify the receipt. Revoked products appear in the receipt with a `cancellation_date` field present.\n2. Provide the app with access to all the products to which the user is entitled.\n\nFor more information, including a list of conditions that trigger this call, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)].\n\n### Listen for the revoke notification\n\nIf you set up your server to receive [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications], your server gets a `REVOKE` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notification_type] as soon as a shared purchase is no longer shared. This notification serves the same purpose as the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)]call. Listen for and process this notification by:\n\n1. Checking the latest receipt ([doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/unified_receipt\/Latest_receipt_info-data.dictionary]) in the response body. Revoked products appear in the receipt with a `cancellation_date` field present.\n2. Providing the app with access to all products to which the user is entitled.\n3. Updating your records, if you keep server-based records to manage your customers’ subscriptions.\n\n### Indicate to users when products support Family Sharing\n\nWhen your app displays in-app purchases, indicate in your UI whether users can share the product with family. Call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKProduct\/isFamilyShareable] to determine at runtime whether the in-app purchase supports Family Sharing. Knowing whether a product is shareable helps users make a selection that best fits their needs.\n\n## Family Sharing\n\n- **isFamilyShareable**: A Boolean value that indicates whether the product is available for Family Sharing in App Store Connect.\n- **paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)**: Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the product is available for Family Sharing in App Store Connect.",
          "name" : "isFamilyShareable",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProduct\/isFamilyShareable"
        },
        {
          "description" : "Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.",
          "name" : "paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)"
        }
      ],
      "title" : "Family Sharing"
    }
  ],
  "source" : "appleJSON",
  "title" : "Supporting Family Sharing in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-family-sharing-in-your-app"
}