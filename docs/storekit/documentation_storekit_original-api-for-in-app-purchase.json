{
  "abstract" : "Offer additional content and services in your app using the Original In-App Purchase API.",
  "codeExamples" : [

  ],
  "contentHash" : "3b9e9cd362998d487d825de7b933b2ed4b4e2d9fe5cd80d810f4aa962d81aecf",
  "crawledAt" : "2025-12-02T17:35:11Z",
  "id" : "2AFF1503-4C52-4BA1-8895-DAF83E9AE9B3",
  "kind" : "collection",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nThe In-App Purchase APIs, including the original API and the Swift-based [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/in-app-purchase] API, allow you to offer customers the opportunity to purchase in-app content and features. Customers can make the purchases within your app, and find your promoted products on the App Store.\n\nThe StoreKit framework connects to the App Store on your app’s behalf to prompt for, and securely process, payments. The framework then notifies your app, which delivers the purchased products. To validate purchases, you can verify receipts on your server with the App Store or on the device. For auto-renewable subscriptions, the App Store can also notify your server of key subscription events.\n\n\n\nFor more information about In-App Purchases, including configuration, testing, marketing, and more, see [https:\/\/developer.apple.com\/in-app-purchase\/].\n\n### Configure In-App Purchases in App Store Connect\n\nTo use the In-App Purchase API, you need to configure the products in App Store Connect. As you develop your app, you can add or remove products and refine or reconfigure existing products. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/overview-for-configuring-in-app-purchases].\n\nYou can also offer apps and In-App Purchases that run on multiple platforms as a single purchase. For more information about universal purchase, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev2cd126805].\n\n### Understand product types\n\nThere are four In-App Purchase types you can offer:\n\nYou can sync and restore non-consumables and auto-renewable subscriptions across devices using StoreKit. When a customer purchases an auto-renewable or non-renewing subscription, your app is responsible for making it available across all the person’s devices, and for restoring past purchases.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/original-api-for-in-app-purchase\ncrawled: 2025-12-02T17:35:11Z\n---\n\n# Original API for In-App Purchase\n\n**API Collection**\n\nOffer additional content and services in your app using the Original In-App Purchase API.\n\n## Overview\n\nThe In-App Purchase APIs, including the original API and the Swift-based [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/in-app-purchase] API, allow you to offer customers the opportunity to purchase in-app content and features. Customers can make the purchases within your app, and find your promoted products on the App Store.\n\nThe StoreKit framework connects to the App Store on your app’s behalf to prompt for, and securely process, payments. The framework then notifies your app, which delivers the purchased products. To validate purchases, you can verify receipts on your server with the App Store or on the device. For auto-renewable subscriptions, the App Store can also notify your server of key subscription events.\n\n\n\nFor more information about In-App Purchases, including configuration, testing, marketing, and more, see [https:\/\/developer.apple.com\/in-app-purchase\/].\n\n### Configure In-App Purchases in App Store Connect\n\nTo use the In-App Purchase API, you need to configure the products in App Store Connect. As you develop your app, you can add or remove products and refine or reconfigure existing products. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/overview-for-configuring-in-app-purchases].\n\nYou can also offer apps and In-App Purchases that run on multiple platforms as a single purchase. For more information about universal purchase, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev2cd126805].\n\n### Understand product types\n\nThere are four In-App Purchase types you can offer:\n\n- *Consumables* are a type that are depleted after one use. Customers can purchase them multiple times.\n- *Non-consumables* are a type that customers purchase once. They don’t expire. Non-consumable In-App Purchases can offer Family Sharing.\n- *Auto-renewable subscriptions* to services or content are a type that customers purchase once and that renew automatically on a recurring basis until customers decide to cancel. Auto-renewable subscriptions can offer Family Sharing.\n- *Non-renewing subscriptions* to services or content provide access over a limited duration and don’t renew automatically. Customers need to purchase a new subscription after it concludes if they want to retain access.\n\nYou can sync and restore non-consumables and auto-renewable subscriptions across devices using StoreKit. When a customer purchases an auto-renewable or non-renewing subscription, your app is responsible for making it available across all the person’s devices, and for restoring past purchases.\n\n## Essentials\n\n- **Setting up the transaction observer for the payment queue**: Enable your app to receive and handle transactions by adding an observer.\n- **Offering, completing, and restoring in-app purchases**: Fetch, display, purchase, validate, and finish transactions in your app.\n- **SKPaymentQueue**: A queue of payment transactions for the App Store to process.\n- **SKPaymentTransactionObserver**: A set of methods that process transactions, unlock purchased functionality, and continue promoted In-App Purchases.\n- **SKPaymentQueueDelegate**: The protocol that provides information needed to complete transactions.\n- **SKRequest**: An abstract class that represents a request to the App Store.\n\n## Product information\n\n- **Loading in-app product identifiers**: Load the unique identifiers for your in-app products to retrieve product information from the App Store.\n- **Fetching product information from the App Store**: Retrieve up-to-date information about the products for sale in your app to display to your customers.\n- **SKProductsRequest**: An object that can retrieve localized information from the App Store about a specified list of products.\n- **SKProductsResponse**: An App Store response to a request for information about a list of products.\n- **SKProduct**: Information about a registered product in App Store Connect.\n\n## Storefronts\n\n- **SKStorefront**: An object containing the location and unique identifier of an Apple App Store storefront.\n\n## Purchases\n\n- **Requesting a payment from the App Store**: Submit a payment request to the App Store when a customer selects a product to buy.\n- **Processing a transaction**: Register a transaction queue observer to get and handle transaction updates from the App Store.\n- **SKPayment**: A request to the App Store to process payment for additional functionality that your app offers.\n- **SKMutablePayment**: A mutable request to the App Store to process payment for additional functionality that your app offers.\n- **SKPaymentTransaction**: An object in the payment queue.\n\n## Purchase validation\n\n- **Choosing a receipt validation technique**: Select the type of receipt validation, on the device or on your server, that works for your app.\n- **Validating receipts with the App Store**: Verify transactions with the App Store on a secure server.\n- **appStoreReceiptURL**: The file URL for the bundle’s App Store receipt.\n- **SKReceiptRefreshRequest**: A request to the App Store to get the app receipt, which represents the customer’s transactions with your app.\n\n## Content delivery\n\n- **Unlocking purchased content**: Deliver content to the customer after validating the purchase.\n- **Persisting a purchase**: Keep a persistent record of a purchase to continue making the product available as needed.\n- **Finishing a transaction**: Finish the transaction to complete the purchase process.\n- **SKDownload**: Downloadable content associated with a product.\n\n## Refunds\n\n- **Handling refund notifications**: Respond to notifications about customer refunds for consumable, non-consumable, and non-renewing subscription products.\n- **Testing refund requests**: Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.\n\n## Providing access to previously purchased products\n\n- **Restoring purchased products**: Give customers functionality that restores their purchases in your app to maintain access to purchased content.\n- **SKReceiptRefreshRequest**: A request to the App Store to get the app receipt, which represents the customer’s transactions with your app.\n- **SKRequest**: An abstract class that represents a request to the App Store.\n- **SKPaymentTransaction**: An object in the payment queue.\n- **SKTerminateForInvalidReceipt()**: Terminates an app if the license to use the app has expired.\n\n## Family Sharing\n\n- **Supporting Family Sharing in your app**: Provide service to share subscriptions and non-consumable products to family members.\n- **isFamilyShareable**: A Boolean value that indicates whether the product is available for Family Sharing in App Store Connect.\n- **paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)**: Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.\n\n## Subscriptions\n\n- **Subscriptions and offers**: Offer customers additional time-based content and services through purchases they make within your app.\n\n## Promotions\n\n- **Promoting In-App Purchases**: Show promoted In-App Purchases on your product page and handle purchases that customers initiate on the App Store.\n- **Testing promoted In-App Purchases**: Test your In-App Purchases before making your app available in the App Store.\n- **SKProductStorePromotionController**: A product promotion controller for customizing the order and visibility of In-App Purchases per device.\n\n## Testing In-App Purchases\n\n- **Testing at all stages of development with Xcode and the sandbox**: Verify your implementation of In-App Purchases by testing your code throughout its development.\n- **Setting up StoreKit Testing in Xcode**: Prepare your test environment to test in-app purchases with data you configure locally.\n- **Testing In-App Purchases in Xcode**: Use locally configured product data to test and debug your In-App Purchases implementation.\n- **Testing In-App Purchases with sandbox**: Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.\n\n## Errors\n\n- **Handling errors**: Determine the underlying cause of errors that result from StoreKit requests.\n- **SKError.Code**: Error codes for StoreKit errors.\n- **SKError**: StoreKit error descriptions, codes, and domains.\n- **SKErrorDomain**: The error domain name for StoreKit errors.\n\n## Deprecated\n\n- **Choosing a StoreKit API for In-App Purchases**: Use the latest API to support In-App Purchases in new or existing apps, or the original API to support In-App Purchases in earlier operating systems.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable your app to receive and handle transactions by adding an observer.",
          "name" : "Setting up the transaction observer for the payment queue",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/setting-up-the-transaction-observer-for-the-payment-queue"
        },
        {
          "description" : "Fetch, display, purchase, validate, and finish transactions in your app.",
          "name" : "Offering, completing, and restoring in-app purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/offering-completing-and-restoring-in-app-purchases"
        },
        {
          "description" : "A queue of payment transactions for the App Store to process.",
          "name" : "SKPaymentQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue"
        },
        {
          "description" : "A set of methods that process transactions, unlock purchased functionality, and continue promoted In-App Purchases.",
          "name" : "SKPaymentTransactionObserver",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver"
        },
        {
          "description" : "The protocol that provides information needed to complete transactions.",
          "name" : "SKPaymentQueueDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueueDelegate"
        },
        {
          "description" : "An abstract class that represents a request to the App Store.",
          "name" : "SKRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKRequest"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Load the unique identifiers for your in-app products to retrieve product information from the App Store.",
          "name" : "Loading in-app product identifiers",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/loading-in-app-product-identifiers"
        },
        {
          "description" : "Retrieve up-to-date information about the products for sale in your app to display to your customers.",
          "name" : "Fetching product information from the App Store",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/fetching-product-information-from-the-app-store"
        },
        {
          "description" : "An object that can retrieve localized information from the App Store about a specified list of products.",
          "name" : "SKProductsRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProductsRequest"
        },
        {
          "description" : "An App Store response to a request for information about a list of products.",
          "name" : "SKProductsResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProductsResponse"
        },
        {
          "description" : "Information about a registered product in App Store Connect.",
          "name" : "SKProduct",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProduct"
        }
      ],
      "title" : "Product information"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object containing the location and unique identifier of an Apple App Store storefront.",
          "name" : "SKStorefront",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKStorefront"
        }
      ],
      "title" : "Storefronts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Submit a payment request to the App Store when a customer selects a product to buy.",
          "name" : "Requesting a payment from the App Store",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/requesting-a-payment-from-the-app-store"
        },
        {
          "description" : "Register a transaction queue observer to get and handle transaction updates from the App Store.",
          "name" : "Processing a transaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/processing-a-transaction"
        },
        {
          "description" : "A request to the App Store to process payment for additional functionality that your app offers.",
          "name" : "SKPayment",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPayment"
        },
        {
          "description" : "A mutable request to the App Store to process payment for additional functionality that your app offers.",
          "name" : "SKMutablePayment",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKMutablePayment"
        },
        {
          "description" : "An object in the payment queue.",
          "name" : "SKPaymentTransaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransaction"
        }
      ],
      "title" : "Purchases"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select the type of receipt validation, on the device or on your server, that works for your app.",
          "name" : "Choosing a receipt validation technique",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/choosing-a-receipt-validation-technique"
        },
        {
          "description" : "Verify transactions with the App Store on a secure server.",
          "name" : "Validating receipts with the App Store",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/validating-receipts-with-the-app-store"
        },
        {
          "description" : "The file URL for the bundle’s App Store receipt.",
          "name" : "appStoreReceiptURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/Bundle\/appStoreReceiptURL"
        },
        {
          "description" : "A request to the App Store to get the app receipt, which represents the customer’s transactions with your app.",
          "name" : "SKReceiptRefreshRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest"
        }
      ],
      "title" : "Purchase validation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Deliver content to the customer after validating the purchase.",
          "name" : "Unlocking purchased content",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/unlocking-purchased-content"
        },
        {
          "description" : "Keep a persistent record of a purchase to continue making the product available as needed.",
          "name" : "Persisting a purchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/persisting-a-purchase"
        },
        {
          "description" : "Finish the transaction to complete the purchase process.",
          "name" : "Finishing a transaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/finishing-a-transaction"
        },
        {
          "description" : "Downloadable content associated with a product.",
          "name" : "SKDownload",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKDownload"
        }
      ],
      "title" : "Content delivery"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Respond to notifications about customer refunds for consumable, non-consumable, and non-renewing subscription products.",
          "name" : "Handling refund notifications",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/handling-refund-notifications"
        },
        {
          "description" : "Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.",
          "name" : "Testing refund requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-refund-requests"
        }
      ],
      "title" : "Refunds"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Give customers functionality that restores their purchases in your app to maintain access to purchased content.",
          "name" : "Restoring purchased products",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/restoring-purchased-products"
        },
        {
          "description" : "A request to the App Store to get the app receipt, which represents the customer’s transactions with your app.",
          "name" : "SKReceiptRefreshRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest"
        },
        {
          "description" : "An abstract class that represents a request to the App Store.",
          "name" : "SKRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKRequest"
        },
        {
          "description" : "An object in the payment queue.",
          "name" : "SKPaymentTransaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransaction"
        },
        {
          "description" : "Terminates an app if the license to use the app has expired.",
          "name" : "SKTerminateForInvalidReceipt()",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKTerminateForInvalidReceipt()"
        }
      ],
      "title" : "Providing access to previously purchased products"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provide service to share subscriptions and non-consumable products to family members.",
          "name" : "Supporting Family Sharing in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-family-sharing-in-your-app"
        },
        {
          "description" : "A Boolean value that indicates whether the product is available for Family Sharing in App Store Connect.",
          "name" : "isFamilyShareable",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProduct\/isFamilyShareable"
        },
        {
          "description" : "Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.",
          "name" : "paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)"
        }
      ],
      "title" : "Family Sharing"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Offer customers additional time-based content and services through purchases they make within your app.",
          "name" : "Subscriptions and offers",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/subscriptions-and-offers"
        }
      ],
      "title" : "Subscriptions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Show promoted In-App Purchases on your product page and handle purchases that customers initiate on the App Store.",
          "name" : "Promoting In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/promoting-in-app-purchases"
        },
        {
          "description" : "Test your In-App Purchases before making your app available in the App Store.",
          "name" : "Testing promoted In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-promoted-in-app-purchases"
        },
        {
          "description" : "A product promotion controller for customizing the order and visibility of In-App Purchases per device.",
          "name" : "SKProductStorePromotionController",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKProductStorePromotionController"
        }
      ],
      "title" : "Promotions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Verify your implementation of In-App Purchases by testing your code throughout its development.",
          "name" : "Testing at all stages of development with Xcode and the sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox"
        },
        {
          "description" : "Prepare your test environment to test in-app purchases with data you configure locally.",
          "name" : "Setting up StoreKit Testing in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode"
        },
        {
          "description" : "Use locally configured product data to test and debug your In-App Purchases implementation.",
          "name" : "Testing In-App Purchases in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-in-app-purchases-in-xcode"
        },
        {
          "description" : "Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.",
          "name" : "Testing In-App Purchases with sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-in-app-purchases-with-sandbox"
        }
      ],
      "title" : "Testing In-App Purchases"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Determine the underlying cause of errors that result from StoreKit requests.",
          "name" : "Handling errors",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/handling-errors"
        },
        {
          "description" : "Error codes for StoreKit errors.",
          "name" : "SKError.Code",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKError\/Code"
        },
        {
          "description" : "StoreKit error descriptions, codes, and domains.",
          "name" : "SKError",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKError"
        },
        {
          "description" : "The error domain name for StoreKit errors.",
          "name" : "SKErrorDomain",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKErrorDomain"
        }
      ],
      "title" : "Errors"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use the latest API to support In-App Purchases in new or existing apps, or the original API to support In-App Purchases in earlier operating systems.",
          "name" : "Choosing a StoreKit API for In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/choosing-a-storekit-api-for-in-app-purchases"
        }
      ],
      "title" : "Deprecated"
    }
  ],
  "source" : "appleJSON",
  "title" : "Original API for In-App Purchase",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/original-api-for-in-app-purchase"
}