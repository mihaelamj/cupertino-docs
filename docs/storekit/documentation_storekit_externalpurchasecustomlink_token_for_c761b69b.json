{
  "abstract" : "Requests an external purchase token of the specified type.",
  "codeExamples" : [

  ],
  "contentHash" : "63e4f79c234090041bc7c5fa334719c4c98966648efe264c953de56140efe83e",
  "crawledAt" : "2025-12-05T12:52:43Z",
  "declaration" : {
    "code" : "static func token(for tokenType: String) async throws -> ExternalPurchaseCustomLink.Token?",
    "language" : "swift"
  },
  "id" : "B0574954-E4DB-4D1D-981E-CAFD7FE0DF75",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Return Value\n\nReturns an external purchase token of the type you specify, or returns `nil` if there isn’t an active token of the specified type. This method throws an error if your app isn’t eligible to use this API.\n\n## Discussion\n\nUse this method to request tokens when your app uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API. Request the `ACQUISITION` and `SERVICES` token types when your app launches and immediately associate the tokens with a customer account on your server. You can also call this method at any other time, such as before communicating or promoting offers. The method returns the token, of each type, until it expires.\n\n### Read and report tokens\n\nDecode the token to read its contents, including its expiration date. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens]. For a code example that shows requesting tokens, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink].\n\nReport tokens and all transactions associated with the tokens from your server, using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/token(for:)\ncrawled: 2025-12-05T12:52:43Z\n---\n\n# token(for:)\n\n**Type Method**\n\nRequests an external purchase token of the specified type.\n\n## Declaration\n\n```swift\nstatic func token(for tokenType: String) async throws -> ExternalPurchaseCustomLink.Token?\n```\n\n## Parameters\n\n- **tokenType**: A string that indicates the token type. Valid string values are: `ACQUISITION`, `SERVICES`\n\n## Return Value\n\nReturns an external purchase token of the type you specify, or returns `nil` if there isn’t an active token of the specified type. This method throws an error if your app isn’t eligible to use this API.\n\n## Discussion\n\nUse this method to request tokens when your app uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API. Request the `ACQUISITION` and `SERVICES` token types when your app launches and immediately associate the tokens with a customer account on your server. You can also call this method at any other time, such as before communicating or promoting offers. The method returns the token, of each type, until it expires.\n\n\n\n### Read and report tokens\n\nDecode the token to read its contents, including its expiration date. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens]. For a code example that shows requesting tokens, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink].\n\nReport tokens and all transactions associated with the tokens from your server, using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\n## Getting external purchase tokens\n\n- **ExternalPurchaseCustomLink.Token**: A token you use with the External Purchase custom link API.\n- **Receiving and decoding external purchase tokens**: Receive tokens for external purchases that you use to report transactions to Apple.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A token you use with the External Purchase custom link API.",
          "name" : "ExternalPurchaseCustomLink.Token",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/Token"
        },
        {
          "description" : "Receive tokens for external purchases that you use to report transactions to Apple.",
          "name" : "Receiving and decoding external purchase tokens",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens"
        }
      ],
      "title" : "Getting external purchase tokens"
    }
  ],
  "source" : "appleJSON",
  "title" : "token(for:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/token(for:)"
}