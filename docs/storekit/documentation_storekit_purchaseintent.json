{
  "abstract" : "An instance that emits purchase intents, which indicate that the customer initiated a purchase outside of your app, for your app to complete.",
  "codeExamples" : [
    {
      "code" : "func purchaseProduct(_ product: Product) async {\n    \/\/ Complete the purchase workflow.\n    do {\n        try await product.purchase()\n    }\n    catch {\n        \/\/ Add your error handling here.\n    }\n    \/\/ Add your remaining purchase workflow here.\n}\n\nfor await purchaseIntent in PurchaseIntent.intents {\n    \/\/ Complete the purchase workflow.\n    await purchaseProduct(purchaseIntent.product)\n}\n",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Copyable",
    "Equatable",
    "Identifiable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "f75186f3c79edb49791a73646b10d4510eab12d87313896763e53ebb14e59c25",
  "crawledAt" : "2025-12-02T17:53:40Z",
  "declaration" : {
    "code" : "struct PurchaseIntent",
    "language" : "swift"
  },
  "id" : "C2DD4494-073A-4C30-97FD-5BBF0BF69CBD",
  "kind" : "struct",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nUsing `PurchaseIntent` is required in the following cases:\n\nYou set up these offers and settings in App Store Connect. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/promote-in-app-purchases], [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/set-up-win-back-offers], and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/manage-streamlined-purchasing].\n\nWhen a customer selects a promoted product on the App Store or a win-back offer outside of your app, it initiates a purchase that they complete in your app. If they don’t have your app installed, the system prompts them to download it. After the app downloads, the transaction continues in the app, which receives a purchase intent from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/PurchaseIntent\/intents] sequence.\n\nThe purchase intent identifies the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/PurchaseIntent\/product] the customer selected. To enable customers to complete the purchase, call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)] on this product instance. The following example code receives the purchase intent, and calls a method to complete the purchase workflow:\n\nFor more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-promoted-in-app-purchases-in-your-app] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-win-back-offers-in-your-app].\n\nIn Mac apps built with Mac Catalyst, this instance doesn’t emit purchase intents for promoted in-app purchases because the Mac App Store doesn’t support this feature.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\ncrawled: 2025-12-02T17:53:40Z\n---\n\n# PurchaseIntent\n\n**Structure**\n\nAn instance that emits purchase intents, which indicate that the customer initiated a purchase outside of your app, for your app to complete.\n\n## Declaration\n\n```swift\nstruct PurchaseIntent\n```\n\n## Overview\n\nUsing `PurchaseIntent` is required in the following cases:\n\n- If you promote in-app purchases on the App Store\n- If you turn off the Streamlined Purchasing setting in App Store Connect and use win-back offers or contingent pricing\n\nYou set up these offers and settings in App Store Connect. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/promote-in-app-purchases], [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/set-up-win-back-offers], and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/manage-streamlined-purchasing].\n\n\n\nWhen a customer selects a promoted product on the App Store or a win-back offer outside of your app, it initiates a purchase that they complete in your app. If they don’t have your app installed, the system prompts them to download it. After the app downloads, the transaction continues in the app, which receives a purchase intent from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/PurchaseIntent\/intents] sequence.\n\nThe purchase intent identifies the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/PurchaseIntent\/product] the customer selected. To enable customers to complete the purchase, call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)] on this product instance. The following example code receives the purchase intent, and calls a method to complete the purchase workflow:\n\n```swift\nfunc purchaseProduct(_ product: Product) async {\n    \/\/ Complete the purchase workflow.\n    do {\n        try await product.purchase()\n    }\n    catch {\n        \/\/ Add your error handling here.\n    }\n    \/\/ Add your remaining purchase workflow here.\n}\n\nfor await purchaseIntent in PurchaseIntent.intents {\n    \/\/ Complete the purchase workflow.\n    await purchaseProduct(purchaseIntent.product)\n}\n\n```\n\nFor more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-promoted-in-app-purchases-in-your-app] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-win-back-offers-in-your-app].\n\nIn Mac apps built with Mac Catalyst, this instance doesn’t emit purchase intents for promoted in-app purchases because the Mac App Store doesn’t support this feature.\n\n\n\n## Identifying the product\n\n- **id**: The product identifier of the In-App Purchase that the customer selects to purchase outside of the app.\n- **product**: The product information of the In-App Purchase the customer selects to purchase outside of the app.\n\n## Getting purchase intents\n\n- **intents**: The asynchronous sequence that emits a purchase intent when customers initiate a purchase outside of the app.\n- **PurchaseIntent.PurchaseIntents**: An asynchronous sequence of purchase intents for purchases that customers initiate outside of the app.\n\n## Identifying the offer\n\n- **offer**: The subscription offer that the customer redeems outside of your app.\n\n## Promoted In-App Purchases\n\n- **Supporting promoted In-App Purchases in your app**: Display promoted In-App Purchases on your product page and handle purchases that users initiate on the App Store.\n- **Product.PromotionInfo**: Information about a promoted In-App Purchase that customizes its order and visibility on the device.\n- **Testing promoted In-App Purchases**: Test your In-App Purchases before making your app available in the App Store.\n\n## Conforms To\n\n- Copyable\n- Equatable\n- Identifiable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The product identifier of the In-App Purchase that the customer selects to purchase outside of the app.",
          "name" : "id",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\/id"
        },
        {
          "description" : "The product information of the In-App Purchase the customer selects to purchase outside of the app.",
          "name" : "product",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\/product"
        }
      ],
      "title" : "Identifying the product"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The asynchronous sequence that emits a purchase intent when customers initiate a purchase outside of the app.",
          "name" : "intents",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\/intents"
        },
        {
          "description" : "An asynchronous sequence of purchase intents for purchases that customers initiate outside of the app.",
          "name" : "PurchaseIntent.PurchaseIntents",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\/PurchaseIntents"
        }
      ],
      "title" : "Getting purchase intents"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The subscription offer that the customer redeems outside of your app.",
          "name" : "offer",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent\/offer"
        }
      ],
      "title" : "Identifying the offer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Display promoted In-App Purchases on your product page and handle purchases that users initiate on the App Store.",
          "name" : "Supporting promoted In-App Purchases in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-promoted-in-app-purchases-in-your-app"
        },
        {
          "description" : "Information about a promoted In-App Purchase that customizes its order and visibility on the device.",
          "name" : "Product.PromotionInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PromotionInfo"
        },
        {
          "description" : "Test your In-App Purchases before making your app available in the App Store.",
          "name" : "Testing promoted In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-promoted-in-app-purchases"
        }
      ],
      "title" : "Promoted In-App Purchases"
    }
  ],
  "source" : "appleJSON",
  "title" : "PurchaseIntent",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/PurchaseIntent"
}