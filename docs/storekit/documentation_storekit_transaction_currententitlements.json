{
  "abstract" : "A sequence of the latest transactions that entitle a customer to In-App Purchases and subscriptions.",
  "codeExamples" : [
    {
      "code" : "func refreshPurchasedProducts() async {\n    \/\/ Iterate through the user's purchased products.\n    for await verificationResult in Transaction.currentEntitlements {\n        switch verificationResult {\n        case .verified(let transaction):\n            \/\/ Check the type of product for the transaction\n            \/\/ and provide access to the content as appropriate.\n            ...\n        case .unverified(let unverifiedTransaction, let verificationError):\n            \/\/ Handle unverified transactions based on your\n            \/\/ business model.\n            ...\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "e607f1beed763bd86ba4d833f971c8b9b6b551776f34865df474d35b98d9e1b0",
  "crawledAt" : "2025-12-02T17:53:29Z",
  "declaration" : {
    "code" : "static var currentEntitlements: Transaction.Transactions { get }",
    "language" : "swift"
  },
  "id" : "B5F36BE7-94AC-43D4-BC01-6A2DFE33B3A1",
  "kind" : "property",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Discussion\n\nThe current entitlements sequence emits the latest transaction for each product the customer has an entitlement to, specifically:\n\nProducts that the App Store has refunded or revoked don’t appear in the current entitlements. Consumable In-App Purchases also don’t appear in the current entitlements. To get transactions for unfinished consumables, use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/unfinished] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/all] sequences in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction].\n\nThe following example illustrates iterating through the current entitlements:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/Transaction\/currentEntitlements\ncrawled: 2025-12-02T17:53:29Z\n---\n\n# currentEntitlements\n\n**Type Property**\n\nA sequence of the latest transactions that entitle a customer to In-App Purchases and subscriptions.\n\n## Declaration\n\n```swift\nstatic var currentEntitlements: Transaction.Transactions { get }\n```\n\n## Discussion\n\nThe current entitlements sequence emits the latest transaction for each product the customer has an entitlement to, specifically:\n\n- A transaction for each non-consumable In-App Purchase\n- The latest transaction for each auto-renewable subscription that has a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalState] state of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalState\/subscribed] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalState\/inGracePeriod]\n- The latest transaction for each non-renewing subscription, including finished ones\n\nProducts that the App Store has refunded or revoked don’t appear in the current entitlements. Consumable In-App Purchases also don’t appear in the current entitlements. To get transactions for unfinished consumables, use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/unfinished] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/all] sequences in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction].\n\nThe following example illustrates iterating through the current entitlements:\n\n```swift\nfunc refreshPurchasedProducts() async {\n    \/\/ Iterate through the user's purchased products.\n    for await verificationResult in Transaction.currentEntitlements {\n        switch verificationResult {\n        case .verified(let transaction):\n            \/\/ Check the type of product for the transaction\n            \/\/ and provide access to the content as appropriate.\n            ...\n        case .unverified(let unverifiedTransaction, let verificationError):\n            \/\/ Handle unverified transactions based on your\n            \/\/ business model.\n            ...\n        }\n    }\n}\n```\n\n## Transaction history and entitlements\n\n- **Transaction**: Information that represents the customer’s purchase of a product in your app.\n- **updates**: The asynchronous sequence that emits a transaction when the system creates or updates transactions that occur outside the app or on other devices.\n- **all**: A sequence that emits all the customer’s transactions for your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Information that represents the customer’s purchase of a product in your app.",
          "name" : "Transaction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Transaction"
        },
        {
          "description" : "The asynchronous sequence that emits a transaction when the system creates or updates transactions that occur outside the app or on other devices.",
          "name" : "updates",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Transaction\/updates"
        },
        {
          "description" : "A sequence that emits all the customer’s transactions for your app.",
          "name" : "all",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Transaction\/all"
        }
      ],
      "title" : "Transaction history and entitlements"
    }
  ],
  "source" : "appleJSON",
  "title" : "currentEntitlements",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Transaction\/currentEntitlements"
}