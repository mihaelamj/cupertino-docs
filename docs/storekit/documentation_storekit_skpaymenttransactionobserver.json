{
  "abstract" : "A set of methods that process transactions, unlock purchased functionality, and continue promoted In-App Purchases.",
  "codeExamples" : [

  ],
  "contentHash" : "1fca122afd4b0f9f719cfca04d2579dc434de50d5b34c4128b1a9f85181f4b6d",
  "crawledAt" : "2025-12-02T15:56:21Z",
  "declaration" : {
    "code" : "protocol SKPaymentTransactionObserver : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "D523F83A-9011-4585-A14D-681D1D0C148A",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nObservers of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue] objects implement the methods of this protocol.\n\nThe system calls an observer when the queue updates or removes transactions. An observer needs to process all successful transactions, unlock the functionality the user purchases, and then finish the transaction by calling the payment queue’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\ncrawled: 2025-12-02T15:56:21Z\n---\n\n# SKPaymentTransactionObserver\n\n**Protocol**\n\nA set of methods that process transactions, unlock purchased functionality, and continue promoted In-App Purchases.\n\n## Declaration\n\n```swift\nprotocol SKPaymentTransactionObserver : NSObjectProtocol\n```\n\n## Overview\n\nObservers of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue] objects implement the methods of this protocol.\n\nThe system calls an observer when the queue updates or removes transactions. An observer needs to process all successful transactions, unlock the functionality the user purchases, and then finish the transaction by calling the payment queue’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] method.\n\n## Handling transactions\n\n- **paymentQueue(_:updatedTransactions:)**: Tells an observer that one or more transactions have been updated.\n- **paymentQueue(_:removedTransactions:)**: Tells an observer that one or more transactions have been removed from the queue.\n\n## Restoring transactions\n\n- **paymentQueue(_:restoreCompletedTransactionsFailedWithError:)**: Tells the observer that an error occurred while restoring transactions.\n- **paymentQueueRestoreCompletedTransactionsFinished(_:)**: Tells the observer that the payment queue has finished sending restored transactions.\n\n## Handling promoted in-app purchases\n\n- **Promoting In-App Purchases**: Show promoted In-App Purchases on your product page and handle purchases that customers initiate on the App Store.\n- **paymentQueue(_:shouldAddStorePayment:for:)**: Tells the observer when a user initiates an in-app purchase from the App Store.\n\n## Revoking entitlements\n\n- **paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)**: Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.\n\n## Changing the storefront\n\n- **paymentQueueDidChangeStorefront(_:)**: Tells the observer that the storefront for the payment queue has changed.\n\n## Handling download actions\n\n- **paymentQueue(_:updatedDownloads:)**: Tells the observer that the payment queue has updated one or more download objects.\n\n## Essentials\n\n- **Setting up the transaction observer for the payment queue**: Enable your app to receive and handle transactions by adding an observer.\n- **Offering, completing, and restoring in-app purchases**: Fetch, display, purchase, validate, and finish transactions in your app.\n- **SKPaymentQueue**: A queue of payment transactions for the App Store to process.\n- **SKPaymentQueueDelegate**: The protocol that provides information needed to complete transactions.\n- **SKRequest**: An abstract class that represents a request to the App Store.\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells an observer that one or more transactions have been updated.",
          "name" : "paymentQueue(_:updatedTransactions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)"
        },
        {
          "description" : "Tells an observer that one or more transactions have been removed from the queue.",
          "name" : "paymentQueue(_:removedTransactions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:removedTransactions:)"
        }
      ],
      "title" : "Handling transactions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the observer that an error occurred while restoring transactions.",
          "name" : "paymentQueue(_:restoreCompletedTransactionsFailedWithError:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:restoreCompletedTransactionsFailedWithError:)"
        },
        {
          "description" : "Tells the observer that the payment queue has finished sending restored transactions.",
          "name" : "paymentQueueRestoreCompletedTransactionsFinished(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueueRestoreCompletedTransactionsFinished(_:)"
        }
      ],
      "title" : "Restoring transactions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Show promoted In-App Purchases on your product page and handle purchases that customers initiate on the App Store.",
          "name" : "Promoting In-App Purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/promoting-in-app-purchases"
        },
        {
          "description" : "Tells the observer when a user initiates an in-app purchase from the App Store.",
          "name" : "paymentQueue(_:shouldAddStorePayment:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:shouldAddStorePayment:for:)"
        }
      ],
      "title" : "Handling promoted in-app purchases"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells an observer that the customer is no longer entitled to one or more Family Sharing purchases.",
          "name" : "paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:didRevokeEntitlementsForProductIdentifiers:)"
        }
      ],
      "title" : "Revoking entitlements"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the observer that the storefront for the payment queue has changed.",
          "name" : "paymentQueueDidChangeStorefront(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueueDidChangeStorefront(_:)"
        }
      ],
      "title" : "Changing the storefront"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the observer that the payment queue has updated one or more download objects.",
          "name" : "paymentQueue(_:updatedDownloads:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedDownloads:)"
        }
      ],
      "title" : "Handling download actions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable your app to receive and handle transactions by adding an observer.",
          "name" : "Setting up the transaction observer for the payment queue",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/setting-up-the-transaction-observer-for-the-payment-queue"
        },
        {
          "description" : "Fetch, display, purchase, validate, and finish transactions in your app.",
          "name" : "Offering, completing, and restoring in-app purchases",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/offering-completing-and-restoring-in-app-purchases"
        },
        {
          "description" : "A queue of payment transactions for the App Store to process.",
          "name" : "SKPaymentQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue"
        },
        {
          "description" : "The protocol that provides information needed to complete transactions.",
          "name" : "SKPaymentQueueDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueueDelegate"
        },
        {
          "description" : "An abstract class that represents a request to the App Store.",
          "name" : "SKRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKRequest"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "SKPaymentTransactionObserver",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver"
}