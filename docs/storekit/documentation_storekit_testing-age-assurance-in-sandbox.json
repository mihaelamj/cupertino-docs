{
  "abstract" : "Check that your app responds correctly to Age Assurance scenarios and consent revocation using the Sandbox environment.",
  "codeExamples" : [

  ],
  "contentHash" : "fb3dc142309bfd56495ed4c5345c10703c369b0657efd898199ec7ecdd40aebc",
  "crawledAt" : "2025-12-01T12:11:52Z",
  "id" : "476A6947-261C-410D-BF09-8E2E0611DE7D",
  "kind" : "article",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nYou can provide people the ability to make decisions about who can access your app, or parts of your app. [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange] API enables you to request people’s age and create custom experiences based on the information they share, and [doc:\/\/com.apple.documentation\/documentation\/PermissionKit] gives you the ability to provide parents or guardians the opportunity to decide if their child can access your app. Make sure your app implements age restrictions and processes permission revocation as parents or guardians instruct.\n\nIn the Sandbox environment you can test how your app responds to various age range scenarios, location-based restrictions, approval state changes, and consent revocation. Focus on testing age range variations across your target audience, and consider regulatory compliance in different regions.\n\n### Test Age Assurance on device\n\nTest various age range scenarios on the Age Assurance page in iOS by following these steps:\n\nYou can also change these settings in App Store Connect.\n\nWhen you select a scenario, the Declared Age Range API returns the corresponding [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/upperBound], [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/lowerBound], and [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/ageRangeDeclaration] values, and PermissionKit returns the associated response status. Refer to the following table to check the specific values returned for each test case.\n\nCheck the `AgeRangeDeclaration` field in your Declared Age Range API responses to determine status.\n\n### Test app consent revocation\n\nTo test the notification when a parent or guardian revokes access to your app on behalf of their child, follow these steps:\n\nIf you have [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] enabled, your server receives a `RESCIND_CONSENT` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType]. The notification payload includes an [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/appData] object with app metadata, including the `bundleId` and `environment` fields that help you check the notification applies to the correct app and test environment.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-age-assurance-in-sandbox\ncrawled: 2025-12-01T12:11:52Z\n---\n\n# Testing Age Assurance in Sandbox\n\n**Article**\n\nCheck that your app responds correctly to Age Assurance scenarios and consent revocation using the Sandbox environment.\n\n## Overview\n\nYou can provide people the ability to make decisions about who can access your app, or parts of your app. [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange] API enables you to request people’s age and create custom experiences based on the information they share, and [doc:\/\/com.apple.documentation\/documentation\/PermissionKit] gives you the ability to provide parents or guardians the opportunity to decide if their child can access your app. Make sure your app implements age restrictions and processes permission revocation as parents or guardians instruct.\n\nIn the Sandbox environment you can test how your app responds to various age range scenarios, location-based restrictions, approval state changes, and consent revocation. Focus on testing age range variations across your target audience, and consider regulatory compliance in different regions.\n\n### Test Age Assurance on device\n\nTest various age range scenarios on the Age Assurance page in iOS by following these steps:\n\n1. Open Settings and select Developer.\n2. Tap Sandbox Testing from the main menu.\n3. From the Sandbox Testing screen, tap Age Assurance.\n4. Choose from the available age scenarios based on your testing needs.\n\nYou can also change these settings in App Store Connect.\n\nWhen you select a scenario, the Declared Age Range API returns the corresponding [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/upperBound], [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/lowerBound], and [doc:\/\/com.apple.documentation\/documentation\/DeclaredAgeRange\/AgeRangeService\/AgeRange\/ageRangeDeclaration] values, and PermissionKit returns the associated response status. Refer to the following table to check the specific values returned for each test case.\n\n\n\n\n\nCheck the `AgeRangeDeclaration` field in your Declared Age Range API responses to determine status.\n\n### Test app consent revocation\n\nTo test the notification when a parent or guardian revokes access to your app on behalf of their child, follow these steps:\n\n1. Start with a Sandbox account.\n2. From the Age Assurance settings, tap Revoke App Consent.\n3. Enter your app’s Bundle ID (for example, com.example.bundle).\n4. Tap Revoke Consent to simulate the revocation.\n5. Confirm that the system displays “Notification Triggered” with the message “A notification will be sent to the developer server soon.”\n\nIf you have [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] enabled, your server receives a `RESCIND_CONSENT` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType]. The notification payload includes an [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/appData] object with app metadata, including the `bundleId` and `environment` fields that help you check the notification applies to the correct app and test environment.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Testing Age Assurance in Sandbox",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-age-assurance-in-sandbox"
}