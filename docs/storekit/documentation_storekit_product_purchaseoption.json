{
  "abstract" : "Optional settings for a product purchase that add account information, purchase details, and offers, or that specify behaviors.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "Copyable",
    "CustomDebugStringConvertible",
    "Equatable",
    "Hashable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "b38947e3138ca6ed969bc4927a2f530e9ab79fd30c3bb1e1a5a0777281b1b634",
  "crawledAt" : "2025-12-02T18:03:29Z",
  "declaration" : {
    "code" : "struct PurchaseOption",
    "language" : "swift"
  },
  "id" : "0A581728-2ACE-4C6D-BDD9-28FA64FFEAC6",
  "kind" : "struct",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nAssociate purchase options with an in-app purchase when you call the methods to initiate a purchase, such as [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(confirmIn:options:)-6dj6y]. Use the testing-specific options with [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] or in the sandbox testing environment.\n\nPurchase options enable you to provide additional information for the purchase, such as an app account token, promotional offer, win back offer, and quantity. You can also use purchase options to indicate how the transaction behaves if the storefront changes, and to indicate whether the transaction is eligible for an introductory offer.\n\n### Use purchase options during testing\n\nIn the sandbox testing environment, use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/PurchaseOption\/simulatesAskToBuyInSandbox(_:)] to test Ask To Buy scenarios.\n\nIn the Xcode testing environment with [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest], use the following testing-specific purchase options when you call [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/SKTestSession\/buyProduct(identifier:options:)]:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\ncrawled: 2025-12-02T18:03:29Z\n---\n\n# Product.PurchaseOption\n\n**Structure**\n\nOptional settings for a product purchase that add account information, purchase details, and offers, or that specify behaviors.\n\n## Declaration\n\n```swift\nstruct PurchaseOption\n```\n\n## Overview\n\nAssociate purchase options with an in-app purchase when you call the methods to initiate a purchase, such as [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(confirmIn:options:)-6dj6y]. Use the testing-specific options with [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] or in the sandbox testing environment.\n\nPurchase options enable you to provide additional information for the purchase, such as an app account token, promotional offer, win back offer, and quantity. You can also use purchase options to indicate how the transaction behaves if the storefront changes, and to indicate whether the transaction is eligible for an introductory offer.\n\n\n\n### Use purchase options during testing\n\nIn the sandbox testing environment, use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/PurchaseOption\/simulatesAskToBuyInSandbox(_:)] to test Ask To Buy scenarios.\n\nIn the Xcode testing environment with [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest], use the following testing-specific purchase options when you call [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/SKTestSession\/buyProduct(identifier:options:)]:\n\n- Use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/PurchaseOption\/codeOffer(referenceName:)] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/PurchaseOption\/promotionalOffer(id:)] to simulate customers redeeming the offers.\n- Use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/PurchaseOption\/purchaseDate(_:renewalBehavior:)] to control the transaction date and subscription renewal behavior.\n\n## Setting the purchase options\n\n- **appAccountToken(_:)**: Sets a UUID to associate the purchase with an account in your system.\n- **winBackOffer(_:)**: Sets a win-back offer to apply to the purchase.\n- **promotionalOffer(offerID:keyID:nonce:signature:timestamp:)**: Applies a promotional offer for an auto-renewable subscription.\n- **promotionalOffer(offerID:signature:)**\n- **quantity(_:)**: Indicates the quantity of items the customer is purchasing.\n\n## Specifying the behavior for storefront changes\n\n- **onStorefrontChange(shouldContinuePurchase:)**: Indicates whether a transaction needs to continue if the App Store storefront changes on the device during the transaction.\n\n## Specifying eligibility for an introductory offer\n\n- **introductoryOfferEligibility(compactJWS:)**: Set the eligibility of an introductory offer for a purchase.\n\n## Setting options for StoreKit Testing in Xcode\n\n- **purchaseDate(_:renewalBehavior:)**: Sets the purchase date for the transaction in the testing environment, and indicates the renewal behavior for an auto-renewable subscription.\n- **Product.PurchaseOption.SubscriptionRenewalBehavior**: Renewal options for auto-renewable subscriptions that you purchase in the testing environment.\n- **codeOffer(referenceName:)**: Sets an offer code for the transaction in the testing environment.\n- **promotionalOffer(id:)**: Sets a promotional offer for the transaction in the testing environment.\n\n## Setting options for sandbox testing\n\n- **simulatesAskToBuyInSandbox(_:)**: Simulates an Ask to Buy scenario when testing your app in the sandbox environment.\n\n## Setting custom purchase options\n\n- **custom(key:value:)**: Adds data for a custom key to a purchase.\n- **custom(key:value:)**: Adds a string for a custom key to a purchase.\n- **custom(key:value:)**: Adds a Boolean value for a custom key to a purchase.\n- **custom(key:value:)**: Adds a number for a custom key to a purchase.\n\n## Type Methods\n\n- **promotionalOffer(_:compactJWS:)**: Apply a promotional offer to a purchase.\n\n## Purchasing a product\n\n- **purchase(options:)**: Initiates a purchase for the product with the App Store and displays the confirmation sheet.\n- **purchase(confirmIn:options:)**: Initiates a purchase for the product with the App Store and displays the confirmation sheet.\n- **purchase(confirmIn:options:)**: Processes a purchase for the product.\n- **purchase(confirmIn:options:)**: Processes a purchase for the product.\n- **Product.PurchaseResult**: The result of a purchase.\n- **Product.PurchaseError**: Error information for product purchase errors.\n\n## Conforms To\n\n- Copyable\n- CustomDebugStringConvertible\n- Equatable\n- Hashable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets a UUID to associate the purchase with an account in your system.",
          "name" : "appAccountToken(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/appAccountToken(_:)"
        },
        {
          "description" : "Sets a win-back offer to apply to the purchase.",
          "name" : "winBackOffer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/winBackOffer(_:)"
        },
        {
          "description" : "Applies a promotional offer for an auto-renewable subscription.",
          "name" : "promotionalOffer(offerID:keyID:nonce:signature:timestamp:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/promotionalOffer(offerID:keyID:nonce:signature:timestamp:)"
        },
        {
          "description" : "",
          "name" : "promotionalOffer(offerID:signature:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/promotionalOffer(offerID:signature:)"
        },
        {
          "description" : "Indicates the quantity of items the customer is purchasing.",
          "name" : "quantity(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/quantity(_:)"
        }
      ],
      "title" : "Setting the purchase options"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Indicates whether a transaction needs to continue if the App Store storefront changes on the device during the transaction.",
          "name" : "onStorefrontChange(shouldContinuePurchase:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/onStorefrontChange(shouldContinuePurchase:)"
        }
      ],
      "title" : "Specifying the behavior for storefront changes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Set the eligibility of an introductory offer for a purchase.",
          "name" : "introductoryOfferEligibility(compactJWS:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/introductoryOfferEligibility(compactJWS:)"
        }
      ],
      "title" : "Specifying eligibility for an introductory offer"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the purchase date for the transaction in the testing environment, and indicates the renewal behavior for an auto-renewable subscription.",
          "name" : "purchaseDate(_:renewalBehavior:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/purchaseDate(_:renewalBehavior:)"
        },
        {
          "description" : "Renewal options for auto-renewable subscriptions that you purchase in the testing environment.",
          "name" : "Product.PurchaseOption.SubscriptionRenewalBehavior",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/SubscriptionRenewalBehavior"
        },
        {
          "description" : "Sets an offer code for the transaction in the testing environment.",
          "name" : "codeOffer(referenceName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/codeOffer(referenceName:)"
        },
        {
          "description" : "Sets a promotional offer for the transaction in the testing environment.",
          "name" : "promotionalOffer(id:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/promotionalOffer(id:)"
        }
      ],
      "title" : "Setting options for StoreKit Testing in Xcode"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Simulates an Ask to Buy scenario when testing your app in the sandbox environment.",
          "name" : "simulatesAskToBuyInSandbox(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/simulatesAskToBuyInSandbox(_:)"
        }
      ],
      "title" : "Setting options for sandbox testing"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds data for a custom key to a purchase.",
          "name" : "custom(key:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/custom(key:value:)-80cvh"
        },
        {
          "description" : "Adds a string for a custom key to a purchase.",
          "name" : "custom(key:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/custom(key:value:)-3g3nc"
        },
        {
          "description" : "Adds a Boolean value for a custom key to a purchase.",
          "name" : "custom(key:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/custom(key:value:)-8tjim"
        },
        {
          "description" : "Adds a number for a custom key to a purchase.",
          "name" : "custom(key:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/custom(key:value:)-7rju9"
        }
      ],
      "title" : "Setting custom purchase options"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Apply a promotional offer to a purchase.",
          "name" : "promotionalOffer(_:compactJWS:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption\/promotionalOffer(_:compactJWS:)"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initiates a purchase for the product with the App Store and displays the confirmation sheet.",
          "name" : "purchase(options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/purchase(options:)"
        },
        {
          "description" : "Initiates a purchase for the product with the App Store and displays the confirmation sheet.",
          "name" : "purchase(confirmIn:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/purchase(confirmIn:options:)-6dj6y"
        },
        {
          "description" : "Processes a purchase for the product.",
          "name" : "purchase(confirmIn:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/purchase(confirmIn:options:)-3bivf"
        },
        {
          "description" : "Processes a purchase for the product.",
          "name" : "purchase(confirmIn:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/purchase(confirmIn:options:)-8eai6"
        },
        {
          "description" : "The result of a purchase.",
          "name" : "Product.PurchaseResult",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseResult"
        },
        {
          "description" : "Error information for product purchase errors.",
          "name" : "Product.PurchaseError",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseError"
        }
      ],
      "title" : "Purchasing a product"
    }
  ],
  "source" : "appleJSON",
  "title" : "Product.PurchaseOption",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/PurchaseOption"
}