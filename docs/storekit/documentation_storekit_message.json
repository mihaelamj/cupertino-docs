{
  "abstract" : "An instance for receiving and displaying App Store messages in your app.",
  "codeExamples" : [
    {
      "code" : "\/\/ Listen for App Store messages.\nfor await message in StoreKit.Message.messages {\n    \/\/ Call display on the message when the app is ready.\n}\n\n\/\/ Indicate the app is ready to display the message.\nguard let windowScene = self.view.window?.windowScene else {\n    fatalError(\"Could not get window scene.\")\n}\ntry? message.display(in: windowScene)",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Copyable",
    "Equatable",
    "Hashable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "73c0d23a1143d626e71133ceea79ef0f2be5e72b2bae553bd096ee21a44b8cbc",
  "crawledAt" : "2025-12-03T15:50:41Z",
  "declaration" : {
    "code" : "struct Message",
    "language" : "swift"
  },
  "id" : "4BFF51D1-4F40-4D5E-9170-E5A636D6A40D",
  "kind" : "struct",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nA StoreKit message represents a sheet that appears over your app to display important information from the App Store. Messages have a reason, which the  [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/reason-swift.property] value indicates. StoreKit retrieves any messages from the App Store each time your app launches, and presents them by default.\n\nYou can optionally use the `Message` API to control message presentation by delaying or suppressing messages. Your app can listen for messages with the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/messages-swift.type.property] asynchronous sequence, and can display them at a particular time by calling [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)], or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction] for SwiftUI views. For example, you may choose to delay messages in views where an interrupting sheet might confuse someone, such as in the middle of an onboarding flow, or if your app is providing real-time instructions.\n\nStoreKit presents message sheets only if a message is still relevant. For example, if a person resolves the issue outside your app before it calls [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)], StoreKit doesn’t present the message. StoreKit ensures that it presents each unique message once, even if the app asks to display messages multiple times.\n\n### Listen for and display messages\n\nIf you want to defer or suppress App Store messages, set up the message listener in your app when your app launches.\n\nTo control when a message may display, call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction] when your app’s ready to have StoreKit present the message. If your app doesn’t call either of these APIs after it listens for messages, it suppresses the messages. The following example is for apps that use [doc:\/\/com.apple.documentation\/documentation\/UIKit]:\n\nFor a code example that uses SwiftUI, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/storekit\/message\ncrawled: 2025-12-03T15:50:41Z\n---\n\n# Message\n\n**Structure**\n\nAn instance for receiving and displaying App Store messages in your app.\n\n## Declaration\n\n```swift\nstruct Message\n```\n\n## Overview\n\nA StoreKit message represents a sheet that appears over your app to display important information from the App Store. Messages have a reason, which the  [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/reason-swift.property] value indicates. StoreKit retrieves any messages from the App Store each time your app launches, and presents them by default.\n\n\n\nYou can optionally use the `Message` API to control message presentation by delaying or suppressing messages. Your app can listen for messages with the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/messages-swift.type.property] asynchronous sequence, and can display them at a particular time by calling [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)], or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction] for SwiftUI views. For example, you may choose to delay messages in views where an interrupting sheet might confuse someone, such as in the middle of an onboarding flow, or if your app is providing real-time instructions.\n\nStoreKit presents message sheets only if a message is still relevant. For example, if a person resolves the issue outside your app before it calls [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)], StoreKit doesn’t present the message. StoreKit ensures that it presents each unique message once, even if the app asks to display messages multiple times.\n\n### Listen for and display messages\n\nIf you want to defer or suppress App Store messages, set up the message listener in your app when your app launches.\n\nTo control when a message may display, call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/display(in:)] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction] when your app’s ready to have StoreKit present the message. If your app doesn’t call either of these APIs after it listens for messages, it suppresses the messages. The following example is for apps that use [doc:\/\/com.apple.documentation\/documentation\/UIKit]:\n\n```swift\n\/\/ Listen for App Store messages.\nfor await message in StoreKit.Message.messages {\n    \/\/ Call display on the message when the app is ready.\n}\n\n\/\/ Indicate the app is ready to display the message.\nguard let windowScene = self.view.window?.windowScene else {\n    fatalError(\"Could not get window scene.\")\n}\ntry? message.display(in: windowScene)\n```\n\nFor a code example that uses SwiftUI, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/DisplayMessageAction].\n\n## Getting messages and message reasons\n\n- **messages**: The asynchronous sequence that sends a message when the App Store creates it.\n- **reason**: The reason that the App Store sends the message.\n- **Message.Messages**: An asynchronous sequence of messages from the App Store.\n- **Message.Reason**: Reasons for the App Store messages.\n\n## Displaying messages\n\n- **display(in:)**: Requests the system to display the App Store message in the window scene.\n\n## Messages\n\n- **Message.Reason**: Reasons for the App Store messages.\n- **DisplayMessageAction**: An instance that asks StoreKit to display an App Store message, if appropriate.\n\n## Conforms To\n\n- Copyable\n- Equatable\n- Hashable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The asynchronous sequence that sends a message when the App Store creates it.",
          "name" : "messages",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/messages-swift.type.property"
        },
        {
          "description" : "The reason that the App Store sends the message.",
          "name" : "reason",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/reason-swift.property"
        },
        {
          "description" : "An asynchronous sequence of messages from the App Store.",
          "name" : "Message.Messages",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/Messages-swift.struct"
        },
        {
          "description" : "Reasons for the App Store messages.",
          "name" : "Message.Reason",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/Reason-swift.struct"
        }
      ],
      "title" : "Getting messages and message reasons"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Requests the system to display the App Store message in the window scene.",
          "name" : "display(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/display(in:)"
        }
      ],
      "title" : "Displaying messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Reasons for the App Store messages.",
          "name" : "Message.Reason",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Message\/Reason-swift.struct"
        },
        {
          "description" : "An instance that asks StoreKit to display an App Store message, if appropriate.",
          "name" : "DisplayMessageAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/DisplayMessageAction"
        }
      ],
      "title" : "Messages"
    }
  ],
  "source" : "appleJSON",
  "title" : "Message",
  "url" : "https:\/\/developer.apple.com\/documentation\/storekit\/message"
}