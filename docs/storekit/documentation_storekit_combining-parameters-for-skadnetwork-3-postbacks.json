{
  "abstract" : "Recreate the byte array for version 3 postbacks that win and don’t win attribution.",
  "codeExamples" : [
    {
      "code" : "version + '\\u2063' + ad-network-id + '\\u2063' + campaign-id + '\\u2063' + app-id + '\\u2063' + transaction-id + '\\u2063' + redownload + '\\u2063' + source-app-id + '\\u2063' + fidelity-type + '\\u2063' + did-win\n ",
      "language" : "javascript"
    },
    {
      "code" : "version + '\\u2063' + ad-network-id + '\\u2063' + campaign-id + '\\u2063' + app-id + '\\u2063' + transaction-id + '\\u2063' + redownload + '\\u2063' + fidelity-type + '\\u2063' + did-win\n",
      "language" : "javascript"
    },
    {
      "code" : "{ \n  \"version\": \"3.0\", \n  \"ad-network-id\": \"example123.skadnetwork\", \n  \"campaign-id\": 42, \n  \"transaction-id\": \"6aafb7a5-0170-41b5-bbe4-fe71dedf1e28\", \n  \"app-id\": 525463029, \n  \"attribution-signature\": \"MEYCIQD5eq3AUlamORiGovqFiHWI4RZT\/PrM3VEiXUrsC+M51wIhAPMANZA9c07raZJ64gVaXhB9+9yZj\/X6DcNxONdccQij\", \n  \"redownload\": true, \n  \"source-app-id\": 1234567891, \n  \"fidelity-type\": 1, \n  \"conversion-value\": 20,\n  \"did-win\": true\n}",
      "language" : "javascript"
    },
    {
      "code" : "{ \n  \"version\": \"3.0\",\n  \"ad-network-id\": \"example123.skadnetwork\",\n  \"campaign-id\": 42,\n  \"transaction-id\": \"f9ac267a-a889-44ce-b5f7-0166d11461f0\",\n  \"app-id\": 525463029,\n  \"attribution-signature\": \"MEUCIQDDetUtkyc\/MiQvVJ5I6HIO1E7l598572Wljot2Onzd4wIgVJLzVcyAV+TXksGNoa0DTMXEPgNPeHCmD4fw1ABXX0g=\",\n  \"redownload\": true,\n  \"fidelity-type\": 1,\n  \"did-win\": false\n}",
      "language" : "javascript"
    }
  ],
  "contentHash" : "f0dfa0c451e6375e50b550602ba7e1a97249826789efc4d0cae279b9169db90f",
  "crawledAt" : "2025-12-07T15:11:19Z",
  "id" : "76A5D27B-C140-4243-846D-1735C75CEFAD",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nCheck your postback’s version, and use the version-specific instructions to combine the parameters to validate the postback. The order of the parameters depends on the version of the postback you receive.\n\nTo verify the signature, combine the postback parameter values in this order for a version 3 postback:\n\nInclude `source-app-id` only if you receive it in the postback. Note that the signature doesn’t include a conversion value, even if it’s present in the postback. Postbacks that win the attribution have a `did-win` value of `true`. Postbacks that don’t win the attribution have a `did-win` value of `false`, and don’t include `source-app-id`.\n\nThe following example of the UTF-8 string includes `source-app-id:`\n\nThe following example of the UTF-8 string doesn’t include `source-app-id:`\n\n### Receive the winning postback with attribution\n\nThe following JSON example shows a version 3 install-validation postback the device sends to an ad network that wins the attribution. This example contains all possible parameters and a valid signature:\n\n### Receive a nonwinning postback, without attribution\n\nIn iOS 14.6 and later, ad networks that sign ads with version 3 may receive a postback for their qualifying ad impression that don’t win the attribution. Such postbacks have a `did-win` value of `false`, and don’t include `source-app-id` or `conversion-value`.\n\nThe following example shows a version 3 postback for an ad that doesn’t win the attribution. This example contains all the parameters the system includes in a nonwinning postback:\n\nUp to five ad networks may receive a nonwinning postback. A single ad network can receive at most one postback per advertised app, per conversion. For example, if the device registers three qualifying ad impressions from your ad network, you receive only one postback.\n\nIf your ad network wins the attribution, you only receive the winning postback, even if the device registers other qualifying impressions for your ad.\n\nFor more information about ad impressions qualifying for attribution, and receiving winning or nonwinning postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-for-skadnetwork-3-postbacks\ncrawled: 2025-12-07T15:11:19Z\n---\n\n# Combining parameters for SKAdNetwork 3 postbacks\n\n**Article**\n\nRecreate the byte array for version 3 postbacks that win and don’t win attribution.\n\n## Overview\n\nCheck your postback’s version, and use the version-specific instructions to combine the parameters to validate the postback. The order of the parameters depends on the version of the postback you receive.\n\nTo verify the signature, combine the postback parameter values in this order for a version 3 postback:\n\n- `version`\n- `ad-network-id`\n- `campaign-id`\n- `app-id`\n- `transaction-id`\n- `redownload` (Use the strings `“true”` or `“false”` to represent the Boolean value of the redownload parameter.)\n- `source-app-id`\n- `fidelity-type`\n- `did-win`\n\nInclude `source-app-id` only if you receive it in the postback. Note that the signature doesn’t include a conversion value, even if it’s present in the postback. Postbacks that win the attribution have a `did-win` value of `true`. Postbacks that don’t win the attribution have a `did-win` value of `false`, and don’t include `source-app-id`.\n\nThe following example of the UTF-8 string includes `source-app-id:`\n\n```javascript\nversion + '\\u2063' + ad-network-id + '\\u2063' + campaign-id + '\\u2063' + app-id + '\\u2063' + transaction-id + '\\u2063' + redownload + '\\u2063' + source-app-id + '\\u2063' + fidelity-type + '\\u2063' + did-win\n \n```\n\nThe following example of the UTF-8 string doesn’t include `source-app-id:`\n\n```javascript\nversion + '\\u2063' + ad-network-id + '\\u2063' + campaign-id + '\\u2063' + app-id + '\\u2063' + transaction-id + '\\u2063' + redownload + '\\u2063' + fidelity-type + '\\u2063' + did-win\n\n```\n\n### Receive the winning postback with attribution\n\nThe following JSON example shows a version 3 install-validation postback the device sends to an ad network that wins the attribution. This example contains all possible parameters and a valid signature:\n\n```javascript\n{ \n  \"version\": \"3.0\", \n  \"ad-network-id\": \"example123.skadnetwork\", \n  \"campaign-id\": 42, \n  \"transaction-id\": \"6aafb7a5-0170-41b5-bbe4-fe71dedf1e28\", \n  \"app-id\": 525463029, \n  \"attribution-signature\": \"MEYCIQD5eq3AUlamORiGovqFiHWI4RZT\/PrM3VEiXUrsC+M51wIhAPMANZA9c07raZJ64gVaXhB9+9yZj\/X6DcNxONdccQij\", \n  \"redownload\": true, \n  \"source-app-id\": 1234567891, \n  \"fidelity-type\": 1, \n  \"conversion-value\": 20,\n  \"did-win\": true\n}\n```\n\n### Receive a nonwinning postback, without attribution\n\nIn iOS 14.6 and later, ad networks that sign ads with version 3 may receive a postback for their qualifying ad impression that don’t win the attribution. Such postbacks have a `did-win` value of `false`, and don’t include `source-app-id` or `conversion-value`.\n\nThe following example shows a version 3 postback for an ad that doesn’t win the attribution. This example contains all the parameters the system includes in a nonwinning postback:\n\n```javascript\n{ \n  \"version\": \"3.0\",\n  \"ad-network-id\": \"example123.skadnetwork\",\n  \"campaign-id\": 42,\n  \"transaction-id\": \"f9ac267a-a889-44ce-b5f7-0166d11461f0\",\n  \"app-id\": 525463029,\n  \"attribution-signature\": \"MEUCIQDDetUtkyc\/MiQvVJ5I6HIO1E7l598572Wljot2Onzd4wIgVJLzVcyAV+TXksGNoa0DTMXEPgNPeHCmD4fw1ABXX0g=\",\n  \"redownload\": true,\n  \"fidelity-type\": 1,\n  \"did-win\": false\n}\n```\n\nUp to five ad networks may receive a nonwinning postback. A single ad network can receive at most one postback per advertised app, per conversion. For example, if the device registers three qualifying ad impressions from your ad network, you receive only one postback.\n\nIf your ad network wins the attribution, you only receive the winning postback, even if the device registers other qualifying impressions for your ad.\n\nFor more information about ad impressions qualifying for attribution, and receiving winning or nonwinning postbacks, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\n## SKAdNetworks 3 and earlier postbacks\n\n- **Combining parameters for previous SKAdNetwork postback versions**: Recreate the byte array for versions 2.2 or earlier.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Recreate the byte array for versions 2.2 or earlier.",
          "name" : "Combining parameters for previous SKAdNetwork postback versions",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-for-previous-skadnetwork-postback-versions"
        }
      ],
      "title" : "SKAdNetworks 3 and earlier postbacks"
    }
  ],
  "source" : "appleJSON",
  "title" : "Combining parameters for SKAdNetwork 3 postbacks",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/combining-parameters-for-skadnetwork-3-postbacks"
}