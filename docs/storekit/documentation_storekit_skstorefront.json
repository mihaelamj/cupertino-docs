{
  "abstract" : "An object containing the location and unique identifier of an Apple App Store storefront.",
  "codeExamples" : [
    {
      "code" : "func shouldShow(_ productIdentifier: String, in storefront: SKStorefront) -> Bool {\n    var shouldShow = true\n     \n    \/\/ myProducts is a dictionary representing your own metadata for products,\n    \/\/ keyed on an SKProduct.productIdentifier.\n    if let myProduct = myProducts[productIdentifier] {\n        shouldShow = myProduct.countryCodes.contains(storefront.countryCode)\n    }\n    return shouldShow\n}",
      "language" : "swift"
    },
    {
      "code" : "func fetchProductInfo() {\n    var identifiers = Set<String>()\n    if let storefront = SKPaymentQueue.default().storefront {\n        for (identifier, _) in myProducts {\n            if shouldShow(identifier, in: storefront) {\n                identifiers.insert(identifier)\n            }\n        }\n        let request = SKProductsRequest(productIdentifiers: identifiers)\n        request.delegate = self\n        request.start()\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "func paymentQueueDidChangeStorefront(_ queue: SKPaymentQueue) {\n    if let storefront = queue.storefront {\n        \/\/ Refresh the displayed products based on the new storefront.\n        for product in storeProducts {\n            if shouldShow(product.productIdentifier, in: storefront) {\n                \/\/ Display this product in your store UI.\n         }\n      }\n   }\n}",
      "language" : "swift"
    },
    {
      "code" : "SKPaymentQueue.default().delegate = self  \/\/ Set your object as the SKPaymentQueue delegate.\n\nfunc paymentQueue(_ paymentQueue: SKPaymentQueue,\n                  shouldContinue transaction: SKPaymentTransaction,\n                  in newStorefront: SKStorefront) -> Bool {\n    return shouldShow(transaction.payment.productIdentifier, in: newStorefront)\n}",
      "language" : "swift"
    },
    {
      "code" : "func paymentQueue(_ queue: SKPaymentQueue,\n                  updatedTransactions transactions: [SKPaymentTransaction]) {\n    for transaction in transactions {\n        if let transactionError = transaction.error as NSError?,\n            transactionError.domain == SKErrorDomain\n            && transactionError.code == SKError.storeProductNotAvailable.rawValue {\n            \/\/ Show an alert.\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "176e404398e430d7c6b2aa3df8c9efa908e6cff76b718dcbfb06726a02091c85",
  "crawledAt" : "2025-12-03T07:04:47Z",
  "declaration" : {
    "code" : "class SKStorefront",
    "language" : "swift"
  },
  "id" : "E5A91CAC-510B-4400-ACF5-170D8D6DE49E",
  "kind" : "class",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nIn-app products you create through App Store Connect are available for sale in every region with an App Store. You can use the storefront information to determine the customer’s region, and offer in-app products suitable for that region. StoreKit exposes [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront] storefront information as a read-only property in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue].\n\nYou must maintain your own list of product identifiers and the storefronts in which you want to make them available.\n\n### Show Products Based on the Current Storefront\n\nThe following example function `shouldShow` returns `false` if your product isn’t suitable for the given storefront. You must create your own list of products available by storefront, referred to as `myProducts` below:\n\nThe following code listing requests information for products that you wish to display based on the device’s storefront. It uses the `shouldShow` function defined above.\n\n### Listen for Storefront Changes\n\nThe storefront value can change at any time. To listen for changes in this value, implement the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueueDidChangeStorefront(_:)] method. The `shouldShow` function is defined in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront#Show-Products-Based-on-the-Current-Storefront]. Refresh the list of your available products when the storefront changes, as shown below:\n\n### Respond to Storefront Changes\n\nThe current storefront can change at any time, including during a transaction. The following code listing determines whether the transaction should continue in the updated storefront. Your delegate’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueueDelegate\/paymentQueue(_:shouldContinue:in:)] method must return quickly, before the call times out. The `shouldShow` function is defined in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront#Show-Products-Based-on-the-Current-Storefront].\n\nIf the product isn’t available in the updated storefront, the transaction fails with the error [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKError\/Code\/storeProductNotAvailable]. Handle this error in your [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method by displaying an alert to let the customer know why the app can’t complete the transaction, as shown below:\n\n### Change the App Store Country or Region in the Sandbox Environment\n\nWhen you change the App Store Country or Region in App Store Connect for a Sandbox Apple Account, it changes the storefront in your app. Change the region to test in-app purchases for different regions in your app. For more information about changing the App Store Country or Region in App Store Connect, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev7e89e149d].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKStorefront\ncrawled: 2025-12-03T07:04:47Z\n---\n\n# SKStorefront\n\n**Class**\n\nAn object containing the location and unique identifier of an Apple App Store storefront.\n\n## Declaration\n\n```swift\nclass SKStorefront\n```\n\n## Overview\n\nIn-app products you create through App Store Connect are available for sale in every region with an App Store. You can use the storefront information to determine the customer’s region, and offer in-app products suitable for that region. StoreKit exposes [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront] storefront information as a read-only property in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue].\n\nYou must maintain your own list of product identifiers and the storefronts in which you want to make them available.\n\n\n\n### Show Products Based on the Current Storefront\n\nThe following example function `shouldShow` returns `false` if your product isn’t suitable for the given storefront. You must create your own list of products available by storefront, referred to as `myProducts` below:\n\n```swift\nfunc shouldShow(_ productIdentifier: String, in storefront: SKStorefront) -> Bool {\n    var shouldShow = true\n     \n    \/\/ myProducts is a dictionary representing your own metadata for products,\n    \/\/ keyed on an SKProduct.productIdentifier.\n    if let myProduct = myProducts[productIdentifier] {\n        shouldShow = myProduct.countryCodes.contains(storefront.countryCode)\n    }\n    return shouldShow\n}\n```\n\nThe following code listing requests information for products that you wish to display based on the device’s storefront. It uses the `shouldShow` function defined above.\n\n```swift\nfunc fetchProductInfo() {\n    var identifiers = Set<String>()\n    if let storefront = SKPaymentQueue.default().storefront {\n        for (identifier, _) in myProducts {\n            if shouldShow(identifier, in: storefront) {\n                identifiers.insert(identifier)\n            }\n        }\n        let request = SKProductsRequest(productIdentifiers: identifiers)\n        request.delegate = self\n        request.start()\n    }\n}\n```\n\n### Listen for Storefront Changes\n\nThe storefront value can change at any time. To listen for changes in this value, implement the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueueDidChangeStorefront(_:)] method. The `shouldShow` function is defined in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront#Show-Products-Based-on-the-Current-Storefront]. Refresh the list of your available products when the storefront changes, as shown below:\n\n```swift\nfunc paymentQueueDidChangeStorefront(_ queue: SKPaymentQueue) {\n    if let storefront = queue.storefront {\n        \/\/ Refresh the displayed products based on the new storefront.\n        for product in storeProducts {\n            if shouldShow(product.productIdentifier, in: storefront) {\n                \/\/ Display this product in your store UI.\n         }\n      }\n   }\n}\n```\n\n### Respond to Storefront Changes\n\nThe current storefront can change at any time, including during a transaction. The following code listing determines whether the transaction should continue in the updated storefront. Your delegate’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueueDelegate\/paymentQueue(_:shouldContinue:in:)] method must return quickly, before the call times out. The `shouldShow` function is defined in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStorefront#Show-Products-Based-on-the-Current-Storefront].\n\n```swift\nSKPaymentQueue.default().delegate = self  \/\/ Set your object as the SKPaymentQueue delegate.\n\nfunc paymentQueue(_ paymentQueue: SKPaymentQueue,\n                  shouldContinue transaction: SKPaymentTransaction,\n                  in newStorefront: SKStorefront) -> Bool {\n    return shouldShow(transaction.payment.productIdentifier, in: newStorefront)\n}\n```\n\nIf the product isn’t available in the updated storefront, the transaction fails with the error [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKError\/Code\/storeProductNotAvailable]. Handle this error in your [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method by displaying an alert to let the customer know why the app can’t complete the transaction, as shown below:\n\n```swift\nfunc paymentQueue(_ queue: SKPaymentQueue,\n                  updatedTransactions transactions: [SKPaymentTransaction]) {\n    for transaction in transactions {\n        if let transactionError = transaction.error as NSError?,\n            transactionError.domain == SKErrorDomain\n            && transactionError.code == SKError.storeProductNotAvailable.rawValue {\n            \/\/ Show an alert.\n        }\n    }\n}\n```\n\n### Change the App Store Country or Region in the Sandbox Environment\n\nWhen you change the App Store Country or Region in App Store Connect for a Sandbox Apple Account, it changes the storefront in your app. Change the region to test in-app purchases for different regions in your app. For more information about changing the App Store Country or Region in App Store Connect, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev7e89e149d].\n\n\n\n## Identifying the Storefront\n\n- **countryCode**: The three-letter code representing the country or region associated with the App Store storefront.\n- **identifier**: A value defined by Apple that uniquely identifies an App Store storefront.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The three-letter code representing the country or region associated with the App Store storefront.",
          "name" : "countryCode",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKStorefront\/countryCode"
        },
        {
          "description" : "A value defined by Apple that uniquely identifies an App Store storefront.",
          "name" : "identifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKStorefront\/identifier"
        }
      ],
      "title" : "Identifying the Storefront"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "SKStorefront",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKStorefront"
}