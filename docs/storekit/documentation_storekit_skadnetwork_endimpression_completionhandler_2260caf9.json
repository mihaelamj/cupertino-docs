{
  "abstract" : "Indicates that your app is no longer presenting a view-through ad to the user.",
  "codeExamples" : [

  ],
  "contentHash" : "962f3231e6369f7e84cac2a9d79b40734de57ed5e540e4e1e4703533f4dbd576",
  "crawledAt" : "2025-12-05T11:21:49Z",
  "declaration" : {
    "code" : "class func endImpression(_ impression: SKAdImpression, completionHandler completion: (((any Error)?) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "4487423B-D557-4C35-B488-776A225393EB",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Discussion\n\nCall this method when you end the presentation of a view-through ad and it’s no longer visible to the user. To help ensure it’s a valid impression, StoreKit only records the impression if the ad displays for a minimum amount of time. That minimum is 2 seconds on devices running iOS 15.4 and iPadOS 15.4 and later, and 3 seconds on devices running earlier versions of iOS and iPadOS. If the app displays the ad for fewer than the minimum number of seconds, StoreKit doesn’t record the ad impression for attribution.\n\nStoreKit records a maximum of 15 view-through ad impressions per source app for various products before discarding the oldest-recorded impression.\n\nFor more information about ad impressions and attributions, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/endImpression(_:completionHandler:)\ncrawled: 2025-12-05T11:21:49Z\n---\n\n# endImpression(_:completionHandler:)\n\n**Type Method**\n\nIndicates that your app is no longer presenting a view-through ad to the user.\n\n## Declaration\n\n```swift\nclass func endImpression(_ impression: SKAdImpression, completionHandler completion: (((any Error)?) -> Void)? = nil)\n```\n\n```swift\nclass func endImpression(_ impression: SKAdImpression) async throws\n```\n\n## Parameters\n\n- **impression**: An instance of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKAdImpression] with the properties set for the view-through ad that you presented. This must be the same instance you provide in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKAdNetwork\/startImpression(_:completionHandler:)].\n- **completion**: The callback handler you provide to handle any tasks relevant to concluding the ad impression.\n\n## Discussion\n\nCall this method when you end the presentation of a view-through ad and it’s no longer visible to the user. To help ensure it’s a valid impression, StoreKit only records the impression if the ad displays for a minimum amount of time. That minimum is 2 seconds on devices running iOS 15.4 and iPadOS 15.4 and later, and 3 seconds on devices running earlier versions of iOS and iPadOS. If the app displays the ad for fewer than the minimum number of seconds, StoreKit doesn’t record the ad impression for attribution.\n\n\n\nStoreKit records a maximum of 15 view-through ad impressions per source app for various products before discarding the oldest-recorded impression.\n\nFor more information about ad impressions and attributions, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\n## Signing view-through ads\n\n- **Generating the signature to validate view-through ads**: Initiate install validation by displaying a view-through ad with signed parameters.\n- **SKAdImpression**: A class that defines an ad impression for a view-through ad.\n- **startImpression(_:completionHandler:)**: Indicates that your app is presenting a view-through ad to the user.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initiate install validation by displaying a view-through ad with signed parameters.",
          "name" : "Generating the signature to validate view-through ads",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/generating-the-signature-to-validate-view-through-ads"
        },
        {
          "description" : "A class that defines an ad impression for a view-through ad.",
          "name" : "SKAdImpression",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdImpression"
        },
        {
          "description" : "Indicates that your app is presenting a view-through ad to the user.",
          "name" : "startImpression(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/startImpression(_:completionHandler:)"
        }
      ],
      "title" : "Signing view-through ads"
    }
  ],
  "source" : "appleJSON",
  "title" : "endImpression(_:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/endImpression(_:completionHandler:)"
}