{
  "abstract" : "Presents a continuation sheet that enables people to choose whether your app shows the indicated URL link for external purchases.",
  "codeExamples" : [
    {
      "code" : "if let eligibleURLs = await ExternalPurchaseLink.eligibleURLs {\n    let url = chooseTheUrl(eligibleURLs) \/\/ Supply a function to choose one of the eligible URLs.\n    try await ExternalPurchaseLink.open(url: url)\n  }",
      "language" : "swift"
    },
    {
      "code" : "https:\/\/site.example.com?externalPurchaseToken=ewoJImFwcEFwcGxlSWQiOjEyMzQ1Njc4OTAsCgkiYnVuZGxlSWQiOiJjb20uZXhhbXBsZSIsCgkidG9rZW5DcmVhdGlvbkRhdGUiOjE3MDYxNjk2MDAwMDAsCgkiZXh0ZXJuYWxQdXJjaGFzZUlkIjoiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwIgp9&bundleId=com.example",
      "language" : "http"
    }
  ],
  "contentHash" : "3a90679f79534b3bbfe95f617481a0cd401949d486992765c7092c2dae974618",
  "crawledAt" : "2025-12-05T12:52:47Z",
  "declaration" : {
    "code" : "static func open(url: URL) async throws",
    "language" : "swift"
  },
  "id" : "F27BEAFC-248B-443A-8914-5ACD9E16FDCD",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Discussion\n\nCall this method if your app configures the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list key to attempt to open the eligible external purchase link, `url`. Call this asynchronous method as shown below:\n\nTo use this method, follow these steps:\n\nThe system displays the continuation sheet that enables the user to choose whether to continue to view the external purchase link. This asynchronous method returns before the system presents the continuation sheet, and can throw an error.\n\nIf the person chooses to continue, this method opens the link that you provide in the `url` parameter, and appends an external purchase token and the app’s bundleID to the URL. For example, StoreKit opens the following link on the default browser if your destination URL is `https:\/\/site.example.com`:\n\n### Handle errors\n\nThis method throws a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/StoreKitError] if any of the following are true:\n\nFor more information about App Store storefronts, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Storefront].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseLink\/open(url:)\ncrawled: 2025-12-05T12:52:47Z\n---\n\n# open(url:)\n\n**Type Method**\n\nPresents a continuation sheet that enables people to choose whether your app shows the indicated URL link for external purchases.\n\n## Declaration\n\n```swift\nstatic func open(url: URL) async throws\n```\n\n## Parameters\n\n- **url**: An eligible external purchase link that you select from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/eligibleURLs] array.\n\n## Discussion\n\nCall this method if your app configures the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list key to attempt to open the eligible external purchase link, `url`. Call this asynchronous method as shown below:\n\n```swift\nif let eligibleURLs = await ExternalPurchaseLink.eligibleURLs {\n    let url = chooseTheUrl(eligibleURLs) \/\/ Supply a function to choose one of the eligible URLs.\n    try await ExternalPurchaseLink.open(url: url)\n  }\n```\n\nTo use this method, follow these steps:\n\n1. Check the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/eligibleURLs] array. If the array contains one or more links, your app can display the user-interface controls to enable deliberate user interaction before offering an external purchase link.\n2. Select one of the eligible links.\n3. In response to deliberate user interaction, such as tapping a button, call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/open(url:)] with the link you select.\n\nThe system displays the continuation sheet that enables the user to choose whether to continue to view the external purchase link. This asynchronous method returns before the system presents the continuation sheet, and can throw an error.\n\nIf the person chooses to continue, this method opens the link that you provide in the `url` parameter, and appends an external purchase token and the app’s bundleID to the URL. For example, StoreKit opens the following link on the default browser if your destination URL is `https:\/\/site.example.com`:\n\n```http\nhttps:\/\/site.example.com?externalPurchaseToken=ewoJImFwcEFwcGxlSWQiOjEyMzQ1Njc4OTAsCgkiYnVuZGxlSWQiOiJjb20uZXhhbXBsZSIsCgkidG9rZW5DcmVhdGlvbkRhdGUiOjE3MDYxNjk2MDAwMDAsCgkiZXh0ZXJuYWxQdXJjaGFzZUlkIjoiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwIgp9&bundleId=com.example\n```\n\n\n\n### Handle errors\n\nThis method throws a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/StoreKitError] if any of the following are true:\n\n- Your app doesn’t have the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link] entitlement.\n- You haven’t configured external purchase links for the current App Store storefront in the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list key.\n- The current App Store storefront doesn’t support external purchases.\n- The person is ineligible to make external purchases.\n- A network or system error occurs.\n\nFor more information about App Store storefronts, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Storefront].\n\n## Getting multiple external purchase links\n\n- **SKExternalPurchaseMultiLink**: A dictionary that contains an array of URLs to websites where people using your app can make external purchases.\n- **eligibleURLs**: An array of external purchase links for the current storefront that the app configured and from which it chooses.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A dictionary that contains an array of URLs to websites where people using your app can make external purchases.",
          "name" : "SKExternalPurchaseMultiLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink"
        },
        {
          "description" : "An array of external purchase links for the current storefront that the app configured and from which it chooses.",
          "name" : "eligibleURLs",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseLink\/eligibleURLs"
        }
      ],
      "title" : "Getting multiple external purchase links"
    }
  ],
  "source" : "appleJSON",
  "title" : "open(url:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseLink\/open(url:)"
}