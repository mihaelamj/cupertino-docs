{
  "abstract" : "Verifies the first launch of an advertised app and, on subsequent calls, updates the conversion value or calls a completion handler if the update fails.",
  "codeExamples" : [

  ],
  "contentHash" : "e5a11242de8e60f63ebeccc40e18a543cc11358f1837cb5d7734981c94da0c05",
  "crawledAt" : "2025-12-05T12:51:49Z",
  "declaration" : {
    "code" : "class func updatePostbackConversionValue(_ conversionValue: Int, completionHandler completion: (((any Error)?) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "CDF18917-D9D7-4A27-AA5D-7D3DDEC2A94B",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Discussion\n\nInvalid conversion values cause the method to fail and return error [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKANError-swift.struct\/Code\/invalidConversionValue].\n\nApps call this method to update conversion values as people engage with the app. It’s up to the app or ad network to define the conversion value’s meaning. Call this method immediately when the user first launches the app to confirm the app’s launch. Call this method again, as needed, to reflect the person’s engagement with the app.\n\nThe final conversion value appears in the postback if sending the data meets Apple’s privacy threshold. Only postbacks that win the ad attribution can contain a conversion value. Nonwinning postbacks don’t contain conversion values. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\nThe way this method behaves depends on the ad’s version, as described in the following sections. Ad networks determine an ad’s version when they sign the ad. For more information about signing ads, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/signing-and-providing-ads].\n\n### Update the conversion value for version 3 ads and earlier\n\nIf the ad network signs the winning ad with version 3 or earlier, calling this method behaves as follows:\n\n### Update the conversion value for version 4 ads and later\n\nIf the ad network signs the winning ad with version 4 or later, calling this method behaves as follows:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:completionHandler:)\ncrawled: 2025-12-05T12:51:49Z\n---\n\n# updatePostbackConversionValue(_:completionHandler:)\n\n**Type Method**\n\nVerifies the first launch of an advertised app and, on subsequent calls, updates the conversion value or calls a completion handler if the update fails.\n\n## Declaration\n\n```swift\nclass func updatePostbackConversionValue(_ conversionValue: Int, completionHandler completion: (((any Error)?) -> Void)? = nil)\n```\n\n```swift\nclass func updatePostbackConversionValue(_ conversionValue: Int) async throws\n```\n\n## Parameters\n\n- **conversionValue**: An unsigned 6-bit value `≥0` and `≤63`. The app or the ad network defines the meaning of the conversion value. For ad impressions signed with SKAdNetwork 3 or earlier, you need to increase the `conversionValue` each time you call this method. For ad impressions signed with SKAdNetwork 4 or later, you may use any valid `conversionValue` each time you call this method.\n- **completion**: An optional completion handler you provide to catch and handle any errors this method encounters when you update a conversion value. Set this value to `nil` if you don’t provide a handler.\n\n## Discussion\n\nInvalid conversion values cause the method to fail and return error [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKANError-swift.struct\/Code\/invalidConversionValue].\n\n\n\nApps call this method to update conversion values as people engage with the app. It’s up to the app or ad network to define the conversion value’s meaning. Call this method immediately when the user first launches the app to confirm the app’s launch. Call this method again, as needed, to reflect the person’s engagement with the app.\n\nThe final conversion value appears in the postback if sending the data meets Apple’s privacy threshold. Only postbacks that win the ad attribution can contain a conversion value. Nonwinning postbacks don’t contain conversion values. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\nThe way this method behaves depends on the ad’s version, as described in the following sections. Ad networks determine an ad’s version when they sign the ad. For more information about signing ads, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/signing-and-providing-ads].\n\n### Update the conversion value for version 3 ads and earlier\n\nIf the ad network signs the winning ad with version 3 or earlier, calling this method behaves as follows:\n\n- Apps may call this method repeatedly before a rolling 24-hour timer expires.\n- The 24-hour timer restarts each time the app calls this method with a valid `conversionValue` that’s greater than the previous value.\n- When the timer expires, the conversion value is final and subsequent calls to [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:completionHandler:)] have no effect.\n- The device sends the postback to the ad network’s URL within 0 to 24 hours after the timer expires. The postback contains the final conversion value only if sending the data meets Apple’s privacy threshold.\n\n### Update the conversion value for version 4 ads and later\n\n\n\nIf the ad network signs the winning ad with version 4 or later, calling this method behaves as follows:\n\n- Apps may call this method repeatedly within the first conversion window.\n- Provide any `conversionValue` within the valid range; the `conversionValue` doesn’t need to increase with each call.\n- This method is available only during the first conversion window. Use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:coarseValue:lockWindow:completionHandler:)] to update conversion values in the subsequent conversion windows.\n- When the first conversion window closes, the system sends the postback within 0 to 24 hours. The postback contains the final conversion value only if sending the data meets Apple’s privacy threshold.\n\n## Providing conversion information\n\n- **updatePostbackConversionValue(_:coarseValue:lockWindow:completionHandler:)**: Updates the fine and coarse conversion values and indicates whether to send the postback before the conversion window ends, and calls a completion handler if the update fails.\n- **updatePostbackConversionValue(_:coarseValue:completionHandler:)**: Updates the fine and coarse conversion values, and calls a completion handler if the update fails.\n- **SKAdNetwork.CoarseConversionValue**: Coarse values to use for updating conversion values.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the fine and coarse conversion values and indicates whether to send the postback before the conversion window ends, and calls a completion handler if the update fails.",
          "name" : "updatePostbackConversionValue(_:coarseValue:lockWindow:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:coarseValue:lockWindow:completionHandler:)"
        },
        {
          "description" : "Updates the fine and coarse conversion values, and calls a completion handler if the update fails.",
          "name" : "updatePostbackConversionValue(_:coarseValue:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:coarseValue:completionHandler:)"
        },
        {
          "description" : "Coarse values to use for updating conversion values.",
          "name" : "SKAdNetwork.CoarseConversionValue",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/CoarseConversionValue"
        }
      ],
      "title" : "Providing conversion information"
    }
  ],
  "source" : "appleJSON",
  "title" : "updatePostbackConversionValue(_:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKAdNetwork\/updatePostbackConversionValue(_:completionHandler:)"
}