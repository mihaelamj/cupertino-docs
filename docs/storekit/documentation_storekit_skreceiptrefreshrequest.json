{
  "abstract" : "A request to the App Store to get the app receipt, which represents the customer’s transactions with your app.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "23cd4f7a6c4b6791113efd611e711492bdc2e05f966c75a999a7f8dd506c467a",
  "crawledAt" : "2025-12-02T20:05:08Z",
  "declaration" : {
    "code" : "class SKReceiptRefreshRequest",
    "language" : "swift"
  },
  "id" : "5102695D-EC97-48E4-ADA9-6492C0F4843F",
  "kind" : "class",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nUse this API to request a new app receipt from the App Store if the receipt is invalid or missing from its expected location, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Bundle\/appStoreReceiptURL]. To request the receipt using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] object, you initialize it, attach a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequest\/delegate], and then call the request’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequest\/start()] method.\n\nWhen the request completes successfully, your delegate receives an [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] object in its [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequestDelegate\/requestDidFinish(_:)] method. Locate the app receipt using the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Bundle\/appStoreReceiptURL] property. For information about validating the receipt, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/choosing-a-receipt-validation-technique].\n\nIf the request fails and calls your delegate’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequestDelegate\/request(_:didFailWithError:)] method, your app needs to release the request and not attempt to call it a second time. Requests can fail when a user doesn’t authenticate or chooses to cancel the request. Without a validated receipt, assume the user doesn’t have access to premium content.\n\nIn the sandbox environment, you can initialize a receipt with any combination of properties for testing when you call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest\/init(receiptProperties:)].\n\n### Use alternative techniques\n\nThere are times when using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] isn’t necessary, so avoid doing so, such as in the following scenarios:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest\ncrawled: 2025-12-02T20:05:08Z\n---\n\n# SKReceiptRefreshRequest\n\n**Class**\n\nA request to the App Store to get the app receipt, which represents the customer’s transactions with your app.\n\n## Declaration\n\n```swift\nclass SKReceiptRefreshRequest\n```\n\n## Overview\n\n\n\nUse this API to request a new app receipt from the App Store if the receipt is invalid or missing from its expected location, [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Bundle\/appStoreReceiptURL]. To request the receipt using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] object, you initialize it, attach a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequest\/delegate], and then call the request’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequest\/start()] method.\n\n\n\nWhen the request completes successfully, your delegate receives an [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] object in its [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequestDelegate\/requestDidFinish(_:)] method. Locate the app receipt using the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Bundle\/appStoreReceiptURL] property. For information about validating the receipt, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/choosing-a-receipt-validation-technique].\n\nIf the request fails and calls your delegate’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKRequestDelegate\/request(_:didFailWithError:)] method, your app needs to release the request and not attempt to call it a second time. Requests can fail when a user doesn’t authenticate or chooses to cancel the request. Without a validated receipt, assume the user doesn’t have access to premium content.\n\nIn the sandbox environment, you can initialize a receipt with any combination of properties for testing when you call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest\/init(receiptProperties:)].\n\n### Use alternative techniques\n\nThere are times when using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKReceiptRefreshRequest] isn’t necessary, so avoid doing so, such as in the following scenarios:\n\n- If the receipt is valid, but may be missing transactions, use [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/restoreCompletedTransactions()] instead. For example, the receipt may be missing a transaction if a person purchases a new subscription on another device.\n- In the sandbox environment, before the tester completes their first in-app purchase. Receipts are initially absent in the sandbox environment for iOS and iPadOS apps. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Bundle\/appStoreReceiptURL].\n\n## Initializing Receipt Refresh Requests\n\n- **init(receiptProperties:)**: Creates a receipt refresh request with optional properties.\n\n## Receipt Properties and Keys\n\n- **receiptProperties**: The properties of the receipt.\n- **SKReceiptPropertyIsExpired**: A key with a value that indicates whether the receipt is in an expired state.\n- **SKReceiptPropertyIsRevoked**: A key with a value that indicates whether the receipt is in a revoked state.\n- **SKReceiptPropertyIsVolumePurchase**: A key with a value that indicates whether the receipt is a Volume Purchase Plan receipt.\n\n## Purchase validation\n\n- **Choosing a receipt validation technique**: Select the type of receipt validation, on the device or on your server, that works for your app.\n- **Validating receipts with the App Store**: Verify transactions with the App Store on a secure server.\n- **appStoreReceiptURL**: The file URL for the bundle’s App Store receipt.\n\n## Inherits From\n\n- SKRequest\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a receipt refresh request with optional properties.",
          "name" : "init(receiptProperties:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest\/init(receiptProperties:)"
        }
      ],
      "title" : "Initializing Receipt Refresh Requests"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The properties of the receipt.",
          "name" : "receiptProperties",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest\/receiptProperties"
        },
        {
          "description" : "A key with a value that indicates whether the receipt is in an expired state.",
          "name" : "SKReceiptPropertyIsExpired",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptPropertyIsExpired"
        },
        {
          "description" : "A key with a value that indicates whether the receipt is in a revoked state.",
          "name" : "SKReceiptPropertyIsRevoked",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptPropertyIsRevoked"
        },
        {
          "description" : "A key with a value that indicates whether the receipt is a Volume Purchase Plan receipt.",
          "name" : "SKReceiptPropertyIsVolumePurchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptPropertyIsVolumePurchase"
        }
      ],
      "title" : "Receipt Properties and Keys"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Select the type of receipt validation, on the device or on your server, that works for your app.",
          "name" : "Choosing a receipt validation technique",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/choosing-a-receipt-validation-technique"
        },
        {
          "description" : "Verify transactions with the App Store on a secure server.",
          "name" : "Validating receipts with the App Store",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/validating-receipts-with-the-app-store"
        },
        {
          "description" : "The file URL for the bundle’s App Store receipt.",
          "name" : "appStoreReceiptURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/Bundle\/appStoreReceiptURL"
        }
      ],
      "title" : "Purchase validation"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "SKRequest"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "SKReceiptRefreshRequest",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKReceiptRefreshRequest"
}