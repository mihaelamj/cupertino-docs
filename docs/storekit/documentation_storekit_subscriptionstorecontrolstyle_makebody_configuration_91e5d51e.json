{
  "abstract" : "Creates a view that represents the body of a subscription store control.",
  "codeExamples" : [
    {
      "code" : "struct PriceComparisonButtonsSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        ForEach(configuration.options) { option in\n            VStack {\n                Button(localizedPrice(for: option), action: option.subscribe)\n                if let priceComparison = priceComparison(for: option, allOptions: configuration.allOptions) {\n                    Text(priceComparison)\n                }\n            }\n        }\n    }\n\n    \/\/ Helper methods for localizing text\n    \n    private func localizedPrice(for option: Configuration.Option) -> LocalizedStringKey {\n        \/\/ Use 'displayPrice' and 'subscriptionPeriod' on 'option' to localize the price.\n        \/\/ For example: \"$9.99\/month\"\n    }\n    \n    private func priceComparison(for option: Configuration.Option, allOptions: [Product]) -> LocalizedStringKey? {\n        guard let subscriptionPeriod = option.subscriptionPeriod, subscriptionPeriod != .monthly else {\n            return nil\n        }\n        let monthlyOption = allOptions.first { otherOption in \n            otherOption.subscriptionPeriod == .monthly && otherOption.groupLevel == option.groupLevel\n        }\n        guard let monthlyOption else { \n            return nil\n        }\n        \/\/ Create a localized string to represent the savings of subscribing to 'option' compared to paying per\n        \/\/ month with 'monthlyOption'. For example, \"Save $20.00 per year compared to the monthly option\".\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct PriceComparisonButtonsSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        ForEach(configuration.options) { option in\n            VStack {\n                SubscribeButton(option)\n                if let priceComparison = priceComparison(for: option, allOptions: configuration.allOptions) {\n                    Text(priceComparison)\n                }\n            }\n            .subscriptionStoreButtonLabel(.price)\n        }\n    }\n\n    \/\/ Helper method for localizing text     \n    private func priceComparison(for option: Configuration.Option, allOptions: [Product]) -> LocalizedStringKey? {\n        \/\/ Create a localized string to represent the savings of subscribing to 'option' compared to paying per\n        \/\/ month with 'monthlyOption'. For example, \"Save $20.00 per year compared to the monthly option\".\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct SimpleCustomPickerOptionLabelSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        SubscriptionPicker(configuration) { option in \n            HStack {\n                VStack {\n                    Text(option.displayName)\n                    if option.activeOffer != nil {\n                        Label(\"Special Offer\", systemImage: \"star\")\n                            .symbolVariant(.fill)\n                            .foregroundStyle(.tint)\n                            .font(.caption)\n                            .padding(4)\n                            .background(.secondary, .rect(cornerRadius: 4)\n                    }\n                }\n                Spacer()\n                Image(systemName: \"checkmark\")\n                    .foregroundStyle(.tint)\n                    .opacity(option.isSelected ? 1.0 : 0.0)\n            }\n        } confirmation: { option in \n            SubscribeButton(option)\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "6b0006eb9834db9af568c8f57bb7362738a4aef0b2c6cbac8b0da152f6fd8adc",
  "crawledAt" : "2025-12-04T17:18:14Z",
  "declaration" : {
    "code" : "@ViewBuilder @MainActor @preconcurrency func makeBody(configuration: Self.Configuration) -> Self.Body",
    "language" : "swift"
  },
  "id" : "A5F11A4B-E5FE-4D75-9D1E-5B42689EB441",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Return Value\n\nA view which provides UI controls to subscribe to a subscription service.\n\n## Discussion\n\nImplement this method to define a custom subscription store control style which conforms to the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle]. Use the `configuration` input — a value of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration] — to access the collection of subscription options to merchandise, and other properties of the controls. Return a view that provides controls for someone to choose an option from the configuration and subscribe. The following code example defines a style that adds price comparison captions to buttons:\n\nThe `PriceComparisonButtonsSubscriptionStoreControlStyle` structure in the example code provides a button to subscribe to each option in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/options] property of the `configuration`, along with an optional informative caption for options with durations longer than one month. By calling the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option\/subscribe()] method when a button is triggered, the subscription store view automatically manages a purchase task with the appropriate purchase options. The buttons automatically use the same button style as standard subscription store control styles, but you can customize this using [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/buttonStyle(_:)-66fbx].\n\nSince the control style creates a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/VStack] for each option, the subscription store view automatically lays out the stacks appropriately. You could instead provide an explicit layout container around [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ForEach] to customize the spacing and alignment of the buttons.\n\nTo handle cases where the monthly plans aren’t visible, the control style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/allOptions] property to compute price comparsions instead of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/options].\n\nThe control style reads properties of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo] directly on the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option] using dynamic member lookup, such as [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/subscriptionPeriod].\n\nWhenever any of the properties of `configuration` change, the system calls your [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/makeBody(configuration:)] method again to display an updated view.\n\nThe above example provides a button per plan, but not all control styles need to work this way. For example, you could combine multiple controls together with buttons, such as [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Picker] or [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Toggle], and use state to implement more complicated interactions.\n\n### Modifying subviews of standard control styles\n\nThe `PriceComparisonButtonsSubscriptionStoreControlStyle` in the example code above uses the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button] type to add buttons, but you can also use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreButton] view to modify the standard subscribe button. When within the scope of a type conforming to [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle], you can simply spell this view as `SubscribeButton`.\n\nFor example, the following update to the `PriceComparisonButtonsSubscriptionStoreControlStyle` example code uses `SubscribeButton` instead of [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button]:\n\nThe updated custom style no longer needs to implement a custom `localizedPrice(for:)` method, instead the `SubscribeButton` automatically creates the localized label. The custom style uses the `subscriptionStoreButtonLabel(_:)` view modifier to only show the price in the button’s label.\n\nYou can also create custom control styles which modify the standard subscription picker control by using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStorePicker] type. When within the scope of a type conforming to [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle], you can simply spell this view as `SubscriptionPicker`. For example, you can create a style to modify the standard subscription picker to use a custom label for the picker options:\n\nThe `SimpleCustomPickerOptionLabelSubscriptionStoreControlStyle` in the example code provides a picker control to select a plan from the `configuration` by providing the `configuration` value to the `SubscriptionPicker` view.\n\nThe first closure provided to the subscription picker receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption] value, and returns a view to use as the label for each picker option. The subscription picker calls this closure once for each option in the configuration’s [doc:\/\/com.apple.documentation\/documentation\/IOUSBHost\/IOUSBHostIsochronousTransaction\/options] property. The style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/displayName] property of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product] via dynamic member lookup to indicate which plan the picker option corresponds to. If the subscription store is configured to merchandise an offer, the custom style shows a label by checking `offer` . The style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption\/isSelected] property to adjust the visibility of a checkmark indicating the selected plan. The [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption\/isSelected] property is available instead of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option\/subscribe()] when declaring subscription picker option labels.\n\nThe second closure provided to the subscription picker receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option] value, providing a control to confirm the currently selected plan. The custom style only provides custom picker option, and uses the standard subscribe button for the confirmation content. The standard subscribe button displays the price of the selected option.\n\nYou can also access the standard subscription picker option label by using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStorePickerOption].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/makeBody(configuration:)\ncrawled: 2025-12-04T17:18:14Z\n---\n\n# makeBody(configuration:)\n\n**Instance Method**\n\nCreates a view that represents the body of a subscription store control.\n\n## Declaration\n\n```swift\n@ViewBuilder @MainActor @preconcurrency func makeBody(configuration: Self.Configuration) -> Self.Body\n```\n\n## Parameters\n\n- **configuration**: The properties of a subscription store control that includes the list of auto-renewable subscriptions to merchandise.\n\n## Return Value\n\nA view which provides UI controls to subscribe to a subscription service.\n\n## Discussion\n\nImplement this method to define a custom subscription store control style which conforms to the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle]. Use the `configuration` input — a value of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration] — to access the collection of subscription options to merchandise, and other properties of the controls. Return a view that provides controls for someone to choose an option from the configuration and subscribe. The following code example defines a style that adds price comparison captions to buttons:\n\n```swift\nstruct PriceComparisonButtonsSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        ForEach(configuration.options) { option in\n            VStack {\n                Button(localizedPrice(for: option), action: option.subscribe)\n                if let priceComparison = priceComparison(for: option, allOptions: configuration.allOptions) {\n                    Text(priceComparison)\n                }\n            }\n        }\n    }\n\n    \/\/ Helper methods for localizing text\n    \n    private func localizedPrice(for option: Configuration.Option) -> LocalizedStringKey {\n        \/\/ Use 'displayPrice' and 'subscriptionPeriod' on 'option' to localize the price.\n        \/\/ For example: \"$9.99\/month\"\n    }\n    \n    private func priceComparison(for option: Configuration.Option, allOptions: [Product]) -> LocalizedStringKey? {\n        guard let subscriptionPeriod = option.subscriptionPeriod, subscriptionPeriod != .monthly else {\n            return nil\n        }\n        let monthlyOption = allOptions.first { otherOption in \n            otherOption.subscriptionPeriod == .monthly && otherOption.groupLevel == option.groupLevel\n        }\n        guard let monthlyOption else { \n            return nil\n        }\n        \/\/ Create a localized string to represent the savings of subscribing to 'option' compared to paying per\n        \/\/ month with 'monthlyOption'. For example, \"Save $20.00 per year compared to the monthly option\".\n    }\n}\n```\n\nThe `PriceComparisonButtonsSubscriptionStoreControlStyle` structure in the example code provides a button to subscribe to each option in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/options] property of the `configuration`, along with an optional informative caption for options with durations longer than one month. By calling the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option\/subscribe()] method when a button is triggered, the subscription store view automatically manages a purchase task with the appropriate purchase options. The buttons automatically use the same button style as standard subscription store control styles, but you can customize this using [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/buttonStyle(_:)-66fbx].\n\nSince the control style creates a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/VStack] for each option, the subscription store view automatically lays out the stacks appropriately. You could instead provide an explicit layout container around [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ForEach] to customize the spacing and alignment of the buttons.\n\nTo handle cases where the monthly plans aren’t visible, the control style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/allOptions] property to compute price comparsions instead of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/options].\n\nThe control style reads properties of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo] directly on the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option] using dynamic member lookup, such as [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/subscriptionPeriod].\n\nWhenever any of the properties of `configuration` change, the system calls your [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/makeBody(configuration:)] method again to display an updated view.\n\nThe above example provides a button per plan, but not all control styles need to work this way. For example, you could combine multiple controls together with buttons, such as [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Picker] or [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Toggle], and use state to implement more complicated interactions.\n\n### Modifying subviews of standard control styles\n\nThe `PriceComparisonButtonsSubscriptionStoreControlStyle` in the example code above uses the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button] type to add buttons, but you can also use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreButton] view to modify the standard subscribe button. When within the scope of a type conforming to [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle], you can simply spell this view as `SubscribeButton`.\n\nFor example, the following update to the `PriceComparisonButtonsSubscriptionStoreControlStyle` example code uses `SubscribeButton` instead of [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button]:\n\n```swift\nstruct PriceComparisonButtonsSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        ForEach(configuration.options) { option in\n            VStack {\n                SubscribeButton(option)\n                if let priceComparison = priceComparison(for: option, allOptions: configuration.allOptions) {\n                    Text(priceComparison)\n                }\n            }\n            .subscriptionStoreButtonLabel(.price)\n        }\n    }\n\n    \/\/ Helper method for localizing text     \n    private func priceComparison(for option: Configuration.Option, allOptions: [Product]) -> LocalizedStringKey? {\n        \/\/ Create a localized string to represent the savings of subscribing to 'option' compared to paying per\n        \/\/ month with 'monthlyOption'. For example, \"Save $20.00 per year compared to the monthly option\".\n    }\n}\n```\n\nThe updated custom style no longer needs to implement a custom `localizedPrice(for:)` method, instead the `SubscribeButton` automatically creates the localized label. The custom style uses the `subscriptionStoreButtonLabel(_:)` view modifier to only show the price in the button’s label.\n\nYou can also create custom control styles which modify the standard subscription picker control by using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStorePicker] type. When within the scope of a type conforming to [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyle], you can simply spell this view as `SubscriptionPicker`. For example, you can create a style to modify the standard subscription picker to use a custom label for the picker options:\n\n```swift\nstruct SimpleCustomPickerOptionLabelSubscriptionStoreControlStyle: SubscriptionStoreControlStyle {\n\n    func makeBody(configuration: Configuration) -> some View {\n        SubscriptionPicker(configuration) { option in \n            HStack {\n                VStack {\n                    Text(option.displayName)\n                    if option.activeOffer != nil {\n                        Label(\"Special Offer\", systemImage: \"star\")\n                            .symbolVariant(.fill)\n                            .foregroundStyle(.tint)\n                            .font(.caption)\n                            .padding(4)\n                            .background(.secondary, .rect(cornerRadius: 4)\n                    }\n                }\n                Spacer()\n                Image(systemName: \"checkmark\")\n                    .foregroundStyle(.tint)\n                    .opacity(option.isSelected ? 1.0 : 0.0)\n            }\n        } confirmation: { option in \n            SubscribeButton(option)\n        }\n    }\n}\n```\n\nThe `SimpleCustomPickerOptionLabelSubscriptionStoreControlStyle` in the example code provides a picker control to select a plan from the `configuration` by providing the `configuration` value to the `SubscriptionPicker` view.\n\nThe first closure provided to the subscription picker receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption] value, and returns a view to use as the label for each picker option. The subscription picker calls this closure once for each option in the configuration’s [doc:\/\/com.apple.documentation\/documentation\/IOUSBHost\/IOUSBHostIsochronousTransaction\/options] property. The style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/displayName] property of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product] via dynamic member lookup to indicate which plan the picker option corresponds to. If the subscription store is configured to merchandise an offer, the custom style shows a label by checking `offer` . The style uses the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption\/isSelected] property to adjust the visibility of a checkmark indicating the selected plan. The [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/PickerOption\/isSelected] property is available instead of [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option\/subscribe()] when declaring subscription picker option labels.\n\nThe second closure provided to the subscription picker receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreControlStyleConfiguration\/Option] value, providing a control to confirm the currently selected plan. The custom style only provides custom picker option, and uses the standard subscribe button for the confirmation content. The standard subscribe button displays the price of the selected option.\n\nYou can also access the standard subscription picker option label by using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStorePickerOption].\n\n## Creating custom subscription store control styles\n\n- **SubscriptionStoreControlStyle.Configuration**: The properties of a subscription store control that includes the list of auto-renewable subscriptions to merchandise.\n- **SubscriptionStoreControlStyle.SubscribeButton**: A button for subscribing to an in-app subscription.\n- **SubscriptionStoreControlStyle.SubscriptionPicker**: A composite control for selecting a subscription option and confirming the subscription.\n- **SubscriptionStoreControlStyle.SubscriptionPickerOption**: A subscription option within a subscription picker control.\n- **SubscriptionStoreControlPlacementKey**: A placement for a subscription store control in a store view.\n- **Placement**: The placement of subscription controls in a subscription store.\n- **Body**: A view that represents the body of a subscription store control.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The properties of a subscription store control that includes the list of auto-renewable subscriptions to merchandise.",
          "name" : "SubscriptionStoreControlStyle.Configuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/Configuration"
        },
        {
          "description" : "A button for subscribing to an in-app subscription.",
          "name" : "SubscriptionStoreControlStyle.SubscribeButton",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/SubscribeButton"
        },
        {
          "description" : "A composite control for selecting a subscription option and confirming the subscription.",
          "name" : "SubscriptionStoreControlStyle.SubscriptionPicker",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/SubscriptionPicker"
        },
        {
          "description" : "A subscription option within a subscription picker control.",
          "name" : "SubscriptionStoreControlStyle.SubscriptionPickerOption",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/SubscriptionPickerOption"
        },
        {
          "description" : "A placement for a subscription store control in a store view.",
          "name" : "SubscriptionStoreControlPlacementKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlPlacementKey"
        },
        {
          "description" : "The placement of subscription controls in a subscription store.",
          "name" : "Placement",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/Placement"
        },
        {
          "description" : "A view that represents the body of a subscription store control.",
          "name" : "Body",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/Body"
        }
      ],
      "title" : "Creating custom subscription store control styles"
    }
  ],
  "source" : "appleJSON",
  "title" : "makeBody(configuration:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SubscriptionStoreControlStyle\/makeBody(configuration:)"
}