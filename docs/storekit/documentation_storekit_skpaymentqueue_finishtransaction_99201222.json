{
  "abstract" : "Notifies the App Store that the app finished processing the transaction.",
  "codeExamples" : [

  ],
  "contentHash" : "a61e7b49027bcd9a5bb68bc2bd87ec29bfb764e073923be8450f554e136c331c",
  "crawledAt" : "2025-12-02T20:04:46Z",
  "declaration" : {
    "code" : "func finishTransaction(_ transaction: SKPaymentTransaction)",
    "language" : "swift"
  },
  "id" : "714FAF0B-4BB8-4655-A3D1-DDA03B5571D6",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Discussion\n\nTransactions on the payment queue are persistent until they are completed. StoreKit calls your observer’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method every time your app launches or resumes from background to tell you about transactions in the queue. After you’ve finished processing a transaction in your app, always call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] method to finish the transaction and remove it from the queue.\n\nCall [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] only after the app has finished all work it performs to complete the transaction. The transaction’s state determines which steps you might take:\n\nIf you validate receipts, validate them before completing the transaction, and take one of the paths described above.\n\nIn rare circumstances, this call might fail, and you’ll receive updates for that transaction again. For this reason, you should record information in your app about the transactions it has processed and which steps the app has already completed. That way, you don’t repeat steps that shouldn’t be performed multiple times. For example, if you are processing a consumable transaction, you only want to add the consumable benefit once.\n\nIf you call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] on a transaction that is in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/purchasing] state, StoreKit raises an exception.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)\ncrawled: 2025-12-02T20:04:46Z\n---\n\n# finishTransaction(_:)\n\n**Instance Method**\n\nNotifies the App Store that the app finished processing the transaction.\n\n## Declaration\n\n```swift\nfunc finishTransaction(_ transaction: SKPaymentTransaction)\n```\n\n## Parameters\n\n- **transaction**: The transaction to finish.\n\n## Discussion\n\nTransactions on the payment queue are persistent until they are completed. StoreKit calls your observer’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)] method every time your app launches or resumes from background to tell you about transactions in the queue. After you’ve finished processing a transaction in your app, always call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] method to finish the transaction and remove it from the queue.\n\nCall [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] only after the app has finished all work it performs to complete the transaction. The transaction’s state determines which steps you might take:\n\n- For a failed transaction ([doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/failed]), update your user interface, track information in analytics, and perform other similar tasks.\n- For a successful transaction ([doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/purchased] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/restored]), perform all necessary actions to unlock the functionality the user has purchased before finishing the transaction. For example, if you are downloading content, finish the transaction only after the downloads are complete.\n\nIf you validate receipts, validate them before completing the transaction, and take one of the paths described above.\n\nIn rare circumstances, this call might fail, and you’ll receive updates for that transaction again. For this reason, you should record information in your app about the transactions it has processed and which steps the app has already completed. That way, you don’t repeat steps that shouldn’t be performed multiple times. For example, if you are processing a consumable transaction, you only want to add the consumable benefit once.\n\nIf you call [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)] on a transaction that is in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKPaymentTransactionState\/purchasing] state, StoreKit raises an exception.\n\n## Related Documentation\n\n- **paymentQueue(_:updatedTransactions:)**: Tells an observer that one or more transactions have been updated.\n\n## Managing Transactions\n\n- **delegate**: A delegate that provides information needed to complete transactions.\n- **transactions**: Returns an array of pending transactions.\n- **add(_:)**: Adds a payment request to the queue.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells an observer that one or more transactions have been updated.",
          "name" : "paymentQueue(_:updatedTransactions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentTransactionObserver\/paymentQueue(_:updatedTransactions:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A delegate that provides information needed to complete transactions.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue\/delegate"
        },
        {
          "description" : "Returns an array of pending transactions.",
          "name" : "transactions",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue\/transactions"
        },
        {
          "description" : "Adds a payment request to the queue.",
          "name" : "add(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue\/add(_:)-4vct1"
        }
      ],
      "title" : "Managing Transactions"
    }
  ],
  "source" : "appleJSON",
  "title" : "finishTransaction(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/SKPaymentQueue\/finishTransaction(_:)"
}