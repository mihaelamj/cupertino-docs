{
  "abstract" : "Configure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.",
  "codeExamples" : [

  ],
  "contentHash" : "57243952b006d7a9541a93c18f73d8ba2d1d0af7e773dc870ba75c756ebc67ac",
  "crawledAt" : "2025-12-04T15:59:44Z",
  "id" : "71543483-3A6A-4416-B059-15511AB3E394",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications] is a server-to-server service that sends real-time notifications for in-app purchase events, and notifications for unreported external purchase tokens. To enable notifications, set up an HTTPS URL on your server, and configure settings in App Store Connect.\n\nFor information about parsing and interpreting notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/receiving-app-store-server-notifications].\n\n### Set up your server and App Store Connect settings\n\nTo receive server notifications from the App Store, your server must support the Transport Layer Security (TLS) 1.2 protocol or later.\n\nTo enable App Store Server Notifications, follow these steps:\n\nConfigure your server to respond with HTTP status codes to indicate whether the App Store server notification `POST` is successful. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/responding-to-app-store-server-notifications].\n\nFor new implementations, use [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2]. To transition from using version 1 notifications to version 2, test version 2 notifications in the sandbox environment before you update your production environment to version 2.\n\nFor information about changes to App Store Server Notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].\n\n### Configure an allow list\n\nIf your server requires IP addresses to be on an allow list, add the IP address subnet `17.0.0.0\/8` to allow your server to receive notifications from the App Store server. This subnet applies to both the sandbox and the production environments.\n\n### Test your server setup\n\nTo determine whether your server is receiving notifications, call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Request-a-Test-Notification] endpoint in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI]. This endpoint asks the App Store server to send a notification with the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType] `TEST`. Use the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/testNotificationToken] you receive to call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Get-Test-Notification-Status] endpoint to learn how your server responds to the test notification.\n\nThe App Store server sends the `TEST` notification in the version 2 notification format. However, it sends it to your server regardless of whether you configure a version 1 or version 2 notification URL in App Store Connect.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/enabling-app-store-server-notifications\ncrawled: 2025-12-04T15:59:44Z\n---\n\n# Enabling App Store Server Notifications\n\n**Article**\n\nConfigure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.\n\n## Overview\n\n[doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications] is a server-to-server service that sends real-time notifications for in-app purchase events, and notifications for unreported external purchase tokens. To enable notifications, set up an HTTPS URL on your server, and configure settings in App Store Connect.\n\nFor information about parsing and interpreting notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/receiving-app-store-server-notifications].\n\n### Set up your server and App Store Connect settings\n\nTo receive server notifications from the App Store, your server must support the Transport Layer Security (TLS) 1.2 protocol or later.\n\nTo enable App Store Server Notifications, follow these steps:\n\n1. Determine the HTTPS URL on your server to receive notifications for the production environment.\n2. Optionally, determine the HTTPS URL on your server to receive notifications for the sandbox environment for testing notifications. You may use the same URL for both the production and the sandbox environments.\n3. App Store Connect gives you the choice of receiving version 2 or version 1 notifications for each environment. To choose version 2, set up your endpoint as [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2].\n4. Configure your URL in App Store Connect. For more information, see [https:\/\/help.apple.com\/app-store-connect\/#\/dev0067a330b].\n\n\n\nConfigure your server to respond with HTTP status codes to indicate whether the App Store server notification `POST` is successful. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/responding-to-app-store-server-notifications].\n\nFor new implementations, use [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2]. To transition from using version 1 notifications to version 2, test version 2 notifications in the sandbox environment before you update your production environment to version 2.\n\nFor information about changes to App Store Server Notifications, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/app-store-server-notifications-changelog].\n\n### Configure an allow list\n\nIf your server requires IP addresses to be on an allow list, add the IP address subnet `17.0.0.0\/8` to allow your server to receive notifications from the App Store server. This subnet applies to both the sandbox and the production environments.\n\n### Test your server setup\n\nTo determine whether your server is receiving notifications, call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Request-a-Test-Notification] endpoint in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI]. This endpoint asks the App Store server to send a notification with the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType] `TEST`. Use the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/testNotificationToken] you receive to call the [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerAPI\/Get-Test-Notification-Status] endpoint to learn how your server responds to the test notification.\n\nThe App Store server sends the `TEST` notification in the version 2 notification format. However, it sends it to your server regardless of whether you configure a version 1 or version 2 notification URL in App Store Connect.\n\n## Essentials\n\n- **Handling Subscriptions Billing**: Build logic around the date and time constraints of subscription products, while planning for all scenarios where you control access to content.\n- **Offering a Subscription Across Multiple Apps**: Support a single auto-renewable subscription across multiple apps.\n- **Reducing Involuntary Subscriber Churn**: Prevent unintentional loss of subscribers due to billing issues.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Build logic around the date and time constraints of subscription products, while planning for all scenarios where you control access to content.",
          "name" : "Handling Subscriptions Billing",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/handling-subscriptions-billing"
        },
        {
          "description" : "Support a single auto-renewable subscription across multiple apps.",
          "name" : "Offering a Subscription Across Multiple Apps",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/offering-a-subscription-across-multiple-apps"
        },
        {
          "description" : "Prevent unintentional loss of subscribers due to billing issues.",
          "name" : "Reducing Involuntary Subscriber Churn",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/reducing-involuntary-subscriber-churn"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Enabling App Store Server Notifications",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/enabling-app-store-server-notifications"
}