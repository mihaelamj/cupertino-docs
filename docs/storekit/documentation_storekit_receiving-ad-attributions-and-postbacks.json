{
  "abstract" : "Learn about timeframes and priorities for ad impressions that result in ad attributions, and how additional impressions qualify for postbacks.",
  "codeExamples" : [

  ],
  "contentHash" : "e8ad2b7ca0db70bf977d7afd189a40a2bda77dff483a81a75af9297724f1d01d",
  "crawledAt" : "2025-12-05T12:51:38Z",
  "id" : "3419E27A-E675-4C41-A1C7-14FF9558FBAD",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nAd networks receive attributions in the form of install-validation postbacks. Before an ad network can receive a postback, the following events need to occur within limited time-windows:\n\nIf all these events occur within their respective time-windows, the ad impression qualifies for an install-validation postback. The following table shows the time-windows for the events:\n\nThe minimum elapsed time between an ad impression and the time the ad network receives an install-validation postback is 24 to 48 hours. To reduce that time to 5 to 10 minutes during testing, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-ad-attributions-with-a-downloaded-profile].\n\nDevices send one or more postbacks depending on the SKAdNetwork and iOS versions:\n\nTime-windows for events apply equally to winning and nonwinning postbacks.\n\n### Receive a winning postback\n\nWhen multiple ad impressions qualify for install-validation postbacks, a device sends the winning postback to the ad network based on the following rules:\n\nThe ad presentation option defines the `fidelity-type` value:\n\nIndicate the `fidelity-type` when you generate the ad signature. Recorded ad impressions with a `fidelity-type` of `1` always take precedence over those with a `fidelity-type` of `0`. For example, if users see a StoreKit-rendered ad followed by a view-through ad for the same app, the StoreKit-rendered ad takes precedence over the view-through ad, despite the view-through ad being more recent. The source app can display StoreKit-rendered ads using  an [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKOverlay] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController]; the `fidelity-type` value is `1` in either case. For information about the fidelity of ads that an ad network presents on a Safari web page using the [doc:\/\/com.apple.documentation\/documentation\/SKAdNetworkforWebAds] API, see [doc:\/\/com.apple.documentation\/documentation\/SKAdNetworkforWebAds\/signature].\n\nIn version 3 and later, the system indicates winning postbacks with a `did-win` parameter of value `true`.\n\n### Receive a nonwinning postback\n\nStarting in iOS 14.6, devices can send multiple postbacks to ad networks that sign ads using version 3 or later. The system indicates nonwinning postbacks with a `did-win` parameter of value `false`. These postbacks don’t include `conversion-value` or `source-app-id`.\n\nEach ad network can receive only one install-validation postback, winning or not winning. If you receive the winning postback, you don’t receive any nonwinning postbacks even if your ads have multiple qualifying ad impressions.\n\nUp to five ad networks receive one nonwinning postback each. The system orders the recorded ad impressions using recency and `fidelity-type`, with the most recent ad views and highest `fidelity-type` taking precedence. Devices send nonwinning postbacks for the top five ad impressions from different ad networks that qualify for ad attribution.\n\n### Opt in to receive a copy of the winning postback\n\nStarting in iOS 15, devices can send a copy of the winning install-validation postback to the developer of the advertised app. Developers opt in to receive the postback by specifying a server endpoint in their app’s `Info.plist` file. For more information about opting in and specifying the endpoint, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/configuring-an-advertised-app].\n\nThe postback that developers receive is an exact copy of the winning install-validation postback that the device sends to the ad network. The device sends the postback to developers at the same time it sends the winning postback to the ad network. To verify the postback, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/verifying-an-install-validation-postback].\n\n### Limit view-through ad impressions\n\nStoreKit records a maximum of 15 view-through ad impressions per source app before discarding the oldest one. The recorded ad impressions may advertise various products, and are each eligible to become pending attributions until they expire (after 24 hours).\n\n### Test ad impressions and postbacks\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] framework to validate your ad impressions and test your postbacks by creating unit tests. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/SKAdTestSession] and [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/testing-and-validating-ad-impression-signatures-and-postbacks-for-skadnetwork].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks\ncrawled: 2025-12-05T12:51:38Z\n---\n\n# Receiving ad attributions and postbacks\n\n**Article**\n\nLearn about timeframes and priorities for ad impressions that result in ad attributions, and how additional impressions qualify for postbacks.\n\n## Overview\n\nAd networks receive attributions in the form of install-validation postbacks. Before an ad network can receive a postback, the following events need to occur within limited time-windows:\n\n- Ad networks sign and present ads in the form of StoreKit-rendered ads, view-through ads, or attributable web ads. StoreKit records the ad impressions.\n- Users install the advertised app.\n- Users launch the app.\n- The app updates the conversion values when the user first launches the app, and continues to update it as needed.\n\nIf all these events occur within their respective time-windows, the ad impression qualifies for an install-validation postback. The following table shows the time-windows for the events:\n\n\n\nThe minimum elapsed time between an ad impression and the time the ad network receives an install-validation postback is 24 to 48 hours. To reduce that time to 5 to 10 minutes during testing, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-ad-attributions-with-a-downloaded-profile].\n\nDevices send one or more postbacks depending on the SKAdNetwork and iOS versions:\n\n- For ads signed with SKAdNetwork 1 through 2.2, devices send a single, winning postback.\n- Starting in iOS 14.6 for ads signed with version 3.0 or later, devices send a single winning postback, and up to five nonwinning postbacks.\n- Starting in iOS 15, devices also send a copy of the winning postback to the advertised app’s developer, if the developer opts in to receive it.\n- Starting in iOS 16.1 for ads signed using SKAdNetwork 4, devices can send up to three postbacks for the winning ad attribution, in three conversion windows.\n\nTime-windows for events apply equally to winning and nonwinning postbacks.\n\n### Receive a winning postback\n\nWhen multiple ad impressions qualify for install-validation postbacks, a device sends the winning postback to the ad network based on the following rules:\n\n- In versions 1 through 2.1, the attribution goes to the most recent ad impression.\n- Starting in version 2.2, the attribution goes to the most recent ad impression with the highest `fidelity-type` value.\n\nThe ad presentation option defines the `fidelity-type` value:\n\n- StoreKit-rendered ads have the highest `fidelity-type` value of `1`.\n- View-through ads have a `fidelity-type` value of `0`.\n\nIndicate the `fidelity-type` when you generate the ad signature. Recorded ad impressions with a `fidelity-type` of `1` always take precedence over those with a `fidelity-type` of `0`. For example, if users see a StoreKit-rendered ad followed by a view-through ad for the same app, the StoreKit-rendered ad takes precedence over the view-through ad, despite the view-through ad being more recent. The source app can display StoreKit-rendered ads using  an [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKOverlay] or [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SKStoreProductViewController]; the `fidelity-type` value is `1` in either case. For information about the fidelity of ads that an ad network presents on a Safari web page using the [doc:\/\/com.apple.documentation\/documentation\/SKAdNetworkforWebAds] API, see [doc:\/\/com.apple.documentation\/documentation\/SKAdNetworkforWebAds\/signature].\n\nIn version 3 and later, the system indicates winning postbacks with a `did-win` parameter of value `true`.\n\n### Receive a nonwinning postback\n\nStarting in iOS 14.6, devices can send multiple postbacks to ad networks that sign ads using version 3 or later. The system indicates nonwinning postbacks with a `did-win` parameter of value `false`. These postbacks don’t include `conversion-value` or `source-app-id`.\n\nEach ad network can receive only one install-validation postback, winning or not winning. If you receive the winning postback, you don’t receive any nonwinning postbacks even if your ads have multiple qualifying ad impressions.\n\nUp to five ad networks receive one nonwinning postback each. The system orders the recorded ad impressions using recency and `fidelity-type`, with the most recent ad views and highest `fidelity-type` taking precedence. Devices send nonwinning postbacks for the top five ad impressions from different ad networks that qualify for ad attribution.\n\n### Opt in to receive a copy of the winning postback\n\nStarting in iOS 15, devices can send a copy of the winning install-validation postback to the developer of the advertised app. Developers opt in to receive the postback by specifying a server endpoint in their app’s `Info.plist` file. For more information about opting in and specifying the endpoint, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/configuring-an-advertised-app].\n\nThe postback that developers receive is an exact copy of the winning install-validation postback that the device sends to the ad network. The device sends the postback to developers at the same time it sends the winning postback to the ad network. To verify the postback, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/verifying-an-install-validation-postback].\n\n### Limit view-through ad impressions\n\nStoreKit records a maximum of 15 view-through ad impressions per source app before discarding the oldest one. The recorded ad impressions may advertise various products, and are each eligible to become pending attributions until they expire (after 24 hours).\n\n### Test ad impressions and postbacks\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] framework to validate your ad impressions and test your postbacks by creating unit tests. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/SKAdTestSession] and [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest\/testing-and-validating-ad-impression-signatures-and-postbacks-for-skadnetwork].\n\n## Essentials\n\n- **Signing and providing ads**: Advertise apps by signing and providing StoreKit-rendered ads, view-through ads, or attributable web ads.\n- **Receiving postbacks in multiple conversion windows**: Learn about the data that postbacks may contain in each conversion window.\n- **SKAdNetwork release notes**: Learn about the features in each SKAdNetwork version.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Advertise apps by signing and providing StoreKit-rendered ads, view-through ads, or attributable web ads.",
          "name" : "Signing and providing ads",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/signing-and-providing-ads"
        },
        {
          "description" : "Learn about the data that postbacks may contain in each conversion window.",
          "name" : "Receiving postbacks in multiple conversion windows",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/receiving-postbacks-in-multiple-conversion-windows"
        },
        {
          "description" : "Learn about the features in each SKAdNetwork version.",
          "name" : "SKAdNetwork release notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/skadnetwork-release-notes"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Receiving ad attributions and postbacks",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks"
}