{
  "abstract" : "Enable qualifying apps to offer external purchases.",
  "codeExamples" : [

  ],
  "contentHash" : "afc4ccd35a35a3d9e085f9bf7c927a5219dc8dffcd9df55e79cd847e77d201c1",
  "crawledAt" : "2025-12-03T04:03:32Z",
  "id" : "5EC8AFE3-450C-48EB-BC9F-26B9EF54DCCA",
  "kind" : "collection",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nIf you develop a qualifying app, you may complete a request for optional entitlements that allow you to offer external purchases. For more information about whether your app qualifies, requesting an entitlement, and implementation requirements, see:\n\n### Offer external purchases using alternative payment service providers\n\nIf your account receives the StoreKit External Purchase entitlement, implement the following to offer external purchases within your app:\n\n### Communicate and promote offers\n\nIf your account receives the StoreKit External Purchase Link Entitlement (EU), your app can communicate and promote offers for digital goods or services available for purchase or download, in a distribution channel of your choice. Implement the following:\n\n### Communicate and promote offers for music-streaming apps\n\nIf your account receives the Music Streaming Services Entitlement (EEA), your music-streaming app can use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API to to communicate and promote offers for music streaming services. Custom links can be to a distribution channel of your choice. Implement the following:\n\n### Offer external purchase link outs\n\nIf your account receives the StoreKit External Purchase Link entitlement, implement the following to offer external purchase links:\n\n### Offer a single external purchase link out for each country code\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink] property list key if your app has a minimum OS version prior to iOS 17.5, macOS 14.5, watchOS 10.5, or tvOS 17.5, or visionOS 1.2 and receives the StoreKit External Purchase Link entitlement.\n\nImplement the following to offer an external purchase link when your app runs on these prior operating systems:\n\nYour app may configure both the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink] and [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list keys.\n\n### Record and report external purchase tokens and associated transactions\n\nAn external purchase token is a unique string that your app or website receives when your app’s customer chooses to view your external purchase offerings. Record all tokens in your system and report them and their associated transactions using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI]. For more information about tokens, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens].\n\n### Check API availability\n\nThe External Purchase APIs, including [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase], and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] provide *external purchase tokens* that you use to report transactions to Apple. [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase] are available starting in iOS 17.4, iPadOS 17.4, macOS 14.4, Mac Catalyst 17.4, tvOS 17.4, visionOS 1.1, and watchOS 10.4. [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] is available starting in iOS 18.1, iPadOS 18.1, Mac Catalyst 18.1, and macOS 15.1.\n\nFor apps that run on iOS 15.4 through 17.3 and iPadOS 15.4 through 17.3, the External Purchase APIs have the following behavior:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/external-purchase\ncrawled: 2025-12-03T04:03:32Z\n---\n\n# External Purchase\n\n**API Collection**\n\nEnable qualifying apps to offer external purchases.\n\n## Overview\n\nIf you develop a qualifying app, you may complete a request for optional entitlements that allow you to offer external purchases. For more information about whether your app qualifies, requesting an entitlement, and implementation requirements, see:\n\n- [https:\/\/developer.apple.com\/support\/communication-and-promotion-of-offers-on-the-app-store-in-the-eu\/]\n- [https:\/\/developer.apple.com\/support\/storekit-external-entitlement\/]\n- [https:\/\/developer.apple.com\/contact\/request\/storekit-external-entitlement-ru\/]\n- [https:\/\/developer.apple.com\/support\/storekit-external-entitlement-kr\/]\n- [https:\/\/developer.apple.com\/support\/music-streaming-services-entitlement-eea\/]\n\n### Offer external purchases using alternative payment service providers\n\nIf your account receives the StoreKit External Purchase entitlement, implement the following to offer external purchases within your app:\n\n- Configure the entitlement for your app. For more information, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase].\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchase] property list key.\n- Use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase] type’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase\/canPresent] property to determine whether external purchase is available.\n- Call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase\/presentNoticeSheet()] method and use the external purchase token you receive from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase\/NoticeResult\/continuedWithExternalPurchaseToken(token:)] result to record transactions.\n- From your server, report the external purchase tokens and the transactions associated with the tokens by using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\n### Communicate and promote offers\n\nIf your account receives the StoreKit External Purchase Link Entitlement (EU), your app can communicate and promote offers for digital goods or services available for purchase or download, in a distribution channel of your choice. Implement the following:\n\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link] entitlement for your app.\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseCustomLinkRegions] property list key. Include the country code for each permitted region where your app communicates and promotes offers.\n- Check the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/isEligible] property of the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API to determine whether the API is available at runtime.\n- At launch and before every potential transaction, call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/token(for:)] function to request the external purchase tokens, using the token types `ACQUISITION` and `SERVICES`. Associate these tokens with a customer account on your server.\n- Call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/showNotice(type:)] function after a deliberate customer interaction, such as tapping a button, and before communicating and promoting offers.\n- From your server, report the external purchase tokens and the transactions associated with the tokens by using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\n### Communicate and promote offers for music-streaming apps\n\nIf your account receives the Music Streaming Services Entitlement (EEA), your music-streaming app can use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API to to communicate and promote offers for music streaming services. Custom links can be to a distribution channel of your choice. Implement the following:\n\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link-streaming] entitlement for your app.\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLinkStreamingRegions] property list key. Include the country code for each permitted region where your app communicates and promotes offers for music streaming.\n- Check the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/isEligible] property of the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] API to determine whether external purchase is available at runtime.\n- At launch and before every potential transaction, call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/token(for:)] function to request the external purchase tokens, using the token types `ACQUISITION` and `SERVICES`. Associate these tokens with a customer account on your server.\n- Call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/showNotice(type:)] function after a deliberate customer interaction, such as tapping a button, and before communicating and promoting offers.\n- From your server, report the external purchase tokens and the transactions associated with the tokens by using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\n### Offer external purchase link outs\n\nIf your account receives the StoreKit External Purchase Link entitlement, implement the following to offer external purchase links:\n\n- Configure the entitlement for your app. For more information, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link].\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list key. Provide one or more external purchase links for each permitted country code.\n- Use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink] type’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/eligibleURLs] array to determine whether one or more external purchase links are available, then select one of those eligible URLs.\n- Call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/open(url:)] method with the URL you select. StoreKit appends the external purchase token to your website’s URL. Use this token to record purchases.\n- From your server, report the external purchase tokens and the transactions associated with the tokens by using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\n### Offer a single external purchase link out for each country code\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink] property list key if your app has a minimum OS version prior to iOS 17.5, macOS 14.5, watchOS 10.5, or tvOS 17.5, or visionOS 1.2 and receives the StoreKit External Purchase Link entitlement.\n\nImplement the following to offer an external purchase link when your app runs on these prior operating systems:\n\n- Configure the entitlement for your app. For more information, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link].\n- Configure the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink] property list key.\n- Use the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink] type’s [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/canOpen] property to determine whether external purchase link is available.\n- Call the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink\/open()] method. StoreKit appends the external purchase token to your website’s URL. Use this token to record purchases.\n- From your server, report the external purchase tokens and the transactions associated with the tokens by using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI].\n\nYour app may configure both the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink] and [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink] property list keys.\n\n### Record and report external purchase tokens and associated transactions\n\nAn external purchase token is a unique string that your app or website receives when your app’s customer chooses to view your external purchase offerings. Record all tokens in your system and report them and their associated transactions using the [doc:\/\/com.apple.documentation\/documentation\/ExternalPurchaseServerAPI]. For more information about tokens, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens].\n\n### Check API availability\n\nThe External Purchase APIs, including [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase], and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] provide *external purchase tokens* that you use to report transactions to Apple. [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase] are available starting in iOS 17.4, iPadOS 17.4, macOS 14.4, Mac Catalyst 17.4, tvOS 17.4, visionOS 1.1, and watchOS 10.4. [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseCustomLink] is available starting in iOS 18.1, iPadOS 18.1, Mac Catalyst 18.1, and macOS 15.1.\n\nFor apps that run on iOS 15.4 through 17.3 and iPadOS 15.4 through 17.3, the External Purchase APIs have the following behavior:\n\n- [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchase] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/ExternalPurchaseLink] APIs throw errors or return `false` for compatible iPad or iPhone apps running in visionOS, on a Mac with Apple silicon, or on a Mac app built with Mac Catalyst.\n- The APIs don’t provide external purchase tokens.\n- The APIs are available in iOS and iPadOS only.\n\n## Offering external purchases\n\n- **ExternalPurchase**: Enables qualifying apps to offer external purchases within the app.\n- **com.apple.developer.storekit.external-purchase**: A Boolean value that indicates whether your app can offer external purchases.\n- **SKExternalPurchase**: A string array of country codes that indicates your app supports external purchases.\n\n## Communicating and promoting offers\n\n- **ExternalPurchaseCustomLink**: Enables qualifying apps to offer custom links for external purchases and use alternative payment service providers.\n- **ExternalPurchaseCustomLink.Token**: A token you use with the External Purchase custom link API.\n- **com.apple.developer.storekit.external-purchase-link**: A Boolean value that indicates whether your app can include a link that directs people to a website to make an external purchase.\n- **SKExternalPurchaseCustomLinkRegions**: An array of country code strings that indicate the regions where your app supports custom links for the communication and promotion of offers.\n- **Testing transactions that use custom link tokens**: Recognize custom link tokens that your app receives in the sandbox testing environment, and use them to test reporting transactions.\n\n## Communicating and promoting offers for music streaming services\n\n- **ExternalPurchaseCustomLink**: Enables qualifying apps to offer custom links for external purchases and use alternative payment service providers.\n- **com.apple.developer.storekit.external-purchase-link-streaming**: An entitlement that grants a qualifying music-streaming app the ability to communicate and promote offers.\n- **SKExternalPurchaseLinkStreamingRegions**: A list of country codes that indicate the regions where your music-streaming app communicates and promotes offers.\n\n## Offering external purchase links\n\n- **ExternalPurchaseLink**: Enables qualifying apps to offer external purchase links.\n- **com.apple.developer.storekit.external-purchase-link**: A Boolean value that indicates whether your app can include a link that directs people to a website to make an external purchase.\n- **SKExternalPurchaseMultiLink**: A dictionary that contains an array of URLs to websites where people using your app can make external purchases.\n- **SKExternalPurchaseLink**: A dictionary that contains URLs to websites where people using your app can make external purchases for supported regions.\n\n## Managing external purchase tokens\n\n- **Receiving and decoding external purchase tokens**: Receive tokens for external purchases that you use to report transactions to Apple.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enables qualifying apps to offer external purchases within the app.",
          "name" : "ExternalPurchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchase"
        },
        {
          "description" : "A Boolean value that indicates whether your app can offer external purchases.",
          "name" : "com.apple.developer.storekit.external-purchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase"
        },
        {
          "description" : "A string array of country codes that indicates your app supports external purchases.",
          "name" : "SKExternalPurchase",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchase"
        }
      ],
      "title" : "Offering external purchases"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enables qualifying apps to offer custom links for external purchases and use alternative payment service providers.",
          "name" : "ExternalPurchaseCustomLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink"
        },
        {
          "description" : "A token you use with the External Purchase custom link API.",
          "name" : "ExternalPurchaseCustomLink.Token",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink\/Token"
        },
        {
          "description" : "A Boolean value that indicates whether your app can include a link that directs people to a website to make an external purchase.",
          "name" : "com.apple.developer.storekit.external-purchase-link",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link"
        },
        {
          "description" : "An array of country code strings that indicate the regions where your app supports custom links for the communication and promotion of offers.",
          "name" : "SKExternalPurchaseCustomLinkRegions",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseCustomLinkRegions"
        },
        {
          "description" : "Recognize custom link tokens that your app receives in the sandbox testing environment, and use them to test reporting transactions.",
          "name" : "Testing transactions that use custom link tokens",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-transactions-that-use-custom-link-tokens"
        }
      ],
      "title" : "Communicating and promoting offers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enables qualifying apps to offer custom links for external purchases and use alternative payment service providers.",
          "name" : "ExternalPurchaseCustomLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseCustomLink"
        },
        {
          "description" : "An entitlement that grants a qualifying music-streaming app the ability to communicate and promote offers.",
          "name" : "com.apple.developer.storekit.external-purchase-link-streaming",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link-streaming"
        },
        {
          "description" : "A list of country codes that indicate the regions where your music-streaming app communicates and promotes offers.",
          "name" : "SKExternalPurchaseLinkStreamingRegions",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLinkStreamingRegions"
        }
      ],
      "title" : "Communicating and promoting offers for music streaming services"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enables qualifying apps to offer external purchase links.",
          "name" : "ExternalPurchaseLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/ExternalPurchaseLink"
        },
        {
          "description" : "A Boolean value that indicates whether your app can include a link that directs people to a website to make an external purchase.",
          "name" : "com.apple.developer.storekit.external-purchase-link",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.storekit.external-purchase-link"
        },
        {
          "description" : "A dictionary that contains an array of URLs to websites where people using your app can make external purchases.",
          "name" : "SKExternalPurchaseMultiLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseMultiLink"
        },
        {
          "description" : "A dictionary that contains URLs to websites where people using your app can make external purchases for supported regions.",
          "name" : "SKExternalPurchaseLink",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/SKExternalPurchaseLink"
        }
      ],
      "title" : "Offering external purchase links"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Receive tokens for external purchases that you use to report transactions to Apple.",
          "name" : "Receiving and decoding external purchase tokens",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/receiving-and-decoding-external-purchase-tokens"
        }
      ],
      "title" : "Managing external purchase tokens"
    }
  ],
  "source" : "appleJSON",
  "title" : "External Purchase",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/external-purchase"
}