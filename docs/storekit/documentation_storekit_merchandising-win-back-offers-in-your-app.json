{
  "abstract" : "Present win-back offers to eligible customers in your app with the win-back offer sheet or by implementing custom merchandising.",
  "codeExamples" : [
    {
      "code" : "struct MessageExampleView: View {\n    @Environment(\\.displayStoreKitMessage) private var displayStoreMessage\n    \n    var body: some View {\n        MyContentView()\n            .task {\n                for await message in StoreKit.Message.messages {\n                    if message.reason != .winBackOffer {\n                        \/\/ Ask the system to display messages now.\n                        try? displayStoreMessage(message)\n                    }\n                }\n            }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "12e81e53fbf02b612035a91d341c7cf65c180cc85437544306d17ee9eb308f4f",
  "crawledAt" : "2025-12-02T17:34:55Z",
  "id" : "AEC6CEAE-24AA-45EB-B87C-F88EF3E8E2A3",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nIf a customer is eligible for a win-back offer, StoreKit provides several ways to for your app to merchandise the offer. By default, StoreKit automatically displays a win-back offer sheet to eligible customers when the app launches. You can choose to suppress (or delay) this sheet using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message] API, present the win-back offer using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/storekit-views], or use StoreKit APIs and customize your UI.\n\nFor information on configuring win-back offers, handling redeemed offers, and more, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-win-back-offers-in-your-app].\n\n### Present the offer with the win-back offer sheet\n\nBy default, when StoreKit receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/Reason-swift.struct\/winBackOffer] message from the App Store, it displays a win-back offer sheet when the app launches. You don’t need any code to choose this default behavior.\n\nYou may choose to delay this message, or suppress it if you customize the way your app presents win-back offers. Listen for messages using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/messages-swift.type.property] asynchronous sequence when your app launches. Intercept the win-back offer message, which has a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/Reason-swift.struct\/winBackOffer] reason. After you intercept the message, you can suppress it by not calling `displayStoreMessage`, as in the example below.\n\nThe following example code suppresses the win-back offer redemption message, and displays all other App Store messages immediately.\n\nFor more information about App Store messages, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message].\n\n### Present win-back offers in StoreKit views\n\nStoreKit views automatically support displaying pricing details in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreView] for all subscription offers the customer is eligible for, including win-back offers. The StoreKit views fetch the offer metadata and set up the purchase for you. If a customer is eligible for multiple offers, use the view modifier [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/preferredSubscriptionOffer(_:)] to control which offer to present.\n\nThe [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/preferredSubscriptionOffer(_:)] modifier takes a single parameter: a function that StoreKit calls for each subscription in the group. In this function, StoreKit provides the product object, the subscription information, and a list of all offers the customer is eligible for. Use this information and your own logic to decide which offer to present, and return its [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionOffer] object. If you return `nil` and the customer is eligible for an introductory offer, the app always displays the introductory offer in the view.\n\n### Customize a win-back offer experience\n\nIf you choose to fully control the in-app merchandising experience, use the folllowing APIs to get information about the customer’s eligibility for win-back offers and the offer details:\n\nTo add a win-back offer to a purchase, include the win-back offer the customer chooses in the purchase options, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/merchandising-win-back-offers-in-your-app\ncrawled: 2025-12-02T17:34:55Z\n---\n\n# Merchandising win-back offers in your app\n\n**Article**\n\nPresent win-back offers to eligible customers in your app with the win-back offer sheet or by implementing custom merchandising.\n\n## Overview\n\nIf a customer is eligible for a win-back offer, StoreKit provides several ways to for your app to merchandise the offer. By default, StoreKit automatically displays a win-back offer sheet to eligible customers when the app launches. You can choose to suppress (or delay) this sheet using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message] API, present the win-back offer using [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/storekit-views], or use StoreKit APIs and customize your UI.\n\n\n\nFor information on configuring win-back offers, handling redeemed offers, and more, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/supporting-win-back-offers-in-your-app].\n\n### Present the offer with the win-back offer sheet\n\nBy default, when StoreKit receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/Reason-swift.struct\/winBackOffer] message from the App Store, it displays a win-back offer sheet when the app launches. You don’t need any code to choose this default behavior.\n\nYou may choose to delay this message, or suppress it if you customize the way your app presents win-back offers. Listen for messages using the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/messages-swift.type.property] asynchronous sequence when your app launches. Intercept the win-back offer message, which has a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message\/Reason-swift.struct\/winBackOffer] reason. After you intercept the message, you can suppress it by not calling `displayStoreMessage`, as in the example below.\n\nThe following example code suppresses the win-back offer redemption message, and displays all other App Store messages immediately.\n\n```swift\nstruct MessageExampleView: View {\n    @Environment(\\.displayStoreKitMessage) private var displayStoreMessage\n    \n    var body: some View {\n        MyContentView()\n            .task {\n                for await message in StoreKit.Message.messages {\n                    if message.reason != .winBackOffer {\n                        \/\/ Ask the system to display messages now.\n                        try? displayStoreMessage(message)\n                    }\n                }\n            }\n    }\n}\n```\n\nFor more information about App Store messages, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Message].\n\n\n\n### Present win-back offers in StoreKit views\n\nStoreKit views automatically support displaying pricing details in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreView] for all subscription offers the customer is eligible for, including win-back offers. The StoreKit views fetch the offer metadata and set up the purchase for you. If a customer is eligible for multiple offers, use the view modifier [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/preferredSubscriptionOffer(_:)] to control which offer to present.\n\nThe [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/preferredSubscriptionOffer(_:)] modifier takes a single parameter: a function that StoreKit calls for each subscription in the group. In this function, StoreKit provides the product object, the subscription information, and a list of all offers the customer is eligible for. Use this information and your own logic to decide which offer to present, and return its [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionOffer] object. If you return `nil` and the customer is eligible for an introductory offer, the app always displays the introductory offer in the view.\n\n### Customize a win-back offer experience\n\nIf you choose to fully control the in-app merchandising experience, use the folllowing APIs to get information about the customer’s eligibility for win-back offers and the offer details:\n\n- Check the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalInfo\/eligibleWinBackOfferIDs] in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalInfo] to get the list of the product’s win-back offers the customer is eligibile for. If the customer is eligible for multiple offers, the App Store sorts this array with the best offer first.\n- Get the win-back offer details from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/winBackOffers] array in [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo], which contains all the available win-back offers that you configure in App Store Connect. Compare the IDs from the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/RenewalInfo\/eligibleWinBackOfferIDs] array to the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionOffer\/id] of the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionOffer] in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/SubscriptionInfo\/winBackOffers] array.\n\nTo add a win-back offer to a purchase, include the win-back offer the customer chooses in the purchase options, [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Product\/purchase(options:)].\n\n## Offers\n\n- **Supporting offer codes in your app**: Enable customers to redeem offer codes through the App Store or within your app.\n- **Supporting win-back offers in your app**: Re-engage previous subscribers with a free or discounted offer for an auto-renewable subscription, for a specific duration.\n- **Product.SubscriptionOffer**: Information about a subscription offer that you configure in App Store Connect.\n- **Product.SubscriptionOffer.OfferType**: The types of offers for auto-renewable subscriptions.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable customers to redeem offer codes through the App Store or within your app.",
          "name" : "Supporting offer codes in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-offer-codes-in-your-app"
        },
        {
          "description" : "Re-engage previous subscribers with a free or discounted offer for an auto-renewable subscription, for a specific duration.",
          "name" : "Supporting win-back offers in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/supporting-win-back-offers-in-your-app"
        },
        {
          "description" : "Information about a subscription offer that you configure in App Store Connect.",
          "name" : "Product.SubscriptionOffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/SubscriptionOffer"
        },
        {
          "description" : "The types of offers for auto-renewable subscriptions.",
          "name" : "Product.SubscriptionOffer.OfferType",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/Product\/SubscriptionOffer\/OfferType"
        }
      ],
      "title" : "Offers"
    }
  ],
  "source" : "appleJSON",
  "title" : "Merchandising win-back offers in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/merchandising-win-back-offers-in-your-app"
}