{
  "abstract" : "Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.",
  "codeExamples" : [

  ],
  "contentHash" : "3c13f8651a4d310f5cd9915159210e747190f7d991a0cd42c88bbead8a4c48a8",
  "crawledAt" : "2025-12-02T17:35:06Z",
  "id" : "97BF9AA1-2ABC-4F25-AD52-668E6483111C",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nThe sandbox environment and StoreKit Testing in Xcode both support testing refund requests, which enable your customers to request a refund from within your app. Your app displays the refund request sheet by calling any of these methods: [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-65tph] , [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-63bvd], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-9mscy], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-9k0pj], or [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/refundRequestSheet(for:isPresented:onDismiss:)]. Customers fill out the sheet to submit the request.\n\nDepending on your testing setup, the App Store automatically approves or declines the refund request in the testing environment. Note that the App Store doesn’t send emails for refund requests in testing environments.\n\n### Test approved refunds\n\nTo set up a test for approved refunds, select any refund reason on the refund request sheet, and submit the sheet. The App Store automatically approves the refund request in the testing environment.\n\nYour app receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction] with refund information in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/revocationDate] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/revocationReason-swift.property] properties. If you’re testing in the sandbox environment and your server receives [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] for the sandbox, it gets a notification with a `REFUND` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType].\n\n### Test declined refunds\n\nTo set up a test for declined refunds, follow these steps on the refund request sheet with your app running in the sandbox environment:\n\nThe App Store automatically rejects the refund request in the testing environment.\n\nIf your server receives [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] for the sandbox environment, it gets a notification with a `REFUND_DECLINED` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType].\n\nFor more information on receiving server notifications for the sandbox environment, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/enabling-app-store-server-notifications]. For more information on testing, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox] and [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-refund-requests\ncrawled: 2025-12-02T17:35:06Z\n---\n\n# Testing refund requests\n\n**Article**\n\nTest your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.\n\n## Overview\n\nThe sandbox environment and StoreKit Testing in Xcode both support testing refund requests, which enable your customers to request a refund from within your app. Your app displays the refund request sheet by calling any of these methods: [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-65tph] , [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-63bvd], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(for:in:)-9mscy], [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/beginRefundRequest(in:)-9k0pj], or [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/refundRequestSheet(for:isPresented:onDismiss:)]. Customers fill out the sheet to submit the request.\n\nDepending on your testing setup, the App Store automatically approves or declines the refund request in the testing environment. Note that the App Store doesn’t send emails for refund requests in testing environments.\n\n### Test approved refunds\n\nTo set up a test for approved refunds, select any refund reason on the refund request sheet, and submit the sheet. The App Store automatically approves the refund request in the testing environment.\n\nYour app receives a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction] with refund information in the [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/revocationDate] and [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/Transaction\/revocationReason-swift.property] properties. If you’re testing in the sandbox environment and your server receives [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] for the sandbox, it gets a notification with a `REFUND` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType].\n\n### Test declined refunds\n\nTo set up a test for declined refunds, follow these steps on the refund request sheet with your app running in the sandbox environment:\n\n1. Under Issue, select Other.\n2. In the text box, type REJECT.\n3. Tap Request Refund.\n\nThe App Store automatically rejects the refund request in the testing environment.\n\nIf your server receives [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/App-Store-Server-Notifications-V2] for the sandbox environment, it gets a notification with a `REFUND_DECLINED` [doc:\/\/com.apple.documentation\/documentation\/AppStoreServerNotifications\/notificationType].\n\nFor more information on receiving server notifications for the sandbox environment, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/enabling-app-store-server-notifications]. For more information on testing, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox] and [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode].\n\n## In-App Purchase Testing\n\n- **Testing at all stages of development with Xcode and the sandbox**: Verify your implementation of In-App Purchases by testing your code throughout its development.\n- **Testing In-App Purchases with sandbox**: Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.\n- **Testing win-back offers in Xcode**: Validate your app’s handling of win-back offers that you configure for the testing environment.\n- **Testing Ask to Buy in Xcode**: Validate your app’s handling of Ask To Buy in the testing environment.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Verify your implementation of In-App Purchases by testing your code throughout its development.",
          "name" : "Testing at all stages of development with Xcode and the sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox"
        },
        {
          "description" : "Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.",
          "name" : "Testing In-App Purchases with sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-in-app-purchases-with-sandbox"
        },
        {
          "description" : "Validate your app’s handling of win-back offers that you configure for the testing environment.",
          "name" : "Testing win-back offers in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-win-back-offers-in-xcode"
        },
        {
          "description" : "Validate your app’s handling of Ask To Buy in the testing environment.",
          "name" : "Testing Ask to Buy in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-ask-to-buy-in-xcode"
        }
      ],
      "title" : "In-App Purchase Testing"
    }
  ],
  "source" : "appleJSON",
  "title" : "Testing refund requests",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-refund-requests"
}