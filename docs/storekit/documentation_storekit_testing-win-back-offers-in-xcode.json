{
  "abstract" : "Validate your app’s handling of win-back offers that you configure for the testing environment.",
  "codeExamples" : [

  ],
  "contentHash" : "43f873203a9a4113fb11de0b73f0d184fefb60b600b7046b68e4ff8ef7464599",
  "crawledAt" : "2025-12-02T17:02:16Z",
  "id" : "B71835E3-979A-428F-A809-2053D3224DA6",
  "kind" : "article",
  "language" : "swift",
  "module" : "StoreKit",
  "overview" : "## Overview\n\nA win-back offer is an offer for a discount on an auto-renewable subscription to a customer who was previously subscribed.\n\nTo test win-back offers in Xcode, first set up your StoreKit configuration file with auto-renewable subscriptions and win-back offers. Subscribe to an auto-renewable subscription with one or more win-back offers. Then, cancel the subscription and allow it to expire. If the win-back offer’s setting is Eligible, the testing system makes the win-back offer available to redeem immediately after the subscription expires.\n\nTesting win-back offers in Xcode is convenient early in the development process, because it doesn’t rely on any product configurations in App Store Connect. However, you can also test win-back offers in the sandbox environment, which does rely on your App Store Connect configuration. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-win-back-offers-in-the-sandbox-environment].\n\n### Perform basic setup\n\nBefore you can begin testing in Xcode, complete the steps in [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode], including creating a StoreKit configuration file and enabling StoreKit testing in Xcode.\n\n### Configure win-back offers for testing\n\nStart by opening the StoreKit configuration editor in Xcode and defining at least one auto-renewable subscription and subscription group. Then follow these steps to configure one or more win-back offers:\n\n### Run the test\n\nTo display a win-back offer, run your app in the Xcode environment and follow these steps:\n\nFor more information about using the transaction manager, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/testing-in-app-purchases-with-storeKit-transaction-manager-in-code].\n\n### Reset or rerun the test\n\nYou can rerun the test without resetting any state values. Win-back offers that you set to be Eligible appear as soon as their related subscriptions expire.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-win-back-offers-in-xcode\ncrawled: 2025-12-02T17:02:16Z\n---\n\n# Testing win-back offers in Xcode\n\n**Article**\n\nValidate your app’s handling of win-back offers that you configure for the testing environment.\n\n## Overview\n\nA win-back offer is an offer for a discount on an auto-renewable subscription to a customer who was previously subscribed.\n\nTo test win-back offers in Xcode, first set up your StoreKit configuration file with auto-renewable subscriptions and win-back offers. Subscribe to an auto-renewable subscription with one or more win-back offers. Then, cancel the subscription and allow it to expire. If the win-back offer’s setting is Eligible, the testing system makes the win-back offer available to redeem immediately after the subscription expires.\n\nTesting win-back offers in Xcode is convenient early in the development process, because it doesn’t rely on any product configurations in App Store Connect. However, you can also test win-back offers in the sandbox environment, which does rely on your App Store Connect configuration. For more information, see [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/testing-win-back-offers-in-the-sandbox-environment].\n\n### Perform basic setup\n\nBefore you can begin testing in Xcode, complete the steps in [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode], including creating a StoreKit configuration file and enabling StoreKit testing in Xcode.\n\n### Configure win-back offers for testing\n\nStart by opening the StoreKit configuration editor in Xcode and defining at least one auto-renewable subscription and subscription group. Then follow these steps to configure one or more win-back offers:\n\n1. In the left pane, select the subscription under the Auto-Renewable Subscriptions heading.\n2. Under the Win-back Offers heading in the editor, click the Add button (+) to configure a new offer by filling out the offer details as follows, and then clicking Save.\n\n\n\n\n\n### Run the test\n\nTo display a win-back offer, run your app in the Xcode environment and follow these steps:\n\n1. In your app, subscribe to an auto-renewable subscription that has at least one win-back offer.\n2. In the StoreKit configuration, set the Eligibility setting for the win-back offer to Eligible.\n3. Cancel the subscription. If your app implements subscription management, such as by calling [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/AppStore\/showManageSubscriptions(in:)], cancel the subscription through your app. Otherwise, use the transaction manager in Xcode by choosing Debug > StoreKit > Manage Transactions, selecting the subscription transaction, and turning off the auto-renew option.\n4. Wait for the canceled subscription to expire. The system makes the win-back offer available to redeem as soon as the subscription expires.\n5. In your app, open your store. Examine your app’s implementation of the win-back offer. For example, if your app uses [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/storekit-views], the eligible offers appear automatically when your app displays a [doc:\/\/com.apple.storekit\/documentation\/StoreKit\/SubscriptionStoreView].\n\nFor more information about using the transaction manager, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/testing-in-app-purchases-with-storeKit-transaction-manager-in-code].\n\n### Reset or rerun the test\n\nYou can rerun the test without resetting any state values. Win-back offers that you set to be Eligible appear as soon as their related subscriptions expire.\n\n## In-App Purchase Testing\n\n- **Testing at all stages of development with Xcode and the sandbox**: Verify your implementation of In-App Purchases by testing your code throughout its development.\n- **Testing In-App Purchases with sandbox**: Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.\n- **Testing refund requests**: Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.\n- **Testing Ask to Buy in Xcode**: Validate your app’s handling of Ask To Buy in the testing environment.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Verify your implementation of In-App Purchases by testing your code throughout its development.",
          "name" : "Testing at all stages of development with Xcode and the sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox"
        },
        {
          "description" : "Test your implementation of In-App Purchases using real product information and server-to-server transactions in the sandbox environment.",
          "name" : "Testing In-App Purchases with sandbox",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-in-app-purchases-with-sandbox"
        },
        {
          "description" : "Test your app’s implementation of refund requests, and your app’s and server’s handling of approved and declined refunds.",
          "name" : "Testing refund requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-refund-requests"
        },
        {
          "description" : "Validate your app’s handling of Ask To Buy in the testing environment.",
          "name" : "Testing Ask to Buy in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-ask-to-buy-in-xcode"
        }
      ],
      "title" : "In-App Purchase Testing"
    }
  ],
  "source" : "appleJSON",
  "title" : "Testing win-back offers in Xcode",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKit\/testing-win-back-offers-in-xcode"
}