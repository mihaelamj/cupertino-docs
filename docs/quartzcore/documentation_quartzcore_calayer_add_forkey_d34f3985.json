{
  "abstract" : "Add the specified animation object to the layer’s render tree.",
  "codeExamples" : [

  ],
  "contentHash" : "e79b159dcfb4dbd0f18653044e1f660145613bfdb0845ec4c3f8ab3d1792e69b",
  "crawledAt" : "2025-12-04T15:30:21Z",
  "declaration" : {
    "code" : "func add(_ anim: CAAnimation, forKey key: String?)",
    "language" : "swift"
  },
  "id" : "46C151A2-BD30-4BBD-BAEE-063D182DEB4A",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Animation",
  "overview" : "## Discussion\n\nIf the `duration` property of the animation is zero or negative, the duration is changed to the current value of the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/kCATransactionAnimationDuration] transaction property (if set) or to the default value of `0.25` seconds.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/add(_:forKey:)\ncrawled: 2025-12-04T15:30:21Z\n---\n\n# add(_:forKey:)\n\n**Instance Method**\n\nAdd the specified animation object to the layer’s render tree.\n\n## Declaration\n\n```swift\nfunc add(_ anim: CAAnimation, forKey key: String?)\n```\n\n## Parameters\n\n- **anim**: The animation to be added to the render tree. This object is copied by the render tree, not referenced. Therefore, subsequent modifications to the object are not propagated into the render tree.\n- **key**: A string that identifies the animation. Only one animation per unique key is added to the layer. The special key [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/kCATransition] is automatically used for transition animations. You may specify `nil` for this parameter.\n\n## Discussion\n\nIf the `duration` property of the animation is zero or negative, the duration is changed to the current value of the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/kCATransactionAnimationDuration] transaction property (if set) or to the default value of `0.25` seconds.\n\n## Layer animations\n\n- **animation(forKey:)**: Returns the animation object with the specified identifier.\n- **removeAllAnimations()**: Remove all animations attached to the layer.\n- **removeAnimation(forKey:)**: Remove the animation object with the specified key.\n- **animationKeys()**: Returns an array of strings that identify the animations currently attached to the layer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the animation object with the specified identifier.",
          "name" : "animation(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/animation(forKey:)"
        },
        {
          "description" : "Remove all animations attached to the layer.",
          "name" : "removeAllAnimations()",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/removeAllAnimations()"
        },
        {
          "description" : "Remove the animation object with the specified key.",
          "name" : "removeAnimation(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/removeAnimation(forKey:)"
        },
        {
          "description" : "Returns an array of strings that identify the animations currently attached to the layer.",
          "name" : "animationKeys()",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/animationKeys()"
        }
      ],
      "title" : "Layer animations"
    }
  ],
  "source" : "appleJSON",
  "title" : "add(_:forKey:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/add(_:forKey:)"
}