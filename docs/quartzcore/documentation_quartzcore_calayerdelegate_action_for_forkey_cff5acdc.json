{
  "abstract" : "Returns the default action of the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/action(forKey:)] method.",
  "codeExamples" : [
    {
      "code" : "let delegate = LayerDelegate()\n     \nlazy var sublayer: CALayer = {\n    let layer = CALayer()\n    layer.delegate = self.delegate\n    \n    return layer\n}()\n     \nfunc moveSublayer() {\n    guard let action = sublayer.action(forKey: \"moveRight\") else {\n        return\n    }\n    \n    action.run(forKey: \"transform\", object: sublayer, arguments: nil)\n}\n     \nclass LayerDelegate: NSObject, CALayerDelegate {\n    func action(for layer: CALayer, forKey event: String) -> CAAction? {\n        \n        guard event == \"moveRight\" else {\n            return nil\n        }\n        \n        let animation = CABasicAnimation()\n        animation.valueFunction = CAValueFunction(name: kCAValueFunctionTranslateX)\n        animation.fromValue = 1\n        animation.toValue = 300\n        animation.duration = 2\n        \n        return animation\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "daa65d047ddab6eeaaebf4d3c85f982ae5614f2dbb63f4bc6ff6ddf04e8147bc",
  "crawledAt" : "2025-12-06T00:36:06Z",
  "declaration" : {
    "code" : "optional func action(for layer: CALayer, forKey event: String) -> (any CAAction)?",
    "language" : "swift"
  },
  "id" : "3D33A131-8131-48B9-AF41-0769D2FBBD39",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Animation",
  "overview" : "## Return Value\n\nAn object implementing the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAction] protocol or `nil` if the delegate does not specify a behavior for the specified `key`.\n\n## Discussion\n\nA layer’s delegate that implements this method returns an action for a specified key and stops any further searches (i.e. actions for the same key in the layer’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/actions] dictionary or specified by [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/defaultAction(forKey:)] are not returned).\n\nThe following code shows how you can create a class named `LayerDelegate` that implements [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayerDelegate] and sets it as a layer’s (named `sublayer`) delegate. `LayerDelegate` returns a basic animation that moves an object from left to right. The `moveSublayer()` method searches `sublayer` for an action with the key `moveRight` and, if the action is found, runs it.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayerDelegate\/action(for:forKey:)\ncrawled: 2025-12-06T00:36:06Z\n---\n\n# action(for:forKey:)\n\n**Instance Method**\n\nReturns the default action of the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/action(forKey:)] method.\n\n## Declaration\n\n```swift\noptional func action(for layer: CALayer, forKey event: String) -> (any CAAction)?\n```\n\n## Parameters\n\n- **layer**: The layer that is the target of the action.\n- **event**: The identifier of the action.\n\n## Return Value\n\nAn object implementing the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAction] protocol or `nil` if the delegate does not specify a behavior for the specified `key`.\n\n## Discussion\n\nA layer’s delegate that implements this method returns an action for a specified key and stops any further searches (i.e. actions for the same key in the layer’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/actions] dictionary or specified by [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayer\/defaultAction(forKey:)] are not returned).\n\nThe following code shows how you can create a class named `LayerDelegate` that implements [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CALayerDelegate] and sets it as a layer’s (named `sublayer`) delegate. `LayerDelegate` returns a basic animation that moves an object from left to right. The `moveSublayer()` method searches `sublayer` for an action with the key `moveRight` and, if the action is found, runs it.\n\n```swift\nlet delegate = LayerDelegate()\n     \nlazy var sublayer: CALayer = {\n    let layer = CALayer()\n    layer.delegate = self.delegate\n    \n    return layer\n}()\n     \nfunc moveSublayer() {\n    guard let action = sublayer.action(forKey: \"moveRight\") else {\n        return\n    }\n    \n    action.run(forKey: \"transform\", object: sublayer, arguments: nil)\n}\n     \nclass LayerDelegate: NSObject, CALayerDelegate {\n    func action(for layer: CALayer, forKey event: String) -> CAAction? {\n        \n        guard event == \"moveRight\" else {\n            return nil\n        }\n        \n        let animation = CABasicAnimation()\n        animation.valueFunction = CAValueFunction(name: kCAValueFunctionTranslateX)\n        animation.fromValue = 1\n        animation.toValue = 300\n        animation.duration = 2\n        \n        return animation\n    }\n}\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "action(for:forKey:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayerDelegate\/action(for:forKey:)"
}