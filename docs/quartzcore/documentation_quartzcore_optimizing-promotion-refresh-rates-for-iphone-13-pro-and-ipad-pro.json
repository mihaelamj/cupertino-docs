{
  "abstract" : "Provide custom animated content for ProMotion displays.",
  "codeExamples" : [
    {
      "code" : "<key>CADisableMinimumFrameDurationOnPhone<\/key><true\/>",
      "language" : "plist"
    },
    {
      "code" : "\/\/ Calculate the working time available to the `CADisplayLink` callback.\ndisplayLink = CADisplayLink(target: self, selector: #selector(displayLinkCallback))\n\n\/\/ Configure your desired refresh rate calling setPreferredFramesPerSecond\n\/\/ or preferredFrameRateRange, then activate your CADisplayLink by adding it\n\/\/ to the main runloop.\ndisplayLink.add(to: .current, forMode: .default)\n\n@objc func displayLinkCallback() {\n    let workingTime = displayLink.targetTimestamp - CACurrentMediaTime()\n    \/\/ At this moment in time, there are `workingTime` seconds available to\n    \/\/ generate content for the next frame, so\n    \/\/ Core Animation can render it to the display.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "1c37437a1856ab477e044f7cfed3a240812269e4d8a34f725f4f24c84da76f2e",
  "crawledAt" : "2025-12-01T10:36:54Z",
  "id" : "FF5646CE-845E-40D8-8508-FE57A06DD7E7",
  "kind" : "article",
  "module" : "Core Animation",
  "overview" : "## Overview\n\nThe iPhone 13 Pro, the iPhone 13 Pro Max, and the iPad Pro ProMotion displays are capable of dynamically switching between:\n\nThis dynamic switching means your app can present smooth, seamless animations and take advantage of power-saving opportunities. Your app may already be capable of taking advantage of these new refresh rates without any changes. Some framework animation features handle frame pacing automatically for you, including:\n\nIf your app needs to provide animated content with special timing, you can use Core Animation’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink]. You can provide timing hints for any CAAnimation-based animation in an app that needs special timing to improve visual appearance or save power. For more information on refresh rates, see WWDC21 - [https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10147\/].\n\n### Understand refresh rates\n\nYou can’t force a ProMotion display to show your content at any specific rate. The refresh rate of a ProMotion display behaves differently than a traditional display. The system insulates the ProMotion’s actual refresh rate from your app. From your app’s point of view, the refresh rate for a ProMotion display is the rate that Core Animation renders the content for the entire display. The system synchronizes the rendering process with the display hardware’s refresh rate, but the display hardware doesn’t necessarily drive the rendering process. Core Animation arbitrates all the animations it presents on the screen and determines the refresh rate at any particular time. Your app can provide hints to Core Animation about what refresh rates the app prefers for its animations.\n\nThe iPhone 13 Pro and iPhone 13 Pro Max ProMotion displays can present content on the display using the following refresh rates and timings:\n\nThe iPad Pro’s ProMotion display can present content on the display using the following refresh rates and timings:\n\n### Enable faster ProMotion refresh rates\n\nIf you don’t enable faster refresh rates for your app, your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback might run at any of the speeds that the ProMotion display supports, at different times during normal GUI operations. In these cases, other animations in the system may affect the rate at which Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. The rate at which Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback may not match the refresh rate hints that you provide to your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. Specifically, Core Animation won’t unlock any refresh rate that’s faster than the system’s default.\n\nOn iPhone 13 Pro or iPhone 13 Pro Max, add the following key to your `Info.plist` file to enable the full range of refresh rates for [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callbacks and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation] animations in your app:\n\nYour app must use this key to access higher frame rates (above 60Hz) it sets in the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFrameRateRange] hint API. The iPad Pro doesn’t require this special configuration.\n\n### Provide time-paced content to a ProMotion display\n\nThe system automatically handles frame pacing for UIKit, SpriteKit , SwiftUI, and CAAnimation animations for you. When your app needs to present custom content accurately, provide hints about your app’s preferred refresh rate(s) to [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] or [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation].\n\nWhen specifying a preferred frame rate, specify the best possible frame rate for your content. [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] might be unable to update the display at that rate at all times, but it attempts to provide the closest refresh rate as possible, given available hardware and current conditions on the device. iOS 15 provides special priority to 30Hz and 60Hz refresh rates (if your app provides hints that request either of these rates) to help with early adoption for game developers. This prioritization is specific to iOS 15.\n\n### Provide timing hints to Core Animation\n\nApps that use the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation] APIs can provide hints about the refresh rates they prefer, and Core Animation attempts to accommodate these preferences. Your app must not assume that Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback at any specific refresh rate or even at the rate requested. Prior to iOS 15, you provide your preferred refresh rate by setting the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFramesPerSecond] property. This property means your app can specify its preferred refresh rate. In iOS 15, you can set a preferred [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFrameRateRange] by using a [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange], which means you can set the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/minimum], [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/maximum], and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/preferred-7l3ki] refresh rate for your content.\n\nThe following table provides some suggested frame rate hints for different types of animations:\n\nAs a general rule, for better visual appearance use faster refresh rates when animating fast-moving items that travel across large areas of the screen. But, if you’re animating a smaller item that doesn’t move over a great distance, but “animates in place”, that typically doesn’t benefit from a high refresh rate. You can use slower refresh rates when animating smaller items without any impact to the visual appearance. Selecting the right animation speed is always a tradeoff between a smoother visual appearance and saving energy. As a guiding principle, strive for the lowest animation speed possible while maintaining good visual appearance.\n\nUse these recommended timings and principles when designing and building your app, but also do your own testing on an actual device to make sure your animations look good.\n\n### Synchronize your content with the display\n\nCore Animation reports timing information about the current refresh interval in the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] properties each time it calls your app’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. When Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback , [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] equals the beginning of the current refresh interval and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] is equal to the end of the interval. When providing new content, [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] is your deadline to submit changes for the next frame that Core Animation renders to the device’s display.\n\nThough [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] reflects the time of the beginning of the current refresh interval, there might be some latency between that time and the time when Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. To calculate how much time your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback has to prepare content before [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp], subtract the value returned by [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CACurrentMediaTime()] from [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp]. For example:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/QuartzCore\/optimizing-promotion-refresh-rates-for-iphone-13-pro-and-ipad-pro\ncrawled: 2025-12-01T10:36:54Z\n---\n\n# Optimizing ProMotion refresh rates for iPhone 13 Pro and iPad Pro\n\n**Article**\n\nProvide custom animated content for ProMotion displays.\n\n## Overview\n\nThe iPhone 13 Pro, the iPhone 13 Pro Max, and the iPad Pro ProMotion displays are capable of dynamically switching between:\n\n- Faster refresh rates up to 120Hz\n- Slower refresh rates down to 24Hz or 10Hz\n\nThis dynamic switching means your app can present smooth, seamless animations and take advantage of power-saving opportunities. Your app may already be capable of taking advantage of these new refresh rates without any changes. Some framework animation features handle frame pacing automatically for you, including:\n\n- [doc:\/\/com.apple.documentation\/documentation\/UIKit]\n- [doc:\/\/com.apple.documentation\/documentation\/SwiftUI]\n- [doc:\/\/com.apple.documentation\/documentation\/SpriteKit]\n- [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation]\n\nIf your app needs to provide animated content with special timing, you can use Core Animation’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink]. You can provide timing hints for any CAAnimation-based animation in an app that needs special timing to improve visual appearance or save power. For more information on refresh rates, see WWDC21 - [https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10147\/].\n\n\n\n### Understand refresh rates\n\nYou can’t force a ProMotion display to show your content at any specific rate. The refresh rate of a ProMotion display behaves differently than a traditional display. The system insulates the ProMotion’s actual refresh rate from your app. From your app’s point of view, the refresh rate for a ProMotion display is the rate that Core Animation renders the content for the entire display. The system synchronizes the rendering process with the display hardware’s refresh rate, but the display hardware doesn’t necessarily drive the rendering process. Core Animation arbitrates all the animations it presents on the screen and determines the refresh rate at any particular time. Your app can provide hints to Core Animation about what refresh rates the app prefers for its animations.\n\nThe iPhone 13 Pro and iPhone 13 Pro Max ProMotion displays can present content on the display using the following refresh rates and timings:\n\n- 120Hz (8ms)\n- 80Hz (12ms)\n- 60Hz (16ms)\n- 48Hz (20ms)\n- 40Hz (25ms)\n- 30Hz (33ms)\n- 24Hz (41ms)\n- 20Hz (50ms)\n- 16Hz (62ms)\n- 15Hz (66ms)\n- 12Hz (83ms)\n- 10Hz (100ms)\n\nThe iPad Pro’s ProMotion display can present content on the display using the following refresh rates and timings:\n\n- 120Hz (8ms)\n- 60Hz (16ms)\n- 40Hz (25ms)\n- 30Hz (33ms)\n- 24Hz (41ms)\n\n\n\n### Enable faster ProMotion refresh rates\n\nIf you don’t enable faster refresh rates for your app, your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback might run at any of the speeds that the ProMotion display supports, at different times during normal GUI operations. In these cases, other animations in the system may affect the rate at which Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. The rate at which Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback may not match the refresh rate hints that you provide to your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. Specifically, Core Animation won’t unlock any refresh rate that’s faster than the system’s default.\n\nOn iPhone 13 Pro or iPhone 13 Pro Max, add the following key to your `Info.plist` file to enable the full range of refresh rates for [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callbacks and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation] animations in your app:\n\n```plist\n<key>CADisableMinimumFrameDurationOnPhone<\/key><true\/>\n```\n\nYour app must use this key to access higher frame rates (above 60Hz) it sets in the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFrameRateRange] hint API. The iPad Pro doesn’t require this special configuration.\n\n### Provide time-paced content to a ProMotion display\n\nThe system automatically handles frame pacing for UIKit, SpriteKit , SwiftUI, and CAAnimation animations for you. When your app needs to present custom content accurately, provide hints about your app’s preferred refresh rate(s) to [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] or [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation].\n\n\n\nWhen specifying a preferred frame rate, specify the best possible frame rate for your content. [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] might be unable to update the display at that rate at all times, but it attempts to provide the closest refresh rate as possible, given available hardware and current conditions on the device. iOS 15 provides special priority to 30Hz and 60Hz refresh rates (if your app provides hints that request either of these rates) to help with early adoption for game developers. This prioritization is specific to iOS 15.\n\n\n\n### Provide timing hints to Core Animation\n\nApps that use the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAAnimation] APIs can provide hints about the refresh rates they prefer, and Core Animation attempts to accommodate these preferences. Your app must not assume that Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback at any specific refresh rate or even at the rate requested. Prior to iOS 15, you provide your preferred refresh rate by setting the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFramesPerSecond] property. This property means your app can specify its preferred refresh rate. In iOS 15, you can set a preferred [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/preferredFrameRateRange] by using a [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange], which means you can set the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/minimum], [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/maximum], and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CAFrameRateRange\/preferred-7l3ki] refresh rate for your content.\n\nThe following table provides some suggested frame rate hints for different types of animations:\n\n\n\nAs a general rule, for better visual appearance use faster refresh rates when animating fast-moving items that travel across large areas of the screen. But, if you’re animating a smaller item that doesn’t move over a great distance, but “animates in place”, that typically doesn’t benefit from a high refresh rate. You can use slower refresh rates when animating smaller items without any impact to the visual appearance. Selecting the right animation speed is always a tradeoff between a smoother visual appearance and saving energy. As a guiding principle, strive for the lowest animation speed possible while maintaining good visual appearance.\n\n\n\nUse these recommended timings and principles when designing and building your app, but also do your own testing on an actual device to make sure your animations look good.\n\n### Synchronize your content with the display\n\nCore Animation reports timing information about the current refresh interval in the [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] properties each time it calls your app’s [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. When Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback , [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] equals the beginning of the current refresh interval and [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] is equal to the end of the interval. When providing new content, [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp] is your deadline to submit changes for the next frame that Core Animation renders to the device’s display.\n\n\n\nThough [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/timestamp] reflects the time of the beginning of the current refresh interval, there might be some latency between that time and the time when Core Animation calls your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback. To calculate how much time your [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink] callback has to prepare content before [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp], subtract the value returned by [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CACurrentMediaTime()] from [doc:\/\/com.apple.quartzcore\/documentation\/QuartzCore\/CADisplayLink\/targetTimestamp]. For example:\n\n```swift\n\/\/ Calculate the working time available to the `CADisplayLink` callback.\ndisplayLink = CADisplayLink(target: self, selector: #selector(displayLinkCallback))\n\n\/\/ Configure your desired refresh rate calling setPreferredFramesPerSecond\n\/\/ or preferredFrameRateRange, then activate your CADisplayLink by adding it\n\/\/ to the main runloop.\ndisplayLink.add(to: .current, forMode: .default)\n\n@objc func displayLinkCallback() {\n    let workingTime = displayLink.targetTimestamp - CACurrentMediaTime()\n    \/\/ At this moment in time, there are `workingTime` seconds available to\n    \/\/ generate content for the next frame, so\n    \/\/ Core Animation can render it to the display.\n}\n```\n\n\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Optimizing ProMotion refresh rates for iPhone 13 Pro and iPad Pro",
  "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/optimizing-promotion-refresh-rates-for-iphone-13-pro-and-ipad-pro"
}