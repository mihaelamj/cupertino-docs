{
  "abstract" : "A CoreImage filter used to composite the layer and the content behind it. Animatable.",
  "codeExamples" : [
    {
      "code" : "view.layer = CALayer()\nview.layerUsesCoreImageFilters = true\n     \nlet background = CATextLayer()\nbackground.string = \"background\"\nbackground.foregroundColor = NSColor.gray.cgColor\nbackground.backgroundColor = NSColor.darkGray.cgColor\nbackground.alignmentMode = kCAAlignmentCenter\nbackground.fontSize = 96\nbackground.frame = CGRect(x: 10, y: 10, width: 640, height: 160)\n     \nlet foreground = CATextLayer()\nforeground.string = \"foreground\"\nforeground.foregroundColor = NSColor.lightGray.cgColor\nforeground.backgroundColor = NSColor.darkGray.cgColor\nforeground.alignmentMode = kCAAlignmentCenter\nforeground.fontSize = 48\nforeground.opacity = 0.5\nforeground.frame = CGRect(x: 20, y: 20, width: 600, height: 60)\nforeground.masksToBounds = false\n     \nif let compositingFilter = CIFilter(name: \"CIAdditionCompositing\") {\n    foreground.compositingFilter = compositingFilter\n}\n     \nview.layer?.addSublayer(background)\nbackground.addSublayer(foreground)",
      "language" : "swift"
    }
  ],
  "contentHash" : "dadba75b70c54ed5a1c7af3f5fc571d2f7b0fa0f7c2564da98a65dfd8cdd048e",
  "crawledAt" : "2025-12-04T17:01:02Z",
  "declaration" : {
    "code" : "var compositingFilter: Any? { get set }",
    "language" : "swift"
  },
  "id" : "039E0714-FAF6-4803-BA6E-C78987E5CC58",
  "kind" : "property",
  "language" : "swift",
  "module" : "Core Animation",
  "overview" : "## Discussion\n\nThe default value of this property is `nil`, which causes the layer to use source-over compositing. Although you can use any Core Image filter as a layer’s compositing filter, for best results, use those in the [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Reference\/CoreImageFilterReference\/index.html#\/\/apple_ref\/doc\/uid\/TP30000136-SW71] category.\n\nIn macOS, it is possible to modify the filter’s parameters after attaching it to the layer but you must use the layer’s [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/NSObject-swift.class\/setValue(_:forKeyPath:)] method to do so. For example, to change the `inputRadius` parameter of the filter, you could use code similar to the following:\n\nChanging the inputs of the [doc:\/\/com.apple.documentation\/documentation\/CoreImage\/CIFilter-swift.class] object directly after it is attached to the layer causes undefined behavior.\n\nThe following code shows how to create two overlapping text layers, background and foreground. Addition compositing is used to composite the foreground over the background.\n\nThe following figure shows the result: the identical background colors of the two layers are added together so that a brighter gray is produced where the layers overlap.\n\n\n\nThe following figure shows the default result when the foreground layer’s compositing filter is `nil` or [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Reference\/CoreImageFilterReference\/index.html#\/\/apple_ref\/doc\/filter\/ci\/CISourceOverCompositing].\n\n\n\n### Special Considerations\n\nThis property is not supported on layers in iOS.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/compositingFilter\ncrawled: 2025-12-04T17:01:02Z\n---\n\n# compositingFilter\n\n**Instance Property**\n\nA CoreImage filter used to composite the layer and the content behind it. Animatable.\n\n## Declaration\n\n```swift\nvar compositingFilter: Any? { get set }\n```\n\n## Discussion\n\nThe default value of this property is `nil`, which causes the layer to use source-over compositing. Although you can use any Core Image filter as a layer’s compositing filter, for best results, use those in the [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Reference\/CoreImageFilterReference\/index.html#\/\/apple_ref\/doc\/uid\/TP30000136-SW71] category.\n\nIn macOS, it is possible to modify the filter’s parameters after attaching it to the layer but you must use the layer’s [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/NSObject-swift.class\/setValue(_:forKeyPath:)] method to do so. For example, to change the `inputRadius` parameter of the filter, you could use code similar to the following:\n\n\n\nChanging the inputs of the [doc:\/\/com.apple.documentation\/documentation\/CoreImage\/CIFilter-swift.class] object directly after it is attached to the layer causes undefined behavior.\n\nThe following code shows how to create two overlapping text layers, background and foreground. Addition compositing is used to composite the foreground over the background.\n\n```swift\nview.layer = CALayer()\nview.layerUsesCoreImageFilters = true\n     \nlet background = CATextLayer()\nbackground.string = \"background\"\nbackground.foregroundColor = NSColor.gray.cgColor\nbackground.backgroundColor = NSColor.darkGray.cgColor\nbackground.alignmentMode = kCAAlignmentCenter\nbackground.fontSize = 96\nbackground.frame = CGRect(x: 10, y: 10, width: 640, height: 160)\n     \nlet foreground = CATextLayer()\nforeground.string = \"foreground\"\nforeground.foregroundColor = NSColor.lightGray.cgColor\nforeground.backgroundColor = NSColor.darkGray.cgColor\nforeground.alignmentMode = kCAAlignmentCenter\nforeground.fontSize = 48\nforeground.opacity = 0.5\nforeground.frame = CGRect(x: 20, y: 20, width: 600, height: 60)\nforeground.masksToBounds = false\n     \nif let compositingFilter = CIFilter(name: \"CIAdditionCompositing\") {\n    foreground.compositingFilter = compositingFilter\n}\n     \nview.layer?.addSublayer(background)\nbackground.addSublayer(foreground)\n```\n\nThe following figure shows the result: the identical background colors of the two layers are added together so that a brighter gray is produced where the layers overlap.\n\n\n\nThe following figure shows the default result when the foreground layer’s compositing filter is `nil` or [https:\/\/developer.apple.com\/library\/archive\/documentation\/GraphicsImaging\/Reference\/CoreImageFilterReference\/index.html#\/\/apple_ref\/doc\/filter\/ci\/CISourceOverCompositing].\n\n\n\n### Special Considerations\n\nThis property is not supported on layers in iOS.\n\n## Layer filters\n\n- **filters**: An array of Core Image filters to apply to the contents of the layer and its sublayers. Animatable.\n- **backgroundFilters**: An array of Core Image filters to apply to the content immediately behind the layer. Animatable.\n- **minificationFilter**: The filter used when reducing the size of the content.\n- **minificationFilterBias**: The bias factor used by the minification filter to determine the levels of detail.\n- **magnificationFilter**: The filter used when increasing the size of the content.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array of Core Image filters to apply to the contents of the layer and its sublayers. Animatable.",
          "name" : "filters",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/filters"
        },
        {
          "description" : "An array of Core Image filters to apply to the content immediately behind the layer. Animatable.",
          "name" : "backgroundFilters",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/backgroundFilters"
        },
        {
          "description" : "The filter used when reducing the size of the content.",
          "name" : "minificationFilter",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/minificationFilter"
        },
        {
          "description" : "The bias factor used by the minification filter to determine the levels of detail.",
          "name" : "minificationFilterBias",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/minificationFilterBias"
        },
        {
          "description" : "The filter used when increasing the size of the content.",
          "name" : "magnificationFilter",
          "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/magnificationFilter"
        }
      ],
      "title" : "Layer filters"
    }
  ],
  "source" : "appleJSON",
  "title" : "compositingFilter",
  "url" : "https:\/\/developer.apple.com\/documentation\/QuartzCore\/CALayer\/compositingFilter"
}