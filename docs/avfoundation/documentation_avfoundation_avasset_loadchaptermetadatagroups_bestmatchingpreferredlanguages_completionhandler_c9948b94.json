{
  "abstract" : "Loads chapter metadata with a locale that best matches the list of preferred languages.",
  "codeExamples" : [

  ],
  "contentHash" : "7bb9c8dca90e7b80032478a21be7173fbfec4d73ae1306f6c4b7634dbf502831",
  "crawledAt" : "2025-12-04T11:03:10Z",
  "declaration" : {
    "code" : "func loadChapterMetadataGroups(bestMatchingPreferredLanguages preferredLanguages: [String], completionHandler: @escaping ([AVTimedMetadataGroup]?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "B419B25F-4D2B-47C5-B246-C5B1A1D04AF6",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nThis method returns an array of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] objects asynchronously. Each object in the array contains an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] that represents the chapter’s title, and the metadata group’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup\/timeRange] value equals the time range of the chapter title item.\n\nThe metadata group contains all chapter metadata, including items with the common key [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataKey\/commonKeyArtwork], if such items are present. The system adds an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] with the specified common key to an existing [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object if the time range (timestamp and duration) of the metadata item and the metadata group overlap. The locales of such items don’t need to match the locale of the chapter titles.\n\nYou can use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:filteredAndSortedAccordingToPreferredLanguages:)] method to further filter the metadata items in each group. You can also filter the returned items based on locale using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:with:)] method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsset\/loadChapterMetadataGroups(bestMatchingPreferredLanguages:completionHandler:)\ncrawled: 2025-12-04T11:03:10Z\n---\n\n# loadChapterMetadataGroups(bestMatchingPreferredLanguages:completionHandler:)\n\n**Instance Method**\n\nLoads chapter metadata with a locale that best matches the list of preferred languages.\n\n## Declaration\n\n```swift\nfunc loadChapterMetadataGroups(bestMatchingPreferredLanguages preferredLanguages: [String], completionHandler: @escaping ([AVTimedMetadataGroup]?, (any Error)?) -> Void)\n```\n\n```swift\nfunc loadChapterMetadataGroups(bestMatchingPreferredLanguages preferredLanguages: [String]) async throws -> [AVTimedMetadataGroup]\n```\n\n## Parameters\n\n- **preferredLanguages**: An array of language identifiers in order of preference, each of which is an IETF BCP 47 (RFC 4646) language identifier. Call  [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Locale\/preferredLanguages] to retrieve the list of languates the user prefers.\n- **completionHandler**: A callback that the system invokes after it finishes the loading request. It passes the completion handler the following parameters:\n\n\n\n## Discussion\n\nThis method returns an array of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] objects asynchronously. Each object in the array contains an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] that represents the chapter’s title, and the metadata group’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup\/timeRange] value equals the time range of the chapter title item.\n\nThe metadata group contains all chapter metadata, including items with the common key [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataKey\/commonKeyArtwork], if such items are present. The system adds an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] with the specified common key to an existing [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object if the time range (timestamp and duration) of the metadata item and the metadata group overlap. The locales of such items don’t need to match the locale of the chapter titles.\n\nYou can use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:filteredAndSortedAccordingToPreferredLanguages:)] method to further filter the metadata items in each group. You can also filter the returned items based on locale using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:with:)] method.\n\n## Loading chapter metadata\n\n- **availableChapterLocales**: The locales of an asset’s chapter metadata.\n- **loadChapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)**: Loads chapter metadata that contains the specified title locale and common keys.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The locales of an asset’s chapter metadata.",
          "name" : "availableChapterLocales",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPartialAsyncProperty\/availableChapterLocales"
        },
        {
          "description" : "Loads chapter metadata that contains the specified title locale and common keys.",
          "name" : "loadChapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsset\/loadChapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)"
        }
      ],
      "title" : "Loading chapter metadata"
    }
  ],
  "source" : "appleJSON",
  "title" : "loadChapterMetadataGroups(bestMatchingPreferredLanguages:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsset\/loadChapterMetadataGroups(bestMatchingPreferredLanguages:completionHandler:)"
}