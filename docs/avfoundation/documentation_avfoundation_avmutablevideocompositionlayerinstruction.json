{
  "abstract" : "An object used to modify the transform, cropping, and opacity ramps applied to a given track in a mutable composition.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSMutableCopying",
    "NSObjectProtocol",
    "NSSecureCoding",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "584f3148bcca55bb6e4c7a4e8dc9355098f31172ce7a9e49a34a7d76248cd0f4",
  "crawledAt" : "2025-12-02T15:51:13Z",
  "declaration" : {
    "code" : "class AVMutableVideoCompositionLayerInstruction",
    "language" : "swift"
  },
  "id" : "CEFFD2AC-2027-495D-B34E-F99A5B671E30",
  "kind" : "class",
  "language" : "swift",
  "module" : "AVFoundation",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\ncrawled: 2025-12-02T15:51:13Z\n---\n\n# AVMutableVideoCompositionLayerInstruction\n\n**Class**\n\nAn object used to modify the transform, cropping, and opacity ramps applied to a given track in a mutable composition.\n\n## Declaration\n\n```swift\nclass AVMutableVideoCompositionLayerInstruction\n```\n\n## Creating an instruction\n\n- **init(assetTrack:)**: Creates a new mutable video composition layer instruction for the given track.\n\n## Configuring a track ID\n\n- **trackID**: The track identifier of the source track to which the compositor applies the instruction.\n\n## Managing properties\n\n- **setOpacity(_:at:)**: Sets the opacity value at a specific time within the time range of the instruction.\n- **setOpacityRamp(fromStartOpacity:toEndOpacity:timeRange:)**: Sets an opacity ramp to apply during a specified time range.\n- **setTransform(_:at:)**: Sets the transform value at a time within the time range of the instruction.\n- **setTransformRamp(fromStart:toEnd:timeRange:)**: Sets a transform ramp to apply during a given time range.\n\n## Setting crop rectangle values\n\n- **setCropRectangle(_:at:)**: Sets the crop rectangle  value at a time within the time range of the instruction.\n- **setCropRectangleRamp(fromStartCropRectangle:toEndCropRectangle:timeRange:)**: Sets a crop rectangle ramp to apply during the specified time range.\n\n## Built-in video compositing\n\n- **Editing and playing HDR video**: Support high-dynamic-range (HDR) video content in your app by using the HDR editing and playback capabilities of AVFoundation.\n- **Debugging AVFoundation audio mixes, compositions, and video compositions**: Resolve common problems when creating compositions, video compositions, and audio mixes.\n- **AVVideoComposition**: An object that describes how to compose video frames at particular points in time.\n- **AVVideoCompositionInstruction**: An operation that a compositor performs.\n- **AVVideoCompositionLayerInstruction**: An object used to modify the transform, cropping, and opacity ramps applied to a given track in a composition.\n- **AVMutableVideoComposition**: A mutable video composition subclass.\n- **AVMutableVideoCompositionInstruction**: A mutable video composition instruction subclass.\n\n## Inherits From\n\n- AVVideoCompositionLayerInstruction\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSMutableCopying\n- NSObjectProtocol\n- NSSecureCoding\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new mutable video composition layer instruction for the given track.",
          "name" : "init(assetTrack:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/init(assetTrack:)"
        }
      ],
      "title" : "Creating an instruction"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The track identifier of the source track to which the compositor applies the instruction.",
          "name" : "trackID",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/trackID"
        }
      ],
      "title" : "Configuring a track ID"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the opacity value at a specific time within the time range of the instruction.",
          "name" : "setOpacity(_:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setOpacity(_:at:)"
        },
        {
          "description" : "Sets an opacity ramp to apply during a specified time range.",
          "name" : "setOpacityRamp(fromStartOpacity:toEndOpacity:timeRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setOpacityRamp(fromStartOpacity:toEndOpacity:timeRange:)"
        },
        {
          "description" : "Sets the transform value at a time within the time range of the instruction.",
          "name" : "setTransform(_:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setTransform(_:at:)"
        },
        {
          "description" : "Sets a transform ramp to apply during a given time range.",
          "name" : "setTransformRamp(fromStart:toEnd:timeRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setTransformRamp(fromStart:toEnd:timeRange:)"
        }
      ],
      "title" : "Managing properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the crop rectangle  value at a time within the time range of the instruction.",
          "name" : "setCropRectangle(_:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setCropRectangle(_:at:)"
        },
        {
          "description" : "Sets a crop rectangle ramp to apply during the specified time range.",
          "name" : "setCropRectangleRamp(fromStartCropRectangle:toEndCropRectangle:timeRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction\/setCropRectangleRamp(fromStartCropRectangle:toEndCropRectangle:timeRange:)"
        }
      ],
      "title" : "Setting crop rectangle values"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Support high-dynamic-range (HDR) video content in your app by using the HDR editing and playback capabilities of AVFoundation.",
          "name" : "Editing and playing HDR video",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/editing-and-playing-hdr-video"
        },
        {
          "description" : "Resolve common problems when creating compositions, video compositions, and audio mixes.",
          "name" : "Debugging AVFoundation audio mixes, compositions, and video compositions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/debugging-avfoundation-audio-mixes-compositions-and-video-compositions"
        },
        {
          "description" : "An object that describes how to compose video frames at particular points in time.",
          "name" : "AVVideoComposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVVideoComposition"
        },
        {
          "description" : "An operation that a compositor performs.",
          "name" : "AVVideoCompositionInstruction",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVVideoCompositionInstruction-swift.class"
        },
        {
          "description" : "An object used to modify the transform, cropping, and opacity ramps applied to a given track in a composition.",
          "name" : "AVVideoCompositionLayerInstruction",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVVideoCompositionLayerInstruction"
        },
        {
          "description" : "A mutable video composition subclass.",
          "name" : "AVMutableVideoComposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition"
        },
        {
          "description" : "A mutable video composition instruction subclass.",
          "name" : "AVMutableVideoCompositionInstruction",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionInstruction"
        }
      ],
      "title" : "Built-in video compositing"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "AVVideoCompositionLayerInstruction"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "AVMutableVideoCompositionLayerInstruction",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoCompositionLayerInstruction"
}