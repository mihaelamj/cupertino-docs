{
  "abstract" : "Notifies the delegate that a new video frame was written.",
  "codeExamples" : [

  ],
  "contentHash" : "0a22fc89db7b60c007111852672613c10096803eb2d5a94494052cf7dd259923",
  "crawledAt" : "2025-12-03T07:30:15Z",
  "declaration" : {
    "code" : "optional func captureOutput(_ output: AVCaptureOutput, didOutput sampleBuffer: CMSampleBuffer, from connection: AVCaptureConnection)",
    "language" : "swift"
  },
  "id" : "0AB55926-EC3E-49F3-9CBA-394957E2D3F4",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nDelegates receive this message whenever the output captures and outputs a new video frame, decoding or re-encoding it as specified by its `videoSettings` property. Delegates can use the provided video frame in conjunction with other APIs for further processing.\n\nThis method is called on the dispatch queue specified by the output’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput\/sampleBufferCallbackQueue] property. It is called periodically, so it must be efficient to prevent capture performance problems, including dropped frames.\n\nIf you need to reference the `CMSampleBuffer` object outside of the scope of this method, you must `CFRetain` it and then `CFRelease` it when you are finished with it.\n\nTo maintain optimal performance, some sample buffers directly reference pools of memory that may need to be reused by the device system and other capture inputs. This is frequently the case for uncompressed device native capture where memory blocks are copied as little as possible. If multiple sample buffers reference such pools of memory for too long, inputs will no longer be able to copy new samples into memory and those samples will be dropped.\n\nIf your application is causing samples to be dropped by retaining the provided [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMSampleBuffer] objects for too long, but it needs access to the sample data for a long period of time, consider copying the data into a new buffer and then releasing the sample buffer (if it was previously retained) so that the memory it references can be reused.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureVideoDataOutputSampleBufferDelegate\/captureOutput(_:didOutput:from:)\ncrawled: 2025-12-03T07:30:15Z\n---\n\n# captureOutput(_:didOutput:from:)\n\n**Instance Method**\n\nNotifies the delegate that a new video frame was written.\n\n## Declaration\n\n```swift\noptional func captureOutput(_ output: AVCaptureOutput, didOutput sampleBuffer: CMSampleBuffer, from connection: AVCaptureConnection)\n```\n\n## Parameters\n\n- **output**: The capture output object.\n- **sampleBuffer**: A `CMSampleBuffer` object containing the video frame data and additional information about the frame, such as its format and presentation time.\n- **connection**: The connection from which the video was received.\n\n## Discussion\n\nDelegates receive this message whenever the output captures and outputs a new video frame, decoding or re-encoding it as specified by its `videoSettings` property. Delegates can use the provided video frame in conjunction with other APIs for further processing.\n\nThis method is called on the dispatch queue specified by the output’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput\/sampleBufferCallbackQueue] property. It is called periodically, so it must be efficient to prevent capture performance problems, including dropped frames.\n\nIf you need to reference the `CMSampleBuffer` object outside of the scope of this method, you must `CFRetain` it and then `CFRelease` it when you are finished with it.\n\nTo maintain optimal performance, some sample buffers directly reference pools of memory that may need to be reused by the device system and other capture inputs. This is frequently the case for uncompressed device native capture where memory blocks are copied as little as possible. If multiple sample buffers reference such pools of memory for too long, inputs will no longer be able to copy new samples into memory and those samples will be dropped.\n\nIf your application is causing samples to be dropped by retaining the provided [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMSampleBuffer] objects for too long, but it needs access to the sample data for a long period of time, consider copying the data into a new buffer and then releasing the sample buffer (if it was previously retained) so that the memory it references can be reused.\n\n## Managing sample buffer behavior\n\n- **captureOutput(_:didDrop:from:)**: Notifies the delegate that a video frame was discarded.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Notifies the delegate that a video frame was discarded.",
          "name" : "captureOutput(_:didDrop:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureVideoDataOutputSampleBufferDelegate\/captureOutput(_:didDrop:from:)"
        }
      ],
      "title" : "Managing sample buffer behavior"
    }
  ],
  "source" : "appleJSON",
  "title" : "captureOutput(_:didOutput:from:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureVideoDataOutputSampleBufferDelegate\/captureOutput(_:didOutput:from:)"
}