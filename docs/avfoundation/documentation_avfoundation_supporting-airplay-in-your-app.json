{
  "abstract" : "Set up your app to use AirPlay to send content wirelessly.",
  "codeExamples" : [
    {
      "code" : "let audioSession = AVAudioSession.sharedInstance()\ntry audioSession.setCategory(.playback, \n                             mode: .default, \n                             policy: .longFormAudio)",
      "language" : "swift"
    }
  ],
  "contentHash" : "339f165b2561ebd90136cb90e69f21d1a0b941bfcb5aad9cdb33c570fbd0c652",
  "crawledAt" : "2025-12-03T19:49:11Z",
  "id" : "52BF3E54-543B-46B8-A1D1-60465310CD31",
  "kind" : "article",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nAirPlay enables you to send content wirelessly from an Apple device to an Apple TV or AirPlay-enabled speaker. AirPlay provides enhanced support for wireless audio distribution, including the ability to send content to multiple AirPlay-enabled speakers.\n\n### Identify the audio type the app plays\n\nIn iOS, tvOS, and watchOS, set your audio session’s route-sharing policy to `.longForm`. Long-form audio is anything other than system sounds, such as music, audiobooks, or podcasts. This setting identifies the audio that an app plays, such as in the following example.\n\n### Add an AirPlay picker\n\nAdd [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVRoutePickerView] to your view hierarchy to include an AirPlay picker in your app. The picker provides users with a list of potential AirPlay devices they can use with your app. To control when to show the picker, use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVRouteDetector] to identify the state of the route detector.\n\n### Add a media player\n\nUse APIs to customize your AirPlay adoption with Media Player integration. If you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPRemoteCommandCenter], you can receive remote commands. If you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter], you can inform the system metadata about the track that’s playing on the device.\n\n### Configure an app for fast streaming\n\nAdopt one of two playback API sets that take advantage of the enhanced buffering in AirPlay:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/supporting-airplay-in-your-app\ncrawled: 2025-12-03T19:49:11Z\n---\n\n# Supporting AirPlay in your app\n\n**Article**\n\nSet up your app to use AirPlay to send content wirelessly.\n\n## Overview\n\nAirPlay enables you to send content wirelessly from an Apple device to an Apple TV or AirPlay-enabled speaker. AirPlay provides enhanced support for wireless audio distribution, including the ability to send content to multiple AirPlay-enabled speakers.\n\n### Identify the audio type the app plays\n\nIn iOS, tvOS, and watchOS, set your audio session’s route-sharing policy to `.longForm`. Long-form audio is anything other than system sounds, such as music, audiobooks, or podcasts. This setting identifies the audio that an app plays, such as in the following example.\n\n```swift\nlet audioSession = AVAudioSession.sharedInstance()\ntry audioSession.setCategory(.playback, \n                             mode: .default, \n                             policy: .longFormAudio)\n```\n\n### Add an AirPlay picker\n\nAdd [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVRoutePickerView] to your view hierarchy to include an AirPlay picker in your app. The picker provides users with a list of potential AirPlay devices they can use with your app. To control when to show the picker, use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVRouteDetector] to identify the state of the route detector.\n\n### Add a media player\n\nUse APIs to customize your AirPlay adoption with Media Player integration. If you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPRemoteCommandCenter], you can receive remote commands. If you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter], you can inform the system metadata about the track that’s playing on the device.\n\n### Configure an app for fast streaming\n\nAdopt one of two playback API sets that take advantage of the enhanced buffering in AirPlay:\n\n- For simple enhanced buffering, use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] or [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVQueuePlayer]. This works well for video content. For more information, see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/implementing-simple-enhanced-buffering-for-your-content].\n- For more flexibility with enhanced buffering, use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVSampleBufferAudioRenderer] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVSampleBufferRenderSynchronizer]. This option is better for apps that require control over I\/O, perform preprocessing on their media data, or have a DRM model that [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] doesn’t support. For more information, see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/implementing-flexible-enhanced-buffering-for-your-content].\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Supporting AirPlay in your app",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/supporting-airplay-in-your-app"
}