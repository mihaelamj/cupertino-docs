{
  "abstract" : "Sets the white balance to locked mode with the specified white balance gains.",
  "codeExamples" : [

  ],
  "contentHash" : "c451b24e21358227424cad4ddfd8761ccc900e9335666a897dd05872bdb2239c",
  "crawledAt" : "2025-12-04T08:06:20Z",
  "declaration" : {
    "code" : "func setWhiteBalanceModeLocked(with whiteBalanceGains: AVCaptureDevice.WhiteBalanceGains, completionHandler handler: ((CMTime) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "4CE2167B-C834-40C7-AB34-222BCE588863",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nEach channel in the white balance gains structure supports values between `1.0` and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/maxWhiteBalanceGain]. Setting a channel value outside this range generates an exception.\n\nThe system normalizes gain values to the minimum channel value to avoid brightness changes (for example, `R:2 G:2 B:4` normalizes to `R:1 G:1 B:2`).\n\nBefore changing the value the white balance gains, you must call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()] to acquire exclusive access to the device’s configuration properties. Otherwise, setting the value of this property raises an exception. When you finish configuring the device, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/unlockForConfiguration()] to release the lock and allow other devices to configure the settings.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setWhiteBalanceModeLocked(with:completionHandler:)\ncrawled: 2025-12-04T08:06:20Z\n---\n\n# setWhiteBalanceModeLocked(with:completionHandler:)\n\n**Instance Method**\n\nSets the white balance to locked mode with the specified white balance gains.\n\n## Declaration\n\n```swift\nfunc setWhiteBalanceModeLocked(with whiteBalanceGains: AVCaptureDevice.WhiteBalanceGains, completionHandler handler: ((CMTime) -> Void)? = nil)\n```\n\n```swift\nfunc setWhiteBalanceModeLocked(with whiteBalanceGains: AVCaptureDevice.WhiteBalanceGains) async -> CMTime\n```\n\n## Parameters\n\n- **whiteBalanceGains**: The white balance gains to set. Pass a value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/currentWhiteBalanceGains] to leave the current white balance unchanged.\n- **handler**: A callback the system invokes when the adjustment to the white balance is complete and the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/whiteBalanceMode-swift.property] set to a locked state. If you call this method multiple times, the system calls the completion handlers in FIFO order.\n\nThe system passes a time value that matches that of the first buffer to which its applied all settings. It synchronizes the timestamp to the device clock, and you must convert the timestamp to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/synchronizationClock] prior to comparison with the timestamps of buffers delivered through an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput].\n\nYou can pass `nil` for this parameter if you don’t require this information.\n\n## Discussion\n\nEach channel in the white balance gains structure supports values between `1.0` and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/maxWhiteBalanceGain]. Setting a channel value outside this range generates an exception.\n\nThe system normalizes gain values to the minimum channel value to avoid brightness changes (for example, `R:2 G:2 B:4` normalizes to `R:1 G:1 B:2`).\n\nBefore changing the value the white balance gains, you must call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()] to acquire exclusive access to the device’s configuration properties. Otherwise, setting the value of this property raises an exception. When you finish configuring the device, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/unlockForConfiguration()] to release the lock and allow other devices to configure the settings.\n\n## White balance constants\n\n- **currentWhiteBalanceGains**: A special constant representing the current white balance setting.\n\n## Setting white balance manually\n\n- **isLockingWhiteBalanceWithCustomDeviceGainsSupported**: A Boolean value that indicates whether the device supports locking white balance to specific gain values.\n- **setWhiteBalanceModeLocked(whiteBalanceTemperatureAndTintValues:handler:)**: Sets white balance to locked mode with explicit temperature and tint values.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A special constant representing the current white balance setting.",
          "name" : "currentWhiteBalanceGains",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/currentWhiteBalanceGains"
        }
      ],
      "title" : "White balance constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the device supports locking white balance to specific gain values.",
          "name" : "isLockingWhiteBalanceWithCustomDeviceGainsSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/isLockingWhiteBalanceWithCustomDeviceGainsSupported"
        },
        {
          "description" : "Sets white balance to locked mode with explicit temperature and tint values.",
          "name" : "setWhiteBalanceModeLocked(whiteBalanceTemperatureAndTintValues:handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setWhiteBalanceModeLocked(whiteBalanceTemperatureAndTintValues:handler:)"
        }
      ],
      "title" : "Setting white balance manually"
    }
  ],
  "source" : "appleJSON",
  "title" : "setWhiteBalanceModeLocked(with:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setWhiteBalanceModeLocked(with:completionHandler:)"
}