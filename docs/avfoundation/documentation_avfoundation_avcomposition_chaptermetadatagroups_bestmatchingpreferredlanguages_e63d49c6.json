{
  "abstract" : "Returns an array of chapters with a locale that best matches the list of preferred languages.",
  "codeExamples" : [

  ],
  "contentHash" : "f71b0eee1f7105ab91884aae7e5069cbdf3be7a81aa644962525d9bfe04ac19c",
  "crawledAt" : "2025-12-05T08:42:53Z",
  "declaration" : {
    "code" : "func chapterMetadataGroups(bestMatchingPreferredLanguages preferredLanguages: [String]) -> [AVTimedMetadataGroup]",
    "language" : "swift"
  },
  "id" : "41FD96D0-6884-495D-A74D-DBAC2D866259",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Return Value\n\nAn array of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] objects.\n\n## Discussion\n\nEach object in the returned array contains an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] object representing the chapter title. The time range property of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object is equal to the time range of the chapter title item.\n\nThe metadata group contains all chapter metadata, including items with the common key [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataKey\/commonKeyArtwork], if such items are present. The system adds an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] with the specified common key to an existing [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object if the time range (timestamp and duration) of the metadata item and the metadata group overlap. The locale of such items don’t need to match the locale of the chapter titles.\n\nYou can use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:filteredAndSortedAccordingToPreferredLanguages:)] method to further filter the metadata items in each group. You can also filter the returned items based on locale using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:with:)] method.\n\nThis method is callable without blocking the current thread after you’ve asynchronously loaded the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsset\/availableChapterLocales] property.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVComposition\/chapterMetadataGroups(bestMatchingPreferredLanguages:)\ncrawled: 2025-12-05T08:42:53Z\n---\n\n# chapterMetadataGroups(bestMatchingPreferredLanguages:)\n\n**Instance Method**\n\nReturns an array of chapters with a locale that best matches the list of preferred languages.\n\n## Declaration\n\n```swift\nfunc chapterMetadataGroups(bestMatchingPreferredLanguages preferredLanguages: [String]) -> [AVTimedMetadataGroup]\n```\n\n## Parameters\n\n- **preferredLanguages**: An array of BCP 47 language identifier strings. The order of the identifiers in the array reflects the preferred language order, with the most preferred language being first in the array. Typically, you pass the user’s preferred languages by retrieving this array from the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSLocale\/preferredLanguages] class method of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSLocale].\n\n## Return Value\n\nAn array of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] objects.\n\n## Discussion\n\nEach object in the returned array contains an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] object representing the chapter title. The time range property of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object is equal to the time range of the chapter title item.\n\nThe metadata group contains all chapter metadata, including items with the common key [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataKey\/commonKeyArtwork], if such items are present. The system adds an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem] with the specified common key to an existing [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVTimedMetadataGroup] object if the time range (timestamp and duration) of the metadata item and the metadata group overlap. The locale of such items don’t need to match the locale of the chapter titles.\n\nYou can use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:filteredAndSortedAccordingToPreferredLanguages:)] method to further filter the metadata items in each group. You can also filter the returned items based on locale using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/metadataItems(from:with:)] method.\n\nThis method is callable without blocking the current thread after you’ve asynchronously loaded the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsset\/availableChapterLocales] property.\n\n## Accessing chapter metadata\n\n- **availableChapterLocales**: The locales of the asset’s chapter metadata.\n- **chapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)**: Returns an array of chapters that contain the specified title locale and common keys.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The locales of the asset’s chapter metadata.",
          "name" : "availableChapterLocales",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVComposition\/availableChapterLocales"
        },
        {
          "description" : "Returns an array of chapters that contain the specified title locale and common keys.",
          "name" : "chapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVComposition\/chapterMetadataGroups(withTitleLocale:containingItemsWithCommonKeys:)"
        }
      ],
      "title" : "Accessing chapter metadata"
    }
  ],
  "source" : "appleJSON",
  "title" : "chapterMetadataGroups(bestMatchingPreferredLanguages:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVComposition\/chapterMetadataGroups(bestMatchingPreferredLanguages:)"
}