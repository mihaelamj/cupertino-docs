{
  "abstract" : "Creates a metadata item whose value loads on an on-demand basis only.",
  "codeExamples" : [
    {
      "code" : "\/\/ A template metadata item that provides supporting data.\nlet templateItem = AVMetadataItem()\nlet artworkItem = AVMetadataItem(propertiesOf: templateItem) { request in\n    if let image = UIImage(named: \"large_artwork\"), let data = image.pngData() {\n        request.respond(value: NSData(data: data))\n    } else {\n        request.respond(error: AppError.imageLoadingError)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "a8cfae7acd8384daf9acadac24f09a3a6146a73ec3ccbf13788d99254add4815",
  "crawledAt" : "2025-12-04T21:55:15Z",
  "declaration" : {
    "code" : "init(propertiesOfMetadataItem metadataItem: AVMetadataItem, valueLoadingHandler handler: @escaping (AVMetadataItemValueRequest) -> Void)",
    "language" : "swift"
  },
  "id" : "776CF9B7-50ED-4647-B405-0333E33C01E6",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Return Value\n\nA newly created instance of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem].\n\n## Discussion\n\nUse this method to create metadata items for optional display purposes. For example, a metadata item that provides a large image, should only load the image when the system requests it.\n\nWhen you load the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPartialAsyncProperty\/value] of a metadata item you created with this initializer, the closure you provide as the value loading handler executes on an arbitrary dispatch queue, off the main thread. The handler can perform I\/O and other necessary operations to obtain the value. If loading of the value succeeds, provide the value by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItemValueRequest\/respond(value:)]. If loading of the value fails, provide an instance an error object that describes the failure by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItemValueRequest\/respond(error:)].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMetadataItem\/init(propertiesOfMetadataItem:valueLoadingHandler:)\ncrawled: 2025-12-04T21:55:15Z\n---\n\n# init(propertiesOfMetadataItem:valueLoadingHandler:)\n\n**Initializer**\n\nCreates a metadata item whose value loads on an on-demand basis only.\n\n## Declaration\n\n```swift\ninit(propertiesOfMetadataItem metadataItem: AVMetadataItem, valueLoadingHandler handler: @escaping (AVMetadataItemValueRequest) -> Void)\n```\n\n```swift\ninit(propertiesOf metadataItem: AVMetadataItem, valueLoadingHandler handler: @escaping (AVMetadataItemValueRequest) -> Void)\n```\n\n## Parameters\n\n- **metadataItem**: The metadata item that provides the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/identifier], [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem\/extendedLanguageTag], and other property values that you want the newly created metadata item to share. The system ignores the value of this template metadata item.\n- **handler**: A callback the system invokes to load the value for the metadata item.\n\n## Return Value\n\nA newly created instance of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItem].\n\n## Discussion\n\nUse this method to create metadata items for optional display purposes. For example, a metadata item that provides a large image, should only load the image when the system requests it.\n\nWhen you load the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPartialAsyncProperty\/value] of a metadata item you created with this initializer, the closure you provide as the value loading handler executes on an arbitrary dispatch queue, off the main thread. The handler can perform I\/O and other necessary operations to obtain the value. If loading of the value succeeds, provide the value by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItemValueRequest\/respond(value:)]. If loading of the value fails, provide an instance an error object that describes the failure by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMetadataItemValueRequest\/respond(error:)].\n\n```swift\n\/\/ A template metadata item that provides supporting data.\nlet templateItem = AVMetadataItem()\nlet artworkItem = AVMetadataItem(propertiesOf: templateItem) { request in\n    if let image = UIImage(named: \"large_artwork\"), let data = image.pngData() {\n        request.respond(value: NSData(data: data))\n    } else {\n        request.respond(error: AppError.imageLoadingError)\n    }\n}\n```\n\n\n\n## Creating a metadata item\n\n- **AVMetadataItemValueRequest**: An object that responds to a request to load the value of a metadata item.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that responds to a request to load the value of a metadata item.",
          "name" : "AVMetadataItemValueRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMetadataItemValueRequest"
        }
      ],
      "title" : "Creating a metadata item"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(propertiesOfMetadataItem:valueLoadingHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMetadataItem\/init(propertiesOfMetadataItem:valueLoadingHandler:)"
}