{
  "abstract" : "Creates a mutable video composition configured to apply Core Image filters to each video frame of the specified asset.",
  "codeExamples" : [

  ],
  "contentHash" : "7a0853efe016f57b35b1b59d5f1cd21e0d3772a2b7f552cb6cda71543d3d87ff",
  "crawledAt" : "2025-11-30T23:11:20Z",
  "declaration" : {
    "code" : "init(asset: AVAsset, applyingCIFiltersWithHandler applier: @escaping (AVAsynchronousCIImageFilteringRequest) -> Void)",
    "language" : "swift"
  },
  "id" : "8CC5979B-AFE2-45C2-8ABD-2B267791E8C3",
  "kind" : "unknown",
  "module" : "AVFoundation",
  "overview" : "## Return Value\n\nA new video composition object.\n\n## Discussion\n\nTo process video frames using Core Image filters—whether for display or export—create a composition with this method. AVFoundation calls your applier block once for each frame to be displayed (or processed for export) from the asset’s first enabled video track. In that block, you access the video frame and return a filtered result using the provided [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest] object. Use that object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/sourceImage] property to get the video frame in the form of a CIImage object you can apply filters to. Pass the result of your filters to the `request` object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/finish(with:context:)] method. (If your filter rendering fails, call the `request` object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/finish(with:)] method if you cannot apply filters.)\n\nCreating a composition with this method sets values for the following properties:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/init(asset:applyingCIFiltersWithHandler:)\ncrawled: 2025-11-30T23:11:20Z\n---\n\n# init(asset:applyingCIFiltersWithHandler:)\n\n**Initializer**\n\nCreates a mutable video composition configured to apply Core Image filters to each video frame of the specified asset.\n\n## Declaration\n\n```swift\ninit(asset: AVAsset, applyingCIFiltersWithHandler applier: @escaping (AVAsynchronousCIImageFilteringRequest) -> Void)\n```\n\n## Parameters\n\n- **asset**: The asset whose configuration matches the intended use of the video composition.\n- **applier**: A block that AVFoundation calls when processing each video frame.\n\nThe block takes a single parameter and has no return value:\n\n\n\n## Return Value\n\nA new video composition object.\n\n## Discussion\n\nTo process video frames using Core Image filters—whether for display or export—create a composition with this method. AVFoundation calls your applier block once for each frame to be displayed (or processed for export) from the asset’s first enabled video track. In that block, you access the video frame and return a filtered result using the provided [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest] object. Use that object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/sourceImage] property to get the video frame in the form of a CIImage object you can apply filters to. Pass the result of your filters to the `request` object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/finish(with:context:)] method. (If your filter rendering fails, call the `request` object’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsynchronousCIImageFilteringRequest\/finish(with:)] method if you cannot apply filters.)\n\nCreating a composition with this method sets values for the following properties:\n\n- The [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMutableVideoComposition\/frameDuration] property is set to accommodate the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetTrack\/nominalFrameRate] value for the asset’s first enabled video track. If the nominal frame rate is zero, AVFoundation uses a default framerate of 30 fps.\n- The [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMutableVideoComposition\/renderSize] property is set to a size that encompasses the asset’s first enabled video track, respecting the track’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetTrack\/preferredTransform] property.\n- The [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVMutableVideoComposition\/animationTool] property is set to `1.0`.\n\n## Creating a video composition\n\n- **videoComposition(withPropertiesOf:completionHandler:)**: Returns a new video composition that’s configured to present the video tracks of the specified asset.\n- **videoComposition(withPropertiesOf:prototypeInstruction:completionHandler:)**: Returns a new mutable video composition with the specified asset properties and a prototype video composition instruction.\n- **videoComposition(with:applyingCIFiltersWithHandler:completionHandler:)**: Returns a new video composition that’s configured to apply Core Image filters to each video frame of the specified asset.\n- **init(propertiesOf:)**: Creates a mutable video composition with the specified asset properties.\n- **init(propertiesOf:prototypeInstruction:)**: Creates a mutable video composition with the specified asset properties and a prototype video composition instruction.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a new video composition that’s configured to present the video tracks of the specified asset.",
          "name" : "videoComposition(withPropertiesOf:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/videoComposition(withPropertiesOf:completionHandler:)"
        },
        {
          "description" : "Returns a new mutable video composition with the specified asset properties and a prototype video composition instruction.",
          "name" : "videoComposition(withPropertiesOf:prototypeInstruction:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/videoComposition(withPropertiesOf:prototypeInstruction:completionHandler:)"
        },
        {
          "description" : "Returns a new video composition that’s configured to apply Core Image filters to each video frame of the specified asset.",
          "name" : "videoComposition(with:applyingCIFiltersWithHandler:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/videoComposition(with:applyingCIFiltersWithHandler:completionHandler:)"
        },
        {
          "description" : "Creates a mutable video composition with the specified asset properties.",
          "name" : "init(propertiesOf:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/init(propertiesOf:)"
        },
        {
          "description" : "Creates a mutable video composition with the specified asset properties and a prototype video composition instruction.",
          "name" : "init(propertiesOf:prototypeInstruction:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/init(propertiesOf:prototypeInstruction:)"
        }
      ],
      "title" : "Creating a video composition"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(asset:applyingCIFiltersWithHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableVideoComposition\/init(asset:applyingCIFiltersWithHandler:)"
}