{
  "abstract" : "Set up your app to support remote commands and events in a variety of scenarios by using the relevant approach.",
  "codeExamples" : [
    {
      "code" : "private func setupAdditionalRemoteCommands() {\n    additionalRemoteCommands.forEach { [weak self] remoteCommand in\n        guard let self = self else { return }\n        \/\/ Remove each target before you add a new one.\n        remoteCommand.mediaRemoteCommand.removeTarget(nil)\n        remoteCommand.mediaRemoteCommand.addTarget { _ in\n            self.handleCommand(remoteCommand)\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "func playerViewController(_ playerViewController: AVPlayerViewController,\n                          skipToPreviousChannel completion: @escaping (Bool) -> Void) {\n    channelDown()\n    completion(true)\n}",
      "language" : "swift"
    },
    {
      "code" : "for supportedCommand in supportedRemoteCommands {\n    switch supportedCommand {\n        \/\/ Define the rates and intervals for the commands that require them.\n    case .changePlaybackRate:\n        let allSupportedRates = rewindSupportedRates + fastForwardSupportedRates\n        commandCenter\n            .changePlaybackRateCommand\n            .supportedPlaybackRates = allSupportedRates.map {\n                $0 as NSNumber\n            }\n\n    case .skipBackward:\n        commandCenter\n            .skipBackwardCommand\n            .preferredIntervals = [skipInterval as NSNumber]\n\n    case .skipForward:\n        commandCenter\n            .skipForwardCommand\n            .preferredIntervals = [skipInterval as NSNumber]\n\n    default:\n        break\n    }\n\n    \/\/ Remove each target before you add a new one.\n    supportedCommand.mediaRemoteCommand.removeTarget(nil)\n    supportedCommand.mediaRemoteCommand.addTarget {\n        self.handle(command: supportedCommand, withCommandEvent: $0)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "var nowPlayingInfo = [String: Any]()\n\nnowPlayingInfo[MPMediaItemPropertyTitle] = currentProgram.title\nnowPlayingInfo[MPMediaItemPropertyPlaybackDuration] = currentItem.duration.seconds\nnowPlayingInfo[MPNowPlayingInfoPropertyIsLiveStream] = currentProgram.isLive\nnowPlayingInfo[MPNowPlayingInfoPropertyAssetURL] = currentProgram.playlistURL\nnowPlayingInfo[MPNowPlayingInfoPropertyPlaybackRate] = self.player.rate\nnowPlayingInfo[MPNowPlayingInfoPropertyDefaultPlaybackRate] = self.defaultPlaybackRate\nnowPlayingInfo[MPNowPlayingInfoPropertyElapsedPlaybackTime] = self.player.currentTime().seconds\n\n\/\/ Set any other properties that are applicable to your application.\n\nMPNowPlayingInfoCenter.default().nowPlayingInfo = nowPlayingInfo",
      "language" : "swift"
    },
    {
      "code" : "private func reportRemoteEvent(_ remoteEvent: RemoteEvent,\n                               withState state: UIGestureRecognizer.State? = nil) {\n    guard let remoteEventsView = self.view as? RemoteEventsView else { return }\n    remoteEventsView.remoteEventReceived(remoteEvent, withState: state)\n}",
      "language" : "swift"
    },
    {
      "code" : "@objc private func channelUpPressed() {\n    \/\/ Because of the defined height of the cells, `indexPathsForVisibleItems`\n    \/\/ has a maximum of 14 items on screen at any given time.\n    guard let targetItemInPreviousPageSectionIdx = collectionView\n        .indexPathsForVisibleItems.sorted().first?.section else { return }\n\n    \/\/ For each page section, channel cell is always item 0 and program\n    \/\/ cells start from 1.\n    let firstProgramItemIdx = 1\n    let targetItemIdx = currentlyFocusedIndexPath?.item ?? firstProgramItemIdx\n    channelUpDownTargetIndexPath = IndexPath(\n        item: targetItemIdx,\n        section: targetItemInPreviousPageSectionIdx\n    )\n    \/\/ Scroll to the previous page for a channel up press.\n    channelUpDownScrollDirection = .up\n\n    setNeedsFocusUpdate()\n    updateFocusIfNeeded()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "9d9470618df7c2a3d27024c25a122c8f43e40c09bd3aaf521d325762c21052a8",
  "crawledAt" : "2025-12-02T15:30:10Z",
  "id" : "49C79AC0-6904-4AFA-9301-31CA5BAFDECC",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nThis sample code project demonstrates how to implement support for the wide variety of commands that remotes and system controls send to Apple TV.\n\nThere are four sections in this project. The first section demonstrates how to add native media playback capabilities to your app using the system player that [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVPlayerViewController] provides. It also shows how to use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPRemoteCommandCenter] to support additional commands in a system player, and use [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVPlayerViewControllerDelegate] to customize the behavior of commands the player receives.\n\nUsing the system player is a great choice in most cases. However, if you need to implement a player with a custom UI, you also need to implement support for all the commands the system player supports. The second section shows you how, by using `MPRemoteCommandCenter` and gesture recognizers. It also demonstrates how to handle receiving remote events and update the Now Playing info display.\n\nThe third section displays a screen that visualizes remote commands as the player receives them. The fourth section shows you how to page content in a guide that displays channels and programs.\n\n### Support additional commands in the system player\n\nYou can automatically get support for most controls to play and navigate media by using `AVPlayerViewController`. To provide support for additional remote control events, such as previous and next track commands, use the shared `MPRemoteCommandCenter` object. In the following example, `additionalRemoteCommands` contains the previous and next track commands registered with the remote command center, and `handleCommand(_:)` performs the corresponding action for the command it receives.\n\nYou can also customize the behavior of commands that `AVPlayerViewController` natively supports by conforming to `AVPlayerViewControllerDelegate`. For example, this code maps the `skipToPreviousChannel` event to the `channelDown` action:\n\n### Support all commands in a custom player and update Now Playing info\n\nWhen you create a custom player, use `MPRemoteCommandCenter` to implement support for the full suite of commands and events a remote can send to it. The following example shows how to customize the behavior for changing playback rate and skipping backward or forward. It also shows how to add targets to handle all other supported commands:\n\nAdditionally, this section demonstrates using the default [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter] object to update the Now Playing info:\n\n### Visualize receiving remote events\n\nThe third section of this project includes a screen that displays visual feedback of user interactions with a remote. It does this by reporting remote events that the view controller receives from a remote to the view so it can blink the corresponding cell:\n\n### Page content in a guide\n\nIf your app displays a guide that lists channels and their corresponding programs, the fourth section of this project shows you how to page content in response to remote commands, such as to scroll to the previous page for a channel up press:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/supporting-remote-interactions-in-tvos\ncrawled: 2025-12-02T15:30:10Z\n---\n\n# Supporting remote interactions in tvOS\n\n**Sample Code**\n\nSet up your app to support remote commands and events in a variety of scenarios by using the relevant approach.\n\n## Overview\n\nThis sample code project demonstrates how to implement support for the wide variety of commands that remotes and system controls send to Apple TV.\n\nThere are four sections in this project. The first section demonstrates how to add native media playback capabilities to your app using the system player that [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVPlayerViewController] provides. It also shows how to use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPRemoteCommandCenter] to support additional commands in a system player, and use [doc:\/\/com.apple.documentation\/documentation\/AVKit\/AVPlayerViewControllerDelegate] to customize the behavior of commands the player receives.\n\nUsing the system player is a great choice in most cases. However, if you need to implement a player with a custom UI, you also need to implement support for all the commands the system player supports. The second section shows you how, by using `MPRemoteCommandCenter` and gesture recognizers. It also demonstrates how to handle receiving remote events and update the Now Playing info display.\n\nThe third section displays a screen that visualizes remote commands as the player receives them. The fourth section shows you how to page content in a guide that displays channels and programs.\n\n### Support additional commands in the system player\n\nYou can automatically get support for most controls to play and navigate media by using `AVPlayerViewController`. To provide support for additional remote control events, such as previous and next track commands, use the shared `MPRemoteCommandCenter` object. In the following example, `additionalRemoteCommands` contains the previous and next track commands registered with the remote command center, and `handleCommand(_:)` performs the corresponding action for the command it receives.\n\n```swift\nprivate func setupAdditionalRemoteCommands() {\n    additionalRemoteCommands.forEach { [weak self] remoteCommand in\n        guard let self = self else { return }\n        \/\/ Remove each target before you add a new one.\n        remoteCommand.mediaRemoteCommand.removeTarget(nil)\n        remoteCommand.mediaRemoteCommand.addTarget { _ in\n            self.handleCommand(remoteCommand)\n        }\n    }\n}\n```\n\nYou can also customize the behavior of commands that `AVPlayerViewController` natively supports by conforming to `AVPlayerViewControllerDelegate`. For example, this code maps the `skipToPreviousChannel` event to the `channelDown` action:\n\n```swift\nfunc playerViewController(_ playerViewController: AVPlayerViewController,\n                          skipToPreviousChannel completion: @escaping (Bool) -> Void) {\n    channelDown()\n    completion(true)\n}\n```\n\n### Support all commands in a custom player and update Now Playing info\n\nWhen you create a custom player, use `MPRemoteCommandCenter` to implement support for the full suite of commands and events a remote can send to it. The following example shows how to customize the behavior for changing playback rate and skipping backward or forward. It also shows how to add targets to handle all other supported commands:\n\n```swift\nfor supportedCommand in supportedRemoteCommands {\n    switch supportedCommand {\n        \/\/ Define the rates and intervals for the commands that require them.\n    case .changePlaybackRate:\n        let allSupportedRates = rewindSupportedRates + fastForwardSupportedRates\n        commandCenter\n            .changePlaybackRateCommand\n            .supportedPlaybackRates = allSupportedRates.map {\n                $0 as NSNumber\n            }\n\n    case .skipBackward:\n        commandCenter\n            .skipBackwardCommand\n            .preferredIntervals = [skipInterval as NSNumber]\n\n    case .skipForward:\n        commandCenter\n            .skipForwardCommand\n            .preferredIntervals = [skipInterval as NSNumber]\n\n    default:\n        break\n    }\n\n    \/\/ Remove each target before you add a new one.\n    supportedCommand.mediaRemoteCommand.removeTarget(nil)\n    supportedCommand.mediaRemoteCommand.addTarget {\n        self.handle(command: supportedCommand, withCommandEvent: $0)\n    }\n}\n```\n\nAdditionally, this section demonstrates using the default [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer\/MPNowPlayingInfoCenter] object to update the Now Playing info:\n\n```swift\nvar nowPlayingInfo = [String: Any]()\n\nnowPlayingInfo[MPMediaItemPropertyTitle] = currentProgram.title\nnowPlayingInfo[MPMediaItemPropertyPlaybackDuration] = currentItem.duration.seconds\nnowPlayingInfo[MPNowPlayingInfoPropertyIsLiveStream] = currentProgram.isLive\nnowPlayingInfo[MPNowPlayingInfoPropertyAssetURL] = currentProgram.playlistURL\nnowPlayingInfo[MPNowPlayingInfoPropertyPlaybackRate] = self.player.rate\nnowPlayingInfo[MPNowPlayingInfoPropertyDefaultPlaybackRate] = self.defaultPlaybackRate\nnowPlayingInfo[MPNowPlayingInfoPropertyElapsedPlaybackTime] = self.player.currentTime().seconds\n\n\/\/ Set any other properties that are applicable to your application.\n\nMPNowPlayingInfoCenter.default().nowPlayingInfo = nowPlayingInfo\n```\n\n### Visualize receiving remote events\n\nThe third section of this project includes a screen that displays visual feedback of user interactions with a remote. It does this by reporting remote events that the view controller receives from a remote to the view so it can blink the corresponding cell:\n\n```swift\nprivate func reportRemoteEvent(_ remoteEvent: RemoteEvent,\n                               withState state: UIGestureRecognizer.State? = nil) {\n    guard let remoteEventsView = self.view as? RemoteEventsView else { return }\n    remoteEventsView.remoteEventReceived(remoteEvent, withState: state)\n}\n```\n\n### Page content in a guide\n\nIf your app displays a guide that lists channels and their corresponding programs, the fourth section of this project shows you how to page content in response to remote commands, such as to scroll to the previous page for a channel up press:\n\n```swift\n@objc private func channelUpPressed() {\n    \/\/ Because of the defined height of the cells, `indexPathsForVisibleItems`\n    \/\/ has a maximum of 14 items on screen at any given time.\n    guard let targetItemInPreviousPageSectionIdx = collectionView\n        .indexPathsForVisibleItems.sorted().first?.section else { return }\n\n    \/\/ For each page section, channel cell is always item 0 and program\n    \/\/ cells start from 1.\n    let firstProgramItemIdx = 1\n    let targetItemIdx = currentlyFocusedIndexPath?.item ?? firstProgramItemIdx\n    channelUpDownTargetIndexPath = IndexPath(\n        item: targetItemIdx,\n        section: targetItemInPreviousPageSectionIdx\n    )\n    \/\/ Scroll to the previous page for a channel up press.\n    channelUpDownScrollDirection = .up\n\n    setNeedsFocusUpdate()\n    updateFocusIfNeeded()\n}\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Supporting remote interactions in tvOS",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/supporting-remote-interactions-in-tvos"
}