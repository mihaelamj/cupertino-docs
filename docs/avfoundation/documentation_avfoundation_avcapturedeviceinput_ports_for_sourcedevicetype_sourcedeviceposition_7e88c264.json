{
  "abstract" : "Retrieves a virtual device’s constituent device ports for use in a multi-camera session.",
  "codeExamples" : [
    {
      "code" : "\/\/ Look up the wide-angle camera port.\nlet wideVideoPort = dualCameraInput.ports(for: .video,\n                                          sourceDeviceType: .builtInWideAngleCamera,\n                                          sourceDevicePosition: .back).first\n\n\/\/ Look up the telephoto camera port.\nlet teleVideoPort = dualCameraInput.ports(for: .video,\n                                          sourceDeviceType: .builtInTelephotoCamera,\n                                          sourceDevicePosition: .back).first",
      "language" : "swift"
    }
  ],
  "contentHash" : "beb1409138d50f6f0323ab1ba952d3f3de73db1ab1e345b00ab857dfdaec407c",
  "crawledAt" : "2025-12-03T06:55:08Z",
  "declaration" : {
    "code" : "func ports(for mediaType: AVMediaType?, sourceDeviceType: AVCaptureDevice.DeviceType?, sourceDevicePosition: AVCaptureDevice.Position) -> [AVCaptureInput.Port]",
    "language" : "swift"
  },
  "id" : "82A4D803-CEE9-46EC-B877-12F6F753A5F1",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Return Value\n\nAn array of ports that satisfy the search criteria, or an empty array if there are none.\n\n## Discussion\n\n[doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureMultiCamSession] lets you simultaneously capture from multiple devices. It also lets you capture simultaneous streams from a virtual device, such as the dual camera. You use this method to find the ports associated with a virtual device’s underlying physical devices. A virtual device input’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/ports] property doesn’t include constituent device ports.\n\nUsing the dual camera as an example, the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/ports] property exposes only those ports supported by the virtual device (it switches automatically between wide-angle and telephoto cameras, depending on the zoom factor). You may use this method to find the video ports for the constituent devices.\n\nYou can use these ports to create connections to two instances of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput], allowing for synchronized, full-frame-rate delivery of both wide-angle and telephoto streams.\n\nWhen used in conjunction with an audio device, this method allows you to discover microphones in different positions. You can use the microphone ports to make output connections to simultaneously capture both front-facing and back-facing audio. The audio device port whose [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/Port\/sourceDevicePosition] is [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Position-swift.enum\/unspecified] produces omnidirectional sound.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDeviceInput\/ports(for:sourceDeviceType:sourceDevicePosition:)\ncrawled: 2025-12-03T06:55:08Z\n---\n\n# ports(for:sourceDeviceType:sourceDevicePosition:)\n\n**Instance Method**\n\nRetrieves a virtual device’s constituent device ports for use in a multi-camera session.\n\n## Declaration\n\n```swift\nfunc ports(for mediaType: AVMediaType?, sourceDeviceType: AVCaptureDevice.DeviceType?, sourceDevicePosition: AVCaptureDevice.Position) -> [AVCaptureInput.Port]\n```\n\n## Parameters\n\n- **mediaType**: The media type of the port you’re searching for, or `nil` to consider all media types.\n- **sourceDeviceType**: The device type of the port you’re searching for, or `nil` if to consider all device types.\n- **sourceDevicePosition**: The device position of the port you’re searching for.\n\nWhen you’re searching for a camera device, a position of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Position-swift.enum\/unspecified] indicates to search for all positions.\n\nWhen you’re searching for an audio device, [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Position-swift.enum\/unspecified] indicates to search omnidirectional audio.\n\n## Return Value\n\nAn array of ports that satisfy the search criteria, or an empty array if there are none.\n\n## Discussion\n\n[doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureMultiCamSession] lets you simultaneously capture from multiple devices. It also lets you capture simultaneous streams from a virtual device, such as the dual camera. You use this method to find the ports associated with a virtual device’s underlying physical devices. A virtual device input’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/ports] property doesn’t include constituent device ports.\n\nUsing the dual camera as an example, the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/ports] property exposes only those ports supported by the virtual device (it switches automatically between wide-angle and telephoto cameras, depending on the zoom factor). You may use this method to find the video ports for the constituent devices.\n\n```swift\n\/\/ Look up the wide-angle camera port.\nlet wideVideoPort = dualCameraInput.ports(for: .video,\n                                          sourceDeviceType: .builtInWideAngleCamera,\n                                          sourceDevicePosition: .back).first\n\n\/\/ Look up the telephoto camera port.\nlet teleVideoPort = dualCameraInput.ports(for: .video,\n                                          sourceDeviceType: .builtInTelephotoCamera,\n                                          sourceDevicePosition: .back).first\n```\n\nYou can use these ports to create connections to two instances of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput], allowing for synchronized, full-frame-rate delivery of both wide-angle and telephoto streams.\n\nWhen used in conjunction with an audio device, this method allows you to discover microphones in different positions. You can use the microphone ports to make output connections to simultaneously capture both front-facing and back-facing audio. The audio device port whose [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureInput\/Port\/sourceDevicePosition] is [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Position-swift.enum\/unspecified] produces omnidirectional sound.\n\n## Accessing the device\n\n- **device**: A capture device associated with this input.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A capture device associated with this input.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDeviceInput\/device"
        }
      ],
      "title" : "Accessing the device"
    }
  ],
  "source" : "appleJSON",
  "title" : "ports(for:sourceDeviceType:sourceDevicePosition:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDeviceInput\/ports(for:sourceDeviceType:sourceDevicePosition:)"
}