{
  "abstract" : "Check color reproduction of your app or workflow by using test pattern files.",
  "codeExamples" : [

  ],
  "contentHash" : "17eb01641fcad4510e0ca7b8772d75910b37063ff64fe1ce762f8b2738750d92",
  "crawledAt" : "2025-12-02T17:39:42Z",
  "id" : "7D78E4D1-B6B0-41FB-AA19-4088DA930C61",
  "kind" : "article",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nQuickTime Test Pattern movie files produce known results when displayed on Mac computers. Use these files to evaluate the color characteristics of your AVFoundation-based app or workflow. The simplest way to check color management in your app is with the 75% gray bars in the test pattern file.\n\n### Open test patterns and verify color characteristics\n\nThe video industry commonly evaluates color using known, standard test patterns. Comparing your video’s color to the known standard gives you an indication of how recording or transmission altered the video signal. Use this information to determine the modifications you must make to return the signal to the standard. Typically, in an analog video environment, you use Society of Motion Picture and Television Engineers (SMPTE) color bars or Engineering Guideline EG 1.1990.\n\nTo begin evaluating video with the test pattern technique, download the QuickTime Test Pattern movie files from the [https:\/\/developer.apple.com\/av-foundation\/] (see “Color Test Patterns”). These files produce known results on Mac computers.\n\nOpen the files using the QuickTime Player app (version 10.5 or later) or another app or workflow that supports the [doc:\/\/com.apple.documentation\/documentation\/quicktime-file-format]. Use the test pattern files to evaluate the color characteristics of your AVFoundation-based app or workflow.\n\nThe figure below shows the example test pattern file `QuickTime_Test_Pattern_HD.mov`, which contains color and grayscale patterns. Use it to evaluate the characteristics shown here:\n\n\n\nOpen the test pattern in your app and visually inspect it for the above features. Read the display buffer pixel values using the Digital Color Meter app (see below).\n\n### Interpret gray levels using the digital color meter app\n\nThe simplest way to check color management in your app is with the 75% gray bars shown in the example test pattern file `QuickTime_Test_Pattern_HD.mov`.\n\nMacOS 10.6 and later process 75% gray bars with a 1.96 to 2.2 gamma conversion, resulting in a 198 value as shown here.\n\n\n\nAVFoundation uses a value of approximately 1.96 as the gamma of video (the gamma value without the boost required for classic dim surround viewing environments). To derive that number, you first measure the response of a CRT. Most CRTs report a gamma of between 2.4 and 2.5 (depending upon the brightness and contrast settings on the monitor). You choose a value halfway between the two (2.45) and remove the contrast enhancement (the 1.25 gamma boost provided for viewing in dimly lit environments). The result is a value very close to 1.96 (2.45\/1.25 = 1.96).\n\nMacOS 10.6 and later converts the video gamma to the 2.2 display buffer gamma when the app performs the color match to the display. You derive the 1.96 to 2.2 gamma conversion calculation for 75% gray bars as follows:\n\n\n\nWith rounding error, you’ll see results in this range. This is the default behavior for an AVFoundation app during playback. If you get values of 191 or other values, it probably means the system didn’t apply color management. See [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/evaluating-an-app-s-video-color#Ensure-accurate-color-application-of-your-apps-video].\n\nBy default, the system performs color matches using perceptual rendering intent. However, with matrix-based profiles, the system color matching reports identical results for all rendering intents.\n\n### Verify that the color match maintains gray levels\n\nGiven a correct display profile, a color match won’t change a gray value from appearing gray in a color-managed app. It may adjust the brightness based on the gamma correction, but it won’t add color to it (grays remain R=G=B). Therefore, the color match reports identical values for the RGB components of a given gray value from any of the color bars. If it doesn’t, you should investigate the issue (see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/evaluating-an-app-s-video-color#Ensure-accurate-color-application-of-your-apps-video]).\n\n### Interpret non-gray colors in the color bar\n\nPixel values that aren’t gray may change due to the color match. This color match ensures the color fidelity of the original video during playback. The system performs color matches using perceptual rendering intent. This means a 75% green may get any one of many color shifts during the color match, depending on the nature of the source profile and display profile. For example, a 75% green value (0, 191, 0) may change to (40, 200, 8) after the color match.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/evaluating-video-using-quicktime-test-pattern-files\ncrawled: 2025-12-02T17:39:42Z\n---\n\n# Evaluating video using QuickTime test pattern files\n\n**Article**\n\nCheck color reproduction of your app or workflow by using test pattern files.\n\n## Overview\n\nQuickTime Test Pattern movie files produce known results when displayed on Mac computers. Use these files to evaluate the color characteristics of your AVFoundation-based app or workflow. The simplest way to check color management in your app is with the 75% gray bars in the test pattern file.\n\n### Open test patterns and verify color characteristics\n\nThe video industry commonly evaluates color using known, standard test patterns. Comparing your video’s color to the known standard gives you an indication of how recording or transmission altered the video signal. Use this information to determine the modifications you must make to return the signal to the standard. Typically, in an analog video environment, you use Society of Motion Picture and Television Engineers (SMPTE) color bars or Engineering Guideline EG 1.1990.\n\n\n\nTo begin evaluating video with the test pattern technique, download the QuickTime Test Pattern movie files from the [https:\/\/developer.apple.com\/av-foundation\/] (see “Color Test Patterns”). These files produce known results on Mac computers.\n\nOpen the files using the QuickTime Player app (version 10.5 or later) or another app or workflow that supports the [doc:\/\/com.apple.documentation\/documentation\/quicktime-file-format]. Use the test pattern files to evaluate the color characteristics of your AVFoundation-based app or workflow.\n\nThe figure below shows the example test pattern file `QuickTime_Test_Pattern_HD.mov`, which contains color and grayscale patterns. Use it to evaluate the characteristics shown here:\n\n\n\n- 16 black levels on black or black crush test\/range expansion (row A in the figure)\n- Continuous gradient or quantization\/super-black, super-white handling (row B)\n- 100% color bars, or matrix, color match (row C)\n- 75% color bars, or matrix, color match (row D)\n- Quantized gradient or gamma (row E)\n- 16 white levels on white or white crush test\/range expansion (row F)\n\nOpen the test pattern in your app and visually inspect it for the above features. Read the display buffer pixel values using the Digital Color Meter app (see below).\n\n### Interpret gray levels using the digital color meter app\n\nThe simplest way to check color management in your app is with the 75% gray bars shown in the example test pattern file `QuickTime_Test_Pattern_HD.mov`.\n\nMacOS 10.6 and later process 75% gray bars with a 1.96 to 2.2 gamma conversion, resulting in a 198 value as shown here.\n\n\n\nAVFoundation uses a value of approximately 1.96 as the gamma of video (the gamma value without the boost required for classic dim surround viewing environments). To derive that number, you first measure the response of a CRT. Most CRTs report a gamma of between 2.4 and 2.5 (depending upon the brightness and contrast settings on the monitor). You choose a value halfway between the two (2.45) and remove the contrast enhancement (the 1.25 gamma boost provided for viewing in dimly lit environments). The result is a value very close to 1.96 (2.45\/1.25 = 1.96).\n\nMacOS 10.6 and later converts the video gamma to the 2.2 display buffer gamma when the app performs the color match to the display. You derive the 1.96 to 2.2 gamma conversion calculation for 75% gray bars as follows:\n\n\n\nWith rounding error, you’ll see results in this range. This is the default behavior for an AVFoundation app during playback. If you get values of 191 or other values, it probably means the system didn’t apply color management. See [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/evaluating-an-app-s-video-color#Ensure-accurate-color-application-of-your-apps-video].\n\nBy default, the system performs color matches using perceptual rendering intent. However, with matrix-based profiles, the system color matching reports identical results for all rendering intents.\n\n### Verify that the color match maintains gray levels\n\nGiven a correct display profile, a color match won’t change a gray value from appearing gray in a color-managed app. It may adjust the brightness based on the gamma correction, but it won’t add color to it (grays remain R=G=B). Therefore, the color match reports identical values for the RGB components of a given gray value from any of the color bars. If it doesn’t, you should investigate the issue (see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/evaluating-an-app-s-video-color#Ensure-accurate-color-application-of-your-apps-video]).\n\n### Interpret non-gray colors in the color bar\n\nPixel values that aren’t gray may change due to the color match. This color match ensures the color fidelity of the original video during playback. The system performs color matches using perceptual rendering intent. This means a 75% green may get any one of many color shifts during the color match, depending on the nature of the source profile and display profile. For example, a 75% green value (0, 191, 0) may change to (40, 200, 8) after the color match.\n\n## Video evaluation\n\n- **Evaluating an app’s video color using video test equipment**: Output test pattern files to a vectorscope or waveform analyzer to review the video signals.\n- **Evaluating an app’s video color using light-measurement Instruments**: Measure front-of-screen luminance by using test pattern files with a spectroradiometer or colorimeter.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Output test pattern files to a vectorscope or waveform analyzer to review the video signals.",
          "name" : "Evaluating an app’s video color using video test equipment",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/evaluating-an-app-s-video-color-using-video-test-equipment"
        },
        {
          "description" : "Measure front-of-screen luminance by using test pattern files with a spectroradiometer or colorimeter.",
          "name" : "Evaluating an app’s video color using light-measurement Instruments",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/evaluating-an-app-s-video-color-using-light-measurement-instruments"
        }
      ],
      "title" : "Video evaluation"
    }
  ],
  "source" : "appleJSON",
  "title" : "Evaluating video using QuickTime test pattern files",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/evaluating-video-using-quicktime-test-pattern-files"
}