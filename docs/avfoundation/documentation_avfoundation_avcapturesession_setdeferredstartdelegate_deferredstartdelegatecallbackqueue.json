{
  "abstract" : "Sets a delegate object for the session to call when performing deferred start.",
  "codeExamples" : [

  ],
  "contentHash" : "6e9d805c344154439fa9974572b724e99ae196efdac901137972c08700ce0675",
  "crawledAt" : "2025-11-30T21:34:18Z",
  "declaration" : {
    "code" : "func setDeferredStartDelegate(_ deferredStartDelegate: (any AVCaptureSessionDeferredStartDelegate)?, deferredStartDelegateCallbackQueue: dispatch_queue_t?)",
    "language" : "swift"
  },
  "id" : "F72F86EC-1D57-444B-8123-381FA9C1D0AE",
  "kind" : "method",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nThis delegate receives a call to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] method when deferred start is about to run. It is non-blocking, so by the time this method is called, the deferred start may already be underway. If you want your app to perform initialization (potentially) concurrently with deferred start (e.g. user-facing camera features that are not needed to display the first preview frame, but are available to the user as soon as possible) it may be done in the delegate’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] method. To wait until deferred start is finished to perform some remaining initialization work, use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] method instead.\n\nThe delegate receives a call to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] method when the deferred start finishes running. This allows you to run less-critical application initialization code. For example, if you’ve deferred an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] by setting its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureOutput\/isDeferredStartEnabled] property to `true`, and you’d like to do some app-specific initialization related to still capture, here might be a good place to put it.\n\nIf the delegate is non-nil, the session still calls the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] methods regardless of the value of the session’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/automaticallyRunsDeferredStart] property.\n\nTo minimize the capture session’s startup latency, defer all unnecessary work until after the session starts. This delegate provides callbacks for you to schedule deferred work without impacting session startup performance.\n\nTo perform initialization prior to deferred start but after the user interface displays, set [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/automaticallyRunsDeferredStart] to `false`, and then run the custom initialization prior to calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/runDeferredStartWhenNeeded()].\n\nIf [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegate] is not `NULL`, the session throws an exception if [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegateCallbackQueue] is `nil`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/setDeferredStartDelegate(_:deferredStartDelegateCallbackQueue:)\ncrawled: 2025-11-30T21:34:18Z\n---\n\n# setDeferredStartDelegate(_:deferredStartDelegateCallbackQueue:)\n\n**Instance Method**\n\nSets a delegate object for the session to call when performing deferred start.\n\n## Declaration\n\n```swift\nfunc setDeferredStartDelegate(_ deferredStartDelegate: (any AVCaptureSessionDeferredStartDelegate)?, deferredStartDelegateCallbackQueue: dispatch_queue_t?)\n```\n\n## Parameters\n\n- **deferredStartDelegate**: An object conforming to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate] protocol that receives events about deferred start.\n- **deferredStartDelegateCallbackQueue**: A dispatch queue on which deferredStart delegate methods are called.\n\n## Discussion\n\nThis delegate receives a call to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] method when deferred start is about to run. It is non-blocking, so by the time this method is called, the deferred start may already be underway. If you want your app to perform initialization (potentially) concurrently with deferred start (e.g. user-facing camera features that are not needed to display the first preview frame, but are available to the user as soon as possible) it may be done in the delegate’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] method. To wait until deferred start is finished to perform some remaining initialization work, use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] method instead.\n\nThe delegate receives a call to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] method when the deferred start finishes running. This allows you to run less-critical application initialization code. For example, if you’ve deferred an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] by setting its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureOutput\/isDeferredStartEnabled] property to `true`, and you’d like to do some app-specific initialization related to still capture, here might be a good place to put it.\n\nIf the delegate is non-nil, the session still calls the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionWillRunDeferredStart(_:)] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate\/sessionDidRunDeferredStart(_:)] methods regardless of the value of the session’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/automaticallyRunsDeferredStart] property.\n\nTo minimize the capture session’s startup latency, defer all unnecessary work until after the session starts. This delegate provides callbacks for you to schedule deferred work without impacting session startup performance.\n\nTo perform initialization prior to deferred start but after the user interface displays, set [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/automaticallyRunsDeferredStart] to `false`, and then run the custom initialization prior to calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/runDeferredStartWhenNeeded()].\n\nIf [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegate] is not `NULL`, the session throws an exception if [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegateCallbackQueue] is `nil`.\n\n## Configuring deferred start\n\n- **isManualDeferredStartSupported**: A `BOOL` value that indicates whether the session supports manually running deferred start.\n- **automaticallyRunsDeferredStart**: A Boolean value that indicates whether deferred start runs automatically.\n- **runDeferredStartWhenNeeded()**: Tells the session to run deferred start when appropriate.\n- **deferredStartDelegate**: A delegate object that observes events about deferred start.\n- **deferredStartDelegateCallbackQueue**: The dispatch queue on which the session calls deferred start delegate methods.\n- **AVCaptureSessionDeferredStartDelegate**: A protocol that defines the interface to respond to events about a capture session’s deferred start.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A `BOOL` value that indicates whether the session supports manually running deferred start.",
          "name" : "isManualDeferredStartSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/isManualDeferredStartSupported"
        },
        {
          "description" : "A Boolean value that indicates whether deferred start runs automatically.",
          "name" : "automaticallyRunsDeferredStart",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/automaticallyRunsDeferredStart"
        },
        {
          "description" : "Tells the session to run deferred start when appropriate.",
          "name" : "runDeferredStartWhenNeeded()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/runDeferredStartWhenNeeded()"
        },
        {
          "description" : "A delegate object that observes events about deferred start.",
          "name" : "deferredStartDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegate"
        },
        {
          "description" : "The dispatch queue on which the session calls deferred start delegate methods.",
          "name" : "deferredStartDelegateCallbackQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/deferredStartDelegateCallbackQueue"
        },
        {
          "description" : "A protocol that defines the interface to respond to events about a capture session’s deferred start.",
          "name" : "AVCaptureSessionDeferredStartDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSessionDeferredStartDelegate"
        }
      ],
      "title" : "Configuring deferred start"
    }
  ],
  "source" : "appleJSON",
  "title" : "setDeferredStartDelegate(_:deferredStartDelegateCallbackQueue:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureSession\/setDeferredStartDelegate(_:deferredStartDelegateCallbackQueue:)"
}