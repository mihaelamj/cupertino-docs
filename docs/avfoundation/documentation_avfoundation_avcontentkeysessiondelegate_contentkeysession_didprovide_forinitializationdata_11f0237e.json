{
  "codeExamples" : [

  ],
  "contentHash" : "287947392bdb321739cfd8a0aaa54b52a71173d32d3b2a252ada3cffda13ddb2",
  "crawledAt" : "2025-12-05T08:37:10Z",
  "id" : "2C6994C9-2A17-49D2-BAEB-977E946FEF29",
  "kind" : "unknown",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVContentKeySessionDelegate\/contentKeySession(_:didProvide:forInitializationData:)\ncrawled: 2025-12-05T08:37:10Z\n---\n\n# contentKeySession(_:didProvide:forInitializationData:) | Apple Developer Documentation\n\n- [ AVFoundation ](\/documentation\/avfoundation)\n\n- [ AVContentKeySessionDelegate ](\/documentation\/avfoundation\/avcontentkeysessiondelegate)\n\n- [ contentKeySession(_:didProvide:forInitializationData:) ](\/documentation\/AVFoundation\/AVContentKeySessionDelegate\/contentKeySession(_:didProvide:forInitializationData:))\n\n- [ AVContentKeySessionDelegate ](\/documentation\/avfoundation\/avcontentkeysessiondelegate)\n\n-  contentKeySession(_:didProvide:forInitializationData:) \n\nInstance Method# contentKeySession(_:didProvide:forInitializationData:)\n\niOS 17.4+iPadOS 17.4+Mac Catalyst 17.4+macOS 14.4+tvOS 17.4+visionOS 1.1+watchOS 10.4+\n\n```\noptional func contentKeySession(\n    _ session: AVContentKeySession,\n    didProvide keyRequests: [AVContentKeyRequest],\n    forInitializationData initializationData: Data?\n)\n```\n\n## [See Also](\/documentation\/AVFoundation\/AVContentKeySessionDelegate\/contentKeySession(_:didProvide:forInitializationData:)#see-also)\n\n### [Updating and retrying content key requests](\/documentation\/AVFoundation\/AVContentKeySessionDelegate\/contentKeySession(_:didProvide:forInitializationData:)#Updating-and-retrying-content-key-requests)\n\n[`func contentKeySession(AVContentKeySession, externalProtectionStatusDidChangeFor: AVContentKey)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysession(_:externalprotectionstatusdidchangefor:))Tells the delegate when external protection state has changed.[`func contentKeySession(AVContentKeySession, didUpdatePersistableContentKey: Data, forContentKeyIdentifier: Any)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysession(_:didupdatepersistablecontentkey:forcontentkeyidentifier:))Provides the receiver with an updated persistable content key for a specific key request.[`func contentKeySession(AVContentKeySession, shouldRetry: AVContentKeyRequest, reason: AVContentKeyRequest.RetryReason) -> Bool`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysession(_:shouldretry:reason:))Provides the receiver with a content key request object to retry.[`struct RetryReason`](\/documentation\/avfoundation\/avcontentkeyrequest\/retryreason)The reason for asking the client to retry a content key request.[`func contentKeySessionContentProtectionSessionIdentifierDidChange(AVContentKeySession)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysessioncontentprotectionsessionidentifierdidchange(_:))Tells the receiver the content protection session identifier changed.[`func contentKeySession(AVContentKeySession, contentKeyRequest: AVContentKeyRequest, didFailWithError: any Error)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysession(_:contentkeyrequest:didfailwitherror:))Tells the receiver that the content key request failed.[`func contentKeySession(AVContentKeySession, contentKeyRequestDidSucceed: AVContentKeyRequest)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysession(_:contentkeyrequestdidsucceed:))Tells the content key session that the response to a content key requeset was successfully processed.[`func contentKeySessionDidGenerateExpiredSessionReport(AVContentKeySession)`](\/documentation\/avfoundation\/avcontentkeysessiondelegate\/contentkeysessiondidgenerateexpiredsessionreport(_:))Notifies the sender that an expired session report has been generated.",
  "sections" : [
    {
      "content" : "",
      "title" : "See Also"
    }
  ],
  "source" : "appleWebKit",
  "title" : "contentKeySession(_:didProvide:forInitializationData:) | Apple Developer Documentation",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVContentKeySessionDelegate\/contentKeySession(_:didProvide:forInitializationData:)"
}