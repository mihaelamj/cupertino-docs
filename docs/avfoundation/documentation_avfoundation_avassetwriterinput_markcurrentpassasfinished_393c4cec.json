{
  "abstract" : "Tells the input to analyze the appended media to determine whether it can improve the results by reencoding certain segments.",
  "codeExamples" : [

  ],
  "contentHash" : "fc1d83f9bf288c772a4326487d5d9c75114ee88ee7a15c93e51a1a76c7dfc3d4",
  "crawledAt" : "2025-12-02T17:40:55Z",
  "declaration" : {
    "code" : "func markCurrentPassAsFinished()",
    "language" : "swift"
  },
  "id" : "9F6458A0-ED82-4ACD-9619-1EE48BFCB60D",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nWhen the value of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/canPerformMultiplePasses] property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], call this method after you append all of your media data. After the input determines if it warrants performing an additional pass, the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] changes (typically asynchronously) to describe how to set up for the next pass. Although it’s possible to use key-value observing to determine when the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] changes, it’s typically more convenient to call the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/respondToEachPassDescription(on:using:)] method to start the work for each pass.\n\nAfter reappending the media data for all of the time ranges of the new pass, call this method again to determine whether to reappend segments in another pass.\n\nCalling this method effectively cancels any previous invocation of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/requestMediaDataWhenReady(on:using:)], which means that you may call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/requestMediaDataWhenReady(on:using:)] again for each new pass. This method provides a convenient way to consolidate these invocations in your code.\n\nAfter each pass, you have the option of keeping the most recent results by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/markAsFinished()], instead of this method. If the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] is `nil` at the beginning of a pass, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/markAsFinished()] to tell the input to not expect any further media data.\n\nIf the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/canPerformMultiplePasses] is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] immediately becomes `nil` after calling this method.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/markCurrentPassAsFinished()\ncrawled: 2025-12-02T17:40:55Z\n---\n\n# markCurrentPassAsFinished()\n\n**Instance Method**\n\nTells the input to analyze the appended media to determine whether it can improve the results by reencoding certain segments.\n\n## Declaration\n\n```swift\nfunc markCurrentPassAsFinished()\n```\n\n## Discussion\n\nWhen the value of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/canPerformMultiplePasses] property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], call this method after you append all of your media data. After the input determines if it warrants performing an additional pass, the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] changes (typically asynchronously) to describe how to set up for the next pass. Although it’s possible to use key-value observing to determine when the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] changes, it’s typically more convenient to call the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/respondToEachPassDescription(on:using:)] method to start the work for each pass.\n\nAfter reappending the media data for all of the time ranges of the new pass, call this method again to determine whether to reappend segments in another pass.\n\nCalling this method effectively cancels any previous invocation of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/requestMediaDataWhenReady(on:using:)], which means that you may call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/requestMediaDataWhenReady(on:using:)] again for each new pass. This method provides a convenient way to consolidate these invocations in your code.\n\nAfter each pass, you have the option of keeping the most recent results by calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/markAsFinished()], instead of this method. If the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] is `nil` at the beginning of a pass, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/markAsFinished()] to tell the input to not expect any further media data.\n\nIf the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/canPerformMultiplePasses] is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], the value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription] immediately becomes `nil` after calling this method.\n\n\n\n## Performing multiple-pass encoding\n\n- **canPerformMultiplePasses**: A Boolean value that indicates whether the input may perform multiple passes over appended media data.\n- **currentPassDescription**: An object that describes the requirements for the current pass.\n- **AVAssetWriterInputPassDescription**: An object that defines the interface to query for the requirements of the current pass.\n- **performsMultiPassEncodingIfSupported**: A Boolean value that indicates whether the input attempts to encode the source media data using multiple passes.\n- **respondToEachPassDescription(on:using:)**: Tells the input to invoke a callback whenever it begins a new pass.\n- **AVAssetWriterInput.MultiPassController**: Provides an interface to receive an async sequence of pass descriptions for the writer input receiver, if multi-pass is supported.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the input may perform multiple passes over appended media data.",
          "name" : "canPerformMultiplePasses",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/canPerformMultiplePasses"
        },
        {
          "description" : "An object that describes the requirements for the current pass.",
          "name" : "currentPassDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/currentPassDescription"
        },
        {
          "description" : "An object that defines the interface to query for the requirements of the current pass.",
          "name" : "AVAssetWriterInputPassDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInputPassDescription"
        },
        {
          "description" : "A Boolean value that indicates whether the input attempts to encode the source media data using multiple passes.",
          "name" : "performsMultiPassEncodingIfSupported",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/performsMultiPassEncodingIfSupported"
        },
        {
          "description" : "Tells the input to invoke a callback whenever it begins a new pass.",
          "name" : "respondToEachPassDescription(on:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/respondToEachPassDescription(on:using:)"
        },
        {
          "description" : "Provides an interface to receive an async sequence of pass descriptions for the writer input receiver, if multi-pass is supported.",
          "name" : "AVAssetWriterInput.MultiPassController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/MultiPassController"
        }
      ],
      "title" : "Performing multiple-pass encoding"
    }
  ],
  "source" : "appleJSON",
  "title" : "markCurrentPassAsFinished()",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/markCurrentPassAsFinished()"
}