{
  "abstract" : "Tells the delegate when the system finishes capturing the photo proxy.",
  "codeExamples" : [

  ],
  "contentHash" : "1ebf0a279ca00f81c35712198155620ed52f7332db99779d48cb052c3661744c",
  "crawledAt" : "2025-11-30T23:09:39Z",
  "declaration" : {
    "code" : "optional func photoOutput(_ output: AVCapturePhotoOutput, didFinishCapturingDeferredPhotoProxy deferredPhotoProxy: AVCaptureDeferredPhotoProxy?, error: (any Error)?)",
    "language" : "swift"
  },
  "id" : "9A140FB2-F3C4-4550-A191-227645213538",
  "kind" : "method",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nYou can use the output’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto\/fileDataRepresentation()] with [doc:\/\/com.apple.documentation\/documentation\/Photos\/PHAssetCreationRequest] to eventually produce the final, processed photo into the user’s Photo Library. Add the in-memory proxy file data representation to the photo library as quickly as possible after this call to ensure that the photo library can begin background processing. It’s also important so that the intermediates aren’t removed by a periodic clean-up job looking for abandoned intermediates produced by using the deferred photo processing APIs.\n\nYour delegate implementation must adopt this method to opt into deferred photo processing, otherwise calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/capturePhoto(with:delegate:)] throws an exception.",
  "platforms" : [
    "iOS",
    "iPadOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishCapturingDeferredPhotoProxy:error:)\ncrawled: 2025-11-30T23:09:39Z\n---\n\n# photoOutput(_:didFinishCapturingDeferredPhotoProxy:error:)\n\n**Instance Method**\n\nTells the delegate when the system finishes capturing the photo proxy.\n\n## Declaration\n\n```swift\noptional func photoOutput(_ output: AVCapturePhotoOutput, didFinishCapturingDeferredPhotoProxy deferredPhotoProxy: AVCaptureDeferredPhotoProxy?, error: (any Error)?)\n```\n\n## Parameters\n\n- **output**: The output instance.\n- **deferredPhotoProxy**: A [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDeferredPhotoProxy] instance that contains a proxy [doc:\/\/com.apple.documentation\/documentation\/CoreVideo\/cvpixelbuffer-q2e] as a placeholder for the final image.\n- **error**: If the system couldn’t create the photo proxy, or any of the underlying intermediate files, an error object that describes the failure.\n\n## Discussion\n\nYou can use the output’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto\/fileDataRepresentation()] with [doc:\/\/com.apple.documentation\/documentation\/Photos\/PHAssetCreationRequest] to eventually produce the final, processed photo into the user’s Photo Library. Add the in-memory proxy file data representation to the photo library as quickly as possible after this call to ensure that the photo library can begin background processing. It’s also important so that the intermediates aren’t removed by a periodic clean-up job looking for abandoned intermediates produced by using the deferred photo processing APIs.\n\nYour delegate implementation must adopt this method to opt into deferred photo processing, otherwise calling [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/capturePhoto(with:delegate:)] throws an exception.\n\n## Receiving capture results\n\n- **photoOutput(_:didFinishProcessingPhoto:error:)**: Provides the delegate with the captured image and associated metadata resulting from a photo capture.\n- **photoOutput(_:didFinishRecordingLivePhotoMovieForEventualFileAt:resolvedSettings:)**: Notifies the delegate that the movie content of a Live Photo has finished recording.\n- **photoOutput(_:didFinishProcessingLivePhotoToMovieFileAt:duration:photoDisplayTime:resolvedSettings:error:)**: Provides the delegate the movie file URL resulting from a Live Photo capture.\n- **photoOutput(_:didFinishProcessingPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)**: Provides the delegate a captured image in a processed format (such as JPEG).\n- **photoOutput(_:didFinishProcessingRawPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)**: Provides the delegate a captured image in RAW format.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provides the delegate with the captured image and associated metadata resulting from a photo capture.",
          "name" : "photoOutput(_:didFinishProcessingPhoto:error:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingPhoto:error:)"
        },
        {
          "description" : "Notifies the delegate that the movie content of a Live Photo has finished recording.",
          "name" : "photoOutput(_:didFinishRecordingLivePhotoMovieForEventualFileAt:resolvedSettings:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishRecordingLivePhotoMovieForEventualFileAt:resolvedSettings:)"
        },
        {
          "description" : "Provides the delegate the movie file URL resulting from a Live Photo capture.",
          "name" : "photoOutput(_:didFinishProcessingLivePhotoToMovieFileAt:duration:photoDisplayTime:resolvedSettings:error:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingLivePhotoToMovieFileAt:duration:photoDisplayTime:resolvedSettings:error:)"
        },
        {
          "description" : "Provides the delegate a captured image in a processed format (such as JPEG).",
          "name" : "photoOutput(_:didFinishProcessingPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)"
        },
        {
          "description" : "Provides the delegate a captured image in RAW format.",
          "name" : "photoOutput(_:didFinishProcessingRawPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingRawPhoto:previewPhoto:resolvedSettings:bracketSettings:error:)"
        }
      ],
      "title" : "Receiving capture results"
    }
  ],
  "source" : "appleJSON",
  "title" : "photoOutput(_:didFinishCapturingDeferredPhotoProxy:error:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishCapturingDeferredPhotoProxy:error:)"
}