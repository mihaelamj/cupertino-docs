{
  "abstract" : "Capture several photos at once, varying parameters like exposure duration or light sensitivity.",
  "codeExamples" : [
    {
      "code" : "\/\/ Get AVCaptureBracketedStillImageSettings for a set of exposure values.\nlet exposureValues: [Float] = [-2, 0, +2]\nlet makeAutoExposureSettings = AVCaptureAutoExposureBracketedStillImageSettings.autoExposureSettings(exposureTargetBias:)\nlet exposureSettings = exposureValues.map(makeAutoExposureSettings)\n",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Create photo settings for HEIF\/HEVC capture and no RAW output\n\/\/ and enable cross-bracket image stabilization.\nlet photoSettings = AVCapturePhotoBracketSettings(rawPixelFormatType: 0,\n    processedFormat: [AVVideoCodecKey : AVVideoCodecType.hevc],\n    bracketedSettings: exposureSettings)\nphotoSettings.isLensStabilizationEnabled =\n    self.photoOutput.isLensStabilizationDuringBracketedCaptureSupported\n\n\/\/ Shoot the bracket, using a custom class to handle capture delegate callbacks.\nlet captureProcessor = PhotoCaptureProcessor()\nself.photoOutput.capturePhoto(with: photoSettings, delegate: captureProcessor)\n",
      "language" : "swift"
    }
  ],
  "contentHash" : "9c3dd54d726886f0600191c3467963dfa6866f00aedf87b48fa2017be979a9e7",
  "crawledAt" : "2025-12-02T19:23:57Z",
  "id" : "2842C339-02ED-4453-B2AB-D03B4EEAA95F",
  "kind" : "article",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nBracketing is a well-known photographic technique in which a sequence of shots is rapidly taken of the same scene, usually varying only in a single parameter such as aperture or shutter speed (exposure length). Experienced photographers use this technique to help them choose the best photos after shooting, or to apply offline post-processing that fuses multiple images together to create extended dynamic range or other special effects.\n\nIn iOS, you can use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoBracketSettings] to automatically capture a bracket of photos for each [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/capturePhoto(with:delegate:)] call. Once you’ve built a single-exposure camera in your app (see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/capturing-still-and-live-photos]), follow these steps to add multi-image bracket support.\n\n### Choose bracket settings\n\nYou specify a multi-exposure bracket by providing an array of bracket settings obejcts. iOS offers two types of automatic bracketing:\n\nTo define a bracket, create an array of one of these types, with values that describe the settings variations you want to capture. For example, the code below defines a bracket that captures three images at three different exposure values.\n\n### Create photo settings and shoot\n\nInstead of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings] object you create when shooting a single photo, to shoot a bracketed capture you’ll need an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoBracketSettings] object. This object combines the general settings that apply to all photos in the bracket with your bracket settings that specify how each photo differs from the rest of the bracket.\n\nAs with single-image capture, you create a photo settings object by choosing the image codec and file format for the resulting photos, but you also provide the bracket settings you’ve chosen.\n\n### Handle bracketed capture results\n\nThe photo output calls your delegate’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingPhoto:error:)] method at least once for each exposure in the bracket, and possibly additional times depending on your capture settings. For example, if you request RAW+HEIF capture in a three-exposure bracket, the photo output calls your delegate’s `didFinishProcessingPhoto` method six times (2 formats × 3 exposures), providing six [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto] objects.\n\nTo keep track of multiple results, compare the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto\/photoCount] from each photo to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureResolvedPhotoSettings\/expectedPhotoCount] of your resolved settings. When those numbers are equal, you’ve received all results from the capture.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/capturing-a-bracketed-photo-sequence\ncrawled: 2025-12-02T19:23:57Z\n---\n\n# Capturing a bracketed photo sequence\n\n**Article**\n\nCapture several photos at once, varying parameters like exposure duration or light sensitivity.\n\n## Overview\n\nBracketing is a well-known photographic technique in which a sequence of shots is rapidly taken of the same scene, usually varying only in a single parameter such as aperture or shutter speed (exposure length). Experienced photographers use this technique to help them choose the best photos after shooting, or to apply offline post-processing that fuses multiple images together to create extended dynamic range or other special effects.\n\nIn iOS, you can use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoBracketSettings] to automatically capture a bracket of photos for each [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/capturePhoto(with:delegate:)] call. Once you’ve built a single-exposure camera in your app (see [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/capturing-still-and-live-photos]), follow these steps to add multi-image bracket support.\n\n### Choose bracket settings\n\nYou specify a multi-exposure bracket by providing an array of bracket settings obejcts. iOS offers two types of automatic bracketing:\n\n- Use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureAutoExposureBracketedStillImageSettings] to create a bracket that varies exposure-compensation values relative to automatic exposure.\n- Use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureManualExposureBracketedStillImageSettings] to create a bracket with custom exposure durations and ISO sensitivity values for each photo in the bracket.\n\nTo define a bracket, create an array of one of these types, with values that describe the settings variations you want to capture. For example, the code below defines a bracket that captures three images at three different exposure values.\n\n```swift\n\/\/ Get AVCaptureBracketedStillImageSettings for a set of exposure values.\nlet exposureValues: [Float] = [-2, 0, +2]\nlet makeAutoExposureSettings = AVCaptureAutoExposureBracketedStillImageSettings.autoExposureSettings(exposureTargetBias:)\nlet exposureSettings = exposureValues.map(makeAutoExposureSettings)\n\n```\n\n\n\n### Create photo settings and shoot\n\nInstead of the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings] object you create when shooting a single photo, to shoot a bracketed capture you’ll need an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoBracketSettings] object. This object combines the general settings that apply to all photos in the bracket with your bracket settings that specify how each photo differs from the rest of the bracket.\n\nAs with single-image capture, you create a photo settings object by choosing the image codec and file format for the resulting photos, but you also provide the bracket settings you’ve chosen.\n\n```swift\n\/\/ Create photo settings for HEIF\/HEVC capture and no RAW output\n\/\/ and enable cross-bracket image stabilization.\nlet photoSettings = AVCapturePhotoBracketSettings(rawPixelFormatType: 0,\n    processedFormat: [AVVideoCodecKey : AVVideoCodecType.hevc],\n    bracketedSettings: exposureSettings)\nphotoSettings.isLensStabilizationEnabled =\n    self.photoOutput.isLensStabilizationDuringBracketedCaptureSupported\n\n\/\/ Shoot the bracket, using a custom class to handle capture delegate callbacks.\nlet captureProcessor = PhotoCaptureProcessor()\nself.photoOutput.capturePhoto(with: photoSettings, delegate: captureProcessor)\n\n```\n\n\n\n### Handle bracketed capture results\n\nThe photo output calls your delegate’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoCaptureDelegate\/photoOutput(_:didFinishProcessingPhoto:error:)] method at least once for each exposure in the bracket, and possibly additional times depending on your capture settings. For example, if you request RAW+HEIF capture in a three-exposure bracket, the photo output calls your delegate’s `didFinishProcessingPhoto` method six times (2 formats × 3 exposures), providing six [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto] objects.\n\nTo keep track of multiple results, compare the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhoto\/photoCount] from each photo to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureResolvedPhotoSettings\/expectedPhotoCount] of your resolved settings. When those numbers are equal, you’ve received all results from the capture.\n\n## More capture options\n\n- **Capturing photos with depth**: Get a depth map with a photo to create effects like the system camera’s Portrait mode (on compatible devices).\n- **Capturing uncompressed image data**: Get processed image data without compression to use for filtering or lossless output.\n- **Capturing thumbnail and preview images**: Enable delivery of reduced-size images with the main image in a photo capture.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Get a depth map with a photo to create effects like the system camera’s Portrait mode (on compatible devices).",
          "name" : "Capturing photos with depth",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/capturing-photos-with-depth"
        },
        {
          "description" : "Get processed image data without compression to use for filtering or lossless output.",
          "name" : "Capturing uncompressed image data",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/capturing-uncompressed-image-data"
        },
        {
          "description" : "Enable delivery of reduced-size images with the main image in a photo capture.",
          "name" : "Capturing thumbnail and preview images",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/capturing-thumbnail-and-preview-images"
        }
      ],
      "title" : "More capture options"
    }
  ],
  "source" : "appleJSON",
  "title" : "Capturing a bracketed photo sequence",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/capturing-a-bracketed-photo-sequence"
}