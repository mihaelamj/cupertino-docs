{
  "abstract" : "An object that you use to create a new composition from existing assets.",
  "codeExamples" : [
    {
      "code" : "\/\/ Use a mutable composition object you create.\nlet mutableComposition = AVMutableComposition()\n        \nguard let composition = mutableComposition.copy() as? AVComposition else { return }\n        \n\/\/ Create a player item to inspect and play the composition.\nlet playerItem = AVPlayerItem(asset: composition)",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "AVAsynchronousKeyValueLoading",
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSMutableCopying",
    "NSObjectProtocol"
  ],
  "contentHash" : "478758fe1a491ad0f63567215b860b4b170cc2309e5d9431291bbb080cab3367",
  "crawledAt" : "2025-12-07T13:33:16Z",
  "declaration" : {
    "code" : "class AVMutableComposition",
    "language" : "swift"
  },
  "id" : "204870A3-C150-48C0-907D-289DE0A28C1E",
  "kind" : "class",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nUse this object to add and remove composition tracks, and add, remove, and scale their time ranges. You can make an immutable snapshot of a mutable composition for playback and inspection as follows:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/avfoundation\/avmutablecomposition\ncrawled: 2025-12-07T13:33:16Z\n---\n\n# AVMutableComposition\n\n**Class**\n\nAn object that you use to create a new composition from existing assets.\n\n## Declaration\n\n```swift\nclass AVMutableComposition\n```\n\n## Overview\n\nUse this object to add and remove composition tracks, and add, remove, and scale their time ranges. You can make an immutable snapshot of a mutable composition for playback and inspection as follows:\n\n```swift\n\/\/ Use a mutable composition object you create.\nlet mutableComposition = AVMutableComposition()\n        \nguard let composition = mutableComposition.copy() as? AVComposition else { return }\n        \n\/\/ Create a player item to inspect and play the composition.\nlet playerItem = AVPlayerItem(asset: composition)\n```\n\n## Creating a composition\n\n- **init(urlAssetInitializationOptions:)**: Creates a mutable composition that uses the specified initialization options.\n\n## Loading tracks\n\n- **tracks**: The tracks that a composition contains.\n- **loadTrack(withTrackID:completionHandler:)**: Loads a track that contains the specified identifier.\n- **loadTracks(withMediaType:completionHandler:)**: Loads tracks that contain media of a specified type.\n- **loadTracks(withMediaCharacteristic:completionHandler:)**: Loads tracks that contain media of a specified characteristic.\n\n## Accessing tracks\n\n- **tracks**: The tracks that a composition contains.\n- **track(withTrackID:)**: Returns a track that contains the specified identifier.\n- **tracks(withMediaType:)**: Returns tracks that contain media of a specified type.\n- **tracks(withMediaCharacteristic:)**: Returns tracks that contain media of a specified characteristic.\n\n## Managing composition tracks\n\n- **mutableTrack(compatibleWith:)**: Returns a composition track into which you can insert any time range of the specified asset track.\n- **addMutableTrack(withMediaType:preferredTrackID:)**: Adds an empty track to a composition.\n- **removeTrack(_:)**: Removes a specified track from the composition.\n\n## Managing Cinematic tracks\n\n- **addTracks(for:preferredStartingTrackID:)**\n\n## Managing time ranges\n\n- **removeTimeRange(_:)**: Removes a specified time range from all tracks of the composition.\n- **scaleTimeRange(_:toDuration:)**: Changes the duration of all tracks in a given time range.\n- **insertEmptyTimeRange(_:)**: Adds or extends an empty time range within all tracks of the composition.\n- **insertTimeRange(_:of:at:completionHandler:)**: Inserts all tracks of an asset for a time range into a composition.\n- **insertTimeRange(_:of:at:)**: Inserts all the tracks within a given time range of a specified asset into the composition.\n\n## Configuring video size\n\n- **naturalSize**: The encoded or authored size of the visual portion of the asset.\n\n## Instance methods\n\n- **insertTimeRange(_:of:at:isolation:)**\n\n## Mutable compositions\n\n- **AVMutableCompositionTrack**: A mutable track in a composition that you use to insert, remove, and scale track segments without affecting their low-level representation.\n\n## Inherits From\n\n- AVComposition\n\n## Conforms To\n\n- AVAsynchronousKeyValueLoading\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSMutableCopying\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a mutable composition that uses the specified initialization options.",
          "name" : "init(urlAssetInitializationOptions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/init(urlAssetInitializationOptions:)"
        }
      ],
      "title" : "Creating a composition"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The tracks that a composition contains.",
          "name" : "tracks",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPartialAsyncProperty\/tracks-92p4a"
        },
        {
          "description" : "Loads a track that contains the specified identifier.",
          "name" : "loadTrack(withTrackID:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/loadTrack(withTrackID:completionHandler:)"
        },
        {
          "description" : "Loads tracks that contain media of a specified type.",
          "name" : "loadTracks(withMediaType:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/loadTracks(withMediaType:completionHandler:)"
        },
        {
          "description" : "Loads tracks that contain media of a specified characteristic.",
          "name" : "loadTracks(withMediaCharacteristic:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/loadTracks(withMediaCharacteristic:completionHandler:)"
        }
      ],
      "title" : "Loading tracks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The tracks that a composition contains.",
          "name" : "tracks",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/tracks"
        },
        {
          "description" : "Returns a track that contains the specified identifier.",
          "name" : "track(withTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/track(withTrackID:)"
        },
        {
          "description" : "Returns tracks that contain media of a specified type.",
          "name" : "tracks(withMediaType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/tracks(withMediaType:)"
        },
        {
          "description" : "Returns tracks that contain media of a specified characteristic.",
          "name" : "tracks(withMediaCharacteristic:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/tracks(withMediaCharacteristic:)"
        }
      ],
      "title" : "Accessing tracks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a composition track into which you can insert any time range of the specified asset track.",
          "name" : "mutableTrack(compatibleWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/mutableTrack(compatibleWith:)"
        },
        {
          "description" : "Adds an empty track to a composition.",
          "name" : "addMutableTrack(withMediaType:preferredTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/addMutableTrack(withMediaType:preferredTrackID:)"
        },
        {
          "description" : "Removes a specified track from the composition.",
          "name" : "removeTrack(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/removeTrack(_:)"
        }
      ],
      "title" : "Managing composition tracks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "addTracks(for:preferredStartingTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/addTracks(for:preferredStartingTrackID:)"
        }
      ],
      "title" : "Managing Cinematic tracks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Removes a specified time range from all tracks of the composition.",
          "name" : "removeTimeRange(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/removeTimeRange(_:)"
        },
        {
          "description" : "Changes the duration of all tracks in a given time range.",
          "name" : "scaleTimeRange(_:toDuration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/scaleTimeRange(_:toDuration:)"
        },
        {
          "description" : "Adds or extends an empty time range within all tracks of the composition.",
          "name" : "insertEmptyTimeRange(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/insertEmptyTimeRange(_:)"
        },
        {
          "description" : "Inserts all tracks of an asset for a time range into a composition.",
          "name" : "insertTimeRange(_:of:at:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/insertTimeRange(_:of:at:completionHandler:)"
        },
        {
          "description" : "Inserts all the tracks within a given time range of a specified asset into the composition.",
          "name" : "insertTimeRange(_:of:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/insertTimeRange(_:of:at:)"
        }
      ],
      "title" : "Managing time ranges"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The encoded or authored size of the visual portion of the asset.",
          "name" : "naturalSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/naturalSize"
        }
      ],
      "title" : "Configuring video size"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "insertTimeRange(_:of:at:isolation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableComposition\/insertTimeRange(_:of:at:isolation:)"
        }
      ],
      "title" : "Instance methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A mutable track in a composition that you use to insert, remove, and scale track segments without affecting their low-level representation.",
          "name" : "AVMutableCompositionTrack",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVMutableCompositionTrack"
        }
      ],
      "title" : "Mutable compositions"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "AVComposition"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "AVMutableComposition",
  "url" : "https:\/\/developer.apple.com\/documentation\/avfoundation\/avmutablecomposition"
}