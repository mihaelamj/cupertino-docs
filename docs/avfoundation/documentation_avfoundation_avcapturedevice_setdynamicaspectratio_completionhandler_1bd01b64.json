{
  "abstract" : "Updates the dynamic aspect ratio of the device.",
  "codeExamples" : [

  ],
  "contentHash" : "12d26f3502cf28470cd383c201b3457c7a7ceabb6c695095ec207492eb7920df",
  "crawledAt" : "2025-12-03T04:41:55Z",
  "declaration" : {
    "code" : "func setDynamicAspectRatio(_ dynamicAspectRatio: AVCaptureDevice.AspectRatio, completionHandler handler: ((CMTime, (any Error)?) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "1041139B-3A81-405E-8770-63442FDFD3DD",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nThis is the only way of setting [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/dynamicAspectRatio]. This method throws an `NSInvalidArgumentException` if `dynamicAspectRatio` is not a supported aspect ratio found in the device’s activeFormat’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Format\/supportedDynamicAspectRatios]. This method throws an `NSGenericException` if you call it without first obtaining exclusive access to the device using [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()].",
  "platforms" : [
    "iOS",
    "iPadOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setDynamicAspectRatio(_:completionHandler:)\ncrawled: 2025-12-03T04:41:55Z\n---\n\n# setDynamicAspectRatio(_:completionHandler:)\n\n**Instance Method**\n\nUpdates the dynamic aspect ratio of the device.\n\n## Declaration\n\n```swift\nfunc setDynamicAspectRatio(_ dynamicAspectRatio: AVCaptureDevice.AspectRatio, completionHandler handler: ((CMTime, (any Error)?) -> Void)? = nil)\n```\n\n```swift\nfunc setDynamicAspectRatio(_ dynamicAspectRatio: AVCaptureDevice.AspectRatio) async throws -> CMTime\n```\n\n## Parameters\n\n- **dynamicAspectRatio**: The new [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/AspectRatio] the device should output.\n- **handler**: A block called by the device when `dynamicAspectRatio` is set to the value specified. If you call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/setDynamicAspectRatio(_:completionHandler:)] multiple times, the completion handlers are called in FIFO order. The block receives a timestamp which matches that of the first buffer to which all settings have been applied. Note that the timestamp is synchronized to the device clock, and thus must be converted to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/synchronizationClock] prior to comparison with the timestamps of buffers delivered via an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput]. You may pass `nil` for the `handler` parameter if you do not need to know when the operation completes.\n\n## Discussion\n\nThis is the only way of setting [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/dynamicAspectRatio]. This method throws an `NSInvalidArgumentException` if `dynamicAspectRatio` is not a supported aspect ratio found in the device’s activeFormat’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/Format\/supportedDynamicAspectRatios]. This method throws an `NSGenericException` if you call it without first obtaining exclusive access to the device using [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()].\n\n## Configuring dynamic aspect ratio\n\n- **AVCaptureDevice.AspectRatio**: String constants describing the different video aspect ratios you can configure for a particular device.\n- **dynamicAspectRatio**: A key-value observable property indicating the current aspect ratio for a device.\n- **dynamicDimensions**: A key-value observable property describing the output dimensions of the video buffer based on the device’s dynamic aspect ratio.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "String constants describing the different video aspect ratios you can configure for a particular device.",
          "name" : "AVCaptureDevice.AspectRatio",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/AspectRatio"
        },
        {
          "description" : "A key-value observable property indicating the current aspect ratio for a device.",
          "name" : "dynamicAspectRatio",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/dynamicAspectRatio"
        },
        {
          "description" : "A key-value observable property describing the output dimensions of the video buffer based on the device’s dynamic aspect ratio.",
          "name" : "dynamicDimensions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/dynamicDimensions"
        }
      ],
      "title" : "Configuring dynamic aspect ratio"
    }
  ],
  "source" : "appleJSON",
  "title" : "setDynamicAspectRatio(_:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setDynamicAspectRatio(_:completionHandler:)"
}