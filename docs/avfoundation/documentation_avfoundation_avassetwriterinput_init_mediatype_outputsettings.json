{
  "abstract" : "Creates an input to append sample buffers of the specified type to the output file.",
  "codeExamples" : [

  ],
  "contentHash" : "99078f97690aef969898ed80dc9d13cb7e8efaf7e802d297ba675290333af009",
  "crawledAt" : "2025-11-30T21:43:57Z",
  "declaration" : {
    "code" : "convenience init(mediaType: AVMediaType, outputSettings: [String : Any]?)",
    "language" : "swift"
  },
  "id" : "C7125257-6E06-41CB-9493-EBF8B623BBAE",
  "kind" : "unknown",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nIf you’re appending samples that are already in an acceptable compressed format, pass a value of `nil` for the output settings to pass the buffers to the output unaltered. However, if you’re not writing to a QuickTime movie file, an asset writer only supports passing through a restricted set of media types and subtypes. To pass through media data to files with a type other than [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVFileType\/mov], pass a nonnull format hint using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/init(mediaType:outputSettings:sourceFormatHint:)] instead.\n\n### Configuring audio settings\n\nYou must fully specify the audio settings dictionary when using this initializer, which means you must provide values for the following keys:\n\n### Configuring video settings\n\nA video output settings dictionary must request a compressed video format, which means that the value you specify must follow the rules for compressed video output.\n\nYou must fully specify the video settings dictionary when using this initializer, which means you must provide values for the following keys [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoCodecKey], [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoWidthKey], [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoHeightKey].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/init(mediaType:outputSettings:)\ncrawled: 2025-11-30T21:43:57Z\n---\n\n# init(mediaType:outputSettings:)\n\n**Initializer**\n\nCreates an input to append sample buffers of the specified type to the output file.\n\n## Declaration\n\n```swift\nconvenience init(mediaType: AVMediaType, outputSettings: [String : Any]?)\n```\n\n## Parameters\n\n- **mediaType**: The media type of the samples the input accepts.\n- **outputSettings**: The settings to use for encoding the media you append to the output. Create an output settings dictionary manually, or use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVOutputSettingsAssistant] to create preset-based settings.\n\n## Discussion\n\nIf you’re appending samples that are already in an acceptable compressed format, pass a value of `nil` for the output settings to pass the buffers to the output unaltered. However, if you’re not writing to a QuickTime movie file, an asset writer only supports passing through a restricted set of media types and subtypes. To pass through media data to files with a type other than [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVFileType\/mov], pass a nonnull format hint using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriterInput\/init(mediaType:outputSettings:sourceFormatHint:)] instead.\n\n### Configuring audio settings\n\nYou must fully specify the audio settings dictionary when using this initializer, which means you must provide values for the following keys:\n\n- [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVFormatIDKey]. The identifier of the audio format. For [doc:\/\/com.apple.documentation\/documentation\/CoreAudioTypes\/kAudioFormatLinearPCM] format, you must include values for all relevant keys with a `AVLinearPCM` prefix, and for [doc:\/\/com.apple.documentation\/documentation\/CoreAudioTypes\/kAudioFormatAppleLossless], you must specify a value for [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVEncoderBitDepthHintKey].\n- [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVSampleRateKey]. The sample rate of the audio. Common values are `44100` and `48000`.\n- [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVNumberOfChannelsKey]. If no other channel layout information is available, specifying a value of `1` results in mono output and a value of `2` results in stereo output. If [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVNumberOfChannelsKey] specifies a channel count greater than `2`, the dictionary must also specify a value for [doc:\/\/com.apple.documentation\/documentation\/AVFAudio\/AVChannelLayoutKey].\n\n\n\n### Configuring video settings\n\nA video output settings dictionary must request a compressed video format, which means that the value you specify must follow the rules for compressed video output.\n\nYou must fully specify the video settings dictionary when using this initializer, which means you must provide values for the following keys [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoCodecKey], [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoWidthKey], [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoHeightKey].\n\n\n\n## Creating an input\n\n- **init(mediaType:outputSettings:sourceFormatHint:)**: Creates an input that appends sample buffers of the specified type and format hint to the output file.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an input that appends sample buffers of the specified type and format hint to the output file.",
          "name" : "init(mediaType:outputSettings:sourceFormatHint:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/init(mediaType:outputSettings:sourceFormatHint:)"
        }
      ],
      "title" : "Creating an input"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(mediaType:outputSettings:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriterInput\/init(mediaType:outputSettings:)"
}