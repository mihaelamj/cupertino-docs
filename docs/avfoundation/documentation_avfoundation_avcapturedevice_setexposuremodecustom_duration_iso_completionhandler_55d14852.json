{
  "abstract" : "Sets the exposure mode to a custom state, and locks exposure duration and ISO at explicit values.",
  "codeExamples" : [

  ],
  "contentHash" : "e7742be1d40c11887caedc47e49743b3ff4395542071d2b9249aff7382fa132c",
  "crawledAt" : "2025-12-04T08:06:06Z",
  "declaration" : {
    "code" : "func setExposureModeCustom(duration: CMTime, iso ISO: Float, completionHandler handler: ((CMTime) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "7D888DE7-E8DD-46E9-94DE-CF10BD937F55",
  "kind" : "method",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nThis method throws an exception if you set the exposure duration or ISO values to an unsupported level\n\nBefore changing exposure mode, you must call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()] to acquire exclusive access to the device’s configuration properties. Otherwise, setting the value of this property raises an exception. When you finish configuring the device, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/unlockForConfiguration()] to release the lock and allow other devices to configure the settings.\n\nWhen using [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] to capture photos, the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings\/photoQualityPrioritization] property of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings] defaults to [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/QualityPrioritization\/balanced], which allows photo capture to temporarily override the capture device’s exposure duration and ISO if the scene is dark enough to require multi-image fusion to improve quality. To ensure that the system honors the device exposure duration and ISO values while in [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/ExposureMode-swift.enum\/custom] or [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/ExposureMode-swift.enum\/locked] mode, you must photo quality prioritization to [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/QualityPrioritization\/speed].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setExposureModeCustom(duration:iso:completionHandler:)\ncrawled: 2025-12-04T08:06:06Z\n---\n\n# setExposureModeCustom(duration:iso:completionHandler:)\n\n**Instance Method**\n\nSets the exposure mode to a custom state, and locks exposure duration and ISO at explicit values.\n\n## Declaration\n\n```swift\nfunc setExposureModeCustom(duration: CMTime, iso ISO: Float, completionHandler handler: ((CMTime) -> Void)? = nil)\n```\n\n```swift\nfunc setExposureModeCustom(duration: CMTime, iso ISO: Float) async -> CMTime\n```\n\n## Parameters\n\n- **duration**: The exposure duration.\n\nPass a value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/currentExposureDuration] to leave the current exposure duration unchanged.\n\nChanges made to the exposure duration may result in changes to [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/activeVideoMinFrameDuration] or [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/activeVideoMaxFrameDuration].\n- **ISO**: The exposure ISO value.\n\nPass a value of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/currentISO] to leave the current ISO unchanged.\n- **handler**: A callback the system invokes when the adjustment to the exposure duration and ISO is complete. If you call this method multiple times, the system calls the completion handlers in FIFO order.\n\nThe system passes a time value that matches that of the first buffer to which its applied all settings. It synchronizes the timestamp to the device clock, and you must convert the timestamp to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureSession\/synchronizationClock] prior to comparison with the timestamps of buffers delivered through an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureVideoDataOutput].\n\nYou can pass `nil` for this parameter if you don’t require this information.\n\n## Discussion\n\nThis method throws an exception if you set the exposure duration or ISO values to an unsupported level\n\nBefore changing exposure mode, you must call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/lockForConfiguration()] to acquire exclusive access to the device’s configuration properties. Otherwise, setting the value of this property raises an exception. When you finish configuring the device, call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/unlockForConfiguration()] to release the lock and allow other devices to configure the settings.\n\nWhen using [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput] to capture photos, the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings\/photoQualityPrioritization] property of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoSettings] defaults to [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/QualityPrioritization\/balanced], which allows photo capture to temporarily override the capture device’s exposure duration and ISO if the scene is dark enough to require multi-image fusion to improve quality. To ensure that the system honors the device exposure duration and ISO values while in [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/ExposureMode-swift.enum\/custom] or [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCaptureDevice\/ExposureMode-swift.enum\/locked] mode, you must photo quality prioritization to [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVCapturePhotoOutput\/QualityPrioritization\/speed].\n\n## Exposure constants\n\n- **currentExposureDuration**: A special constant representing the current exposure duration setting.\n- **currentISO**: A constant to indicate not to specify a new ISO value, and instead set it to its current value.\n\n## Configuring exposure manually\n\n- **exposureDuration**: The length of time over which exposure takes place.\n- **activeMaxExposureDuration**: The maximum exposure duration, in seconds, defined in the autoexposure algorithm.\n- **iso**: The current exposure ISO value.\n- **lensAperture**: The size of the lens diaphragm.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A special constant representing the current exposure duration setting.",
          "name" : "currentExposureDuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/currentExposureDuration"
        },
        {
          "description" : "A constant to indicate not to specify a new ISO value, and instead set it to its current value.",
          "name" : "currentISO",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/currentISO"
        }
      ],
      "title" : "Exposure constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The length of time over which exposure takes place.",
          "name" : "exposureDuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/exposureDuration"
        },
        {
          "description" : "The maximum exposure duration, in seconds, defined in the autoexposure algorithm.",
          "name" : "activeMaxExposureDuration",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/activeMaxExposureDuration"
        },
        {
          "description" : "The current exposure ISO value.",
          "name" : "iso",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/iso"
        },
        {
          "description" : "The size of the lens diaphragm.",
          "name" : "lensAperture",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/lensAperture"
        }
      ],
      "title" : "Configuring exposure manually"
    }
  ],
  "source" : "appleJSON",
  "title" : "setExposureModeCustom(duration:iso:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVCaptureDevice\/setExposureModeCustom(duration:iso:completionHandler:)"
}