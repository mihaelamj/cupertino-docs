{
  "abstract" : "Finishes an asset-writing session.",
  "codeExamples" : [

  ],
  "contentHash" : "0a7bd87385fde14cb359e903ae91e8db0df1a1a8455295919d33835f8b39f306",
  "crawledAt" : "2025-11-30T21:43:45Z",
  "declaration" : {
    "code" : "func endSession(atSourceTime endTime: CMTime)",
    "language" : "swift"
  },
  "id" : "795976A1-D105-4038-B6F9-296B88941C1B",
  "kind" : "method",
  "module" : "AVFoundation",
  "overview" : "## Discussion\n\nCall this method to complete a session that you started with [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriter\/startSession(atSourceTime:)].\n\nThe end time defines the moment on the timeline of source samples at which the session ends. In the case of the QuickTime movie file format, each sample-writing session’s start and end time pair corresponds to a period of movie time into which a writer inserts samples. The writer adds samples with timestamps that are later than the session end time to the written file but they aren’t presented during playback. For example, if the first session has duration `D1 = endTime - startTime`, the writer inserts it into the written file at time `0` through `D1`; the second session would insert into the written file at time `D1` through `D1 + D2`, and so on. It’s legal to have a session with no samples; this causes the creation of an empty edit of the prescribed duration.\n\nIf you don’t explicitly call this method, the system invokes it automatically when you call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriter\/finishWriting(completionHandler:)]. In that case, the session’s effective end time is the timestamp of the last sample you append.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/endSession(atSourceTime:)\ncrawled: 2025-11-30T21:43:45Z\n---\n\n# endSession(atSourceTime:)\n\n**Instance Method**\n\nFinishes an asset-writing session.\n\n## Declaration\n\n```swift\nfunc endSession(atSourceTime endTime: CMTime)\n```\n\n## Parameters\n\n- **endTime**: The ending asset time for the session, in the timeline of the source samples.\n\n## Discussion\n\nCall this method to complete a session that you started with [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriter\/startSession(atSourceTime:)].\n\nThe end time defines the moment on the timeline of source samples at which the session ends. In the case of the QuickTime movie file format, each sample-writing session’s start and end time pair corresponds to a period of movie time into which a writer inserts samples. The writer adds samples with timestamps that are later than the session end time to the written file but they aren’t presented during playback. For example, if the first session has duration `D1 = endTime - startTime`, the writer inserts it into the written file at time `0` through `D1`; the second session would insert into the written file at time `D1` through `D1 + D2`, and so on. It’s legal to have a session with no samples; this causes the creation of an empty edit of the prescribed duration.\n\nIf you don’t explicitly call this method, the system invokes it automatically when you call [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAssetWriter\/finishWriting(completionHandler:)]. In that case, the session’s effective end time is the timestamp of the last sample you append.\n\n\n\n## Managing writing sessions\n\n- **start()**: Prepares the writer to write media data to its output file.\n- **startWriting()**: Tells the writer to start writing its output.\n- **startSession(atSourceTime:)**: Starts an asset-writing session.\n- **finishWriting(completionHandler:)**: Marks all unfinished inputs as finished and completes the writing of the output file.\n- **cancelWriting()**: Cancels the creation of the output file.\n- **finishWriting()**: Completes the writing of the output file.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prepares the writer to write media data to its output file.",
          "name" : "start()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/start()"
        },
        {
          "description" : "Tells the writer to start writing its output.",
          "name" : "startWriting()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/startWriting()"
        },
        {
          "description" : "Starts an asset-writing session.",
          "name" : "startSession(atSourceTime:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/startSession(atSourceTime:)"
        },
        {
          "description" : "Marks all unfinished inputs as finished and completes the writing of the output file.",
          "name" : "finishWriting(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/finishWriting(completionHandler:)"
        },
        {
          "description" : "Cancels the creation of the output file.",
          "name" : "cancelWriting()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/cancelWriting()"
        },
        {
          "description" : "Completes the writing of the output file.",
          "name" : "finishWriting()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/finishWriting()"
        }
      ],
      "title" : "Managing writing sessions"
    }
  ],
  "source" : "appleJSON",
  "title" : "endSession(atSourceTime:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAssetWriter\/endSession(atSourceTime:)"
}