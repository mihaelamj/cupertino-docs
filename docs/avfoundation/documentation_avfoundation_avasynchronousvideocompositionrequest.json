{
  "abstract" : "An object that contains information a video compositor needs to render an output pixel buffer.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "ca045f7b240d8679a922cf56dc6a882c2a784ddef376f35786f6cc4865d49b4b",
  "crawledAt" : "2025-12-02T19:27:52Z",
  "declaration" : {
    "code" : "class AVAsynchronousVideoCompositionRequest",
    "language" : "swift"
  },
  "id" : "08E333C9-1E3D-44E2-805A-B21F3BB7A589",
  "kind" : "class",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nThe video compositor must adopt the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoCompositing] protocol.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\ncrawled: 2025-12-02T19:27:52Z\n---\n\n# AVAsynchronousVideoCompositionRequest\n\n**Class**\n\nAn object that contains information a video compositor needs to render an output pixel buffer.\n\n## Declaration\n\n```swift\nclass AVAsynchronousVideoCompositionRequest\n```\n\n## Overview\n\nThe video compositor must adopt the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVVideoCompositing] protocol.\n\n## Inspecting the request\n\n- **compositionTime**: A time for which to compose the frame.\n- **renderContext**: The rendering context of the video composition.\n- **videoCompositionInstruction**: A video composition instruction that indicates how to compose the frame.\n\n## Accessing source data\n\n- **attach(_:to:)**: Associates the pixel buffer with the specified spatial configuration.\n- **sourceFrame(byTrackID:)**: Returns a source pixel buffer for the track that contains the specified identifier.\n- **sourceReadOnlyPixelBuffer(byTrackID:)**: Returns the source CVReadOnlyPixelBuffer for the given track ID. If the track contains tagged buffers, a pixel buffer from one of the tagged buffers will be returned.\n- **sourceReadySampleBuffer(byTrackID:)**: Returns the source CMReadySampleBuffer for the given track ID.\n- **sourceSampleBuffer(byTrackID:)**: Returns a source sample buffer for the track that contains the specified identifier.\n- **sourceSampleDataTrackIDs**: The identifiers of tracks that contain source sample data.\n- **sourceTaggedDynamicBuffers(byTrackID:)**: Returns the source tagged dynamic buffers for the given track ID. Returns nil if the video track does not contain tagged buffers, or if the track does not contain video. This function should only be called when supportsSourceTaggedBuffers is YES.\n- **sourceTimedMetadata(byTrackID:)**: Returns a source timed metadata group for the track that contains the specified identifier.\n- **sourceTrackIDs**: The identifiers of tracks that contain source video.\n\n## Finishing the request\n\n- **finish(withComposedVideoFrame:)**: Finishes the request to compose the frame.\n- **finish(withComposedPixelBuffer:)**: The method that the custom compositor calls when composition succeeds.\n- **finish(withComposedTaggedBuffers:)**: The method that the custom compositor calls when composition succeeds.\n- **finish(with:)**: Finishes the request with an error.\n- **finishCancelledRequest()**: Cancels the request to compose a video frame.\n\n## Rendering the composition\n\n- **startRequest(_:)**: Directs a custom video compositor object to create a new pixel buffer composed asynchronously from a collection of sources.\n- **cancelAllPendingVideoCompositionRequests()**: Directs a custom video compositor object to cancel or finish all pending video composition requests.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A time for which to compose the frame.",
          "name" : "compositionTime",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/compositionTime"
        },
        {
          "description" : "The rendering context of the video composition.",
          "name" : "renderContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/renderContext"
        },
        {
          "description" : "A video composition instruction that indicates how to compose the frame.",
          "name" : "videoCompositionInstruction",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/videoCompositionInstruction"
        }
      ],
      "title" : "Inspecting the request"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Associates the pixel buffer with the specified spatial configuration.",
          "name" : "attach(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/attach(_:to:)"
        },
        {
          "description" : "Returns a source pixel buffer for the track that contains the specified identifier.",
          "name" : "sourceFrame(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceFrame(byTrackID:)"
        },
        {
          "description" : "Returns the source CVReadOnlyPixelBuffer for the given track ID. If the track contains tagged buffers, a pixel buffer from one of the tagged buffers will be returned.",
          "name" : "sourceReadOnlyPixelBuffer(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceReadOnlyPixelBuffer(byTrackID:)"
        },
        {
          "description" : "Returns the source CMReadySampleBuffer for the given track ID.",
          "name" : "sourceReadySampleBuffer(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceReadySampleBuffer(byTrackID:)"
        },
        {
          "description" : "Returns a source sample buffer for the track that contains the specified identifier.",
          "name" : "sourceSampleBuffer(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceSampleBuffer(byTrackID:)"
        },
        {
          "description" : "The identifiers of tracks that contain source sample data.",
          "name" : "sourceSampleDataTrackIDs",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceSampleDataTrackIDs-3yiab"
        },
        {
          "description" : "Returns the source tagged dynamic buffers for the given track ID. Returns nil if the video track does not contain tagged buffers, or if the track does not contain video. This function should only be called when supportsSourceTaggedBuffers is YES.",
          "name" : "sourceTaggedDynamicBuffers(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceTaggedDynamicBuffers(byTrackID:)"
        },
        {
          "description" : "Returns a source timed metadata group for the track that contains the specified identifier.",
          "name" : "sourceTimedMetadata(byTrackID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceTimedMetadata(byTrackID:)"
        },
        {
          "description" : "The identifiers of tracks that contain source video.",
          "name" : "sourceTrackIDs",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/sourceTrackIDs"
        }
      ],
      "title" : "Accessing source data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Finishes the request to compose the frame.",
          "name" : "finish(withComposedVideoFrame:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/finish(withComposedVideoFrame:)"
        },
        {
          "description" : "The method that the custom compositor calls when composition succeeds.",
          "name" : "finish(withComposedPixelBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/finish(withComposedPixelBuffer:)"
        },
        {
          "description" : "The method that the custom compositor calls when composition succeeds.",
          "name" : "finish(withComposedTaggedBuffers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/finish(withComposedTaggedBuffers:)"
        },
        {
          "description" : "Finishes the request with an error.",
          "name" : "finish(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/finish(with:)"
        },
        {
          "description" : "Cancels the request to compose a video frame.",
          "name" : "finishCancelledRequest()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest\/finishCancelledRequest()"
        }
      ],
      "title" : "Finishing the request"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Directs a custom video compositor object to create a new pixel buffer composed asynchronously from a collection of sources.",
          "name" : "startRequest(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVVideoCompositing\/startRequest(_:)"
        },
        {
          "description" : "Directs a custom video compositor object to cancel or finish all pending video composition requests.",
          "name" : "cancelAllPendingVideoCompositionRequests()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVVideoCompositing\/cancelAllPendingVideoCompositionRequests()"
        }
      ],
      "title" : "Rendering the composition"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "AVAsynchronousVideoCompositionRequest",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVAsynchronousVideoCompositionRequest"
}