{
  "abstract" : "Play, pause, and seek through a media presentation.",
  "codeExamples" : [
    {
      "code" : "func playMedia(at url: URL) {\n    let asset = AVAsset(url: url)\n    let playerItem = AVPlayerItem(\n        asset: asset,\n        automaticallyLoadedAssetKeys: [.tracks, .duration, .commonMetadata]\n    )\n    \/\/ Register to observe the status property before associating with player.\n    playerItem.publisher(for: \\.status)\n        .removeDuplicates()\n        .receive(on: DispatchQueue.main)\n        .sink { [weak self] status in\n            guard let self else { return }\n            switch status {\n            case .readyToPlay:\n                \/\/ Ready to play. Present playback UI.\n            case .failed:\n                \/\/ A failure while loading media occurred.\n            default:\n                break\n            }\n        }\n        .store(in: &subscriptions)\n    \n    \/\/ Set the item as the player's current item.\n    player.replaceCurrentItem(with: playerItem)\n}",
      "language" : "swift"
    },
    {
      "code" : "@Published var isPlaying = false\n\nprivate func observePlayingState() {\n    player.publisher(for: \\.timeControlStatus)\n        .receive(on: DispatchQueue.main)\n        .map { $0 == .playing }\n        .assign(to: &$isPlaying)\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Observe changes to the playback rate asynchronously.\nprivate func observeRateChanges() async {\n    let name = AVPlayer.rateDidChangeNotification\n    for await notification in NotificationCenter.default.notifications(named: name) {\n        guard let reason = notification.userInfo?[AVPlayer.rateDidChangeReasonKey] as? AVPlayer.RateDidChangeReason else {\n            continue\n        }\n        switch reason {\n        case .appBackgrounded:\n            \/\/ The app transitioned to the background.\n        case .audioSessionInterrupted:\n            \/\/ The system interrupts the app’s audio session.\n        case .setRateCalled:\n            \/\/ The app set the player’s rate.\n        case .setRateFailed:\n            \/\/ An attempt to change the player’s rate failed.\n        default:\n            break\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Handle time update request from user interface.\nfunc seek(to timeInterval: TimeInterval) async {\n    \/\/ Create a CMTime value for the passed in time interval.\n    let time = CMTime(seconds: timeInterval, preferredTimescale: 600)\n    await avPlayer.seek(to: time)\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Seek precisely to the specified time.\nawait avPlayer.seek(to: time, toleranceBefore: .zero, toleranceAfter: .zero)",
      "language" : "swift"
    }
  ],
  "contentHash" : "a009f1fd5fc0cd2b36ee8fc51100595b2424d152f8fc40f1c1d9bcf7610f432e",
  "crawledAt" : "2025-12-02T15:59:50Z",
  "id" : "0FA1D305-DAD0-41AC-BB11-A2256077EFE0",
  "kind" : "article",
  "language" : "swift",
  "module" : "AVFoundation",
  "overview" : "## Overview\n\nAVFoundation provides comprehensive support for playing media assets, including local and remote file-based media and also media streamed with HTTP Live Streaming. The framework models its media assets using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsset] class, which provides a consistent interface to load and inspect your media, regardless of its type or location. Use an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] object to play media assets in the form of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem] objects, which model the dynamic state of an asset such as its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/currentTime()].\n\nUnderstanding how to effectively use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] is essential for anyone building a custom player UI or otherwise requiring programmatic control of playback.\n\n### Observe playback readiness\n\nWhen you create a player item, it starts with a status of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/Status-swift.enum\/unknown], which means the system hasn’t attempted to load its media for playback. Only when you associate the item with an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] object does the system begin loading an asset’s media.\n\nTo know when the player item is ready for playback, observe the value of its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/status-swift.property] property. Add this observation before you call the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/replaceCurrentItem(with:)] method, because associating the player item with a player is the system’s cue to load the item’s media:\n\nWhen the player item reaches a [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/Status-swift.enum\/readyToPlay] state, present or enable your playback UI. Alternatively, if a failure occurs, show the appropriate status in the player.\n\n### Control the playback rate\n\nA player provides the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/play()] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/pause()] methods as its primary means of controlling its playback rate. When a player item is ready for playback, call the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/play()] method to request that playback begins at the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/defaultRate], which has an initial value of `1.0` (the natural rate). By default, a player automatically waits to start playback until it has sufficient media data available to minimize stalling. You can determine whether a player is in a paused, waiting to play, or playing state by observing its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/timeControlStatus-swift.property] value:\n\nObserve changes to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rate] property by observing notifications of type [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rateDidChangeNotification]. Observing this notification is similar to key-value observing the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rate] property, but provides additional information about the reason for the rate change. Retrieve the reason from the notification’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Notification\/userInfo] dictionary using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rateDidChangeReasonKey] constant:\n\n### Seek through the media timeline\n\nYou can seek through a media timeline in several ways using the methods of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem]. The most common way is to use the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:)-87h2r] method, passing it a destination [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMTime] value. Call this method in an asynchronous context:\n\nYou can call this method a single time to seek to the location, but you can also call it continuously such as when you use a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Slider] view.\n\nThe [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:)-87h2r] method is a convenient way to quickly seek through your presentation, but it’s tuned for speed rather than precision. This means the actual time to which the player seeks may differ slightly from the time you request. If you need to implement precise seeking behavior, use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:toleranceBefore:toleranceAfter:)] method, which lets you indicate the tolerated amount of deviation from your target time (before and after). For example, if you need to provide sample-accurate seeking behavior, specify tolerance values of zero:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFoundation\/controlling-the-transport-behavior-of-a-player\ncrawled: 2025-12-02T15:59:50Z\n---\n\n# Controlling the transport behavior of a player\n\n**Article**\n\nPlay, pause, and seek through a media presentation.\n\n## Overview\n\nAVFoundation provides comprehensive support for playing media assets, including local and remote file-based media and also media streamed with HTTP Live Streaming. The framework models its media assets using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVAsset] class, which provides a consistent interface to load and inspect your media, regardless of its type or location. Use an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] object to play media assets in the form of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem] objects, which model the dynamic state of an asset such as its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/currentTime()].\n\nUnderstanding how to effectively use [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] is essential for anyone building a custom player UI or otherwise requiring programmatic control of playback.\n\n### Observe playback readiness\n\nWhen you create a player item, it starts with a status of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/Status-swift.enum\/unknown], which means the system hasn’t attempted to load its media for playback. Only when you associate the item with an [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] object does the system begin loading an asset’s media.\n\nTo know when the player item is ready for playback, observe the value of its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/status-swift.property] property. Add this observation before you call the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/replaceCurrentItem(with:)] method, because associating the player item with a player is the system’s cue to load the item’s media:\n\n```swift\nfunc playMedia(at url: URL) {\n    let asset = AVAsset(url: url)\n    let playerItem = AVPlayerItem(\n        asset: asset,\n        automaticallyLoadedAssetKeys: [.tracks, .duration, .commonMetadata]\n    )\n    \/\/ Register to observe the status property before associating with player.\n    playerItem.publisher(for: \\.status)\n        .removeDuplicates()\n        .receive(on: DispatchQueue.main)\n        .sink { [weak self] status in\n            guard let self else { return }\n            switch status {\n            case .readyToPlay:\n                \/\/ Ready to play. Present playback UI.\n            case .failed:\n                \/\/ A failure while loading media occurred.\n            default:\n                break\n            }\n        }\n        .store(in: &subscriptions)\n    \n    \/\/ Set the item as the player's current item.\n    player.replaceCurrentItem(with: playerItem)\n}\n```\n\nWhen the player item reaches a [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem\/Status-swift.enum\/readyToPlay] state, present or enable your playback UI. Alternatively, if a failure occurs, show the appropriate status in the player.\n\n### Control the playback rate\n\nA player provides the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/play()] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/pause()] methods as its primary means of controlling its playback rate. When a player item is ready for playback, call the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/play()] method to request that playback begins at the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/defaultRate], which has an initial value of `1.0` (the natural rate). By default, a player automatically waits to start playback until it has sufficient media data available to minimize stalling. You can determine whether a player is in a paused, waiting to play, or playing state by observing its [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/timeControlStatus-swift.property] value:\n\n```swift\n@Published var isPlaying = false\n\nprivate func observePlayingState() {\n    player.publisher(for: \\.timeControlStatus)\n        .receive(on: DispatchQueue.main)\n        .map { $0 == .playing }\n        .assign(to: &$isPlaying)\n}\n```\n\nObserve changes to the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rate] property by observing notifications of type [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rateDidChangeNotification]. Observing this notification is similar to key-value observing the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rate] property, but provides additional information about the reason for the rate change. Retrieve the reason from the notification’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Notification\/userInfo] dictionary using the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/rateDidChangeReasonKey] constant:\n\n```swift\n\/\/ Observe changes to the playback rate asynchronously.\nprivate func observeRateChanges() async {\n    let name = AVPlayer.rateDidChangeNotification\n    for await notification in NotificationCenter.default.notifications(named: name) {\n        guard let reason = notification.userInfo?[AVPlayer.rateDidChangeReasonKey] as? AVPlayer.RateDidChangeReason else {\n            continue\n        }\n        switch reason {\n        case .appBackgrounded:\n            \/\/ The app transitioned to the background.\n        case .audioSessionInterrupted:\n            \/\/ The system interrupts the app’s audio session.\n        case .setRateCalled:\n            \/\/ The app set the player’s rate.\n        case .setRateFailed:\n            \/\/ An attempt to change the player’s rate failed.\n        default:\n            break\n        }\n    }\n}\n```\n\n### Seek through the media timeline\n\nYou can seek through a media timeline in several ways using the methods of [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer] and [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayerItem]. The most common way is to use the player’s [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:)-87h2r] method, passing it a destination [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMTime] value. Call this method in an asynchronous context:\n\n```swift\n\/\/ Handle time update request from user interface.\nfunc seek(to timeInterval: TimeInterval) async {\n    \/\/ Create a CMTime value for the passed in time interval.\n    let time = CMTime(seconds: timeInterval, preferredTimescale: 600)\n    await avPlayer.seek(to: time)\n}\n```\n\nYou can call this method a single time to seek to the location, but you can also call it continuously such as when you use a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Slider] view.\n\nThe [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:)-87h2r] method is a convenient way to quickly seek through your presentation, but it’s tuned for speed rather than precision. This means the actual time to which the player seeks may differ slightly from the time you request. If you need to implement precise seeking behavior, use the [doc:\/\/com.apple.avfoundation\/documentation\/AVFoundation\/AVPlayer\/seek(to:toleranceBefore:toleranceAfter:)] method, which lets you indicate the tolerated amount of deviation from your target time (before and after). For example, if you need to provide sample-accurate seeking behavior, specify tolerance values of zero:\n\n```swift\n\/\/ Seek precisely to the specified time.\nawait avPlayer.seek(to: time, toleranceBefore: .zero, toleranceAfter: .zero)\n```\n\n## Playback control\n\n- **Observing playback state in SwiftUI**: Keep your user interface in sync with state changes from playback objects.\n- **Creating a seamless multiview playback experience**: Build advanced multiview playback experiences with the AVFoundation and AVRouting frameworks.\n- **AVPlayer**: An object that provides the interface to control the player’s transport behavior.\n- **AVPlayerItem**: An object that models the timing and presentation state of an asset during playback.\n- **AVPlayerItemTrack**: An object that represents the presentation state of an asset track during playback.\n- **AVQueuePlayer**: An object that plays a sequence of player items.\n- **AVPlayerLooper**: An object that loops media content using a queue player.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Keep your user interface in sync with state changes from playback objects.",
          "name" : "Observing playback state in SwiftUI",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/observing-playback-state-in-swiftui"
        },
        {
          "description" : "Build advanced multiview playback experiences with the AVFoundation and AVRouting frameworks.",
          "name" : "Creating a seamless multiview playback experience",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/creating-a-seamless-multiview-playback-experience"
        },
        {
          "description" : "An object that provides the interface to control the player’s transport behavior.",
          "name" : "AVPlayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPlayer"
        },
        {
          "description" : "An object that models the timing and presentation state of an asset during playback.",
          "name" : "AVPlayerItem",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPlayerItem"
        },
        {
          "description" : "An object that represents the presentation state of an asset track during playback.",
          "name" : "AVPlayerItemTrack",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPlayerItemTrack"
        },
        {
          "description" : "An object that plays a sequence of player items.",
          "name" : "AVQueuePlayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVQueuePlayer"
        },
        {
          "description" : "An object that loops media content using a queue player.",
          "name" : "AVPlayerLooper",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/AVPlayerLooper"
        }
      ],
      "title" : "Playback control"
    }
  ],
  "source" : "appleJSON",
  "title" : "Controlling the transport behavior of a player",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/controlling-the-transport-behavior-of-a-player"
}