{
  "abstract" : "Use CFNetwork diagnostic logging to investigate HTTP and HTTPS problems.",
  "codeExamples" : [
    {
      "code" : "setenv(\"CFNETWORK_DIAGNOSTICS\", \"3\", 1);",
      "language" : "objc"
    }
  ],
  "contentHash" : "671690cc0ace67b6aac1d77fe9a1502dfacedfe0b29a63df41958a555c8d4520",
  "crawledAt" : "2025-12-06T12:59:22Z",
  "id" : "134A4A0D-FEBF-4C60-8F3F-27E82FF3D95A",
  "kind" : "article",
  "language" : "swift",
  "module" : "Network",
  "overview" : "## Overview\n\nIf you’re using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession] and need to debug a complex networking issue, you can enable CFNetwork diagnostic logging to get detailed information about the progress of your network requests. CFNetwork diagnostic logging has unique advantages relative to other network debugging tools, including:\n\nFor information about other network debugging tools, see [doc:\/\/com.apple.network\/documentation\/Network\/choosing-a-network-debugging-tool].\n\n### Understand the Security Implications\n\nCFNetwork diagnostic logs may contain decrypted TLS data and other security-sensitive information. Take these precautions:\n\n### Enable Logging In Xcode\n\nTo enable CFNetwork diagnostic logging, edit the current scheme (choose Product > Scheme > Edit Scheme), navigate to the Arguments tab, and add a `CFNETWORK_DIAGNOSTICS` item to the Environment Variables list. The value of this item can range from 0 to 3, where 0 turns logging off, and higher numbers give you progressively more logging. When you next run your app and use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession], CFNetwork diagnostic log entries appear in Xcode’s debug console area. If the console area isn’t visible, choose View > Debug Area > Show Debug Area to show it.\n\n### Enable Logging Programmatically to See Problems Outside of Xcode\n\nTo investigate problems outside of Xcode, programmatically enable CFNetwork diagnostic logging by setting the environment variable directly.\n\nDo this right at the beginning of the app’s launch sequence:\n\n### View Log Entries\n\nHow you view the resulting log entries depends on your specific situation:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Network\/debugging-https-problems-with-cfnetwork-diagnostic-logging\ncrawled: 2025-12-06T12:59:22Z\n---\n\n# Debugging HTTPS Problems with CFNetwork Diagnostic Logging\n\n**Article**\n\nUse CFNetwork diagnostic logging to investigate HTTP and HTTPS problems.\n\n## Overview\n\nIf you’re using [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession] and need to debug a complex networking issue, you can enable CFNetwork diagnostic logging to get detailed information about the progress of your network requests. CFNetwork diagnostic logging has unique advantages relative to other network debugging tools, including:\n\n- Minimal setup\n- The ability to look at network traffic that’s protected by Transport Layer Security (TLS)\n- Information about CFNetwork’s internal state, like which cookies get saved and applied\n\nFor information about other network debugging tools, see [doc:\/\/com.apple.network\/documentation\/Network\/choosing-a-network-debugging-tool].\n\n\n\n### Understand the Security Implications\n\nCFNetwork diagnostic logs may contain decrypted TLS data and other security-sensitive information. Take these precautions:\n\n- Restrict access to any logs you capture.\n- If you build an app that enables this logging programmatically, make sure that anyone who receives that app understands the security implications of using it.\n- If you send a log to Apple, redact any security-sensitive information.\n\n\n\n### Enable Logging In Xcode\n\nTo enable CFNetwork diagnostic logging, edit the current scheme (choose Product > Scheme > Edit Scheme), navigate to the Arguments tab, and add a `CFNETWORK_DIAGNOSTICS` item to the Environment Variables list. The value of this item can range from 0 to 3, where 0 turns logging off, and higher numbers give you progressively more logging. When you next run your app and use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession], CFNetwork diagnostic log entries appear in Xcode’s debug console area. If the console area isn’t visible, choose View > Debug Area > Show Debug Area to show it.\n\n### Enable Logging Programmatically to See Problems Outside of Xcode\n\nTo investigate problems outside of Xcode, programmatically enable CFNetwork diagnostic logging by setting the environment variable directly.\n\n```objc\nsetenv(\"CFNETWORK_DIAGNOSTICS\", \"3\", 1);\n```\n\nDo this right at the beginning of the app’s launch sequence:\n\n- If you’re programming in Objective-C, put the code at the start of your `main` function.\n- If your program has a C++ component, make sure this code runs before any C++ static initializers that use CFNetwork or any APIs, like [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession], that use CFNetwork.\n- If you’re programming in Swift, put this code in `main.swift`.\n\n\n\n### View Log Entries\n\nHow you view the resulting log entries depends on your specific situation:\n\n- In macOS, if you can reproduce the problem locally, run the Console utility on your Mac and view log entries there.\n- In iOS, if you can reproduce the problem locally, and you’re able to connect the device to your Mac through USB, run the Console utility on your Mac and view log entries there. Make sure you select your iOS device from the source list on the left of the main Console window (choose View > Show Sources if the source list isn’t visible).\n- If neither of the above work for you — for example, if you’re trying to debug a problem that can only be reproduced by one of your users in the field — get a sysdiagnose log from the machine exhibiting the problem and then extract the log entries from that. See the [https:\/\/developer.apple.com\/bug-reporting\/profiles-and-logs\/] page on the developer website for details on how to get a sysdiagnose log.\n\n## Network Debugging\n\n- **Choosing a Network Debugging Tool**: Decide which tool works best for your network debugging problem.\n- **Debugging HTTP Server-Side Errors**: Understand HTTP server-side errors and how to debug them.\n- **Recording a Packet Trace**: Learn how to record a low-level trace of network traffic.\n- **Taking Advantage of Third-Party Network Debugging Tools**: Learn about the available third-party network debugging tools.\n- **Testing and Debugging L4S in Your App**: Learn how to verify your app on an L4S-capable host and network to improve your app’s responsiveness.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Decide which tool works best for your network debugging problem.",
          "name" : "Choosing a Network Debugging Tool",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/choosing-a-network-debugging-tool"
        },
        {
          "description" : "Understand HTTP server-side errors and how to debug them.",
          "name" : "Debugging HTTP Server-Side Errors",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/debugging-http-server-side-errors"
        },
        {
          "description" : "Learn how to record a low-level trace of network traffic.",
          "name" : "Recording a Packet Trace",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/recording-a-packet-trace"
        },
        {
          "description" : "Learn about the available third-party network debugging tools.",
          "name" : "Taking Advantage of Third-Party Network Debugging Tools",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/taking-advantage-of-third-party-network-debugging-tools"
        },
        {
          "description" : "Learn how to verify your app on an L4S-capable host and network to improve your app’s responsiveness.",
          "name" : "Testing and Debugging L4S in Your App",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/testing-and-debugging-l4s-in-your-app"
        }
      ],
      "title" : "Network Debugging"
    }
  ],
  "source" : "appleJSON",
  "title" : "Debugging HTTPS Problems with CFNetwork Diagnostic Logging",
  "url" : "https:\/\/developer.apple.com\/documentation\/Network\/debugging-https-problems-with-cfnetwork-diagnostic-logging"
}