{
  "abstract" : "Schedules a single receive completion handler for a complete message, as opposed to a range of bytes.",
  "codeExamples" : [

  ],
  "contentHash" : "aedf6113ec0c49ed88118d66cd28d70a866987a7acfebec9823bf49a51b5dc50",
  "crawledAt" : "2025-12-06T13:03:07Z",
  "declaration" : {
    "code" : "@preconcurrency final func receiveMessage(completion: @escaping (Data?, NWConnection.ContentContext?, Bool, NWError?) -> Void)",
    "language" : "swift"
  },
  "id" : "B1CFB383-211F-4EC9-A76C-5EAC5BABAB23",
  "kind" : "method",
  "language" : "swift",
  "module" : "Network",
  "overview" : "## Discussion\n\nReceiving messages allows you to deal with complete datagrams or application-layer messages without needing to reconstruct a stream.\n\nIf you are using UDP, receiving a message will deliver a single datagram.\n\nIf you request to receive a message on a protocol that is otherwise an unbounded bytestream, like TCP or TLS, note that this will not deliver any data until the stream is closed by the peer.\n\nIn order to use messages on top of a bytestream protocol, add a protocol such as [doc:\/\/com.apple.network\/documentation\/Network\/NWProtocolWebSocket] or a custom [doc:\/\/com.apple.network\/documentation\/Network\/NWProtocolFramer] to your protocol stack.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/receiveMessage(completion:)\ncrawled: 2025-12-06T13:03:07Z\n---\n\n# receiveMessage(completion:)\n\n**Instance Method**\n\nSchedules a single receive completion handler for a complete message, as opposed to a range of bytes.\n\n## Declaration\n\n```swift\n@preconcurrency final func receiveMessage(completion: @escaping (Data?, NWConnection.ContentContext?, Bool, NWError?) -> Void)\n```\n\n## Parameters\n\n- **completion**: A receive completion is invoked exactly once for a call to receive. The completion indicates that the requested content has been received (in which case the content is delivered), or that an error has occurred.\n\nThe completion delivers the received content, which may be nil if the message is complete or an error occurred, the message context, a flag indicating if the message is complete, and any associated error.\n\n## Discussion\n\nReceiving messages allows you to deal with complete datagrams or application-layer messages without needing to reconstruct a stream.\n\nIf you are using UDP, receiving a message will deliver a single datagram.\n\nIf you request to receive a message on a protocol that is otherwise an unbounded bytestream, like TCP or TLS, note that this will not deliver any data until the stream is closed by the peer.\n\nIn order to use messages on top of a bytestream protocol, add a protocol such as [doc:\/\/com.apple.network\/documentation\/Network\/NWProtocolWebSocket] or a custom [doc:\/\/com.apple.network\/documentation\/Network\/NWProtocolFramer] to your protocol stack.\n\n## Sending and Receiving Data\n\n- **send(content:contentContext:isComplete:completion:)**: Sends data on a connection.\n- **send(content:contentContext:isComplete:completion:)**: Sends data on a connection using a custom Data type.\n- **NWConnection.SendCompletion**: A completion handler that indicates when the connection has finished processing sent content.\n- **receive(minimumIncompleteLength:maximumLength:completion:)**: Schedules a single receive completion handler, with a range indicating how many bytes the handler can receive at one time.\n- **batch(_:)**: Defines a block in which calls to send and receive are processed as a batch to improve performance.\n- **NWConnection.ContentContext**: An object that represents a message to send or receive, containing protocol metadata and send properties.\n- **maximumDatagramSize**: The maximum size of a datagram message that can be sent on a connection.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sends data on a connection.",
          "name" : "send(content:contentContext:isComplete:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/send(content:contentContext:isComplete:completion:)-5ecuz"
        },
        {
          "description" : "Sends data on a connection using a custom Data type.",
          "name" : "send(content:contentContext:isComplete:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/send(content:contentContext:isComplete:completion:)-3mfmt"
        },
        {
          "description" : "A completion handler that indicates when the connection has finished processing sent content.",
          "name" : "NWConnection.SendCompletion",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/SendCompletion"
        },
        {
          "description" : "Schedules a single receive completion handler, with a range indicating how many bytes the handler can receive at one time.",
          "name" : "receive(minimumIncompleteLength:maximumLength:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/receive(minimumIncompleteLength:maximumLength:completion:)"
        },
        {
          "description" : "Defines a block in which calls to send and receive are processed as a batch to improve performance.",
          "name" : "batch(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/batch(_:)"
        },
        {
          "description" : "An object that represents a message to send or receive, containing protocol metadata and send properties.",
          "name" : "NWConnection.ContentContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/ContentContext"
        },
        {
          "description" : "The maximum size of a datagram message that can be sent on a connection.",
          "name" : "maximumDatagramSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/maximumDatagramSize"
        }
      ],
      "title" : "Sending and Receiving Data"
    }
  ],
  "source" : "appleJSON",
  "title" : "receiveMessage(completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Network\/NWConnection\/receiveMessage(completion:)"
}