{
  "abstract" : "An object that transfers app-specific data between the devices joined in a group session.",
  "codeExamples" : [
    {
      "code" : "class CowatchingExperience : ObservableObject {\n    let groupSession: GroupSession<Trailer>\n    let messenger: GroupSessionMessenger\n\n    init(groupSession: GroupSession<Trailer>, item: Trailer) {\n        self.groupSession = groupSession\n        self.messenger = GroupSessionMessenger(session: groupSession)\n\n        self.groupSession.join()\n        \/\/ …\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "let sessionMessenger = GroupSessionMessenger(session: groupSession)\n\nasync {\n    for await move in sessionMessenger.messages(of: TicTacToe.Move.self) {\n        self.board.addMove(move)\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "478ae9f3d2a69ef4b7dabfc10b390e2f670ad6bd855ff9f6403e5ee7296ba38d",
  "crawledAt" : "2025-12-07T14:56:40Z",
  "declaration" : {
    "code" : "final class GroupSessionMessenger",
    "language" : "swift"
  },
  "id" : "E45FFBA3-6500-4876-B16B-A05104306AA3",
  "kind" : "class",
  "language" : "swift",
  "module" : "Group Activities",
  "overview" : "## Overview\n\nUse a `GroupSessionMessenger` object to coordinate your app’s behavior across the devices attached to a group session. This object leverages the existing FaceTime communication channel to send app-specific data related to a SharePlay experience. For example, a movie-watching app might share user comments or tags while the movie plays.\n\nYou create a `GroupSessionMessenger` object directly and use it to send and receive app data. Create the messenger using an active [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSession] object, which manages the underlying communication channel. Store a strong reference to your `GroupSessionMessenger` object for the lifetime of the session. The following example shows a custom object for managing a movie-watching experience. The object stores the GroupSession object associated with the experience and creates a `GroupSessionMessenger` for sending messages between participants.\n\nFor more information about establishing a group session, see [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSession].\n\n### Receive Messages from Other Devices\n\nThe system delivers messages to your app asynchronously when they arrive and adds them to a message sequence. Use the [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-626qo] or [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-jvoz] method to retrieve the sequence you want and iterate over its results. Use a `for`-`in` loop with the `await` keyword to iterate asynchronously over the results. The following example shows how a Tic Tac Toe game might retrieve moves sent by the current opponent. After receiving each move, the code adds that move to the current participant’s board.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/groupactivities\/groupsessionmessenger\ncrawled: 2025-12-07T14:56:40Z\n---\n\n# GroupSessionMessenger\n\n**Class**\n\nAn object that transfers app-specific data between the devices joined in a group session.\n\n## Declaration\n\n```swift\nfinal class GroupSessionMessenger\n```\n\n## Overview\n\nUse a `GroupSessionMessenger` object to coordinate your app’s behavior across the devices attached to a group session. This object leverages the existing FaceTime communication channel to send app-specific data related to a SharePlay experience. For example, a movie-watching app might share user comments or tags while the movie plays.\n\nYou create a `GroupSessionMessenger` object directly and use it to send and receive app data. Create the messenger using an active [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSession] object, which manages the underlying communication channel. Store a strong reference to your `GroupSessionMessenger` object for the lifetime of the session. The following example shows a custom object for managing a movie-watching experience. The object stores the GroupSession object associated with the experience and creates a `GroupSessionMessenger` for sending messages between participants.\n\n```swift\nclass CowatchingExperience : ObservableObject {\n    let groupSession: GroupSession<Trailer>\n    let messenger: GroupSessionMessenger\n\n    init(groupSession: GroupSession<Trailer>, item: Trailer) {\n        self.groupSession = groupSession\n        self.messenger = GroupSessionMessenger(session: groupSession)\n\n        self.groupSession.join()\n        \/\/ …\n    }\n}\n```\n\nFor more information about establishing a group session, see [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSession].\n\n### Receive Messages from Other Devices\n\nThe system delivers messages to your app asynchronously when they arrive and adds them to a message sequence. Use the [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-626qo] or [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-jvoz] method to retrieve the sequence you want and iterate over its results. Use a `for`-`in` loop with the `await` keyword to iterate asynchronously over the results. The following example shows how a Tic Tac Toe game might retrieve moves sent by the current opponent. After receiving each move, the code adds that move to the current participant’s board.\n\n```swift\nlet sessionMessenger = GroupSessionMessenger(session: groupSession)\n\nasync {\n    for await move in sessionMessenger.messages(of: TicTacToe.Move.self) {\n        self.board.addMove(move)\n    }\n}\n```\n\n## Creating a group session messenger\n\n- **init(session:)**: Creates a new group session messenger with [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum\/reliable] delivery mode and associates it with the specified session object.\n\n## Sending data to the group\n\n- **send(_:to:)**: Sends a standard data object asynchronously to other participants in the group session.\n- **send(_:to:)**: Sends a custom type asynchronously to other participants in the group session.\n- **send(_:to:completion:)**: Sends a standard data object to other participants in the group session.\n- **send(_:to:completion:)**: Sends a custom type to other participants in the group session.\n- **Participants**: The set of participants to include in messages.\n\n## Receiving data from other participants\n\n- **messages(of:)**: Returns the asynchronous sequence of messages that contain a generic data object.\n- **messages(of:)**: Returns the asynchronous sequence of messages that match the app-specific type.\n- **GroupSessionMessenger.Messages**: An asynchronous sequence of messages sent to the session.\n- **GroupSessionMessenger.MessageContext**: A structure that contains additional information about an incoming message, such as which device sent it.\n\n## Initializers\n\n- **init(session:deliveryMode:)**: Creates a new group session messenger with the specified delivery mode, [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum], and associates it with the specified session object.\n\n## Instance Properties\n\n- **deliveryMode**: The [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum] specified at initialization time (defaults to `reliable`).\n\n## Enumerations\n\n- **GroupSessionMessenger.DeliveryMode**: The transmission characteristics to apply to the delivery of messages.\n\n## File and data transfer\n\n- **Synchronizing data during a SharePlay activity**: Send custom messages and data between devices to synchronize content for your activity, and incorporate messages your app receives from other participants.\n- **GroupSessionJournal**: An object that manages file and data transfers between participants joined in a group session.\n\n## Conforms To\n\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new group session messenger with [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum\/reliable] delivery mode and associates it with the specified session object.",
          "name" : "init(session:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/init(session:)"
        }
      ],
      "title" : "Creating a group session messenger"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sends a standard data object asynchronously to other participants in the group session.",
          "name" : "send(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/send(_:to:)-4o52m"
        },
        {
          "description" : "Sends a custom type asynchronously to other participants in the group session.",
          "name" : "send(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/send(_:to:)-2a4ku"
        },
        {
          "description" : "Sends a standard data object to other participants in the group session.",
          "name" : "send(_:to:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/send(_:to:completion:)-zufl"
        },
        {
          "description" : "Sends a custom type to other participants in the group session.",
          "name" : "send(_:to:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/send(_:to:completion:)-9e0sn"
        },
        {
          "description" : "The set of participants to include in messages.",
          "name" : "Participants",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/Participants"
        }
      ],
      "title" : "Sending data to the group"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the asynchronous sequence of messages that contain a generic data object.",
          "name" : "messages(of:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-626qo"
        },
        {
          "description" : "Returns the asynchronous sequence of messages that match the app-specific type.",
          "name" : "messages(of:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/messages(of:)-jvoz"
        },
        {
          "description" : "An asynchronous sequence of messages sent to the session.",
          "name" : "GroupSessionMessenger.Messages",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/Messages"
        },
        {
          "description" : "A structure that contains additional information about an incoming message, such as which device sent it.",
          "name" : "GroupSessionMessenger.MessageContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/MessageContext"
        }
      ],
      "title" : "Receiving data from other participants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new group session messenger with the specified delivery mode, [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum], and associates it with the specified session object.",
          "name" : "init(session:deliveryMode:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/init(session:deliveryMode:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The [doc:\/\/com.apple.GroupActivities\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum] specified at initialization time (defaults to `reliable`).",
          "name" : "deliveryMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/deliveryMode-swift.property"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The transmission characteristics to apply to the delivery of messages.",
          "name" : "GroupSessionMessenger.DeliveryMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionMessenger\/DeliveryMode-swift.enum"
        }
      ],
      "title" : "Enumerations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Send custom messages and data between devices to synchronize content for your activity, and incorporate messages your app receives from other participants.",
          "name" : "Synchronizing data during a SharePlay activity",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/synchronizing-data-during-a-shareplay-activity"
        },
        {
          "description" : "An object that manages file and data transfers between participants joined in a group session.",
          "name" : "GroupSessionJournal",
          "url" : "https:\/\/developer.apple.com\/documentation\/GroupActivities\/GroupSessionJournal"
        }
      ],
      "title" : "File and data transfer"
    }
  ],
  "source" : "appleJSON",
  "title" : "GroupSessionMessenger",
  "url" : "https:\/\/developer.apple.com\/documentation\/groupactivities\/groupsessionmessenger"
}