{
  "abstract" : "The shared object that registers you to receive metrics, creates logs for custom metrics, and gives access to past reports.",
  "codeExamples" : [
    {
      "code" : "class AppMetrics: NSObject, MXMetricManagerSubscriber {\n    func receiveReports() {\n       let shared = MXMetricManager.shared\n       shared.add(self)\n    }\n\n    func pauseReports() {\n       let shared = MXMetricManager.shared\n       shared.remove(self)\n    }\n\n    \/\/ Receive daily metrics.\n    func didReceive(_ payloads: [MXMetricPayload]) {\n       \/\/ Process metrics.\n    }\n\n    \/\/ Receive diagnostics immediately when available.\n    func didReceive(_ payloads: [MXDiagnosticPayload]) {\n       \/\/ Process diagnostics.\n    }\n}\n",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "6b7211fbcbeee1226b1d8d2c8a0571a540a6dba114562b4c6f24ab8b56040b54",
  "crawledAt" : "2025-12-05T14:25:01Z",
  "declaration" : {
    "code" : "class MXMetricManager",
    "language" : "swift"
  },
  "id" : "01B8A44E-A339-421F-B5C3-A224F0CC4957",
  "kind" : "class",
  "language" : "swift",
  "module" : "MetricKit",
  "overview" : "## Overview\n\nThe `MXMetricManager` shared object manages your subscription for receiving on-device daily metrics.\n\nMetricKit starts accumulating reports for your app after calling [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/shared] for the first time. To receive the reports, call [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/add(_:)] with an object that adopts the [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManagerSubscriber] protocol. The system then delivers metric reports at most once per day, and diagnostic reports immediately in iOS 15 and later and macOS 12 and later. The reports contain the metrics from the past 24 hours and any previously undelivered daily reports. To pause receiving reports, call [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/remove(_:)].\n\nThe calls to add a subscriber and for receiving reports are safe to use in performance-sensitive code, such as app launch.\n\nThe snippet below shows a simple class for using MetricKit.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/metrickit\/mxmetricmanager\ncrawled: 2025-12-05T14:25:01Z\n---\n\n# MXMetricManager\n\n**Class**\n\nThe shared object that registers you to receive metrics, creates logs for custom metrics, and gives access to past reports.\n\n## Declaration\n\n```swift\nclass MXMetricManager\n```\n\n## Overview\n\nThe `MXMetricManager` shared object manages your subscription for receiving on-device daily metrics.\n\nMetricKit starts accumulating reports for your app after calling [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/shared] for the first time. To receive the reports, call [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/add(_:)] with an object that adopts the [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManagerSubscriber] protocol. The system then delivers metric reports at most once per day, and diagnostic reports immediately in iOS 15 and later and macOS 12 and later. The reports contain the metrics from the past 24 hours and any previously undelivered daily reports. To pause receiving reports, call [doc:\/\/com.apple.metrickit\/documentation\/MetricKit\/MXMetricManager\/remove(_:)].\n\nThe calls to add a subscriber and for receiving reports are safe to use in performance-sensitive code, such as app launch.\n\nThe snippet below shows a simple class for using MetricKit.\n\n```swift\nclass AppMetrics: NSObject, MXMetricManagerSubscriber {\n    func receiveReports() {\n       let shared = MXMetricManager.shared\n       shared.add(self)\n    }\n\n    func pauseReports() {\n       let shared = MXMetricManager.shared\n       shared.remove(self)\n    }\n\n    \/\/ Receive daily metrics.\n    func didReceive(_ payloads: [MXMetricPayload]) {\n       \/\/ Process metrics.\n    }\n\n    \/\/ Receive diagnostics immediately when available.\n    func didReceive(_ payloads: [MXDiagnosticPayload]) {\n       \/\/ Process diagnostics.\n    }\n}\n\n```\n\n\n\n## Getting the shared metrics manager\n\n- **shared**: An object that returns the shared metrics manager instance.\n\n## Subscribing to reports\n\n- **add(_:)**: Registers to receive a daily report of app metrics from the metrics manager.\n- **remove(_:)**: Unsubscribes from daily reports of app metrics.\n\n## Retrieving previous reports\n\n- **pastPayloads**: Returns an array of the daily metrics reports generated since the last allocation of the shared manager instance.\n- **pastDiagnosticPayloads**: Returns an array of the diagnostic reports generated since the last allocation of the shared manager instance.\n\n## Creating custom metric logs\n\n- **makeLogHandle(category:)**: Returns a log handle used for writing custom metric events.\n\n## Measuring an extended launch\n\n- **extendLaunchMeasurement(forTaskID:)**: Starts to measure an extended launch task with the given task identifier.\n- **finishExtendedLaunchMeasurement(forTaskID:)**: Signals the end of an extended launch task.\n- **MXLaunchTaskID**: The task identifier to track launch measurements.\n\n## Essentials\n\n- **MXMetricPayload**: An object that encapsulates a daily metrics report.\n- **MXDiagnosticPayload**: An object that encapsulates a diagnostic report.\n- **MXMetricManagerSubscriber**: A protocol defining a method for receiving a daily metrics report.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that returns the shared metrics manager instance.",
          "name" : "shared",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/shared"
        }
      ],
      "title" : "Getting the shared metrics manager"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers to receive a daily report of app metrics from the metrics manager.",
          "name" : "add(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/add(_:)"
        },
        {
          "description" : "Unsubscribes from daily reports of app metrics.",
          "name" : "remove(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/remove(_:)"
        }
      ],
      "title" : "Subscribing to reports"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an array of the daily metrics reports generated since the last allocation of the shared manager instance.",
          "name" : "pastPayloads",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/pastPayloads"
        },
        {
          "description" : "Returns an array of the diagnostic reports generated since the last allocation of the shared manager instance.",
          "name" : "pastDiagnosticPayloads",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/pastDiagnosticPayloads"
        }
      ],
      "title" : "Retrieving previous reports"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a log handle used for writing custom metric events.",
          "name" : "makeLogHandle(category:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/makeLogHandle(category:)"
        }
      ],
      "title" : "Creating custom metric logs"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts to measure an extended launch task with the given task identifier.",
          "name" : "extendLaunchMeasurement(forTaskID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/extendLaunchMeasurement(forTaskID:)"
        },
        {
          "description" : "Signals the end of an extended launch task.",
          "name" : "finishExtendedLaunchMeasurement(forTaskID:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManager\/finishExtendedLaunchMeasurement(forTaskID:)"
        },
        {
          "description" : "The task identifier to track launch measurements.",
          "name" : "MXLaunchTaskID",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXLaunchTaskID"
        }
      ],
      "title" : "Measuring an extended launch"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that encapsulates a daily metrics report.",
          "name" : "MXMetricPayload",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricPayload"
        },
        {
          "description" : "An object that encapsulates a diagnostic report.",
          "name" : "MXDiagnosticPayload",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXDiagnosticPayload"
        },
        {
          "description" : "A protocol defining a method for receiving a daily metrics report.",
          "name" : "MXMetricManagerSubscriber",
          "url" : "https:\/\/developer.apple.com\/documentation\/MetricKit\/MXMetricManagerSubscriber"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MXMetricManager",
  "url" : "https:\/\/developer.apple.com\/documentation\/metrickit\/mxmetricmanager"
}