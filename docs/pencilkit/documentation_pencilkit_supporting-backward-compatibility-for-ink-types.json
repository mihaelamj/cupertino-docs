{
  "abstract" : "Leverage the latest PencilKit features while providing a good user experience in earlier versions of the OS that don’t support those features.",
  "codeExamples" : [
    {
      "code" : "func updateDrawing(_ drawing: PKDrawing, at index: Int) {\n    if #available(iOS 17.0, *) {\n        \/\/ Before saving, check if this drawing uses new inks and requires a later\n        \/\/ version of PencilKit than might be available on a person’s other devices.\n        switch drawing.requiredContentVersion {\n        case .version2:\n            \/\/ This drawing is incompatible with the earlier version of PencilKit.\n            \/\/ Sync a backward-compatible drawing to display on devices with earlier OS versions.\n            dataModel.drawings[index] = fallbackDrawing\n        default:\n            \/\/ This drawing is compatible with the earlier version of PencilKit.\n            \/\/ Sync the current drawing since there's no need to provide a \n            \/\/ backward-compatible drawing instead.\n            dataModel.drawings[index] = drawing\n        }\n    } else {\n        dataModel.drawings[index] = drawing\n    }\n    saveDataModel()\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Set the maximum supported content version for the canvas view and any tool pickers.\n@IBOutlet weak var canvasView: PKCanvasView!\nvar toolPicker = PKToolPicker()\n\n\/\/ The canvas view limits the edits that a person can make so they’re compatible with the \n\/\/ the earlier version of PencilKit.\ncanvasView.maximumSupportedContentVersion = .version1\n\n\/\/ The tool picker limits the tools that are available so they’re compatible with  \n\/\/ the earlier version of PencilKit.\ntoolPicker.maximumSupportedContentVersion = .version1",
      "language" : "swift"
    }
  ],
  "contentHash" : "f48f5085ece428ecb49bb0516dd6654199050df630b0a3c7bc8dcb7a80d5748c",
  "crawledAt" : "2025-12-04T19:00:52Z",
  "id" : "AD0CE0AE-5C73-49B8-935F-7C5DA060DC41",
  "kind" : "article",
  "language" : "swift",
  "module" : "PencilKit",
  "overview" : "## Overview\n\nIn iPadOS 17, PencilKit becomes even more expressive by introducing the monoline, fountain pen, watercolor, and crayon inks. Earlier versions of the OS can’t render [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] objects that use these inks because the system doesn’t contain a version of PencilKit that supports them. As a result, earlier versions of the OS throw an error when attempting to load a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] object that contains these inks from data.\n\nYou can handle this situation in your app in one of two ways:\n\n### Support backward compatibility using the required content version\n\nTo support backward compatibility, PencilKit introduces content versioning through [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion]. Data model types like [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct], [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKStroke-swift.struct], [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInkingTool-swift.struct], and [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct] contain a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct\/requiredContentVersion] property that PencilKit populates automatically. The value of this property indicates which version of PencilKit is required to load the underlying data:\n\nBefore you save these data model types, check their [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct\/requiredContentVersion] to avoid syncing incompatible data to devices with earlier versions of the OS. For example, instead of syncing a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] that features new inks, you can sync a fallback drawing and show a message that suggests updating the device’s OS to edit the latest drawing.\n\n### Limit available inks using the maximum supported content version\n\nIf your app is unable to support backward compatibility for different versions of the OS, use the [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker\/maximumSupportedContentVersion] property to limit which inks are available in your app. This limitation ensures that the data your app saves is compatible with the earlier version of PencilKit so you can load it on devices with earlier versions of the OS.\n\nIf you take this approach, you need to set [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker\/maximumSupportedContentVersion] on both [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKCanvasView] and [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker]. For example, set this property to [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion\/version1] to limit which kinds of edits the canvas views offers and which tools are available for a person to select when they create PencilKit content in your app.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/PencilKit\/supporting-backward-compatibility-for-ink-types\ncrawled: 2025-12-04T19:00:52Z\n---\n\n# Supporting backward compatibility for ink types\n\n**Article**\n\nLeverage the latest PencilKit features while providing a good user experience in earlier versions of the OS that don’t support those features.\n\n## Overview\n\nIn iPadOS 17, PencilKit becomes even more expressive by introducing the monoline, fountain pen, watercolor, and crayon inks. Earlier versions of the OS can’t render [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] objects that use these inks because the system doesn’t contain a version of PencilKit that supports them. As a result, earlier versions of the OS throw an error when attempting to load a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] object that contains these inks from data.\n\nYou can handle this situation in your app in one of two ways:\n\n- Support backward compatibility. Let people use the new inks when your app runs in the latest version of the OS. Before you save a drawing and sync the data to other devices, check its required content version to determine if it uses the new inks. If it does, provide a good fallback experience for devices that can’t load that drawing, like syncing a fallback drawing that’s compatible with the earlier version of PencilKit.\n- Restrict the use of new features. Limit which inks are available when your app runs in any version of the OS. This approach ensures that the PencilKit data your app saves is compatible with the earlier version of PencilKit, but it doesn’t let people take advantage of the new inks.\n\n### Support backward compatibility using the required content version\n\nTo support backward compatibility, PencilKit introduces content versioning through [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion]. Data model types like [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct], [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKStroke-swift.struct], [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInkingTool-swift.struct], and [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct] contain a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct\/requiredContentVersion] property that PencilKit populates automatically. The value of this property indicates which version of PencilKit is required to load the underlying data:\n\n- [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion\/version1] indicates that the data only contains inks introduced in iPadOS 14, and requires the device to run iPadOS 14 or later.\n- [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion\/version2] indicates that the data contains inks introduced in iPadOS 17, and requires the device to run iPadOS 17 or later.\n\nBefore you save these data model types, check their [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKInk-swift.struct\/requiredContentVersion] to avoid syncing incompatible data to devices with earlier versions of the OS. For example, instead of syncing a [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKDrawing-swift.struct] that features new inks, you can sync a fallback drawing and show a message that suggests updating the device’s OS to edit the latest drawing.\n\n```swift\nfunc updateDrawing(_ drawing: PKDrawing, at index: Int) {\n    if #available(iOS 17.0, *) {\n        \/\/ Before saving, check if this drawing uses new inks and requires a later\n        \/\/ version of PencilKit than might be available on a person’s other devices.\n        switch drawing.requiredContentVersion {\n        case .version2:\n            \/\/ This drawing is incompatible with the earlier version of PencilKit.\n            \/\/ Sync a backward-compatible drawing to display on devices with earlier OS versions.\n            dataModel.drawings[index] = fallbackDrawing\n        default:\n            \/\/ This drawing is compatible with the earlier version of PencilKit.\n            \/\/ Sync the current drawing since there's no need to provide a \n            \/\/ backward-compatible drawing instead.\n            dataModel.drawings[index] = drawing\n        }\n    } else {\n        dataModel.drawings[index] = drawing\n    }\n    saveDataModel()\n}\n```\n\n### Limit available inks using the maximum supported content version\n\nIf your app is unable to support backward compatibility for different versions of the OS, use the [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker\/maximumSupportedContentVersion] property to limit which inks are available in your app. This limitation ensures that the data your app saves is compatible with the earlier version of PencilKit so you can load it on devices with earlier versions of the OS.\n\nIf you take this approach, you need to set [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker\/maximumSupportedContentVersion] on both [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKCanvasView] and [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKToolPicker]. For example, set this property to [doc:\/\/com.apple.pencilkit\/documentation\/PencilKit\/PKContentVersion\/version1] to limit which kinds of edits the canvas views offers and which tools are available for a person to select when they create PencilKit content in your app.\n\n```swift\n\/\/ Set the maximum supported content version for the canvas view and any tool pickers.\n@IBOutlet weak var canvasView: PKCanvasView!\nvar toolPicker = PKToolPicker()\n\n\/\/ The canvas view limits the edits that a person can make so they’re compatible with the \n\/\/ the earlier version of PencilKit.\ncanvasView.maximumSupportedContentVersion = .version1\n\n\/\/ The tool picker limits the tools that are available so they’re compatible with  \n\/\/ the earlier version of PencilKit.\ntoolPicker.maximumSupportedContentVersion = .version1\n```\n\n\n\n## Backward compatibility\n\n- **PKContentVersion**: Constants that represent versions of PencilKit for backward compatibility.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Constants that represent versions of PencilKit for backward compatibility.",
          "name" : "PKContentVersion",
          "url" : "https:\/\/developer.apple.com\/documentation\/PencilKit\/PKContentVersion"
        }
      ],
      "title" : "Backward compatibility"
    }
  ],
  "source" : "appleJSON",
  "title" : "Supporting backward compatibility for ink types",
  "url" : "https:\/\/developer.apple.com\/documentation\/PencilKit\/supporting-backward-compatibility-for-ink-types"
}