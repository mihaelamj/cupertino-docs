{
  "abstract" : "Signs passed-in data with the local device’s private key.",
  "codeExamples" : [

  ],
  "contentHash" : "77b8d7039dfa29047a974c0db30ef14eaa319e42ba88188d2b8e4accc42d91dd",
  "crawledAt" : "2025-12-01T09:26:27Z",
  "declaration" : {
    "code" : "func getSignedIdentityProof(for collaborationHighlight: SWCollaborationHighlight, using data: Data, completionHandler: @escaping (SWPerson.SignedIdentityProof?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "8EA9ED7D-C254-46BD-938D-07BE6A0F2A0F",
  "kind" : "method",
  "module" : "Shared with You",
  "overview" : "## Discussion\n\nWhen a collaboration message is sent, the system sends it individually to each of a person’s devices. Messages identifies each device using a cryptographic public key. Since the goal is to allow access only on this set of devices, the root hash is derived from the set of public keys registered to each recipient.\n\nThe root hash is the root node of a data structure called a Merkle tree. A Merkle tree is a binary tree that is built by performing a sequence of hashing operations. In order to derive an identity for the user based on their public keys, the keys are used as the leaves of this tree. The hashing algorithm used in the Merkle tree ensures that the root node can only be computed from that set of keys.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/getSignedIdentityProof(for:using:completionHandler:)\ncrawled: 2025-12-01T09:26:27Z\n---\n\n# getSignedIdentityProof(for:using:completionHandler:)\n\n**Instance Method**\n\nSigns passed-in data with the local device’s private key.\n\n## Declaration\n\n```swift\nfunc getSignedIdentityProof(for collaborationHighlight: SWCollaborationHighlight, using data: Data, completionHandler: @escaping (SWPerson.SignedIdentityProof?, (any Error)?) -> Void)\n```\n\n```swift\nfunc signedIdentityProof(for collaborationHighlight: SWCollaborationHighlight, using data: Data) async throws -> SWPerson.SignedIdentityProof\n```\n\n## Parameters\n\n- **collaborationHighlight**: The collaboration highlight that corresponds to the `data`.\n- **data**: The `NSData` that the system signs.\n- **completionHandler**: Returns the signed data along with proof of inclusion for the Merkle tree if signing succeeds, otherwise an error. The system invokes the completion handler on the main thread.\n\n## Discussion\n\nWhen a collaboration message is sent, the system sends it individually to each of a person’s devices. Messages identifies each device using a cryptographic public key. Since the goal is to allow access only on this set of devices, the root hash is derived from the set of public keys registered to each recipient.\n\nThe root hash is the root node of a data structure called a Merkle tree. A Merkle tree is a binary tree that is built by performing a sequence of hashing operations. In order to derive an identity for the user based on their public keys, the keys are used as the leaves of this tree. The hashing algorithm used in the Merkle tree ensures that the root node can only be computed from that set of keys.\n\n\n\n## Retrieving collaboration highlights\n\n- **isSystemCollaborationSupportAvailable**: A Boolean value that represents full support for Messages collaboration features.\n- **collaborationHighlight(forIdentifier:)**: Returns a collaboration highlight for a specified collaboration identifier.\n- **collaborationHighlight(forIdentifier:)**: Returns a collaboration highlight for a specified identifier string.\n- **getCollaborationHighlight(for:completionHandler:)**: Returns a collaboration highlight for a specified URL.\n- **getHighlightFor(_:completionHandler:)**: Returns a highlight for a specified URL.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that represents full support for Messages collaboration features.",
          "name" : "isSystemCollaborationSupportAvailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/isSystemCollaborationSupportAvailable"
        },
        {
          "description" : "Returns a collaboration highlight for a specified collaboration identifier.",
          "name" : "collaborationHighlight(forIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/collaborationHighlight(forIdentifier:)-23ytv"
        },
        {
          "description" : "Returns a collaboration highlight for a specified identifier string.",
          "name" : "collaborationHighlight(forIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/collaborationHighlight(forIdentifier:)-87lhr"
        },
        {
          "description" : "Returns a collaboration highlight for a specified URL.",
          "name" : "getCollaborationHighlight(for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/getCollaborationHighlight(for:completionHandler:)"
        },
        {
          "description" : "Returns a highlight for a specified URL.",
          "name" : "getHighlightFor(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/getHighlightFor(_:completionHandler:)"
        }
      ],
      "title" : "Retrieving collaboration highlights"
    }
  ],
  "source" : "appleJSON",
  "title" : "getSignedIdentityProof(for:using:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SharedWithYou\/SWHighlightCenter\/getSignedIdentityProof(for:using:completionHandler:)"
}