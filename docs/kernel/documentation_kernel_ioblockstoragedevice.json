{
  "abstract" : "A generic block storage device abstraction.",
  "codeExamples" : [

  ],
  "contentHash" : "ad1a1e467083f2a63a8b539c449d4ddc4e0da7c6960a31a90e2e607464394a14",
  "crawledAt" : "2025-12-07T02:43:30Z",
  "declaration" : {
    "code" : "class IOBlockStorageDevice : IOService",
    "language" : "swift"
  },
  "id" : "7E260C68-DCA6-4A21-9B62-B712BDBFEE19",
  "kind" : "class",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Overview\n\nThe IOBlockStorageDevice class exports the generic block storage protocol, independent of the physical connection protocol (e.g. SCSI, ATA, USB), forwarding all requests to its provider (the Transport Driver). Though the nub does no actual processing of requests, it is necessary in a C++ environment. The Transport Driver can be of any type, as long as it inherits from IOService. Because Transport Drivers needn't derive from a type known to IOBlockStorageDriver, it isn't possible for IOBlockStorageDriver to include the appropriate header file to allow direct communication with the Transport Driver. Thus we achieve polymorphism by having the Transport Driver instantiate a subclass of IOBlockStorageDevice. A typical implementation for a concrete subclass of IOBlockStorageDevice simply relays all methods to its provider (the Transport Driver), which implements the protocol- and device-specific behavior.\n\nAll pure-virtual functions must be implemented by the Transport Driver, which is responsible for instantiating the Nub.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\ncrawled: 2025-12-07T02:43:30Z\n---\n\n# IOBlockStorageDevice\n\n**Class**\n\nA generic block storage device abstraction.\n\n## Declaration\n\n```swift\nclass IOBlockStorageDevice : IOService\n```\n\n## Overview\n\nThe IOBlockStorageDevice class exports the generic block storage protocol, independent of the physical connection protocol (e.g. SCSI, ATA, USB), forwarding all requests to its provider (the Transport Driver). Though the nub does no actual processing of requests, it is necessary in a C++ environment. The Transport Driver can be of any type, as long as it inherits from IOService. Because Transport Drivers needn't derive from a type known to IOBlockStorageDriver, it isn't possible for IOBlockStorageDriver to include the appropriate header file to allow direct communication with the Transport Driver. Thus we achieve polymorphism by having the Transport Driver instantiate a subclass of IOBlockStorageDevice. A typical implementation for a concrete subclass of IOBlockStorageDevice simply relays all methods to its provider (the Transport Driver), which implements the protocol- and device-specific behavior.\n\nAll pure-virtual functions must be implemented by the Transport Driver, which is responsible for instantiating the Nub.\n\n## Miscellaneous\n\n- **doAsyncReadWrite**: Start an asynchronous read or write operation.\n- **doEjectMedia**: Eject the media.\n- **doFormatMedia**: Format the media to the specified byte capacity.\n- **doGetFormatCapacities**: Return the allowable formatting byte capacities.\n- **doSynchronizeCache**: Force data blocks in the hardware's buffer to be flushed to the media.\n- **doUnmap**: Delete unused data blocks from the media.\n- **getAdditionalDeviceInfoString**: Return additional informational string for the device.\n- **getProductString**: Return Product Name string for the device.\n- **getRevisionString**: Return Product Revision string for the device.\n- **getVendorString**: Return Vendor Name string for the device.\n- **getWriteCacheState**: Reports the current write cache state of the device.\n- **init**\n- **reportBlockSize**: Report the block size for the device, in bytes.\n- **reportEjectability**: Report if the media is ejectable under software control.\n- **reportMaxValidBlock**: Report the highest valid block for the device.\n- **reportMediaState**: Report the device's media state.\n- **reportRemovability**: Report whether the media is removable or not.\n- **reportWriteProtection**: Report whether the media is write-protected or not.\n- **requestIdle**: Request that the device enter an idle state.\n- **setWriteCacheState**: Sets the write cache state of the device.\n\n## Instance Methods\n\n- **doAsyncReadWrite**\n- **doDiscard**\n- **doEjectMedia**\n- **doFormatMedia**\n- **doGetFormatCapacities**\n- **doGetProvisionStatus**\n- **doLockUnlockMedia**\n- **doSetPriority**\n- **doSynchronize**\n- **doSynchronizeCache**\n- **doUnmap**\n- **getAdditionalDeviceInfoString**\n- **getMetaClass**\n- **getProductString**\n- **getProperty**\n- **getRevisionString**\n- **getVendorString**\n- **getWriteCacheState**\n- **init**\n- **reportBlockSize**\n- **reportEjectability**\n- **reportLockability**\n- **reportMaxValidBlock**\n- **reportMediaState**\n- **reportPollRequirements**\n- **reportRemovability**\n- **reportWriteProtection**\n- **requestIdle**\n- **setProperties**\n- **setWriteCacheState**\n\n## Devices\n\n- **IOBlockStorageServices**\n- **IOCDBlockStorageDevice**: The IOCDBlockStorageDevice class is a generic CD block storage device abstraction.\n- **IOBDServices**\n\n## Inherits From\n\n- IOService\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Start an asynchronous read or write operation.",
          "name" : "doAsyncReadWrite",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811665-doasyncreadwrite"
        },
        {
          "description" : "Eject the media.",
          "name" : "doEjectMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811672-doejectmedia"
        },
        {
          "description" : "Format the media to the specified byte capacity.",
          "name" : "doFormatMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811680-doformatmedia"
        },
        {
          "description" : "Return the allowable formatting byte capacities.",
          "name" : "doGetFormatCapacities",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811684-dogetformatcapacities"
        },
        {
          "description" : "Force data blocks in the hardware's buffer to be flushed to the media.",
          "name" : "doSynchronizeCache",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811691-dosynchronizecache"
        },
        {
          "description" : "Delete unused data blocks from the media.",
          "name" : "doUnmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811698-dounmap"
        },
        {
          "description" : "Return additional informational string for the device.",
          "name" : "getAdditionalDeviceInfoString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811705-getadditionaldeviceinfostring"
        },
        {
          "description" : "Return Product Name string for the device.",
          "name" : "getProductString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811712-getproductstring"
        },
        {
          "description" : "Return Product Revision string for the device.",
          "name" : "getRevisionString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811717-getrevisionstring"
        },
        {
          "description" : "Return Vendor Name string for the device.",
          "name" : "getVendorString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811724-getvendorstring"
        },
        {
          "description" : "Reports the current write cache state of the device.",
          "name" : "getWriteCacheState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811731-getwritecachestate"
        },
        {
          "description" : "",
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811746-init"
        },
        {
          "description" : "Report the block size for the device, in bytes.",
          "name" : "reportBlockSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811753-reportblocksize"
        },
        {
          "description" : "Report if the media is ejectable under software control.",
          "name" : "reportEjectability",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811761-reportejectability"
        },
        {
          "description" : "Report the highest valid block for the device.",
          "name" : "reportMaxValidBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811771-reportmaxvalidblock"
        },
        {
          "description" : "Report the device's media state.",
          "name" : "reportMediaState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811780-reportmediastate"
        },
        {
          "description" : "Report whether the media is removable or not.",
          "name" : "reportRemovability",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811787-reportremovability"
        },
        {
          "description" : "Report whether the media is write-protected or not.",
          "name" : "reportWriteProtection",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811796-reportwriteprotection"
        },
        {
          "description" : "Request that the device enter an idle state.",
          "name" : "requestIdle",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811804-requestidle"
        },
        {
          "description" : "Sets the write cache state of the device.",
          "name" : "setWriteCacheState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1811812-setwritecachestate"
        }
      ],
      "title" : "Miscellaneous"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "doAsyncReadWrite",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568473-doasyncreadwrite"
        },
        {
          "name" : "doDiscard",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568461-dodiscard"
        },
        {
          "name" : "doEjectMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568469-doejectmedia"
        },
        {
          "name" : "doFormatMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568474-doformatmedia"
        },
        {
          "name" : "doGetFormatCapacities",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568458-dogetformatcapacities"
        },
        {
          "name" : "doGetProvisionStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1646351-dogetprovisionstatus"
        },
        {
          "name" : "doLockUnlockMedia",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568449-dolockunlockmedia"
        },
        {
          "name" : "doSetPriority",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568459-dosetpriority"
        },
        {
          "name" : "doSynchronize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568462-dosynchronize"
        },
        {
          "name" : "doSynchronizeCache",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568444-dosynchronizecache"
        },
        {
          "name" : "doUnmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568476-dounmap"
        },
        {
          "name" : "getAdditionalDeviceInfoString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568452-getadditionaldeviceinfostring"
        },
        {
          "name" : "getMetaClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568460-getmetaclass"
        },
        {
          "name" : "getProductString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568467-getproductstring"
        },
        {
          "name" : "getProperty",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568466-getproperty"
        },
        {
          "name" : "getRevisionString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568447-getrevisionstring"
        },
        {
          "name" : "getVendorString",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568480-getvendorstring"
        },
        {
          "name" : "getWriteCacheState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568451-getwritecachestate"
        },
        {
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568471-init"
        },
        {
          "name" : "reportBlockSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568477-reportblocksize"
        },
        {
          "name" : "reportEjectability",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568454-reportejectability"
        },
        {
          "name" : "reportLockability",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568445-reportlockability"
        },
        {
          "name" : "reportMaxValidBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568465-reportmaxvalidblock"
        },
        {
          "name" : "reportMediaState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568475-reportmediastate"
        },
        {
          "name" : "reportPollRequirements",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568457-reportpollrequirements"
        },
        {
          "name" : "reportRemovability",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568478-reportremovability"
        },
        {
          "name" : "reportWriteProtection",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568463-reportwriteprotection"
        },
        {
          "name" : "requestIdle",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568442-requestidle"
        },
        {
          "name" : "setProperties",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568464-setproperties"
        },
        {
          "name" : "setWriteCacheState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice\/1568468-setwritecachestate"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOBlockStorageServices",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstorageservices"
        },
        {
          "description" : "The IOCDBlockStorageDevice class is a generic CD block storage device abstraction.",
          "name" : "IOCDBlockStorageDevice",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iocdblockstoragedevice"
        },
        {
          "name" : "IOBDServices",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobdservices"
        }
      ],
      "title" : "Devices"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOService"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "IOBlockStorageDevice",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioblockstoragedevice"
}