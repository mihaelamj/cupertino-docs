{
  "abstract" : "Call down to a filesystem to synchronize a file with on-disk state.",
  "codeExamples" : [

  ],
  "contentHash" : "830df3b2d110ff1ed946b9e9596638a537511f934ca68eef39231d1a396691d7",
  "crawledAt" : "2025-12-06T14:54:41Z",
  "declaration" : {
    "code" : "errno_t VNOP_FSYNC(vnode_t vp, int waitfor, vfs_context_t ctx);",
    "language" : "swift"
  },
  "id" : "55E41E4E-86C9-4239-9C9C-1B357EA7D529",
  "kind" : "function",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Return Value\n\n0 for success, else an error code.\n\n## Discussion\n\nVNOP_FSYNC is called whenever we need to make sure that a file's data has been pushed to backing store, for example when recycling; it is also the heart of the fsync() system call.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/1586212-vnop_fsync\ncrawled: 2025-12-06T14:54:41Z\n---\n\n# VNOP_FSYNC\n\n**Function**\n\nCall down to a filesystem to synchronize a file with on-disk state.\n\n## Declaration\n\n```swift\nerrno_t VNOP_FSYNC(vnode_t vp, int waitfor, vfs_context_t ctx);\n```\n\n## Parameters\n\n- **vp**: The vnode whose data to flush to backing store.\n- **ctx**: Context to authenticate for fsync request.\n\n## Return Value\n\n0 for success, else an error code.\n\n## Discussion\n\nVNOP_FSYNC is called whenever we need to make sure that a file's data has been pushed to backing store, for example when recycling; it is also the heart of the fsync() system call.\n\n## Support\n\n- **nop_access**\n- **nop_advlock**\n- **nop_allocate**\n- **nop_blktooff**\n- **nop_blockmap**\n- **nop_bwrite**\n- **nop_close**\n- **nop_copyfile**\n- **nop_create**\n- **nop_exchange**\n- **nop_fsync**\n- **nop_getattr**\n- **nop_inactive**\n- **nop_ioctl**\n- **nop_link**\n- **nop_mkdir**\n- **nop_mknod**\n- **nop_mmap**\n- **nop_offtoblk**\n- **nop_open**\n- **nop_pagein**\n- **nop_pageout**\n- **nop_pathconf**\n- **nop_read**\n- **nop_readdir**\n- **nop_readdirattr**\n- **nop_readlink**\n- **nop_reclaim**\n- **nop_remove**\n- **nop_rename**\n- **nop_revoke**\n- **nop_rmdir**\n- **nop_searchfs**\n- **nop_select**\n- **nop_setattr**\n- **nop_strategy**\n- **nop_symlink**\n- **nop_whiteout**\n- **nop_write**\n- **err_access**\n- **err_advlock**\n- **err_allocate**\n- **err_blktooff**\n- **err_blockmap**\n- **err_bwrite**\n- **err_close**\n- **err_copyfile**\n- **err_create**\n- **err_exchange**\n- **err_fsync**\n- **err_getattr**\n- **err_inactive**\n- **err_ioctl**\n- **err_link**\n- **err_mkdir**\n- **err_mknod**\n- **err_mmap**\n- **err_offtoblk**\n- **err_open**\n- **err_pagein**\n- **err_pageout**\n- **err_pathconf**\n- **err_read**\n- **err_readdir**\n- **err_readdirattr**\n- **err_readlink**\n- **err_reclaim**\n- **err_remove**\n- **err_rename**\n- **err_revoke**\n- **err_rmdir**\n- **err_searchfs**\n- **err_select**\n- **err_setattr**\n- **err_strategy**\n- **err_symlink**\n- **err_whiteout**\n- **err_write**\n- **advisory_read**\n- **advisory_read_ext**\n- **VNOP_BWRITE**: Write a buffer to backing store.\n- **VNOP_GETXATTR**: Get extended file attributes.\n- **VNOP_IOCTL**: Call down to a filesystem or device driver to execute various control operations on or request data about a file.\n- **VNOP_READ**: Call down to a filesystem to read file data.\n- **VNOP_SETXATTR**: Set extended file attributes.\n- **VNOP_STRATEGY**: Initiate I\/O on a file (both read and write).\n- **VNOP_WRITE**: Call down to the filesystem to write file data.\n- **cache_enter**: Add a (name,vnode) entry to the VFS namecache.\n- **cache_lookup**: Check for a filename in a directory using the VFS name cache.\n- **cache_purge**: Remove all data relating to a vnode from the namecache.\n- **cache_purge_negatives**: Remove all negative cache entries which are children of a given vnode.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "name" : "nop_access",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523716-nop_access"
        },
        {
          "name" : "nop_advlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523779-nop_advlock"
        },
        {
          "name" : "nop_allocate",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523773-nop_allocate"
        },
        {
          "name" : "nop_blktooff",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523748-nop_blktooff"
        },
        {
          "name" : "nop_blockmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523729-nop_blockmap"
        },
        {
          "name" : "nop_bwrite",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523755-nop_bwrite"
        },
        {
          "name" : "nop_close",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523718-nop_close"
        },
        {
          "name" : "nop_copyfile",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523720-nop_copyfile"
        },
        {
          "name" : "nop_create",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523722-nop_create"
        },
        {
          "name" : "nop_exchange",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523694-nop_exchange"
        },
        {
          "name" : "nop_fsync",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523723-nop_fsync"
        },
        {
          "name" : "nop_getattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523698-nop_getattr"
        },
        {
          "name" : "nop_inactive",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523711-nop_inactive"
        },
        {
          "name" : "nop_ioctl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523715-nop_ioctl"
        },
        {
          "name" : "nop_link",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523693-nop_link"
        },
        {
          "name" : "nop_mkdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523677-nop_mkdir"
        },
        {
          "name" : "nop_mknod",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523731-nop_mknod"
        },
        {
          "name" : "nop_mmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523753-nop_mmap"
        },
        {
          "name" : "nop_offtoblk",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523783-nop_offtoblk"
        },
        {
          "name" : "nop_open",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523733-nop_open"
        },
        {
          "name" : "nop_pagein",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523686-nop_pagein"
        },
        {
          "name" : "nop_pageout",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523770-nop_pageout"
        },
        {
          "name" : "nop_pathconf",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523727-nop_pathconf"
        },
        {
          "name" : "nop_read",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523765-nop_read"
        },
        {
          "name" : "nop_readdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523710-nop_readdir"
        },
        {
          "name" : "nop_readdirattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523717-nop_readdirattr"
        },
        {
          "name" : "nop_readlink",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523774-nop_readlink"
        },
        {
          "name" : "nop_reclaim",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523708-nop_reclaim"
        },
        {
          "name" : "nop_remove",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523713-nop_remove"
        },
        {
          "name" : "nop_rename",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523741-nop_rename"
        },
        {
          "name" : "nop_revoke",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523764-nop_revoke"
        },
        {
          "name" : "nop_rmdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523767-nop_rmdir"
        },
        {
          "name" : "nop_searchfs",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523744-nop_searchfs"
        },
        {
          "name" : "nop_select",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523738-nop_select"
        },
        {
          "name" : "nop_setattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523719-nop_setattr"
        },
        {
          "name" : "nop_strategy",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523746-nop_strategy"
        },
        {
          "name" : "nop_symlink",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523696-nop_symlink"
        },
        {
          "name" : "nop_whiteout",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523682-nop_whiteout"
        },
        {
          "name" : "nop_write",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523695-nop_write"
        },
        {
          "name" : "err_access",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523742-err_access"
        },
        {
          "name" : "err_advlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523766-err_advlock"
        },
        {
          "name" : "err_allocate",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523740-err_allocate"
        },
        {
          "name" : "err_blktooff",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523777-err_blktooff"
        },
        {
          "name" : "err_blockmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523771-err_blockmap"
        },
        {
          "name" : "err_bwrite",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523737-err_bwrite"
        },
        {
          "name" : "err_close",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523768-err_close"
        },
        {
          "name" : "err_copyfile",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523763-err_copyfile"
        },
        {
          "name" : "err_create",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523690-err_create"
        },
        {
          "name" : "err_exchange",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523683-err_exchange"
        },
        {
          "name" : "err_fsync",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523761-err_fsync"
        },
        {
          "name" : "err_getattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523757-err_getattr"
        },
        {
          "name" : "err_inactive",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523681-err_inactive"
        },
        {
          "name" : "err_ioctl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523684-err_ioctl"
        },
        {
          "name" : "err_link",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523732-err_link"
        },
        {
          "name" : "err_mkdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523751-err_mkdir"
        },
        {
          "name" : "err_mknod",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523750-err_mknod"
        },
        {
          "name" : "err_mmap",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523704-err_mmap"
        },
        {
          "name" : "err_offtoblk",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523781-err_offtoblk"
        },
        {
          "name" : "err_open",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523735-err_open"
        },
        {
          "name" : "err_pagein",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523688-err_pagein"
        },
        {
          "name" : "err_pageout",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523700-err_pageout"
        },
        {
          "name" : "err_pathconf",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523679-err_pathconf"
        },
        {
          "name" : "err_read",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523775-err_read"
        },
        {
          "name" : "err_readdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523691-err_readdir"
        },
        {
          "name" : "err_readdirattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523705-err_readdirattr"
        },
        {
          "name" : "err_readlink",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523739-err_readlink"
        },
        {
          "name" : "err_reclaim",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523726-err_reclaim"
        },
        {
          "name" : "err_remove",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523769-err_remove"
        },
        {
          "name" : "err_rename",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523706-err_rename"
        },
        {
          "name" : "err_revoke",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523736-err_revoke"
        },
        {
          "name" : "err_rmdir",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523772-err_rmdir"
        },
        {
          "name" : "err_searchfs",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523702-err_searchfs"
        },
        {
          "name" : "err_select",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523714-err_select"
        },
        {
          "name" : "err_setattr",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523786-err_setattr"
        },
        {
          "name" : "err_strategy",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523730-err_strategy"
        },
        {
          "name" : "err_symlink",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523759-err_symlink"
        },
        {
          "name" : "err_whiteout",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523785-err_whiteout"
        },
        {
          "name" : "err_write",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1523725-err_write"
        },
        {
          "name" : "advisory_read",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1463716-advisory_read"
        },
        {
          "name" : "advisory_read_ext",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1463707-advisory_read_ext"
        },
        {
          "description" : "Write a buffer to backing store.",
          "name" : "VNOP_BWRITE",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1585961-vnop_bwrite"
        },
        {
          "description" : "Get extended file attributes.",
          "name" : "VNOP_GETXATTR",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586289-vnop_getxattr"
        },
        {
          "description" : "Call down to a filesystem or device driver to execute various control operations on or request data about a file.",
          "name" : "VNOP_IOCTL",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586258-vnop_ioctl"
        },
        {
          "description" : "Call down to a filesystem to read file data.",
          "name" : "VNOP_READ",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586326-vnop_read"
        },
        {
          "description" : "Set extended file attributes.",
          "name" : "VNOP_SETXATTR",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586200-vnop_setxattr"
        },
        {
          "description" : "Initiate I\/O on a file (both read and write).",
          "name" : "VNOP_STRATEGY",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586257-vnop_strategy"
        },
        {
          "description" : "Call down to the filesystem to write file data.",
          "name" : "VNOP_WRITE",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586129-vnop_write"
        },
        {
          "description" : "Add a (name,vnode) entry to the VFS namecache.",
          "name" : "cache_enter",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1562285-cache_enter"
        },
        {
          "description" : "Check for a filename in a directory using the VFS name cache.",
          "name" : "cache_lookup",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1562195-cache_lookup"
        },
        {
          "description" : "Remove all data relating to a vnode from the namecache.",
          "name" : "cache_purge",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1562225-cache_purge"
        },
        {
          "description" : "Remove all negative cache entries which are children of a given vnode.",
          "name" : "cache_purge_negatives",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1562456-cache_purge_negatives"
        }
      ],
      "title" : "Support"
    }
  ],
  "source" : "appleJSON",
  "title" : "VNOP_FSYNC",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1586212-vnop_fsync"
}