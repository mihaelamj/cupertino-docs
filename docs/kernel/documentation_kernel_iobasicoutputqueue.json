{
  "abstract" : "A concrete implementation of an IOOutputQueue.",
  "codeExamples" : [

  ],
  "contentHash" : "ce5ce505a76fe615dae069215e3d050ed7833fb27e28491635129c4112970219",
  "crawledAt" : "2025-12-06T23:18:12Z",
  "declaration" : {
    "code" : "class IOBasicOutputQueue : IOOutputQueue",
    "language" : "swift"
  },
  "id" : "EE39D93D-9DC0-4336-968E-A8838EE17067",
  "kind" : "class",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Overview\n\nThis object uses a mutex to protect the packet queue from multiple producers. A single producer is promoted to become a consumer when the queue is not active. Otherwise, the producer will simply queue the packet and return without blocking.\n\nThe flow of packets from the queue to its target can be controlled by calling methods such as start(), stop(), or service(). The target is expected to call those methods from a single threaded context, i.e. the work loop context in a network driver. In addition, the target must also return a status for every packet delivered by the consumer thread. This return value is the only mechanism that the target can use to manage the queue when it is running on the consumer thread.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\ncrawled: 2025-12-06T23:18:12Z\n---\n\n# IOBasicOutputQueue\n\n**Class**\n\nA concrete implementation of an IOOutputQueue.\n\n## Declaration\n\n```swift\nclass IOBasicOutputQueue : IOOutputQueue\n```\n\n## Overview\n\nThis object uses a mutex to protect the packet queue from multiple producers. A single producer is promoted to become a consumer when the queue is not active. Otherwise, the producer will simply queue the packet and return without blocking.\n\nThe flow of packets from the queue to its target can be controlled by calling methods such as start(), stop(), or service(). The target is expected to call those methods from a single threaded context, i.e. the work loop context in a network driver. In addition, the target must also return a status for every packet delivered by the consumer thread. This return value is the only mechanism that the target can use to manage the queue when it is running on the consumer thread.\n\n## Miscellaneous\n\n- **enqueue**: Adds a packet, or a chain of packets, to the queue.\n- **flush**: Drops and frees all packets currently held by the queue.\n- **free**: Frees the IOBasicOutputQueue object.\n- **getCapacity**: Gets the number of packets that the queue can hold.\n- **getDropCount**: Gets the number of packets dropped by the queue.\n- **getOutputCount**: Gets the number of packets accepted by the target.\n- **getRetryCount**: Gets the number of instances when the target has refused to accept the packet provided.\n- **getSize**: Gets the number of packets currently held in the queue.\n- **getStallCount**: Gets the number of instances when the target has stalled the queue.\n- **getState**: Gets the state of the queue object.\n- **getStatisticsData**: Returns an IONetworkData object containing statistics counters updated by the queue.\n- **handleNetworkDataAccess**: Handles an external access to the IONetworkData object returned by getStatisticsData().\n- **init**: Initializes an IOBasicOutputQueue object.\n- **output**: Transfers all packets in the mbuf queue to the target.\n- **service**: Services a queue that was stalled by the target.\n- **serviceThread**: Provides an implementation for the serviceThread() method defined in IOOutputQueue.\n- **setCapacity**: Changes the number of packets that the queue can hold before it begins to drop excess packets.\n- **start**: Starts up the packet flow between the queue and its target.\n- **stop**: Stops the packet flow between the queue and its target.\n- **withTarget(IONetworkController *, UInt32)**: Factory method that constructs and initializes an IOBasicOutputQueue object.\n- **withTarget(IONetworkController *, UInt32, UInt32)**: Factory method that constructs and initializes an IOBasicOutputQueue object.\n- **withTarget(OSObject *, IOOutputAction, UInt32)**: Factory method that constructs and initializes an IOBasicOutputQueue object.\n- **withTarget(OSObject *, IOOutputAction, UInt32, UInt32)**: Factory method that constructs and initializes an IOBasicOutputQueue object.\n\n## Constants\n\n- **GetStateBits**: The bits in the value returned by getState().\n- **ServiceAsync**: The option bits recognized by service().\n\n## Instance Methods\n\n- **dequeue**\n- **enqueue**\n- **flush**\n- **free**\n- **getCapacity**\n- **getDropCount**\n- **getMetaClass**\n- **getOutputCount**\n- **getRetryCount**\n- **getSize**\n- **getStallCount**\n- **getState**\n- **getStatisticsData**\n- **handleNetworkDataAccess**\n- **output**\n- **service**\n- **serviceThread**\n- **setCapacity**\n- **start**\n- **stop**\n\n## Type Methods\n\n- **dispatchNetworkDataNotification**\n- **withTarget**\n- **withTarget**\n\n## Output Queues\n\n- **IOGatedOutputQueue**: An extension of an IOBasicOutputQueue.\n- **IOOutputQueue**: A packet queue that supports multiple producers and a single consumer.\n\n## Inherits From\n\n- IOOutputQueue\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds a packet, or a chain of packets, to the queue.",
          "name" : "enqueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811623-enqueue"
        },
        {
          "description" : "Drops and frees all packets currently held by the queue.",
          "name" : "flush",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811630-flush"
        },
        {
          "description" : "Frees the IOBasicOutputQueue object.",
          "name" : "free",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811636-free"
        },
        {
          "description" : "Gets the number of packets that the queue can hold.",
          "name" : "getCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811642-getcapacity"
        },
        {
          "description" : "Gets the number of packets dropped by the queue.",
          "name" : "getDropCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811646-getdropcount"
        },
        {
          "description" : "Gets the number of packets accepted by the target.",
          "name" : "getOutputCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811651-getoutputcount"
        },
        {
          "description" : "Gets the number of instances when the target has refused to accept the packet provided.",
          "name" : "getRetryCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811660-getretrycount"
        },
        {
          "description" : "Gets the number of packets currently held in the queue.",
          "name" : "getSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811664-getsize"
        },
        {
          "description" : "Gets the number of instances when the target has stalled the queue.",
          "name" : "getStallCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811671-getstallcount"
        },
        {
          "description" : "Gets the state of the queue object.",
          "name" : "getState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811677-getstate"
        },
        {
          "description" : "Returns an IONetworkData object containing statistics counters updated by the queue.",
          "name" : "getStatisticsData",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811683-getstatisticsdata"
        },
        {
          "description" : "Handles an external access to the IONetworkData object returned by getStatisticsData().",
          "name" : "handleNetworkDataAccess",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811690-handlenetworkdataaccess"
        },
        {
          "description" : "Initializes an IOBasicOutputQueue object.",
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811696-init"
        },
        {
          "description" : "Transfers all packets in the mbuf queue to the target.",
          "name" : "output",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811702-output"
        },
        {
          "description" : "Services a queue that was stalled by the target.",
          "name" : "service",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811708-service"
        },
        {
          "description" : "Provides an implementation for the serviceThread() method defined in IOOutputQueue.",
          "name" : "serviceThread",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811713-servicethread"
        },
        {
          "description" : "Changes the number of packets that the queue can hold before it begins to drop excess packets.",
          "name" : "setCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811721-setcapacity"
        },
        {
          "description" : "Starts up the packet flow between the queue and its target.",
          "name" : "start",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811726-start"
        },
        {
          "description" : "Stops the packet flow between the queue and its target.",
          "name" : "stop",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811734-stop"
        },
        {
          "description" : "Factory method that constructs and initializes an IOBasicOutputQueue object.",
          "name" : "withTarget(IONetworkController *, UInt32)",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811748-withtarget"
        },
        {
          "description" : "Factory method that constructs and initializes an IOBasicOutputQueue object.",
          "name" : "withTarget(IONetworkController *, UInt32, UInt32)",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811755-withtarget"
        },
        {
          "description" : "Factory method that constructs and initializes an IOBasicOutputQueue object.",
          "name" : "withTarget(OSObject *, IOOutputAction, UInt32)",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811763-withtarget"
        },
        {
          "description" : "Factory method that constructs and initializes an IOBasicOutputQueue object.",
          "name" : "withTarget(OSObject *, IOOutputAction, UInt32, UInt32)",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1811770-withtarget"
        }
      ],
      "title" : "Miscellaneous"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The bits in the value returned by getState().",
          "name" : "GetStateBits",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/getstatebits"
        },
        {
          "description" : "The option bits recognized by service().",
          "name" : "ServiceAsync",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/serviceasync"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "dequeue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567089-dequeue"
        },
        {
          "name" : "enqueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567090-enqueue"
        },
        {
          "name" : "flush",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567093-flush"
        },
        {
          "name" : "free",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567099-free"
        },
        {
          "name" : "getCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567102-getcapacity"
        },
        {
          "name" : "getDropCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567083-getdropcount"
        },
        {
          "name" : "getMetaClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567085-getmetaclass"
        },
        {
          "name" : "getOutputCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567084-getoutputcount"
        },
        {
          "name" : "getRetryCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567098-getretrycount"
        },
        {
          "name" : "getSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567096-getsize"
        },
        {
          "name" : "getStallCount",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567081-getstallcount"
        },
        {
          "name" : "getState",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567095-getstate"
        },
        {
          "name" : "getStatisticsData",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567086-getstatisticsdata"
        },
        {
          "name" : "handleNetworkDataAccess",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567097-handlenetworkdataaccess"
        },
        {
          "name" : "output",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567088-output"
        },
        {
          "name" : "service",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567082-service"
        },
        {
          "name" : "serviceThread",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567087-servicethread"
        },
        {
          "name" : "setCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567103-setcapacity"
        },
        {
          "name" : "start",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567094-start"
        },
        {
          "name" : "stop",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567100-stop"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "dispatchNetworkDataNotification",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567091-dispatchnetworkdatanotification"
        },
        {
          "name" : "withTarget",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/1567101-withtarget"
        },
        {
          "name" : "withTarget",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue\/3516604-withtarget"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An extension of an IOBasicOutputQueue.",
          "name" : "IOGatedOutputQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iogatedoutputqueue"
        },
        {
          "description" : "A packet queue that supports multiple producers and a single consumer.",
          "name" : "IOOutputQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iooutputqueue"
        }
      ],
      "title" : "Output Queues"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOOutputQueue"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "IOBasicOutputQueue",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobasicoutputqueue"
}