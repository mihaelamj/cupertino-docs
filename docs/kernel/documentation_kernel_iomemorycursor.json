{
  "abstract" : "A mechanism to convert memory references to physical addresses.",
  "codeExamples" : [

  ],
  "contentHash" : "d1b668bc8eaa33a8baf6775661d833e49d86524f0856db0e0dc155e738ccdb05",
  "crawledAt" : "2025-12-06T23:16:56Z",
  "declaration" : {
    "code" : "class IOMemoryCursor : OSObject",
    "language" : "swift"
  },
  "id" : "339FB17F-F141-4893-938A-626A5809D398",
  "kind" : "class",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Overview\n\nThe IOMemoryCursor declares the super class that all specific memory cursors must inherit from, but a memory cursor can be created without a specific format subclass by just providing a segment function to the initializers. This class does the difficult stuff of dividing a memory descriptor into a physical scatter\/gather list appropriate for the target hardware.\n\nA driver is expected to create a memory cursor and configure it to the limitations of its DMA hardware; for instance the memory cursor used by the FireWire SBP-2 protocol has a maximum physical segment size of 2^16 - 1 but the actual transfer size is unlimited. Thus it would create a cursor with a maxSegmentSize of 65535 and a maxTransfer size of UINT_MAX. It would also provide a SegmentFunction that can output a pagelist entry.\n\nBelow is the simplest example of a SegmentFunction:\n\nvoid IONaturalMemoryCursor::outputSegment(PhysicalSegment segment,\n\nvoid * outSegments,\n\nUInt32 outSegmentIndex)\n\n{\n\n((PhysicalSegment *) outSegments)[outSegmentIndex] = segment;\n\n}",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\ncrawled: 2025-12-06T23:16:56Z\n---\n\n# IOMemoryCursor\n\n**Class**\n\nA mechanism to convert memory references to physical addresses.\n\n## Declaration\n\n```swift\nclass IOMemoryCursor : OSObject\n```\n\n## Overview\n\nThe IOMemoryCursor declares the super class that all specific memory cursors must inherit from, but a memory cursor can be created without a specific format subclass by just providing a segment function to the initializers. This class does the difficult stuff of dividing a memory descriptor into a physical scatter\/gather list appropriate for the target hardware.\n\nA driver is expected to create a memory cursor and configure it to the limitations of its DMA hardware; for instance the memory cursor used by the FireWire SBP-2 protocol has a maximum physical segment size of 2^16 - 1 but the actual transfer size is unlimited. Thus it would create a cursor with a maxSegmentSize of 65535 and a maxTransfer size of UINT_MAX. It would also provide a SegmentFunction that can output a pagelist entry.\n\nBelow is the simplest example of a SegmentFunction:\n\nvoid IONaturalMemoryCursor::outputSegment(PhysicalSegment segment,\n\nvoid * outSegments,\n\nUInt32 outSegmentIndex)\n\n{\n\n((PhysicalSegment *) outSegments)[outSegmentIndex] = segment;\n\n}\n\n## Miscellaneous\n\n- **genPhysicalSegments**: Generates a physical scatter\/gather list given a memory descriptor.\n- **initWithSpecification**: Primary initializer for the IOMemoryCursor class.\n- **withSpecification**: Creates and initializes an IOMemoryCursor in one operation.\n\n## Callbacks\n\n- **SegmentFunction**: A C function that translates a 64-bit segment and outputs a single desired segment to the specified array. \n\n## Constants\n\n- **Miscellaneous Defines**\n\n## DataTypes\n\n- **PhysicalSegment**\n\n## Instance Variables\n\n- **outSeg**\n- **maxTransferSize**\n- **maxSegmentSize**\n- **alignMask**\n\n## Instance Methods\n\n- **genPhysicalSegments**\n- **getMetaClass**\n- **initWithSpecification**\n\n## Type Methods\n\n- **withSpecification**\n\n## Cursors\n\n- **IOBigMemoryCursor**: An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the big endian byte order.\n- **IOLittleMemoryCursor**: An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the little endian byte order.\n- **IONaturalMemoryCursor**: An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the natural byte orientation for the CPU.\n\n## Inherits From\n\n- OSObject\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Generates a physical scatter\/gather list given a memory descriptor.",
          "name" : "genPhysicalSegments",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1812441-genphysicalsegments"
        },
        {
          "description" : "Primary initializer for the IOMemoryCursor class.",
          "name" : "initWithSpecification",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1812445-initwithspecification"
        },
        {
          "description" : "Creates and initializes an IOMemoryCursor in one operation.",
          "name" : "withSpecification",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1812453-withspecification"
        }
      ],
      "title" : "Miscellaneous"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A C function that translates a 64-bit segment and outputs a single desired segment to the specified array. ",
          "name" : "SegmentFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iodmacommand\/segmentfunction"
        }
      ],
      "title" : "Callbacks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "Miscellaneous Defines",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/miscellaneous_defines"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "PhysicalSegment",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/physicalsegment"
        }
      ],
      "title" : "DataTypes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "outSeg",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/outseg"
        },
        {
          "description" : "",
          "name" : "maxTransferSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/maxtransfersize"
        },
        {
          "description" : "",
          "name" : "maxSegmentSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/maxsegmentsize"
        },
        {
          "description" : "",
          "name" : "alignMask",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/alignmask"
        }
      ],
      "title" : "Instance Variables"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "genPhysicalSegments",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1400980-genphysicalsegments"
        },
        {
          "name" : "getMetaClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1401008-getmetaclass"
        },
        {
          "name" : "initWithSpecification",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1401022-initwithspecification"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "withSpecification",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor\/1400994-withspecification"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the big endian byte order.",
          "name" : "IOBigMemoryCursor",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iobigmemorycursor"
        },
        {
          "description" : "An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the little endian byte order.",
          "name" : "IOLittleMemoryCursor",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iolittlememorycursor"
        },
        {
          "description" : "An IOMemoryCursor subclass that outputs a vector of PhysicalSegments in the natural byte orientation for the CPU.",
          "name" : "IONaturalMemoryCursor",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ionaturalmemorycursor"
        }
      ],
      "title" : "Cursors"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "OSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "IOMemoryCursor",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iomemorycursor"
}