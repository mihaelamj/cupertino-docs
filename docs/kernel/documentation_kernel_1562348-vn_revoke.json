{
  "abstract" : "Invalidate all references to a vnode.",
  "codeExamples" : [

  ],
  "contentHash" : "03844eb66e277aba61ccaf8d4b73af39b532de009690ded275b89bd890bb5b42",
  "crawledAt" : "2025-12-06T17:26:45Z",
  "declaration" : {
    "code" : "int vn_revoke(vnode_t vp, int flags, vfs_context_t ctx);",
    "language" : "swift"
  },
  "id" : "C3CF8DF8-3FBC-45EB-A900-D14CA38E15BC",
  "kind" : "function",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Return Value\n\n0 always.\n\n## Discussion\n\nReclaims the vnode, giving it deadfs vnops (though not halting operations which are already in progress). Also reclaims all aliased vnodes (important for devices). People holding usecounts on the vnode, e.g. processes with the file open, will find that all subsequent operations but closing the file fail.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/1562348-vn_revoke\ncrawled: 2025-12-06T17:26:45Z\n---\n\n# vn_revoke\n\n**Function**\n\nInvalidate all references to a vnode.\n\n## Declaration\n\n```swift\nint vn_revoke(vnode_t vp, int flags, vfs_context_t ctx);\n```\n\n## Parameters\n\n- **vp**: The vnode to revoke.\n- **flags**: Unused.\n- **ctx**: Context against which to validate operation.\n\n## Return Value\n\n0 always.\n\n## Discussion\n\nReclaims the vnode, giving it deadfs vnops (though not halting operations which are already in progress). Also reclaims all aliased vnodes (important for devices). People holding usecounts on the vnode, e.g. processes with the file open, will find that all subsequent operations but closing the file fail.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "vn_revoke",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/1562348-vn_revoke"
}