{
  "abstract" : "Static method that creates a new IOSharedDataQueue instance with the capacity specified in the size parameter.",
  "codeExamples" : [

  ],
  "contentHash" : "ae395db201541e96446d642a90de6a46231587e63d7368ab6177ac6896ed2293",
  "crawledAt" : "2025-12-07T00:45:35Z",
  "declaration" : {
    "code" : "static IOSharedDataQueue *withCapacity(\n UInt32size); ",
    "language" : "swift"
  },
  "id" : "3748DDC8-8B76-4E90-885E-CB85CE61745C",
  "kind" : "unknown",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Return Value\n\nReturns the newly allocated IOSharedDataQueue instance. Zero is returned on failure.\n\n## Overview\n\nThe actual size of the entire data queue memory region (to be shared into a user process) is equal to the capacity plus the IODataQueueMemory overhead. This overhead value can be determined from the DATA_QUEUE_MEMORY_HEADER_SIZE macro in <IOKit\/IODataQueueShared.h>. The size of the data queue memory region must include space for the overhead of each IODataQueueEntry. This entry overhead can be determined from the DATA_QUEUE_ENTRY_HEADER_SIZE macro in <IOKit\/IODataQueueShared.h>.\n\nThis method allocates a new IODataQueue instance and then calls initWithCapacity() with the given size parameter. If the initWithCapacity() fails, the new instance is released and zero is returned.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810400-withcapacity\ncrawled: 2025-12-07T00:45:35Z\n---\n\n# withCapacity\n\nStatic method that creates a new IOSharedDataQueue instance with the capacity specified in the size parameter.\n\n## Declaration\n\n```swift\nstatic IOSharedDataQueue *withCapacity(\n UInt32size); \n```\n\n## Parameters\n\n- **size**: The size of the data queue memory region.\n\n## Return Value\n\nReturns the newly allocated IOSharedDataQueue instance. Zero is returned on failure.\n\n## Overview\n\nThe actual size of the entire data queue memory region (to be shared into a user process) is equal to the capacity plus the IODataQueueMemory overhead. This overhead value can be determined from the DATA_QUEUE_MEMORY_HEADER_SIZE macro in <IOKit\/IODataQueueShared.h>. The size of the data queue memory region must include space for the overhead of each IODataQueueEntry. This entry overhead can be determined from the DATA_QUEUE_ENTRY_HEADER_SIZE macro in <IOKit\/IODataQueueShared.h>.\n\nThis method allocates a new IODataQueue instance and then calls initWithCapacity() with the given size parameter. If the initWithCapacity() fails, the new instance is released and zero is returned.\n\n## Miscellaneous\n\n- **dequeue**: Dequeues the next available entry on the queue and copies it into the given data pointer.\n- **getMemoryDescriptor**: Returns a memory descriptor covering the IODataQueueMemory region.\n- **initWithCapacity**: Initializes an IOSharedDataQueue instance with the capacity specified in the size parameter.\n- **peek**: Used to peek at the next entry on the queue.\n- **withEntries**: Static method that creates a new IOSharedDataQueue instance with the specified number of entries of the given size.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Dequeues the next available entry on the queue and copies it into the given data pointer.",
          "name" : "dequeue",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810190-dequeue"
        },
        {
          "description" : "Returns a memory descriptor covering the IODataQueueMemory region.",
          "name" : "getMemoryDescriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810240-getmemorydescriptor"
        },
        {
          "description" : "Initializes an IOSharedDataQueue instance with the capacity specified in the size parameter.",
          "name" : "initWithCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810293-initwithcapacity"
        },
        {
          "description" : "Used to peek at the next entry on the queue.",
          "name" : "peek",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810347-peek"
        },
        {
          "description" : "Static method that creates a new IOSharedDataQueue instance with the specified number of entries of the given size.",
          "name" : "withEntries",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810447-withentries"
        }
      ],
      "title" : "Miscellaneous"
    }
  ],
  "source" : "appleJSON",
  "title" : "withCapacity",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioshareddataqueue\/1810400-withcapacity"
}