{
  "abstract" : "This class wraps a single sample buffer in an audio driver.",
  "codeExamples" : [

  ],
  "contentHash" : "2e52dbf28737c862af32afc93968a9f8aa854cdbfe94be4701f51d57996696a1",
  "crawledAt" : "2025-12-07T02:14:49Z",
  "declaration" : {
    "code" : "class IOAudioStream : IOService",
    "language" : "swift"
  },
  "id" : "6DC38CC7-7F1D-4871-98DC-11582DA3C619",
  "kind" : "class",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Overview\n\nAn IOAudioStream represents one hardware sample buffer as well as the direction of that buffer, the mix buffer that multiple clients mix into as well as a list of all of the formats to which this buffer can be set.\n\nWhen an IOAudioEngine is created during init time in the driver, an IOAudioStream must be created for each sample buffer in the device. Typically, the sample buffer will be interleaved (or single channel), as a non-interleaved buffer should be divided into multiple single-channel buffers (and multiple IOAudioStreams).\n\nAdditionally, when an IOAudioStream is created it must have all of the possible formats (and allowed sample rates for each format) set and must have the currently set format specified (addAvailableFormat() and setFormat()).",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\ncrawled: 2025-12-07T02:14:49Z\n---\n\n# IOAudioStream\n\n**Class**\n\nThis class wraps a single sample buffer in an audio driver.\n\n## Declaration\n\n```swift\nclass IOAudioStream : IOService\n```\n\n## Overview\n\nAn IOAudioStream represents one hardware sample buffer as well as the direction of that buffer, the mix buffer that multiple clients mix into as well as a list of all of the formats to which this buffer can be set.\n\nWhen an IOAudioEngine is created during init time in the driver, an IOAudioStream must be created for each sample buffer in the device. Typically, the sample buffer will be interleaved (or single channel), as a non-interleaved buffer should be divided into multiple single-channel buffers (and multiple IOAudioStreams).\n\nAdditionally, when an IOAudioStream is created it must have all of the possible formats (and allowed sample rates for each format) set and must have the currently set format specified (addAvailableFormat() and setFormat()).\n\n## Instance Methods\n\n- **addAvailableFormat**\n- **addAvailableFormat**\n- **addAvailableFormat**\n- **addAvailableFormat**\n- **addClient**\n- **addDefaultAudioControl**\n- **clearAvailableFormats**\n- **clearSampleBuffer**\n- **clipIfNecessary**\n- **clipOutputSamples**\n- **free**\n- **getDirection**\n- **getFormat**\n- **getFormatExtension**\n- **getMaxNumChannels**\n- **getMetaClass**\n- **getMixBuffer**\n- **getMixBufferSize**\n- **getNumClients**\n- **getNumSampleFramesRead**\n- **getSampleBuffer**\n- **getSampleBufferSize**\n- **getStartingChannelID**\n- **getStreamAvailable**\n- **getWorkLoop**\n- **hardwareFormatChanged**\n- **initWithAudioEngine**\n- **lockStreamForIO**\n- **mixOutputSamples**\n- **numSampleFramesPerBufferChanged**\n- **processOutputSamples**\n- **readInputSamples**\n- **removeClient**\n- **removeDefaultAudioControls**\n- **resetClipInfo**\n- **safeLogError**\n- **setDefaultNumSampleFramesRead**\n- **setDirection**\n- **setFormat**\n- **setFormat**\n- **setFormat**\n- **setFormat**\n- **setFormat**\n- **setIOFunction**\n- **setIOFunctionList**\n- **setMixBuffer**\n- **setProperties**\n- **setSampleBuffer**\n- **setSampleLatency**\n- **setStartingChannelNumber**\n- **setStreamAvailable**\n- **setTerminalType**\n- **stop**\n- **unlockStreamForIO**\n- **updateNumClients**\n- **validateFormat**\n- **validateFormat**\n- **validateFormat**\n\n## Type Methods\n\n- **createDictionaryFromFormat**\n- **createFormatFromDictionary**\n- **initKeys**\n- **setFormatAction**\n\n## Interfaces\n\n- **IOAudioLevelControl**\n- **IOAudioSelectorControl**\n- **IOAudioToggleControl**\n- **IOAudioControl**: Represents any controllable attribute of an IOAudioDevice.\n- **IOAudioEngine**: Abstract base class for a single audio audio \/ I\/O engine.\n- **IOAudioPort**: Represents a logical or physical port or functional unit in an audio device.\n\n## Inherits From\n\n- IOService\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "name" : "addAvailableFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580021-addavailableformat"
        },
        {
          "name" : "addAvailableFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516531-addavailableformat"
        },
        {
          "name" : "addAvailableFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516532-addavailableformat"
        },
        {
          "name" : "addAvailableFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516533-addavailableformat"
        },
        {
          "name" : "addClient",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580015-addclient"
        },
        {
          "name" : "addDefaultAudioControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580039-adddefaultaudiocontrol"
        },
        {
          "name" : "clearAvailableFormats",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580032-clearavailableformats"
        },
        {
          "name" : "clearSampleBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580056-clearsamplebuffer"
        },
        {
          "name" : "clipIfNecessary",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580058-clipifnecessary"
        },
        {
          "name" : "clipOutputSamples",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580040-clipoutputsamples"
        },
        {
          "name" : "free",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580016-free"
        },
        {
          "name" : "getDirection",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580048-getdirection"
        },
        {
          "name" : "getFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580050-getformat"
        },
        {
          "name" : "getFormatExtension",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580019-getformatextension"
        },
        {
          "name" : "getMaxNumChannels",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580049-getmaxnumchannels"
        },
        {
          "name" : "getMetaClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580051-getmetaclass"
        },
        {
          "name" : "getMixBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580037-getmixbuffer"
        },
        {
          "name" : "getMixBufferSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580063-getmixbuffersize"
        },
        {
          "name" : "getNumClients",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580054-getnumclients"
        },
        {
          "name" : "getNumSampleFramesRead",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580061-getnumsampleframesread"
        },
        {
          "name" : "getSampleBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580022-getsamplebuffer"
        },
        {
          "name" : "getSampleBufferSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580028-getsamplebuffersize"
        },
        {
          "name" : "getStartingChannelID",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580018-getstartingchannelid"
        },
        {
          "name" : "getStreamAvailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580024-getstreamavailable"
        },
        {
          "name" : "getWorkLoop",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580023-getworkloop"
        },
        {
          "name" : "hardwareFormatChanged",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580044-hardwareformatchanged"
        },
        {
          "name" : "initWithAudioEngine",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580064-initwithaudioengine"
        },
        {
          "name" : "lockStreamForIO",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580035-lockstreamforio"
        },
        {
          "name" : "mixOutputSamples",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580043-mixoutputsamples"
        },
        {
          "name" : "numSampleFramesPerBufferChanged",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580030-numsampleframesperbufferchanged"
        },
        {
          "name" : "processOutputSamples",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580041-processoutputsamples"
        },
        {
          "name" : "readInputSamples",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580045-readinputsamples"
        },
        {
          "name" : "removeClient",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580057-removeclient"
        },
        {
          "name" : "removeDefaultAudioControls",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580034-removedefaultaudiocontrols"
        },
        {
          "name" : "resetClipInfo",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580053-resetclipinfo"
        },
        {
          "name" : "safeLogError",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580047-safelogerror"
        },
        {
          "name" : "setDefaultNumSampleFramesRead",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580062-setdefaultnumsampleframesread"
        },
        {
          "name" : "setDirection",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580060-setdirection"
        },
        {
          "name" : "setFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580046-setformat"
        },
        {
          "name" : "setFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516534-setformat"
        },
        {
          "name" : "setFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516535-setformat"
        },
        {
          "name" : "setFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516536-setformat"
        },
        {
          "name" : "setFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516537-setformat"
        },
        {
          "name" : "setIOFunction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580033-setiofunction"
        },
        {
          "name" : "setIOFunctionList",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580026-setiofunctionlist"
        },
        {
          "name" : "setMixBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580065-setmixbuffer"
        },
        {
          "name" : "setProperties",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580042-setproperties"
        },
        {
          "name" : "setSampleBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580036-setsamplebuffer"
        },
        {
          "name" : "setSampleLatency",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580055-setsamplelatency"
        },
        {
          "name" : "setStartingChannelNumber",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580052-setstartingchannelnumber"
        },
        {
          "name" : "setStreamAvailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580038-setstreamavailable"
        },
        {
          "name" : "setTerminalType",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580066-setterminaltype"
        },
        {
          "name" : "stop",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580017-stop"
        },
        {
          "name" : "unlockStreamForIO",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580020-unlockstreamforio"
        },
        {
          "name" : "updateNumClients",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580029-updatenumclients"
        },
        {
          "name" : "validateFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580059-validateformat"
        },
        {
          "name" : "validateFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516538-validateformat"
        },
        {
          "name" : "validateFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/3516539-validateformat"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "createDictionaryFromFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580027-createdictionaryfromformat"
        },
        {
          "name" : "createFormatFromDictionary",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580025-createformatfromdictionary"
        },
        {
          "name" : "initKeys",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580067-initkeys"
        },
        {
          "name" : "setFormatAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream\/1580031-setformataction"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "IOAudioLevelControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiolevelcontrol"
        },
        {
          "name" : "IOAudioSelectorControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudioselectorcontrol"
        },
        {
          "description" : "",
          "name" : "IOAudioToggleControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiotogglecontrol"
        },
        {
          "description" : "Represents any controllable attribute of an IOAudioDevice.",
          "name" : "IOAudioControl",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiocontrol"
        },
        {
          "description" : "Abstract base class for a single audio audio \/ I\/O engine.",
          "name" : "IOAudioEngine",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudioengine"
        },
        {
          "description" : "Represents a logical or physical port or functional unit in an audio device.",
          "name" : "IOAudioPort",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudioport"
        }
      ],
      "title" : "Interfaces"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOService"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "IOAudioStream",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioaudiostream"
}