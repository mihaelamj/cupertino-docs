{
  "abstract" : "Filtering varient of the $link IOInterruptEventSource.",
  "codeExamples" : [

  ],
  "contentHash" : "acb7f57957dcde1a58954ab1ba6786f934c41013c8eb0a89a4a9bf4bdd580377",
  "crawledAt" : "2025-12-06T23:18:40Z",
  "declaration" : {
    "code" : "class IOFilterInterruptEventSource : IOInterruptEventSource",
    "language" : "swift"
  },
  "id" : "1FD0B12B-3985-4568-8502-2CCFD2F629A0",
  "kind" : "class",
  "language" : "occ",
  "module" : "Kernel",
  "overview" : "## Overview\n\nAn interrupt event source that calls the client to determine if a interrupt event needs to be scheduled on the work loop. A filter interrupt event source call's the client in the primary interrupt context, the client can then interrogate its hardware and determine if the interrupt needs to be processed yet.\n\nAs the routine is called in the primary interrupt context great care must be taken in the writing of this routine. In general none of the generic IOKit environment is safe to call in this context. We intend this routine to be used by hardware that can interrogate its registers without destroying state. Primarily this variant of event sources will be used by drivers that share interrupts. The filter routine will determine if the interrupt is a real interrupt or a ghost and thus optimise the work thread context switch away.\n\nIf you are implementing 'SoftDMA' (or pseudo-DMA), you may not want the I\/O Kit to automatically start your interrupt handler routine on your work loop when your filter routine returns true. In this case, you may choose to have your filter routine schedule the work on the work loop itself and then return false. If you do this, the interrupt will not be disabled in hardware and you could receive additional primary interrupts before your work loop–level service routine completes. Because this scheme has implications for synchronization between your filter routine and your interrupt service routine, you should avoid doing this unless your driver requires SoftDMA.\n\nCAUTION: Called in primary interrupt context, if you need to disable interrupt to guard you registers against an unexpected call then it is better to use a straight IOInterruptEventSource and its secondary interrupt delivery mechanism.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\ncrawled: 2025-12-06T23:18:40Z\n---\n\n# IOFilterInterruptEventSource\n\n**Class**\n\nFiltering varient of the $link IOInterruptEventSource.\n\n## Declaration\n\n```swift\nclass IOFilterInterruptEventSource : IOInterruptEventSource\n```\n\n## Overview\n\nAn interrupt event source that calls the client to determine if a interrupt event needs to be scheduled on the work loop. A filter interrupt event source call's the client in the primary interrupt context, the client can then interrogate its hardware and determine if the interrupt needs to be processed yet.\n\nAs the routine is called in the primary interrupt context great care must be taken in the writing of this routine. In general none of the generic IOKit environment is safe to call in this context. We intend this routine to be used by hardware that can interrogate its registers without destroying state. Primarily this variant of event sources will be used by drivers that share interrupts. The filter routine will determine if the interrupt is a real interrupt or a ghost and thus optimise the work thread context switch away.\n\nIf you are implementing 'SoftDMA' (or pseudo-DMA), you may not want the I\/O Kit to automatically start your interrupt handler routine on your work loop when your filter routine returns true. In this case, you may choose to have your filter routine schedule the work on the work loop itself and then return false. If you do this, the interrupt will not be disabled in hardware and you could receive additional primary interrupts before your work loop–level service routine completes. Because this scheme has implications for synchronization between your filter routine and your interrupt service routine, you should avoid doing this unless your driver requires SoftDMA.\n\nCAUTION: Called in primary interrupt context, if you need to disable interrupt to guard you registers against an unexpected call then it is better to use a straight IOInterruptEventSource and its secondary interrupt delivery mechanism.\n\n## Miscellaneous\n\n- **disableInterruptOccurred**: Override $link IOInterruptEventSource::disableInterruptOccurred to make a filter callout.\n- **filterInterruptEventSource**: Factor method to create and initialise an IOFilterInterruptEventSource. See $link init.\n- **getFilterAction**: Get'ter for filterAction variable.\n- **init**: Primary initialiser for the IOFilterInterruptEventSource class.\n- **normalInterruptOccurred**: Override $link IOInterruptEventSource::normalInterruptOccured to make a filter callout.\n- **signalInterrupt**: Cause the work loop to schedule the action.\n\n## Callbacks\n\n- **Filter**\n\n## Constants\n\n- **Miscellaneous Defines**\n\n## DataTypes\n\n- **ExpansionData**\n\n## Instance Variables\n\n- **reserved**\n- **filterAction**\n\n## Instance Methods\n\n- **disableInterruptOccurred**\n- **free**\n- **getFilterAction**\n- **getFilterActionBlock**\n- **getMetaClass**\n- **init**\n- **init**\n- **normalInterruptOccurred**\n- **signalInterrupt**\n\n## Type Methods\n\n- **filterInterruptEventSource**\n- **filterInterruptEventSource**\n- **interruptEventSource**\n\n## Interrupts\n\n- **IOInterruptDispatchSource**\n- **IOInterruptDispatchSourceInterface**\n- **IOInterruptEventSource**: Event source for interrupt delivery to work-loop based drivers.\n- **IOInterruptController**\n- **PassthruInterruptController**\n- **IOInterruptSource**\n- **IOInterruptVector**\n\n## Inherits From\n\n- IOInterruptEventSource\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Override $link IOInterruptEventSource::disableInterruptOccurred to make a filter callout.",
          "name" : "disableInterruptOccurred",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810540-disableinterruptoccurred"
        },
        {
          "description" : "Factor method to create and initialise an IOFilterInterruptEventSource. See $link init.",
          "name" : "filterInterruptEventSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810599-filterinterrupteventsource"
        },
        {
          "description" : "Get'ter for filterAction variable.",
          "name" : "getFilterAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810653-getfilteraction"
        },
        {
          "description" : "Primary initialiser for the IOFilterInterruptEventSource class.",
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810702-init"
        },
        {
          "description" : "Override $link IOInterruptEventSource::normalInterruptOccured to make a filter callout.",
          "name" : "normalInterruptOccurred",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810739-normalinterruptoccurred"
        },
        {
          "description" : "Cause the work loop to schedule the action.",
          "name" : "signalInterrupt",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1810772-signalinterrupt"
        }
      ],
      "title" : "Miscellaneous"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "Filter",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/filter"
        }
      ],
      "title" : "Callbacks"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "Miscellaneous Defines",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/miscellaneous_defines"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "ExpansionData",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/ioservice\/expansiondata"
        }
      ],
      "title" : "DataTypes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "reserved",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/reserved"
        },
        {
          "description" : "",
          "name" : "filterAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/filteraction"
        }
      ],
      "title" : "Instance Variables"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "disableInterruptOccurred",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515906-disableinterruptoccurred"
        },
        {
          "name" : "free",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/2967271-free"
        },
        {
          "name" : "getFilterAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515908-getfilteraction"
        },
        {
          "name" : "getFilterActionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/2967272-getfilteractionblock"
        },
        {
          "name" : "getMetaClass",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515902-getmetaclass"
        },
        {
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515901-init"
        },
        {
          "name" : "init",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/3516455-init"
        },
        {
          "name" : "normalInterruptOccurred",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515904-normalinterruptoccurred"
        },
        {
          "name" : "signalInterrupt",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515903-signalinterrupt"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "filterInterruptEventSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515895-filterinterrupteventsource"
        },
        {
          "name" : "filterInterruptEventSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/3516454-filterinterrupteventsource"
        },
        {
          "name" : "interruptEventSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource\/1515897-interrupteventsource"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOInterruptDispatchSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerruptdispatchsource"
        },
        {
          "name" : "IOInterruptDispatchSourceInterface",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerruptdispatchsourceinterface"
        },
        {
          "description" : "Event source for interrupt delivery to work-loop based drivers.",
          "name" : "IOInterruptEventSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerrupteventsource"
        },
        {
          "name" : "IOInterruptController",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerruptcontroller"
        },
        {
          "name" : "PassthruInterruptController",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/passthruinterruptcontroller"
        },
        {
          "name" : "IOInterruptSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerruptsource"
        },
        {
          "name" : "IOInterruptVector",
          "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iointerruptvector"
        }
      ],
      "title" : "Interrupts"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "IOInterruptEventSource"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "IOFilterInterruptEventSource",
  "url" : "https:\/\/developer.apple.com\/documentation\/kernel\/iofilterinterrupteventsource"
}