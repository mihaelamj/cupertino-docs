{
  "abstract" : "An object that identifies an asset or collection that syncs through iCloud Photos.",
  "codeExamples" : [
    {
      "code" : "\/\/ Get the local identifier mappings for the cloud identifiers.\nlet identifierMappings = library.localIdentifierMappings(for: assetCloudIdentifiers)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Iterate over the cloud identifiers and add or handle missing local identifiers.\nfor cloudIdentifier in assetCloudIdentifiers {\n    guard let identifierMapping = identifierMappings[cloudIdentifier] else {\n        print(\"Failed to find a mapping for \\(cloudIdentifier).\")\n        continue\n    }\n\n    \/\/ Track the local identifier if it exists.\n    if let localIdentifier = identifierMapping.localIdentifier {\n        localIdentifiers.append(localIdentifier)\n    } else if let error = identifierMapping.error as? PHPhotosError {\n        switch error.code {\n        case .identifierNotFound:\n            \/\/ Skip the missing or deleted assets.\n            print(\"Failed to find the local identifier for \\(cloudIdentifier). \\(error.localizedDescription))\")\n        case .multipleIdentifiersFound:\n            \/\/ Prompt the user to resolve the cloud identifier that matched multiple assets.\n            print(\"Found multiple local identifiers for \\(cloudIdentifier). \\(error.localizedDescription)\")\n            if let selectedLocalIdentifier = promptUserForPotentialReplacement(with: error.userInfo[PHLocalIdentifiersErrorKey]) {\n                localIdentifiers.append(selectedLocalIdentifier)\n            }\n        default:\n            print(\"Encountered an unexpected error looking up the local identifier for \\(cloudIdentifier). \\(error.localizedDescription)\")\n        }\n    }\n}\n\n\/\/ Fetch assets using the found identifiers.\nlet mappedAssets = PHAsset.fetchAssets(withLocalIdentifiers: localIdentifiers, \n                                       options: nil)",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "Copyable",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "d6e1acdcd08ea52b95b30c97cfece1c39aabac0cc2c1b001ba3b3195d94b12ad",
  "crawledAt" : "2025-12-03T04:51:54Z",
  "declaration" : {
    "code" : "class PHCloudIdentifier",
    "language" : "swift"
  },
  "id" : "1C77C3BA-E764-4E8A-90AD-C0233994808F",
  "kind" : "class",
  "language" : "swift",
  "module" : "Photos",
  "overview" : "## Overview\n\nA cloud identifier is a type of identifier that behaves like a local identifier. Use cloud identifiers to identify objects that sync across devices through iCloud Photos. You can store, sync, and use cloud identifiers with devices synced with an iCloud account. You’re also able to use secure coding to encode and decode cloud identifiers.\n\nA local identifier is valid for referring to objects only in the context of a local device. These objects include [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHAsset], [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHAssetCollection], and [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHCollectionList].\n\nBecause a cloud identifier is universal, you can use it on any iCloud-synced device. Convert the cloud identifier back to a local identifier and perform a fetch to find the equivalent object on that device. Perform batch lookups of identifiers using [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotoLibrary\/localIdentifierMappingsForCloudIdentifiers:] and [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifierMappingsForLocalIdentifiers:].\n\nRetrieving identifier mappings can be an expensive operation, so perform lookups sparingly. If a lookup fails, inspect the error property on [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHCloudIdentifierMapping] or [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHLocalIdentifierMapping] for details. See [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotosError-swift.struct\/Code] for additional error details.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier\ncrawled: 2025-12-03T04:51:54Z\n---\n\n# PHCloudIdentifier\n\n**Class**\n\nAn object that identifies an asset or collection that syncs through iCloud Photos.\n\n## Declaration\n\n```swift\nclass PHCloudIdentifier\n```\n\n## Overview\n\nA cloud identifier is a type of identifier that behaves like a local identifier. Use cloud identifiers to identify objects that sync across devices through iCloud Photos. You can store, sync, and use cloud identifiers with devices synced with an iCloud account. You’re also able to use secure coding to encode and decode cloud identifiers.\n\nA local identifier is valid for referring to objects only in the context of a local device. These objects include [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHAsset], [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHAssetCollection], and [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHCollectionList].\n\nBecause a cloud identifier is universal, you can use it on any iCloud-synced device. Convert the cloud identifier back to a local identifier and perform a fetch to find the equivalent object on that device. Perform batch lookups of identifiers using [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotoLibrary\/localIdentifierMappingsForCloudIdentifiers:] and [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifierMappingsForLocalIdentifiers:].\n\n```swift\n\/\/ Get the local identifier mappings for the cloud identifiers.\nlet identifierMappings = library.localIdentifierMappings(for: assetCloudIdentifiers)\n```\n\nRetrieving identifier mappings can be an expensive operation, so perform lookups sparingly. If a lookup fails, inspect the error property on [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHCloudIdentifierMapping] or [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHLocalIdentifierMapping] for details. See [doc:\/\/com.apple.photokit\/documentation\/Photos\/PHPhotosError-swift.struct\/Code] for additional error details.\n\n```swift\n\/\/ Iterate over the cloud identifiers and add or handle missing local identifiers.\nfor cloudIdentifier in assetCloudIdentifiers {\n    guard let identifierMapping = identifierMappings[cloudIdentifier] else {\n        print(\"Failed to find a mapping for \\(cloudIdentifier).\")\n        continue\n    }\n\n    \/\/ Track the local identifier if it exists.\n    if let localIdentifier = identifierMapping.localIdentifier {\n        localIdentifiers.append(localIdentifier)\n    } else if let error = identifierMapping.error as? PHPhotosError {\n        switch error.code {\n        case .identifierNotFound:\n            \/\/ Skip the missing or deleted assets.\n            print(\"Failed to find the local identifier for \\(cloudIdentifier). \\(error.localizedDescription))\")\n        case .multipleIdentifiersFound:\n            \/\/ Prompt the user to resolve the cloud identifier that matched multiple assets.\n            print(\"Found multiple local identifiers for \\(cloudIdentifier). \\(error.localizedDescription)\")\n            if let selectedLocalIdentifier = promptUserForPotentialReplacement(with: error.userInfo[PHLocalIdentifiersErrorKey]) {\n                localIdentifiers.append(selectedLocalIdentifier)\n            }\n        default:\n            print(\"Encountered an unexpected error looking up the local identifier for \\(cloudIdentifier). \\(error.localizedDescription)\")\n        }\n    }\n}\n\n\/\/ Fetch assets using the found identifiers.\nlet mappedAssets = PHAsset.fetchAssets(withLocalIdentifiers: localIdentifiers, \n                                       options: nil)\n```\n\n## Using Cloud Identifiers\n\n- **init(stringValue:)**: Deserializes a cloud identifier from its string value.\n- **stringValue**: A string version of the cloud identifier to use in serialization.\n- **notFound**: The global identifier used in an array slot for items that couldn’t be found.\n\n## Converting Between Local and iCloud Identifiers\n\n- **cloudIdentifierMappings(forLocalIdentifiers:)**: Retrieves the cloud identifier mappings for the list of local identifiers.\n- **localIdentifierMappings(for:)**: Retrieves the local identifier mappings for the list of cloud identifiers.\n- **cloudIdentifiers(forLocalIdentifiers:)**: Retrieves the equivalent iCloud identifiers for the list of local identifiers.\n- **localIdentifiers(for:)**: Retrieves the equivalent local identifiers for the list of iCloud identifiers.\n- **PHLocalIdentifierNotFound**: A constant value that indicates that the system can’t resolve a local object from a global identifier.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- Copyable\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Deserializes a cloud identifier from its string value.",
          "name" : "init(stringValue:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier\/init(stringValue:)"
        },
        {
          "description" : "A string version of the cloud identifier to use in serialization.",
          "name" : "stringValue",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier\/stringValue"
        },
        {
          "description" : "The global identifier used in an array slot for items that couldn’t be found.",
          "name" : "notFound",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier\/notFound"
        }
      ],
      "title" : "Using Cloud Identifiers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves the cloud identifier mappings for the list of local identifiers.",
          "name" : "cloudIdentifierMappings(forLocalIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifierMappings(forLocalIdentifiers:)"
        },
        {
          "description" : "Retrieves the local identifier mappings for the list of cloud identifiers.",
          "name" : "localIdentifierMappings(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/localIdentifierMappings(for:)"
        },
        {
          "description" : "Retrieves the equivalent iCloud identifiers for the list of local identifiers.",
          "name" : "cloudIdentifiers(forLocalIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifiers(forLocalIdentifiers:)"
        },
        {
          "description" : "Retrieves the equivalent local identifiers for the list of iCloud identifiers.",
          "name" : "localIdentifiers(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/localIdentifiers(for:)"
        },
        {
          "description" : "A constant value that indicates that the system can’t resolve a local object from a global identifier.",
          "name" : "PHLocalIdentifierNotFound",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHLocalIdentifierNotFound"
        }
      ],
      "title" : "Converting Between Local and iCloud Identifiers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "PHCloudIdentifier",
  "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier"
}