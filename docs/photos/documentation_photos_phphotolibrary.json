{
  "abstract" : "An object that manages access and changes to the user’s photo library.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "57adf7e91dd1f1700e5a48daa17dc1a4898b6b14a8cbaa1640d16807ce3670f9",
  "crawledAt" : "2025-12-05T17:16:56Z",
  "declaration" : {
    "code" : "class PHPhotoLibrary",
    "language" : "swift"
  },
  "id" : "B00A77DB-9AF9-4DD1-8D4C-FC0D836317A5",
  "kind" : "class",
  "language" : "swift",
  "module" : "Photos",
  "overview" : "## Overview\n\nThe object represents the entire set of assets and collections that the Photos app manages, including assets stored on the local device and those stored in iCloud Photos. Use this object for the following tasks:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/photos\/phphotolibrary\ncrawled: 2025-12-05T17:16:56Z\n---\n\n# PHPhotoLibrary\n\n**Class**\n\nAn object that manages access and changes to the user’s photo library.\n\n## Declaration\n\n```swift\nclass PHPhotoLibrary\n```\n\n## Overview\n\nThe object represents the entire set of assets and collections that the Photos app manages, including assets stored on the local device and those stored in iCloud Photos. Use this object for the following tasks:\n\n- Retrieving or verifying the user’s permission for your app to access Photos content\n- Making changes to assets and collections; for example, editing asset metadata or content, inserting new assets, or rearranging the members of a collection\n- Determining which records change since a previous state of the Photos library\n- Registering for update messages the system sends when the library changes\n\n## Verifying Authorization\n\n- **authorizationStatus(for:)**: Returns the app’s authorization to access the user’s photo library for the specified access level.\n- **requestAuthorization(for:handler:)**: Prompts the user to grant the app permission to access the photo library.\n- **PHAccessLevel**: The app’s level of access to the user’s photo library.\n- **PHAuthorizationStatus**: Information about your app’s authorization to access the user’s photo library.\n- **authorizationStatus()**: Returns information about your app’s authorization to access the user’s photo library.\n- **requestAuthorization(_:)**: Requests the user’s permission, if needed, to access the photo library.\n\n## Accessing the Shared Library\n\n- **shared()**: Retrieves the shared photo library object.\n\n## Presenting the Limited Library Picker\n\n- **presentLimitedLibraryPicker(from:)**: Prompts the user to update their limited library selection.\n- **presentLimitedLibraryPicker(from:completionHandler:)**: Prompts the user to update their limited library selection with a callback providing newly selected identifiers.\n\n## Updating the Library\n\n- **Requesting Changes to the Photo Library**: Create, delete, or modify assets and collections in a photo library by making change requests.\n- **performChanges(_:completionHandler:)**: Asynchronously runs a block that requests changes to the photo library.\n- **performChangesAndWait(_:)**: Synchronously runs a block that requests changes to be performed in the photo library.\n- **PHChangeRequest**: The abstract base class of the framework’s photo library change requests.\n- **PHAssetChangeRequest**: A request to create, delete, change metadata for, or edit the content of a Photos asset, for use in a photo library change block.\n- **PHAssetCollectionChangeRequest**: A request to create, delete, or modify a Photos asset collection, for use in a photo library change block.\n- **PHCollectionListChangeRequest**: A request to create, delete, or modify a Photos collection list, for use in a photo library change block.\n- **PHObjectPlaceholder**: A read-only proxy object that represents a Photos asset or collection to create.\n\n## Fetching Change History\n\n- **fetchPersistentChanges(since:)**: Retrieves the Photos library changes since the token you specify.\n- **PHPersistentChangeFetchResult**: An object that represents a fetch result and allows you to enumerate a very large set of change records.\n- **currentChangeToken**: The opaque token that represents the current state of the Photos library.\n- **PHPersistentChangeToken**: An opaque object that tracks the state of the Photos library between runs, and that you can copy and serialize for future use.\n\n## Observing Library Changes\n\n- **Observing Changes in the Photo Library**: Register an observer to be notified of changes to the photo library.\n- **register(_:)**: Registers an object to receive messages when objects in the photo library change.\n- **unregisterChangeObserver(_:)**: Unregisters an object so that it no longer receives change messages.\n- **PHPhotoLibraryChangeObserver**: A protocol to adopt to have the system notify your app of changes to the photo library.\n- **PHChange**: A description of a change that occurred in the photo library.\n- **PHObjectChangeDetails**: A description of changes that occurred in an asset or collection object.\n- **PHFetchResultChangeDetails**: A description of changes that occurred in the set of asset or collection objects listed in a fetch result.\n\n## Observing Library Availability\n\n- **register(_:)**: Registers an object to observe changes to the photo library’s availability.\n- **unregisterAvailabilityObserver(_:)**: Unregisters an object from observing changes to the photo library’s availability.\n- **PHPhotoLibraryAvailabilityObserver**: A protocol to adopt to have the system notify your app when the availability of a photo library changes.\n- **unavailabilityReason**: An error that describes the reason the photo library isn’t available.\n\n## Converting Between Local and iCloud Identifiers\n\n- **cloudIdentifierMappings(forLocalIdentifiers:)**: Retrieves the cloud identifier mappings for the list of local identifiers.\n- **localIdentifierMappings(for:)**: Retrieves the local identifier mappings for the list of cloud identifiers.\n- **PHCloudIdentifier**: An object that identifies an asset or collection that syncs through iCloud Photos.\n- **cloudIdentifiers(forLocalIdentifiers:)**: Retrieves the equivalent iCloud identifiers for the list of local identifiers.\n- **localIdentifiers(for:)**: Retrieves the equivalent local identifiers for the list of iCloud identifiers.\n- **PHLocalIdentifierNotFound**: A constant value that indicates that the system can’t resolve a local object from a global identifier.\n\n## Enabling an Upload Job Extension\n\n- **uploadJobExtensionEnabled**: A Boolean value that indicates whether background asset resource uploading is enabled.\n- **setUploadJobExtensionEnabled(_:)**: Enables or disables the background asset resource upload job feature.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the app’s authorization to access the user’s photo library for the specified access level.",
          "name" : "authorizationStatus(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/authorizationStatus(for:)"
        },
        {
          "description" : "Prompts the user to grant the app permission to access the photo library.",
          "name" : "requestAuthorization(for:handler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/requestAuthorization(for:handler:)"
        },
        {
          "description" : "The app’s level of access to the user’s photo library.",
          "name" : "PHAccessLevel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHAccessLevel"
        },
        {
          "description" : "Information about your app’s authorization to access the user’s photo library.",
          "name" : "PHAuthorizationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHAuthorizationStatus"
        },
        {
          "description" : "Returns information about your app’s authorization to access the user’s photo library.",
          "name" : "authorizationStatus()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/authorizationStatus()"
        },
        {
          "description" : "Requests the user’s permission, if needed, to access the photo library.",
          "name" : "requestAuthorization(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/requestAuthorization(_:)"
        }
      ],
      "title" : "Verifying Authorization"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves the shared photo library object.",
          "name" : "shared()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/shared()"
        }
      ],
      "title" : "Accessing the Shared Library"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prompts the user to update their limited library selection.",
          "name" : "presentLimitedLibraryPicker(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/presentLimitedLibraryPicker(from:)"
        },
        {
          "description" : "Prompts the user to update their limited library selection with a callback providing newly selected identifiers.",
          "name" : "presentLimitedLibraryPicker(from:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/presentLimitedLibraryPicker(from:completionHandler:)"
        }
      ],
      "title" : "Presenting the Limited Library Picker"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create, delete, or modify assets and collections in a photo library by making change requests.",
          "name" : "Requesting Changes to the Photo Library",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/requesting-changes-to-the-photo-library"
        },
        {
          "description" : "Asynchronously runs a block that requests changes to the photo library.",
          "name" : "performChanges(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/performChanges(_:completionHandler:)"
        },
        {
          "description" : "Synchronously runs a block that requests changes to be performed in the photo library.",
          "name" : "performChangesAndWait(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/performChangesAndWait(_:)"
        },
        {
          "description" : "The abstract base class of the framework’s photo library change requests.",
          "name" : "PHChangeRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHChangeRequest"
        },
        {
          "description" : "A request to create, delete, change metadata for, or edit the content of a Photos asset, for use in a photo library change block.",
          "name" : "PHAssetChangeRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHAssetChangeRequest"
        },
        {
          "description" : "A request to create, delete, or modify a Photos asset collection, for use in a photo library change block.",
          "name" : "PHAssetCollectionChangeRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHAssetCollectionChangeRequest"
        },
        {
          "description" : "A request to create, delete, or modify a Photos collection list, for use in a photo library change block.",
          "name" : "PHCollectionListChangeRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCollectionListChangeRequest"
        },
        {
          "description" : "A read-only proxy object that represents a Photos asset or collection to create.",
          "name" : "PHObjectPlaceholder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHObjectPlaceholder"
        }
      ],
      "title" : "Updating the Library"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves the Photos library changes since the token you specify.",
          "name" : "fetchPersistentChanges(since:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/fetchPersistentChanges(since:)"
        },
        {
          "description" : "An object that represents a fetch result and allows you to enumerate a very large set of change records.",
          "name" : "PHPersistentChangeFetchResult",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPersistentChangeFetchResult"
        },
        {
          "description" : "The opaque token that represents the current state of the Photos library.",
          "name" : "currentChangeToken",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/currentChangeToken"
        },
        {
          "description" : "An opaque object that tracks the state of the Photos library between runs, and that you can copy and serialize for future use.",
          "name" : "PHPersistentChangeToken",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPersistentChangeToken"
        }
      ],
      "title" : "Fetching Change History"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Register an observer to be notified of changes to the photo library.",
          "name" : "Observing Changes in the Photo Library",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/observing-changes-in-the-photo-library"
        },
        {
          "description" : "Registers an object to receive messages when objects in the photo library change.",
          "name" : "register(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/register(_:)-6y3b9"
        },
        {
          "description" : "Unregisters an object so that it no longer receives change messages.",
          "name" : "unregisterChangeObserver(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/unregisterChangeObserver(_:)"
        },
        {
          "description" : "A protocol to adopt to have the system notify your app of changes to the photo library.",
          "name" : "PHPhotoLibraryChangeObserver",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibraryChangeObserver"
        },
        {
          "description" : "A description of a change that occurred in the photo library.",
          "name" : "PHChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHChange"
        },
        {
          "description" : "A description of changes that occurred in an asset or collection object.",
          "name" : "PHObjectChangeDetails",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHObjectChangeDetails"
        },
        {
          "description" : "A description of changes that occurred in the set of asset or collection objects listed in a fetch result.",
          "name" : "PHFetchResultChangeDetails",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHFetchResultChangeDetails"
        }
      ],
      "title" : "Observing Library Changes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers an object to observe changes to the photo library’s availability.",
          "name" : "register(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/register(_:)-gm0a"
        },
        {
          "description" : "Unregisters an object from observing changes to the photo library’s availability.",
          "name" : "unregisterAvailabilityObserver(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/unregisterAvailabilityObserver(_:)"
        },
        {
          "description" : "A protocol to adopt to have the system notify your app when the availability of a photo library changes.",
          "name" : "PHPhotoLibraryAvailabilityObserver",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibraryAvailabilityObserver"
        },
        {
          "description" : "An error that describes the reason the photo library isn’t available.",
          "name" : "unavailabilityReason",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/unavailabilityReason"
        }
      ],
      "title" : "Observing Library Availability"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves the cloud identifier mappings for the list of local identifiers.",
          "name" : "cloudIdentifierMappings(forLocalIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifierMappings(forLocalIdentifiers:)"
        },
        {
          "description" : "Retrieves the local identifier mappings for the list of cloud identifiers.",
          "name" : "localIdentifierMappings(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/localIdentifierMappings(for:)"
        },
        {
          "description" : "An object that identifies an asset or collection that syncs through iCloud Photos.",
          "name" : "PHCloudIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHCloudIdentifier"
        },
        {
          "description" : "Retrieves the equivalent iCloud identifiers for the list of local identifiers.",
          "name" : "cloudIdentifiers(forLocalIdentifiers:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/cloudIdentifiers(forLocalIdentifiers:)"
        },
        {
          "description" : "Retrieves the equivalent local identifiers for the list of iCloud identifiers.",
          "name" : "localIdentifiers(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/localIdentifiers(for:)"
        },
        {
          "description" : "A constant value that indicates that the system can’t resolve a local object from a global identifier.",
          "name" : "PHLocalIdentifierNotFound",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHLocalIdentifierNotFound"
        }
      ],
      "title" : "Converting Between Local and iCloud Identifiers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether background asset resource uploading is enabled.",
          "name" : "uploadJobExtensionEnabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/uploadJobExtensionEnabled"
        },
        {
          "description" : "Enables or disables the background asset resource upload job feature.",
          "name" : "setUploadJobExtensionEnabled(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Photos\/PHPhotoLibrary\/setUploadJobExtensionEnabled(_:)"
        }
      ],
      "title" : "Enabling an Upload Job Extension"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "PHPhotoLibrary",
  "url" : "https:\/\/developer.apple.com\/documentation\/photos\/phphotolibrary"
}