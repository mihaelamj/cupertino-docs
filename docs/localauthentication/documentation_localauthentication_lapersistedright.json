{
  "abstract" : "A right that gates access to a key and a secret.",
  "codeExamples" : [
    {
      "code" : "func generateClientKeys() async throws -> Data {\n    let right = LARight()\n    let persistedRight = try await LARightStore.shared.saveRight(right, identifier: \"server-access\")\n    return try await persistedRight.key.publicKey.bytes\n}",
      "language" : "swift"
    },
    {
      "code" : "func signServerChallenge(nonce: Data) async throws -> Data {\n    let persistedRight = try await LARightStore.shared.right(forIdentifier: \"server-access\")\n    try await persistedRight.authorize(localizedReason: \"Access the sandcastle competition server\")\n\n    guard persistedRight.key.canSign(using: .ecdsaSignatureMessageX962SHA256) else {\n        throw NSError(domain: \"ExampleErrorDomain\", code: -1, userInfo: [:])\n    }\n    \n    return try await persistedRight.key.sign(nonce, algorithm: .ecdsaSignatureMessageX962SHA256)\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "69f0269be6dd24cdaa7477806f9083b8c15fddd2784be200a0a93dbba1f0ed59",
  "crawledAt" : "2025-12-02T17:04:26Z",
  "declaration" : {
    "code" : "class LAPersistedRight",
    "language" : "swift"
  },
  "id" : "A4F222B6-7D1D-4590-A7AA-56B9F27DB25B",
  "kind" : "class",
  "language" : "swift",
  "module" : "Local Authentication",
  "overview" : "## Overview\n\nAn [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LAPersistedRight] is a right that’s backed by a unique key in the Secure Enclave with an access control list that matches the authorization requirements of the right. You can access the key that backs a right to perform cryptographic operations like encryption, decryption, signing, and verification.\n\nYou can use the key that backs an [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LAPersistedRight] to perform both public key and private key operations, but private key operations — like decryption, signing, and key exchange — are only available after you authorize the right. Public key operations like encryption and verification are always available.\n\nThe following generates a right with the default authorization requirements, stores it in the [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LARightStore\/shared] [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LARightStore], and exports the public key so that you can use it to verify signatures that the corresponding private key produces:\n\nThe following uses the private key associated with the right from the previous example to sign a challenge issued by a server:\n\nThe signature operation occurs after verifying that the user has the proper authorization and confirming that the private key supports the given signing algorithm.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LAPersistedRight\ncrawled: 2025-12-02T17:04:26Z\n---\n\n# LAPersistedRight\n\n**Class**\n\nA right that gates access to a key and a secret.\n\n## Declaration\n\n```swift\nclass LAPersistedRight\n```\n\n## Overview\n\nAn [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LAPersistedRight] is a right that’s backed by a unique key in the Secure Enclave with an access control list that matches the authorization requirements of the right. You can access the key that backs a right to perform cryptographic operations like encryption, decryption, signing, and verification.\n\nYou can use the key that backs an [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LAPersistedRight] to perform both public key and private key operations, but private key operations — like decryption, signing, and key exchange — are only available after you authorize the right. Public key operations like encryption and verification are always available.\n\nThe following generates a right with the default authorization requirements, stores it in the [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LARightStore\/shared] [doc:\/\/com.apple.localauthentication\/documentation\/LocalAuthentication\/LARightStore], and exports the public key so that you can use it to verify signatures that the corresponding private key produces:\n\n```swift\nfunc generateClientKeys() async throws -> Data {\n    let right = LARight()\n    let persistedRight = try await LARightStore.shared.saveRight(right, identifier: \"server-access\")\n    return try await persistedRight.key.publicKey.bytes\n}\n```\n\nThe following uses the private key associated with the right from the previous example to sign a challenge issued by a server:\n\n```swift\nfunc signServerChallenge(nonce: Data) async throws -> Data {\n    let persistedRight = try await LARightStore.shared.right(forIdentifier: \"server-access\")\n    try await persistedRight.authorize(localizedReason: \"Access the sandcastle competition server\")\n\n    guard persistedRight.key.canSign(using: .ecdsaSignatureMessageX962SHA256) else {\n        throw NSError(domain: \"ExampleErrorDomain\", code: -1, userInfo: [:])\n    }\n    \n    return try await persistedRight.key.sign(nonce, algorithm: .ecdsaSignatureMessageX962SHA256)\n}\n```\n\nThe signature operation occurs after verifying that the user has the proper authorization and confirming that the private key supports the given signing algorithm.\n\n## Accessing persistent data\n\n- **key**: The private key that’s persisted by the right.\n- **secret**: The data kept secret by the right.\n\n## Persistence\n\n- **LARightStore**: A container for data protected by a right.\n- **LASecret**: Data that’s protected by a persisted right.\n\n## Inherits From\n\n- LARight\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The private key that’s persisted by the right.",
          "name" : "key",
          "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LAPersistedRight\/key"
        },
        {
          "description" : "The data kept secret by the right.",
          "name" : "secret",
          "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LAPersistedRight\/secret"
        }
      ],
      "title" : "Accessing persistent data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A container for data protected by a right.",
          "name" : "LARightStore",
          "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LARightStore"
        },
        {
          "description" : "Data that’s protected by a persisted right.",
          "name" : "LASecret",
          "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LASecret"
        }
      ],
      "title" : "Persistence"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "LARight"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "LAPersistedRight",
  "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/LAPersistedRight"
}