{
  "abstract" : "Supplement your own authentication scheme with biometric authentication, making it easy for users to access sensitive parts of your app.",
  "codeExamples" : [
    {
      "code" : "var context = LAContext()",
      "language" : "swift"
    },
    {
      "code" : "context.localizedCancelTitle = \"Enter Username\/Password\"",
      "language" : "swift"
    },
    {
      "code" : "var error: NSError?\nguard context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &error) else {\n    print(error?.localizedDescription ?? \"Can't evaluate policy\")\n\n    \/\/ Fall back to a asking for username and password.\n    \/\/ ...\n    return\n}",
      "language" : "swift"
    },
    {
      "code" : "Task {\n    do {\n        try await context.evaluatePolicy(.deviceOwnerAuthentication, localizedReason: \"Log in to your account\")\n        state = .loggedin\n    } catch let error {\n        print(error.localizedDescription)\n\n        \/\/ Fall back to a asking for username and password.\n        \/\/ ...\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "faceIDLabel.isHidden = (state == .loggedin) || (context.biometryType != .faceID)",
      "language" : "swift"
    }
  ],
  "contentHash" : "f864c061ee2ba8f7ab2f08160b741dc4d690ee2052e251e549e98f61618637cb",
  "crawledAt" : "2025-12-02T15:48:04Z",
  "id" : "79B31942-20CE-449A-81D2-5FDCC4E6AB3C",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Local Authentication",
  "overview" : "## Overview\n\nUsers love Touch ID and Face ID because these authentication mechanisms let them access their devices securely, with minimal effort. When you adopt the LocalAuthentication framework, you streamline the user authentication experience in the typical case, while providing a fallback option for when biometrics aren’t available.\n\n### Set the Face ID Usage Description\n\nIn any project that uses biometrics, include the [https:\/\/developer.apple.com\/library\/content\/documentation\/General\/Reference\/InfoPlistKeyReference\/Articles\/CocoaKeys.html#\/\/apple_ref\/doc\/uid\/TP40009251-SW75] key in your app’s `Info.plist` file. Without this key, the system won’t allow your app to use Face ID. The value for this key is a string that the system presents to the user the first time your app attempts to use Face ID. The string should clearly explain why your app needs access to this authentication mechanism. The system doesn’t require a comparable usage description for Touch ID.\n\n### Create and Configure a Context\n\nYou perform biometric authentication in your app using an [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext] instance, which brokers interaction between your app and the Secure Enclave. Begin by creating a context:\n\nYou can customize the messaging used by the context to guide the user through the flow. For example, you can set a custom message for the Cancel button that appears in various alert views:\n\nThis helps the user understand that when they tap the button, they’ll be reverting to your normal authentication procedure.\n\n### Test Policy Availability\n\nBefore attempting to authenticate, test to make sure that you actually have the ability to do so by calling the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/canEvaluatePolicy(_:error:)] method:\n\nChoose a value from the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy] enumeration for which to test. The policy controls how the authentication behaves. For example, the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy\/deviceOwnerAuthentication] policy used in this sample indicates that reverting to a passcode is allowed when biometrics fails or is unavailable. Alternatively, you can indicate the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy\/deviceOwnerAuthenticationWithBiometrics] policy, which doesn’t allow reverting to the device passcode.\n\n### Evaluate a Policy\n\nWhen you’re ready to authenticate, call the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/evaluatePolicy(_:localizedReason:reply:)] method, using the same policy you already tested:\n\nFor Touch ID, or when the user enters a passcode, the system displays the reason for authenticating that you provided in the method call. It’s important to provide a clear explanation, localized for any regions in which you operate, of why your app is asking the user to authenticate. The name of your app already appears before the reason you give, so you don’t need to include that in your message.\n\n### Optionally, Adjust Your User Interface to Accommodate Face ID\n\nAside from the biometric scanning operation itself, Face ID exhibits an important difference from Touch ID. When your app tries to use Touch ID, a system message asks the user to present a finger to scan. The user has time to think about and possibly abort the operation by canceling the prompt. When your app invokes Face ID, the device begins scanning the user’s face right away. Users don’t get a final opportunity to cancel. To accommodate this behavioral difference, you might want to provide a different UI, depending on the kind of biometrics available on the device.\n\nThe sample app provides a different UI by including a text label with a message that warns Face ID users that tapping the button results in an immediate Face ID scan. The app hides the label by default, revealing it only for users with Face ID who are currently logged out. Users with Touch ID (or no biometry at all) don’t need the message because they can cancel the operation before the scan actually takes place.\n\nYou test what kind of biometry the device supports by reading the context’s [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/biometryType] parameter:\n\nThis parameter only contains a meaningful value after you run the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/canEvaluatePolicy(_:error:)] method on the context at least once.\n\n### Provide a Fallback Alternative to Biometrics\n\nFor various reasons, authentication sometimes fails or is unavailable:\n\nFor a complete list of possible error conditions, see [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAError-swift.struct\/Code].\n\nThis sample app doesn’t implement alternative authentication. In a real app, if you encounter a local authentication error, fall back to your own authentication scheme, like asking for a username and password. Use biometrics as a supplement to something you’re already doing. Don’t depend on biometrics as your only authentication option.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/logging-a-user-into-your-app-with-face-id-or-touch-id\ncrawled: 2025-12-02T15:48:04Z\n---\n\n# Logging a User into Your App with Face ID or Touch ID\n\n**Sample Code**\n\nSupplement your own authentication scheme with biometric authentication, making it easy for users to access sensitive parts of your app.\n\n## Overview\n\nUsers love Touch ID and Face ID because these authentication mechanisms let them access their devices securely, with minimal effort. When you adopt the LocalAuthentication framework, you streamline the user authentication experience in the typical case, while providing a fallback option for when biometrics aren’t available.\n\n### Set the Face ID Usage Description\n\nIn any project that uses biometrics, include the [https:\/\/developer.apple.com\/library\/content\/documentation\/General\/Reference\/InfoPlistKeyReference\/Articles\/CocoaKeys.html#\/\/apple_ref\/doc\/uid\/TP40009251-SW75] key in your app’s `Info.plist` file. Without this key, the system won’t allow your app to use Face ID. The value for this key is a string that the system presents to the user the first time your app attempts to use Face ID. The string should clearly explain why your app needs access to this authentication mechanism. The system doesn’t require a comparable usage description for Touch ID.\n\n### Create and Configure a Context\n\nYou perform biometric authentication in your app using an [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext] instance, which brokers interaction between your app and the Secure Enclave. Begin by creating a context:\n\n```swift\nvar context = LAContext()\n```\n\nYou can customize the messaging used by the context to guide the user through the flow. For example, you can set a custom message for the Cancel button that appears in various alert views:\n\n```swift\ncontext.localizedCancelTitle = \"Enter Username\/Password\"\n```\n\nThis helps the user understand that when they tap the button, they’ll be reverting to your normal authentication procedure.\n\n### Test Policy Availability\n\nBefore attempting to authenticate, test to make sure that you actually have the ability to do so by calling the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/canEvaluatePolicy(_:error:)] method:\n\n```swift\nvar error: NSError?\nguard context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &error) else {\n    print(error?.localizedDescription ?? \"Can't evaluate policy\")\n\n    \/\/ Fall back to a asking for username and password.\n    \/\/ ...\n    return\n}\n```\n\nChoose a value from the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy] enumeration for which to test. The policy controls how the authentication behaves. For example, the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy\/deviceOwnerAuthentication] policy used in this sample indicates that reverting to a passcode is allowed when biometrics fails or is unavailable. Alternatively, you can indicate the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAPolicy\/deviceOwnerAuthenticationWithBiometrics] policy, which doesn’t allow reverting to the device passcode.\n\n### Evaluate a Policy\n\nWhen you’re ready to authenticate, call the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/evaluatePolicy(_:localizedReason:reply:)] method, using the same policy you already tested:\n\n```swift\nTask {\n    do {\n        try await context.evaluatePolicy(.deviceOwnerAuthentication, localizedReason: \"Log in to your account\")\n        state = .loggedin\n    } catch let error {\n        print(error.localizedDescription)\n\n        \/\/ Fall back to a asking for username and password.\n        \/\/ ...\n    }\n}\n```\n\nFor Touch ID, or when the user enters a passcode, the system displays the reason for authenticating that you provided in the method call. It’s important to provide a clear explanation, localized for any regions in which you operate, of why your app is asking the user to authenticate. The name of your app already appears before the reason you give, so you don’t need to include that in your message.\n\n### Optionally, Adjust Your User Interface to Accommodate Face ID\n\nAside from the biometric scanning operation itself, Face ID exhibits an important difference from Touch ID. When your app tries to use Touch ID, a system message asks the user to present a finger to scan. The user has time to think about and possibly abort the operation by canceling the prompt. When your app invokes Face ID, the device begins scanning the user’s face right away. Users don’t get a final opportunity to cancel. To accommodate this behavioral difference, you might want to provide a different UI, depending on the kind of biometrics available on the device.\n\nThe sample app provides a different UI by including a text label with a message that warns Face ID users that tapping the button results in an immediate Face ID scan. The app hides the label by default, revealing it only for users with Face ID who are currently logged out. Users with Touch ID (or no biometry at all) don’t need the message because they can cancel the operation before the scan actually takes place.\n\nYou test what kind of biometry the device supports by reading the context’s [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/biometryType] parameter:\n\n```swift\nfaceIDLabel.isHidden = (state == .loggedin) || (context.biometryType != .faceID)\n```\n\nThis parameter only contains a meaningful value after you run the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/canEvaluatePolicy(_:error:)] method on the context at least once.\n\n### Provide a Fallback Alternative to Biometrics\n\nFor various reasons, authentication sometimes fails or is unavailable:\n\n- The user’s device doesn’t have Touch ID or Face ID.\n- The user isn’t enrolled in biometrics, or doesn’t have a passcode set.\n- The user cancels the operation.\n- Touch ID or Face ID fails to recognize the user.\n- You’ve previously invalidated the context with a call to the [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAContext\/invalidate()] method.\n\nFor a complete list of possible error conditions, see [doc:\/\/com.apple.documentation\/documentation\/LocalAuthentication\/LAError-swift.struct\/Code].\n\nThis sample app doesn’t implement alternative authentication. In a real app, if you encounter a local authentication error, fall back to your own authentication scheme, like asking for a username and password. Use biometrics as a supplement to something you’re already doing. Don’t depend on biometrics as your only authentication option.\n\n## Essentials\n\n- **Accessing Keychain Items with Face ID or Touch ID**: Protect a keychain item with biometric authentication.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Protect a keychain item with biometric authentication.",
          "name" : "Accessing Keychain Items with Face ID or Touch ID",
          "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/accessing-keychain-items-with-face-id-or-touch-id"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Logging a User into Your App with Face ID or Touch ID",
  "url" : "https:\/\/developer.apple.com\/documentation\/LocalAuthentication\/logging-a-user-into-your-app-with-face-id-or-touch-id"
}