{
  "abstract" : "Discover, diagnose, and fix visual artifacts in your app with the Metal debugger.",
  "codeExamples" : [

  ],
  "contentHash" : "b09abb2a3bf09d6eab6ac684c06a4e704ef4233633e740cf88a4890ae252d1be",
  "crawledAt" : "2025-12-02T19:35:38Z",
  "id" : "AD050F82-BD9A-4416-B0F7-48552ECF1238",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nIf you notice any visual artifacts while running your app, you can use the Metal debugger to find and investigate problematic pixels. First, configure your build to include shader source code (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Building-your-project-with-embedded-shader-sources]). Then, take a frame capture of your app when you notice the visual artifact that you want to debug (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Capturing-a-Metal-workload-in-Xcode]).\n\nAfter you have a frame capture, use the Debug navigator to find the draw command that contains the visual artifact, and use the Attachments viewer to find the pixel with the issue. Debug the pixel to launch the shader debugger, then step through your shader source code and inspect variable values until you discover the problem. Then, edit the shader source and reload the shader to verify your fix.\n\n### Skim through render attachments in the Debug navigator\n\nIn the Metal debugger, navigate to a draw command that has the issue. As you move your pointer over rows in the Debug navigator on the left, the Metal debugger shows a preview of the first attachment. You can use this to quickly find any draw commands that warrant further inspection.\n\n\n\nYou also can filter the navigator to show only markers and commands so it’s easier to compare draw commands.\n\n\n\nWhen you find the problematic draw command, click it to select it. The Metal debugger automatically shows your attachments in the assistant editor on the right.\n\n\n\n### Inspect attachments for a draw command\n\nUse the Attachments viewer to find any problematic pixels. You can scroll to zoom in, and drag to pan. For more information on the Attachments viewer, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-the-attachments-of-a-draw-command].\n\n\n\nClick the problematic pixel to select it, and then click the Debug button.\n\nIf the problematic pixel isn’t inside a debuggable region, it has a nongreen selection indicator (as with the blue indicator in the screenshot below). This means that the draw command didn’t write to that pixel and, therefore, you can’t debug it. Because the Attachments viewer remembers your zoom and position, you can quickly step through different draw commands in the Debug navigator to find the right one.\n\n\n\n### Debug your fragment shader\n\nThe shader debugger displays the shader source in the Shader editor (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-shaders]). The call tree on the left shows each executed line in your shader. The values of the variables appear to the right of each shader line in the shader source code. For example, in the screenshot below, you can see that the `in` variable has a value containing `721.5`, `815.5`, and so forth.\n\n\n\nStep through your shader source code and inspect variable values until you discover the problem. Make changes to the shader source code, and then click the Reload Shaders button in the debug bar to refresh the variable values, along with the attachments.\n\n\n\nIf you still see visual artifacts, continue editing the shader and reloading it as needed until you solve the problem.\n\nTo learn more, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Debugging-the-shaders-within-a-draw-command-or-compute-dispatch].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Investigating-visual-artifacts\ncrawled: 2025-12-02T19:35:38Z\n---\n\n# Investigating visual artifacts\n\n**Article**\n\nDiscover, diagnose, and fix visual artifacts in your app with the Metal debugger.\n\n## Overview\n\nIf you notice any visual artifacts while running your app, you can use the Metal debugger to find and investigate problematic pixels. First, configure your build to include shader source code (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Building-your-project-with-embedded-shader-sources]). Then, take a frame capture of your app when you notice the visual artifact that you want to debug (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Capturing-a-Metal-workload-in-Xcode]).\n\nAfter you have a frame capture, use the Debug navigator to find the draw command that contains the visual artifact, and use the Attachments viewer to find the pixel with the issue. Debug the pixel to launch the shader debugger, then step through your shader source code and inspect variable values until you discover the problem. Then, edit the shader source and reload the shader to verify your fix.\n\n### Skim through render attachments in the Debug navigator\n\nIn the Metal debugger, navigate to a draw command that has the issue. As you move your pointer over rows in the Debug navigator on the left, the Metal debugger shows a preview of the first attachment. You can use this to quickly find any draw commands that warrant further inspection.\n\n\n\nYou also can filter the navigator to show only markers and commands so it’s easier to compare draw commands.\n\n\n\nWhen you find the problematic draw command, click it to select it. The Metal debugger automatically shows your attachments in the assistant editor on the right.\n\n\n\n### Inspect attachments for a draw command\n\nUse the Attachments viewer to find any problematic pixels. You can scroll to zoom in, and drag to pan. For more information on the Attachments viewer, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-the-attachments-of-a-draw-command].\n\n\n\nClick the problematic pixel to select it, and then click the Debug button.\n\nIf the problematic pixel isn’t inside a debuggable region, it has a nongreen selection indicator (as with the blue indicator in the screenshot below). This means that the draw command didn’t write to that pixel and, therefore, you can’t debug it. Because the Attachments viewer remembers your zoom and position, you can quickly step through different draw commands in the Debug navigator to find the right one.\n\n\n\n### Debug your fragment shader\n\nThe shader debugger displays the shader source in the Shader editor (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-shaders]). The call tree on the left shows each executed line in your shader. The values of the variables appear to the right of each shader line in the shader source code. For example, in the screenshot below, you can see that the `in` variable has a value containing `721.5`, `815.5`, and so forth.\n\n\n\nStep through your shader source code and inspect variable values until you discover the problem. Make changes to the shader source code, and then click the Reload Shaders button in the debug bar to refresh the variable values, along with the attachments.\n\n\n\nIf you still see visual artifacts, continue editing the shader and reloading it as needed until you solve the problem.\n\n\n\nTo learn more, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Debugging-the-shaders-within-a-draw-command-or-compute-dispatch].\n\n## Essentials\n\n- **Capturing a Metal workload in Xcode**: Analyze your app’s performance by configuring your project to use the Metal debugger.\n- **Capturing a Metal workload programmatically**: Analyze your app’s performance by invoking Metal’s frame capture.\n- **Replaying a GPU trace file**: Debug and profile your app’s performance using a GPU trace file in the Metal debugger.\n- **Optimizing GPU performance**: Find and address performance bottlenecks using the Metal debugger.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Analyze your app’s performance by configuring your project to use the Metal debugger.",
          "name" : "Capturing a Metal workload in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Capturing-a-Metal-workload-in-Xcode"
        },
        {
          "description" : "Analyze your app’s performance by invoking Metal’s frame capture.",
          "name" : "Capturing a Metal workload programmatically",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Capturing-a-Metal-workload-programmatically"
        },
        {
          "description" : "Debug and profile your app’s performance using a GPU trace file in the Metal debugger.",
          "name" : "Replaying a GPU trace file",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Replaying-a-GPU-trace-file"
        },
        {
          "description" : "Find and address performance bottlenecks using the Metal debugger.",
          "name" : "Optimizing GPU performance",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Optimizing-GPU-performance"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Investigating visual artifacts",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Investigating-visual-artifacts"
}