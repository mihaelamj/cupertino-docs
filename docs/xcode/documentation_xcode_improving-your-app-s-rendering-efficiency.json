{
  "abstract" : "Optimize view updates by minimizing unnecessary redraws and using efficient update strategies.",
  "codeExamples" : [
    {
      "code" : "_ = VTDecompressionSessionCreate(allocator: nil,\n                                 formatDescription: formatDescription,\n                                 decoderSpecification: nil,\n                                 imageBufferAttributes: [kCVPixelBufferIOSurfaceCoreAnimationCompatibilityKey],\n                                 decompressionSessionOut: &decompressionSession)",
      "language" : "swift"
    }
  ],
  "contentHash" : "447b8ca8d3172cf3374c6cf140dbadd569a9fde70908314adfc8168966aa1585",
  "crawledAt" : "2025-12-02T05:43:00Z",
  "id" : "2B6538CF-C74F-4E5C-A487-C966A58C1A9F",
  "kind" : "article",
  "overview" : "## Overview\n\nRedrawing views unnecessarily, or performing complicated updates, can increase power consumption by the CPU and GPU. Additionally, inefficient view updates can contribute to hangs and hitches in your app, degrading a person’s experience when they use your app. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/understanding-user-interface-responsiveness].\n\n### Improve SwiftUI performance\n\nProfile your app with the SwiftUI instrument to identify long-running view body updates and frequent view updates in your app, and reorganize your views to avoid these. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/understanding-and-improving-swiftui-performance].\n\n### Limit the frame rate and duration of animations\n\nUse animations to communicate changes and updates in your app, and pause or stop them when the update completes. For more information, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/motion] in the Human Interface Guidelines.\n\nFor situations where you need precise control over an animation’s behavior, use [doc:\/\/com.apple.documentation\/documentation\/QuartzCore] to provide hints to the system about the preferred frame rates for animations, and to control animation duration. Higher frame rates cause the system to use more power. For more information, see [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/optimizing-promotion-refresh-rates-for-iphone-13-pro-and-ipad-pro].\n\n### Update views efficiently\n\nIdentify when your app updates regions of the screen by choosing Debug > View Debugging > Rendering > Flash Updated Regions in Xcode while it’s running your app. Regions of your app’s display that flash — indicating a screen update — but that don’t noticably change visually indicate unnecessary screen use, and potentially unneccessary computations to prepare the update.\n\nWhen you need to update a view, calculate the smallest region that needs updating and pass that to [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIView\/setNeedsDisplay(_:)] (UIKit) or [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSView\/setNeedsDisplay(_:)] (AppKit), so the system only updates the changed region. Avoid view layouts where updating one layer requires the system to redraw other overlapping layers.\n\nPay particular attention to the regions you update in views that appear under [doc:\/\/com.apple.documentation\/documentation\/TechnologyOverviews\/liquid-glass] effects, as the system performs additional calculations to update the Liquid Glass appearance when your app updates screen regions around the Liquid Glass effect.\n\n### Minimize complex effects\n\nWhen you adopt [doc:\/\/com.apple.documentation\/documentation\/TechnologyOverviews\/liquid-glass], use [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GlassEffectContainer] to combine Liquid Glass effects in multiple views. For more information, see [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Applying-Liquid-Glass-to-custom-views].\n\nBe careful when grouping views that are spatially distant from each other, as it can cause unnecessary updates. For example, grouping two buttons that are at the top and bottom of the screen respectively means that any change in the middle of the screen causes the system to update both buttons. Use the Flash Updated Regions tool, described in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/improving-your-app-s-rendering-efficiency#Update-views-efficiently] above, to assess screen updates due to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GlassEffectContainer] extents.\n\nPrefer simple backgrounds — for example, solid colors — to complex effects like [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIVisualEffectView].\n\n### Use recommended APIs for media playback\n\nWhere possible, use [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVPlayer] to play media assets, as it’s optimized to efficiently render audio and video. If you need to use lower-level APIs, measure your app’s power use, and choose the most efficient approach that supports your app’s features. For example, [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVSampleBufferDisplayLayer] typically uses less power to play a video than [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer].\n\nWhen you use [doc:\/\/com.apple.documentation\/documentation\/VideoToolbox\/VTDecompressionSession-api-collection] to decode video frames that you display in an [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVSampleBufferDisplayLayer], pass [doc:\/\/com.apple.documentation\/documentation\/CoreVideo\/kCVPixelBufferIOSurfaceCoreAnimationCompatibilityKey] as an image buffer attribute to [doc:\/\/com.apple.documentation\/documentation\/VideoToolbox\/VTDecompressionSessionCreate(allocator:formatDescription:decoderSpecification:imageBufferAttributes:decompressionSessionOut:)] so that Video Toolbox chooses the most efficient pixel format:\n\n### Reduce average pixel luminance in your app\n\nBrighter pixels use more power than darker pixels, so the lower the average pixel luminance of views in your app, the less energy the system uses powering the display. Support Dark Mode in your app and reduce the overall brightness of the display when someone enables this setting. For more information, see [doc:\/\/com.apple.documentation\/documentation\/UIKit\/supporting-dark-mode-in-your-interface].\n\nMeasure the average pixel luminance of views in your app using Power Profiler. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/measuring-your-app-s-power-use-with-power-profiler]. Use [doc:\/\/com.apple.documentation\/documentation\/MetricKit\/MXUnitAveragePixelLuminance] to gather metrics about the pixel luminosity.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/improving-your-app-s-rendering-efficiency\ncrawled: 2025-12-02T05:43:00Z\n---\n\n# Improving your app’s rendering efficiency\n\n**Article**\n\nOptimize view updates by minimizing unnecessary redraws and using efficient update strategies.\n\n## Overview\n\nRedrawing views unnecessarily, or performing complicated updates, can increase power consumption by the CPU and GPU. Additionally, inefficient view updates can contribute to hangs and hitches in your app, degrading a person’s experience when they use your app. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/understanding-user-interface-responsiveness].\n\n### Improve SwiftUI performance\n\nProfile your app with the SwiftUI instrument to identify long-running view body updates and frequent view updates in your app, and reorganize your views to avoid these. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/understanding-and-improving-swiftui-performance].\n\n### Limit the frame rate and duration of animations\n\nUse animations to communicate changes and updates in your app, and pause or stop them when the update completes. For more information, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/motion] in the Human Interface Guidelines.\n\nFor situations where you need precise control over an animation’s behavior, use [doc:\/\/com.apple.documentation\/documentation\/QuartzCore] to provide hints to the system about the preferred frame rates for animations, and to control animation duration. Higher frame rates cause the system to use more power. For more information, see [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/optimizing-promotion-refresh-rates-for-iphone-13-pro-and-ipad-pro].\n\n### Update views efficiently\n\nIdentify when your app updates regions of the screen by choosing Debug > View Debugging > Rendering > Flash Updated Regions in Xcode while it’s running your app. Regions of your app’s display that flash — indicating a screen update — but that don’t noticably change visually indicate unnecessary screen use, and potentially unneccessary computations to prepare the update.\n\nWhen you need to update a view, calculate the smallest region that needs updating and pass that to [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIView\/setNeedsDisplay(_:)] (UIKit) or [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSView\/setNeedsDisplay(_:)] (AppKit), so the system only updates the changed region. Avoid view layouts where updating one layer requires the system to redraw other overlapping layers.\n\nPay particular attention to the regions you update in views that appear under [doc:\/\/com.apple.documentation\/documentation\/TechnologyOverviews\/liquid-glass] effects, as the system performs additional calculations to update the Liquid Glass appearance when your app updates screen regions around the Liquid Glass effect.\n\n### Minimize complex effects\n\nWhen you adopt [doc:\/\/com.apple.documentation\/documentation\/TechnologyOverviews\/liquid-glass], use [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GlassEffectContainer] to combine Liquid Glass effects in multiple views. For more information, see [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Applying-Liquid-Glass-to-custom-views].\n\nBe careful when grouping views that are spatially distant from each other, as it can cause unnecessary updates. For example, grouping two buttons that are at the top and bottom of the screen respectively means that any change in the middle of the screen causes the system to update both buttons. Use the Flash Updated Regions tool, described in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/improving-your-app-s-rendering-efficiency#Update-views-efficiently] above, to assess screen updates due to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GlassEffectContainer] extents.\n\nPrefer simple backgrounds — for example, solid colors — to complex effects like [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIVisualEffectView].\n\n### Use recommended APIs for media playback\n\nWhere possible, use [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVPlayer] to play media assets, as it’s optimized to efficiently render audio and video. If you need to use lower-level APIs, measure your app’s power use, and choose the most efficient approach that supports your app’s features. For example, [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVSampleBufferDisplayLayer] typically uses less power to play a video than [doc:\/\/com.apple.documentation\/documentation\/QuartzCore\/CAMetalLayer].\n\nWhen you use [doc:\/\/com.apple.documentation\/documentation\/VideoToolbox\/VTDecompressionSession-api-collection] to decode video frames that you display in an [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVSampleBufferDisplayLayer], pass [doc:\/\/com.apple.documentation\/documentation\/CoreVideo\/kCVPixelBufferIOSurfaceCoreAnimationCompatibilityKey] as an image buffer attribute to [doc:\/\/com.apple.documentation\/documentation\/VideoToolbox\/VTDecompressionSessionCreate(allocator:formatDescription:decoderSpecification:imageBufferAttributes:decompressionSessionOut:)] so that Video Toolbox chooses the most efficient pixel format:\n\n```swift\n_ = VTDecompressionSessionCreate(allocator: nil,\n                                 formatDescription: formatDescription,\n                                 decoderSpecification: nil,\n                                 imageBufferAttributes: [kCVPixelBufferIOSurfaceCoreAnimationCompatibilityKey],\n                                 decompressionSessionOut: &decompressionSession)\n```\n\n### Reduce average pixel luminance in your app\n\nBrighter pixels use more power than darker pixels, so the lower the average pixel luminance of views in your app, the less energy the system uses powering the display. Support Dark Mode in your app and reduce the overall brightness of the display when someone enables this setting. For more information, see [doc:\/\/com.apple.documentation\/documentation\/UIKit\/supporting-dark-mode-in-your-interface].\n\nMeasure the average pixel luminance of views in your app using Power Profiler. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/measuring-your-app-s-power-use-with-power-profiler]. Use [doc:\/\/com.apple.documentation\/documentation\/MetricKit\/MXUnitAveragePixelLuminance] to gather metrics about the pixel luminosity.\n\n## Graphics and sound\n\n- **Reducing power usage when capturing media**: Optimize device camera power usage by stopping sessions when not needed and choosing appropriate video formats.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Optimize device camera power usage by stopping sessions when not needed and choosing appropriate video formats.",
          "name" : "Reducing power usage when capturing media",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/reducing-power-usage-when-capturing-media"
        }
      ],
      "title" : "Graphics and sound"
    }
  ],
  "source" : "appleJSON",
  "title" : "Improving your app’s rendering efficiency",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/improving-your-app-s-rendering-efficiency"
}