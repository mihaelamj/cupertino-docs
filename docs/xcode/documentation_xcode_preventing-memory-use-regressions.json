{
  "abstract" : "Measure the memory that your app’s features use, and detect increases by using XCTest performance tests.",
  "codeExamples" : [
    {
      "code" : "class MemoryTests: XCTestCase {\n    func testMemoryUse() {\n        self.measure(metrics: [XCTMemoryMetric()]) {\n          \/\/ Use the relevant app feature here\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "3cd39d5b7e4b191abba8679c137fd46941d9e452a4b87f11d1791ef07d65c1bb",
  "crawledAt" : "2025-12-04T00:40:59Z",
  "id" : "080490E5-72E5-48DE-B63E-40FB59D9FF6E",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.documentation\/documentation\/XCTest] can measure the amount of memory allocated by your app while it executes a test case. To measure memory use, create a performance test in your app’s unit test target, and pass an instance of [doc:\/\/com.apple.documentation\/documentation\/XCTest\/XCTMemoryMetric] to `measure(metrics:)`. Inside the block, call the code from your app that demonstrates the problematic memory use.\n\nWhen you run this test, Xcode measures the peak memory use observed while the block runs, and the growth in memory allocated between the block’s beginning and end. You can observe these values by clicking the icon next to the test results. Click Set Baseline to establish a value for future comparisons. The test fails if the memory use significantly exceeds the baseline measurement.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/preventing-memory-use-regressions\ncrawled: 2025-12-04T00:40:59Z\n---\n\n# Preventing memory-use regressions\n\n**Article**\n\nMeasure the memory that your app’s features use, and detect increases by using XCTest performance tests.\n\n## Overview\n\n[doc:\/\/com.apple.documentation\/documentation\/XCTest] can measure the amount of memory allocated by your app while it executes a test case. To measure memory use, create a performance test in your app’s unit test target, and pass an instance of [doc:\/\/com.apple.documentation\/documentation\/XCTest\/XCTMemoryMetric] to `measure(metrics:)`. Inside the block, call the code from your app that demonstrates the problematic memory use.\n\n```swift\nclass MemoryTests: XCTestCase {\n    func testMemoryUse() {\n        self.measure(metrics: [XCTMemoryMetric()]) {\n          \/\/ Use the relevant app feature here\n        }\n    }\n}\n```\n\nWhen you run this test, Xcode measures the peak memory use observed while the block runs, and the growth in memory allocated between the block’s beginning and end. You can observe these values by clicking the icon next to the test results. Click Set Baseline to establish a value for future comparisons. The test fails if the memory use significantly exceeds the baseline measurement.\n\n## Tasks\n\n- **Gathering information about memory use**: Identify memory-use inefficiencies by measuring and profiling your app.\n- **Making changes to reduce memory use**: Decrease your app’s use of memory by addressing common causes of excessive use.\n- **Responding to low-memory warnings**: Detect when your app is using excessive memory, and bring memory use under control.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Identify memory-use inefficiencies by measuring and profiling your app.",
          "name" : "Gathering information about memory use",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/gathering-information-about-memory-use"
        },
        {
          "description" : "Decrease your app’s use of memory by addressing common causes of excessive use.",
          "name" : "Making changes to reduce memory use",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/making-changes-to-reduce-memory-use"
        },
        {
          "description" : "Detect when your app is using excessive memory, and bring memory use under control.",
          "name" : "Responding to low-memory warnings",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/responding-to-low-memory-warnings"
        }
      ],
      "title" : "Tasks"
    }
  ],
  "source" : "appleJSON",
  "title" : "Preventing memory-use regressions",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/preventing-memory-use-regressions"
}