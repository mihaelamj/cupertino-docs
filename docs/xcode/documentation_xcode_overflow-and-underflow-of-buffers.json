{
  "abstract" : "Detects when you access memory outside of a buffer’s boundaries.",
  "codeExamples" : [
    {
      "code" : "int global_array[10] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\nvoid foo() {\n    int idx = 10;\n    global_array[idx] = 42; \/\/ Error: out of bounds access of global variable\n    char *heap_buffer = malloc(10);\n    heap_buffer[idx] = 'x'; \/\/ Error: out of bounds access of heap allocated variable\n    char stack_buffer[10];\n    stack_buffer[idx] = 'x'; \/\/ Error: out of bounds access of stack allocated variable\n}",
      "language" : "occ"
    }
  ],
  "contentHash" : "da2d2f9d5b5fd061500c755f0067322a13b92d51a917e2cf27b945044eeacb1e",
  "crawledAt" : "2025-12-04T02:40:25Z",
  "id" : "51C3C4A7-879E-43F1-B668-9ADE965BAD4A",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nIn Xcode 7 and later, you can use this check to detect when you access memory that’s outside of a buffer’s boundaries. The check reports overflow when accessed memory is beyond the end of the buffer, and underflow when the accessed memory is before the beginning of a buffer. Xcode sanitizes heap and stack buffers, as well as global variables. Buffer overflow and underflow can result in a crash or other unpredictable behavior.\n\n### Global, heap, and stack overflows in C\n\nIn the following example, the `global_array`, `heap_buffer`, and `stack_buffer` variables each have valid indexes in the range `[0, 9]`, but the accessed index is `10`, which causes an overflow:\n\n#### Solution\n\nAdd a bounds check before attempting to access a buffer at a specific index.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/overflow-and-underflow-of-buffers\ncrawled: 2025-12-04T02:40:25Z\n---\n\n# Overflow and underflow of buffers\n\n**Article**\n\nDetects when you access memory outside of a buffer’s boundaries.\n\n## Overview\n\nIn Xcode 7 and later, you can use this check to detect when you access memory that’s outside of a buffer’s boundaries. The check reports overflow when accessed memory is beyond the end of the buffer, and underflow when the accessed memory is before the beginning of a buffer. Xcode sanitizes heap and stack buffers, as well as global variables. Buffer overflow and underflow can result in a crash or other unpredictable behavior.\n\n### Global, heap, and stack overflows in C\n\nIn the following example, the `global_array`, `heap_buffer`, and `stack_buffer` variables each have valid indexes in the range `[0, 9]`, but the accessed index is `10`, which causes an overflow:\n\n```occ\nint global_array[10] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\nvoid foo() {\n    int idx = 10;\n    global_array[idx] = 42; \/\/ Error: out of bounds access of global variable\n    char *heap_buffer = malloc(10);\n    heap_buffer[idx] = 'x'; \/\/ Error: out of bounds access of heap allocated variable\n    char stack_buffer[10];\n    stack_buffer[idx] = 'x'; \/\/ Error: out of bounds access of stack allocated variable\n}\n```\n\n#### Solution\n\nAdd a bounds check before attempting to access a buffer at a specific index.\n\n## Address Sanitizer\n\n- **Use of deallocated memory**: Detects the use of deallocated memory.\n- **Deallocation of deallocated memory**: Detects attempts to free deallocated memory.\n- **Deallocation of nonallocated memory**: Detects attempts to free nonallocated memory.\n- **Use of stack memory after function return**: Detects when you access stack variable memory after its declaring function returns.\n- **Use of out-of-scope stack memory**: Detects access to variables outside of their declared scope.\n- **Overflow of C++ containers**: Detects when you access a C++ container outside its bounds.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detects the use of deallocated memory.",
          "name" : "Use of deallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-deallocated-memory"
        },
        {
          "description" : "Detects attempts to free deallocated memory.",
          "name" : "Deallocation of deallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/deallocation-of-deallocated-memory"
        },
        {
          "description" : "Detects attempts to free nonallocated memory.",
          "name" : "Deallocation of nonallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/deallocation-of-nonallocated-memory"
        },
        {
          "description" : "Detects when you access stack variable memory after its declaring function returns.",
          "name" : "Use of stack memory after function return",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-stack-memory-after-function-return"
        },
        {
          "description" : "Detects access to variables outside of their declared scope.",
          "name" : "Use of out-of-scope stack memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-out-of-scope-stack-memory"
        },
        {
          "description" : "Detects when you access a C++ container outside its bounds.",
          "name" : "Overflow of C++ containers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/overflow-of-c-containers"
        }
      ],
      "title" : "Address Sanitizer"
    }
  ],
  "source" : "appleJSON",
  "title" : "Overflow and underflow of buffers",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/overflow-and-underflow-of-buffers"
}