{
  "abstract" : "Read and write health and activity data in the Health app.",
  "codeExamples" : [

  ],
  "contentHash" : "3b441ac99b61f8a681b66c74e9b2baab5947221a4d49059727c2608e2f7de75a",
  "crawledAt" : "2025-12-03T03:58:21Z",
  "id" : "09489310-F844-403B-8506-657BF46C41CB",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nHealthKit is the central repository for health and fitness data in iOS and watchOS. Health apps that integrate with HealthKit can request a user’s permission to both read health data from and write data to this central repository. The data your app writes to the HealthKit store is visible to the user in the Health app, alongside their other health-related data.\n\nTo enable your app to access the user’s HealthKit store, you must add the HealthKit capability to your app’s target and include a short description of the app’s functionality in its target’s `Info.plist` file.\n\n### Add the HealthKit capability to your target\n\nFollow the steps in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/adding-capabilities-to-your-app#Add-a-capability] to add the capability to your app’s target; be sure to select the HealthKit capability from Xcode’s Capabilities library. For watchOS apps with separate WatchKit extensions, you must add the capability to the WatchKit Extension target.\n\n\n\nAfter you add the HealthKit capability, Xcode links the [doc:\/\/com.apple.documentation\/documentation\/HealthKit] framework to your target and updates the target’s entitlements file to include the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit]. If Xcode automatically manages the signing of your app, it also enables HealthKit for your app’s App ID.\n\n### Request access to the user’s health data\n\nHealthKit uses a fine-grained authorization mechanism to help protect the user’s privacy; your app must request permission to read and, optionally, write each individual sample type it supports. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/authorizing-access-to-health-data].\n\nBefore prompting the user for their permission, you must configure your app to include one or more *purpose strings*, which accurately and concisely describe why the app needs to read the user’s health data, write health data to their HealthKit store, or both. The presence of these purpose strings is an App Store requirement for any app that integrates with HealthKit. The system displays this information to the user when requesting their permission, along with the specific sample types that your app needs to access, which helps them make an informed decision.\n\nFollow these steps to add the purpose string for reading health data to your app’s target:\n\n\n\nIf your app writes health data to the HealthKit store, repeat the steps above and add the “Privacy - Health Update Usage Description” key.\n\nRemember that the user can revoke their permission at any time in the Settings app or the Health app. If your app requires access to certain health data, you must clearly display information about why your app requires access to the user’s health data and request that the user reauthorize to grant your app access to the HealthKit data.\n\nYou can check your app’s current authorization status using the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKHealthStore\/authorizationStatus(for:)] method. HealthKit also returns a [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKError\/Code\/errorAuthorizationDenied] error if your app attempts unauthorized access to the user’s health data.\n\n### Request access to a user’s health records\n\nHealthKit’s clinical-record support allows users to download their records in the Fast Healthcare Interoperability Resources (FHIR) format from supported healthcare institutions. HealthKit then periodically updates those records in the background.\n\nDue to the sensitive nature of health records, your app requires a special entitlement before it can access them. Follow these steps to configure that entitlement:\n\n\n\nXcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit.access] to your target’s entitlements file and appends the `health-records` value to the array it contains.\n\nAfter you enable the capability, there are additional configuration steps you must complete before your app can access the user’s health records, such as providing an additional purpose string and declaring the types of health records that your app supports. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/accessing-health-records].\n\n### Receive sample updates in the background\n\nHealthKit observer queries are long-running ones that watch the HealthKit store for changes to specific sample types and deliver those changes to your app on a background thread. Typically, observer queries only provide those changes when your app is running in the foreground.\n\nHowever, by enabling Background Delivery, your app can continue to receive and process changes while it’s in the background. You pair each executed observer query with a call to [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKHealthStore\/enableBackgroundDelivery(for:frequency:withCompletion:)] and specify the same sample type. The system then wakes your app when changes occur in the HealthKit store — at most, once per the update frequency you specify — and delivers those changes to the corresponding observer queries. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/executing-observer-queries].\n\nTo enable HealthKit to continue updating your app’s observer queries while its in the background, perform the following:\n\n\n\nXcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit.background-delivery] entitlement to the target’s entitlements file.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/configuring-healthkit-access\ncrawled: 2025-12-03T03:58:21Z\n---\n\n# Configuring HealthKit access\n\n**Article**\n\nRead and write health and activity data in the Health app.\n\n## Overview\n\nHealthKit is the central repository for health and fitness data in iOS and watchOS. Health apps that integrate with HealthKit can request a user’s permission to both read health data from and write data to this central repository. The data your app writes to the HealthKit store is visible to the user in the Health app, alongside their other health-related data.\n\nTo enable your app to access the user’s HealthKit store, you must add the HealthKit capability to your app’s target and include a short description of the app’s functionality in its target’s `Info.plist` file.\n\n### Add the HealthKit capability to your target\n\nFollow the steps in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/adding-capabilities-to-your-app#Add-a-capability] to add the capability to your app’s target; be sure to select the HealthKit capability from Xcode’s Capabilities library. For watchOS apps with separate WatchKit extensions, you must add the capability to the WatchKit Extension target.\n\n\n\n\n\nAfter you add the HealthKit capability, Xcode links the [doc:\/\/com.apple.documentation\/documentation\/HealthKit] framework to your target and updates the target’s entitlements file to include the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit]. If Xcode automatically manages the signing of your app, it also enables HealthKit for your app’s App ID.\n\n\n\n### Request access to the user’s health data\n\nHealthKit uses a fine-grained authorization mechanism to help protect the user’s privacy; your app must request permission to read and, optionally, write each individual sample type it supports. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/authorizing-access-to-health-data].\n\nBefore prompting the user for their permission, you must configure your app to include one or more *purpose strings*, which accurately and concisely describe why the app needs to read the user’s health data, write health data to their HealthKit store, or both. The presence of these purpose strings is an App Store requirement for any app that integrates with HealthKit. The system displays this information to the user when requesting their permission, along with the specific sample types that your app needs to access, which helps them make an informed decision.\n\nFollow these steps to add the purpose string for reading health data to your app’s target:\n\n1. In the Project navigator, select your target’s `Info.plist` file.\n2. Move the mouse pointer over the “Information Property List” key.\n3. Click the Add button (+) that appears.\n4. Choose “Privacy - Health Share Usage Description”.\n5. Double-click the Value column to the right of the key and enter your app’s purpose string.\n\n\n\nIf your app writes health data to the HealthKit store, repeat the steps above and add the “Privacy - Health Update Usage Description” key.\n\nRemember that the user can revoke their permission at any time in the Settings app or the Health app. If your app requires access to certain health data, you must clearly display information about why your app requires access to the user’s health data and request that the user reauthorize to grant your app access to the HealthKit data.\n\nYou can check your app’s current authorization status using the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKHealthStore\/authorizationStatus(for:)] method. HealthKit also returns a [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKError\/Code\/errorAuthorizationDenied] error if your app attempts unauthorized access to the user’s health data.\n\n### Request access to a user’s health records\n\nHealthKit’s clinical-record support allows users to download their records in the Fast Healthcare Interoperability Resources (FHIR) format from supported healthcare institutions. HealthKit then periodically updates those records in the background.\n\nDue to the sensitive nature of health records, your app requires a special entitlement before it can access them. Follow these steps to configure that entitlement:\n\n1. Select your project in Xcode’s Project navigator.\n2. Select your app’s target from the Targets list.\n3. Click the Signing & Capabilities tab in the project editor.\n4. Find the HealthKit capability.\n5. Enable the nested Clinical Health Records capability.\n\n\n\nXcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit.access] to your target’s entitlements file and appends the `health-records` value to the array it contains.\n\nAfter you enable the capability, there are additional configuration steps you must complete before your app can access the user’s health records, such as providing an additional purpose string and declaring the types of health records that your app supports. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/accessing-health-records].\n\n### Receive sample updates in the background\n\nHealthKit observer queries are long-running ones that watch the HealthKit store for changes to specific sample types and deliver those changes to your app on a background thread. Typically, observer queries only provide those changes when your app is running in the foreground.\n\nHowever, by enabling Background Delivery, your app can continue to receive and process changes while it’s in the background. You pair each executed observer query with a call to [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKHealthStore\/enableBackgroundDelivery(for:frequency:withCompletion:)] and specify the same sample type. The system then wakes your app when changes occur in the HealthKit store — at most, once per the update frequency you specify — and delivers those changes to the corresponding observer queries. For more information, see [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/executing-observer-queries].\n\nTo enable HealthKit to continue updating your app’s observer queries while its in the background, perform the following:\n\n1. Select your project in Xcode’s Project navigator.\n2. Select the app’s target from the Targets list.\n3. Click the Signing & Capabilities tab in the project editor.\n4. Find the HealthKit capability.\n5. Enable the nested Background Delivery capability.\n\n\n\nXcode adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.healthkit.background-delivery] entitlement to the target’s entitlements file.\n\n## User data\n\n- **Configuring HomeKit access**: Discover compatible accessories and communicate with configured accessories and services to perform actions.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Discover compatible accessories and communicate with configured accessories and services to perform actions.",
          "name" : "Configuring HomeKit access",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/configuring-homekit-access"
        }
      ],
      "title" : "User data"
    }
  ],
  "source" : "appleJSON",
  "title" : "Configuring HealthKit access",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/configuring-healthkit-access"
}