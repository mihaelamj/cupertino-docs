{
  "abstract" : "Configure metadata, start conditions, actions, post-actions, and more to create custom Xcode Cloud workflows.",
  "codeExamples" : [

  ],
  "contentHash" : "47c38005b6d115f44fc2d1b55e04cc25c33c76ed5279e83360950ff26b52109b",
  "crawledAt" : "2025-12-01T09:06:40Z",
  "id" : "81C28374-F863-44A8-81CF-8AC547F51D33",
  "kind" : "collection",
  "overview" : "## Overview\n\nBy configuring a first workflow in Xcode, you started a continuous integration and delivery (CI\/CD) practice with Xcode Cloud. After you’ve reviewed how you can best refine your CI\/CD practice as described in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Developing-a-Workflow-Strategy-for-Xcode-Cloud], create custom workflows that fit the unique needs for ensuring your app’s or framework’s quality. For example, add metadata to describe the purpose of a workflow, configure conditions that start a new build, add actions and post-actions, and more.\n\nYou need to use Xcode to initially configure your project or workspace to use Xcode Cloud. However, after you’ve started your first build, you can edit and create workflows in either Xcode or [https:\/\/appstoreconnect.apple.com].\n\nFor additional information about Xcode Cloud workflows, see [https:\/\/developer.apple.com\/wwdc21\/10268] and [https:\/\/developer.apple.com\/wwdc21\/10269].\n\n### Metadata\n\nEven if you’re a solo developer, you might create several workflows. To help distinguish workflows from each other and make each workflow’s purpose easy to understand, open the workflow and provide metadata in the General section.\n\n\n\n### Environment\n\nWhen you develop and maintain your app or framework over time, you need to make sure that current and upcoming Xcode versions can successfully build it. If your product is a framework, you might need to ensure your framework supports previous Xcode versions.\n\nTo reduce the work needed to perform these verifications, configure a workflow’s temporary build environment. For example, create a workflow that builds your project and runs your tests using the latest publicly released Xcode and macOS versions. Then, create another workflow that performs the same verifications with the latest beta versions of macOS and Xcode.\n\nTo configure a workflow’s temporary build environment, navigate to the workflow’s Environment section, and choose from available Xcode and macOS versions.\n\n### Perform a clean build\n\nTo reduce the amount of time it takes to perform a build, Xcode Cloud stores each build’s derived data and other cached information for reuse in a secure and private way. However, you might need to perform a clean build that doesn’t cache data. For example, you need to configure a workflow to perform a clean build if you add a post-action that distributes a new version to external testers with [https:\/\/developer.apple.com\/testflight\/].\n\nTo configure a workflow that starts a new build without cached data:\n\n### Custom environment variables\n\nIn addition to Xcode and macOS versions, you can set custom *environment variables* for a workflow in its Environment section. These variables are available to custom build scripts you use to extend workflows. For example, set a secret environment variable to contain an API key you use in a custom build script that uploads a workflow’s artifacts to your server.\n\n### Start conditions\n\nWhen you create a new workflow, Xcode suggests the Branch Changes condition that starts a new build for every change to your Git repository’s default branch. This condition is useful when you get started with CI. However, starting a build for every change to your default branch might not be the appropriate setting for you. For example, a workflow that runs UI tests on many simulated devices can take a significant amount of time to complete, and starting a build for every branch change isn’t practical. In this case, make changes to the workflow’s start condition or add start conditions to tell Xcode Cloud to perform a workflow less often.\n\nFor more information about configuring start conditions, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Configuring-Start-Conditions].\n\n### Auto-cancel builds\n\nBy default, workflows have the Auto-cancel Builds setting enabled for each start condition. As a result, Xcode Cloud automatically cancels an in-progress build if a workflow queues a new build for the same workflow. This reduces the time to verify your latest code change — a useful setting in case you push updates to a branch in quick succession.\n\nFor example, say you push five changes to a branch within five minutes. Xcode Cloud detects each change and starts a build because it meets the Branch Changes start condition, resulting in five builds. To know whether your fifth change passed the configured verifications, you’d have to wait for each build to complete, even though the fifth change supersedes the others. With Auto-cancel Builds enabled, Xcode Cloud cancels the first four builds and immediately starts the build for the latest change.\n\n### Actions\n\nAutomatically and frequently building your project and verifying changes is key to a CI\/CD practice. As a result, configuring a workflow’s actions is a fundamental task you perform in its Actions section. A workflow can perform the following actions:\n\nNote how these actions match your project’s or workspace’s scheme actions. To create a workflow that fits your requirements, add as many actions to a workflow as needed. For example, create a workflow that performs the test and archive actions for your app.\n\nFor detailed information on actions you configure for an Xcode Cloud workflow, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Configuring-Your-Xcode-Cloud-Workflow-s-Actions]. For additional information on using Xcode Cloud to run your tests, see [https:\/\/developer.apple.com\/wwdc22\/110361].\n\n### Post-actions\n\nPerforming actions is at the core of a workflow. However, similar to how you configure post-actions in a scheme, you can configure post-actions for a workflow that happen after Xcode Cloud performs the workflow’s actions.\n\nBy adding post-actions, you can:\n\nFor additional information on sending notifications to Slack, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Connecting-Xcode-Cloud-to-Slack]\n\n### Custom build scripts\n\nXcode Cloud uses your project’s configured schemes and offers a wide variety of workflow settings. However, you might want to perform additional custom tasks you can’t configure using a scheme or workflow. For example, you might need to install an additional tool to build your project, to upload an app archive to storage, to use a different app icon for nightly builds, and so on.\n\nTo address these use cases, you can create shell scripts, referred to as *custom build scripts*, that Xcode Cloud runs at a specific moment during a build. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Writing-Custom-Build-Scripts].\n\n### Automate workflow management\n\nUsing either Xcode or App Store Connect, you can create custom workflows to verify the quality of your apps or frameworks. However, you may need to further automate Xcode Cloud usage and create and manage numerous workflows for multiple apps — especially in a corporate context. If this applies to you, use the App Store Connect API to manage workflows, start builds, and access Xcode Cloud data. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/xcode-cloud-workflows-and-builds].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Xcode-Cloud-Workflow-Reference\ncrawled: 2025-12-01T09:06:40Z\n---\n\n# Xcode Cloud workflow reference\n\nConfigure metadata, start conditions, actions, post-actions, and more to create custom Xcode Cloud workflows.\n\n## Overview\n\nBy configuring a first workflow in Xcode, you started a continuous integration and delivery (CI\/CD) practice with Xcode Cloud. After you’ve reviewed how you can best refine your CI\/CD practice as described in [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Developing-a-Workflow-Strategy-for-Xcode-Cloud], create custom workflows that fit the unique needs for ensuring your app’s or framework’s quality. For example, add metadata to describe the purpose of a workflow, configure conditions that start a new build, add actions and post-actions, and more.\n\nYou need to use Xcode to initially configure your project or workspace to use Xcode Cloud. However, after you’ve started your first build, you can edit and create workflows in either Xcode or [https:\/\/appstoreconnect.apple.com].\n\nFor additional information about Xcode Cloud workflows, see [https:\/\/developer.apple.com\/wwdc21\/10268] and [https:\/\/developer.apple.com\/wwdc21\/10269].\n\n### Metadata\n\nEven if you’re a solo developer, you might create several workflows. To help distinguish workflows from each other and make each workflow’s purpose easy to understand, open the workflow and provide metadata in the General section.\n\n\n\n\n\n### Environment\n\nWhen you develop and maintain your app or framework over time, you need to make sure that current and upcoming Xcode versions can successfully build it. If your product is a framework, you might need to ensure your framework supports previous Xcode versions.\n\n\n\nTo reduce the work needed to perform these verifications, configure a workflow’s temporary build environment. For example, create a workflow that builds your project and runs your tests using the latest publicly released Xcode and macOS versions. Then, create another workflow that performs the same verifications with the latest beta versions of macOS and Xcode.\n\nTo configure a workflow’s temporary build environment, navigate to the workflow’s Environment section, and choose from available Xcode and macOS versions.\n\n\n\n### Perform a clean build\n\nTo reduce the amount of time it takes to perform a build, Xcode Cloud stores each build’s derived data and other cached information for reuse in a secure and private way. However, you might need to perform a clean build that doesn’t cache data. For example, you need to configure a workflow to perform a clean build if you add a post-action that distributes a new version to external testers with [https:\/\/developer.apple.com\/testflight\/].\n\nTo configure a workflow that starts a new build without cached data:\n\n1. Open the workflow in Xcode or App Store Connect and navigate to the Environment section.\n2. Select Clean and save the workflow.\n\n\n\n### Custom environment variables\n\nIn addition to Xcode and macOS versions, you can set custom *environment variables* for a workflow in its Environment section. These variables are available to custom build scripts you use to extend workflows. For example, set a secret environment variable to contain an API key you use in a custom build script that uploads a workflow’s artifacts to your server.\n\n\n\n### Start conditions\n\nWhen you create a new workflow, Xcode suggests the Branch Changes condition that starts a new build for every change to your Git repository’s default branch. This condition is useful when you get started with CI. However, starting a build for every change to your default branch might not be the appropriate setting for you. For example, a workflow that runs UI tests on many simulated devices can take a significant amount of time to complete, and starting a build for every branch change isn’t practical. In this case, make changes to the workflow’s start condition or add start conditions to tell Xcode Cloud to perform a workflow less often.\n\nFor more information about configuring start conditions, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Configuring-Start-Conditions].\n\n### Auto-cancel builds\n\nBy default, workflows have the Auto-cancel Builds setting enabled for each start condition. As a result, Xcode Cloud automatically cancels an in-progress build if a workflow queues a new build for the same workflow. This reduces the time to verify your latest code change — a useful setting in case you push updates to a branch in quick succession.\n\nFor example, say you push five changes to a branch within five minutes. Xcode Cloud detects each change and starts a build because it meets the Branch Changes start condition, resulting in five builds. To know whether your fifth change passed the configured verifications, you’d have to wait for each build to complete, even though the fifth change supersedes the others. With Auto-cancel Builds enabled, Xcode Cloud cancels the first four builds and immediately starts the build for the latest change.\n\n\n\n### Actions\n\nAutomatically and frequently building your project and verifying changes is key to a CI\/CD practice. As a result, configuring a workflow’s actions is a fundamental task you perform in its Actions section. A workflow can perform the following actions:\n\n- Build\n- Test\n- Analyze\n- Archive\n\nNote how these actions match your project’s or workspace’s scheme actions. To create a workflow that fits your requirements, add as many actions to a workflow as needed. For example, create a workflow that performs the test and archive actions for your app.\n\nFor detailed information on actions you configure for an Xcode Cloud workflow, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Configuring-Your-Xcode-Cloud-Workflow-s-Actions]. For additional information on using Xcode Cloud to run your tests, see [https:\/\/developer.apple.com\/wwdc22\/110361].\n\n### Post-actions\n\nPerforming actions is at the core of a workflow. However, similar to how you configure post-actions in a scheme, you can configure post-actions for a workflow that happen after Xcode Cloud performs the workflow’s actions.\n\nBy adding post-actions, you can:\n\n- Configure custom notification settings. For example, limit email notifications to a certain build status, let Xcode Cloud email additional coworkers, or configure Xcode Cloud to send notifications to [https:\/\/slack.com].\n- Distribute a new version of your app to testers using [https:\/\/developer.apple.com\/testflight\/].\n- Upload a version of your app to App Store Connect that you can subsequently submit for app review.\n\nFor additional information on sending notifications to Slack, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Connecting-Xcode-Cloud-to-Slack]\n\n### Custom build scripts\n\nXcode Cloud uses your project’s configured schemes and offers a wide variety of workflow settings. However, you might want to perform additional custom tasks you can’t configure using a scheme or workflow. For example, you might need to install an additional tool to build your project, to upload an app archive to storage, to use a different app icon for nightly builds, and so on.\n\nTo address these use cases, you can create shell scripts, referred to as *custom build scripts*, that Xcode Cloud runs at a specific moment during a build. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Writing-Custom-Build-Scripts].\n\n### Automate workflow management\n\nUsing either Xcode or App Store Connect, you can create custom workflows to verify the quality of your apps or frameworks. However, you may need to further automate Xcode Cloud usage and create and manage numerous workflows for multiple apps — especially in a corporate context. If this applies to you, use the App Store Connect API to manage workflows, start builds, and access Xcode Cloud data. For more information, see [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/xcode-cloud-workflows-and-builds].\n\n## Start conditions\n\n- **Configuring start conditions**: Configure Xcode Cloud to start a build when you update a branch, pull request, or Git tag, or based on a schedule.\n\n## Actions\n\n- **Configuring your Xcode Cloud workflow’s actions**: Add actions to an Xcode Cloud workflow to build, test, analyze, and archive your app or framework when it performs a build.\n\n## Workflows\n\n- **Developing a workflow strategy for Xcode Cloud**: Review how you can best create custom Xcode Cloud workflows to refine your continuous integration and delivery practice.\n- **Creating a workflow that builds your app for distribution**: Configure a workflow to build and sign your app for distribution to testers with TestFlight, in the App Store, or as a notarized app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure Xcode Cloud to start a build when you update a branch, pull request, or Git tag, or based on a schedule.",
          "name" : "Configuring start conditions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Configuring-Start-Conditions"
        }
      ],
      "title" : "Start conditions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Add actions to an Xcode Cloud workflow to build, test, analyze, and archive your app or framework when it performs a build.",
          "name" : "Configuring your Xcode Cloud workflow’s actions",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Configuring-Your-Xcode-Cloud-Workflow-s-Actions"
        }
      ],
      "title" : "Actions"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Review how you can best create custom Xcode Cloud workflows to refine your continuous integration and delivery practice.",
          "name" : "Developing a workflow strategy for Xcode Cloud",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Developing-a-Workflow-Strategy-for-Xcode-Cloud"
        },
        {
          "description" : "Configure a workflow to build and sign your app for distribution to testers with TestFlight, in the App Store, or as a notarized app.",
          "name" : "Creating a workflow that builds your app for distribution",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Creating-a-workflow-that-builds-your-app-for-distribution"
        }
      ],
      "title" : "Workflows"
    }
  ],
  "source" : "appleJSON",
  "title" : "Xcode Cloud workflow reference",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Xcode-Cloud-Workflow-Reference"
}