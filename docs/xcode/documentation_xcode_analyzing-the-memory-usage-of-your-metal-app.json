{
  "abstract" : "Keep your app alive in the background by managing its memory footprint.",
  "codeExamples" : [

  ],
  "contentHash" : "6b1b9c5b3fa93533c5ad24eaebbeb87d3982aabec927819684bde7ba31d491dc",
  "crawledAt" : "2025-12-02T06:11:26Z",
  "id" : "5636E5D9-CC30-4B43-A22E-F3C2507BA491",
  "kind" : "article",
  "overview" : "## Overview\n\nInstruments provides the Game Memory template to help you understand the memory growth in your Metal app. Keeping a small memory footprint allows the system to keep the app alive in the background longer, especially on devices with more constrained memory capacity. For more information, see [https:\/\/developer.apple.com\/videos\/play\/wwdc2022\/10106\/].\n\n### Open the Game Memory template\n\nStart the memory analysis from your Xcode project by choosing Product > Profile, or by pressing Command-I. Alternatively, you can launch Instruments and then select the process from the drop-down list.\n\nIn the Template Selection window, select Game Memory.\n\n\n\n### Get to know the instruments\n\n### Record an Instruments capture\n\nBegin collecting the data by clicking the Record button.\n\n\n\nWithin your app, perform the actions that reproduce the memory problem, and then click the Record button to stop recording.\n\n### Analyze your app’s memory allocations\n\nThe Game Memory template shows both memory allocations and memory footprint.\n\nMemory allocations occupy space in the virtual memory address space. When your app allocates memory, these new allocations may not immediately take up space on physical memory. It’s not until your app uses these allocations that they consume physical memory.\n\nThe Allocations track provides a detailed view of memory allocations, their sizes, and object reference counts.\n\n\n\nThe Statistics view in the bottom detail area displays the categories of memory allocations. At the top of the Category column, there are three umbrella categories that summarize all allocations:\n\nBelow them, you can find more detailed categories. Metal resource allocations are in the `VM: IOAccelerator` category, and drawables are in `VM: IOSurface`.\n\nTo inspect the individual allocations in a category, click the arrow button next to the category name in the table.\n\n\n\nAfter selecting a category, you can sort the table by the Size column to find the largest memory allocation during the selected time range.\n\n\n\nYou can also select an allocation in the list to view its description and stack trace in the inspector on the right.\n\n### Analyze Metal resource allocations\n\nThe Metal Resource Events track displays a history of all Metal-specific resource allocations and deallocations, along with their labels (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Naming-resources-and-commands]).\n\n\n\nThe Resource Events view in the bottom detail area lists the resource allocation and deallocation events. It includes events from created or destroyed resources in the selected time range. Not all resources in the list persisted until the end of the time range.\n\n### Analyze your app’s total virtual memory footprint\n\nThe Allocations track and the Metal Resource Events track both highlight memory allocations. However, allocations don’t always translate to memory footprint. The VM Tracker track shows the noncompressed and compressed\/swapped dirty memory that together make up your app’s memory footprint.\n\nMemory operates on the granularity of pages, and those pages can be either clean or dirty.\n\nTo conserve the amount of physical memory that your app uses, the system may compress or swap out some dirty pages that your app hasn’t accessed recently.\n\n\n\nThe center timeline area graphs the following metrics:\n\nThe corresponding columns are also available in the Summary view of the bottom detail area. There, you can expand the VM region types. In the mapped file type in the screenshot below, you can see the memory-mapped file of the bistro scene that the Modern Renderer app loaded:\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-the-memory-usage-of-your-Metal-app\ncrawled: 2025-12-02T06:11:26Z\n---\n\n# Analyzing the memory usage of your Metal app\n\n**Article**\n\nKeep your app alive in the background by managing its memory footprint.\n\n## Overview\n\nInstruments provides the Game Memory template to help you understand the memory growth in your Metal app. Keeping a small memory footprint allows the system to keep the app alive in the background longer, especially on devices with more constrained memory capacity. For more information, see [https:\/\/developer.apple.com\/videos\/play\/wwdc2022\/10106\/].\n\n### Open the Game Memory template\n\nStart the memory analysis from your Xcode project by choosing Product > Profile, or by pressing Command-I. Alternatively, you can launch Instruments and then select the process from the drop-down list.\n\nIn the Template Selection window, select Game Memory.\n\n\n\n### Get to know the instruments\n\n\n\n### Record an Instruments capture\n\nBegin collecting the data by clicking the Record button.\n\n\n\nWithin your app, perform the actions that reproduce the memory problem, and then click the Record button to stop recording.\n\n### Analyze your app’s memory allocations\n\nThe Game Memory template shows both memory allocations and memory footprint.\n\nMemory allocations occupy space in the virtual memory address space. When your app allocates memory, these new allocations may not immediately take up space on physical memory. It’s not until your app uses these allocations that they consume physical memory.\n\nThe Allocations track provides a detailed view of memory allocations, their sizes, and object reference counts.\n\n\n\n\n\nThe Statistics view in the bottom detail area displays the categories of memory allocations. At the top of the Category column, there are three umbrella categories that summarize all allocations:\n\n\n\nBelow them, you can find more detailed categories. Metal resource allocations are in the `VM: IOAccelerator` category, and drawables are in `VM: IOSurface`.\n\nTo inspect the individual allocations in a category, click the arrow button next to the category name in the table.\n\n\n\nAfter selecting a category, you can sort the table by the Size column to find the largest memory allocation during the selected time range.\n\n\n\nYou can also select an allocation in the list to view its description and stack trace in the inspector on the right.\n\n### Analyze Metal resource allocations\n\nThe Metal Resource Events track displays a history of all Metal-specific resource allocations and deallocations, along with their labels (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Naming-resources-and-commands]).\n\n\n\nThe Resource Events view in the bottom detail area lists the resource allocation and deallocation events. It includes events from created or destroyed resources in the selected time range. Not all resources in the list persisted until the end of the time range.\n\n### Analyze your app’s total virtual memory footprint\n\nThe Allocations track and the Metal Resource Events track both highlight memory allocations. However, allocations don’t always translate to memory footprint. The VM Tracker track shows the noncompressed and compressed\/swapped dirty memory that together make up your app’s memory footprint.\n\nMemory operates on the granularity of pages, and those pages can be either clean or dirty.\n\n\n\nTo conserve the amount of physical memory that your app uses, the system may compress or swap out some dirty pages that your app hasn’t accessed recently.\n\n\n\n\n\nThe center timeline area graphs the following metrics:\n\n\n\nThe corresponding columns are also available in the Summary view of the bottom detail area. There, you can expand the VM region types. In the mapped file type in the screenshot below, you can see the memory-mapped file of the bistro scene that the Modern Renderer app loaded:\n\n\n\n## Graphics\n\n- **Analyzing the performance of your Metal app**: Ensure consistent, smooth rendering by profiling your app’s frame time.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Ensure consistent, smooth rendering by profiling your app’s frame time.",
          "name" : "Analyzing the performance of your Metal app",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-the-performance-of-your-Metal-app"
        }
      ],
      "title" : "Graphics"
    }
  ],
  "source" : "appleJSON",
  "title" : "Analyzing the memory usage of your Metal app",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-the-memory-usage-of-your-Metal-app"
}