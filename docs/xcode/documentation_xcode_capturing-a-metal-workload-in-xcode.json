{
  "abstract" : "Analyze your app’s performance by configuring your project to use the Metal debugger.",
  "codeExamples" : [

  ],
  "contentHash" : "d3da8586f0cb3bc2b30be34149f79e688e944a16217f8144494e853655393612",
  "crawledAt" : "2025-12-02T19:35:35Z",
  "id" : "D4235EE6-2461-45C5-A8AC-C78754596F4E",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nYou can use Xcode to capture your app’s Metal workload. First, ensure that the GPU Frame Capture option is enabled in the runtime diagnostics options. Then, when your app is running, click the Metal Capture button in the debug bar, select a scope, and click Capture.\n\n### Configure the GPU Frame Capture options\n\nXcode automatically enables the GPU Frame Capture option if your target links to the [doc:\/\/com.apple.documentation\/documentation\/Metal] framework, or any other framework that uses the Metal API. If you’re collaborating on a project, it’s possible that someone else may have disabled GPU Frame Capture. To ensure it’s enabled, follow these steps:\n\nThe GPU Frame Capture options include the following:\n\n### Capture your Metal workload while debugging\n\nWhile debugging your app, you can capture a GPU trace by following these steps:\n\nXcode automatically starts capturing a GPU trace when the scope triggers, and then finishes the capture based on the scope and count you select. To manually stop the capture, you can click the Finish button at any time.\n\n### Capture your Metal workload after deployment\n\nCapture a GPU trace after deploying your app by following these steps:\n\nXcode automatically starts capturing a GPU trace when the scope triggers, and then finishes the capture based on the count you select. To manually stop the capture, you can click the Finish button at any time.\n\n### Save the capture to your computer\n\nTo save your captured Metal workload as a GPU trace, choose File > Export. For more information on replaying GPU trace files, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Replaying-a-GPU-trace-file].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Capturing-a-Metal-workload-in-Xcode\ncrawled: 2025-12-02T19:35:35Z\n---\n\n# Capturing a Metal workload in Xcode\n\n**Article**\n\nAnalyze your app’s performance by configuring your project to use the Metal debugger.\n\n## Overview\n\nYou can use Xcode to capture your app’s Metal workload. First, ensure that the GPU Frame Capture option is enabled in the runtime diagnostics options. Then, when your app is running, click the Metal Capture button in the debug bar, select a scope, and click Capture.\n\n### Configure the GPU Frame Capture options\n\nXcode automatically enables the GPU Frame Capture option if your target links to the [doc:\/\/com.apple.documentation\/documentation\/Metal] framework, or any other framework that uses the Metal API. If you’re collaborating on a project, it’s possible that someone else may have disabled GPU Frame Capture. To ensure it’s enabled, follow these steps:\n\n1. In the Xcode toolbar, choose Edit Scheme from the Scheme menu. \n2. Select the Run scheme action.\n3. Select the Options tab.\n4. Choose a GPU Frame Capture option and click Close. \n\nThe GPU Frame Capture options include the following:\n\n\n\n### Capture your Metal workload while debugging\n\nWhile debugging your app, you can capture a GPU trace by following these steps:\n\n1. Click the Metal Capture button in the debug bar. \n2. Select the scope that you want to capture. This can be a frame, Metal layer, command queue, device, or any custom scopes that you set up previously. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Creating-and-using-custom-capture-scopes].\n3. Select the count. Depending on the scope, this might include the number of frames or command buffers.\n4. Optionally, select Profile after Replay so that Xcode automatically profiles after capturing. Profiling has an initial performance impact on the Metal debugger, so only enable this option when debugging your app’s performance. You can always profile later as needed. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Replaying-a-GPU-trace-file].\n5. Click Capture.\n\nXcode automatically starts capturing a GPU trace when the scope triggers, and then finishes the capture based on the scope and count you select. To manually stop the capture, you can click the Finish button at any time.\n\n\n\n### Capture your Metal workload after deployment\n\nCapture a GPU trace after deploying your app by following these steps:\n\n1. In Xcode, choose Debug > Debug Executable.\n2. Select your app in Finder and click Choose. Xcode automatically brings up the scheme editor.\n3. Click the Options tab, choose a GPU Frame Capture option, and click Close. \n4. Run your app by choosing Product > Run.\n5. Click the Metal Capture button in the debug bar. \n6. Select the scope and count that you want to capture. You can optionally select Profile after Replay. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Replaying-a-GPU-trace-file].\n7. Click Capture.\n\nXcode automatically starts capturing a GPU trace when the scope triggers, and then finishes the capture based on the count you select. To manually stop the capture, you can click the Finish button at any time.\n\n\n\n### Save the capture to your computer\n\nTo save your captured Metal workload as a GPU trace, choose File > Export. For more information on replaying GPU trace files, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Replaying-a-GPU-trace-file].\n\n## Essentials\n\n- **Capturing a Metal workload programmatically**: Analyze your app’s performance by invoking Metal’s frame capture.\n- **Replaying a GPU trace file**: Debug and profile your app’s performance using a GPU trace file in the Metal debugger.\n- **Investigating visual artifacts**: Discover, diagnose, and fix visual artifacts in your app with the Metal debugger.\n- **Optimizing GPU performance**: Find and address performance bottlenecks using the Metal debugger.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Analyze your app’s performance by invoking Metal’s frame capture.",
          "name" : "Capturing a Metal workload programmatically",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Capturing-a-Metal-workload-programmatically"
        },
        {
          "description" : "Debug and profile your app’s performance using a GPU trace file in the Metal debugger.",
          "name" : "Replaying a GPU trace file",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Replaying-a-GPU-trace-file"
        },
        {
          "description" : "Discover, diagnose, and fix visual artifacts in your app with the Metal debugger.",
          "name" : "Investigating visual artifacts",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Investigating-visual-artifacts"
        },
        {
          "description" : "Find and address performance bottlenecks using the Metal debugger.",
          "name" : "Optimizing GPU performance",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Optimizing-GPU-performance"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Capturing a Metal workload in Xcode",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Capturing-a-Metal-workload-in-Xcode"
}