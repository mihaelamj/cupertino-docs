{
  "abstract" : "Manage your Metal app’s memory usage by inspecting its resources.",
  "codeExamples" : [

  ],
  "contentHash" : "d36850f7b9ed299046ac1bdea9c4fb8d98b235f961259534a043446101e24fbd",
  "crawledAt" : "2025-12-02T19:35:41Z",
  "id" : "F7D273FC-508B-4583-9606-0BC2453EFB42",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nThe Memory viewer provides comprehensive information about your app’s memory usage in Metal. The Memory viewer’s top section presents a breakdown of memory by categories, and the bottom section displays a table of resources. In the table, you can inspect resources for their memory size, configuration, and other characteristics.\n\n\n\nMetal apps create many resources, and those resources consume a lot of memory. For example, to render an animated character using a physically based renderer, you might need buffers to hold vertex and animation data, and multiple textures to provide material attributes. When you scale these requirements to multiple characters and larger scenes, your app’s memory footprint grows significantly.\n\nAdditionally, when you create Metal resources, specifying their configuration precisely has a substantial effect on performance. The Metal debugger analyzes the configuration you provide and uses it to create the underlying GPU representation of a resource. For example, if you create a resource with a private storage mode, Metal can optimize the resource for GPU access, and doesn’t need to store data in a location or format directly accessible from the CPU.\n\n### Examine the bar graphs\n\nThe categories in the top section of the Memory viewer organize memory usage data and provide memory totals based on the following criteria:\n\nEach bar graph consists of segments representing the largest resources that it tracks. The final segment of each bar graph shows an aggregate total for its smaller resources. Move your pointer over a segment to view a popover with the name of the resource, its size, and other information. Click a segment to get more information about that specific resource.\n\n\n\n### Inspect the resources table\n\nTo improve how your app creates and manages resources, you need data about how it uses them. The Memory viewer provides information about the resources that are live in your Metal app during a capture.\n\n\n\nThe resources table provides the following information for all resource types:\n\nFor textures, you can add the following columns:\n\nFor buffers, you can add the following column:\n\nFor heaps, you can add the following columns:\n\nFor indirect command buffers, you can add the following column:\n\nFor acceleration structures, you can add the following column:\n\n### Improve your Metal workload with Insights\n\nClick the Insights button in the bottom right corner to open a popover of recommendations for the resources.\n\n\n\n### Limit your scope with filters\n\nUse the filter field at the bottom of the Memory viewer to adjust filtering criteria. Type filter terms into the field, and the resources table displays any resources with labels that match those filter terms.\n\nYou can also click the filter button to add filters for specific kinds of resources, to limit the table to resources that the captured frame uses, and to limit the table to just volatile resources.\n\nWhen there are two or more filter terms, you can click the filter button to choose whether to match any or all of the terms. For any filter term, you can click it to choose to include or exclude resources that match that term.\n\n### Group and sort resources to detect patterns\n\nBy default, the resources table shows all resources in a single list. You can click a column header to sort the table by that column in ascending or descending order. You can also group the resources by certain criteria.\n\nControl-click an entry in the table to group the resources by any of the following criteria:\n\nFrom this same context menu, you can also choose to sort by a specific criteria, which is equivalent to clicking a column heading for sorting.\n\n### Get more information about a specific resource\n\nYou can also get more information about a specific resource by Control-clicking it and selecting Get Info.\n\nFor example, for a texture, the additional information shows details specific to that texture, such as its pixel format and dimensions. To see the contents of the texture, double-click it.\n\n### Export a memory report\n\nTo share the data in the Memory viewer, you can export it in the following ways:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-memory-usage\ncrawled: 2025-12-02T19:35:41Z\n---\n\n# Analyzing memory usage\n\n**Article**\n\nManage your Metal app’s memory usage by inspecting its resources.\n\n## Overview\n\nThe Memory viewer provides comprehensive information about your app’s memory usage in Metal. The Memory viewer’s top section presents a breakdown of memory by categories, and the bottom section displays a table of resources. In the table, you can inspect resources for their memory size, configuration, and other characteristics.\n\n\n\nMetal apps create many resources, and those resources consume a lot of memory. For example, to render an animated character using a physically based renderer, you might need buffers to hold vertex and animation data, and multiple textures to provide material attributes. When you scale these requirements to multiple characters and larger scenes, your app’s memory footprint grows significantly.\n\nAdditionally, when you create Metal resources, specifying their configuration precisely has a substantial effect on performance. The Metal debugger analyzes the configuration you provide and uses it to create the underlying GPU representation of a resource. For example, if you create a resource with a private storage mode, Metal can optimize the resource for GPU access, and doesn’t need to store data in a location or format directly accessible from the CPU.\n\n### Examine the bar graphs\n\nThe categories in the top section of the Memory viewer organize memory usage data and provide memory totals based on the following criteria:\n\n\n\nEach bar graph consists of segments representing the largest resources that it tracks. The final segment of each bar graph shows an aggregate total for its smaller resources. Move your pointer over a segment to view a popover with the name of the resource, its size, and other information. Click a segment to get more information about that specific resource.\n\n\n\n### Inspect the resources table\n\nTo improve how your app creates and manages resources, you need data about how it uses them. The Memory viewer provides information about the resources that are live in your Metal app during a capture.\n\n\n\nThe resources table provides the following information for all resource types:\n\n\n\nFor textures, you can add the following columns:\n\n\n\nFor buffers, you can add the following column:\n\n\n\nFor heaps, you can add the following columns:\n\n\n\nFor indirect command buffers, you can add the following column:\n\n\n\nFor acceleration structures, you can add the following column:\n\n\n\n### Improve your Metal workload with Insights\n\nClick the Insights button in the bottom right corner to open a popover of recommendations for the resources.\n\n\n\n### Limit your scope with filters\n\nUse the filter field at the bottom of the Memory viewer to adjust filtering criteria. Type filter terms into the field, and the resources table displays any resources with labels that match those filter terms.\n\nYou can also click the filter button to add filters for specific kinds of resources, to limit the table to resources that the captured frame uses, and to limit the table to just volatile resources.\n\nWhen there are two or more filter terms, you can click the filter button to choose whether to match any or all of the terms. For any filter term, you can click it to choose to include or exclude resources that match that term.\n\n### Group and sort resources to detect patterns\n\nBy default, the resources table shows all resources in a single list. You can click a column header to sort the table by that column in ascending or descending order. You can also group the resources by certain criteria.\n\nControl-click an entry in the table to group the resources by any of the following criteria:\n\n\n\nFrom this same context menu, you can also choose to sort by a specific criteria, which is equivalent to clicking a column heading for sorting.\n\n### Get more information about a specific resource\n\nYou can also get more information about a specific resource by Control-clicking it and selecting Get Info.\n\nFor example, for a texture, the additional information shows details specific to that texture, such as its pixel format and dimensions. To see the contents of the texture, double-click it.\n\n### Export a memory report\n\nTo share the data in the Memory viewer, you can export it in the following ways:\n\n- Export a GPU trace: Choose File > Export and select a location to save the GPU trace file. You can then open the trace file later.\n- Export a comma-separated values (CSV) file: Choose Editor > Export Memory Report to generate the CSV file. The resulting file has all of the columns you see in the resource view. You can open this file in Numbers or another spreadsheet app.\n\n## Metal workload analysis\n\n- **Analyzing your Metal workload**: Investigate your app’s workload, dependencies, performance, and memory impact using the Metal debugger.\n- **Analyzing resource dependencies**: Avoid unnecessary work in your Metal app by understanding the relationships between resources.\n- **Analyzing Apple GPU performance using a visual timeline**: Locate performance issues using the Performance timeline.\n- **Analyzing Apple GPU performance using counter statistics**: Optimize performance by examining counters for individual passes and commands.\n- **Analyzing Apple GPU performance with performance heat maps**: Gain insights to SIMD group performance by inspecting source code execution.\n- **Analyzing Apple GPU performance using the shader cost graph**: Discover potential shader performance issues by examining pipeline states.\n- **Analyzing non-Apple GPU performance using counter statistics**: Optimize performance by examining counters for individual passes and commands.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Investigate your app’s workload, dependencies, performance, and memory impact using the Metal debugger.",
          "name" : "Analyzing your Metal workload",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-your-Metal-workload"
        },
        {
          "description" : "Avoid unnecessary work in your Metal app by understanding the relationships between resources.",
          "name" : "Analyzing resource dependencies",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-resource-dependencies"
        },
        {
          "description" : "Locate performance issues using the Performance timeline.",
          "name" : "Analyzing Apple GPU performance using a visual timeline",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-Apple-GPU-performance-using-a-visual-timeline"
        },
        {
          "description" : "Optimize performance by examining counters for individual passes and commands.",
          "name" : "Analyzing Apple GPU performance using counter statistics",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-Apple-GPU-performance-using-counter-statistics"
        },
        {
          "description" : "Gain insights to SIMD group performance by inspecting source code execution.",
          "name" : "Analyzing Apple GPU performance with performance heat maps",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-Apple-GPU-performance-using-performance-heatmaps-a17-m3"
        },
        {
          "description" : "Discover potential shader performance issues by examining pipeline states.",
          "name" : "Analyzing Apple GPU performance using the shader cost graph",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-Apple-GPU-performance-using-shader-cost-graph-a17-m3"
        },
        {
          "description" : "Optimize performance by examining counters for individual passes and commands.",
          "name" : "Analyzing non-Apple GPU performance using counter statistics",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-non-Apple-GPU-performance-using-counter-statistics"
        }
      ],
      "title" : "Metal workload analysis"
    }
  ],
  "source" : "appleJSON",
  "title" : "Analyzing memory usage",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Analyzing-memory-usage"
}