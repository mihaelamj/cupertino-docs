{
  "abstract" : "Modify the appearance of your Metal heads-up display to monitor your graphics performance.",
  "codeExamples" : [
    {
      "code" : "myMetalLayer.developerHUDProperties = [\n    \"mode\": \"default\",\n    \"logging\": \"default\",\n    \"positionX\": 0,\n    \"positionY\": 0,\n    \/\/ ...\n]",
      "language" : "swift"
    },
    {
      "code" : "export MTL_HUD_CONFIG_FILE=<path>"
    }
  ],
  "contentHash" : "91aa99a47c9dc535d1443862f44cb6b51e8ce883168f1a64d6d558d30239e563",
  "crawledAt" : "2025-12-02T19:54:32Z",
  "id" : "C6DADAF3-4FF9-4742-ADB1-2AB10AA070F2",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nYou can customize the appearance of the Metal Performance HUD in a variety of ways, including its size and opacity, or change the metrics that appear in the overlay.\n\nIn macOS, you can export the HUD settings and apply them to your app at launch.\n\n### Customize the Metal Performance HUD on macOS\n\nWhen you enable the Metal Performance HUD in your app, the HUD adds a new Metal HUD menu to the menu bar.\n\n\n\nThe Metal HUD menu provides a quick way to configure the HUD, create performance reports (see  [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Generating-performance-reports-with-metal-performance-hud]), and access the configuration panel.\n\nThe configuration panel is where you can fully customize the HUD.\n\nYou can enable or disable various features in the `HUD` panel, such as encoder GPU time tracking (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Monitoring-your-Metal-apps-graphics-performance]), or adjust the overlay’s opacity, scale, and position.\n\n\n\nIn the Metrics panel, you can see the list of available metrics in the overlay. To learn more about these metrics, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Understanding-metal-performance-hud-metrics].\n\n\n\nIn the Insights panel, enable the performance insights feature to help you find potential performance issues. This feature tracks the usage of the Metal API and highlights potential bottlenecks. To learn more, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Gaining-performance-insights-with-metal-performance-hud].\n\n\n\n### Customize the Metal Performance HUD on a device\n\nYou can customize the Metal Performance HUD and logging on an iOS or iPadOS device in the Developer settings by following these steps:\n\nThe following screenshot shows the options in iOS:\n\n\n\n### Customize the Metal Performance HUD programmatically\n\nYou can customize the Metal Performance HUD programmatically by configuring the `CAMetalLayer` instance’s `developerHUDProperties` dictionary with the following:\n\nAdditionally, you can add various effects by setting environment variables that the HUD supports in the dictionary, including:\n\n### Save and load the Metal Performance HUD configuration\n\nYou can save your custom Metal Performance HUD configuration by clicking the Export HUD Configuration button in the configuration panel.\n\n\n\nThe configuration file is a property list file containing key-value pairs of environment variables, and you can pass it into the HUD by setting the `MTL_HUD_CONFIG_FILE` environment variable.\n\nAlternatively, you can use the Copy HUD Configuration option in the Metal HUD menu, which exports the current state of the HUD with a list of environment variables that you can pass to your app at launch.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Customizing-metal-performance-hud\ncrawled: 2025-12-02T19:54:32Z\n---\n\n# Customizing the Metal Performance HUD\n\n**Article**\n\nModify the appearance of your Metal heads-up display to monitor your graphics performance.\n\n## Overview\n\nYou can customize the appearance of the Metal Performance HUD in a variety of ways, including its size and opacity, or change the metrics that appear in the overlay.\n\nIn macOS, you can export the HUD settings and apply them to your app at launch.\n\n### Customize the Metal Performance HUD on macOS\n\nWhen you enable the Metal Performance HUD in your app, the HUD adds a new Metal HUD menu to the menu bar.\n\n\n\nThe Metal HUD menu provides a quick way to configure the HUD, create performance reports (see  [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Generating-performance-reports-with-metal-performance-hud]), and access the configuration panel.\n\n\n\nThe configuration panel is where you can fully customize the HUD.\n\nYou can enable or disable various features in the `HUD` panel, such as encoder GPU time tracking (see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Monitoring-your-Metal-apps-graphics-performance]), or adjust the overlay’s opacity, scale, and position.\n\n\n\nIn the Metrics panel, you can see the list of available metrics in the overlay. To learn more about these metrics, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Understanding-metal-performance-hud-metrics].\n\n\n\nIn the Insights panel, enable the performance insights feature to help you find potential performance issues. This feature tracks the usage of the Metal API and highlights potential bottlenecks. To learn more, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Gaining-performance-insights-with-metal-performance-hud].\n\n\n\n### Customize the Metal Performance HUD on a device\n\nYou can customize the Metal Performance HUD and logging on an iOS or iPadOS device in the Developer settings by following these steps:\n\n1. Open the Settings app.\n2. Select Developer.\n3. Under Graphics HUD, click Graphics HUD to access the settings.\n\nThe following screenshot shows the options in iOS:\n\n\n\n\n\n### Customize the Metal Performance HUD programmatically\n\nYou can customize the Metal Performance HUD programmatically by configuring the `CAMetalLayer` instance’s `developerHUDProperties` dictionary with the following:\n\n```swift\nmyMetalLayer.developerHUDProperties = [\n    \"mode\": \"default\",\n    \"logging\": \"default\",\n    \"positionX\": 0,\n    \"positionY\": 0,\n    \/\/ ...\n]\n```\n\n\n\nAdditionally, you can add various effects by setting environment variables that the HUD supports in the dictionary, including:\n\n\n\n### Save and load the Metal Performance HUD configuration\n\nYou can save your custom Metal Performance HUD configuration by clicking the Export HUD Configuration button in the configuration panel.\n\n\n\nThe configuration file is a property list file containing key-value pairs of environment variables, and you can pass it into the HUD by setting the `MTL_HUD_CONFIG_FILE` environment variable.\n\n```\nexport MTL_HUD_CONFIG_FILE=<path>\n```\n\nAlternatively, you can use the Copy HUD Configuration option in the Metal HUD menu, which exports the current state of the HUD with a list of environment variables that you can pass to your app at launch.\n\n\n\n## Runtime diagnostics\n\n- **Inspecting live resources at runtime**: Validate your resources by viewing the contents of your textures and buffers while debugging your Metal app.\n- **Validating your app’s Metal API usage**: Catch runtime issues in your Metal app using API Validation.\n- **Validating your app’s Metal shader usage**: Catch common shader runtime issues using Shader Validation while your app is running.\n- **Monitoring your Metal app’s graphics performance**: Catch performance issues using the Metal Performance HUD while your app runs.\n- **Understanding the Metal Performance HUD metrics**: Learn what each of the metrics reported by the heads-up display indicates.\n- **Gaining performance insights with the Metal Performance HUD**: Catch potential performance issues while your app runs using the Metal heads-up display.\n- **Generating performance reports with the Metal Performance HUD**: Record your app’s performance using the heads-up display.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Validate your resources by viewing the contents of your textures and buffers while debugging your Metal app.",
          "name" : "Inspecting live resources at runtime",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-live-resources-at-runtime"
        },
        {
          "description" : "Catch runtime issues in your Metal app using API Validation.",
          "name" : "Validating your app’s Metal API usage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Validating-your-apps-Metal-API-usage"
        },
        {
          "description" : "Catch common shader runtime issues using Shader Validation while your app is running.",
          "name" : "Validating your app’s Metal shader usage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Validating-your-apps-Metal-shader-usage"
        },
        {
          "description" : "Catch performance issues using the Metal Performance HUD while your app runs.",
          "name" : "Monitoring your Metal app’s graphics performance",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Monitoring-your-Metal-apps-graphics-performance"
        },
        {
          "description" : "Learn what each of the metrics reported by the heads-up display indicates.",
          "name" : "Understanding the Metal Performance HUD metrics",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Understanding-metal-performance-hud-metrics"
        },
        {
          "description" : "Catch potential performance issues while your app runs using the Metal heads-up display.",
          "name" : "Gaining performance insights with the Metal Performance HUD",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Gaining-performance-insights-with-metal-performance-hud"
        },
        {
          "description" : "Record your app’s performance using the heads-up display.",
          "name" : "Generating performance reports with the Metal Performance HUD",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Generating-performance-reports-with-metal-performance-hud"
        }
      ],
      "title" : "Runtime diagnostics"
    }
  ],
  "source" : "appleJSON",
  "title" : "Customizing the Metal Performance HUD",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Customizing-metal-performance-hud"
}