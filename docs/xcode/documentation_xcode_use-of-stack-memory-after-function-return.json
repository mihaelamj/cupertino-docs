{
  "abstract" : "Detects when you access stack variable memory after its declaring function returns.",
  "codeExamples" : [
    {
      "code" : "int *integer_pointer_returning_function() {\n    int value = 42;\n    return &value;\n}\n\nint *integer_pointer = integer_returning_function();\n*integer_pointer = 43; \/\/ Error: invalid access of returned stack memory",
      "language" : "occ"
    }
  ],
  "contentHash" : "36fbd956c3e13b5a8883d15f803f9d343ed058eaf1bff75464f9d2994406da2d",
  "crawledAt" : "2025-12-02T06:10:56Z",
  "id" : "54AE5A0C-1C7F-4DBF-8E22-3B3A95F67655",
  "kind" : "article",
  "overview" : "## Overview\n\nUse this check to detect access to a stack variable that a function declares after that function returns. Attempting to access stack memory in this manner can lead to crashes, or result in unpredictable behavior. Available in Xcode 9 and later.\n\n### Use of stack memory after return in C\n\nIn the following example, the `integer_pointer_returning_function` function returns a pointer to a stack variable, and there’s an attempt to access the memory of the returned pointer:\n\n#### Solution\n\nUse pointer arguments to allow a function to return values by reference.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-stack-memory-after-function-return\ncrawled: 2025-12-02T06:10:56Z\n---\n\n# Use of stack memory after function return\n\n**Article**\n\nDetects when you access stack variable memory after its declaring function returns.\n\n## Overview\n\nUse this check to detect access to a stack variable that a function declares after that function returns. Attempting to access stack memory in this manner can lead to crashes, or result in unpredictable behavior. Available in Xcode 9 and later.\n\n\n\n### Use of stack memory after return in C\n\nIn the following example, the `integer_pointer_returning_function` function returns a pointer to a stack variable, and there’s an attempt to access the memory of the returned pointer:\n\n```occ\nint *integer_pointer_returning_function() {\n    int value = 42;\n    return &value;\n}\n\nint *integer_pointer = integer_returning_function();\n*integer_pointer = 43; \/\/ Error: invalid access of returned stack memory\n```\n\n#### Solution\n\nUse pointer arguments to allow a function to return values by reference.\n\n## Address Sanitizer\n\n- **Use of deallocated memory**: Detects the use of deallocated memory.\n- **Deallocation of deallocated memory**: Detects attempts to free deallocated memory.\n- **Deallocation of nonallocated memory**: Detects attempts to free nonallocated memory.\n- **Use of out-of-scope stack memory**: Detects access to variables outside of their declared scope.\n- **Overflow and underflow of buffers**: Detects when you access memory outside of a buffer’s boundaries.\n- **Overflow of C++ containers**: Detects when you access a C++ container outside its bounds.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Detects the use of deallocated memory.",
          "name" : "Use of deallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-deallocated-memory"
        },
        {
          "description" : "Detects attempts to free deallocated memory.",
          "name" : "Deallocation of deallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/deallocation-of-deallocated-memory"
        },
        {
          "description" : "Detects attempts to free nonallocated memory.",
          "name" : "Deallocation of nonallocated memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/deallocation-of-nonallocated-memory"
        },
        {
          "description" : "Detects access to variables outside of their declared scope.",
          "name" : "Use of out-of-scope stack memory",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-out-of-scope-stack-memory"
        },
        {
          "description" : "Detects when you access memory outside of a buffer’s boundaries.",
          "name" : "Overflow and underflow of buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/overflow-and-underflow-of-buffers"
        },
        {
          "description" : "Detects when you access a C++ container outside its bounds.",
          "name" : "Overflow of C++ containers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/overflow-of-c-containers"
        }
      ],
      "title" : "Address Sanitizer"
    }
  ],
  "source" : "appleJSON",
  "title" : "Use of stack memory after function return",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/use-of-stack-memory-after-function-return"
}