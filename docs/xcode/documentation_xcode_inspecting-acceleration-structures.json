{
  "abstract" : "Reveal ray intersection bottlenecks by examining your acceleration structures.",
  "codeExamples" : [

  ],
  "contentHash" : "d86684f4aef82b242f2aa3f262c45d2689127b6e58ee585ed980780f551a6d12",
  "crawledAt" : "2025-12-02T19:54:18Z",
  "id" : "D514114D-10D9-4419-B452-A6039F3F1ECB",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nAn *acceleration structure* is a data structure that Metal uses to accelerate ray intersection tests on the GPU. The Metal debugger allows you to inspect an acceleration structure with the Acceleration Structure viewer. After opening an acceleration structure, you can view it and its associated properties, along with various highlights.\n\n### Navigate your acceleration structure\n\nYou can navigate your acceleration structure using the two panes of the Acceleration Structure viewer — the structure outline on the left or the scene view on the right.\n\n\n\nThe structure outline shows the components of your acceleration structure, along with their various properties. You can click any row in the structure outline to highlight the component of your acceleration structure in the scene view, or Control-click to jump to it.\n\nThe scene view shows a 3D representation of your acceleration structure. You can navigate around the scene or interact with your acceleration structure using the following controls:\n\n### Change the camera mode\n\nIf you’re using the Fly camera, dragging in the scene view rotates the camera. Alternatively, when using the Orbit camera, dragging orbits the camera around any primitive beneath the pointer, or around the scene center if there’s no primitive. You can click the Camera button in the control bar to switch between modes.\n\n\n\n### Configure intersection functions\n\nXcode automatically picks an intersection function table to use when rendering the scene, depending on how you open your acceleration structure. For example, if you open your acceleration structure from the Bound Resources viewer, Xcode selects any bound intersection function tables with matching intersector tags. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-the-bound-resources-for-a-command]. If you open your acceleration structure from the All Resources viewer or the Memory viewer, Xcode automatically selects the last intersection function table, with matching intersector tags, in your workload. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Analyzing-memory-usage].\n\nYou can switch to the intersection function table outline to configure which intersection function table the Acceleration Structure viewer uses. If you select None, the Acceleration Structure viewer doesn’t use any intersection functions and relies solely on the geometry intersection. If you select an intersection function table, the system uses the intersection function corresponding to the intersection function table offset of each geometry to evaluate whether to accept an intersection. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLAccelerationStructureGeometryDescriptor\/intersectionFunctionTableOffset] and `accept_intersection` in the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf].\n\n\n\n### Configure acceleration structure traversal behavior\n\nYou can override the default behavior of the acceleration structure traversal by clicking the arrow in the bottom right of the control bar. The popover options let you configure the same properties as the intersector to control traversal behavior (see [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf]). Match the traversal behavior with your shader to ensure that the Acceleration Structure viewer is correct.\n\n\n\n### View your acceleration structure with highlights\n\nYou can view your acceleration structure with different highlights to emphasize various properties. To enable and switch between modes, click the Highlight button in the control bar.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### View per-primitive data\n\nTo view per-primitive data, first navigate to a primitive in the structure outline. Then, click the arrow next to the data property to open a Buffer viewer containing the per-primitive data.\n\n\n\nFor information on configuring the Buffer viewer to better interpret the data, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-buffers].\n\n### View motion data\n\nIf your acceleration structure includes motion data, Xcode automatically shows additional motion data properties per-instance or per-geometry in the structure outline.\n\n\n\nAdditional motion controls appear in the control bar. You can drag the motion timeline playhead to change the preview time. Alternatively, you can click the Play\/Pause button and Xcode repeatedly bounces the current motion time between the minimum start time and the maximum end time.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-acceleration-structures\ncrawled: 2025-12-02T19:54:18Z\n---\n\n# Inspecting acceleration structures\n\n**Article**\n\nReveal ray intersection bottlenecks by examining your acceleration structures.\n\n## Overview\n\nAn *acceleration structure* is a data structure that Metal uses to accelerate ray intersection tests on the GPU. The Metal debugger allows you to inspect an acceleration structure with the Acceleration Structure viewer. After opening an acceleration structure, you can view it and its associated properties, along with various highlights.\n\n### Navigate your acceleration structure\n\nYou can navigate your acceleration structure using the two panes of the Acceleration Structure viewer — the structure outline on the left or the scene view on the right.\n\n\n\nThe structure outline shows the components of your acceleration structure, along with their various properties. You can click any row in the structure outline to highlight the component of your acceleration structure in the scene view, or Control-click to jump to it.\n\nThe scene view shows a 3D representation of your acceleration structure. You can navigate around the scene or interact with your acceleration structure using the following controls:\n\n\n\n### Change the camera mode\n\nIf you’re using the Fly camera, dragging in the scene view rotates the camera. Alternatively, when using the Orbit camera, dragging orbits the camera around any primitive beneath the pointer, or around the scene center if there’s no primitive. You can click the Camera button in the control bar to switch between modes.\n\n\n\n### Configure intersection functions\n\nXcode automatically picks an intersection function table to use when rendering the scene, depending on how you open your acceleration structure. For example, if you open your acceleration structure from the Bound Resources viewer, Xcode selects any bound intersection function tables with matching intersector tags. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-the-bound-resources-for-a-command]. If you open your acceleration structure from the All Resources viewer or the Memory viewer, Xcode automatically selects the last intersection function table, with matching intersector tags, in your workload. For more information, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Analyzing-memory-usage].\n\nYou can switch to the intersection function table outline to configure which intersection function table the Acceleration Structure viewer uses. If you select None, the Acceleration Structure viewer doesn’t use any intersection functions and relies solely on the geometry intersection. If you select an intersection function table, the system uses the intersection function corresponding to the intersection function table offset of each geometry to evaluate whether to accept an intersection. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLAccelerationStructureGeometryDescriptor\/intersectionFunctionTableOffset] and `accept_intersection` in the [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf].\n\n\n\n### Configure acceleration structure traversal behavior\n\nYou can override the default behavior of the acceleration structure traversal by clicking the arrow in the bottom right of the control bar. The popover options let you configure the same properties as the intersector to control traversal behavior (see [https:\/\/developer.apple.com\/metal\/Metal-Shading-Language-Specification.pdf]). Match the traversal behavior with your shader to ensure that the Acceleration Structure viewer is correct.\n\n\n\n### View your acceleration structure with highlights\n\nYou can view your acceleration structure with different highlights to emphasize various properties. To enable and switch between modes, click the Highlight button in the control bar.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### View per-primitive data\n\nTo view per-primitive data, first navigate to a primitive in the structure outline. Then, click the arrow next to the data property to open a Buffer viewer containing the per-primitive data.\n\n\n\nFor information on configuring the Buffer viewer to better interpret the data, see [doc:\/\/com.apple.Xcode\/documentation\/Xcode\/Inspecting-buffers].\n\n\n\n### View motion data\n\nIf your acceleration structure includes motion data, Xcode automatically shows additional motion data properties per-instance or per-geometry in the structure outline.\n\n\n\nAdditional motion controls appear in the control bar. You can drag the motion timeline playhead to change the preview time. Alternatively, you can click the Play\/Pause button and Xcode repeatedly bounces the current motion time between the minimum start time and the maximum end time.\n\n\n\n## Metal resource inspection\n\n- **Inspecting buffers**: Confirm your buffer formats by examining buffer content.\n- **Inspecting pipeline states**: Determine how your render and compute passes behave by examining their properties.\n- **Inspecting sampler states**: Verify your sampler state configurations by examining their properties.\n- **Inspecting shaders**: Improve your app’s shader performance by examining and editing your shaders.\n- **Inspecting textures**: Discover issues in your textures by examining their content.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Confirm your buffer formats by examining buffer content.",
          "name" : "Inspecting buffers",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-buffers"
        },
        {
          "description" : "Determine how your render and compute passes behave by examining their properties.",
          "name" : "Inspecting pipeline states",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-pipeline-states"
        },
        {
          "description" : "Verify your sampler state configurations by examining their properties.",
          "name" : "Inspecting sampler states",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-sampler-states"
        },
        {
          "description" : "Improve your app’s shader performance by examining and editing your shaders.",
          "name" : "Inspecting shaders",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-shaders"
        },
        {
          "description" : "Discover issues in your textures by examining their content.",
          "name" : "Inspecting textures",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-textures"
        }
      ],
      "title" : "Metal resource inspection"
    }
  ],
  "source" : "appleJSON",
  "title" : "Inspecting acceleration structures",
  "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/Inspecting-acceleration-structures"
}