{
  "abstract" : "Prepare your test environment to test in-app purchases with data you configure locally.",
  "codeExamples" : [
    {
      "code" : "#if DEBUG\n    let certificate = \"StoreKitTestCertificate\" \n#else\n    let certificate = \"AppleIncRootCertificate\" \n#endif",
      "language" : "swift"
    }
  ],
  "contentHash" : "3ad8a43935cc76da40c50c7898c95199083aa5c37c0be6aec8322a0773ca4e3e",
  "crawledAt" : "2025-12-05T12:55:08Z",
  "id" : "FA50563B-1A84-4E78-A779-E652E5F6D32E",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nStoreKit Testing in Xcode is a local test environment for testing in-app purchases without requiring a connection to App Store servers. Set up in-app purchases in a local StoreKit configuration file in your Xcode project, or create a synced StoreKit configuration file in Xcode from your in-app purchase settings in App Store Connect. After you enable the configuration file, the test environment uses this local data when your app calls StoreKit APIs.\n\nAs you test transactions, the test environment displays a payment sheet with localized values, and produces receipts for you to verify.\n\nTesting in-app purchase scenarios with StoreKit in Xcode is useful for:\n\nThe full functionality of StoreKit Testing in Xcode is available for automation. See [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] for information about automating in-app purchase testing. For more information about testing StoreKit at different stages of development, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox].\n\n### Create a StoreKit configuration file\n\nA StoreKit configuration file contains descriptions of in-app purchases, subscription groups, auto-renewable subscriptions, and non-renewing subscriptions. When the configuration file is active, StoreKit uses this data when your app calls StoreKit APIs in the test environment. There are two types of StoreKit configuration files: local and, in Xcode 14 and later, synced.\n\nTo create a StoreKit configuration file:\n\n\n\nIf you rename the configuration file, be sure to keep its file extension .`storekit`.\n\n### Set up a StoreKit configuration\n\nTo edit the settings in a local StoreKit configuration file, select the file in the Project navigator to open the custom editor. Click the Add button (+) in the editor to add product details to the configuration file.\n\nEnter the information in your local StoreKit configuration file manually. The product names, IDs, prices, localizations, and any other data you provide in the StoreKit configuration file don’t upload to App Store Connect, and don’t appear in App Store-signed apps. App Store Connect data transfers only to a synced StoreKit configuration file, which you can’t edit in Xcode.\n\nEach in-app purchase and non-renewing subscription has a reference name, product ID, and price. In-app purchases and non-renewing subscriptions optionally have localizations. This metadata shows up in the payment sheet after you click to buy a product in your app. Note that the price is a placeholder value that’s not connected to price tiers or real pricing information. However, it appears using the correct currency symbols for the storefront you’re testing.\n\nFor non-consumable in-app purchases and auto-renewable subscriptions, select Family Sharing to mark the product for sharing as the following image shows:\n\n\n\nWhen you set up the first auto-renewable subscription, Xcode prompts you to create the first subscription group. After adding subscriptions to a group, the level you assign to each subscription determines their upgrade and downgrade options. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/offer-auto-renewable-subscriptions].\n\nFor auto-renewable subscriptions, set up introductory offers and promotional offers with the options available in App Store Connect. To begin testing, configure at least one in-app purchase product.\n\n### Enable StoreKit Testing in Xcode\n\nTo enable StoreKit Testing in Xcode, your project must have an active StoreKit configuration file. By default, StoreKit Testing in Xcode is disabled. To select a configuration file and make it active:\n\n\n\nYou can also add an existing StoreKit configuration file to the project from this menu. Choose a configuration file with a .`storekit` file extension.\n\nAn Xcode project can contain multiple StoreKit configuration files, but only one can be active at a time. When it’s active, build and run your app as usual. Instead of accessing App Store Connect or the sandbox server, your app gets StoreKit data from the test environment.\n\n### Disable StoreKit Testing in Xcode\n\nTo disable StoreKit Testing in Xcode, remove the StoreKit configuration file from the scheme’s run options:\n\n\n\nYour app stops using the local data from the configuration file and starts using the data from App Store Connect. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/overview-for-configuring-in-app-purchases].\n\n### Prepare to validate receipts in the test environment\n\nStoreKit Testing in Xcode generates locally signed receipts that your app validates locally. Obtain the certificate you need for local validation and add it to your project as follows:\n\n\n\nBe sure your code uses the correct certificate in all environments. Add the following conditional compilation block to your receipt validation code to select the test certificate for testing, and the Apple root certificate, otherwise:\n\nYour code is ready to validate receipts by selecting the appropriate certificate in the test environment and in the production environment.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/xcode\/setting-up-storekit-testing-in-xcode\ncrawled: 2025-12-05T12:55:08Z\n---\n\n# Setting up StoreKit Testing in Xcode\n\n**Article**\n\nPrepare your test environment to test in-app purchases with data you configure locally.\n\n## Overview\n\nStoreKit Testing in Xcode is a local test environment for testing in-app purchases without requiring a connection to App Store servers. Set up in-app purchases in a local StoreKit configuration file in your Xcode project, or create a synced StoreKit configuration file in Xcode from your in-app purchase settings in App Store Connect. After you enable the configuration file, the test environment uses this local data when your app calls StoreKit APIs.\n\n\n\nAs you test transactions, the test environment displays a payment sheet with localized values, and produces receipts for you to verify.\n\nTesting in-app purchase scenarios with StoreKit in Xcode is useful for:\n\n- Developing features that use in-app purchases before configuring them in [https:\/\/appstoreconnect.apple.com\/login].\n- Testing locally when a network connection isn’t available.\n- Debugging in-app purchase use cases that are harder to set up in the sandbox environment, such as eligibility for promotional offers.\n- Viewing localized product information in the payment sheet.\n- Testing transactions end-to-end, including failed transactions.\n\nThe full functionality of StoreKit Testing in Xcode is available for automation. See [doc:\/\/com.apple.documentation\/documentation\/StoreKitTest] for information about automating in-app purchase testing. For more information about testing StoreKit at different stages of development, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox].\n\n### Create a StoreKit configuration file\n\nA StoreKit configuration file contains descriptions of in-app purchases, subscription groups, auto-renewable subscriptions, and non-renewing subscriptions. When the configuration file is active, StoreKit uses this data when your app calls StoreKit APIs in the test environment. There are two types of StoreKit configuration files: local and, in Xcode 14 and later, synced.\n\n- Set up a local configuration file if you haven’t set up your app in App Store Connect, or you want to try out new types of in-app purchases or subscriptions before you set them up in App Store Connect. The local data is convenient to edit in Xcode, and stands in for the data that otherwise comes from App Store Connect.\n- Set up a synced configuration file if you have in-app purchases or subscriptions already set up in App Store Connect that you want to test in Xcode.\n\nTo create a StoreKit configuration file:\n\n1. Launch Xcode, then choose File > New > File from Template.\n2. In the sheet that appears, enter *storekit* in the Filter search field.\n3. Select StoreKit Configuration File, then click Next.\n4. In the dialog, enter a name for the file. For a synced configuration file, select the checkbox, specify your team and app in the drop-down menus that appear, then click Next. For a local configuration, leave the checkbox unselected, then click Next.\n5. Select a location, and click Create.\n6. Save the file to your project.\n\n\n\nIf you rename the configuration file, be sure to keep its file extension .`storekit`.\n\n\n\n### Set up a StoreKit configuration\n\nTo edit the settings in a local StoreKit configuration file, select the file in the Project navigator to open the custom editor. Click the Add button (+) in the editor to add product details to the configuration file.\n\n\n\nEnter the information in your local StoreKit configuration file manually. The product names, IDs, prices, localizations, and any other data you provide in the StoreKit configuration file don’t upload to App Store Connect, and don’t appear in App Store-signed apps. App Store Connect data transfers only to a synced StoreKit configuration file, which you can’t edit in Xcode.\n\n\n\nEach in-app purchase and non-renewing subscription has a reference name, product ID, and price. In-app purchases and non-renewing subscriptions optionally have localizations. This metadata shows up in the payment sheet after you click to buy a product in your app. Note that the price is a placeholder value that’s not connected to price tiers or real pricing information. However, it appears using the correct currency symbols for the storefront you’re testing.\n\nFor non-consumable in-app purchases and auto-renewable subscriptions, select Family Sharing to mark the product for sharing as the following image shows:\n\n\n\nWhen you set up the first auto-renewable subscription, Xcode prompts you to create the first subscription group. After adding subscriptions to a group, the level you assign to each subscription determines their upgrade and downgrade options. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-subscriptions\/offer-auto-renewable-subscriptions].\n\nFor auto-renewable subscriptions, set up introductory offers and promotional offers with the options available in App Store Connect. To begin testing, configure at least one in-app purchase product.\n\n### Enable StoreKit Testing in Xcode\n\nTo enable StoreKit Testing in Xcode, your project must have an active StoreKit configuration file. By default, StoreKit Testing in Xcode is disabled. To select a configuration file and make it active:\n\n1. Click the scheme to open the Scheme menu and choose Edit Scheme.\n2. In the scheme editor, select the Run action.\n3. Click the Options tab.\n4. For the StoreKit Configuration option, select a configuration file and click Close.\n\n\n\nYou can also add an existing StoreKit configuration file to the project from this menu. Choose a configuration file with a .`storekit` file extension.\n\nAn Xcode project can contain multiple StoreKit configuration files, but only one can be active at a time. When it’s active, build and run your app as usual. Instead of accessing App Store Connect or the sandbox server, your app gets StoreKit data from the test environment.\n\n### Disable StoreKit Testing in Xcode\n\nTo disable StoreKit Testing in Xcode, remove the StoreKit configuration file from the scheme’s run options:\n\n1. Click the scheme to open the Scheme menu and choose Edit Scheme.\n2. In the scheme editor, select the Run action.\n3. Click the Options tab.\n4. For the StoreKit Configuration option, select None.\n\n\n\nYour app stops using the local data from the configuration file and starts using the data from App Store Connect. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/configure-in-app-purchase-settings\/overview-for-configuring-in-app-purchases].\n\n### Prepare to validate receipts in the test environment\n\nStoreKit Testing in Xcode generates locally signed receipts that your app validates locally. Obtain the certificate you need for local validation and add it to your project as follows:\n\n1. In Xcode’s Project navigator, click the StoreKit configuration file.\n2. From the Xcode menu, choose Editor > Save Public Certificate.\n3. Select a location in your project to save the file.\n\n\n\n\n\nBe sure your code uses the correct certificate in all environments. Add the following conditional compilation block to your receipt validation code to select the test certificate for testing, and the Apple root certificate, otherwise:\n\n```swift\n#if DEBUG\n    let certificate = \"StoreKitTestCertificate\" \n#else\n    let certificate = \"AppleIncRootCertificate\" \n#endif\n```\n\nYour code is ready to validate receipts by selecting the appropriate certificate in the test environment and in the production environment.\n\n\n\n## StoreKit\n\n- **Testing in-app purchases with StoreKit transaction manager in Xcode**: Use the transaction manager within Xcode to test in-app purchases without requiring a connection to App Store servers.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use the transaction manager within Xcode to test in-app purchases without requiring a connection to App Store servers.",
          "name" : "Testing in-app purchases with StoreKit transaction manager in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Xcode\/testing-in-app-purchases-with-storeKit-transaction-manager-in-code"
        }
      ],
      "title" : "StoreKit"
    }
  ],
  "source" : "appleJSON",
  "title" : "Setting up StoreKit Testing in Xcode",
  "url" : "https:\/\/developer.apple.com\/documentation\/xcode\/setting-up-storekit-testing-in-xcode"
}