{
  "abstract" : "Used to encode an invocation of a distributed target (method or computed property).",
  "codeExamples" : [

  ],
  "conformingTypes" : [
    "LocalTestingInvocationEncoder"
  ],
  "contentHash" : "c89e80253b6bfc7305165021b1004c76418f297163707e44dc939c9df06e8233",
  "crawledAt" : "2025-12-02T07:34:01Z",
  "declaration" : {
    "code" : "protocol DistributedTargetInvocationEncoder<SerializationRequirement>",
    "language" : "swift"
  },
  "id" : "1EACC2C6-4066-4D28-A84F-0BBA3A656135",
  "kind" : "protocol",
  "module" : "Distributed",
  "overview" : "## Forming an invocation\n\nOn the sending-side an instance of an invocation is constructed by the runtime, and calls to: `recordGenericSubstitution`, `recordArgument`, `recordReturnType`, `recordErrorType`, and finally `doneRecording` are made (in this order).\n\nIf the return type of the target is `Void` the `recordReturnType` is not invoked.\n\nIf the error type thrown by the target is not defined the `recordErrorType` is not invoked.\n\nAn invocation implementation may decide to perform serialization right-away in the `record...` invocations, or it may choose to delay doing so until the invocation is passed to the `remoteCall`. This decision largely depends on if serialization is allowed to happen on the caller’s task, and if any smarter encoding can be used once all parameter calls have been recorded (e.g. it may be possible to run-length encode values of certain types etc.)\n\nOnce encoded, the system should use some underlying transport mechanism to send the bytes serialized by the invocation to the remote peer.\n\n## Decoding an invocation\n\nSince every actor system is going to deal with a concrete invocation type, they may implement decoding them whichever way is most optimal for the given system.\n\nOnce decided, the invocation must be passed to `executeDistributedTarget` which will decode the substitutions, argument values, return and error types (in that order).\n\nNote that the decoding will be provided the specific types that the sending side used to preform the call, so decoding can rely on simply invoking e.g. `Codable` (if that is the `SerializationRequirement`) decoding entry points on the provided types.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\ncrawled: 2025-12-02T07:34:01Z\n---\n\n# DistributedTargetInvocationEncoder\n\n**Protocol**\n\nUsed to encode an invocation of a distributed target (method or computed property).\n\n## Declaration\n\n```swift\nprotocol DistributedTargetInvocationEncoder<SerializationRequirement>\n```\n\n## Forming an invocation\n\nOn the sending-side an instance of an invocation is constructed by the runtime, and calls to: `recordGenericSubstitution`, `recordArgument`, `recordReturnType`, `recordErrorType`, and finally `doneRecording` are made (in this order).\n\nIf the return type of the target is `Void` the `recordReturnType` is not invoked.\n\nIf the error type thrown by the target is not defined the `recordErrorType` is not invoked.\n\nAn invocation implementation may decide to perform serialization right-away in the `record...` invocations, or it may choose to delay doing so until the invocation is passed to the `remoteCall`. This decision largely depends on if serialization is allowed to happen on the caller’s task, and if any smarter encoding can be used once all parameter calls have been recorded (e.g. it may be possible to run-length encode values of certain types etc.)\n\nOnce encoded, the system should use some underlying transport mechanism to send the bytes serialized by the invocation to the remote peer.\n\n## Decoding an invocation\n\nSince every actor system is going to deal with a concrete invocation type, they may implement decoding them whichever way is most optimal for the given system.\n\nOnce decided, the invocation must be passed to `executeDistributedTarget` which will decode the substitutions, argument values, return and error types (in that order).\n\nNote that the decoding will be provided the specific types that the sending side used to preform the call, so decoding can rely on simply invoking e.g. `Codable` (if that is the `SerializationRequirement`) decoding entry points on the provided types.\n\n## Associated Types\n\n- **SerializationRequirement**: The serialization requirement that the types passed to `recordArgument` and `recordReturnType` are required to conform to.\n\n## Instance Methods\n\n- **doneRecording()**: Invoked to signal to the encoder that no further `record...` calls will be made on it.\n- **recordArgument(_:)**: Record an argument of `Argument` type. This will be invoked for every argument of the target, in declaration order.\n- **recordErrorType(_:)**: Record the error type of the distributed method. This method will not be invoked if the target is not throwing.\n- **recordGenericSubstitution(_:)**: The arguments must be encoded order-preserving, and once `decodeGenericSubstitutions` is called, the substitutions must be returned in the same order in which they were recorded.\n- **recordReturnType(_:)**: Record the return type of the distributed method. This method will not be invoked if the target is returning `Void`.\n\n## Remote Calls\n\n- **RemoteCallTarget**: Represents a ‘target’ of a distributed call, such as a `distributed func` or `distributed` computed property. Identification schemes may vary between systems, and are subject to evolution.\n- **RemoteCallArgument**: Represents an argument passed to a distributed call target.\n- **DistributedTargetInvocationDecoder**: Decoder that must be provided to `executeDistributedTarget` and is used by the Swift runtime to decode arguments of the invocation.\n- **DistributedTargetInvocationResultHandler**: Protocol a distributed invocation execution’s result handler.\n\n## Conforming Types\n\n- LocalTestingInvocationEncoder\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The serialization requirement that the types passed to `recordArgument` and `recordReturnType` are required to conform to.",
          "name" : "SerializationRequirement",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/SerializationRequirement"
        }
      ],
      "title" : "Associated Types"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Invoked to signal to the encoder that no further `record...` calls will be made on it.",
          "name" : "doneRecording()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/doneRecording()"
        },
        {
          "description" : "Record an argument of `Argument` type. This will be invoked for every argument of the target, in declaration order.",
          "name" : "recordArgument(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/recordArgument(_:)"
        },
        {
          "description" : "Record the error type of the distributed method. This method will not be invoked if the target is not throwing.",
          "name" : "recordErrorType(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/recordErrorType(_:)"
        },
        {
          "description" : "The arguments must be encoded order-preserving, and once `decodeGenericSubstitutions` is called, the substitutions must be returned in the same order in which they were recorded.",
          "name" : "recordGenericSubstitution(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/recordGenericSubstitution(_:)"
        },
        {
          "description" : "Record the return type of the distributed method. This method will not be invoked if the target is returning `Void`.",
          "name" : "recordReturnType(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder\/recordReturnType(_:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Represents a ‘target’ of a distributed call, such as a `distributed func` or `distributed` computed property. Identification schemes may vary between systems, and are subject to evolution.",
          "name" : "RemoteCallTarget",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/RemoteCallTarget"
        },
        {
          "description" : "Represents an argument passed to a distributed call target.",
          "name" : "RemoteCallArgument",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/RemoteCallArgument"
        },
        {
          "description" : "Decoder that must be provided to `executeDistributedTarget` and is used by the Swift runtime to decode arguments of the invocation.",
          "name" : "DistributedTargetInvocationDecoder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationDecoder"
        },
        {
          "description" : "Protocol a distributed invocation execution’s result handler.",
          "name" : "DistributedTargetInvocationResultHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationResultHandler"
        }
      ],
      "title" : "Remote Calls"
    }
  ],
  "source" : "appleJSON",
  "title" : "DistributedTargetInvocationEncoder",
  "url" : "https:\/\/developer.apple.com\/documentation\/Distributed\/DistributedTargetInvocationEncoder"
}