{
  "abstract" : "Bring attention to new features in your app by using tips.",
  "codeExamples" : [
    {
      "code" : "struct InlineTip: Tip {\n    var title: Text {\n        Text(\"Save as a Favorite\")\n    }\n\n    var message: Text? {\n        Text(\"Your favorite backyards always appear at the top of the list.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"star\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "@main\nstruct TipKitExamples: App {\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n        }\n    }\n\n    init() {\n        do {\n            \/\/ Configure and load all tips in the app.\n            try Tips.configure()\n        }\n        catch {\n            print(\"Error initializing tips: \\(error)\")\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct InlineView: View {\n    \/\/ Create an instance of your tip content.\n    let inlineTip = InlineTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"A TipView embeds itself directly in the view. Make this style of tip your first choice as it doesn't obscure or hide any underlying UI elements.\")\n\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(inlineTip, arrowEdge: .bottom)\n            Button {\n                \/\/ Invalidate the tip when someone uses the feature.\n                inlineTip.invalidate(reason: .actionPerformed)\n            } label: {\n                Label(\"Favorite\", systemImage: \"star\")\n            }\n\n            Text(\"To dismiss the tip, tap the close button in the upper right-hand corner of the tip or tap the Favorite button to use the feature, which then invalidates the tip programmatically.\")\n            Spacer()\n        }\n        .padding()\n        .navigationTitle(\"Inline tip view\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct PopoverView: View {\n    \/\/ Create an instance of your tip content.\n    let highlightTip = HighlightTip()\n    \n    var body: some View {\n        \/\/ ...\n        Image(systemName: \"wand.and.stars\")\n            .imageScale(.large)\n            \/\/ Place the tip on the feature to highlight.\n            .popoverTip(highlightTip)\n            .onTapGesture {\n                \/\/ Invalidate the tip when someone uses the feature.\n                tip.invalidate(reason: .actionPerformed)\n            }\n        \/\/ ...\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct PasswordResetTip: Tip {\n    var title: Text {\n        Text(\"Need Help?\")\n    }\n\n    var message: Text? {\n        Text(\"Do you need help logging in to your account?\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"lock.shield\")\n    }\n\n    var actions: [Action] {\n        \/\/ Define a reset password button.\n        Action(id: \"reset-password\", title: \"Reset Password\")\n        \/\/ Define a FAQ button.\n        Action(id: \"faq\", title: \"View our FAQ\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct PasswordResetView: View {\n    @Environment(\\.openURL) var openURL\n\n    \/\/ Create an instance of your tip content.\n    let passwordResetTip = PasswordResetTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"Use action buttons to link to more options. In this example, two actions buttons are provided. One takes the user to the Reset Password feature. The other sends them to an FAQ page.\")\n            \n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(passwordResetTip, arrowEdge: .bottom) { action in\n                \/\/ Define the closure that executes when someone presses the reset button.\n                if action.id == \"reset-password\", let url = URL(string: \"https:\/\/iforgot.apple.com\") {\n                    openURL(url) { accepted in\n                        print(accepted ? \"Success Reset\" : \"Failure\")\n                    }\n                }\n\n                \/\/ Define the closure that executes when someone presses the FAQ button.\n                if action.id == \"faq\", let url = URL(string: \"https:\/\/appleid.apple.com\/faq\") {\n                    openURL(url) { accepted in\n                        print(accepted ? \"Success FAQ\" : \"Failure\")\n                    }\n                }\n            }\n            Button(\"Login\") {\n                \/\/ Perform login action.\n            }\n            Spacer()\n        }\n        .padding()\n        .navigationTitle(\"Password reset\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ParameterRuleTip: Tip {\n    \/\/ Define the app state you want to track.\n    @Parameter\n    static var isLoggedIn: Bool = false\n\n    var rules: [Rule] {\n        \/\/ Define a rule based on the app state.\n        #Rule(Self.$isLoggedIn) {\n            \/\/ Set the conditions for when the tip displays.\n            $0 == true\n        }\n    }\n    \/\/ ...\n}",
      "language" : "swift"
    },
    {
      "code" : "Button(\"Tap\") {\n    \/\/ Trigger a change in app state to make the tip appear or disappear.\n    ParameterRuleTip.isLoggedIn.toggle()\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ParameterView: View {\n    \/\/ Create an instance of your tip content.\n    let parameterRuleTip = ParameterRuleTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            \/\/ ...\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(parameterRuleTip, arrowEdge: .bottom)\n            Image(systemName: \"photo.on.rectangle\")\n                .imageScale(.large)\n\n            Button(\"Tap\") {\n                \/\/ Trigger a change in app state to make the tip appear or disappear.\n                ParameterRuleTip.isLoggedIn.toggle()\n            }\n            \/\/ ...\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct FavoritePlantTip: Tip {\n    \/\/ Define a custom value type to store a list of plant names.\n    struct FavoritePlants: Codable, Sendable {\n        var plants: Set<String> = []\n\n        var arrayValue: [String] {\n            Array(plants)\n        }\n\n        mutating func setPlants(_ newValue: [String]) {\n            plants = Set(newValue)\n        }\n    }\n\n    \/\/ Reset to default value the first time it is referenced.\n    @Parameter(.transient)\n    static var favoritePlants: FavoritePlants = FavoritePlants(plants: [\"Sunflower\", \"Cactus\"])\n\n    var title: Text {\n        Text(\"Explore Favorite Plants\")\n    }\n\n    var message: Text? {\n        Text(\"Discover your favorite plants and flowers.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"leaf.fill\")\n    }\n\n    \/\/ Tip will only display when there are 3 or more favorite plants and Rose has been favorited.\n    var rules: [Rule] {\n        \/\/ Display if more than two favorite plants are added.\n        #Rule(FavoritePlantTip.$favoritePlants) {\n            $0.plants.count >= 3\n        }\n\n        \/\/ Display if \"Rose\" is added as a favorite.\n        #Rule(FavoritePlantTip.$favoritePlants) {\n            $0.plants.contains(\"Rose\")\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct EventRuleTip: Tip {\n    \/\/ Define the user interaction you want to track.\n    static let didTriggerControlEvent = Event(id: \"didTriggerControlEvent\")\n\n    var rules: [Rule] {\n        \/\/ Define a rule based on the user interaction state.\n        #Rule(Self.didTriggerControlEvent) {\n            \/\/ Set the conditions for when the tip displays.\n            $0.donations.count >= 3\n        }\n    }\n    \/\/ ...\n}",
      "language" : "swift"
    },
    {
      "code" : "struct EventView: View {\n    var body: some View {\n        List {\n            NavigationLink(\"Basic Event Tip\") {\n                EventRuleView()\n            }\n            \n            NavigationLink(\"Event Tip using custom data type\") {\n                FoodDetailView()\n            }\n        }\n        .navigationTitle(\"Event rules\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct FoodItem: View {\n    @Binding\n    var food: FoodEventTip.Item\n\n    var body: some View {\n        Button {\n            food.isFavorite.toggle()\n\n            \/\/ Donate to the event when the user action occurs.\n            FoodEventTip.viewedSpecificFood.sendDonation(food)\n        } label: {\n            VStack {\n                Text(food.name)\n                Image(systemName: food.isFavorite ? \"heart.fill\" : \"heart\")\n                    .foregroundColor(food.isFavorite ? .red : .primary)\n            }\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct FoodEventTip: Tip {\n    struct Item: Codable, Sendable {\n        var name: String\n        var isFavorite: Bool\n    }\n\n    \/\/ Event triggered when a user views a specific food item.\n    static let viewedSpecificFood: Tips.Event<Item> = Tips.Event(id: \"viewed-specific-food\")\n\n    static let viewedDetailView = Tips.Event(id: \"FoodDetailViewDidOpen\")\n\n    var title: Text {\n        Text(\"Save as a Favorite\")\n    }\n\n    var message: Text? {\n        Text(\"Tap on the button to favorite an item.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"fork.knife\")\n    }\n\n    var rules: [Rule] {\n        #Rule(FoodEventTip.viewedDetailView) {\n            \/\/ This rule checks if the user donated to the `FoodDetailViewDidOpen` event at least once.\n            $0.donations.count >= 1\n        }\n        #Rule(FoodEventTip.viewedSpecificFood) {\n            \/\/ The events donated must contain at least three distinct items with different names.\n            \/\/ This ensures the user explored a variety of options before showing the tip.\n            $0.donations.smallestSubset(groupedBy: \\.name).count > 1\n        }\n        #Rule(FoodEventTip.viewedSpecificFood) {\n            \/\/ This rule checks if the user has donated to the `viewedSpecificFood` event more than four times\n            \/\/ within the last hour for favorited items.\n            $0.donations.donatedWithin(.hour)\n                .filter({ $0.isFavorite == true }).count > 4\n        }\n    }\n\n    var options: [Option] {\n        \/\/ Show this tip once.\n        MaxDisplayCount(1)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct OptionTip: Tip {\n    \/\/ ...\n    var options: [Option] {\n        \/\/ Show this tip once.\n        MaxDisplayCount(1)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ComboTip: Tip {\n    \/\/ Define the app state you want to track.\n    @Parameter\n    static var isLoggedIn: Bool = false\n\n    \/\/ Define the user interaction you want to track.\n    static let enteredView = Event(id: \"enteredView\")\n\n    \/\/ ...\n    var rules: [Rule] {\n        \/\/ Note: These rules AND together.\n        \/\/ Define a parameter-based rule tracking app state.\n        #Rule(Self.$isLoggedIn) {\n            $0 == true\n        }\n\n        \/\/ Define an event-based rule tracking user state.\n        #Rule(Self.enteredView) {\n            $0.donations.count >= 3\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : ".onAppear {\n    \/\/ Donate to the event each time the view appears.\n    ComboTip.enteredView.sendDonation()\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ComboView: View {\n    \/\/ Create an instance of your tip content.\n    let comboTip = ComboTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"You can combine parameters, events, and options to support more complex conditions for displaying tips.\")\n\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(comboTip, arrowEdge: .bottom)\n            Image(systemName: \"star\")\n\n            Button(ContentView.isLoggedIn ? \"Logout\" : \"Login\") {\n                ContentView.isLoggedIn.toggle()\n            }\n\n            Text(\"Entered view: \\(ComboTip.enteredView.donations.count + 1) times\")\n            Text(\"For example, to make this tip appear, navigate in and out of the screen three times, and then tap the Login button.\")\n            Spacer()\n        }\n        .onAppear {\n            \/\/ Donate to the event each time the view appears.\n            ComboTip.enteredView.sendDonation()\n        }\n        .padding()\n        .navigationTitle(\"Combining rules\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Show all defined tips in the app.\nTips.showAllTipsForTesting()\n\n\/\/ Show some tips, but not all.\nTips.showTipsForTesting([tip1, tip2, tip3])\n\n\/\/ Hide all tips defined in the app.\nTips.hideAllTipsForTesting()\n\n\/\/ Purge all TipKit-related data.\ntry Tips.resetDatastore()",
      "language" : "swift"
    }
  ],
  "contentHash" : "5e5527c465742a43f4beca978aadc4543caac0c845801f6dad5b87527339a723",
  "crawledAt" : "2025-12-05T11:03:17Z",
  "id" : "D798FACF-2DE8-4A9E-B8A5-BA989CCE0224",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "TipKit",
  "overview" : "## Overview\n\nWith TipKit, you can teach people about a new feature in your app, or show them ways to accomplish a task faster. This sample guides you through the different types of tips you can add to your app, along with ways to control where and when they appear.\n\nEach example highlights a different feature of the TipKit framework. The TipView and PopoverView examples show you how to add two different styles of tips to your app. Action buttons demonstrate how to direct people to information or options. The Parameters, Events, and Options examples show you various ways to control when your tips appear. And the Combining rules example shows you how to combine several conditions for when your tips display.\n\n### Define tip content\n\nThe [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip] protocol defines the text and imagery that tips use to describe what the features does, as well as the rules for when the tip appears. Each example defines a structure that conforms to the `Tip` protocol, and sets the properties that define the tip content.\n\n### Load tips when the app starts\n\nBefore tips display, they must load into the app. The sample initializes and loads all tips the app uses by calling [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/configure(_:)]. The best practice is to call this once per app session, for example, in the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/App\/init()] method of your app.\n\n### Embed a tip directly in the view using inline tips\n\nUse this style of tip whenever possible to avoid covering UI elements that people may want to interact with. Inline tips embed themselves directly into the view containing the feature they highlight. This style of tip causes the underlying view to alter its layout to accommodate the tip’s appearance and dismissal.\n\nTo add an inline [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/TipView] to a view:\n\n### Display a tip on top of the underlying view using popover tips\n\nUse this style of tip view if adjusting the underlying layout is undesirable or people don’t need to interact with any controls the tip obscures. Popover view modifiers display the tip view on top of the current screen layout while obscuring UI elements underneath. If you use a popover, consider excluding imagery because the tip already points to the feature being highlighted.\n\nTo display a popover tip:\n\n### Direct people to information or options with buttons\n\nButtons present people with additional information and options before they decide whether to use a new feature. For example, consider using buttons to redirect people to an area where they can learn more about what the given feature does. Or consider sending people to a settings screen if adjustments are necessary before a new feature can be used.\n\nTo add a button to a tip, the sample code defines actions using the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Action] type in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/actions] property of the tip content.\n\nThe sample code first checks the `action.id` of the action callback to see which button the user tapped. It then redirects users to either a password reset screen or a FAQ screen appropriately.\n\n### Display tips based on app state using parameters\n\nThis sample demonstrates how to use app state to display a tip. Define a variable in your tip structure to represent the app state to track. Wrap it in a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Parameter] property wrapper, and then define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Rule] for when it displays using the `#Rule` macro in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/rules] property of the structure defining the tip. This sample only displays the tip when someone taps the button and logs in.\n\nWith this rule defined, the sample triggers a change of state when someone taps the button.\n\nThis updates the view and displays the tip accordingly.\n\nThe [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Parameter] property wrapper also support types that conforms to the `Codable` and `Sendable` protocol. In this example, the tip displays if the plants tip has more than two favorites, and one of the favorites is a string with the value “Rose”.\n\n### Display tips based on user actions with events\n\nTo track and display tips based on user actions, define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Event] constant with an `id` in your tip structure representing the user interaction you want to track. Then define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Rule] for when the tip displays using a `#Rule` macro referencing the event to track. Set the conditions for when the tip displays within the `#Rule` macro closure. In this sample, the tip displays when the event occurs three or more times.\n\nTo trigger the event, the sample presents a button that displays the tip when tapped three times.\n\n### Creating an event with an associated donation value\n\nYou can also create a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Event] property wrapper with associated donated values. These values hold additional information relevant to the tip itself.\n\nThe example below donates the `viewedSpecificFood` event with an associated donation value when the user action occurs. In this sample, the tip displays if the following rules are satisfied:\n\nThe example below creates a display rule for `FoodEventTip` based on the viewedSpecificFood event.\n\n### Control display frequency using options\n\nOptions control the frequency with which tips display. Define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Option] in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/options] property of your tip structure and set the frequency for the tip display there.\n\nThen present the tip in a view. The first time the view appears, the tip displays once. Afterward, the tip no longer appears until reset or the app reinstalls on the device. See the section on overriding tip eligibility rules for instructions on how to reset a tip’s state.\n\n### Combine parameters, events, and options for more complex interactions\n\nTo create more complex rules, combine parameters, events, and options to make tips appear. This sample defines one parameter-based rule to only show a tip when someone logs in, and another event-based rule that only displays a tip when someone enters the view three times. These rules logically AND together in the rules property of the tip structure.\n\nThe tip displays when the following two rules are met:\n\nThe sample tracks the number of times the page appears by donating to the event-based rule in the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] view modifier.\n\nThen, when the user logs in and the view appears three times, the tip displays.\n\n### Override eligibility rules to test tip appearance and display\n\nWhen a tip is no longer eligible for display, it stops appearing in the app. While this might make sense in production, it can make testing tip appearance and placement challenging during development.\n\nTo make tip testing easier, the sample code uses various testing APIs to override a tip’s eligibility rules, and hide or display tips regardless of their previous eligibility or status.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/tipkit\/highlightingappfeatureswithtipkit\ncrawled: 2025-12-05T11:03:17Z\n---\n\n# Highlighting app features with TipKit\n\n**Sample Code**\n\nBring attention to new features in your app by using tips.\n\n## Overview\n\nWith TipKit, you can teach people about a new feature in your app, or show them ways to accomplish a task faster. This sample guides you through the different types of tips you can add to your app, along with ways to control where and when they appear.\n\nEach example highlights a different feature of the TipKit framework. The TipView and PopoverView examples show you how to add two different styles of tips to your app. Action buttons demonstrate how to direct people to information or options. The Parameters, Events, and Options examples show you various ways to control when your tips appear. And the Combining rules example shows you how to combine several conditions for when your tips display.\n\n\n\n### Define tip content\n\nThe [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip] protocol defines the text and imagery that tips use to describe what the features does, as well as the rules for when the tip appears. Each example defines a structure that conforms to the `Tip` protocol, and sets the properties that define the tip content.\n\n```swift\nstruct InlineTip: Tip {\n    var title: Text {\n        Text(\"Save as a Favorite\")\n    }\n\n    var message: Text? {\n        Text(\"Your favorite backyards always appear at the top of the list.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"star\")\n    }\n}\n```\n\n### Load tips when the app starts\n\nBefore tips display, they must load into the app. The sample initializes and loads all tips the app uses by calling [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/configure(_:)]. The best practice is to call this once per app session, for example, in the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/App\/init()] method of your app.\n\n```swift\n@main\nstruct TipKitExamples: App {\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n        }\n    }\n\n    init() {\n        do {\n            \/\/ Configure and load all tips in the app.\n            try Tips.configure()\n        }\n        catch {\n            print(\"Error initializing tips: \\(error)\")\n        }\n    }\n}\n```\n\n\n\n### Embed a tip directly in the view using inline tips\n\nUse this style of tip whenever possible to avoid covering UI elements that people may want to interact with. Inline tips embed themselves directly into the view containing the feature they highlight. This style of tip causes the underlying view to alter its layout to accommodate the tip’s appearance and dismissal.\n\nTo add an inline [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/TipView] to a view:\n\n1. Create an instance of the tip content in the view containing the feature.\n2. Place an instance of a `TipView` next to the feature to highlight, passing in the tip content, as well as an optional arrow pointing toward the feature.\n3. Invalidate the tip after a person uses the feature. This is done programmatically by calling [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/invalidate(reason:)] on the tip content instance along with the reason you invalidated the tip. People can also click the close button in the upper right-hand corner of the tip view to dismiss the tip.\n\n```swift\nstruct InlineView: View {\n    \/\/ Create an instance of your tip content.\n    let inlineTip = InlineTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"A TipView embeds itself directly in the view. Make this style of tip your first choice as it doesn't obscure or hide any underlying UI elements.\")\n\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(inlineTip, arrowEdge: .bottom)\n            Button {\n                \/\/ Invalidate the tip when someone uses the feature.\n                inlineTip.invalidate(reason: .actionPerformed)\n            } label: {\n                Label(\"Favorite\", systemImage: \"star\")\n            }\n\n            Text(\"To dismiss the tip, tap the close button in the upper right-hand corner of the tip or tap the Favorite button to use the feature, which then invalidates the tip programmatically.\")\n            Spacer()\n        }\n        .padding()\n        .navigationTitle(\"Inline tip view\")\n    }\n}\n```\n\n### Display a tip on top of the underlying view using popover tips\n\nUse this style of tip view if adjusting the underlying layout is undesirable or people don’t need to interact with any controls the tip obscures. Popover view modifiers display the tip view on top of the current screen layout while obscuring UI elements underneath. If you use a popover, consider excluding imagery because the tip already points to the feature being highlighted.\n\nTo display a popover tip:\n\n1. Define an instance of your tip content.\n2. Place the tip on the feature to highlight using the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/popoverTip(_:arrowEdge:action:)] view modifier, passing in the tip content.\n3. Invalidate the tip after someone uses the feature, passing in an instance of [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/InvalidationReason].\n\n```swift\nstruct PopoverView: View {\n    \/\/ Create an instance of your tip content.\n    let highlightTip = HighlightTip()\n    \n    var body: some View {\n        \/\/ ...\n        Image(systemName: \"wand.and.stars\")\n            .imageScale(.large)\n            \/\/ Place the tip on the feature to highlight.\n            .popoverTip(highlightTip)\n            .onTapGesture {\n                \/\/ Invalidate the tip when someone uses the feature.\n                tip.invalidate(reason: .actionPerformed)\n            }\n        \/\/ ...\n        }\n    }\n}\n```\n\n### Direct people to information or options with buttons\n\nButtons present people with additional information and options before they decide whether to use a new feature. For example, consider using buttons to redirect people to an area where they can learn more about what the given feature does. Or consider sending people to a settings screen if adjustments are necessary before a new feature can be used.\n\nTo add a button to a tip, the sample code defines actions using the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Action] type in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/actions] property of the tip content.\n\n```swift\nstruct PasswordResetTip: Tip {\n    var title: Text {\n        Text(\"Need Help?\")\n    }\n\n    var message: Text? {\n        Text(\"Do you need help logging in to your account?\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"lock.shield\")\n    }\n\n    var actions: [Action] {\n        \/\/ Define a reset password button.\n        Action(id: \"reset-password\", title: \"Reset Password\")\n        \/\/ Define a FAQ button.\n        Action(id: \"faq\", title: \"View our FAQ\")\n    }\n}\n```\n\nThe sample code first checks the `action.id` of the action callback to see which button the user tapped. It then redirects users to either a password reset screen or a FAQ screen appropriately.\n\n```swift\nstruct PasswordResetView: View {\n    @Environment(\\.openURL) var openURL\n\n    \/\/ Create an instance of your tip content.\n    let passwordResetTip = PasswordResetTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"Use action buttons to link to more options. In this example, two actions buttons are provided. One takes the user to the Reset Password feature. The other sends them to an FAQ page.\")\n            \n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(passwordResetTip, arrowEdge: .bottom) { action in\n                \/\/ Define the closure that executes when someone presses the reset button.\n                if action.id == \"reset-password\", let url = URL(string: \"https:\/\/iforgot.apple.com\") {\n                    openURL(url) { accepted in\n                        print(accepted ? \"Success Reset\" : \"Failure\")\n                    }\n                }\n\n                \/\/ Define the closure that executes when someone presses the FAQ button.\n                if action.id == \"faq\", let url = URL(string: \"https:\/\/appleid.apple.com\/faq\") {\n                    openURL(url) { accepted in\n                        print(accepted ? \"Success FAQ\" : \"Failure\")\n                    }\n                }\n            }\n            Button(\"Login\") {\n                \/\/ Perform login action.\n            }\n            Spacer()\n        }\n        .padding()\n        .navigationTitle(\"Password reset\")\n    }\n}\n```\n\n### Display tips based on app state using parameters\n\nThis sample demonstrates how to use app state to display a tip. Define a variable in your tip structure to represent the app state to track. Wrap it in a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Parameter] property wrapper, and then define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Rule] for when it displays using the `#Rule` macro in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/rules] property of the structure defining the tip. This sample only displays the tip when someone taps the button and logs in.\n\n```swift\nstruct ParameterRuleTip: Tip {\n    \/\/ Define the app state you want to track.\n    @Parameter\n    static var isLoggedIn: Bool = false\n\n    var rules: [Rule] {\n        \/\/ Define a rule based on the app state.\n        #Rule(Self.$isLoggedIn) {\n            \/\/ Set the conditions for when the tip displays.\n            $0 == true\n        }\n    }\n    \/\/ ...\n}\n```\n\n\n\nWith this rule defined, the sample triggers a change of state when someone taps the button.\n\n```swift\nButton(\"Tap\") {\n    \/\/ Trigger a change in app state to make the tip appear or disappear.\n    ParameterRuleTip.isLoggedIn.toggle()\n}\n```\n\nThis updates the view and displays the tip accordingly.\n\n```swift\nstruct ParameterView: View {\n    \/\/ Create an instance of your tip content.\n    let parameterRuleTip = ParameterRuleTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            \/\/ ...\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(parameterRuleTip, arrowEdge: .bottom)\n            Image(systemName: \"photo.on.rectangle\")\n                .imageScale(.large)\n\n            Button(\"Tap\") {\n                \/\/ Trigger a change in app state to make the tip appear or disappear.\n                ParameterRuleTip.isLoggedIn.toggle()\n            }\n            \/\/ ...\n        }\n    }\n}\n```\n\n\n\nThe [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Parameter] property wrapper also support types that conforms to the `Codable` and `Sendable` protocol. In this example, the tip displays if the plants tip has more than two favorites, and one of the favorites is a string with the value “Rose”.\n\n```swift\nstruct FavoritePlantTip: Tip {\n    \/\/ Define a custom value type to store a list of plant names.\n    struct FavoritePlants: Codable, Sendable {\n        var plants: Set<String> = []\n\n        var arrayValue: [String] {\n            Array(plants)\n        }\n\n        mutating func setPlants(_ newValue: [String]) {\n            plants = Set(newValue)\n        }\n    }\n\n    \/\/ Reset to default value the first time it is referenced.\n    @Parameter(.transient)\n    static var favoritePlants: FavoritePlants = FavoritePlants(plants: [\"Sunflower\", \"Cactus\"])\n\n    var title: Text {\n        Text(\"Explore Favorite Plants\")\n    }\n\n    var message: Text? {\n        Text(\"Discover your favorite plants and flowers.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"leaf.fill\")\n    }\n\n    \/\/ Tip will only display when there are 3 or more favorite plants and Rose has been favorited.\n    var rules: [Rule] {\n        \/\/ Display if more than two favorite plants are added.\n        #Rule(FavoritePlantTip.$favoritePlants) {\n            $0.plants.count >= 3\n        }\n\n        \/\/ Display if \"Rose\" is added as a favorite.\n        #Rule(FavoritePlantTip.$favoritePlants) {\n            $0.plants.contains(\"Rose\")\n        }\n    }\n}\n```\n\n### Display tips based on user actions with events\n\nTo track and display tips based on user actions, define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Event] constant with an `id` in your tip structure representing the user interaction you want to track. Then define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Rule] for when the tip displays using a `#Rule` macro referencing the event to track. Set the conditions for when the tip displays within the `#Rule` macro closure. In this sample, the tip displays when the event occurs three or more times.\n\n```swift\nstruct EventRuleTip: Tip {\n    \/\/ Define the user interaction you want to track.\n    static let didTriggerControlEvent = Event(id: \"didTriggerControlEvent\")\n\n    var rules: [Rule] {\n        \/\/ Define a rule based on the user interaction state.\n        #Rule(Self.didTriggerControlEvent) {\n            \/\/ Set the conditions for when the tip displays.\n            $0.donations.count >= 3\n        }\n    }\n    \/\/ ...\n}\n```\n\nTo trigger the event, the sample presents a button that displays the tip when tapped three times.\n\n```swift\nstruct EventView: View {\n    var body: some View {\n        List {\n            NavigationLink(\"Basic Event Tip\") {\n                EventRuleView()\n            }\n            \n            NavigationLink(\"Event Tip using custom data type\") {\n                FoodDetailView()\n            }\n        }\n        .navigationTitle(\"Event rules\")\n    }\n}\n```\n\n### Creating an event with an associated donation value\n\nYou can also create a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tips\/Event] property wrapper with associated donated values. These values hold additional information relevant to the tip itself.\n\nThe example below donates the `viewedSpecificFood` event with an associated donation value when the user action occurs. In this sample, the tip displays if the following rules are satisfied:\n\n- The `viewedDetailView` event occurs at least once.\n- The `viewedSpecificFood` event occurs with at least three distinct items.\n- The `viewedSpecificFood` event occurs more than four times within the last hour.\n\n```swift\nstruct FoodItem: View {\n    @Binding\n    var food: FoodEventTip.Item\n\n    var body: some View {\n        Button {\n            food.isFavorite.toggle()\n\n            \/\/ Donate to the event when the user action occurs.\n            FoodEventTip.viewedSpecificFood.sendDonation(food)\n        } label: {\n            VStack {\n                Text(food.name)\n                Image(systemName: food.isFavorite ? \"heart.fill\" : \"heart\")\n                    .foregroundColor(food.isFavorite ? .red : .primary)\n            }\n        }\n    }\n}\n```\n\nThe example below creates a display rule for `FoodEventTip` based on the viewedSpecificFood event.\n\n```swift\nstruct FoodEventTip: Tip {\n    struct Item: Codable, Sendable {\n        var name: String\n        var isFavorite: Bool\n    }\n\n    \/\/ Event triggered when a user views a specific food item.\n    static let viewedSpecificFood: Tips.Event<Item> = Tips.Event(id: \"viewed-specific-food\")\n\n    static let viewedDetailView = Tips.Event(id: \"FoodDetailViewDidOpen\")\n\n    var title: Text {\n        Text(\"Save as a Favorite\")\n    }\n\n    var message: Text? {\n        Text(\"Tap on the button to favorite an item.\")\n    }\n\n    var image: Image? {\n        Image(systemName: \"fork.knife\")\n    }\n\n    var rules: [Rule] {\n        #Rule(FoodEventTip.viewedDetailView) {\n            \/\/ This rule checks if the user donated to the `FoodDetailViewDidOpen` event at least once.\n            $0.donations.count >= 1\n        }\n        #Rule(FoodEventTip.viewedSpecificFood) {\n            \/\/ The events donated must contain at least three distinct items with different names.\n            \/\/ This ensures the user explored a variety of options before showing the tip.\n            $0.donations.smallestSubset(groupedBy: \\.name).count > 1\n        }\n        #Rule(FoodEventTip.viewedSpecificFood) {\n            \/\/ This rule checks if the user has donated to the `viewedSpecificFood` event more than four times\n            \/\/ within the last hour for favorited items.\n            $0.donations.donatedWithin(.hour)\n                .filter({ $0.isFavorite == true }).count > 4\n        }\n    }\n\n    var options: [Option] {\n        \/\/ Show this tip once.\n        MaxDisplayCount(1)\n    }\n}\n```\n\n### Control display frequency using options\n\nOptions control the frequency with which tips display. Define a [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/Option] in the [doc:\/\/com.apple.TipKit\/documentation\/TipKit\/Tip\/options] property of your tip structure and set the frequency for the tip display there.\n\n```swift\nstruct OptionTip: Tip {\n    \/\/ ...\n    var options: [Option] {\n        \/\/ Show this tip once.\n        MaxDisplayCount(1)\n    }\n}\n```\n\nThen present the tip in a view. The first time the view appears, the tip displays once. Afterward, the tip no longer appears until reset or the app reinstalls on the device. See the section on overriding tip eligibility rules for instructions on how to reset a tip’s state.\n\n### Combine parameters, events, and options for more complex interactions\n\nTo create more complex rules, combine parameters, events, and options to make tips appear. This sample defines one parameter-based rule to only show a tip when someone logs in, and another event-based rule that only displays a tip when someone enters the view three times. These rules logically AND together in the rules property of the tip structure.\n\n```swift\nstruct ComboTip: Tip {\n    \/\/ Define the app state you want to track.\n    @Parameter\n    static var isLoggedIn: Bool = false\n\n    \/\/ Define the user interaction you want to track.\n    static let enteredView = Event(id: \"enteredView\")\n\n    \/\/ ...\n    var rules: [Rule] {\n        \/\/ Note: These rules AND together.\n        \/\/ Define a parameter-based rule tracking app state.\n        #Rule(Self.$isLoggedIn) {\n            $0 == true\n        }\n\n        \/\/ Define an event-based rule tracking user state.\n        #Rule(Self.enteredView) {\n            $0.donations.count >= 3\n        }\n    }\n}\n```\n\nThe tip displays when the following two rules are met:\n\n1. The user is logged in (triggered by tapping the Login button).\n2. The user enters the view three times (triggered by navigating in and out of the view).\n\nThe sample tracks the number of times the page appears by donating to the event-based rule in the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] view modifier.\n\n```swift\n.onAppear {\n    \/\/ Donate to the event each time the view appears.\n    ComboTip.enteredView.sendDonation()\n}\n```\n\nThen, when the user logs in and the view appears three times, the tip displays.\n\n```swift\nstruct ComboView: View {\n    \/\/ Create an instance of your tip content.\n    let comboTip = ComboTip()\n\n    var body: some View {\n        VStack(spacing: 20) {\n            Text(\"You can combine parameters, events, and options to support more complex conditions for displaying tips.\")\n\n            \/\/ Place your tip near the feature you want to highlight.\n            TipView(comboTip, arrowEdge: .bottom)\n            Image(systemName: \"star\")\n\n            Button(ContentView.isLoggedIn ? \"Logout\" : \"Login\") {\n                ContentView.isLoggedIn.toggle()\n            }\n\n            Text(\"Entered view: \\(ComboTip.enteredView.donations.count + 1) times\")\n            Text(\"For example, to make this tip appear, navigate in and out of the screen three times, and then tap the Login button.\")\n            Spacer()\n        }\n        .onAppear {\n            \/\/ Donate to the event each time the view appears.\n            ComboTip.enteredView.sendDonation()\n        }\n        .padding()\n        .navigationTitle(\"Combining rules\")\n    }\n}\n```\n\n### Override eligibility rules to test tip appearance and display\n\nWhen a tip is no longer eligible for display, it stops appearing in the app. While this might make sense in production, it can make testing tip appearance and placement challenging during development.\n\nTo make tip testing easier, the sample code uses various testing APIs to override a tip’s eligibility rules, and hide or display tips regardless of their previous eligibility or status.\n\n```swift\n\/\/ Show all defined tips in the app.\nTips.showAllTipsForTesting()\n\n\/\/ Show some tips, but not all.\nTips.showTipsForTesting([tip1, tip2, tip3])\n\n\/\/ Hide all tips defined in the app.\nTips.hideAllTipsForTesting()\n\n\/\/ Purge all TipKit-related data.\ntry Tips.resetDatastore()\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Highlighting app features with TipKit",
  "url" : "https:\/\/developer.apple.com\/documentation\/tipkit\/highlightingappfeatureswithtipkit"
}