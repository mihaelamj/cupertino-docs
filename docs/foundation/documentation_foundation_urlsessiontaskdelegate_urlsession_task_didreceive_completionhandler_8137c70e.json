{
  "abstract" : "Requests credentials from the delegate in response to an authentication request from the remote server.",
  "codeExamples" : [

  ],
  "contentHash" : "eb764311275e0d098c0887475fec37d0d060832f894d754e967d5fbe409d282a",
  "crawledAt" : "2025-12-06T04:33:14Z",
  "declaration" : {
    "code" : "optional func urlSession(_ session: URLSession, task: URLSessionTask, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -> Void)",
    "language" : "swift"
  },
  "id" : "901FB2FC-6C5A-42D7-ACCB-C220DBA8CB7C",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nThis method handles task-level authentication challenges. The [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDelegate] protocol also provides a session-level authentication delegate method. The method called depends on the type of authentication challenge:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didReceive:completionHandler:)\ncrawled: 2025-12-06T04:33:14Z\n---\n\n# urlSession(_:task:didReceive:completionHandler:)\n\n**Instance Method**\n\nRequests credentials from the delegate in response to an authentication request from the remote server.\n\n## Declaration\n\n```swift\noptional func urlSession(_ session: URLSession, task: URLSessionTask, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -> Void)\n```\n\n```swift\noptional func urlSession(_ session: URLSession, task: URLSessionTask, didReceive challenge: URLAuthenticationChallenge) async -> (URLSession.AuthChallengeDisposition, URLCredential?)\n```\n\n## Parameters\n\n- **session**: The session containing the task whose request requires authentication.\n- **task**: The task whose request requires authentication.\n- **challenge**: An object that contains the request for authentication.\n- **completionHandler**: A handler that your delegate method must call. Its parameters are:\n\n- `disposition`—One of several constants that describes how the challenge should be handled.\n- `credential`—The credential that should be used for authentication if disposition is `NSURLSessionAuthChallengeUseCredential`; otherwise, `NULL`.\n\n## Discussion\n\nThis method handles task-level authentication challenges. The [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDelegate] protocol also provides a session-level authentication delegate method. The method called depends on the type of authentication challenge:\n\n- For session-level challenges—[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLAuthenticationMethodNTLM], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLAuthenticationMethodNegotiate], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLAuthenticationMethodClientCertificate], or [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLAuthenticationMethodServerTrust]—the `NSURLSession` object calls the session delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDelegate\/urlSession(_:didReceive:completionHandler:)] method. If your app does not provide a session delegate method, the `NSURLSession` object  calls the task delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didReceive:completionHandler:)] method to handle the challenge.\n- For non-session-level challenges (all others), the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSession] object calls the session delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didReceive:completionHandler:)] method to handle the challenge. If your app provides a session delegate and you need to handle authentication, then you must either handle the authentication at the task level or provide a task-level handler that calls the per-session handler explicitly. The session delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDelegate\/urlSession(_:didReceive:completionHandler:)] method is *not* called for non-session-level challenges.\n\n## Handling authentication challenges\n\n- **URLSession.AuthChallengeDisposition**: Constants passed by session or task delegates to the provided continuation block in response to an authentication challenge.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Constants passed by session or task delegates to the provided continuation block in response to an authentication challenge.",
          "name" : "URLSession.AuthChallengeDisposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/AuthChallengeDisposition"
        }
      ],
      "title" : "Handling authentication challenges"
    }
  ],
  "source" : "appleJSON",
  "title" : "urlSession(_:task:didReceive:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didReceive:completionHandler:)"
}