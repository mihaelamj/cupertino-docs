{
  "abstract" : "A URL session task that uploads data to the network in a request body.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSObjectProtocol",
    "ProgressReporting",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "de8e8c7c6705c23fbe6dd5736f579ea32ecead1ca78fd3c1b58d4bf1fe380d16",
  "crawledAt" : "2025-12-07T11:59:11Z",
  "declaration" : {
    "code" : "class URLSessionUploadTask",
    "language" : "swift"
  },
  "id" : "CE77E0E4-6D04-44F5-83E1-2B5397B7904C",
  "kind" : "class",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Overview\n\nThe [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionUploadTask] class is a subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDataTask], which in turn is a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask]. The methods associated with the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionUploadTask] class are documented in [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask].\n\nUpload tasks are used for making HTTP requests that require a request body (such as `POST` or `PUT`). They behave similarly to data tasks, but you create them by calling different methods on the session that are designed to make it easier to provide the content to upload. As with data tasks, if the server provides a response, upload tasks return that response as one or more `NSData` objects in memory.\n\nWhen you create an upload task, you provide a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLRequest] instance that contains any additional headers that you might need to send alongside the upload, such as the content type, content disposition, and so on. In iOS, when you create an upload task for a file in a background session, the system copies that file to a temporary location and streams data from there.\n\nWhile the upload is in progress, the task calls the session delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didSendBodyData:totalBytesSent:totalBytesExpectedToSend:)] method periodically to provide you with status information.\n\nWhen the upload phase of the request finishes, the task behaves like a data task, calling methods on the session delegate to provide you with the server’s response—headers, status code, content data, and so on.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/foundation\/urlsessionuploadtask\ncrawled: 2025-12-07T11:59:11Z\n---\n\n# URLSessionUploadTask\n\n**Class**\n\nA URL session task that uploads data to the network in a request body.\n\n## Declaration\n\n```swift\nclass URLSessionUploadTask\n```\n\n## Overview\n\nThe [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionUploadTask] class is a subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDataTask], which in turn is a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask]. The methods associated with the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionUploadTask] class are documented in [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask].\n\nUpload tasks are used for making HTTP requests that require a request body (such as `POST` or `PUT`). They behave similarly to data tasks, but you create them by calling different methods on the session that are designed to make it easier to provide the content to upload. As with data tasks, if the server provides a response, upload tasks return that response as one or more `NSData` objects in memory.\n\n\n\nWhen you create an upload task, you provide a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLRequest] instance that contains any additional headers that you might need to send alongside the upload, such as the content type, content disposition, and so on. In iOS, when you create an upload task for a file in a background session, the system copies that file to a temporary location and streams data from there.\n\nWhile the upload is in progress, the task calls the session delegate’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTaskDelegate\/urlSession(_:task:didSendBodyData:totalBytesSent:totalBytesExpectedToSend:)] method periodically to provide you with status information.\n\nWhen the upload phase of the request finishes, the task behaves like a data task, calling methods on the session delegate to provide you with the server’s response—headers, status code, content data, and so on.\n\n## Initializers\n\n- **init()**\n\n## Instance Methods\n\n- **cancel(byProducingResumeData:)**: Cancels an upload and calls the completion handler with resume data for later use. resumeData will be nil if the server does not support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/\n\n## Type Methods\n\n- **new()**\n\n## Adding upload tasks to a session\n\n- **Building a resumable upload server with SwiftNIO**: Support HTTP resumable upload protocol in SwiftNIO by translating resumable uploads to regular uploads.\n- **uploadTask(with:from:)**: Creates a task that performs an HTTP request for the specified URL request object and uploads the provided data.\n- **uploadTask(with:from:completionHandler:)**: Creates a task that performs an HTTP request for the specified URL request object, uploads the provided data, and calls a handler upon completion.\n- **uploadTask(with:fromFile:)**: Creates a task that performs an HTTP request for uploading the specified file.\n- **uploadTask(with:fromFile:completionHandler:)**: Creates a task that performs an HTTP request for uploading the specified file, then calls a handler upon completion.\n- **uploadTask(withStreamedRequest:)**: Creates a task that performs an HTTP request for uploading data based on the specified URL request.\n- **uploadTask(withResumeData:)**: Creates an upload task from a resume data blob. Requires the server to support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/ If resuming from an upload file, the file must still exist and be unmodified. If the upload cannot be successfully resumed, URLSession:task:didCompleteWithError: will be called.\n- **uploadTask(withResumeData:completionHandler:)**: Creates a URLSessionUploadTask from a resume data blob. If resuming from an upload file, the file must still exist and be unmodified.\n- **URLSessionDataDelegate**: A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to data and upload tasks.\n\n## Inherits From\n\n- URLSessionDataTask\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSObjectProtocol\n- ProgressReporting\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionUploadTask\/init()"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Cancels an upload and calls the completion handler with resume data for later use. resumeData will be nil if the server does not support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/",
          "name" : "cancel(byProducingResumeData:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionUploadTask\/cancel(byProducingResumeData:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "new()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionUploadTask\/new()"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Support HTTP resumable upload protocol in SwiftNIO by translating resumable uploads to regular uploads.",
          "name" : "Building a resumable upload server with SwiftNIO",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/building-a-resumable-upload-server-with-swiftnio"
        },
        {
          "description" : "Creates a task that performs an HTTP request for the specified URL request object and uploads the provided data.",
          "name" : "uploadTask(with:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:from:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for the specified URL request object, uploads the provided data, and calls a handler upon completion.",
          "name" : "uploadTask(with:from:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:from:completionHandler:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for uploading the specified file.",
          "name" : "uploadTask(with:fromFile:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:fromFile:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for uploading the specified file, then calls a handler upon completion.",
          "name" : "uploadTask(with:fromFile:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:fromFile:completionHandler:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for uploading data based on the specified URL request.",
          "name" : "uploadTask(withStreamedRequest:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withStreamedRequest:)"
        },
        {
          "description" : "Creates an upload task from a resume data blob. Requires the server to support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/ If resuming from an upload file, the file must still exist and be unmodified. If the upload cannot be successfully resumed, URLSession:task:didCompleteWithError: will be called.",
          "name" : "uploadTask(withResumeData:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withResumeData:)"
        },
        {
          "description" : "Creates a URLSessionUploadTask from a resume data blob. If resuming from an upload file, the file must still exist and be unmodified.",
          "name" : "uploadTask(withResumeData:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withResumeData:completionHandler:)"
        },
        {
          "description" : "A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to data and upload tasks.",
          "name" : "URLSessionDataDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate"
        }
      ],
      "title" : "Adding upload tasks to a session"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "URLSessionDataTask"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "URLSessionUploadTask",
  "url" : "https:\/\/developer.apple.com\/documentation\/foundation\/urlsessionuploadtask"
}