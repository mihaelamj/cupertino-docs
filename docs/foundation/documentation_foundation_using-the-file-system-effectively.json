{
  "abstract" : "Gain access to benefits like automatic backup or purging by using purpose-built directories provided by the system.",
  "codeExamples" : [

  ],
  "contentHash" : "d2dc970342851d137da1cd36ba35d4c7cad3bd7018f405ee0b7f0cb4ddad2220",
  "crawledAt" : "2025-12-04T17:55:28Z",
  "id" : "CDE64493-2CBC-4CB8-AA7D-B23B6BE891D4",
  "kind" : "article",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Overview\n\nWhen apps persist data, they often use different files for different purposes. For example, when someone uses your app to create a document, the app stores the document permanently, and makes it available for automated backup. Your app may also create files it requires to function, but that won’t be visible while someone’s using the app. Still other types of files may be useful for a time, but eventually eligible for deletion. Foundation provides special directories for different kinds of files, some of which offer unique behaviors that can help your app to store files more efficiently.\n\nBy thoughtfully managing your use of file system resources, you can avoid wasting space, which provides the following advantages:\n\nIn addition, using the right directories for the right files provides useful features, like automatic backup or purging.\n\n### Access common directories\n\nOn iOS, tvOS, watchOS, and visionOS, apps perform all their file access within the app’s bundle. There’s no access outside of the bundle, except in cases where higher-level APIs access outside files on the app’s behalf, like when you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer] to play songs from the device’s music library. A sandboxed macOS app uses a similar setup.\n\nWithin the bundle, the system provides specific directories, some with distinct behaviors, such as backing up, or periodically purging files. Access these directories with methods and properties from the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager] types:\n\nUse these APIs whenever possible. Don’t hard-code paths to what appear to be common directories, since apps like Finder may localize directory names and omit file extensions when presenting them in the user interface.\n\n### Store long-lived files\n\nWhen writing a document-based app with APIs like [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIDocument] and [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSDocument], store files in the `Documents` folder. You can access this folder with the URL [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/documentsDirectory] or the search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/documentDirectory].\n\nYou can also use this folder for other files managed by the person using your app, even if you don’t use the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIDocument] or [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSDocument] APIs.\n\nThe system backs up files in the `Documents` folder when connecting an iOS device to a macOS computer with a USB cable, or when performing an iCloud backup. The system can also make the contents of the `Documents` folder available for file sharing. Only store files in this folder that you want to expose to the person using your app.\n\nAdditionally, when you store files in the `Documents` folder in an iOS app, they also become visible in the system “Files” app.\n\nFor support files that your app needs to operate but that you don’t want to be openly visible, prefer the `ApplicationSupport` directory by using the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/applicationSupportDirectory] or the search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/applicationSupportDirectory]. This directory stores data like configuration files, templates, and modified versions of default files from your bundle. The system also includes the contents of this folder as part of regular backups.\n\n### Store short-lived files\n\nYour app may also use shorter-lived files that you don’t need backed up or stored permanently. Foundation provides several directories for storing these kinds of files.\n\nAccess the temporary directory with the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/temporaryDirectory], and the file manager property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/temporaryDirectory]. Use this directory for files with a short lifespan, like the side effects of computational operations, or one-time downloads that can be discarded after use.\n\nOnly use the temporary directory for files that you don’t need to persist between launches of the app, because the system may purge this directory when your app isn’t running. There’s no guarantee of when or if the system will clear the directory, however, so delete temporary files as soon as you know you don’t need them.\n\nFor files that persist longer than temporary files, but are still purgeable, use the *caches* directory. In the caches directory, store files the app doesn’t require to operate, but that improve performance, such as database cache files and transient, downloadable content.\n\nAccess the caches directory with the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/cachesDirectory] or the file manager search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/cachesDirectory]. As with the temporary directory, the system may purge this directory when your app isn’t running. Your app needs to either be able to operate without these files, or regenerate them as needed. Additionally, invalidate and delete cache files when you can, and don’t waste storage on unnecessary files.\n\nThe system doesn’t back up either the temporary directory or the caches directory.\n\nThe following decision tree summarizes the factors to consider when choosing a storage directory, and the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] constants for those directories.\n\n\n\n### Access the rest of the file system in a non-sandboxed macOS app\n\nA non-sandboxed macOS app can access files outside of its own container. This ability can be useful for apps that read from and write to other locations in the file system.\n\nWhen a macOS app isn’t sandboxed, the common directory properties in [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] provide different values. For example, in a non-sandboxed macOS app, [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/applicationSupportDirectory] is “`~\/Library\/Application Support`”, and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/cachesDirectory] is “`~\/Library\/Caches`”. This difference in values also applies when using [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/urls(for:in:)] with search path constants like [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/applicationSupportDirectory] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/cachesDirectory].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/using-the-file-system-effectively\ncrawled: 2025-12-04T17:55:28Z\n---\n\n# Using the file system effectively\n\n**Article**\n\nGain access to benefits like automatic backup or purging by using purpose-built directories provided by the system.\n\n## Overview\n\nWhen apps persist data, they often use different files for different purposes. For example, when someone uses your app to create a document, the app stores the document permanently, and makes it available for automated backup. Your app may also create files it requires to function, but that won’t be visible while someone’s using the app. Still other types of files may be useful for a time, but eventually eligible for deletion. Foundation provides special directories for different kinds of files, some of which offer unique behaviors that can help your app to store files more efficiently.\n\nBy thoughtfully managing your use of file system resources, you can avoid wasting space, which provides the following advantages:\n\n- Your app won’t prevent the system from performing an update due to lack of space.\n- Your app becomes less likely to be deleted and redownloaded during a system update.\n- The person using your app may be less likely to delete your app to free up storage space.\n- Your app benefits from smaller, faster backups.\n\nIn addition, using the right directories for the right files provides useful features, like automatic backup or purging.\n\n\n\n### Access common directories\n\nOn iOS, tvOS, watchOS, and visionOS, apps perform all their file access within the app’s bundle. There’s no access outside of the bundle, except in cases where higher-level APIs access outside files on the app’s behalf, like when you use [doc:\/\/com.apple.documentation\/documentation\/MediaPlayer] to play songs from the device’s music library. A sandboxed macOS app uses a similar setup.\n\nWithin the bundle, the system provides specific directories, some with distinct behaviors, such as backing up, or periodically purging files. Access these directories with methods and properties from the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager] types:\n\n- In Swift, [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] defines properties for common directories like [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/documentsDirectory], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/cachesDirectory], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/temporaryDirectory], and so on. Each of these properties is a single, nonoptional [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] instance that you can use with [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager].\n- In Swift or Objective-C, you can use the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager] method [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/urls(for:in:)] to access common directories. The `for` parameter takes a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory], a type that defines constants to search for common directories like [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/documentDirectory] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/cachesDirectory].\n\nUse these APIs whenever possible. Don’t hard-code paths to what appear to be common directories, since apps like Finder may localize directory names and omit file extensions when presenting them in the user interface.\n\n### Store long-lived files\n\nWhen writing a document-based app with APIs like [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIDocument] and [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSDocument], store files in the `Documents` folder. You can access this folder with the URL [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/documentsDirectory] or the search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/documentDirectory].\n\nYou can also use this folder for other files managed by the person using your app, even if you don’t use the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIDocument] or [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSDocument] APIs.\n\nThe system backs up files in the `Documents` folder when connecting an iOS device to a macOS computer with a USB cable, or when performing an iCloud backup. The system can also make the contents of the `Documents` folder available for file sharing. Only store files in this folder that you want to expose to the person using your app.\n\nAdditionally, when you store files in the `Documents` folder in an iOS app, they also become visible in the system “Files” app.\n\nFor support files that your app needs to operate but that you don’t want to be openly visible, prefer the `ApplicationSupport` directory by using the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/applicationSupportDirectory] or the search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/applicationSupportDirectory]. This directory stores data like configuration files, templates, and modified versions of default files from your bundle. The system also includes the contents of this folder as part of regular backups.\n\n\n\n### Store short-lived files\n\nYour app may also use shorter-lived files that you don’t need backed up or stored permanently. Foundation provides several directories for storing these kinds of files.\n\nAccess the temporary directory with the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/temporaryDirectory], and the file manager property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/temporaryDirectory]. Use this directory for files with a short lifespan, like the side effects of computational operations, or one-time downloads that can be discarded after use.\n\nOnly use the temporary directory for files that you don’t need to persist between launches of the app, because the system may purge this directory when your app isn’t running. There’s no guarantee of when or if the system will clear the directory, however, so delete temporary files as soon as you know you don’t need them.\n\nFor files that persist longer than temporary files, but are still purgeable, use the *caches* directory. In the caches directory, store files the app doesn’t require to operate, but that improve performance, such as database cache files and transient, downloadable content.\n\nAccess the caches directory with the URL property [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/cachesDirectory] or the file manager search path [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/cachesDirectory]. As with the temporary directory, the system may purge this directory when your app isn’t running. Your app needs to either be able to operate without these files, or regenerate them as needed. Additionally, invalidate and delete cache files when you can, and don’t waste storage on unnecessary files.\n\nThe system doesn’t back up either the temporary directory or the caches directory.\n\nThe following decision tree summarizes the factors to consider when choosing a storage directory, and the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] constants for those directories.\n\n\n\n### Access the rest of the file system in a non-sandboxed macOS app\n\nA non-sandboxed macOS app can access files outside of its own container. This ability can be useful for apps that read from and write to other locations in the file system.\n\n\n\nWhen a macOS app isn’t sandboxed, the common directory properties in [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL] provide different values. For example, in a non-sandboxed macOS app, [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/applicationSupportDirectory] is “`~\/Library\/Application Support`”, and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URL\/cachesDirectory] is “`~\/Library\/Caches`”. This difference in values also applies when using [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/urls(for:in:)] with search path constants like [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/applicationSupportDirectory] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/SearchPathDirectory\/cachesDirectory].\n\n## File system operations\n\n- **Improving performance and stability when accessing the file system**: Prevent data loss and app crashes by interacting with the file system in a coordinated, asynchronous manner and by avoiding unnecessary disk I\/O.\n- **FileManager**: A convenient interface to the contents of the file system, and the primary means of interacting with it.\n- **FileManagerDelegate**: The interface a file manager’s delegate uses to intervene during operations or if an error occurs.\n- **About Apple File System**: Use high-level APIs to get the most out of Apple File System.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prevent data loss and app crashes by interacting with the file system in a coordinated, asynchronous manner and by avoiding unnecessary disk I\/O.",
          "name" : "Improving performance and stability when accessing the file system",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/improving-performance-and-stability-when-accessing-the-file-system"
        },
        {
          "description" : "A convenient interface to the contents of the file system, and the primary means of interacting with it.",
          "name" : "FileManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/FileManager"
        },
        {
          "description" : "The interface a file manager’s delegate uses to intervene during operations or if an error occurs.",
          "name" : "FileManagerDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/FileManagerDelegate"
        },
        {
          "description" : "Use high-level APIs to get the most out of Apple File System.",
          "name" : "About Apple File System",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/about-apple-file-system"
        }
      ],
      "title" : "File system operations"
    }
  ],
  "source" : "appleJSON",
  "title" : "Using the file system effectively",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/using-the-file-system-effectively"
}