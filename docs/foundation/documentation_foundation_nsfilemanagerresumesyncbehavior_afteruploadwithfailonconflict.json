{
  "abstract" : "Resumes sync by first uploading the local version of the file, failing if the provider detects a conflict.",
  "codeExamples" : [

  ],
  "contentHash" : "da282217406c614e7869bca2bbfec6b3ceca4df2d7ea2f6ade675d2a0e2a81ba",
  "crawledAt" : "2025-12-08T00:23:22Z",
  "declaration" : {
    "code" : "case afterUploadWithFailOnConflict",
    "language" : "swift"
  },
  "id" : "F926AF03-9F16-4A82-8CA9-CF951D741757",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nIf the upload succeeds, the sync resumes with the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/preserveLocalChanges] behavior.\n\nIf the provider detects a conflict, the upload fails with an  [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileWriteUnknownError-c.enum.case], with the underlying error of [doc:\/\/com.apple.documentation\/documentation\/FileProvider\/NSFileProviderError\/localVersionConflictingWithServer]. In this case, the app needs to call [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/fetchLatestRemoteVersionOfItem(at:completionHandler:)], rebase local changes on top of the newly fetched version to resolve the conflict, and try again to resume sync. This scenario is only available on paused items for which the file provider supports the fail-on-conflict behavior. To check that the file provider supports the behavior, get the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResourceKey\/ubiquitousItemSupportedSyncControlsKey] URL resource and verify that [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileManagerSupportedSyncControls\/failUploadOnConflict] is `true`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/afterUploadWithFailOnConflict\ncrawled: 2025-12-08T00:23:22Z\n---\n\n# NSFileManagerResumeSyncBehavior.afterUploadWithFailOnConflict\n\n**Case**\n\nResumes sync by first uploading the local version of the file, failing if the provider detects a conflict.\n\n## Declaration\n\n```swift\ncase afterUploadWithFailOnConflict\n```\n\n## Discussion\n\nIf the upload succeeds, the sync resumes with the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/preserveLocalChanges] behavior.\n\nIf the provider detects a conflict, the upload fails with an  [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileWriteUnknownError-c.enum.case], with the underlying error of [doc:\/\/com.apple.documentation\/documentation\/FileProvider\/NSFileProviderError\/localVersionConflictingWithServer]. In this case, the app needs to call [doc:\/\/com.apple.foundation\/documentation\/Foundation\/FileManager\/fetchLatestRemoteVersionOfItem(at:completionHandler:)], rebase local changes on top of the newly fetched version to resolve the conflict, and try again to resume sync. This scenario is only available on paused items for which the file provider supports the fail-on-conflict behavior. To check that the file provider supports the behavior, get the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResourceKey\/ubiquitousItemSupportedSyncControlsKey] URL resource and verify that [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileManagerSupportedSyncControls\/failUploadOnConflict] is `true`.\n\n## Identifying sync behaviors\n\n- **NSFileManagerResumeSyncBehavior.preserveLocalChanges**: Resumes synchronizing by uploading the local version of the file.\n- **NSFileManagerResumeSyncBehavior.dropLocalChanges**: Resumes synchronizing by overwriting any local changes with the remote version of the file.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Resumes synchronizing by uploading the local version of the file.",
          "name" : "NSFileManagerResumeSyncBehavior.preserveLocalChanges",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/preserveLocalChanges"
        },
        {
          "description" : "Resumes synchronizing by overwriting any local changes with the remote version of the file.",
          "name" : "NSFileManagerResumeSyncBehavior.dropLocalChanges",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/dropLocalChanges"
        }
      ],
      "title" : "Identifying sync behaviors"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSFileManagerResumeSyncBehavior.afterUploadWithFailOnConflict",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileManagerResumeSyncBehavior\/afterUploadWithFailOnConflict"
}