{
  "abstract" : "Creates a download task to resume a previously canceled or failed download and calls a handler upon completion.",
  "codeExamples" : [

  ],
  "contentHash" : "8a8ad3e84b088464782645f26c53c5e0b1c043dfca853525ee5b7a3b55a5acfc",
  "crawledAt" : "2025-12-04T19:01:48Z",
  "declaration" : {
    "code" : "func downloadTask(withResumeData resumeData: Data, completionHandler: @escaping (URL?, URLResponse?, (any Error)?) -> Void) -> URLSessionDownloadTask",
    "language" : "swift"
  },
  "id" : "30E4DC8B-B6FC-41A5-A5F5-60ADB6B85AB2",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Return Value\n\nThe new session download task.\n\n## Discussion\n\nBy using a completion handler, the task bypasses calls to delegate methods for response and data delivery, and instead provides any resulting data, response, or error inside the completion handler. Delegate methods for handling authentication challenges, however, are still called.\n\nYou should pass a `nil` completion handler *only* when creating tasks in sessions whose delegates include a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDownloadDelegate\/urlSession(_:downloadTask:didFinishDownloadingTo:)] method.\n\nYour app can obtain a `resumeData` object in two ways:\n\nAfter you create the task, you must start it by calling its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask\/resume()] method.\n\nIf the request completes successfully, the `location` parameter of the completion handler block contains the location of the temporary file, and the `error` parameter is `nil`. If the request fails, the `location` parameter is `nil` and the `error` parameter contain information about the failure. If a response from the server is received, regardless of whether the request completes successfully or fails, the `response` parameter contains that information.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(withResumeData:completionHandler:)\ncrawled: 2025-12-04T19:01:48Z\n---\n\n# downloadTask(withResumeData:completionHandler:)\n\n**Instance Method**\n\nCreates a download task to resume a previously canceled or failed download and calls a handler upon completion.\n\n## Declaration\n\n```swift\nfunc downloadTask(withResumeData resumeData: Data, completionHandler: @escaping (URL?, URLResponse?, (any Error)?) -> Void) -> URLSessionDownloadTask\n```\n\n## Parameters\n\n- **resumeData**: A data object that provides the data necessary to resume the download.\n- **completionHandler**: The completion handler to call when the load request is complete. This handler is executed on the delegate queue.\n\nIf you pass `nil`, only the session delegate methods are called when the task completes, making this method equivalent to the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSession\/downloadTask(withResumeData:)] method.\n\n\n\n## Return Value\n\nThe new session download task.\n\n## Discussion\n\nBy using a completion handler, the task bypasses calls to delegate methods for response and data delivery, and instead provides any resulting data, response, or error inside the completion handler. Delegate methods for handling authentication challenges, however, are still called.\n\nYou should pass a `nil` completion handler *only* when creating tasks in sessions whose delegates include a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDownloadDelegate\/urlSession(_:downloadTask:didFinishDownloadingTo:)] method.\n\nYour app can obtain a `resumeData` object in two ways:\n\n- If your app cancels an existing transfer by calling [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDownloadTask\/cancel(byProducingResumeData:)], the session object passes a `resumeData` object to the completion handler that you provided in that call.\n- If a transfer fails, the session object provides an `NSError` object either to its delegate or to the taskâ€™s completion handler. In that object, the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLSessionDownloadTaskResumeData] key in the `userInfo` dictionary contains a `resumeData` object.\n\nAfter you create the task, you must start it by calling its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask\/resume()] method.\n\nIf the request completes successfully, the `location` parameter of the completion handler block contains the location of the temporary file, and the `error` parameter is `nil`. If the request fails, the `location` parameter is `nil` and the `error` parameter contain information about the failure. If a response from the server is received, regardless of whether the request completes successfully or fails, the `response` parameter contains that information.\n\n\n\n## Adding download tasks to a session\n\n- **downloadTask(with:)**: Creates a download task that retrieves the contents of the specified URL and saves the results to a file.\n- **downloadTask(with:completionHandler:)**: Creates a download task that retrieves the contents of the specified URL, saves the results to a file, and calls a handler upon completion.\n- **downloadTask(with:)**: Creates a download task that retrieves the contents of a URL based on the specified URL request object and saves the results to a file.\n- **downloadTask(with:completionHandler:)**: Creates a download task that retrieves the contents of a URL based on the specified URL request object, saves the results to a file, and calls a handler upon completion.\n- **downloadTask(withResumeData:)**: Creates a download task to resume a previously canceled or failed download.\n- **URLSessionDownloadTask**: A URL session task that stores downloaded data to a file.\n- **URLSessionDownloadDelegate**: A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to download tasks.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a download task that retrieves the contents of the specified URL and saves the results to a file.",
          "name" : "downloadTask(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(with:)-1onj"
        },
        {
          "description" : "Creates a download task that retrieves the contents of the specified URL, saves the results to a file, and calls a handler upon completion.",
          "name" : "downloadTask(with:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(with:completionHandler:)-7cuje"
        },
        {
          "description" : "Creates a download task that retrieves the contents of a URL based on the specified URL request object and saves the results to a file.",
          "name" : "downloadTask(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(with:)-3fb7s"
        },
        {
          "description" : "Creates a download task that retrieves the contents of a URL based on the specified URL request object, saves the results to a file, and calls a handler upon completion.",
          "name" : "downloadTask(with:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(with:completionHandler:)-4a84s"
        },
        {
          "description" : "Creates a download task to resume a previously canceled or failed download.",
          "name" : "downloadTask(withResumeData:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(withResumeData:)"
        },
        {
          "description" : "A URL session task that stores downloaded data to a file.",
          "name" : "URLSessionDownloadTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDownloadTask"
        },
        {
          "description" : "A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to download tasks.",
          "name" : "URLSessionDownloadDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDownloadDelegate"
        }
      ],
      "title" : "Adding download tasks to a session"
    }
  ],
  "source" : "appleJSON",
  "title" : "downloadTask(withResumeData:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/downloadTask(withResumeData:completionHandler:)"
}