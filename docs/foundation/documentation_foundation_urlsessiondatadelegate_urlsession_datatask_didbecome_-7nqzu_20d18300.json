{
  "abstract" : "Tells the delegate that the data task was changed to a stream task.",
  "codeExamples" : [

  ],
  "contentHash" : "4c7cae3d8fba2e4ff380975fb59440ea68ac3de41b949ec2fb7b9c7728764557",
  "crawledAt" : "2025-12-06T03:03:47Z",
  "declaration" : {
    "code" : "optional func urlSession(_ session: URLSession, dataTask: URLSessionDataTask, didBecome streamTask: URLSessionStreamTask)",
    "language" : "swift"
  },
  "id" : "AE210CE1-CD57-42F4-9D2F-EA99222E09B5",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nWhen your [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didReceive:completionHandler:)] delegate method uses the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSession\/ResponseDisposition\/becomeStream] disposition to convert the request to use a stream, the session calls this delegate method to provide you with the new stream task. After this call, the session delegate receives no further delegate method calls related to the original data task.\n\nFor requests that were pipelined, the stream task allows only reading, and the object  immediately sends the delegate message [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionStreamDelegate\/urlSession(_:writeClosedFor:)]. You can disable pipelining for all requests in a session by setting the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionConfiguration\/httpShouldUsePipelining] property on its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionConfiguration] object, or for individual requests  by setting the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLRequest\/httpShouldUsePipelining] property on an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLRequest] object.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didBecome:)-7nqzu\ncrawled: 2025-12-06T03:03:47Z\n---\n\n# urlSession(_:dataTask:didBecome:)\n\n**Instance Method**\n\nTells the delegate that the data task was changed to a stream task.\n\n## Declaration\n\n```swift\noptional func urlSession(_ session: URLSession, dataTask: URLSessionDataTask, didBecome streamTask: URLSessionStreamTask)\n```\n\n## Parameters\n\n- **session**: The session containing the task that was replaced by a stream task.\n- **dataTask**: The data task that was replaced by a stream task.\n- **streamTask**: The new stream task that replaced the data task.\n\n## Discussion\n\nWhen your [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didReceive:completionHandler:)] delegate method uses the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSession\/ResponseDisposition\/becomeStream] disposition to convert the request to use a stream, the session calls this delegate method to provide you with the new stream task. After this call, the session delegate receives no further delegate method calls related to the original data task.\n\nFor requests that were pipelined, the stream task allows only reading, and the object  immediately sends the delegate message [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionStreamDelegate\/urlSession(_:writeClosedFor:)]. You can disable pipelining for all requests in a session by setting the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionConfiguration\/httpShouldUsePipelining] property on its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionConfiguration] object, or for individual requests  by setting the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLRequest\/httpShouldUsePipelining] property on an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURLRequest] object.\n\n## Handling task life cycle changes\n\n- **urlSession(_:dataTask:didReceive:completionHandler:)**: Tells the delegate that the data task received the initial reply (headers) from the server.\n- **URLSession.ResponseDisposition**: Constants indicating how a data or upload session should proceed after receiving the initial headers.\n- **urlSession(_:dataTask:didBecome:)**: Tells the delegate that the data task was changed to a download task.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the delegate that the data task received the initial reply (headers) from the server.",
          "name" : "urlSession(_:dataTask:didReceive:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didReceive:completionHandler:)"
        },
        {
          "description" : "Constants indicating how a data or upload session should proceed after receiving the initial headers.",
          "name" : "URLSession.ResponseDisposition",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/ResponseDisposition"
        },
        {
          "description" : "Tells the delegate that the data task was changed to a download task.",
          "name" : "urlSession(_:dataTask:didBecome:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didBecome:)-60op5"
        }
      ],
      "title" : "Handling task life cycle changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "urlSession(_:dataTask:didBecome:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate\/urlSession(_:dataTask:didBecome:)-7nqzu"
}