{
  "abstract" : "Initiates a write operation on a single file or directory using the specified options.",
  "codeExamples" : [

  ],
  "contentHash" : "f7419090444699564651fb6b90db17f660aae9e614e34db3a91fcaf2a58830e1",
  "crawledAt" : "2025-12-06T02:52:43Z",
  "declaration" : {
    "code" : "func coordinate(writingItemAt url: URL, options: NSFileCoordinator.WritingOptions = [], error outError: NSErrorPointer, byAccessor writer: (URL) -> Void)",
    "language" : "swift"
  },
  "id" : "693DD47B-229E-4FC2-A9B0-C70BAA213D72",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nWhen invoking these methods, declare a `__block` variable before the accessor block and initialize it to a value that signals failure, and then inside the accessor block set it to a value that indicates success. If the coordinated operation fails, then the accessor block never runs. The sentinel variable still holds a value that indicates failure, and the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError] out parameter contains a reference that describes the error.\n\nYou use this method to perform write-related operations on a file or directory in a coordinated manner. This method executes synchronously, blocking the current thread until the `writer` block finishes executing. Before executing the block, though, the file coordinator waits until other relevant file presenter objects finish in-progress actions. Similarly, your write operation may cause pending actions for other file presenters to wait until your operations are complete. Whether or not the file coordinator waits depends on whether the item being written is a file or directory and also depends on other related operations.\n\nThis method calls the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFilePresenter\/relinquishPresentedItem(toWriter:)] method of any relevant file presenters. This method is called for file presenters in the current process and in other processes. Depending on the options you specify, other methods of the file presenters may also be called. When writing a file package directory, file presenter objects that are currently reading or writing the contents of that file package also receive these notifications. All of the called methods must return successfully before the file coordinator executes your block. If multiple file presenters are operating on the item, the order in which those presenters are notified is undefined.\n\nWith one exception, do not nest calls to file coordinator methods inside the block you pass to this method. You may call the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/coordinate(readingItemAt:options:error:byAccessor:)] method to read the file if you discover through modification-date checking that the contents of the file have changed. However, if you call this method from inside your block, the file coordinator object throws an exception.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/coordinate(writingItemAt:options:error:byAccessor:)\ncrawled: 2025-12-06T02:52:43Z\n---\n\n# coordinate(writingItemAt:options:error:byAccessor:)\n\n**Instance Method**\n\nInitiates a write operation on a single file or directory using the specified options.\n\n## Declaration\n\n```swift\nfunc coordinate(writingItemAt url: URL, options: NSFileCoordinator.WritingOptions = [], error outError: NSErrorPointer, byAccessor writer: (URL) -> Void)\n```\n\n## Parameters\n\n- **url**: A URL identifying the file or directory to write to. If other objects or processes are acting on the item at the URL, the actual URL passed to `writer` parameter may be different from the one in this parameter.\n- **options**: One of the writing options described in [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/WritingOptions]. The options you specify partially determine how file presenters are notified and how this file coordinator object waits to execute your block.\n- **outError**: On input, a pointer to a pointer for an error object. If a file presenter encounters an error while preparing for this write operation, that error is returned in this parameter and the block in the `writer` parameter is not executed. If you cancel this operation before the `writer` block is executed, this parameter contains an error object on output.\n- **writer**: A [https:\/\/developer.apple.com\/library\/archive\/documentation\/General\/Conceptual\/DevPedia-CocoaCore\/Block.html#\/\/apple_ref\/doc\/uid\/TP40008195-CH3] containing the file operations you want to perform in a coordinated manner. This block receives an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSURL] object containing the URL of the item and returns no value. Always use the URL passed into the block instead of the value in the `url` parameter.\n\n## Discussion\n\nWhen invoking these methods, declare a `__block` variable before the accessor block and initialize it to a value that signals failure, and then inside the accessor block set it to a value that indicates success. If the coordinated operation fails, then the accessor block never runs. The sentinel variable still holds a value that indicates failure, and the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError] out parameter contains a reference that describes the error.\n\nYou use this method to perform write-related operations on a file or directory in a coordinated manner. This method executes synchronously, blocking the current thread until the `writer` block finishes executing. Before executing the block, though, the file coordinator waits until other relevant file presenter objects finish in-progress actions. Similarly, your write operation may cause pending actions for other file presenters to wait until your operations are complete. Whether or not the file coordinator waits depends on whether the item being written is a file or directory and also depends on other related operations.\n\n- If the `url` parameter specifies a file:\n- This method waits for other readers and writers of the exact same file to finish in-progress actions.\n- This method waits if the file is a file package or any item inside a file package and other writers are reading or writing to other items inside the package directory.\n- This method does not wait for readers or writers that are manipulating the parent directory of the file, unless one of those writers specified the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/WritingOptions\/forDeleting] or [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/WritingOptions\/forMoving] option.\n- If the `url` parameter specifies a directory:\n- This method waits if other read or write operations are occurring on the exact same directory.\n- This method does not wait if read or write operations are occurring on items inside the directory (but not on the directory itself).\n- This method does not wait for readers or writers that are manipulating the parent directory of the directory, unless one of those writers specified the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/WritingOptions\/forDeleting] or [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/WritingOptions\/forMoving] option.\n\nThis method calls the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFilePresenter\/relinquishPresentedItem(toWriter:)] method of any relevant file presenters. This method is called for file presenters in the current process and in other processes. Depending on the options you specify, other methods of the file presenters may also be called. When writing a file package directory, file presenter objects that are currently reading or writing the contents of that file package also receive these notifications. All of the called methods must return successfully before the file coordinator executes your block. If multiple file presenters are operating on the item, the order in which those presenters are notified is undefined.\n\n\n\nWith one exception, do not nest calls to file coordinator methods inside the block you pass to this method. You may call the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSFileCoordinator\/coordinate(readingItemAt:options:error:byAccessor:)] method to read the file if you discover through modification-date checking that the contents of the file have changed. However, if you call this method from inside your block, the file coordinator object throws an exception.\n\n## Coordinating File Operations Synchronously\n\n- **coordinate(readingItemAt:options:error:byAccessor:)**: Initiates a read operation on a single file or directory using the specified options.\n- **coordinate(readingItemAt:options:writingItemAt:options:error:byAccessor:)**: Initiates a read operation that contains a follow-up write operation.\n- **coordinate(writingItemAt:options:writingItemAt:options:error:byAccessor:)**: Initiates a write operation that involves a secondary write operation.\n- **prepare(forReadingItemsAt:options:writingItemsAt:options:error:byAccessor:)**: Prepare to read or write from multiple files in a single batch operation.\n- **item(at:willMoveTo:)**: Announces that your app is moving a file to a new URL.\n- **item(at:didMoveTo:)**: Notifies relevant file presenters that the location of a file or directory changed.\n- **cancel()**: Cancels any active file coordination calls.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initiates a read operation on a single file or directory using the specified options.",
          "name" : "coordinate(readingItemAt:options:error:byAccessor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/coordinate(readingItemAt:options:error:byAccessor:)"
        },
        {
          "description" : "Initiates a read operation that contains a follow-up write operation.",
          "name" : "coordinate(readingItemAt:options:writingItemAt:options:error:byAccessor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/coordinate(readingItemAt:options:writingItemAt:options:error:byAccessor:)"
        },
        {
          "description" : "Initiates a write operation that involves a secondary write operation.",
          "name" : "coordinate(writingItemAt:options:writingItemAt:options:error:byAccessor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/coordinate(writingItemAt:options:writingItemAt:options:error:byAccessor:)"
        },
        {
          "description" : "Prepare to read or write from multiple files in a single batch operation.",
          "name" : "prepare(forReadingItemsAt:options:writingItemsAt:options:error:byAccessor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/prepare(forReadingItemsAt:options:writingItemsAt:options:error:byAccessor:)"
        },
        {
          "description" : "Announces that your app is moving a file to a new URL.",
          "name" : "item(at:willMoveTo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/item(at:willMoveTo:)"
        },
        {
          "description" : "Notifies relevant file presenters that the location of a file or directory changed.",
          "name" : "item(at:didMoveTo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/item(at:didMoveTo:)"
        },
        {
          "description" : "Cancels any active file coordination calls.",
          "name" : "cancel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/cancel()"
        }
      ],
      "title" : "Coordinating File Operations Synchronously"
    }
  ],
  "source" : "appleJSON",
  "title" : "coordinate(writingItemAt:options:error:byAccessor:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSFileCoordinator\/coordinate(writingItemAt:options:error:byAccessor:)"
}