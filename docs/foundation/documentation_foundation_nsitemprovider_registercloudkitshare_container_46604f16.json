{
  "abstract" : "Registers a CloudKit share for the user to modify.",
  "codeExamples" : [
    {
      "code" : "func modifyShare(_ share: CKShare, in container: CKContainer) {\n\n    \/\/ Create an item provider and register a share that\n    \/\/ already exists on the server.\n    let itemProvider = NSItemProvider()\n    itemProvider.registerCloudKitShare(share, container: container)\n        \n    \/\/ Create and invoke the cloud-sharing service to\n    \/\/ present the share configuration to the user.\n    if let service = NSSharingService(named: .cloudSharing),\n       service.canPerform(withItems: [itemProvider]) {\n        service.perform(withItems: [itemProvider])\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "2263f48f1916be5b1f2086bbcbed1cc5cea62a0d2edfae7f06ab5437af402538",
  "crawledAt" : "2025-12-02T21:06:22Z",
  "declaration" : {
    "code" : "func registerCloudKitShare(_ share: CKShare, container: CKContainer)",
    "language" : "swift"
  },
  "id" : "7184E50E-03DE-4FFE-A0FC-E52D7BA9F3ED",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nUse this method when the CloudKit share already exists on the server and you want to update it. The behavior of the sharing service depends on the role of the current user. An owner can edit the share’s configuration, which includes managing participants and their permissions. A participant can view the share’s configuration and choose to stop participating.\n\nIf you’re unsure which container to use, fetch the share’s metadata using [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKFetchShareMetadataOperation]. Then initialize an instance of [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKContainer] using the metadata’s [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare\/Metadata\/containerIdentifier] property.\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSCloudSharingServiceDelegate] protocol to respond to any changes the sharing service makes.\n\nThe following example shows how to create an item provider with an existing share. It then invokes the cloud-sharing service with the provider and presents the share’s configuration to the user.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/NSItemProvider\/registerCloudKitShare(_:container:)\ncrawled: 2025-12-02T21:06:22Z\n---\n\n# registerCloudKitShare(_:container:)\n\n**Instance Method**\n\nRegisters a CloudKit share for the user to modify.\n\n## Declaration\n\n```swift\nfunc registerCloudKitShare(_ share: CKShare, container: CKContainer)\n```\n\n## Parameters\n\n- **share**: The CloudKit share to modify.\n- **container**: The CloudKit container that stores the shared records.\n\n## Discussion\n\nUse this method when the CloudKit share already exists on the server and you want to update it. The behavior of the sharing service depends on the role of the current user. An owner can edit the share’s configuration, which includes managing participants and their permissions. A participant can view the share’s configuration and choose to stop participating.\n\nIf you’re unsure which container to use, fetch the share’s metadata using [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKFetchShareMetadataOperation]. Then initialize an instance of [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKContainer] using the metadata’s [doc:\/\/com.apple.documentation\/documentation\/CloudKit\/CKShare\/Metadata\/containerIdentifier] property.\n\nUse the [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSCloudSharingServiceDelegate] protocol to respond to any changes the sharing service makes.\n\n\n\nThe following example shows how to create an item provider with an existing share. It then invokes the cloud-sharing service with the provider and presents the share’s configuration to the user.\n\n```swift\nfunc modifyShare(_ share: CKShare, in container: CKContainer) {\n\n    \/\/ Create an item provider and register a share that\n    \/\/ already exists on the server.\n    let itemProvider = NSItemProvider()\n    itemProvider.registerCloudKitShare(share, container: container)\n        \n    \/\/ Create and invoke the cloud-sharing service to\n    \/\/ present the share configuration to the user.\n    if let service = NSSharingService(named: .cloudSharing),\n       service.canPerform(withItems: [itemProvider]) {\n        service.perform(withItems: [itemProvider])\n    }\n}\n```\n\n## Registering CloudKit shares\n\n- **registerCloudKitShare(preparationHandler:)**: Registers a handler that prepares a new CloudKit share.\n- **registerCKShare(_:container:allowedSharingOptions:)**: Registers an existing collaboration object on a server.\n- **registerCKShare(container:allowedSharingOptions:preparationHandler:)**: Creates and registers a new collaboration object using a collection of records to share.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers a handler that prepares a new CloudKit share.",
          "name" : "registerCloudKitShare(preparationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSItemProvider\/registerCloudKitShare(preparationHandler:)"
        },
        {
          "description" : "Registers an existing collaboration object on a server.",
          "name" : "registerCKShare(_:container:allowedSharingOptions:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSItemProvider\/registerCKShare(_:container:allowedSharingOptions:)"
        },
        {
          "description" : "Creates and registers a new collaboration object using a collection of records to share.",
          "name" : "registerCKShare(container:allowedSharingOptions:preparationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSItemProvider\/registerCKShare(container:allowedSharingOptions:preparationHandler:)"
        }
      ],
      "title" : "Registering CloudKit shares"
    }
  ],
  "source" : "appleJSON",
  "title" : "registerCloudKitShare(_:container:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSItemProvider\/registerCloudKitShare(_:container:)"
}