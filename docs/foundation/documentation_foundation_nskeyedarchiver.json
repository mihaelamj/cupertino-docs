{
  "abstract" : "An encoder that stores an object’s data to an archive referenced by keys.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "6438ef6a2b554e0e154fbef5fdad98aebbf54d8d7d4d48c93b2e31f12b05940f",
  "crawledAt" : "2025-12-04T16:24:22Z",
  "declaration" : {
    "code" : "class NSKeyedArchiver",
    "language" : "swift"
  },
  "id" : "7B4856B7-4665-4D79-AA58-3ED0030E812A",
  "kind" : "class",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedArchiver], a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSCoder], provides a way to encode objects (and scalar values) into an architecture-independent format suitable for storage in a file. When you archive a set of objects, the archiver writes the class information and instance variables for each object to the archive. The companion class [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] decodes the data in an archive and creates a set of objects equivalent to the original set.\n\nA keyed archive differs from a non-keyed archive in that all the objects and values encoded into the archive have names, or keys. When decoding a non-keyed archive, the decoder must decode values in the same order the original encoder used. When decoding a keyed archive, the decoder requests values by name, meaning it can decode values out of sequence or not at all. Keyed archives, therefore, provide better support for forward and backward compatibility.\n\nThe keys given to encoded values must be unique only within the scope of the currently-encoding object. A keyed archive is hierarchical, so the keys used by object A to encode its instance variables don’t conflict with the keys used by object B. This is true even if A and B are instances of the same class. Within a single object, however, the keys used by a subclass can conflict with keys used in its superclasses.\n\nAn [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSArchiver] object can write the archive data to a file or to a mutable-data object (an instance of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSMutableData]) that you provide.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\ncrawled: 2025-12-04T16:24:22Z\n---\n\n# NSKeyedArchiver\n\n**Class**\n\nAn encoder that stores an object’s data to an archive referenced by keys.\n\n## Declaration\n\n```swift\nclass NSKeyedArchiver\n```\n\n## Overview\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedArchiver], a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSCoder], provides a way to encode objects (and scalar values) into an architecture-independent format suitable for storage in a file. When you archive a set of objects, the archiver writes the class information and instance variables for each object to the archive. The companion class [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] decodes the data in an archive and creates a set of objects equivalent to the original set.\n\nA keyed archive differs from a non-keyed archive in that all the objects and values encoded into the archive have names, or keys. When decoding a non-keyed archive, the decoder must decode values in the same order the original encoder used. When decoding a keyed archive, the decoder requests values by name, meaning it can decode values out of sequence or not at all. Keyed archives, therefore, provide better support for forward and backward compatibility.\n\nThe keys given to encoded values must be unique only within the scope of the currently-encoding object. A keyed archive is hierarchical, so the keys used by object A to encode its instance variables don’t conflict with the keys used by object B. This is true even if A and B are instances of the same class. Within a single object, however, the keys used by a subclass can conflict with keys used in its superclasses.\n\nAn [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSArchiver] object can write the archive data to a file or to a mutable-data object (an instance of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSMutableData]) that you provide.\n\n## Creating a Keyed Archiver\n\n- **init(requiringSecureCoding:)**: Creates an archiver to encode data, and optionally disables secure coding.\n- **init()**: Initializes an archiver to encode data.\n- **init(forWritingWith:)**: Initializes an archiver to encode data into a given a mutable-data object.\n\n## Archiving Data\n\n- **archivedData(withRootObject:requiringSecureCoding:)**: Encodes an object graph with the given root object into a data representation, optionally requiring secure coding.\n- **finishEncoding()**: Instructs the receiver to construct the final data stream.\n- **encodedData**: The encoded data for the archiver.\n- **outputFormat**: The format in which the receiver encodes its data.\n- **requiresSecureCoding**: Indicates whether the archiver requires all archived classes to resist object substitution attacks.\n- **archivedData(withRootObject:)**: Returns a data object that contains the encoded form of the object graph formed by the given root object.\n- **archiveRootObject(_:toFile:)**: Archives an object graph rooted at a given object to a file at a given path.\n\n## Encoding Data and Objects\n\n- **encodeEncodable(_:forKey:)**: Encodes a given value and associates it with a key.\n- **encode(_:forKey:)**: Encodes a given Boolean value and associates it with a key.\n- **encodeBytes(_:length:forKey:)**: Encodes a given number of bytes from a given C array of bytes and associates them with a key.\n- **encodeConditionalObject(_:forKey:)**: Encodes a reference to a given object and associates it with a key only if it has been unconditionally encoded elsewhere in the archive.\n- **encode(_:forKey:)**: Encodes a given `double` value and associates it with a key.\n- **encode(_:forKey:)**: Encodes a given `float` value and associates it with a key.\n- **encode(_:forKey:)**: Encodes a given 32-bit integer value and associates it with a key.\n- **encode(_:forKey:)**: Encodes a given 64-bit integer value and associates it with a key.\n- **encode(_:forKey:)**: Encodes a given object and associates it with a given key.\n\n## Managing the Delegate\n\n- **delegate**: The archiver’s delegate.\n\n## Managing Classes and Class Names\n\n- **setClassName(_:for:)**: Sets a global translation mapping to encode instances of a given class with the provided name, rather than their real name.\n- **className(for:)**: Returns the class name with which the archiver class encodes instances of a given class.\n- **setClassName(_:for:)**: Sets a mapping for this archiver to encode instances of a given class with the provided name, rather than their real name.\n- **className(for:)**: Returns the class name with which this archiver encodes instances of a given class.\n\n## Constants\n\n- **Keyed Archiving Exception Names**: Names of exceptions raised by this class if problems occur while creating an archive.\n- **Keyed Archiver Root Object Key**: Keys that the archiver uses in the hierarchy of encoded objects.\n\n## Keyed Archivers\n\n- **NSKeyedArchiverDelegate**: The optional methods implemented by the delegate of a keyed archiver.\n- **NSKeyedUnarchiver**: A decoder that restores data from an archive referenced by keys.\n- **NSKeyedUnarchiverDelegate**: The optional methods implemented by the delegate of a keyed unarchiver.\n- **NSCoder**: An abstract class that serves as the basis for objects that enable archiving and distribution of other objects.\n- **NSSecureUnarchiveFromDataTransformer**: A value transformer that converts data to and from classes that support secure coding.\n\n## Inherits From\n\n- NSCoder\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an archiver to encode data, and optionally disables secure coding.",
          "name" : "init(requiringSecureCoding:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/init(requiringSecureCoding:)"
        },
        {
          "description" : "Initializes an archiver to encode data.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/init()"
        },
        {
          "description" : "Initializes an archiver to encode data into a given a mutable-data object.",
          "name" : "init(forWritingWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/init(forWritingWith:)"
        }
      ],
      "title" : "Creating a Keyed Archiver"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes an object graph with the given root object into a data representation, optionally requiring secure coding.",
          "name" : "archivedData(withRootObject:requiringSecureCoding:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/archivedData(withRootObject:requiringSecureCoding:)"
        },
        {
          "description" : "Instructs the receiver to construct the final data stream.",
          "name" : "finishEncoding()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/finishEncoding()"
        },
        {
          "description" : "The encoded data for the archiver.",
          "name" : "encodedData",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encodedData"
        },
        {
          "description" : "The format in which the receiver encodes its data.",
          "name" : "outputFormat",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/outputFormat"
        },
        {
          "description" : "Indicates whether the archiver requires all archived classes to resist object substitution attacks.",
          "name" : "requiresSecureCoding",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/requiresSecureCoding"
        },
        {
          "description" : "Returns a data object that contains the encoded form of the object graph formed by the given root object.",
          "name" : "archivedData(withRootObject:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/archivedData(withRootObject:)"
        },
        {
          "description" : "Archives an object graph rooted at a given object to a file at a given path.",
          "name" : "archiveRootObject(_:toFile:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/archiveRootObject(_:toFile:)"
        }
      ],
      "title" : "Archiving Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Encodes a given value and associates it with a key.",
          "name" : "encodeEncodable(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encodeEncodable(_:forKey:)"
        },
        {
          "description" : "Encodes a given Boolean value and associates it with a key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-9pxhm"
        },
        {
          "description" : "Encodes a given number of bytes from a given C array of bytes and associates them with a key.",
          "name" : "encodeBytes(_:length:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encodeBytes(_:length:forKey:)"
        },
        {
          "description" : "Encodes a reference to a given object and associates it with a key only if it has been unconditionally encoded elsewhere in the archive.",
          "name" : "encodeConditionalObject(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encodeConditionalObject(_:forKey:)"
        },
        {
          "description" : "Encodes a given `double` value and associates it with a key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-1mkfl"
        },
        {
          "description" : "Encodes a given `float` value and associates it with a key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-67rcs"
        },
        {
          "description" : "Encodes a given 32-bit integer value and associates it with a key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-5i7tc"
        },
        {
          "description" : "Encodes a given 64-bit integer value and associates it with a key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-ycdd"
        },
        {
          "description" : "Encodes a given object and associates it with a given key.",
          "name" : "encode(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/encode(_:forKey:)-9f4n9"
        }
      ],
      "title" : "Encoding Data and Objects"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The archiver’s delegate.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/delegate"
        }
      ],
      "title" : "Managing the Delegate"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets a global translation mapping to encode instances of a given class with the provided name, rather than their real name.",
          "name" : "setClassName(_:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/setClassName(_:for:)-swift.type.method"
        },
        {
          "description" : "Returns the class name with which the archiver class encodes instances of a given class.",
          "name" : "className(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/className(for:)-swift.type.method"
        },
        {
          "description" : "Sets a mapping for this archiver to encode instances of a given class with the provided name, rather than their real name.",
          "name" : "setClassName(_:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/setClassName(_:for:)-swift.method"
        },
        {
          "description" : "Returns the class name with which this archiver encodes instances of a given class.",
          "name" : "className(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver\/className(for:)-swift.method"
        }
      ],
      "title" : "Managing Classes and Class Names"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Names of exceptions raised by this class if problems occur while creating an archive.",
          "name" : "Keyed Archiving Exception Names",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/keyed-archiving-exception-names"
        },
        {
          "description" : "Keys that the archiver uses in the hierarchy of encoded objects.",
          "name" : "Keyed Archiver Root Object Key",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/keyed-archiver-root-object-key"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The optional methods implemented by the delegate of a keyed archiver.",
          "name" : "NSKeyedArchiverDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiverDelegate"
        },
        {
          "description" : "A decoder that restores data from an archive referenced by keys.",
          "name" : "NSKeyedUnarchiver",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver"
        },
        {
          "description" : "The optional methods implemented by the delegate of a keyed unarchiver.",
          "name" : "NSKeyedUnarchiverDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiverDelegate"
        },
        {
          "description" : "An abstract class that serves as the basis for objects that enable archiving and distribution of other objects.",
          "name" : "NSCoder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSCoder"
        },
        {
          "description" : "A value transformer that converts data to and from classes that support secure coding.",
          "name" : "NSSecureUnarchiveFromDataTransformer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSSecureUnarchiveFromDataTransformer"
        }
      ],
      "title" : "Keyed Archivers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSCoder"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSKeyedArchiver",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver"
}