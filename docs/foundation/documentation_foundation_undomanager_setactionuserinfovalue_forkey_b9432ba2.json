{
  "abstract" : "Sets a user info value for an undo or redo action.",
  "codeExamples" : [
    {
      "code" : "extension UndoManager.UserInfoKey {\n    static let icon: UndoManager.UserInfoKey = \"icon\"\n}",
      "language" : "swift"
    },
    {
      "code" : "func insertLayer() {\n    self.undoManager.setActionName(\"Insert layer\")\n    self.undoManager.setActionUserInfoValue(Image(named: \"new_layer\"), forKey: .icon)\n\n    self.layers.append(Layer())\n\n    self.undoManager.registerUndo(withTarget: self) {\n        $0.removeLayer()\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "629e98ffb3a901e3232f256cc89427a88c3e138ced8779874e3351abe155ac17",
  "crawledAt" : "2025-12-05T22:30:23Z",
  "declaration" : {
    "code" : "@MainActor func setActionUserInfoValue(_ info: Any?, forKey key: UndoManager.UserInfoKey)",
    "language" : "swift"
  },
  "id" : "8EA66C80-100B-4632-A577-73EE5297D3B7",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nSet user info on an undo action to provide custom information to the action beyond its action name. You can use this for things like an icon to represent the undoable action, or a timestamp of when the undo manager registers the action.\n\nStart by extending [doc:\/\/com.apple.foundation\/documentation\/Foundation\/UndoManager\/UserInfoKey] with key names to identify the user info values you want to associate with undo actions.\n\nThen set the user info value with this key as part of registering the undoable action. In this example, an app’s `insertLayer()` method provides a custom icon before setting up an undo action that calls the app’s `removeLayer()` method:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/UndoManager\/setActionUserInfoValue(_:forKey:)\ncrawled: 2025-12-05T22:30:23Z\n---\n\n# setActionUserInfoValue(_:forKey:)\n\n**Instance Method**\n\nSets a user info value for an undo or redo action.\n\n## Declaration\n\n```swift\n@MainActor func setActionUserInfoValue(_ info: Any?, forKey key: UndoManager.UserInfoKey)\n```\n\n## Parameters\n\n- **info**: The value to save in the action’s user info.\n- **key**: The key to associate with the user info value.\n\n## Discussion\n\nSet user info on an undo action to provide custom information to the action beyond its action name. You can use this for things like an icon to represent the undoable action, or a timestamp of when the undo manager registers the action.\n\nStart by extending [doc:\/\/com.apple.foundation\/documentation\/Foundation\/UndoManager\/UserInfoKey] with key names to identify the user info values you want to associate with undo actions.\n\n```swift\nextension UndoManager.UserInfoKey {\n    static let icon: UndoManager.UserInfoKey = \"icon\"\n}\n```\n\nThen set the user info value with this key as part of registering the undoable action. In this example, an app’s `insertLayer()` method provides a custom icon before setting up an undo action that calls the app’s `removeLayer()` method:\n\n```swift\nfunc insertLayer() {\n    self.undoManager.setActionName(\"Insert layer\")\n    self.undoManager.setActionUserInfoValue(Image(named: \"new_layer\"), forKey: .icon)\n\n    self.layers.append(Layer())\n\n    self.undoManager.registerUndo(withTarget: self) {\n        $0.removeLayer()\n    }\n}\n```\n\n## Working with user info\n\n- **undoActionUserInfoValue(forKey:)**: Retrieves the undo action’s user info value for the given key.\n- **redoActionUserInfoValue(forKey:)**: Retrieves the redo action’s user info value for the given key.\n- **UndoManager.UserInfoKey**: An extensible namespace for undo and redo user info keys.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves the undo action’s user info value for the given key.",
          "name" : "undoActionUserInfoValue(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/UndoManager\/undoActionUserInfoValue(forKey:)"
        },
        {
          "description" : "Retrieves the redo action’s user info value for the given key.",
          "name" : "redoActionUserInfoValue(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/UndoManager\/redoActionUserInfoValue(forKey:)"
        },
        {
          "description" : "An extensible namespace for undo and redo user info keys.",
          "name" : "UndoManager.UserInfoKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/UndoManager\/UserInfoKey"
        }
      ],
      "title" : "Working with user info"
    }
  ],
  "source" : "appleJSON",
  "title" : "setActionUserInfoValue(_:forKey:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/UndoManager\/setActionUserInfoValue(_:forKey:)"
}