{
  "abstract" : "Apply a change to the attributes in the entire selection.",
  "codeExamples" : [
    {
      "code" : "Stepper(\"Font Size\", onIncrement: {\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).scaled(by: 1.2)\n    }\n}, onDecrement: {\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).scaled(by: 1 \/ 1.2)\n    }\n})"
    },
    {
      "code" : "Toggle(\"B\", isOn: .init(get: {\n    let font = selection.typingAttributes(in: text).font ?? .default\n    return font.resolve(in: environment).isBold\n}, set: { isBold in\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).bold(isBold)\n    }\n}))"
    }
  ],
  "contentHash" : "4a256b2d05276c8ac93036b6237a5dc544155f4d8ffc8c37e3c56c6ffbf380d5",
  "crawledAt" : "2025-12-01T09:58:00Z",
  "declaration" : {
    "code" : "mutating func transformAttributes<E>(in selection: inout AttributedTextSelection, body: (inout AttributeContainer) throws(E) -> Void) throws(E) where E : Error",
    "language" : "swift"
  },
  "id" : "B8C0D4FC-9FAD-4B77-A7BB-5F18B3612786",
  "kind" : "method",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nApplies the given `body` to the selection. Specifically, in the case of a selection spanning one or multiple characters, the `body` is applied to every run in the selection individually, modifying only the part of the run that is in the selection.\n\nIn the case of an insertion point, the `body` is applied to the attribute container defining the typing attributes. After that, attributes that are bound to the whole paragraph or the character immediately preceding the caret via [doc:\/\/com.apple.documentation\/documentation\/Foundation\/AttributedString\/AttributeRunBoundaries] are applied directly to attributed string at the respective range.\n\nUse this function to implement controls that operate on the user’s current selection. Some controls define the new value relative to the current state of each individual run in the selection, e.g. a stepper for the font size:\n\nOther controls, such as toggles for boldness, italics, or underline usually define the new value for all ranges as the opposite of the value in the typing attributes, as defined by `AttributedTextSelection\/typingAttributes(in:)`:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/AttributedString\/transformAttributes(in:body:)\ncrawled: 2025-12-01T09:58:00Z\n---\n\n# transformAttributes(in:body:)\n\n**Instance Method**\n\nApply a change to the attributes in the entire selection.\n\n## Declaration\n\n```swift\nmutating func transformAttributes<E>(in selection: inout AttributedTextSelection, body: (inout AttributeContainer) throws(E) -> Void) throws(E) where E : Error\n```\n\n## Discussion\n\nApplies the given `body` to the selection. Specifically, in the case of a selection spanning one or multiple characters, the `body` is applied to every run in the selection individually, modifying only the part of the run that is in the selection.\n\nIn the case of an insertion point, the `body` is applied to the attribute container defining the typing attributes. After that, attributes that are bound to the whole paragraph or the character immediately preceding the caret via [doc:\/\/com.apple.documentation\/documentation\/Foundation\/AttributedString\/AttributeRunBoundaries] are applied directly to attributed string at the respective range.\n\nUse this function to implement controls that operate on the user’s current selection. Some controls define the new value relative to the current state of each individual run in the selection, e.g. a stepper for the font size:\n\n```\nStepper(\"Font Size\", onIncrement: {\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).scaled(by: 1.2)\n    }\n}, onDecrement: {\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).scaled(by: 1 \/ 1.2)\n    }\n})\n```\n\nOther controls, such as toggles for boldness, italics, or underline usually define the new value for all ranges as the opposite of the value in the typing attributes, as defined by `AttributedTextSelection\/typingAttributes(in:)`:\n\n```\nToggle(\"B\", isOn: .init(get: {\n    let font = selection.typingAttributes(in: text).font ?? .default\n    return font.resolve(in: environment).isBold\n}, set: { isBold in\n    text.transformAttributes(in: &selection) {\n        $0.font = ($0.font ?? .default).bold(isBold)\n    }\n}))\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "transformAttributes(in:body:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/AttributedString\/transformAttributes(in:body:)"
}