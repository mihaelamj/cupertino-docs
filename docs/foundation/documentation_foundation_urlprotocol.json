{
  "abstract" : "An abstract class that handles the loading of protocol-specific URL data.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "c7b40bb2d3c1af144478f359fc24aa49a582ed148265e080ebcd150e1794ce1e",
  "crawledAt" : "2025-12-05T04:17:59Z",
  "declaration" : {
    "code" : "class URLProtocol",
    "language" : "swift"
  },
  "id" : "89AA3FD9-ED11-4B4C-BBA4-031A7EF00859",
  "kind" : "class",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Overview\n\nDon’t instantiate a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol] subclass directly. Instead, create subclasses for any custom protocols or URL schemes that your app supports. When a download starts, the system creates the appropriate protocol object to handle the corresponding URL request. You define your protocol class and call the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/registerClass(_:)] class method during your app’s launch time so that the system is aware of your protocol.\n\nTo support the customization of protocol-specific requests, create extensions to the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLRequest] class to provide any custom API that you need. You can store and retrieve protocol-specific request data by using [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol]’s class methods [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/property(forKey:in:)] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/setProperty(_:forKey:in:)].\n\nCreate a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResponse] for each request your subclass processes successfully. You may want to create a custom [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResponse] class to provide protocol specific information.\n\n### Subclassing notes\n\nWhen overriding methods of this class, be aware that methods that take a `task` parameter are preferred by the system to those that do not. Therefore, you should override the task-based methods when subclassing, as follows:\n\nSwift:\n\nObjective-C:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\ncrawled: 2025-12-05T04:17:59Z\n---\n\n# URLProtocol\n\n**Class**\n\nAn abstract class that handles the loading of protocol-specific URL data.\n\n## Declaration\n\n```swift\nclass URLProtocol\n```\n\n## Overview\n\nDon’t instantiate a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol] subclass directly. Instead, create subclasses for any custom protocols or URL schemes that your app supports. When a download starts, the system creates the appropriate protocol object to handle the corresponding URL request. You define your protocol class and call the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/registerClass(_:)] class method during your app’s launch time so that the system is aware of your protocol.\n\n\n\nTo support the customization of protocol-specific requests, create extensions to the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLRequest] class to provide any custom API that you need. You can store and retrieve protocol-specific request data by using [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol]’s class methods [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/property(forKey:in:)] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/setProperty(_:forKey:in:)].\n\nCreate a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResponse] for each request your subclass processes successfully. You may want to create a custom [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLResponse] class to provide protocol specific information.\n\n### Subclassing notes\n\nWhen overriding methods of this class, be aware that methods that take a `task` parameter are preferred by the system to those that do not. Therefore, you should override the task-based methods when subclassing, as follows:\n\nSwift:\n\n- Initialization — Override [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/init(task:cachedResponse:client:)] instead of or in addition to [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/init(request:cachedResponse:client:)]. Also override the task-based [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/canInit(with:)-18gbo] instead of or in addition to the request-based [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/canInit(with:)-76brg].\n\nObjective-C:\n\n- Initialization — Override [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/canInit(with:)-18gbo] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/init(task:cachedResponse:client:)] instead of or in addition to [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/canInit(with:)-76brg] and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol\/init(request:cachedResponse:client:)].\n\n## Creating protocol objects\n\n- **init(request:cachedResponse:client:)**: Creates a URL protocol instance to handle the request.\n- **init(task:cachedResponse:client:)**: Creates a URL protocol instance to handle the task.\n\n## Registering and unregistering protocol classes\n\n- **registerClass(_:)**: Attempts to register a subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol], making it visible to the URL loading system.\n- **unregisterClass(_:)**: Unregisters the specified subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol].\n\n## Determining If a subclass can handle a request\n\n- **canInit(with:)**: Determines whether the protocol subclass can handle the specified request.\n- **canInit(with:)**: Determines whether the protocol subclass can handle the specified task.\n\n## Getting and setting request properties\n\n- **property(forKey:in:)**: Fetches the property associated with the specified key in the specified request.\n- **setProperty(_:forKey:in:)**: Sets the property associated with the specified key in the specified request.\n- **removeProperty(forKey:in:)**: Removes the property associated with the specified key in the specified request.\n\n## Providing a canonical version of a request\n\n- **canonicalRequest(for:)**: Returns a canonical version of the specified request.\n\n## Determining if requests are cache equivalent\n\n- **requestIsCacheEquivalent(_:to:)**: A Boolean value indicating whether two requests are equivalent for cache purposes.\n\n## Starting and stopping downloads\n\n- **startLoading()**: Starts protocol-specific loading of the request.\n- **stopLoading()**: Stops protocol-specific loading of the request.\n\n## Getting protocol attributes\n\n- **cachedResponse**: The protocol’s cached response.\n- **client**: The object the protocol uses to communicate with the URL loading system.\n- **URLProtocolClient**: The interface used by [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol] subclasses to communicate with the URL Loading System.\n- **request**: The protocol’s request.\n- **task**: The protocol’s task.\n\n## Supporting custom protocols\n\n- **protocolClasses**: An array of extra protocol subclasses that handle requests in a session.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a URL protocol instance to handle the request.",
          "name" : "init(request:cachedResponse:client:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/init(request:cachedResponse:client:)"
        },
        {
          "description" : "Creates a URL protocol instance to handle the task.",
          "name" : "init(task:cachedResponse:client:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/init(task:cachedResponse:client:)"
        }
      ],
      "title" : "Creating protocol objects"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Attempts to register a subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol], making it visible to the URL loading system.",
          "name" : "registerClass(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/registerClass(_:)"
        },
        {
          "description" : "Unregisters the specified subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol].",
          "name" : "unregisterClass(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/unregisterClass(_:)"
        }
      ],
      "title" : "Registering and unregistering protocol classes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Determines whether the protocol subclass can handle the specified request.",
          "name" : "canInit(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/canInit(with:)-76brg"
        },
        {
          "description" : "Determines whether the protocol subclass can handle the specified task.",
          "name" : "canInit(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/canInit(with:)-18gbo"
        }
      ],
      "title" : "Determining If a subclass can handle a request"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Fetches the property associated with the specified key in the specified request.",
          "name" : "property(forKey:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/property(forKey:in:)"
        },
        {
          "description" : "Sets the property associated with the specified key in the specified request.",
          "name" : "setProperty(_:forKey:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/setProperty(_:forKey:in:)"
        },
        {
          "description" : "Removes the property associated with the specified key in the specified request.",
          "name" : "removeProperty(forKey:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/removeProperty(forKey:in:)"
        }
      ],
      "title" : "Getting and setting request properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a canonical version of the specified request.",
          "name" : "canonicalRequest(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/canonicalRequest(for:)"
        }
      ],
      "title" : "Providing a canonical version of a request"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value indicating whether two requests are equivalent for cache purposes.",
          "name" : "requestIsCacheEquivalent(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/requestIsCacheEquivalent(_:to:)"
        }
      ],
      "title" : "Determining if requests are cache equivalent"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts protocol-specific loading of the request.",
          "name" : "startLoading()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/startLoading()"
        },
        {
          "description" : "Stops protocol-specific loading of the request.",
          "name" : "stopLoading()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/stopLoading()"
        }
      ],
      "title" : "Starting and stopping downloads"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The protocol’s cached response.",
          "name" : "cachedResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/cachedResponse"
        },
        {
          "description" : "The object the protocol uses to communicate with the URL loading system.",
          "name" : "client",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/client"
        },
        {
          "description" : "The interface used by [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLProtocol] subclasses to communicate with the URL Loading System.",
          "name" : "URLProtocolClient",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocolClient"
        },
        {
          "description" : "The protocol’s request.",
          "name" : "request",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/request"
        },
        {
          "description" : "The protocol’s task.",
          "name" : "task",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol\/task"
        }
      ],
      "title" : "Getting protocol attributes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array of extra protocol subclasses that handle requests in a session.",
          "name" : "protocolClasses",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionConfiguration\/protocolClasses"
        }
      ],
      "title" : "Supporting custom protocols"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "URLProtocol",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLProtocol"
}