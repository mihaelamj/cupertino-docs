{
  "abstract" : "Specifies a block to call when the corresponding property is not present in the user info dictionary.",
  "codeExamples" : [

  ],
  "contentHash" : "8e001f388cd44719483156523adaa912fd07fabac68028274ea8c7b0f451aa1c",
  "crawledAt" : "2025-12-06T11:50:26Z",
  "declaration" : {
    "code" : "class func setUserInfoValueProvider(forDomain errorDomain: String, provider: ((any Error, String) -> Any?)? = nil)",
    "language" : "swift"
  },
  "id" : "CD7C469F-EEDD-48F2-AFC5-0A8E27309BC3",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Discussion\n\nThis method specifies a block that is called from the implementations of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedDescription], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedFailureReason], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedRecoverySuggestion], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedRecoveryOptions], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/recoveryAttempter], and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/helpAnchor] when the underlying value for any of those properties is not present in the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] dictionary of NSError instances with the specified domain.\n\nA user info provider is optional, and allows localization and formatting of error messages to be done lazily, rather than populating the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] at the time of creation. It is expected that only the “owner” of an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError] domain specifies the provider for the domain, and that this is done at most once. This method is not meant for consumers of errors to customize the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] entries, and should not be used to customize the behaviors of error domains provided by the system.\n\nThe keys of a provider’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] dictionary correspond to the queried property, such as [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSLocalizedDescriptionKey] for the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedDescription] property. The provider should return `nil` for any keys that it is unable to provide, as well as any keys it does not recognize (since the list of error keys may be extended in future releases). If an appropriate result for the requested key cannot be provided, return `nil` rather than choosing to manufacture a generic fallback response.\n\nThe provider block is executed synchronously at the time when a corresponding property is accessed. The results are not cached.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/foundation\/nserror\/setuserinfovalueprovider(fordomain:provider:)\ncrawled: 2025-12-06T11:50:26Z\n---\n\n# setUserInfoValueProvider(forDomain:provider:)\n\n**Type Method**\n\nSpecifies a block to call when the corresponding property is not present in the user info dictionary.\n\n## Declaration\n\n```swift\nclass func setUserInfoValueProvider(forDomain errorDomain: String, provider: ((any Error, String) -> Any?)? = nil)\n```\n\n## Parameters\n\n- **errorDomain**: The error domain of the provider.\n- **provider**: A block to be executed synchronously at the time a corresponding property is accessed.\n\n\n\n## Discussion\n\nThis method specifies a block that is called from the implementations of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedDescription], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedFailureReason], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedRecoverySuggestion], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedRecoveryOptions], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/recoveryAttempter], and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/helpAnchor] when the underlying value for any of those properties is not present in the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] dictionary of NSError instances with the specified domain.\n\nA user info provider is optional, and allows localization and formatting of error messages to be done lazily, rather than populating the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] at the time of creation. It is expected that only the “owner” of an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError] domain specifies the provider for the domain, and that this is done at most once. This method is not meant for consumers of errors to customize the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] entries, and should not be used to customize the behaviors of error domains provided by the system.\n\nThe keys of a provider’s [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/userInfo] dictionary correspond to the queried property, such as [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSLocalizedDescriptionKey] for the [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSError\/localizedDescription] property. The provider should return `nil` for any keys that it is unable to provide, as well as any keys it does not recognize (since the list of error keys may be extended in future releases). If an appropriate result for the requested key cannot be provided, return `nil` rather than choosing to manufacture a generic fallback response.\n\nThe provider block is executed synchronously at the time when a corresponding property is accessed. The results are not cached.\n\n## Providing Error User Info\n\n- **userInfoValueProvider(forDomain:)**: Returns any user info provider specified for a given error domain.\n- **ErrorUserInfoKey**\n- **NSError.UserInfoKey**: These keys may exist in the user info dictionary.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns any user info provider specified for a given error domain.",
          "name" : "userInfoValueProvider(forDomain:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSError\/userInfoValueProvider(forDomain:)"
        },
        {
          "description" : "",
          "name" : "ErrorUserInfoKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/ErrorUserInfoKey"
        },
        {
          "description" : "These keys may exist in the user info dictionary.",
          "name" : "NSError.UserInfoKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSError\/UserInfoKey"
        }
      ],
      "title" : "Providing Error User Info"
    }
  ],
  "source" : "appleJSON",
  "title" : "setUserInfoValueProvider(forDomain:provider:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/foundation\/nserror\/setuserinfovalueprovider(fordomain:provider:)"
}