{
  "abstract" : "Creates a task that performs an HTTP request for uploading the specified file.",
  "codeExamples" : [

  ],
  "contentHash" : "6e6ec75a2a1b57decfc76223e1fb70bc169423d278106f24229510d87fa5aba4",
  "crawledAt" : "2025-12-04T20:32:12Z",
  "declaration" : {
    "code" : "func uploadTask(with request: URLRequest, fromFile fileURL: URL) -> URLSessionUploadTask",
    "language" : "swift"
  },
  "id" : "19009DEB-2DD9-45A0-9102-D4F0D7D24592",
  "kind" : "method",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Return Value\n\nThe new session upload task.\n\n## Discussion\n\nAn HTTP upload request is any request that contains a request body, such as a `POST` or `PUT` request. Upload tasks require you to create a request object so that you can provide metadata for the upload, like HTTP request headers.\n\nAfter you create the task, you must start it by calling its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask\/resume()] method. The task calls methods on the session’s delegate to provide you with the upload’s progress, response metadata, response data, and so on.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:fromFile:)\ncrawled: 2025-12-04T20:32:12Z\n---\n\n# uploadTask(with:fromFile:)\n\n**Instance Method**\n\nCreates a task that performs an HTTP request for uploading the specified file.\n\n## Declaration\n\n```swift\nfunc uploadTask(with request: URLRequest, fromFile fileURL: URL) -> URLSessionUploadTask\n```\n\n## Parameters\n\n- **request**: A URL request object that provides the URL, cache policy, request type, and so on. The body stream and body data in this request object are ignored.\n- **fileURL**: The URL of the file to upload.\n\n## Return Value\n\nThe new session upload task.\n\n## Discussion\n\nAn HTTP upload request is any request that contains a request body, such as a `POST` or `PUT` request. Upload tasks require you to create a request object so that you can provide metadata for the upload, like HTTP request headers.\n\nAfter you create the task, you must start it by calling its [doc:\/\/com.apple.foundation\/documentation\/Foundation\/URLSessionTask\/resume()] method. The task calls methods on the session’s delegate to provide you with the upload’s progress, response metadata, response data, and so on.\n\n## Adding upload tasks to a session\n\n- **Building a resumable upload server with SwiftNIO**: Support HTTP resumable upload protocol in SwiftNIO by translating resumable uploads to regular uploads.\n- **uploadTask(with:from:)**: Creates a task that performs an HTTP request for the specified URL request object and uploads the provided data.\n- **uploadTask(with:from:completionHandler:)**: Creates a task that performs an HTTP request for the specified URL request object, uploads the provided data, and calls a handler upon completion.\n- **uploadTask(with:fromFile:completionHandler:)**: Creates a task that performs an HTTP request for uploading the specified file, then calls a handler upon completion.\n- **uploadTask(withStreamedRequest:)**: Creates a task that performs an HTTP request for uploading data based on the specified URL request.\n- **uploadTask(withResumeData:)**: Creates an upload task from a resume data blob. Requires the server to support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/ If resuming from an upload file, the file must still exist and be unmodified. If the upload cannot be successfully resumed, URLSession:task:didCompleteWithError: will be called.\n- **uploadTask(withResumeData:completionHandler:)**: Creates a URLSessionUploadTask from a resume data blob. If resuming from an upload file, the file must still exist and be unmodified.\n- **URLSessionUploadTask**: A URL session task that uploads data to the network in a request body.\n- **URLSessionDataDelegate**: A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to data and upload tasks.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Support HTTP resumable upload protocol in SwiftNIO by translating resumable uploads to regular uploads.",
          "name" : "Building a resumable upload server with SwiftNIO",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/building-a-resumable-upload-server-with-swiftnio"
        },
        {
          "description" : "Creates a task that performs an HTTP request for the specified URL request object and uploads the provided data.",
          "name" : "uploadTask(with:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:from:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for the specified URL request object, uploads the provided data, and calls a handler upon completion.",
          "name" : "uploadTask(with:from:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:from:completionHandler:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for uploading the specified file, then calls a handler upon completion.",
          "name" : "uploadTask(with:fromFile:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:fromFile:completionHandler:)"
        },
        {
          "description" : "Creates a task that performs an HTTP request for uploading data based on the specified URL request.",
          "name" : "uploadTask(withStreamedRequest:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withStreamedRequest:)"
        },
        {
          "description" : "Creates an upload task from a resume data blob. Requires the server to support the latest resumable uploads Internet-Draft from the HTTP Working Group, found at https:\/\/datatracker.ietf.org\/doc\/draft-ietf-httpbis-resumable-upload\/ If resuming from an upload file, the file must still exist and be unmodified. If the upload cannot be successfully resumed, URLSession:task:didCompleteWithError: will be called.",
          "name" : "uploadTask(withResumeData:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withResumeData:)"
        },
        {
          "description" : "Creates a URLSessionUploadTask from a resume data blob. If resuming from an upload file, the file must still exist and be unmodified.",
          "name" : "uploadTask(withResumeData:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(withResumeData:completionHandler:)"
        },
        {
          "description" : "A URL session task that uploads data to the network in a request body.",
          "name" : "URLSessionUploadTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionUploadTask"
        },
        {
          "description" : "A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to data and upload tasks.",
          "name" : "URLSessionDataDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSessionDataDelegate"
        }
      ],
      "title" : "Adding upload tasks to a session"
    }
  ],
  "source" : "appleJSON",
  "title" : "uploadTask(with:fromFile:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/URLSession\/uploadTask(with:fromFile:)"
}