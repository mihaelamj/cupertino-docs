{
  "abstract" : "A decoder that restores data from an archive referenced by keys.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "4c2518249f7fc6c8d071f06cc07b5fe7063485d12eb630fd36f7e2c551455e15",
  "crawledAt" : "2025-12-04T17:55:40Z",
  "declaration" : {
    "code" : "class NSKeyedUnarchiver",
    "language" : "swift"
  },
  "id" : "897BA7A8-A924-48CB-8C84-43A4286CF068",
  "kind" : "class",
  "language" : "swift",
  "module" : "Foundation",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] is a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSCoder] that defines methods for decoding a set of named objects (and scalar values) from a keyed archive. The [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedArchiver] class produces archives that this class can decode.\n\nThe archiver creates keyed archive as a hierarchy of objects. The archiver treats each object as a namespace into which it can encode other objects. This means that an unarchiver can only decode objects encoded within the immediate scope of their parent object. Objects encoded elsewhere in the hierarchy — whether higher than, lower than, or parallel to this particular object — aren’t accessible. In this way, the keys used by a particular object to encode its instance variables need to be unique only within the scope of that object.\n\nIf you invoke one of the `decode`-prefixed methods of this class using a key that does not exist in the archive, the return value indicates failure. This value varies by decoded type. For example, if a key does not exist in an archive, [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeBool(forKey:)] returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeIntForKey:] returns `0`, and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeObject(forKey:)] returns `nil`.\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] supports limited type coercion for numeric types. You can use any of the integer decode methods to decode a value encoded as any type of integer, whether a standard `Int` or an explicit 32-bit or 64-bit integer. Likewise, you can use the `Float`- or `Double`-returning decode methods to handle value encoded as a `Float` or `Double`. If an encoded value is too large to fit within the coerced type, the decoding method throws a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSExceptionName\/rangeException]. Further, when trying to coerce a value to an incompatible type — for example decoding an `Int` as a `Float` — the decoding method throws an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSExceptionName\/invalidUnarchiveOperationException].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\ncrawled: 2025-12-04T17:55:40Z\n---\n\n# NSKeyedUnarchiver\n\n**Class**\n\nA decoder that restores data from an archive referenced by keys.\n\n## Declaration\n\n```swift\nclass NSKeyedUnarchiver\n```\n\n## Overview\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] is a concrete subclass of [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSCoder] that defines methods for decoding a set of named objects (and scalar values) from a keyed archive. The [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedArchiver] class produces archives that this class can decode.\n\nThe archiver creates keyed archive as a hierarchy of objects. The archiver treats each object as a namespace into which it can encode other objects. This means that an unarchiver can only decode objects encoded within the immediate scope of their parent object. Objects encoded elsewhere in the hierarchy — whether higher than, lower than, or parallel to this particular object — aren’t accessible. In this way, the keys used by a particular object to encode its instance variables need to be unique only within the scope of that object.\n\nIf you invoke one of the `decode`-prefixed methods of this class using a key that does not exist in the archive, the return value indicates failure. This value varies by decoded type. For example, if a key does not exist in an archive, [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeBool(forKey:)] returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeIntForKey:] returns `0`, and [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeObject(forKey:)] returns `nil`.\n\n[doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSKeyedUnarchiver] supports limited type coercion for numeric types. You can use any of the integer decode methods to decode a value encoded as any type of integer, whether a standard `Int` or an explicit 32-bit or 64-bit integer. Likewise, you can use the `Float`- or `Double`-returning decode methods to handle value encoded as a `Float` or `Double`. If an encoded value is too large to fit within the coerced type, the decoding method throws a [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSExceptionName\/rangeException]. Further, when trying to coerce a value to an incompatible type — for example decoding an `Int` as a `Float` — the decoding method throws an [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSExceptionName\/invalidUnarchiveOperationException].\n\n## Creating a Keyed Unarchiver\n\n- **init(forReadingFrom:)**: Initializes an archiver to decode data from the specified location.\n- **init()**: Initializes an archiver to decode data.\n- **init(forReadingWith:)**: Initializes an archiver to decode data from the specified location.\n\n## Unarchiving Data\n\n- **unarchiveTopLevelObjectWithData(_:)**: Decodes a previously-archived object graph, and returns the root object.\n- **unarchivedObject(ofClass:from:)**: Decodes a previously-archived object graph, and returns the root object as the specified type.\n- **unarchivedObject(ofClasses:from:)**: Decodes a previously-archived object graph, returning the root object as one of the specified classes.\n- **unarchivedObject(ofClasses:from:)**: Decodes a previously-archived object graph, returning the root object as one of the specified classes.\n- **requiresSecureCoding**: Indicates whether the receiver requires all unarchived classes to conform to [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSSecureCoding].\n- **unarchiveObject(with:)**: Decodes and returns the object graph previously encoded by `NSKeyedArchiver` and stored in a given `NSData` object.\n- **unarchiveObject(withFile:)**: Decodes and returns the object graph previously encoded by `NSKeyedArchiver` written to the file at a given path.\n\n## Decoding Data\n\n- **containsValue(forKey:)**: Returns a Boolean value that indicates whether the archive contains a value for a given key within the current decoding scope.\n- **decodeDecodable(_:forKey:)**: Decodes a decodable value associated with a given key.\n- **decodeTopLevelDecodable(_:forKey:)**: Decodes a top-level decodable value associated with a given key.\n- **decodeBool(forKey:)**: Decodes a Boolean value associated with a given key.\n- **decodeBytes(forKey:returnedLength:)**: Decodes a stream of bytes associated with a given key.\n- **decodeDouble(forKey:)**: Decodes a double-precision floating-point value associated with a given key.\n- **decodeFloat(forKey:)**: Decodes a single-precision floating-point value associated with a given key.\n- **decodeInt32(forKey:)**: Decodes a 32-bit integer value associated with a given key.\n- **decodeInt64(forKey:)**: Decodes a 64-bit integer value associated with a given key.\n- **decodeObject(forKey:)**: Decodes and returns an object associated with a given key.\n- **finishDecoding()**: Tells the receiver that you are finished decoding objects.\n- **decodingFailurePolicy**: The action to take when this unarchiver fails to decode an entry.\n\n## Managing the Delegate\n\n- **delegate**: The receiver’s delegate.\n\n## Managing Class Names\n\n- **setClass(_:forClassName:)**: Sets a global translation mapping to decode objects encoded with a given class name as instances of a given class instead.\n- **class(forClassName:)**: Returns the class from which this unarchiver instantiates an encoded object with a given class name.\n- **setClass(_:forClassName:)**: Sets a translation mapping on this unarchiver to decode objects encoded with a given class name as instances of a given class instead.\n- **class(forClassName:)**: Returns the class from which this unarchiver instantiates an encoded object with a given class name.\n\n## Constants\n\n- **Keyed Unarchiving Exception Names**: Names of exceptions that are raised by `NSKeyedUnarchiver` if there is a problem extracting an archive.\n\n## Type Methods\n\n- **unarchiveTopLevelObjectWithData(_:)**\n- **unarchivedArrayOfObjects(ofClass:from:)**\n- **unarchivedArrayOfObjects(ofClasses:from:)**\n- **unarchivedDictionary(keysOfClasses:objectsOfClasses:from:)**\n- **unarchivedDictionary(ofKeyClass:objectClass:from:)**\n\n## Keyed Archivers\n\n- **NSKeyedArchiver**: An encoder that stores an object’s data to an archive referenced by keys.\n- **NSKeyedArchiverDelegate**: The optional methods implemented by the delegate of a keyed archiver.\n- **NSKeyedUnarchiverDelegate**: The optional methods implemented by the delegate of a keyed unarchiver.\n- **NSCoder**: An abstract class that serves as the basis for objects that enable archiving and distribution of other objects.\n- **NSSecureUnarchiveFromDataTransformer**: A value transformer that converts data to and from classes that support secure coding.\n\n## Inherits From\n\n- NSCoder\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes an archiver to decode data from the specified location.",
          "name" : "init(forReadingFrom:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/init(forReadingFrom:)"
        },
        {
          "description" : "Initializes an archiver to decode data.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/init()"
        },
        {
          "description" : "Initializes an archiver to decode data from the specified location.",
          "name" : "init(forReadingWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/init(forReadingWith:)"
        }
      ],
      "title" : "Creating a Keyed Unarchiver"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Decodes a previously-archived object graph, and returns the root object.",
          "name" : "unarchiveTopLevelObjectWithData(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchiveTopLevelObjectWithData(_:)-40hyk"
        },
        {
          "description" : "Decodes a previously-archived object graph, and returns the root object as the specified type.",
          "name" : "unarchivedObject(ofClass:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedObject(ofClass:from:)"
        },
        {
          "description" : "Decodes a previously-archived object graph, returning the root object as one of the specified classes.",
          "name" : "unarchivedObject(ofClasses:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedObject(ofClasses:from:)-b9t5"
        },
        {
          "description" : "Decodes a previously-archived object graph, returning the root object as one of the specified classes.",
          "name" : "unarchivedObject(ofClasses:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedObject(ofClasses:from:)-3h32t"
        },
        {
          "description" : "Indicates whether the receiver requires all unarchived classes to conform to [doc:\/\/com.apple.foundation\/documentation\/Foundation\/NSSecureCoding].",
          "name" : "requiresSecureCoding",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/requiresSecureCoding"
        },
        {
          "description" : "Decodes and returns the object graph previously encoded by `NSKeyedArchiver` and stored in a given `NSData` object.",
          "name" : "unarchiveObject(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchiveObject(with:)"
        },
        {
          "description" : "Decodes and returns the object graph previously encoded by `NSKeyedArchiver` written to the file at a given path.",
          "name" : "unarchiveObject(withFile:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchiveObject(withFile:)"
        }
      ],
      "title" : "Unarchiving Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the archive contains a value for a given key within the current decoding scope.",
          "name" : "containsValue(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/containsValue(forKey:)"
        },
        {
          "description" : "Decodes a decodable value associated with a given key.",
          "name" : "decodeDecodable(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeDecodable(_:forKey:)"
        },
        {
          "description" : "Decodes a top-level decodable value associated with a given key.",
          "name" : "decodeTopLevelDecodable(_:forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeTopLevelDecodable(_:forKey:)"
        },
        {
          "description" : "Decodes a Boolean value associated with a given key.",
          "name" : "decodeBool(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeBool(forKey:)"
        },
        {
          "description" : "Decodes a stream of bytes associated with a given key.",
          "name" : "decodeBytes(forKey:returnedLength:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeBytes(forKey:returnedLength:)"
        },
        {
          "description" : "Decodes a double-precision floating-point value associated with a given key.",
          "name" : "decodeDouble(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeDouble(forKey:)"
        },
        {
          "description" : "Decodes a single-precision floating-point value associated with a given key.",
          "name" : "decodeFloat(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeFloat(forKey:)"
        },
        {
          "description" : "Decodes a 32-bit integer value associated with a given key.",
          "name" : "decodeInt32(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeInt32(forKey:)"
        },
        {
          "description" : "Decodes a 64-bit integer value associated with a given key.",
          "name" : "decodeInt64(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeInt64(forKey:)"
        },
        {
          "description" : "Decodes and returns an object associated with a given key.",
          "name" : "decodeObject(forKey:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodeObject(forKey:)"
        },
        {
          "description" : "Tells the receiver that you are finished decoding objects.",
          "name" : "finishDecoding()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/finishDecoding()"
        },
        {
          "description" : "The action to take when this unarchiver fails to decode an entry.",
          "name" : "decodingFailurePolicy",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/decodingFailurePolicy"
        }
      ],
      "title" : "Decoding Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The receiver’s delegate.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/delegate"
        }
      ],
      "title" : "Managing the Delegate"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets a global translation mapping to decode objects encoded with a given class name as instances of a given class instead.",
          "name" : "setClass(_:forClassName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/setClass(_:forClassName:)-swift.type.method"
        },
        {
          "description" : "Returns the class from which this unarchiver instantiates an encoded object with a given class name.",
          "name" : "class(forClassName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/class(forClassName:)-swift.type.method"
        },
        {
          "description" : "Sets a translation mapping on this unarchiver to decode objects encoded with a given class name as instances of a given class instead.",
          "name" : "setClass(_:forClassName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/setClass(_:forClassName:)-swift.method"
        },
        {
          "description" : "Returns the class from which this unarchiver instantiates an encoded object with a given class name.",
          "name" : "class(forClassName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/class(forClassName:)-swift.method"
        }
      ],
      "title" : "Managing Class Names"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Names of exceptions that are raised by `NSKeyedUnarchiver` if there is a problem extracting an archive.",
          "name" : "Keyed Unarchiving Exception Names",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/keyed-unarchiving-exception-names"
        }
      ],
      "title" : "Constants"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "unarchiveTopLevelObjectWithData(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchiveTopLevelObjectWithData(_:)-9oaeu"
        },
        {
          "description" : "",
          "name" : "unarchivedArrayOfObjects(ofClass:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedArrayOfObjects(ofClass:from:)"
        },
        {
          "description" : "",
          "name" : "unarchivedArrayOfObjects(ofClasses:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedArrayOfObjects(ofClasses:from:)"
        },
        {
          "description" : "",
          "name" : "unarchivedDictionary(keysOfClasses:objectsOfClasses:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedDictionary(keysOfClasses:objectsOfClasses:from:)"
        },
        {
          "description" : "",
          "name" : "unarchivedDictionary(ofKeyClass:objectClass:from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver\/unarchivedDictionary(ofKeyClass:objectClass:from:)"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An encoder that stores an object’s data to an archive referenced by keys.",
          "name" : "NSKeyedArchiver",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiver"
        },
        {
          "description" : "The optional methods implemented by the delegate of a keyed archiver.",
          "name" : "NSKeyedArchiverDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedArchiverDelegate"
        },
        {
          "description" : "The optional methods implemented by the delegate of a keyed unarchiver.",
          "name" : "NSKeyedUnarchiverDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiverDelegate"
        },
        {
          "description" : "An abstract class that serves as the basis for objects that enable archiving and distribution of other objects.",
          "name" : "NSCoder",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSCoder"
        },
        {
          "description" : "A value transformer that converts data to and from classes that support secure coding.",
          "name" : "NSSecureUnarchiveFromDataTransformer",
          "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSSecureUnarchiveFromDataTransformer"
        }
      ],
      "title" : "Keyed Archivers"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSCoder"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSKeyedUnarchiver",
  "url" : "https:\/\/developer.apple.com\/documentation\/Foundation\/NSKeyedUnarchiver"
}