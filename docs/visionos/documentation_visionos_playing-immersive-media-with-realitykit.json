{
  "abstract" : "Create an immersive video playback experience with RealityKit.",
  "codeExamples" : [
    {
      "code" : "var videoPlayerComponent = VideoPlayerComponent(avPlayer: player)\n\nvideoPlayerComponent.desiredImmersiveViewingMode = .portal\nvideoPlayerComponent.desiredSpatialVideoMode = .spatial\nvideoPlayerComponent.desiredViewingMode = .stereo\n\nentity.components[VideoPlayerComponent.self] = videoPlayerComponent",
      "language" : "swift"
    },
    {
      "code" : "VideoPlayerView(videoModel: selection)\n    .aspectRatio(CGSize(width: 16, height: 9), contentMode: .fit)",
      "language" : "swift"
    },
    {
      "code" : "GeometryReader3D { geometry in\n    RealityView { content in\n        configureContent(content, playbackScene: appModel.playbackScene)\n        scaleToFit(videoEntity, proxy: geometry, content: content)\n        content.add(rootEntity)\n    } update: { content in\n        scaleToFit(videoEntity, proxy: geometry, content: content)\n    }",
      "language" : "swift"
    },
    {
      "code" : "func scaleToFit(_ entity: Entity, proxy: GeometryProxy3D, content: RealityViewContent) {\n    guard let videoPlayer = videoEntity.videoPlayerComponent, videoPlayer.needsScaling else {\n        return\n    }\n\n    let frame = proxy.frame(in: .local)\n    let frameSize = abs(content.convert(frame.size, from: .local, to: .scene))\n    entity.scaleToFit(videoPlayer.playerScreenSize, within: frameSize)\n}",
      "language" : "swift"
    },
    {
      "code" : ".ornament(attachmentAnchor: .scene(.bottom)) {\n    TransportView()\n}",
      "language" : "swift"
    },
    {
      "code" : "private func updateImmersiveControls(with mitigation: VideoPlayerComponent.VideoComfortMitigation? = nil) {\n    let controlsAttachment = ViewAttachmentComponent(rootView: ImmersiveControlsView(comfortMitigation: mitigation))\n    immersiveControls.components.set(controlsAttachment)\n}",
      "language" : "swift"
    },
    {
      "code" : "PlayerImmersiveSpace(sceneIdentifier: Self.sceneID)\n    .immersionStyle(\n        selection: .constant(ProgressiveImmersionStyle(immersion: 0.01...1, initialAmount: 1)),\n        in: .progressive\n    )",
      "language" : "swift"
    },
    {
      "code" : "_ = content.subscribe(\n    to: VideoPlayerEvents.VideoComfortMitigationDidOccur.self,\n    on: entity\n) { event in\n    areTransportControlsVisible = true\n    updateImmersiveControls(with: event.comfortMitigation)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "28d5aef01895dc80a528d94ff41622cf518b2fae8ce396b966645af9505b7b9c",
  "crawledAt" : "2025-12-02T17:52:02Z",
  "id" : "E9C56210-366F-4C7A-B4C1-537559D97677",
  "kind" : "unknown",
  "language" : "swift",
  "overview" : "## Overview\n\nThis sample shows how to build an immersive video playback experience for visionOS. It demonstrates the use of RealityKit to present multiple content types, in both windows and immersive spaces. It also presents some key factors to consider as you customize your app experience.\n\n## Choose a playback approach\n\nWhen it comes to providing immersive video playback on visionOS, there are a few different approaches you can take:\n\nIf you’re already using RealityKit in your app, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] may be suitable, particularly if your video content is relatively short. In that case, it may not be necessary to offer controls for skipping, or to transition between full immersion and portal window viewing. For design guidance, see Human Interface Guidelines > [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/playing-video#visionOS].\n\n## Configure video player to play immersive media\n\n[doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] relies on three pairs of properties to play immersive media. For each pair, one property is used for mutation, and another for introspection.\n\nThe following code configures a video player to present spatial video within a portal window:\n\nHere, the app uses `desiredImmersiveViewingMode` to render the content as a portal window. It then uses `desiredSpatialVideoMode` to apply head-pose–based treatments, and specifies stereoscopic playback with `desiredViewingMode`.\n\n## Size video for the shared space\n\nWhen presented in an immersive space, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] automatically manages projection of the video content. In a window, however, additional considerations are necessary to achieve best results.\n\nBecause portal-based presentations prefer a 16:9 aspect ratio, the sample uses [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/aspectRatio(_:contentMode:)]:\n\nThe sample uses the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/Entity] that contains the `VideoPlayerComponent` to scale the player to fit within the default scene size. When correctly configured, the spatial video has feathered edges with rounded corners.\n\nThe sample uses a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GeometryReader3D] to determine the scene size. It then calls `scaleToFit(_:proxy:content:)` from both the `make` and `update` closures of the root [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/RealityView], which ensures that the video properly resizes with the content window.\n\nThe `scaleToFit(_:proxy:content:)` scales the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent\/playerScreenSize] to fit the size of the containing scene.\n\n## Customize playback controls\n\nThe sample provides custom playback controls with three basic functions:\n\nThe app uses the same view, `TransportView`, regardless of whether playback occurs in a window or an immersive space.\n\nFor playback in the *Shared Space*, [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ornaments] are ideal: they attach to windows without obscuring the content within. For more information, see [https:\/\/developer.apple.com\/tutorials\/develop-in-swift\/present-common-controls-in-an-ornament].\n\nThe *Full Space* presentation uses the same `TransportView`, but it’s incorporated through composition instead. It is added to an outer type, `ImmersiveControlsView`, which is then placed within a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/ViewAttachmentComponent] for use in a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/RealityView]:\n\n## Preserve motion comfort\n\nBecause scenes with high motion can lead to motion discomfort, be mindful of motion comfort when presenting media immersively. Two key considerations include: configuring the immersive space properly, and responding to video comfort mitigation events in a timely fashion.\n\nWhen presenting your content in an [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ImmersiveSpace], use a progressive [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ImmersionStyle] so that a person can turn the Digital Crown to adjust the amount of visible passthrough video:\n\nThe [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerEvents\/VideoComfortMitigationDidOccur] event includes a single property, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerEvents\/VideoComfortMitigationDidOccur\/comfortMitigation]. This event indicates that the system detected high motion and took steps to preserve motion comfort based on the person’s preference. The following shows how the sample app subscribes to this event:\n\nThe sample uses this event to advise the person that system mitigation took place, and updates `ImmersiveControlsView` accordingly.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/visionos\/playing-immersive-media-with-realitykit\ncrawled: 2025-12-02T17:52:02Z\n---\n\n# Playing immersive media with RealityKit\n\n**Sample Code**\n\nCreate an immersive video playback experience with RealityKit.\n\n## Overview\n\nThis sample shows how to build an immersive video playback experience for visionOS. It demonstrates the use of RealityKit to present multiple content types, in both windows and immersive spaces. It also presents some key factors to consider as you customize your app experience.\n\n\n\n## Choose a playback approach\n\nWhen it comes to providing immersive video playback on visionOS, there are a few different approaches you can take:\n\n- [doc:\/\/com.apple.documentation\/documentation\/AVKit] provides a superior video playback experience in visionOS. With AVKit, you can present an interface that’s consistent with other apps on the system, as it requires the least effort to adopt. For more information on using AVKit in visionOS, see [doc:\/\/com.apple.documentation\/documentation\/AVKit\/adopting-the-system-player-interface-in-visionos].\n- [doc:\/\/com.apple.documentation\/documentation\/RealityKit] enables immersive video playback with [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent]. RealityKit manages changes in immersive viewing mode to preserve motion comfort, but it requires a little more effort to customize playback controls for your experience.\n\nIf you’re already using RealityKit in your app, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] may be suitable, particularly if your video content is relatively short. In that case, it may not be necessary to offer controls for skipping, or to transition between full immersion and portal window viewing. For design guidance, see Human Interface Guidelines > [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/playing-video#visionOS].\n\n## Configure video player to play immersive media\n\n[doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] relies on three pairs of properties to play immersive media. For each pair, one property is used for mutation, and another for introspection.\n\n\n\nThe following code configures a video player to present spatial video within a portal window:\n\n```swift\nvar videoPlayerComponent = VideoPlayerComponent(avPlayer: player)\n\nvideoPlayerComponent.desiredImmersiveViewingMode = .portal\nvideoPlayerComponent.desiredSpatialVideoMode = .spatial\nvideoPlayerComponent.desiredViewingMode = .stereo\n\nentity.components[VideoPlayerComponent.self] = videoPlayerComponent\n```\n\nHere, the app uses `desiredImmersiveViewingMode` to render the content as a portal window. It then uses `desiredSpatialVideoMode` to apply head-pose–based treatments, and specifies stereoscopic playback with `desiredViewingMode`.\n\n## Size video for the shared space\n\nWhen presented in an immersive space, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent] automatically manages projection of the video content. In a window, however, additional considerations are necessary to achieve best results.\n\nBecause portal-based presentations prefer a 16:9 aspect ratio, the sample uses [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/aspectRatio(_:contentMode:)]:\n\n```swift\nVideoPlayerView(videoModel: selection)\n    .aspectRatio(CGSize(width: 16, height: 9), contentMode: .fit)\n```\n\nThe sample uses the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/Entity] that contains the `VideoPlayerComponent` to scale the player to fit within the default scene size. When correctly configured, the spatial video has feathered edges with rounded corners.\n\nThe sample uses a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GeometryReader3D] to determine the scene size. It then calls `scaleToFit(_:proxy:content:)` from both the `make` and `update` closures of the root [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/RealityView], which ensures that the video properly resizes with the content window.\n\n```swift\nGeometryReader3D { geometry in\n    RealityView { content in\n        configureContent(content, playbackScene: appModel.playbackScene)\n        scaleToFit(videoEntity, proxy: geometry, content: content)\n        content.add(rootEntity)\n    } update: { content in\n        scaleToFit(videoEntity, proxy: geometry, content: content)\n    }\n```\n\nThe `scaleToFit(_:proxy:content:)` scales the [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerComponent\/playerScreenSize] to fit the size of the containing scene.\n\n```swift\nfunc scaleToFit(_ entity: Entity, proxy: GeometryProxy3D, content: RealityViewContent) {\n    guard let videoPlayer = videoEntity.videoPlayerComponent, videoPlayer.needsScaling else {\n        return\n    }\n\n    let frame = proxy.frame(in: .local)\n    let frameSize = abs(content.convert(frame.size, from: .local, to: .scene))\n    entity.scaleToFit(videoPlayer.playerScreenSize, within: frameSize)\n}\n```\n\n## Customize playback controls\n\nThe sample provides custom playback controls with three basic functions:\n\n1. A toggle for controlling Play and Pause.\n2. Immersion toggle.\n3. Exit, when in an immersive space.\n\nThe app uses the same view, `TransportView`, regardless of whether playback occurs in a window or an immersive space.\n\nFor playback in the *Shared Space*, [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/ornaments] are ideal: they attach to windows without obscuring the content within. For more information, see [https:\/\/developer.apple.com\/tutorials\/develop-in-swift\/present-common-controls-in-an-ornament].\n\n```swift\n.ornament(attachmentAnchor: .scene(.bottom)) {\n    TransportView()\n}\n```\n\nThe *Full Space* presentation uses the same `TransportView`, but it’s incorporated through composition instead. It is added to an outer type, `ImmersiveControlsView`, which is then placed within a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/ViewAttachmentComponent] for use in a [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/RealityView]:\n\n```swift\nprivate func updateImmersiveControls(with mitigation: VideoPlayerComponent.VideoComfortMitigation? = nil) {\n    let controlsAttachment = ViewAttachmentComponent(rootView: ImmersiveControlsView(comfortMitigation: mitigation))\n    immersiveControls.components.set(controlsAttachment)\n}\n```\n\n\n\n## Preserve motion comfort\n\nBecause scenes with high motion can lead to motion discomfort, be mindful of motion comfort when presenting media immersively. Two key considerations include: configuring the immersive space properly, and responding to video comfort mitigation events in a timely fashion.\n\nWhen presenting your content in an [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ImmersiveSpace], use a progressive [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ImmersionStyle] so that a person can turn the Digital Crown to adjust the amount of visible passthrough video:\n\n```swift\nPlayerImmersiveSpace(sceneIdentifier: Self.sceneID)\n    .immersionStyle(\n        selection: .constant(ProgressiveImmersionStyle(immersion: 0.01...1, initialAmount: 1)),\n        in: .progressive\n    )\n```\n\nThe [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerEvents\/VideoComfortMitigationDidOccur] event includes a single property, [doc:\/\/com.apple.documentation\/documentation\/RealityKit\/VideoPlayerEvents\/VideoComfortMitigationDidOccur\/comfortMitigation]. This event indicates that the system detected high motion and took steps to preserve motion comfort based on the person’s preference. The following shows how the sample app subscribes to this event:\n\n```swift\n_ = content.subscribe(\n    to: VideoPlayerEvents.VideoComfortMitigationDidOccur.self,\n    on: entity\n) { event in\n    areTransportControlsVisible = true\n    updateImmersiveControls(with: event.comfortMitigation)\n}\n```\n\nThe sample uses this event to advise the person that system mitigation took place, and updates `ImmersiveControlsView` accordingly.\n\n## Video playback\n\n- **Destination Video**: Leverage SwiftUI to build an immersive media experience in a multiplatform app.\n- **Displaying video from connected devices**: Show video from devices connected with the Developer Strap in your visionOS app.\n- **Rendering stereoscopic video with RealityKit**: Render stereoscopic video in visionOS with RealityKit.\n- **Creating a multiview video playback experience in visionOS**: Build an interface that plays multiple videos simultaneously and handles transitions to different experience types gracefully.\n- **Configuring your app for media playback**: Configure apps to enable standard media playback behavior.\n- **Adopting the system player interface in visionOS**: Provide an optimized viewing experience for watching 3D video content.\n- **Controlling the transport behavior of a player**: Play, pause, and seek through a media presentation.\n- **Monitoring playback progress in your app**: Observe the playback of a media asset to update your app’s user-interface state.\n- **Trimming and exporting media in visionOS**: Display standard controls in your app to edit the timeline of the currently playing media.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Leverage SwiftUI to build an immersive media experience in a multiplatform app.",
          "name" : "Destination Video",
          "url" : "https:\/\/developer.apple.com\/documentation\/visionOS\/destination-video"
        },
        {
          "description" : "Show video from devices connected with the Developer Strap in your visionOS app.",
          "name" : "Displaying video from connected devices",
          "url" : "https:\/\/developer.apple.com\/documentation\/visionOS\/displaying-video-from-connected-devices"
        },
        {
          "description" : "Render stereoscopic video in visionOS with RealityKit.",
          "name" : "Rendering stereoscopic video with RealityKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/rendering-stereoscopic-video-with-realitykit"
        },
        {
          "description" : "Build an interface that plays multiple videos simultaneously and handles transitions to different experience types gracefully.",
          "name" : "Creating a multiview video playback experience in visionOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/creating-a-multiview-video-playback-experience-in-visionos"
        },
        {
          "description" : "Configure apps to enable standard media playback behavior.",
          "name" : "Configuring your app for media playback",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/configuring-your-app-for-media-playback"
        },
        {
          "description" : "Provide an optimized viewing experience for watching 3D video content.",
          "name" : "Adopting the system player interface in visionOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/adopting-the-system-player-interface-in-visionos"
        },
        {
          "description" : "Play, pause, and seek through a media presentation.",
          "name" : "Controlling the transport behavior of a player",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/controlling-the-transport-behavior-of-a-player"
        },
        {
          "description" : "Observe the playback of a media asset to update your app’s user-interface state.",
          "name" : "Monitoring playback progress in your app",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFoundation\/monitoring-playback-progress-in-your-app"
        },
        {
          "description" : "Display standard controls in your app to edit the timeline of the currently playing media.",
          "name" : "Trimming and exporting media in visionOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVKit\/trimming-and-exporting-media-in-visionos"
        }
      ],
      "title" : "Video playback"
    }
  ],
  "source" : "appleJSON",
  "title" : "Playing immersive media with RealityKit",
  "url" : "https:\/\/developer.apple.com\/documentation\/visionos\/playing-immersive-media-with-realitykit"
}