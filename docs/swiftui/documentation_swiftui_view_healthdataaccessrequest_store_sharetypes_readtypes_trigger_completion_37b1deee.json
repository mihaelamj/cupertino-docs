{
  "abstract" : "Requests permission to save and read the specified HealthKit data types.",
  "codeExamples" : [

  ],
  "contentHash" : "e150366170d7d994177dd0b02b14d7b37d6ea724e10d06eb93ab89c9f0c42a1a",
  "crawledAt" : "2025-12-02T17:05:10Z",
  "declaration" : {
    "code" : "@preconcurrency nonisolated func healthDataAccessRequest(store: HKHealthStore, shareTypes: Set<HKSampleType>, readTypes: Set<HKObjectType>? = nil, trigger: some Equatable, completion: @escaping (Result<Bool, any Error>) -> Void) -> some View\n",
    "language" : "swift"
  },
  "id" : "152E0D83-3574-4774-97E8-FBFC62EE71BA",
  "kind" : "method",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nHealthKit performs these requests asynchronously when you modify the trigger’s value. If you call this method with a new data type (a type of data that the user hasn’t previously granted or denied permission for in this app), the system automatically displays the authorization sheet when you modify the trigger’s value. The authorization sheet lists all the requested permissions. After the user finishes responding, HealthKit calls the completion block on a background queue. If the user has already chosen to grant or prohibit access to all of the types specified, HealthKit calls the completion when you modify the trigger without prompting the user.\n\nEach data type has two separate permissions, one to read it and one to share it. You can make a single request, and include all the data types your app needs.\n\nCustomize the messages displayed on the permissions sheet by setting the following keys:\n\nSet these keys in the Target Properties list on the app’s Info tab.\n\nAfter users set the permissions for your app, they can always change them using either the Settings or the Health app. Your app appears in the Health app’s Sources tab, even if the user didn’t allow permission to read or share data.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/healthDataAccessRequest(store:shareTypes:readTypes:trigger:completion:)\ncrawled: 2025-12-02T17:05:10Z\n---\n\n# healthDataAccessRequest(store:shareTypes:readTypes:trigger:completion:)\n\n**Instance Method**\n\nRequests permission to save and read the specified HealthKit data types.\n\n## Declaration\n\n```swift\n@preconcurrency nonisolated func healthDataAccessRequest(store: HKHealthStore, shareTypes: Set<HKSampleType>, readTypes: Set<HKObjectType>? = nil, trigger: some Equatable, completion: @escaping (Result<Bool, any Error>) -> Void) -> some View\n\n```\n\n## Parameters\n\n- **store**: The HealthKit store where you’re requesting authorization.\n- **shareTypes**: A set containing the data types you want to share. This set can contain any concrete subclass of the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKSampleType] class (any of the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKQuantityType], [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKCategoryType], [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKWorkoutType], or [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKCorrelationType] classes). If the user grants permission, your app can create and save these data types to the HealthKit store.\n- **readTypes**: An optional set containing the data types you want to read. This set can contain any concrete subclass of the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKObjectType] class (any of the [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKCharacteristicType], [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKQuantityType], [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKCategoryType], [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKWorkoutType], or [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKCorrelationType] classes ). If the user grants permission, your app can read these data types from the HealthKit store.\n- **trigger**: A value used to trigger the request. This value must be a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/State] variable. Any change to the variable triggers a request.\n- **completion**: A block that the system calls after the request is complete. The system passes the result parameter.\n\n## Discussion\n\nHealthKit performs these requests asynchronously when you modify the trigger’s value. If you call this method with a new data type (a type of data that the user hasn’t previously granted or denied permission for in this app), the system automatically displays the authorization sheet when you modify the trigger’s value. The authorization sheet lists all the requested permissions. After the user finishes responding, HealthKit calls the completion block on a background queue. If the user has already chosen to grant or prohibit access to all of the types specified, HealthKit calls the completion when you modify the trigger without prompting the user.\n\nEach data type has two separate permissions, one to read it and one to share it. You can make a single request, and include all the data types your app needs.\n\n\n\nCustomize the messages displayed on the permissions sheet by setting the following keys:\n\n- [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSHealthShareUsageDescription] customizes the message for reading data.\n- [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSHealthUpdateUsageDescription] customizes the message for writing data.\n\n\n\nSet these keys in the Target Properties list on the app’s Info tab.\n\nAfter users set the permissions for your app, they can always change them using either the Settings or the Health app. Your app appears in the Health app’s Sources tab, even if the user didn’t allow permission to read or share data.\n\n## Accessing health data\n\n- **healthDataAccessRequest(store:objectType:predicate:trigger:completion:)**: Asynchronously requests permission to read a data type that requires per-object authorization (such as vision prescriptions).\n- **healthDataAccessRequest(store:readTypes:trigger:completion:)**: Requests permission to read the specified HealthKit data types.\n- **workoutPreview(_:isPresented:)**: Presents a preview of the workout contents as a modal sheet\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asynchronously requests permission to read a data type that requires per-object authorization (such as vision prescriptions).",
          "name" : "healthDataAccessRequest(store:objectType:predicate:trigger:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/healthDataAccessRequest(store:objectType:predicate:trigger:completion:)"
        },
        {
          "description" : "Requests permission to read the specified HealthKit data types.",
          "name" : "healthDataAccessRequest(store:readTypes:trigger:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/healthDataAccessRequest(store:readTypes:trigger:completion:)"
        },
        {
          "description" : "Presents a preview of the workout contents as a modal sheet",
          "name" : "workoutPreview(_:isPresented:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/workoutPreview(_:isPresented:)"
        }
      ],
      "title" : "Accessing health data"
    }
  ],
  "source" : "appleJSON",
  "title" : "healthDataAccessRequest(store:shareTypes:readTypes:trigger:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/healthDataAccessRequest(store:shareTypes:readTypes:trigger:completion:)"
}