{
  "abstract" : "Adds a task to perform before this view appears or when the specified source or target languages change.",
  "codeExamples" : [
    {
      "code" : " struct ContentView: View {\n     var sourceText = \"Hallo, Welt!\"\n     var sourceLanguage: Locale.Language?\n     var targetLanguage: Locale.Language?\n\n     @State private var targetText: String?\n\n     var body: some View {\n         Text(targetText ?? sourceText)\n             .translationTask(\n                 source: sourceLanguage,\n                 target: targetLanguage\n             ) { session in\n                 Task { @MainActor in\n                     do {\n                         let response = try await session.translate(sourceText)\n                         targetText = response.targetText\n                     } catch {\n                         \/\/ code to handle error\n                     }\n                 }\n             }\n     }\n }",
      "language" : "swift"
    }
  ],
  "contentHash" : "3293ee6c04d97e5d0530c00bd864bde76ff454724c4ba6d37d2663d437aea1e9",
  "crawledAt" : "2025-12-02T15:47:13Z",
  "declaration" : {
    "code" : "nonisolated func translationTask(source: Locale.Language? = nil, target: Locale.Language? = nil, action: @escaping (TranslationSession) async -> Void) -> some View\n",
    "language" : "swift"
  },
  "id" : "60A22EA5-2E30-4D8F-9227-DFCFE77934EA",
  "kind" : "method",
  "language" : "swift",
  "module" : "Translation",
  "overview" : "## Discussion\n\nThis task provides an instance of `TranslationSession` to use to perform translations.\n\nIf you need to perform new translations again with the same `source` and `target` language, it’s better to use [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/translationTask(_:action:)] and call [doc:\/\/com.apple.documentation\/documentation\/Translation\/TranslationSession\/Configuration\/invalidate()].\n\nFor example, you can translate when content appears:\n\nThe system throws a `fatalError` if you use a `TranslationSession` instance after the attached view disappears or if you use it after changing the `source` or `target` parameters. This causes the `action` closure to provide a new `TranslationSession` instance.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/translationTask(source:target:action:)\ncrawled: 2025-12-02T15:47:13Z\n---\n\n# translationTask(source:target:action:)\n\n**Instance Method**\n\nAdds a task to perform before this view appears or when the specified source or target languages change.\n\n## Declaration\n\n```swift\nnonisolated func translationTask(source: Locale.Language? = nil, target: Locale.Language? = nil, action: @escaping (TranslationSession) async -> Void) -> some View\n\n```\n\n## Parameters\n\n- **source**: The language the source content is in. If this is `nil`, the session tries to identify the language and prompts the person to pick the source language if it’s unclear. All text translated within the session should be in the same source language. Changing this value cancels previous tasks and creates a new session to perform translations again.\n- **target**: The language to translate content into. A `nil` value means the session picks a target according to the person’s `Locale.preferredLanguages` and the `source`. Changing this value cancels previous tasks and creates a new one to perform translations again.\n- **action**: A closure that runs when the view first appears and when `source` or `target` change.  It provides a `TranslationSession` instance to perform one or multiple translations.\n\n## Discussion\n\nThis task provides an instance of `TranslationSession` to use to perform translations.\n\nIf you need to perform new translations again with the same `source` and `target` language, it’s better to use [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/translationTask(_:action:)] and call [doc:\/\/com.apple.documentation\/documentation\/Translation\/TranslationSession\/Configuration\/invalidate()].\n\nFor example, you can translate when content appears:\n\n```swift\n struct ContentView: View {\n     var sourceText = \"Hallo, Welt!\"\n     var sourceLanguage: Locale.Language?\n     var targetLanguage: Locale.Language?\n\n     @State private var targetText: String?\n\n     var body: some View {\n         Text(targetText ?? sourceText)\n             .translationTask(\n                 source: sourceLanguage,\n                 target: targetLanguage\n             ) { session in\n                 Task { @MainActor in\n                     do {\n                         let response = try await session.translate(sourceText)\n                         targetText = response.targetText\n                     } catch {\n                         \/\/ code to handle error\n                     }\n                 }\n             }\n     }\n }\n```\n\nThe system throws a `fatalError` if you use a `TranslationSession` instance after the attached view disappears or if you use it after changing the `source` or `target` parameters. This causes the `action` closure to provide a new `TranslationSession` instance.\n\n## Showing a translation\n\n- **translationPresentation(isPresented:text:attachmentAnchor:arrowEdge:replacementAction:)**: Presents a translation popover when a given condition is true.\n- **translationTask(_:action:)**: Adds a task to perform before this view appears or when the translation configuration changes.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Presents a translation popover when a given condition is true.",
          "name" : "translationPresentation(isPresented:text:attachmentAnchor:arrowEdge:replacementAction:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/translationPresentation(isPresented:text:attachmentAnchor:arrowEdge:replacementAction:)"
        },
        {
          "description" : "Adds a task to perform before this view appears or when the translation configuration changes.",
          "name" : "translationTask(_:action:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/translationTask(_:action:)"
        }
      ],
      "title" : "Showing a translation"
    }
  ],
  "source" : "appleJSON",
  "title" : "translationTask(source:target:action:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/translationTask(source:target:action:)"
}