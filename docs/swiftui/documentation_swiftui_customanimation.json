{
  "abstract" : "A type that defines how an animatable value changes over time.",
  "codeExamples" : [
    {
      "code" : "struct ElasticEaseInEaseOutAnimation: CustomAnimation {\n    let duration: TimeInterval\n\n    func animate<V>(value: V, time: TimeInterval, context: inout AnimationContext<V>) -> V? where V : VectorArithmetic {\n        if time > duration { return nil } \/\/ The animation has finished.\n\n        let p = time \/ duration\n        let s = sin((20 * p - 11.125) * ((2 * Double.pi) \/ 4.5))\n        if p < 0.5 {\n            return value.scaled(by: -(pow(2, 20 * p - 10) * s) \/ 2)\n        } else {\n            return value.scaled(by: (pow(2, -20 * p + 10) * s) \/ 2 + 1)\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "Animation(ElasticEaseInEaseOutAnimation(duration: 5.0))",
      "language" : "swift"
    },
    {
      "code" : "extension Animation {\n    static var elasticEaseInEaseOut: Animation { elasticEaseInEaseOut(duration: 0.35) }\n    static func elasticEaseInEaseOut(duration: TimeInterval) -> Animation {\n        Animation(ElasticEaseInEaseOutAnimation(duration: duration))\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ElasticEaseInEaseOutView: View {\n    @State private var isActive = false\n\n    var body: some View {\n        VStack(alignment: isActive ? .trailing : .leading) {\n            Circle()\n                .frame(width: 100.0)\n                .foregroundColor(.accentColor)\n\n            Button(\"Animate\") {\n                withAnimation(.elasticEaseInEaseOut(duration: 5.0)) {\n                    isActive.toggle()\n                }\n            }\n            .frame(maxWidth: .infinity)\n        }\n        .padding()\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "1d3cbf55720b98304bc46eda4ec6ebc5fcfcc41623dad17d63c3335fd23e1a9f",
  "crawledAt" : "2025-12-02T17:02:55Z",
  "declaration" : {
    "code" : "@preconcurrency protocol CustomAnimation : Hashable, Sendable",
    "language" : "swift"
  },
  "id" : "75C60501-3F0B-4241-B27D-FCEA1E5A5E0E",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Overview\n\nUse this protocol to create a type that changes an animatable value over time, which produces a custom visual transition of a view. For example, the follow code changes an animatable value using an elastic ease-in ease-out function:\n\nTo create an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation] instance of a custom animation, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation\/init(_:)] initializer, passing in an instance of a custom animation; for example:\n\nTo help make view code more readable, extend [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation] and add a static property and function that returns an `Animation` instance of a custom animation. For example, the following code adds the static property `elasticEaseInEaseOut` that returns the elastic ease-in ease-out animation with a default duration of `0.35` seconds. Next, the code adds a method that returns the animation with a specified duration.\n\nTo animate a view with the elastic ease-in ease-out animation, a view calls either `.elasticEaseInEaseOut` or `.elasticEaseInEaseOut(duration:)`. For example, the follow code includes an Animate button that, when clicked, animates a circle as it moves from one edge of the view to the other, using the elastic ease-in ease-out animation with a duration of `5` seconds:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/CustomAnimation\ncrawled: 2025-12-02T17:02:55Z\n---\n\n# CustomAnimation\n\n**Protocol**\n\nA type that defines how an animatable value changes over time.\n\n## Declaration\n\n```swift\n@preconcurrency protocol CustomAnimation : Hashable, Sendable\n```\n\n## Overview\n\nUse this protocol to create a type that changes an animatable value over time, which produces a custom visual transition of a view. For example, the follow code changes an animatable value using an elastic ease-in ease-out function:\n\n```swift\nstruct ElasticEaseInEaseOutAnimation: CustomAnimation {\n    let duration: TimeInterval\n\n    func animate<V>(value: V, time: TimeInterval, context: inout AnimationContext<V>) -> V? where V : VectorArithmetic {\n        if time > duration { return nil } \/\/ The animation has finished.\n\n        let p = time \/ duration\n        let s = sin((20 * p - 11.125) * ((2 * Double.pi) \/ 4.5))\n        if p < 0.5 {\n            return value.scaled(by: -(pow(2, 20 * p - 10) * s) \/ 2)\n        } else {\n            return value.scaled(by: (pow(2, -20 * p + 10) * s) \/ 2 + 1)\n        }\n    }\n}\n```\n\n\n\nTo create an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation] instance of a custom animation, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation\/init(_:)] initializer, passing in an instance of a custom animation; for example:\n\n```swift\nAnimation(ElasticEaseInEaseOutAnimation(duration: 5.0))\n```\n\nTo help make view code more readable, extend [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Animation] and add a static property and function that returns an `Animation` instance of a custom animation. For example, the following code adds the static property `elasticEaseInEaseOut` that returns the elastic ease-in ease-out animation with a default duration of `0.35` seconds. Next, the code adds a method that returns the animation with a specified duration.\n\n```swift\nextension Animation {\n    static var elasticEaseInEaseOut: Animation { elasticEaseInEaseOut(duration: 0.35) }\n    static func elasticEaseInEaseOut(duration: TimeInterval) -> Animation {\n        Animation(ElasticEaseInEaseOutAnimation(duration: duration))\n    }\n}\n```\n\nTo animate a view with the elastic ease-in ease-out animation, a view calls either `.elasticEaseInEaseOut` or `.elasticEaseInEaseOut(duration:)`. For example, the follow code includes an Animate button that, when clicked, animates a circle as it moves from one edge of the view to the other, using the elastic ease-in ease-out animation with a duration of `5` seconds:\n\n```swift\nstruct ElasticEaseInEaseOutView: View {\n    @State private var isActive = false\n\n    var body: some View {\n        VStack(alignment: isActive ? .trailing : .leading) {\n            Circle()\n                .frame(width: 100.0)\n                .foregroundColor(.accentColor)\n\n            Button(\"Animate\") {\n                withAnimation(.elasticEaseInEaseOut(duration: 5.0)) {\n                    isActive.toggle()\n                }\n            }\n            .frame(maxWidth: .infinity)\n        }\n        .padding()\n    }\n}\n```\n\n\n\n## Animating a value\n\n- **animate(value:time:context:)**: Calculates the value of the animation at the specified time.\n\n## Getting the velocity\n\n- **velocity(value:time:context:)**: Calculates the velocity of the animation at a specified time.\n\n## Determining whether to merge\n\n- **shouldMerge(previous:value:time:context:)**: Determines whether an instance of the animation can merge with other instance of the same type.\n\n## Creating custom animations\n\n- **AnimationContext**: Contextual values that a custom animation can use to manage state and access a view’s environment.\n- **AnimationState**: A container that stores the state for a custom animation.\n- **AnimationStateKey**: A key for accessing animation state values.\n- **UnitCurve**: A  function defined by a two-dimensional curve that maps an input progress in the range [0,1] to an output progress that is also in the range [0,1]. By changing the shape of the curve, the effective speed of an animation or other interpolation can be changed.\n- **Spring**: A representation of a spring’s motion.\n\n## Inherits From\n\n- Equatable\n- Hashable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Calculates the value of the animation at the specified time.",
          "name" : "animate(value:time:context:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/CustomAnimation\/animate(value:time:context:)"
        }
      ],
      "title" : "Animating a value"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Calculates the velocity of the animation at a specified time.",
          "name" : "velocity(value:time:context:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/CustomAnimation\/velocity(value:time:context:)"
        }
      ],
      "title" : "Getting the velocity"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Determines whether an instance of the animation can merge with other instance of the same type.",
          "name" : "shouldMerge(previous:value:time:context:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/CustomAnimation\/shouldMerge(previous:value:time:context:)"
        }
      ],
      "title" : "Determining whether to merge"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Contextual values that a custom animation can use to manage state and access a view’s environment.",
          "name" : "AnimationContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AnimationContext"
        },
        {
          "description" : "A container that stores the state for a custom animation.",
          "name" : "AnimationState",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AnimationState"
        },
        {
          "description" : "A key for accessing animation state values.",
          "name" : "AnimationStateKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AnimationStateKey"
        },
        {
          "description" : "A  function defined by a two-dimensional curve that maps an input progress in the range [0,1] to an output progress that is also in the range [0,1]. By changing the shape of the curve, the effective speed of an animation or other interpolation can be changed.",
          "name" : "UnitCurve",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/UnitCurve"
        },
        {
          "description" : "A representation of a spring’s motion.",
          "name" : "Spring",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Spring"
        }
      ],
      "title" : "Creating custom animations"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "Equatable"
        },
        {
          "name" : "Hashable"
        },
        {
          "name" : "Sendable"
        },
        {
          "name" : "SendableMetatype"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CustomAnimation",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/CustomAnimation"
}