{
  "abstract" : "Sets the disfavored locations for a widget.",
  "codeExamples" : [
    {
      "code" : "lockScreenOnlyConfig\n    .disfavoredLocations([.lockScreen, .homeScreen], for: [.systemSmall])",
      "language" : "swift"
    },
    {
      "code" : "widgetConfig\n    .disfavoredLocations([.lockScreen, .homeScreen], for: [.systemSmall])\n    .disfavoredLocations([.homescreen], for: [.systemMedium])",
      "language" : "swift"
    }
  ],
  "contentHash" : "ebe7a27f1c03bec48351c58f93150c59bb1ae1a4732c5eeb09f3c8713f78cd3d",
  "crawledAt" : "2025-12-03T06:05:46Z",
  "declaration" : {
    "code" : "@MainActor @preconcurrency func disfavoredLocations(_ locations: [WidgetLocation], for families: [WidgetFamily]) -> some WidgetConfiguration\n",
    "language" : "swift"
  },
  "id" : "7952A355-2D05-445C-9954-DF873D316F69",
  "kind" : "method",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nA widget can appear in different contexts on different platforms. For example, a small system widget appears by default on the Home Screen and in Today View on iPhone, on the iPad Lock Screen, and so on. This gives more people opportunity to view data and functionality that your widget provides. However, some widgets may not work well in a location. For example, a widget that heavily relies on high-resolution photos and background colors for its functionality may not work well on the Lock Screen, where the system applies a vibrant treatment to the widget. To tell the system that the widget gallery should show a widget in the “Other” section of the widget gallery for a specific context, use the `.disfavoredLocations` modifier.\n\nThe following code snippet tells the system to show the small system family widget in the “Other” section of the widget gallery for the disfavored `WidgetLocation\/lockScreen` and `WidgetLocation\/homeScreen` locations.\n\nYou can use subsequent calls to `disfavoredLocations(_:families:)` to join them and set disfavored locations for different families:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/WidgetConfiguration\/disfavoredLocations(_:for:)\ncrawled: 2025-12-03T06:05:46Z\n---\n\n# disfavoredLocations(_:for:)\n\n**Instance Method**\n\nSets the disfavored locations for a widget.\n\n## Declaration\n\n```swift\n@MainActor @preconcurrency func disfavoredLocations(_ locations: [WidgetLocation], for families: [WidgetFamily]) -> some WidgetConfiguration\n\n```\n\n## Parameters\n\n- **locations**: An array of disfavored locations for a widget.\n- **families**: The families you want to mark as disfavored in the given locations.\n\n## Discussion\n\nA widget can appear in different contexts on different platforms. For example, a small system widget appears by default on the Home Screen and in Today View on iPhone, on the iPad Lock Screen, and so on. This gives more people opportunity to view data and functionality that your widget provides. However, some widgets may not work well in a location. For example, a widget that heavily relies on high-resolution photos and background colors for its functionality may not work well on the Lock Screen, where the system applies a vibrant treatment to the widget. To tell the system that the widget gallery should show a widget in the “Other” section of the widget gallery for a specific context, use the `.disfavoredLocations` modifier.\n\nThe following code snippet tells the system to show the small system family widget in the “Other” section of the widget gallery for the disfavored `WidgetLocation\/lockScreen` and `WidgetLocation\/homeScreen` locations.\n\n```swift\nlockScreenOnlyConfig\n    .disfavoredLocations([.lockScreen, .homeScreen], for: [.systemSmall])\n```\n\nYou can use subsequent calls to `disfavoredLocations(_:families:)` to join them and set disfavored locations for different families:\n\n```swift\nwidgetConfig\n    .disfavoredLocations([.lockScreen, .homeScreen], for: [.systemSmall])\n    .disfavoredLocations([.homescreen], for: [.systemMedium])\n```\n\n## Setting the appearance\n\n- **supportedFamilies(_:)**: Sets the sizes that a widget supports.\n- **contentMarginsDisabled()**: Disable default content margins.\n- **containerBackgroundRemovable(_:)**: A modifier that marks the background of a widget as removable.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the sizes that a widget supports.",
          "name" : "supportedFamilies(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/WidgetConfiguration\/supportedFamilies(_:)"
        },
        {
          "description" : "Disable default content margins.",
          "name" : "contentMarginsDisabled()",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/WidgetConfiguration\/contentMarginsDisabled()"
        },
        {
          "description" : "A modifier that marks the background of a widget as removable.",
          "name" : "containerBackgroundRemovable(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/WidgetConfiguration\/containerBackgroundRemovable(_:)"
        }
      ],
      "title" : "Setting the appearance"
    }
  ],
  "source" : "appleJSON",
  "title" : "disfavoredLocations(_:for:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/WidgetConfiguration\/disfavoredLocations(_:for:)"
}