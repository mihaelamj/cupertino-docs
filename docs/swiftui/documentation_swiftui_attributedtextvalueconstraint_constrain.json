{
  "abstract" : "Enforce constraints on the attribute.",
  "codeExamples" : [
    {
      "code" : "struct NoEqualForegroundAndBackground: AttributedTextValueConstraint {\n    typealias Scope = MyTextFormattingDefinition.Scope\n    typealias AttributeKey = AttributeScopes.SwiftUIAttributes.BackgroundColorAttribute\n\n    func constrain(\n        _ container: inout Attributes\n    ) {\n        if let color = container.foregroundColor,\n           container.backgroundColor == color\n        {\n            container.backgroundColor = nil\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "ec8a668d81843827736996d570011965fff22e798395b792772668b7738b1536",
  "crawledAt" : "2025-12-01T11:07:54Z",
  "declaration" : {
    "code" : "func constrain(_ container: inout Self.Attributes)",
    "language" : "swift"
  },
  "id" : "442F13DE-F328-45CF-8A84-4B489DE3BDBC",
  "kind" : "method",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nA function that transforms the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextValueConstraint\/AttributeKey] on the given `container` so it represents a formatting that the conforming type defines to be valid.\n\nThis function can generally read any attribute on `container` and it will produce a value that has been constrained by all [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextValueConstraint] listed in the associated text formatting definition above the constraint reading the attribute.\n\nConsider the following example:\n\nWhen this constrain function accesses `container.foregroundColor`, the system establishes that the background color depends on the foreground color. At that time, it checks if the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextFormattingDefinition] this constraint is part of defines constraints on the foreground color *above* `NoEqualForegroundAndBackground` and applies them. Thus, when the access to `container.foregroundColor` returns, this function reads the constrained value.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/AttributedTextValueConstraint\/constrain(_:)\ncrawled: 2025-12-01T11:07:54Z\n---\n\n# constrain(_:)\n\n**Instance Method**\n\nEnforce constraints on the attribute.\n\n## Declaration\n\n```swift\nfunc constrain(_ container: inout Self.Attributes)\n```\n\n## Discussion\n\nA function that transforms the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextValueConstraint\/AttributeKey] on the given `container` so it represents a formatting that the conforming type defines to be valid.\n\nThis function can generally read any attribute on `container` and it will produce a value that has been constrained by all [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextValueConstraint] listed in the associated text formatting definition above the constraint reading the attribute.\n\nConsider the following example:\n\n```swift\nstruct NoEqualForegroundAndBackground: AttributedTextValueConstraint {\n    typealias Scope = MyTextFormattingDefinition.Scope\n    typealias AttributeKey = AttributeScopes.SwiftUIAttributes.BackgroundColorAttribute\n\n    func constrain(\n        _ container: inout Attributes\n    ) {\n        if let color = container.foregroundColor,\n           container.backgroundColor == color\n        {\n            container.backgroundColor = nil\n        }\n    }\n}\n```\n\nWhen this constrain function accesses `container.foregroundColor`, the system establishes that the background color depends on the foreground color. At that time, it checks if the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AttributedTextFormattingDefinition] this constraint is part of defines constraints on the foreground color *above* `NoEqualForegroundAndBackground` and applies them. Thus, when the access to `container.foregroundColor` returns, this function reads the constrained value.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "constrain(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AttributedTextValueConstraint\/constrain(_:)"
}