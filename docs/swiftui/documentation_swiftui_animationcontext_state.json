{
  "abstract" : "The current state of a custom animation.",
  "codeExamples" : [
    {
      "code" : "private struct PausableState<Value: VectorArithmetic>: AnimationStateKey {\n    var paused = false\n    var pauseTime: TimeInterval = 0.0\n\n    static var defaultValue: Self { .init() }\n}",
      "language" : "swift"
    },
    {
      "code" : "extension AnimationContext {\n    fileprivate var pausableState: PausableState<Value> {\n        get { state[PausableState<Value>.self] }\n        set { state[PausableState<Value>.self] = newValue }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct PausableAnimation: CustomAnimation {\n    func animate<V>(value: V, time: TimeInterval, context: inout AnimationContext<V>) -> V? where V : VectorArithmetic {\n        let pausableState = context.pausableState\n        var pauseTime = pausableState.pauseTime\n        ...\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "1c2dc5124cc65cae9d6ac3c09d2d8a6e7dde7aa7721c69c1237bb084b08169e4",
  "crawledAt" : "2025-12-03T06:14:31Z",
  "declaration" : {
    "code" : "var state: AnimationState<Value>",
    "language" : "swift"
  },
  "id" : "0F2D62E2-6924-43BF-BA7A-03A376C80E79",
  "kind" : "property",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nAn instance of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/CustomAnimation] uses this property to read and write state values as the animation runs.\n\nAn alternative to using the `state` property in a custom animation is to create an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationStateKey] type and extend [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext] with a custom property that returns the state as a custom type. For example, the following code creates a state key named `PausableState`. It’s convenient to store state values in the key type, so the `PausableState` structure includes properties for the stored state values `paused` and `pauseTime`.\n\nTo provide access to the pausable state, the following code extends `AnimationContext` to include the `pausableState` property. This property returns an instance of the custom `PausableState` structure stored in [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext\/state], and it can also store a new `PausableState` instance in `state`.\n\nNow a custom animation can use the `pausableState` property instead of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext\/state] property as a convenient way to read and write state values as the animation runs.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/AnimationContext\/state\ncrawled: 2025-12-03T06:14:31Z\n---\n\n# state\n\n**Instance Property**\n\nThe current state of a custom animation.\n\n## Declaration\n\n```swift\nvar state: AnimationState<Value>\n```\n\n## Discussion\n\nAn instance of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/CustomAnimation] uses this property to read and write state values as the animation runs.\n\nAn alternative to using the `state` property in a custom animation is to create an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationStateKey] type and extend [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext] with a custom property that returns the state as a custom type. For example, the following code creates a state key named `PausableState`. It’s convenient to store state values in the key type, so the `PausableState` structure includes properties for the stored state values `paused` and `pauseTime`.\n\n```swift\nprivate struct PausableState<Value: VectorArithmetic>: AnimationStateKey {\n    var paused = false\n    var pauseTime: TimeInterval = 0.0\n\n    static var defaultValue: Self { .init() }\n}\n```\n\nTo provide access to the pausable state, the following code extends `AnimationContext` to include the `pausableState` property. This property returns an instance of the custom `PausableState` structure stored in [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext\/state], and it can also store a new `PausableState` instance in `state`.\n\n```swift\nextension AnimationContext {\n    fileprivate var pausableState: PausableState<Value> {\n        get { state[PausableState<Value>.self] }\n        set { state[PausableState<Value>.self] = newValue }\n    }\n}\n```\n\nNow a custom animation can use the `pausableState` property instead of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/AnimationContext\/state] property as a convenient way to read and write state values as the animation runs.\n\n```swift\nstruct PausableAnimation: CustomAnimation {\n    func animate<V>(value: V, time: TimeInterval, context: inout AnimationContext<V>) -> V? where V : VectorArithmetic {\n        let pausableState = context.pausableState\n        var pauseTime = pausableState.pauseTime\n        ...\n    }\n}\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "state",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AnimationContext\/state"
}