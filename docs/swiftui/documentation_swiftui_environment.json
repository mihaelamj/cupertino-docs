{
  "abstract" : "A property wrapper that reads a value from a view’s environment.",
  "codeExamples" : [
    {
      "code" : "@Environment(\\.colorScheme) var colorScheme: ColorScheme",
      "language" : "swift"
    },
    {
      "code" : "if colorScheme == .dark { \/\/ Checks the wrapped value.\n    DarkContent()\n} else {\n    LightContent()\n}",
      "language" : "swift"
    },
    {
      "code" : "@Observable\nclass Library {\n    var books: [Book] = [Book(), Book(), Book()]\n\n    var availableBooksCount: Int {\n        books.filter(\\.isAvailable).count\n    }\n}\n\n@main\nstruct BookReaderApp: App {\n    @State private var library = Library()\n\n    var body: some Scene {\n        WindowGroup {\n            LibraryView()\n                .environment(library)\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct LibraryView: View {\n    @Environment(Library.self) private var library\n\n    var body: some View {\n        \/\/ ...\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "@Environment(Library.self) private var library: Library?",
      "language" : "swift"
    },
    {
      "code" : "@Observable\nclass Library {\n    var books: [Book] = [Book(), Book(), Book()]\n\n    var availableBooksCount: Int {\n        books.filter(\\.isAvailable).count\n    }\n}\n\n@main\nstruct BookReaderApp: App {\n    @State private var library = Library()\n\n    var body: some Scene {\n        WindowGroup {\n            LibraryView()\n                .environment(\\.library, library)\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct LibraryView: View {\n    @Environment(\\.library) private var library\n\n    var body: some View {\n        \/\/ ...\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "DynamicProperty",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "bf4e3fba354219e604299d1406a0b24de68b71b1fdd5294c92d9e78c057a6c89",
  "crawledAt" : "2025-12-02T17:32:20Z",
  "declaration" : {
    "code" : "@frozen @propertyWrapper struct Environment<Value>",
    "language" : "swift"
  },
  "id" : "B43F22FD-BC45-4438-A395-4CFA713E4429",
  "kind" : "struct",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Overview\n\nUse the `Environment` property wrapper to read a value stored in a view’s environment. Indicate the value to read using an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues] key path in the property declaration. For example, you can create a property that reads the color scheme of the current view using the key path of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/colorScheme] property:\n\nYou can condition a view’s content on the associated value, which you read from the declared property’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Environment\/wrappedValue]. As with any property wrapper, you access the wrapped value by directly referring to the property:\n\nIf the value changes, SwiftUI updates any parts of your view that depend on the value. For example, that might happen in the above example if the user changes the Appearance settings.\n\nYou can use this property wrapper to read — but not set — an environment value. SwiftUI updates some environment values automatically based on system settings and provides reasonable defaults for others. You can override some of these, as well as set custom environment values that you define, using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:_:)] view modifier.\n\nFor the complete list of environment values SwiftUI provides, see the properties of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues] structure. For information about creating custom environment values, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Entry()] macro.\n\n### Get an observable object\n\nYou can also use `Environment` to get an observable object from a view’s environment. The observable object must conform to the [doc:\/\/com.apple.documentation\/documentation\/Observation\/Observable] protocol, and your app must set the object in the environment using the object itself or a key path.\n\nTo set the object in the environment using the object itself, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:)] modifier:\n\nTo get the observable object using its type, create a property and provide the `Environment` property wrapper the object’s type:\n\nBy default, reading an object from the environment returns a non-optional object when using the object type as the key. This default behavior assumes that a view in the current hierarchy previously stored a non-optional instance of the type using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:)] modifier. If a view attempts to retrieve an object using its type and that object isn’t in the environment, SwiftUI throws an exception.\n\nIn cases where there is no guarantee that an object is in the environment, retrieve an optional version of the object as shown in the following code. If the object isn’t available the environment, SwiftUI returns `nil` instead of throwing an exception.\n\n### Get an observable object using a key path\n\nTo set the object with a key path, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:_:)] modifier:\n\nTo get the object, create a property and specify the key path:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/Environment\ncrawled: 2025-12-02T17:32:20Z\n---\n\n# Environment\n\n**Structure**\n\nA property wrapper that reads a value from a view’s environment.\n\n## Declaration\n\n```swift\n@frozen @propertyWrapper struct Environment<Value>\n```\n\n## Overview\n\nUse the `Environment` property wrapper to read a value stored in a view’s environment. Indicate the value to read using an [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues] key path in the property declaration. For example, you can create a property that reads the color scheme of the current view using the key path of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/colorScheme] property:\n\n```swift\n@Environment(\\.colorScheme) var colorScheme: ColorScheme\n```\n\nYou can condition a view’s content on the associated value, which you read from the declared property’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Environment\/wrappedValue]. As with any property wrapper, you access the wrapped value by directly referring to the property:\n\n```swift\nif colorScheme == .dark { \/\/ Checks the wrapped value.\n    DarkContent()\n} else {\n    LightContent()\n}\n```\n\nIf the value changes, SwiftUI updates any parts of your view that depend on the value. For example, that might happen in the above example if the user changes the Appearance settings.\n\nYou can use this property wrapper to read — but not set — an environment value. SwiftUI updates some environment values automatically based on system settings and provides reasonable defaults for others. You can override some of these, as well as set custom environment values that you define, using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:_:)] view modifier.\n\nFor the complete list of environment values SwiftUI provides, see the properties of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues] structure. For information about creating custom environment values, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Entry()] macro.\n\n### Get an observable object\n\nYou can also use `Environment` to get an observable object from a view’s environment. The observable object must conform to the [doc:\/\/com.apple.documentation\/documentation\/Observation\/Observable] protocol, and your app must set the object in the environment using the object itself or a key path.\n\nTo set the object in the environment using the object itself, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:)] modifier:\n\n```swift\n@Observable\nclass Library {\n    var books: [Book] = [Book(), Book(), Book()]\n\n    var availableBooksCount: Int {\n        books.filter(\\.isAvailable).count\n    }\n}\n\n@main\nstruct BookReaderApp: App {\n    @State private var library = Library()\n\n    var body: some Scene {\n        WindowGroup {\n            LibraryView()\n                .environment(library)\n        }\n    }\n}\n```\n\nTo get the observable object using its type, create a property and provide the `Environment` property wrapper the object’s type:\n\n```swift\nstruct LibraryView: View {\n    @Environment(Library.self) private var library\n\n    var body: some View {\n        \/\/ ...\n    }\n}\n```\n\nBy default, reading an object from the environment returns a non-optional object when using the object type as the key. This default behavior assumes that a view in the current hierarchy previously stored a non-optional instance of the type using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:)] modifier. If a view attempts to retrieve an object using its type and that object isn’t in the environment, SwiftUI throws an exception.\n\nIn cases where there is no guarantee that an object is in the environment, retrieve an optional version of the object as shown in the following code. If the object isn’t available the environment, SwiftUI returns `nil` instead of throwing an exception.\n\n```swift\n@Environment(Library.self) private var library: Library?\n```\n\n### Get an observable object using a key path\n\nTo set the object with a key path, use the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/environment(_:_:)] modifier:\n\n```swift\n@Observable\nclass Library {\n    var books: [Book] = [Book(), Book(), Book()]\n\n    var availableBooksCount: Int {\n        books.filter(\\.isAvailable).count\n    }\n}\n\n@main\nstruct BookReaderApp: App {\n    @State private var library = Library()\n\n    var body: some Scene {\n        WindowGroup {\n            LibraryView()\n                .environment(\\.library, library)\n        }\n    }\n}\n```\n\nTo get the object, create a property and specify the key path:\n\n```swift\nstruct LibraryView: View {\n    @Environment(\\.library) private var library\n\n    var body: some View {\n        \/\/ ...\n    }\n}\n```\n\n## Creating an environment instance\n\n- **init(_:)**: Creates an environment property to read the specified key path.\n\n## Getting the value\n\n- **wrappedValue**: The current value of the environment property.\n\n## Accessing environment values\n\n- **EnvironmentValues**: A collection of environment values propagated through a view hierarchy.\n\n## Conforms To\n\n- DynamicProperty\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an environment property to read the specified key path.",
          "name" : "init(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Environment\/init(_:)"
        }
      ],
      "title" : "Creating an environment instance"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The current value of the environment property.",
          "name" : "wrappedValue",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Environment\/wrappedValue"
        }
      ],
      "title" : "Getting the value"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A collection of environment values propagated through a view hierarchy.",
          "name" : "EnvironmentValues",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/EnvironmentValues"
        }
      ],
      "title" : "Accessing environment values"
    }
  ],
  "source" : "appleJSON",
  "title" : "Environment",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Environment"
}