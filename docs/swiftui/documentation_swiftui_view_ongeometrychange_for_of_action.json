{
  "abstract" : "Adds an action to be performed when a value, created from a geometry proxy, changes.",
  "codeExamples" : [
    {
      "code" : "ScrollView(.horizontal) {\n    LazyHStack {\n         ForEach(videos) { video in\n             VideoView(video)\n         }\n     }\n }\n\nstruct VideoView: View {\n    var video: VideoModel\n\n    var body: some View {\n        VideoPlayer(video)\n            .onGeometryChange(for: Bool.self) { proxy in\n                let frame = proxy.frame(in: .scrollView)\n                let bounds = proxy.bounds(of: .scrollView) ?? .zero\n                let intersection = frame.intersection(\n                    CGRect(origin: .zero, size: bounds.size))\n                let visibleHeight = intersection.size.height\n                return (visibleHeight \/ frame.size.height) > 0.75\n            } action: { isVisible in\n                video.updateAutoplayingState(\n                    isVisible: isVisible)\n            }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "4c076b0ef5092329b549ebe51b60de22da71b2aba68259a4960d1543717b38fc",
  "crawledAt" : "2025-11-30T21:22:53Z",
  "declaration" : {
    "code" : "@preconcurrency nonisolated func onGeometryChange<T>(for type: T.Type, of transform: @escaping (GeometryProxy) -> T, action: @escaping (T) -> Void) -> some View where T : Equatable, T : Sendable\n",
    "language" : "swift"
  },
  "id" : "C559CB87-C01A-446D-BBE8-6705754145D1",
  "kind" : "method",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nThe geometry of a view can change frequently, especially if the view is contained within a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/ScrollView] and that scroll view is scrolling.\n\nYou should avoid updating large parts of your app whenever the scroll geometry changes. To aid in this, you provide two closures to this modifier:\n\nFor example, you can use this modifier to know how much of a view is visible on screen. In the following example, the data type you convert to is a `Bool` and the action is called whenever the `Bool` changes.\n\nFor easily responding to geometry changes of a scroll view, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onScrollGeometryChange(for:of:action:)] modifier.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onGeometryChange(for:of:action:)\ncrawled: 2025-11-30T21:22:53Z\n---\n\n# onGeometryChange(for:of:action:)\n\n**Instance Method**\n\nAdds an action to be performed when a value, created from a geometry proxy, changes.\n\n## Declaration\n\n```swift\n@preconcurrency nonisolated func onGeometryChange<T>(for type: T.Type, of transform: @escaping (GeometryProxy) -> T, action: @escaping (T) -> Void) -> some View where T : Equatable, T : Sendable\n\n```\n\n## Parameters\n\n- **type**: The type of value transformed from a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/GeometryProxy].\n- **transform**: A closure that transforms a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/GeometryProxy] to your type.\n- **action**: A closure to run when the transformed data changes.\n\n## Discussion\n\nThe geometry of a view can change frequently, especially if the view is contained within a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/ScrollView] and that scroll view is scrolling.\n\nYou should avoid updating large parts of your app whenever the scroll geometry changes. To aid in this, you provide two closures to this modifier:\n\n- transform: This converts a value of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/GeometryProxy] to your own data type.\n- action: This provides the data type you created in `of` and is called whenever the data type changes.\n\nFor example, you can use this modifier to know how much of a view is visible on screen. In the following example, the data type you convert to is a `Bool` and the action is called whenever the `Bool` changes.\n\n```swift\nScrollView(.horizontal) {\n    LazyHStack {\n         ForEach(videos) { video in\n             VideoView(video)\n         }\n     }\n }\n\nstruct VideoView: View {\n    var video: VideoModel\n\n    var body: some View {\n        VideoPlayer(video)\n            .onGeometryChange(for: Bool.self) { proxy in\n                let frame = proxy.frame(in: .scrollView)\n                let bounds = proxy.bounds(of: .scrollView) ?? .zero\n                let intersection = frame.intersection(\n                    CGRect(origin: .zero, size: bounds.size))\n                let visibleHeight = intersection.size.height\n                return (visibleHeight \/ frame.size.height) > 0.75\n            } action: { isVisible in\n                video.updateAutoplayingState(\n                    isVisible: isVisible)\n            }\n    }\n}\n```\n\nFor easily responding to geometry changes of a scroll view, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onScrollGeometryChange(for:of:action:)] modifier.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "onGeometryChange(for:of:action:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onGeometryChange(for:of:action:)"
}