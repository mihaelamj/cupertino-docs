{
  "abstract" : "Sets the direction of a selection or cursor relative to a text character.",
  "codeExamples" : [
    {
      "code" : "struct SuggestionTextEditor: View {\n    @State var text: String = \"\"\n    @State var selection: TextSelection? = nil\n\n    var body: some View {\n        VStack {\n            TextEditor(text: $text, selection: $selection)\n            \/\/ A helper view that offers live suggestions based on selection.\n            SuggestionsView(\n                substrings: getSubstrings(text: text, indices: selection?.indices))\n        }\n        .textSelectionAffinity(.upstream)\n    }\n\n    private func getSubstrings(\n        text: String, indices: TextSelection.Indices?\n    ) -> [Substring] {\n        \/\/ Resolve substrings representing the current selection...\n    }\n}\n\nstruct SuggestionsView: View { ... }",
      "language" : "swift"
    }
  ],
  "contentHash" : "6928b2de605102978ef9ef5405f31ac5ade03aa0e13ba7fb47753430dd26a5f2",
  "crawledAt" : "2025-11-30T21:11:13Z",
  "declaration" : {
    "code" : "nonisolated func textSelectionAffinity(_ affinity: TextSelectionAffinity) -> some View\n",
    "language" : "swift"
  },
  "id" : "69A9B48E-E935-44BB-81AD-4C317ED88CA1",
  "kind" : "method",
  "module" : "SwiftUI",
  "overview" : "## Return Value\n\nA view that uses the specified selection affinity strategy.\n\n## Discussion\n\nUse this modifier when you need to handle line breaks in a specific way, alter cursor movement or deal with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).\n\nSelection affinity also determines whether, for example, the insertion point appears after the last character on a line or before the first character on the following line in cases where text wraps across line boundaries.\n\nGiven the scenario `hello|مرحبا`, where `|` represents the cursor & `مرحبا` represents “hello” in Arabic, the ambiguity arises because:\n\nThis modifier helps resolve this ambiguity by determining the direction or association of the cursor relative to the surrounding text.\n\nThe following example shows how you would specify a specific selection affinity on the given hierarchy:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/textSelectionAffinity(_:)\ncrawled: 2025-11-30T21:11:13Z\n---\n\n# textSelectionAffinity(_:)\n\n**Instance Method**\n\nSets the direction of a selection or cursor relative to a text character.\n\n## Declaration\n\n```swift\nnonisolated func textSelectionAffinity(_ affinity: TextSelectionAffinity) -> some View\n\n```\n\n## Parameters\n\n- **affinity**: The text selection affinity strategy to apply.\n\n## Return Value\n\nA view that uses the specified selection affinity strategy.\n\n## Discussion\n\nUse this modifier when you need to handle line breaks in a specific way, alter cursor movement or deal with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).\n\nSelection affinity also determines whether, for example, the insertion point appears after the last character on a line or before the first character on the following line in cases where text wraps across line boundaries.\n\nGiven the scenario `hello|مرحبا`, where `|` represents the cursor & `مرحبا` represents “hello” in Arabic, the ambiguity arises because:\n\n- If the cursor is associated with the end of the English word, it would be as if you’re continuing to type in English (LTR).\n- If the cursor is associated with the beginning of the Arabic word, it would also be as if you’re continuing to type in Arabic (RTL).\n\nThis modifier helps resolve this ambiguity by determining the direction or association of the cursor relative to the surrounding text.\n\nThe following example shows how you would specify a specific selection affinity on the given hierarchy:\n\n```swift\nstruct SuggestionTextEditor: View {\n    @State var text: String = \"\"\n    @State var selection: TextSelection? = nil\n\n    var body: some View {\n        VStack {\n            TextEditor(text: $text, selection: $selection)\n            \/\/ A helper view that offers live suggestions based on selection.\n            SuggestionsView(\n                substrings: getSubstrings(text: text, indices: selection?.indices))\n        }\n        .textSelectionAffinity(.upstream)\n    }\n\n    private func getSubstrings(\n        text: String, indices: TextSelection.Indices?\n    ) -> [Substring] {\n        \/\/ Resolve substrings representing the current selection...\n    }\n}\n\nstruct SuggestionsView: View { ... }\n```\n\n## Selecting text\n\n- **textSelection(_:)**: Controls whether people can select text within this view.\n- **TextSelectability**: A type that describes the ability to select text.\n- **TextSelection**: Represents a selection of text.\n- **textSelectionAffinity**: A representation of the direction or association of a selection or cursor relative to a text character. This concept becomes much more prominent when dealing with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).\n- **TextSelectionAffinity**: A representation of the direction or association of a selection or cursor relative to a text character. This concept becomes much more prominent when dealing with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).\n- **AttributedTextSelection**: Represents a selection of attributed text.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Controls whether people can select text within this view.",
          "name" : "textSelection(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/textSelection(_:)"
        },
        {
          "description" : "A type that describes the ability to select text.",
          "name" : "TextSelectability",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/TextSelectability"
        },
        {
          "description" : "Represents a selection of text.",
          "name" : "TextSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/TextSelection"
        },
        {
          "description" : "A representation of the direction or association of a selection or cursor relative to a text character. This concept becomes much more prominent when dealing with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).",
          "name" : "textSelectionAffinity",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/EnvironmentValues\/textSelectionAffinity"
        },
        {
          "description" : "A representation of the direction or association of a selection or cursor relative to a text character. This concept becomes much more prominent when dealing with bidirectional text (text that contains both LTR and RTL scripts, like English and Arabic combined).",
          "name" : "TextSelectionAffinity",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/TextSelectionAffinity"
        },
        {
          "description" : "Represents a selection of attributed text.",
          "name" : "AttributedTextSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/AttributedTextSelection"
        }
      ],
      "title" : "Selecting text"
    }
  ],
  "source" : "appleJSON",
  "title" : "textSelectionAffinity(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/textSelectionAffinity(_:)"
}