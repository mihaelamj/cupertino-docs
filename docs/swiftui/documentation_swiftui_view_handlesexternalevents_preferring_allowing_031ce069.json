{
  "abstract" : "Specifies the external events that the view’s scene handles if the scene is already open.",
  "codeExamples" : [
    {
      "code" : "private struct ContactList: View {\n    var store: ContactStore\n    @State private var selectedContact: UUID?\n\n    var body: some View {\n        NavigationSplitView {\n            List(store.contacts, selection: $selectedContact) { contact in\n                NavigationLink(contact.name) {\n                    Text(contact.name)\n                }\n            }\n        } detail: {\n            Text(\"Select a contact\")\n        }\n        .handlesExternalEvents(\n            preferring: selectedContact == nil\n                ? []\n                : [selectedContact!.uuidString],\n            allowing: selectedContact == nil\n                ? [\"*\"]\n                : []\n        )\n        .onContinueUserActivity(Contact.userActivityType) { activity in\n            if let identifier = activity.targetContentIdentifier {\n                selectedContact = UUID(uuidString: identifier)\n            }\n        }\n        .userActivity(\n            Contact.userActivityType,\n            isActive: selectedContact != nil\n        ) { activity in\n            activity.title = \"Contact\"\n            activity.targetContentIdentifier = selectedContact?.uuidString\n            activity.isEligibleForHandoff = true\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "cd853fa59211bf69cfe4df0f66d2500cc983f3e8593a5cf2592ef32854bb0df2",
  "crawledAt" : "2025-12-02T17:24:50Z",
  "declaration" : {
    "code" : "nonisolated func handlesExternalEvents(preferring: Set<String>, allowing: Set<String>) -> some View\n",
    "language" : "swift"
  },
  "id" : "8C52B769-0790-44C5-AF38-82472627DB76",
  "kind" : "method",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Return Value\n\nA view whose enclosing scene — if already open — handles incoming external events.\n\n## Discussion\n\nApply this modifier to a view to indicate whether an open scene that contains the view handles specified user activities or URLs that your app receives. Specify two sets of string identifiers to distinguish between the kinds of events that the scene *prefers* to handle and those that it *can* handle. You can dynamically update the identifiers in each set to reflect changing app state.\n\nWhen your app receives an event on a platform that supports multiple simultaneous scenes, SwiftUI sends the event to the first open scene it finds that prefers to handle the event. Otherwise, it sends the event to the first open scene it finds that can handle the event. If it finds neither — including when you don’t add this view modifier — SwiftUI creates a new scene for the event.\n\nOn platforms that support only a single scene, SwiftUI ignores this modifier and sends all external events to the one open scene.\n\n### Matching an event\n\nTo find an open scene that handles a particular external event, SwiftUI compares a property of the event against the strings that you specify in the `preferring` and `allowing` sets. SwiftUI examines the following event properties to perform the comparison:\n\nFor both parameter sets, an empty set of strings never matches. Similarly, empty strings never match. Conversely, as a special case, the string that contains only an asterisk (`*`) matches anything. The modifier performs string comparisons that are case and diacritic insensitive.\n\nIf you specify multiple instances of this view modifier inside a single scene, the scene uses the union of the respective `preferring` and `allowing` sets from all the modifiers.\n\n### Handling a user activity in an open scene\n\nAs an example, the following view — which participates in Handoff through the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/userActivity(_:isActive:_:)] and [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onContinueUserActivity(_:perform:)] methods — updates its `preferring` set according to the current selection. The enclosing scene prefers to handle an event for a contact that’s already selected, but doesn’t volunteer itself as a preferred scene when no contact is selected:\n\nThe above code also updates the `allowing` set to indicate that the scene can handle any incoming event when there’s no current selection, but that it can’t handle any event if the view already displays a contact. The `preferring` set takes precedence in the special case where the incoming event exactly matches the currently selected contact.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/handlesExternalEvents(preferring:allowing:)\ncrawled: 2025-12-02T17:24:50Z\n---\n\n# handlesExternalEvents(preferring:allowing:)\n\n**Instance Method**\n\nSpecifies the external events that the view’s scene handles if the scene is already open.\n\n## Declaration\n\n```swift\nnonisolated func handlesExternalEvents(preferring: Set<String>, allowing: Set<String>) -> some View\n\n```\n\n## Parameters\n\n- **preferring**: A set of strings that SwiftUI compares against the incoming user activity or URL to see if the view’s scene prefers to handle the external event.\n- **allowing**: A set of strings that SwiftUI compares against the incoming user activity or URL to see if the view’s scene can handle the exernal event.\n\n## Return Value\n\nA view whose enclosing scene — if already open — handles incoming external events.\n\n## Discussion\n\nApply this modifier to a view to indicate whether an open scene that contains the view handles specified user activities or URLs that your app receives. Specify two sets of string identifiers to distinguish between the kinds of events that the scene *prefers* to handle and those that it *can* handle. You can dynamically update the identifiers in each set to reflect changing app state.\n\nWhen your app receives an event on a platform that supports multiple simultaneous scenes, SwiftUI sends the event to the first open scene it finds that prefers to handle the event. Otherwise, it sends the event to the first open scene it finds that can handle the event. If it finds neither — including when you don’t add this view modifier — SwiftUI creates a new scene for the event.\n\n\n\nOn platforms that support only a single scene, SwiftUI ignores this modifier and sends all external events to the one open scene.\n\n### Matching an event\n\nTo find an open scene that handles a particular external event, SwiftUI compares a property of the event against the strings that you specify in the `preferring` and `allowing` sets. SwiftUI examines the following event properties to perform the comparison:\n\n- For an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity], like when your app handles Handoff, SwiftUI uses the activity’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/targetContentIdentifier] property, or if that’s `nil`, its [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSUserActivity\/webpageURL] property rendered as an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL\/absoluteString].\n- For a [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL], like when another process opens a URL that your app handles, SwiftUI uses the URL’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URL\/absoluteString].\n\nFor both parameter sets, an empty set of strings never matches. Similarly, empty strings never match. Conversely, as a special case, the string that contains only an asterisk (`*`) matches anything. The modifier performs string comparisons that are case and diacritic insensitive.\n\nIf you specify multiple instances of this view modifier inside a single scene, the scene uses the union of the respective `preferring` and `allowing` sets from all the modifiers.\n\n### Handling a user activity in an open scene\n\nAs an example, the following view — which participates in Handoff through the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/userActivity(_:isActive:_:)] and [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onContinueUserActivity(_:perform:)] methods — updates its `preferring` set according to the current selection. The enclosing scene prefers to handle an event for a contact that’s already selected, but doesn’t volunteer itself as a preferred scene when no contact is selected:\n\n```swift\nprivate struct ContactList: View {\n    var store: ContactStore\n    @State private var selectedContact: UUID?\n\n    var body: some View {\n        NavigationSplitView {\n            List(store.contacts, selection: $selectedContact) { contact in\n                NavigationLink(contact.name) {\n                    Text(contact.name)\n                }\n            }\n        } detail: {\n            Text(\"Select a contact\")\n        }\n        .handlesExternalEvents(\n            preferring: selectedContact == nil\n                ? []\n                : [selectedContact!.uuidString],\n            allowing: selectedContact == nil\n                ? [\"*\"]\n                : []\n        )\n        .onContinueUserActivity(Contact.userActivityType) { activity in\n            if let identifier = activity.targetContentIdentifier {\n                selectedContact = UUID(uuidString: identifier)\n            }\n        }\n        .userActivity(\n            Contact.userActivityType,\n            isActive: selectedContact != nil\n        ) { activity in\n            activity.title = \"Contact\"\n            activity.targetContentIdentifier = selectedContact?.uuidString\n            activity.isEligibleForHandoff = true\n        }\n    }\n}\n```\n\nThe above code also updates the `allowing` set to indicate that the scene can handle any incoming event when there’s no current selection, but that it can’t handle any event if the view already displays a contact. The `preferring` set takes precedence in the special case where the incoming event exactly matches the currently selected contact.\n\n## Handling external events\n\n- **handlesExternalEvents(matching:)**: Specifies the external events for which SwiftUI opens a new instance of the modified scene.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specifies the external events for which SwiftUI opens a new instance of the modified scene.",
          "name" : "handlesExternalEvents(matching:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Scene\/handlesExternalEvents(matching:)"
        }
      ],
      "title" : "Handling external events"
    }
  ],
  "source" : "appleJSON",
  "title" : "handlesExternalEvents(preferring:allowing:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/handlesExternalEvents(preferring:allowing:)"
}