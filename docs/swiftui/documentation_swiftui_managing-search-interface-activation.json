{
  "abstract" : "Programmatically detect and dismiss a search field.",
  "codeExamples" : [
    {
      "code" : "struct SheetView: View {\n    @State private var isPresented = true\n    @State private var text = \"\"\n  \n    var body: some View {\n        NavigationStack {\n            SheetContent()\n                .searchable(text: $text, isPresented: $isPresented)\n        }\n    }\n}   ",
      "language" : "swift"
    },
    {
      "code" : "struct SearchingExample: View {\n    @State private var searchText = \"\"\n\n    var body: some View {\n        NavigationStack {\n            SearchedView()\n                .searchable(text: $searchText)\n        }\n    }\n}\n\nstruct SearchedView: View {\n    @Environment(\\.isSearching) private var isSearching\n\n    var body: some View {\n        Text(isSearching ? \"Searching\" : \"Not searching\")\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ContentView: View {\n    @State private var searchText = \"\"\n\n    var body: some View {\n        NavigationStack {\n            SearchedView(searchText: searchText)\n                .searchable(text: $searchText)\n        }\n    }\n}\n\nprivate struct SearchedView: View {\n    var searchText: String\n\n    let items = [\"a\", \"b\", \"c\"]\n    var filteredItems: [String] { items.filter { $0 == searchText.lowercased() } }\n\n    @State private var isPresented = false\n    @Environment(\\.dismissSearch) private var dismissSearch\n\n    var body: some View {\n        if let item = filteredItems.first {\n            Button(\"Details about \\(item)\") {\n                isPresented = true\n            }\n            .sheet(isPresented: $isPresented) {\n                NavigationStack {\n                    DetailView(item: item, dismissSearch: dismissSearch)\n                }\n            }\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "private struct DetailView: View {\n    var item: String\n    var dismissSearch: DismissSearchAction\n\n    @Environment(\\.dismiss) private var dismiss\n\n    var body: some View {\n        Text(\"Information about \\(item).\")\n            .toolbar {\n                Button(\"Add\") {\n                    \/\/ Store the item here...\n\n                    dismiss()\n                    dismissSearch()\n                }\n            }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "SearchedView()\n    .searchable(text: $searchText)\n    .onSubmit(of: .search) {\n        submitCurrentSearchQuery()\n    }",
      "language" : "swift"
    }
  ],
  "contentHash" : "a358ec4ca180aaea962a57ec5a7db73c51a329a302f84b5b1d1f7924ddeb1ce0",
  "crawledAt" : "2025-12-02T17:13:08Z",
  "id" : "090F2F44-8A67-40BA-8BCD-C550DEDA513E",
  "kind" : "article",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Overview\n\nPeople activate a search field in your app by tapping or clicking it, after which they can enter search terms. In many cases, your app only needs to react to the corresponding changes in the search text values, which the interface updates through the binding that you provide, as described in [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Performing-a-search-operation].\n\nHowever, SwiftUI also provides controls that enable you to programmatically manage the search interface. In particular, you can:\n\n### Control activation through a binding\n\nYou can control search interface activation programmatically by providing the searchable modifier’s `isPresented` parameter with a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Binding] to a Boolean value. For example, to present a sheet that appears with the search interface already active, create a binding that starts as true:\n\nOn iOS and macOS, SwiftUI focuses the search field when presenting search and unfocuses the search field when dismissing search. The search field can also lose focus while the search interface remains presented. For example, if your search interface contains a list of text fields, someone might move focus to one of the text fields without dismissing the interface.\n\n### Detect search activation\n\nIf you need to know when the search interface is active, you can query the environment’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/isSearching] property using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Environment] property wrapper. The following example shows a view that updates the text it displays based on the state of the property:\n\nWhen someone first taps or clicks in a search field, the `isSearching` property becomes `true`. When they cancel the search operation, the property becomes `false`. It also becomes `false` if you programmatically dismiss the interface, as the next section describes.\n\nBe sure to read the property from inside a view that’s wrapped, either directly or indirectly, by one of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/searchable(text:placement:prompt:)] view modifiers, like `SearchedView` in the above example. You won’t detect any change in the property value if you read it from outside of that context, like if you put it in the `SearchingExample` view.\n\n### Dismiss the search interface\n\nYou can programmatically deactivate the interface using the environment’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismissSearch] action. For example, consider a view with a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Button] that presents more information about the first matching item from a collection:\n\nThe button becomes visible only after someone enters search text that produces a match. The button’s action shows a sheet that provides more information about the item, including an Add button for adding the item to a stored list of items:\n\nPeople can dismiss the sheet by dragging it down, effectively canceling the operation, leaving the in-progress search interaction intact. Alternatively, They can tap the Add button to store the item. Because people are likely done with both the detail view and the search interaction at this point, the button’s closure uses the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismiss] property to dismiss the sheet, and the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismissSearch] property to reset the search field.\n\nAs with the `isSearching` property, be sure to only read `dismissSearch` from within the hierarchy of a searchable view modifier. Calling the action has no effect if you read it from the environment outside of that context. The above example reads the action from `SearchedView`, and passes that into the sheet, because the sheet has its own environment. The action also has no effect if the search interface isn’t active.\n\n### React to search submission\n\nTo specify an action that SwiftUI invokes when someone submits the search query (by pressing the Return key), add the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onSubmit(of:_:)] modifier:\n\nDepending your app’s structure, you can use search submission in different ways. For example, you can take that opportunity to look for substrings among the search query string that you can convert into tokens. Alternatively, for a search operation that’s very slow, perhaps because it requires a network access, you can wait for a submission event before performing a search.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/Managing-search-interface-activation\ncrawled: 2025-12-02T17:13:08Z\n---\n\n# Managing search interface activation\n\n**Article**\n\nProgrammatically detect and dismiss a search field.\n\n## Overview\n\nPeople activate a search field in your app by tapping or clicking it, after which they can enter search terms. In many cases, your app only needs to react to the corresponding changes in the search text values, which the interface updates through the binding that you provide, as described in [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Performing-a-search-operation].\n\nHowever, SwiftUI also provides controls that enable you to programmatically manage the search interface. In particular, you can:\n\n- Activate or deactivate the interface using a binding that you provide to the searchable modifier.\n- Detect whether the interface is active by reading an environment value.\n- Dismiss the interface by calling an action stored in the environment.\n- Wait for a search submission event before starting to search.\n\n### Control activation through a binding\n\nYou can control search interface activation programmatically by providing the searchable modifier’s `isPresented` parameter with a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Binding] to a Boolean value. For example, to present a sheet that appears with the search interface already active, create a binding that starts as true:\n\n```swift\nstruct SheetView: View {\n    @State private var isPresented = true\n    @State private var text = \"\"\n  \n    var body: some View {\n        NavigationStack {\n            SheetContent()\n                .searchable(text: $text, isPresented: $isPresented)\n        }\n    }\n}   \n```\n\nOn iOS and macOS, SwiftUI focuses the search field when presenting search and unfocuses the search field when dismissing search. The search field can also lose focus while the search interface remains presented. For example, if your search interface contains a list of text fields, someone might move focus to one of the text fields without dismissing the interface.\n\n### Detect search activation\n\nIf you need to know when the search interface is active, you can query the environment’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/isSearching] property using the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Environment] property wrapper. The following example shows a view that updates the text it displays based on the state of the property:\n\n```swift\nstruct SearchingExample: View {\n    @State private var searchText = \"\"\n\n    var body: some View {\n        NavigationStack {\n            SearchedView()\n                .searchable(text: $searchText)\n        }\n    }\n}\n\nstruct SearchedView: View {\n    @Environment(\\.isSearching) private var isSearching\n\n    var body: some View {\n        Text(isSearching ? \"Searching\" : \"Not searching\")\n    }\n}\n```\n\nWhen someone first taps or clicks in a search field, the `isSearching` property becomes `true`. When they cancel the search operation, the property becomes `false`. It also becomes `false` if you programmatically dismiss the interface, as the next section describes.\n\nBe sure to read the property from inside a view that’s wrapped, either directly or indirectly, by one of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/searchable(text:placement:prompt:)] view modifiers, like `SearchedView` in the above example. You won’t detect any change in the property value if you read it from outside of that context, like if you put it in the `SearchingExample` view.\n\n### Dismiss the search interface\n\nYou can programmatically deactivate the interface using the environment’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismissSearch] action. For example, consider a view with a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Button] that presents more information about the first matching item from a collection:\n\n```swift\nstruct ContentView: View {\n    @State private var searchText = \"\"\n\n    var body: some View {\n        NavigationStack {\n            SearchedView(searchText: searchText)\n                .searchable(text: $searchText)\n        }\n    }\n}\n\nprivate struct SearchedView: View {\n    var searchText: String\n\n    let items = [\"a\", \"b\", \"c\"]\n    var filteredItems: [String] { items.filter { $0 == searchText.lowercased() } }\n\n    @State private var isPresented = false\n    @Environment(\\.dismissSearch) private var dismissSearch\n\n    var body: some View {\n        if let item = filteredItems.first {\n            Button(\"Details about \\(item)\") {\n                isPresented = true\n            }\n            .sheet(isPresented: $isPresented) {\n                NavigationStack {\n                    DetailView(item: item, dismissSearch: dismissSearch)\n                }\n            }\n        }\n    }\n}\n```\n\nThe button becomes visible only after someone enters search text that produces a match. The button’s action shows a sheet that provides more information about the item, including an Add button for adding the item to a stored list of items:\n\n```swift\nprivate struct DetailView: View {\n    var item: String\n    var dismissSearch: DismissSearchAction\n\n    @Environment(\\.dismiss) private var dismiss\n\n    var body: some View {\n        Text(\"Information about \\(item).\")\n            .toolbar {\n                Button(\"Add\") {\n                    \/\/ Store the item here...\n\n                    dismiss()\n                    dismissSearch()\n                }\n            }\n    }\n}\n```\n\nPeople can dismiss the sheet by dragging it down, effectively canceling the operation, leaving the in-progress search interaction intact. Alternatively, They can tap the Add button to store the item. Because people are likely done with both the detail view and the search interaction at this point, the button’s closure uses the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismiss] property to dismiss the sheet, and the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/EnvironmentValues\/dismissSearch] property to reset the search field.\n\nAs with the `isSearching` property, be sure to only read `dismissSearch` from within the hierarchy of a searchable view modifier. Calling the action has no effect if you read it from the environment outside of that context. The above example reads the action from `SearchedView`, and passes that into the sheet, because the sheet has its own environment. The action also has no effect if the search interface isn’t active.\n\n### React to search submission\n\nTo specify an action that SwiftUI invokes when someone submits the search query (by pressing the Return key), add the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onSubmit(of:_:)] modifier:\n\n```swift\nSearchedView()\n    .searchable(text: $searchText)\n    .onSubmit(of: .search) {\n        submitCurrentSearchQuery()\n    }\n```\n\nDepending your app’s structure, you can use search submission in different ways. For example, you can take that opportunity to look for substrings among the search query string that you can convert into tokens. Alternatively, for a search operation that’s very slow, perhaps because it requires a network access, you can wait for a submission event before performing a search.\n\n## Detecting, activating, and dismissing search\n\n- **isSearching**: A Boolean value that indicates when the user is searching.\n- **dismissSearch**: An action that ends the current search interaction.\n- **DismissSearchAction**: An action that can end a search interaction.\n- **searchable(text:isPresented:placement:prompt:)**: Marks this view as searchable with programmatic presentation of the search field.\n- **searchable(text:tokens:isPresented:placement:prompt:token:)**: Marks this view as searchable with text and tokens, as well as programmatic presentation.\n- **searchable(text:editableTokens:isPresented:placement:prompt:token:)**: Marks this view as searchable, which configures the display of a search field.\n- **searchable(text:tokens:suggestedTokens:isPresented:placement:prompt:token:)**: Marks this view as searchable with text, tokens, and suggestions, as well as programmatic presentation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates when the user is searching.",
          "name" : "isSearching",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/EnvironmentValues\/isSearching"
        },
        {
          "description" : "An action that ends the current search interaction.",
          "name" : "dismissSearch",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/EnvironmentValues\/dismissSearch"
        },
        {
          "description" : "An action that can end a search interaction.",
          "name" : "DismissSearchAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/DismissSearchAction"
        },
        {
          "description" : "Marks this view as searchable with programmatic presentation of the search field.",
          "name" : "searchable(text:isPresented:placement:prompt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(text:isPresented:placement:prompt:)"
        },
        {
          "description" : "Marks this view as searchable with text and tokens, as well as programmatic presentation.",
          "name" : "searchable(text:tokens:isPresented:placement:prompt:token:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(text:tokens:isPresented:placement:prompt:token:)"
        },
        {
          "description" : "Marks this view as searchable, which configures the display of a search field.",
          "name" : "searchable(text:editableTokens:isPresented:placement:prompt:token:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(text:editableTokens:isPresented:placement:prompt:token:)"
        },
        {
          "description" : "Marks this view as searchable with text, tokens, and suggestions, as well as programmatic presentation.",
          "name" : "searchable(text:tokens:suggestedTokens:isPresented:placement:prompt:token:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(text:tokens:suggestedTokens:isPresented:placement:prompt:token:)"
        }
      ],
      "title" : "Detecting, activating, and dismissing search"
    }
  ],
  "source" : "appleJSON",
  "title" : "Managing search interface activation",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/Managing-search-interface-activation"
}