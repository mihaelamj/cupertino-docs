{
  "abstract" : "A key for accessing a layout value of a layout container’s subviews.",
  "codeExamples" : [
    {
      "code" : "private struct Flexibility: LayoutValueKey {\n    static let defaultValue: CGFloat? = nil\n}",
      "language" : "swift"
    },
    {
      "code" : "extension View {\n    func layoutFlexibility(_ value: CGFloat?) -> some View {\n        layoutValue(key: Flexibility.self, value: value)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "BasicVStack {\n    Text(\"One View\")\n    Text(\"Another View\")\n        .layoutFlexibility(3)\n}",
      "language" : "swift"
    },
    {
      "code" : "extension BasicVStack {\n    func sizeThatFits(\n        proposal: ProposedViewSize,\n        subviews: Subviews,\n        cache: inout Void\n    ) -> CGSize {\n\n        \/\/ Map the flexibility property of each subview into an array.\n        let flexibilities = subviews.map { subview in\n            subview[Flexibility.self]\n        }\n\n        \/\/ Calculate and return the size of the layout container.\n        \/\/ ...\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "3e7383a4eb37685e4466a66118cd1e68f25528d5f971d2e57af87842f7e22a66",
  "crawledAt" : "2025-12-02T17:39:23Z",
  "declaration" : {
    "code" : "protocol LayoutValueKey",
    "language" : "swift"
  },
  "id" : "662050A1-F2A2-43DF-895F-CB2625E29987",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Overview\n\nIf you create a custom layout by defining a type that conforms to the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Layout] protocol, you can also create custom layout values that you set on individual views, and that your container view can access to guide its layout behavior. Your custom values resemble the built-in layout values that you set with view modifiers like [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/layoutPriority(_:)] and [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/zIndex(_:)], but have a purpose that you define.\n\nTo create a custom layout value, define a type that conforms to the `LayoutValueKey` protocol and implement the one required property that returns the default value of the property. For example, you can create a property that defines an amount of flexibility for a view, defined as an optional floating point number with a default value of `nil`:\n\nThe Swift compiler infers this particular key’s associated type as an optional [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CGFloat-swift.struct] from this definition.\n\n### Set a value on a view\n\nSet the value on a view by adding the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/layoutValue(key:value:)] view modifier to the view. To make your custom value easier to work with, you can do this in a convenience modifier in an extension of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View] protocol:\n\nUse your modifier to set the value on any views that need a nondefault value:\n\nAny view that you don’t explicitly set a value for uses the default value, as with the first [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Text] view, above.\n\n### Retrieve a value during layout\n\nAccess a custom layout value using the key as an index on subview’s proxy (an instance of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/LayoutSubview]) and use the value to make decisions about sizing, placement, or other layout operations. For example, you might read the flexibility value in your layout view’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/LayoutSubview\/sizeThatFits(_:)] method, and adjust your size calculations accordingly:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/LayoutValueKey\ncrawled: 2025-12-02T17:39:23Z\n---\n\n# LayoutValueKey\n\n**Protocol**\n\nA key for accessing a layout value of a layout container’s subviews.\n\n## Declaration\n\n```swift\nprotocol LayoutValueKey\n```\n\n## Overview\n\nIf you create a custom layout by defining a type that conforms to the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Layout] protocol, you can also create custom layout values that you set on individual views, and that your container view can access to guide its layout behavior. Your custom values resemble the built-in layout values that you set with view modifiers like [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/layoutPriority(_:)] and [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/zIndex(_:)], but have a purpose that you define.\n\nTo create a custom layout value, define a type that conforms to the `LayoutValueKey` protocol and implement the one required property that returns the default value of the property. For example, you can create a property that defines an amount of flexibility for a view, defined as an optional floating point number with a default value of `nil`:\n\n```swift\nprivate struct Flexibility: LayoutValueKey {\n    static let defaultValue: CGFloat? = nil\n}\n```\n\nThe Swift compiler infers this particular key’s associated type as an optional [doc:\/\/com.apple.documentation\/documentation\/CoreFoundation\/CGFloat-swift.struct] from this definition.\n\n### Set a value on a view\n\nSet the value on a view by adding the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/layoutValue(key:value:)] view modifier to the view. To make your custom value easier to work with, you can do this in a convenience modifier in an extension of the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View] protocol:\n\n```swift\nextension View {\n    func layoutFlexibility(_ value: CGFloat?) -> some View {\n        layoutValue(key: Flexibility.self, value: value)\n    }\n}\n```\n\nUse your modifier to set the value on any views that need a nondefault value:\n\n```swift\nBasicVStack {\n    Text(\"One View\")\n    Text(\"Another View\")\n        .layoutFlexibility(3)\n}\n```\n\nAny view that you don’t explicitly set a value for uses the default value, as with the first [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/Text] view, above.\n\n### Retrieve a value during layout\n\nAccess a custom layout value using the key as an index on subview’s proxy (an instance of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/LayoutSubview]) and use the value to make decisions about sizing, placement, or other layout operations. For example, you might read the flexibility value in your layout view’s [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/LayoutSubview\/sizeThatFits(_:)] method, and adjust your size calculations accordingly:\n\n```swift\nextension BasicVStack {\n    func sizeThatFits(\n        proposal: ProposedViewSize,\n        subviews: Subviews,\n        cache: inout Void\n    ) -> CGSize {\n\n        \/\/ Map the flexibility property of each subview into an array.\n        let flexibilities = subviews.map { subview in\n            subview[Flexibility.self]\n        }\n\n        \/\/ Calculate and return the size of the layout container.\n        \/\/ ...\n    }\n}\n```\n\n## Providing a default value\n\n- **defaultValue**: The default value of the key.\n- **Value**: The type of the key’s value.\n\n## Associating values with views in a custom layout\n\n- **layoutValue(key:value:)**: Associates a value with a custom layout property.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The default value of the key.",
          "name" : "defaultValue",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/LayoutValueKey\/defaultValue"
        },
        {
          "description" : "The type of the key’s value.",
          "name" : "Value",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/LayoutValueKey\/Value"
        }
      ],
      "title" : "Providing a default value"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Associates a value with a custom layout property.",
          "name" : "layoutValue(key:value:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/layoutValue(key:value:)"
        }
      ],
      "title" : "Associating values with views in a custom layout"
    }
  ],
  "source" : "appleJSON",
  "title" : "LayoutValueKey",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/LayoutValueKey"
}