{
  "abstract" : "Adds an action to be performed when a value, created from a scroll geometry, changes.",
  "codeExamples" : [
    {
      "code" : "@Binding var isBeyondZero: Bool\n\nScrollView {\n    \/\/ ...\n}\n.onScrollGeometryChange(for: Bool.self) { geometry in\n    geometry.contentOffset.y < geometry.contentInsets.top\n} action: { wasBeyondZero, isBeyondZero in\n    self.isBeyondZero = isBeyondZero\n}",
      "language" : "swift"
    },
    {
      "code" : "VStack {\n    ScrollView(.vertical) { ... }\n    ScrollView(.horizontal) { ... }\n}\n.onScrollGeometryChange(for: Bool.self) { geometry in\n     ...\n} action: { oldValue, newValue in\n    ...\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "50a82f0cfff1c120d5d450bc1b7281f25be55759db99f9b3d4180f4141d20231",
  "crawledAt" : "2025-12-02T17:40:30Z",
  "declaration" : {
    "code" : "nonisolated func onScrollGeometryChange<T>(for type: T.Type, of transform: @escaping (ScrollGeometry) -> T, action: @escaping (T, T) -> Void) -> some View where T : Equatable\n",
    "language" : "swift"
  },
  "id" : "0AC8DA65-D28A-4A39-9BF5-BF109B5FA530",
  "kind" : "method",
  "language" : "swift",
  "module" : "SwiftUI",
  "overview" : "## Discussion\n\nThe geometry of a scroll view changes frequently while scrolling. You should avoid updating large parts of your app whenever the scroll geometry changes. To aid in this, you provide two closures to this modifier:\n\nFor example, you can use this modifier to know when the user scrolls a scroll view beyond the top of its content. In the following example, the data type you convert to is a `Bool` and the action is called whenever the `Bool` changes.\n\nIf multiple scroll views are found within the view hierarchy, only the first one will invoke the closure you provide and a runtime issue will be logged. For example, in the following view, only the vertical scroll view will have its geometry changes invoke the provided closure.\n\nFor responding to non-scroll geometry changes, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onGeometryChange(for:of:action:)] modifier.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onScrollGeometryChange(for:of:action:)\ncrawled: 2025-12-02T17:40:30Z\n---\n\n# onScrollGeometryChange(for:of:action:)\n\n**Instance Method**\n\nAdds an action to be performed when a value, created from a scroll geometry, changes.\n\n## Declaration\n\n```swift\nnonisolated func onScrollGeometryChange<T>(for type: T.Type, of transform: @escaping (ScrollGeometry) -> T, action: @escaping (T, T) -> Void) -> some View where T : Equatable\n\n```\n\n## Parameters\n\n- **type**: The type of value transformed from a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/ScrollGeometry].\n- **transform**: A closure that transforms a [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/ScrollGeometry] to your type.\n- **action**: A closure to run when the transformed data changes.\n\n## Discussion\n\nThe geometry of a scroll view changes frequently while scrolling. You should avoid updating large parts of your app whenever the scroll geometry changes. To aid in this, you provide two closures to this modifier:\n\n- transform: This converts a value of [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/ScrollGeometry] to a your own data type.\n- action: This provides the data type you created in `of` and is called whenever the data type changes.\n\nFor example, you can use this modifier to know when the user scrolls a scroll view beyond the top of its content. In the following example, the data type you convert to is a `Bool` and the action is called whenever the `Bool` changes.\n\n```swift\n@Binding var isBeyondZero: Bool\n\nScrollView {\n    \/\/ ...\n}\n.onScrollGeometryChange(for: Bool.self) { geometry in\n    geometry.contentOffset.y < geometry.contentInsets.top\n} action: { wasBeyondZero, isBeyondZero in\n    self.isBeyondZero = isBeyondZero\n}\n```\n\nIf multiple scroll views are found within the view hierarchy, only the first one will invoke the closure you provide and a runtime issue will be logged. For example, in the following view, only the vertical scroll view will have its geometry changes invoke the provided closure.\n\n```swift\nVStack {\n    ScrollView(.vertical) { ... }\n    ScrollView(.horizontal) { ... }\n}\n.onScrollGeometryChange(for: Bool.self) { geometry in\n     ...\n} action: { oldValue, newValue in\n    ...\n}\n```\n\nFor responding to non-scroll geometry changes, see the [doc:\/\/com.apple.SwiftUI\/documentation\/SwiftUI\/View\/onGeometryChange(for:of:action:)] modifier.\n\n## Responding to scroll view changes\n\n- **onScrollTargetVisibilityChange(idType:threshold:_:)**: Adds an action to be called with information about what views would be considered visible.\n- **onScrollVisibilityChange(threshold:_:)**: Adds an action to be called when the view crosses the threshold to be considered on\/off screen.\n- **onScrollPhaseChange(_:)**: Adds an action to perform when the scroll phase of the first scroll view in the hierarchy changes.\n- **ScrollGeometry**: A type that defines the geometry of a scroll view.\n- **ScrollPhase**: A type that describes the state of a scroll gesture of a scrollable view like a scroll view.\n- **ScrollPhaseChangeContext**: A type that provides you with more content when the phase of a scroll view changes.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds an action to be called with information about what views would be considered visible.",
          "name" : "onScrollTargetVisibilityChange(idType:threshold:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onScrollTargetVisibilityChange(idType:threshold:_:)"
        },
        {
          "description" : "Adds an action to be called when the view crosses the threshold to be considered on\/off screen.",
          "name" : "onScrollVisibilityChange(threshold:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onScrollVisibilityChange(threshold:_:)"
        },
        {
          "description" : "Adds an action to perform when the scroll phase of the first scroll view in the hierarchy changes.",
          "name" : "onScrollPhaseChange(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onScrollPhaseChange(_:)"
        },
        {
          "description" : "A type that defines the geometry of a scroll view.",
          "name" : "ScrollGeometry",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/ScrollGeometry"
        },
        {
          "description" : "A type that describes the state of a scroll gesture of a scrollable view like a scroll view.",
          "name" : "ScrollPhase",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/ScrollPhase"
        },
        {
          "description" : "A type that provides you with more content when the phase of a scroll view changes.",
          "name" : "ScrollPhaseChangeContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/ScrollPhaseChangeContext"
        }
      ],
      "title" : "Responding to scroll view changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "onScrollGeometryChange(for:of:action:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/onScrollGeometryChange(for:of:action:)"
}