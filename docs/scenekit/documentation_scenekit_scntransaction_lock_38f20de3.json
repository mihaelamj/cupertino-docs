{
  "abstract" : "Attempts to acquire a recursive spinlock to ensure the validity of values you retrieve during the transaction.",
  "codeExamples" : [
    {
      "code" : "_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);",
      "language" : "objc"
    },
    {
      "code" : "[SCNTransaction lock];\n_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);\n[SCNTransaction unlock];",
      "language" : "objc"
    }
  ],
  "contentHash" : "9ddcc9c89f438b638ace684e5840228a065bdaa5d97ce833999f2062de1deade",
  "crawledAt" : "2025-12-09T20:44:26Z",
  "declaration" : {
    "code" : "class func lock()",
    "language" : "swift"
  },
  "id" : "6FBA46B8-A3E6-4B78-8775-365484024E1D",
  "kind" : "method",
  "language" : "swift",
  "module" : "SceneKit",
  "overview" : "## Discussion\n\nSceneKit’s data model is thread-safe in that it ensures that internal data structures will not be corrupted by concurrent attempts to modify their contents from multiple threads. However, this model does not guarantee the validity of values you read from scene graph objects after returning them.\n\nFor example, consider the following operation:\n\nThe intent of this line is to move a node by ten units. But if another thread modifies the node’s [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNNode\/position] property concurrently, the new position value could be unexpected. If your app modifies the scene graph from multiple threads, use a transaction lock to ensure that your modifications take effect as intended.\n\nIf another thread currently holds a lock on the transaction, calling [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNTransaction\/lock()] has no effect.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNTransaction\/lock()\ncrawled: 2025-12-09T20:44:26Z\n---\n\n# lock()\n\n**Type Method**\n\nAttempts to acquire a recursive spinlock to ensure the validity of values you retrieve during the transaction.\n\n## Declaration\n\n```swift\nclass func lock()\n```\n\n## Discussion\n\nSceneKit’s data model is thread-safe in that it ensures that internal data structures will not be corrupted by concurrent attempts to modify their contents from multiple threads. However, this model does not guarantee the validity of values you read from scene graph objects after returning them.\n\nFor example, consider the following operation:\n\n```objc\n_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);\n```\n\nThe intent of this line is to move a node by ten units. But if another thread modifies the node’s [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNNode\/position] property concurrently, the new position value could be unexpected. If your app modifies the scene graph from multiple threads, use a transaction lock to ensure that your modifications take effect as intended.\n\n```objc\n[SCNTransaction lock];\n_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);\n[SCNTransaction unlock];\n```\n\nIf another thread currently holds a lock on the transaction, calling [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNTransaction\/lock()] has no effect.\n\n## Managing Concurrency\n\n- **unlock()**: Relinquishes a previously acquired transaction lock.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Relinquishes a previously acquired transaction lock.",
          "name" : "unlock()",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNTransaction\/unlock()"
        }
      ],
      "title" : "Managing Concurrency"
    }
  ],
  "source" : "appleJSON",
  "title" : "lock()",
  "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNTransaction\/lock()"
}