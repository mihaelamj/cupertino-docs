{
  "abstract" : "Use this entry point to modify the surface properties of a material before lighting is computed.",
  "codeExamples" : [
    {
      "code" : "struct SCNShaderSurface {\n   vec3 view;                \/\/ Direction from the point on the surface toward the camera (V)\n   vec3 position;            \/\/ Position of the fragment\n   vec3 normal;              \/\/ Normal of the fragment (N)\n   vec3 tangent;             \/\/ Tangent of the fragment\n   vec3 bitangent;           \/\/ Bitangent of the fragment\n   vec4 ambient;             \/\/ Ambient property of the fragment\n   vec2 ambientTexcoord;     \/\/ Ambient texture coordinates\n   vec4 diffuse;             \/\/ Diffuse property of the fragment. Alpha contains the opacity.\n   vec2 diffuseTexcoord;     \/\/ Diffuse texture coordinates\n   vec4 specular;            \/\/ Specular property of the fragment\n   vec2 specularTexcoord;    \/\/ Specular texture coordinates\n   vec4 emission;            \/\/ Emission property of the fragment\n   vec2 emissionTexcoord;    \/\/ Emission texture coordinates\n   vec4 multiply;            \/\/ Multiply property of the fragment\n   vec2 multiplyTexcoord;    \/\/ Multiply texture coordinates\n   vec4 transparent;         \/\/ Transparent property of the fragment\n   vec2 transparentTexcoord; \/\/ Transparent texture coordinates\n   vec4 reflective;          \/\/ Reflective property of the fragment\n   float shininess;          \/\/ Shininess property of the fragment.\n   float fresnel;            \/\/ Fresnel property of the fragment.\n} _surface;",
      "language" : "objc"
    },
    {
      "code" : "uniform float Scale = 12.0;\nuniform float Width = 0.25;\nuniform float Blend = 0.3;\n \nvec2 position = fract(_surface.diffuseTexcoord * Scale);\nfloat f1 = clamp(position.y \/ Blend, 0.0, 1.0);\nfloat f2 = clamp((position.y - Width) \/ Blend, 0.0, 1.0);\nf1 = f1 * (1.0 - f2);\nf1 = f1 * f1 * 2.0 * (3. * 2. * f1);\n_surface.diffuse = mix(vec4(1.0), vec4(0.0), f1);",
      "language" : "objc"
    }
  ],
  "contentHash" : "6c3f238113a6139e9f26d77874d571e64e5107158b6535d058bf139d04dfa40c",
  "crawledAt" : "2025-12-01T17:35:56Z",
  "declaration" : {
    "code" : "static let surface: SCNShaderModifierEntryPoint",
    "language" : "swift"
  },
  "id" : "0079EFC7-3D50-4185-BC25-06B0B9E116C6",
  "kind" : "property",
  "module" : "SceneKit",
  "overview" : "## Discussion\n\nShader modifiers for this entry point execute in the fragment processing stage.\n\nThe surface entry point defines the following structure:\n\nYour shader modifier reads from this structure and writes new values to the same structure to alter the surface properties of each rendered fragment. After your shader modifier completes, SceneKit’s shader program uses these properties to compute lighting.\n\nGeometric fields (such as `position` and `normal`) are expressed in view space. You can use SceneKit’s uniforms (such as `u_inverseViewTransform`) to operate in a different coordinate space, but you must convert back to view space before writing results.\n\nOther fields of type `vec4` are colors provided by the contents of the corresponding [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNMaterialProperty] object. Texture coordinate fields contain values transformed by the relevant material property’s [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNMaterialProperty\/contentsTransform] transformation.\n\nThe below shader modifier produces black and white stripes on a surface:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/surface\ncrawled: 2025-12-01T17:35:56Z\n---\n\n# surface\n\n**Type Property**\n\nUse this entry point to modify the surface properties of a material before lighting is computed.\n\n## Declaration\n\n```swift\nstatic let surface: SCNShaderModifierEntryPoint\n```\n\n## Discussion\n\nShader modifiers for this entry point execute in the fragment processing stage.\n\nThe surface entry point defines the following structure:\n\n```objc\nstruct SCNShaderSurface {\n   vec3 view;                \/\/ Direction from the point on the surface toward the camera (V)\n   vec3 position;            \/\/ Position of the fragment\n   vec3 normal;              \/\/ Normal of the fragment (N)\n   vec3 tangent;             \/\/ Tangent of the fragment\n   vec3 bitangent;           \/\/ Bitangent of the fragment\n   vec4 ambient;             \/\/ Ambient property of the fragment\n   vec2 ambientTexcoord;     \/\/ Ambient texture coordinates\n   vec4 diffuse;             \/\/ Diffuse property of the fragment. Alpha contains the opacity.\n   vec2 diffuseTexcoord;     \/\/ Diffuse texture coordinates\n   vec4 specular;            \/\/ Specular property of the fragment\n   vec2 specularTexcoord;    \/\/ Specular texture coordinates\n   vec4 emission;            \/\/ Emission property of the fragment\n   vec2 emissionTexcoord;    \/\/ Emission texture coordinates\n   vec4 multiply;            \/\/ Multiply property of the fragment\n   vec2 multiplyTexcoord;    \/\/ Multiply texture coordinates\n   vec4 transparent;         \/\/ Transparent property of the fragment\n   vec2 transparentTexcoord; \/\/ Transparent texture coordinates\n   vec4 reflective;          \/\/ Reflective property of the fragment\n   float shininess;          \/\/ Shininess property of the fragment.\n   float fresnel;            \/\/ Fresnel property of the fragment.\n} _surface;\n```\n\nYour shader modifier reads from this structure and writes new values to the same structure to alter the surface properties of each rendered fragment. After your shader modifier completes, SceneKit’s shader program uses these properties to compute lighting.\n\nGeometric fields (such as `position` and `normal`) are expressed in view space. You can use SceneKit’s uniforms (such as `u_inverseViewTransform`) to operate in a different coordinate space, but you must convert back to view space before writing results.\n\nOther fields of type `vec4` are colors provided by the contents of the corresponding [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNMaterialProperty] object. Texture coordinate fields contain values transformed by the relevant material property’s [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNMaterialProperty\/contentsTransform] transformation.\n\nThe below shader modifier produces black and white stripes on a surface:\n\n```objc\nuniform float Scale = 12.0;\nuniform float Width = 0.25;\nuniform float Blend = 0.3;\n \nvec2 position = fract(_surface.diffuseTexcoord * Scale);\nfloat f1 = clamp(position.y \/ Blend, 0.0, 1.0);\nfloat f2 = clamp((position.y - Width) \/ Blend, 0.0, 1.0);\nf1 = f1 * (1.0 - f2);\nf1 = f1 * f1 * 2.0 * (3. * 2. * f1);\n_surface.diffuse = mix(vec4(1.0), vec4(0.0), f1);\n```\n\n## Type Properties\n\n- **fragment**: Use this entry point to change the color of a fragment after all other shading has been performed.\n- **geometry**: Use this entry point to deform a geometry’s surface or alter its vertex attributes.\n- **lightingModel**: Use this entry point to provide a custom lighting equation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use this entry point to change the color of a fragment after all other shading has been performed.",
          "name" : "fragment",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/fragment"
        },
        {
          "description" : "Use this entry point to deform a geometry’s surface or alter its vertex attributes.",
          "name" : "geometry",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/geometry"
        },
        {
          "description" : "Use this entry point to provide a custom lighting equation.",
          "name" : "lightingModel",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/lightingModel"
        }
      ],
      "title" : "Type Properties"
    }
  ],
  "source" : "appleJSON",
  "title" : "surface",
  "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/surface"
}