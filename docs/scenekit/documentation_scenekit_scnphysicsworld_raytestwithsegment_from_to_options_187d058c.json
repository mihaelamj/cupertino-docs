{
  "abstract" : "Searches for physics bodies along a line segment between two points in the physics world.",
  "codeExamples" : [
    {
      "code" : "\/\/ Options: Look only for the closest object along line of sight,\n\/\/ and use the collision bitmask to avoid finding the enemy itself.\nNSDictionary *options = @{ SCNPhysicsTestSearchModeKey : SCNPhysicsTestSearchModeClosest,\n                     SCNPhysicsTestCollisionBitMaskKey : @(kMyCategoryPlayer) };\n \nNSArray *results = [physicsWorld rayTestWithSegmentFromPoint:enemy.position\n                                                     toPoint:player.position\n                                                     options:options];\nif (results.firstObject.node == player) {\n    \/\/ Enemy can see player: begin pursuit.\n} else {\n    \/\/ Enemy cannot see player: remain idle.\n}",
      "language" : "objc"
    }
  ],
  "contentHash" : "3990bd2c9b4ab55e8734d3d3bb44aa4c4427eea17aa18714be4e4616a6a114c5",
  "crawledAt" : "2025-12-09T20:45:37Z",
  "declaration" : {
    "code" : "func rayTestWithSegment(from origin: SCNVector3, to dest: SCNVector3, options: [SCNPhysicsWorld.TestOption : Any]? = nil) -> [SCNHitTestResult]",
    "language" : "swift"
  },
  "id" : "AFA77444-FAA0-492A-A39E-7A2B766CBE05",
  "kind" : "method",
  "language" : "swift",
  "module" : "SceneKit",
  "overview" : "## Return Value\n\nAn array of [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNHitTestResult] objects describing search results.\n\n## Discussion\n\nUse this method to implement concepts such as line of sight in your app. For example, in a game you might implement behavior for an enemy character by searching for physics bodies along a line between the enemy character’s position and the player character’s position, as illustrated below:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNPhysicsWorld\/rayTestWithSegment(from:to:options:)\ncrawled: 2025-12-09T20:45:37Z\n---\n\n# rayTestWithSegment(from:to:options:)\n\n**Instance Method**\n\nSearches for physics bodies along a line segment between two points in the physics world.\n\n## Declaration\n\n```swift\nfunc rayTestWithSegment(from origin: SCNVector3, to dest: SCNVector3, options: [SCNPhysicsWorld.TestOption : Any]? = nil) -> [SCNHitTestResult]\n```\n\n## Parameters\n\n- **origin**: An endpoint of the line segment to search, specified in the scene’s world coordinate system.\n- **dest**: The other endpoint of the line segment to search, specified in the scene’s world coordinate system.\n- **options**: A dictionary of options affecting the test, or `nil` to use default options. For applicable keys and the possible values, see `Physics Test Options Keys`.\n\n## Return Value\n\nAn array of [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNHitTestResult] objects describing search results.\n\n## Discussion\n\nUse this method to implement concepts such as line of sight in your app. For example, in a game you might implement behavior for an enemy character by searching for physics bodies along a line between the enemy character’s position and the player character’s position, as illustrated below:\n\n```objc\n\/\/ Options: Look only for the closest object along line of sight,\n\/\/ and use the collision bitmask to avoid finding the enemy itself.\nNSDictionary *options = @{ SCNPhysicsTestSearchModeKey : SCNPhysicsTestSearchModeClosest,\n                     SCNPhysicsTestCollisionBitMaskKey : @(kMyCategoryPlayer) };\n \nNSArray *results = [physicsWorld rayTestWithSegmentFromPoint:enemy.position\n                                                     toPoint:player.position\n                                                     options:options];\nif (results.firstObject.node == player) {\n    \/\/ Enemy can see player: begin pursuit.\n} else {\n    \/\/ Enemy cannot see player: remain idle.\n}\n```\n\n## Searching for Physics Bodies\n\n- **convexSweepTest(with:from:to:options:)**: Searches for physics bodies in the space formed by moving a convex shape through the physics world.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Searches for physics bodies in the space formed by moving a convex shape through the physics world.",
          "name" : "convexSweepTest(with:from:to:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNPhysicsWorld\/convexSweepTest(with:from:to:options:)"
        }
      ],
      "title" : "Searching for Physics Bodies"
    }
  ],
  "source" : "appleJSON",
  "title" : "rayTestWithSegment(from:to:options:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNPhysicsWorld\/rayTestWithSegment(from:to:options:)"
}