{
  "abstract" : "Use this entry point to provide a custom lighting equation.",
  "codeExamples" : [
    {
      "code" : "struct SCNShaderLightingContribution {\n   vec3 ambient;\n   vec3 diffuse;\n   vec3 specular;\n} _lightingContribution;\n \nstruct SCNShaderLight {\n   vec4 intensity;\n   vec3 direction; \/\/ Direction from the point on the surface toward the light (L)\n} _light;",
      "language" : "objc"
    },
    {
      "code" : "uniform float WrapFactor = 0.5;\n \nfloat dotProduct = (WrapFactor + max(0.0, dot(_surface.normal,_light.direction))) \/ (1 + WrapFactor);\n_lightingContribution.diffuse += (dotProduct * _light.intensity.rgb);\nvec3 halfVector = normalize(_light.direction + _surface.view);\ndotProduct = max(0.0, pow(max(0.0, dot(_surface.normal, halfVector)), _surface.shininess));\n_lightingContribution.specular += (dotProduct * _light.intensity.rgb);",
      "language" : "objc"
    }
  ],
  "contentHash" : "7d964b1f1db8a7c7bf878a1e4a81aa4509b909dafab7d09645c8da8a91685eb1",
  "crawledAt" : "2025-12-01T17:35:55Z",
  "declaration" : {
    "code" : "static let lightingModel: SCNShaderModifierEntryPoint",
    "language" : "swift"
  },
  "id" : "DDA28735-2773-4BC4-9F2A-73C5BFA35764",
  "kind" : "property",
  "module" : "SceneKit",
  "overview" : "## Discussion\n\nShader modifiers for this entry point may execute in either the vertex or fragment processing stage. If the litPerPixel property of a material affected by the shader modifier is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the snippet executes in the fragment processing stage; otherwise the snippet executes in the vertex processing stage.\n\nThe surface entry point defines the following structures:\n\nWhen rendering a fragment, SceneKit executes this shader modifier once for each active light in the scene. Your shader modifier reads from the `_light` structure and accumulates the results of your lighting computations into the `_lightingContribution` structure. After your shader modifier completes, SceneKit’s shader program combines the lighting contribution with the surface properties to determine the fragment’s color.\n\nAll fields in the `_lightingContribution` structure and the `intensity` field in the `_light` structure are colors. The `direction` field is expressed in view space.\n\nThe shader modifier below wraps diffuse lighting—that is, it increases all input lighting values by `0.5`, and if the resulting value is greater than `1.0` it “wraps around” back to `0.0`:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/lightingModel\ncrawled: 2025-12-01T17:35:55Z\n---\n\n# lightingModel\n\n**Type Property**\n\nUse this entry point to provide a custom lighting equation.\n\n## Declaration\n\n```swift\nstatic let lightingModel: SCNShaderModifierEntryPoint\n```\n\n## Discussion\n\nShader modifiers for this entry point may execute in either the vertex or fragment processing stage. If the litPerPixel property of a material affected by the shader modifier is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the snippet executes in the fragment processing stage; otherwise the snippet executes in the vertex processing stage.\n\nThe surface entry point defines the following structures:\n\n```objc\nstruct SCNShaderLightingContribution {\n   vec3 ambient;\n   vec3 diffuse;\n   vec3 specular;\n} _lightingContribution;\n \nstruct SCNShaderLight {\n   vec4 intensity;\n   vec3 direction; \/\/ Direction from the point on the surface toward the light (L)\n} _light;\n```\n\nWhen rendering a fragment, SceneKit executes this shader modifier once for each active light in the scene. Your shader modifier reads from the `_light` structure and accumulates the results of your lighting computations into the `_lightingContribution` structure. After your shader modifier completes, SceneKit’s shader program combines the lighting contribution with the surface properties to determine the fragment’s color.\n\nAll fields in the `_lightingContribution` structure and the `intensity` field in the `_light` structure are colors. The `direction` field is expressed in view space.\n\nThe shader modifier below wraps diffuse lighting—that is, it increases all input lighting values by `0.5`, and if the resulting value is greater than `1.0` it “wraps around” back to `0.0`:\n\n```objc\nuniform float WrapFactor = 0.5;\n \nfloat dotProduct = (WrapFactor + max(0.0, dot(_surface.normal,_light.direction))) \/ (1 + WrapFactor);\n_lightingContribution.diffuse += (dotProduct * _light.intensity.rgb);\nvec3 halfVector = normalize(_light.direction + _surface.view);\ndotProduct = max(0.0, pow(max(0.0, dot(_surface.normal, halfVector)), _surface.shininess));\n_lightingContribution.specular += (dotProduct * _light.intensity.rgb);\n```\n\n## Type Properties\n\n- **fragment**: Use this entry point to change the color of a fragment after all other shading has been performed.\n- **geometry**: Use this entry point to deform a geometry’s surface or alter its vertex attributes.\n- **surface**: Use this entry point to modify the surface properties of a material before lighting is computed.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use this entry point to change the color of a fragment after all other shading has been performed.",
          "name" : "fragment",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/fragment"
        },
        {
          "description" : "Use this entry point to deform a geometry’s surface or alter its vertex attributes.",
          "name" : "geometry",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/geometry"
        },
        {
          "description" : "Use this entry point to modify the surface properties of a material before lighting is computed.",
          "name" : "surface",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/surface"
        }
      ],
      "title" : "Type Properties"
    }
  ],
  "source" : "appleJSON",
  "title" : "lightingModel",
  "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNShaderModifierEntryPoint\/lightingModel"
}