{
  "abstract" : "Adds a block that modifies particle properties, to be executed at a specified event in the lifetimes of particles in the system.",
  "codeExamples" : [
    {
      "code" : "[system handleEvent:SCNParticleEventBirth\n      forProperties:@[SCNParticlePropertyColor]\n          withBlock:^(void **data, size_t *dataStride, uint32_t *indices , NSInteger count) {\n              for (NSInteger i = 0; i < count; ++i) {\n                  float *color = (float *)((char *)data[0] + dataStride[0] * i);\n                  if (rand() & 0x1) { \/\/ Switch the green and red color components.\n                      color[0] = color[1];\n                      color[1] = 0;\n                  }\n              }\n          }];",
      "language" : "objc"
    }
  ],
  "contentHash" : "c50f427c3dd1ad196061244d6850e1c688f485de2b98b14aaa1b8776d918e2a4",
  "crawledAt" : "2025-12-04T21:49:03Z",
  "declaration" : {
    "code" : "func handle(_ event: SCNParticleEvent, forProperties properties: [SCNParticleSystem.ParticleProperty], handler block: @escaping SCNParticleEventBlock)",
    "language" : "swift"
  },
  "id" : "B32E1C60-2899-4946-AFCE-BA71BD77B011",
  "kind" : "method",
  "language" : "swift",
  "module" : "SceneKit",
  "overview" : "## Discussion\n\nBy associating a block with one or more particle properties, you can run arbitrary code that modifies those properties when a significant event in the particle simulation occurs for one or more particles. For example, you can use the following code with a confetti effect to randomly switch between two distinct colors for each spawned particle:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)\ncrawled: 2025-12-04T21:49:03Z\n---\n\n# handle(_:forProperties:handler:)\n\n**Instance Method**\n\nAdds a block that modifies particle properties, to be executed at a specified event in the lifetimes of particles in the system.\n\n## Declaration\n\n```swift\nfunc handle(_ event: SCNParticleEvent, forProperties properties: [SCNParticleSystem.ParticleProperty], handler block: @escaping SCNParticleEventBlock)\n```\n\n## Parameters\n\n- **event**: The event at which to call the block. See [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleEvent] for allowed values.\n- **properties**: An array containing one or more of the constants listed in `Particle Property Keys`, each of which specifies a property of the appearance or behaviors of particles in the particle system.\n- **block**: A [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleEventBlock] block to be called every time SceneKit renders a frame. In this block you can modify the properties of particles in the system.\n\n## Discussion\n\nBy associating a block with one or more particle properties, you can run arbitrary code that modifies those properties when a significant event in the particle simulation occurs for one or more particles. For example, you can use the following code with a confetti effect to randomly switch between two distinct colors for each spawned particle:\n\n```objc\n[system handleEvent:SCNParticleEventBirth\n      forProperties:@[SCNParticlePropertyColor]\n          withBlock:^(void **data, size_t *dataStride, uint32_t *indices , NSInteger count) {\n              for (NSInteger i = 0; i < count; ++i) {\n                  float *color = (float *)((char *)data[0] + dataStride[0] * i);\n                  if (rand() & 0x1) { \/\/ Switch the green and red color components.\n                      color[0] = color[1];\n                      color[1] = 0;\n                  }\n              }\n          }];\n```\n\n## Modifying Particles in Response to Particle System Events\n\n- **SCNParticleEvent**: Significant events in the life spans of simulate particles, used by the [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)] method.\n- **SCNParticleEventBlock**: The signature for blocks called by SceneKit in response to significant events during particle simulation, used by the [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)] method.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Significant events in the life spans of simulate particles, used by the [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)] method.",
          "name" : "SCNParticleEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNParticleEvent"
        },
        {
          "description" : "The signature for blocks called by SceneKit in response to significant events during particle simulation, used by the [doc:\/\/com.apple.scenekit\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)] method.",
          "name" : "SCNParticleEventBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNParticleEventBlock"
        }
      ],
      "title" : "Modifying Particles in Response to Particle System Events"
    }
  ],
  "source" : "appleJSON",
  "title" : "handle(_:forProperties:handler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/SceneKit\/SCNParticleSystem\/handle(_:forProperties:handler:)"
}