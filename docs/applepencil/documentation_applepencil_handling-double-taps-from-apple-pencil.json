{
  "abstract" : "Detect and respond to double taps a person makes on Apple Pencil.",
  "codeExamples" : [

  ],
  "contentHash" : "a62cfe6757891ed81a21c84e5ed6ba4a866ebb581e8b50346fb5b5bcc18457e9",
  "crawledAt" : "2025-12-03T18:35:20Z",
  "declaration" : {
    "code" : "class ViewController: UIViewController, UIPencilInteractionDelegate {\n   \n   override func viewDidLoad() {\n       super.viewDidLoad()\n       \n       \/\/ Register for a double tap.\n       let pencilInteraction = UIPencilInteraction(delegate: self) \n       view.addInteraction(pencilInteraction)\n   }\n   \/\/ ...\n}",
    "language" : "swift"
  },
  "id" : "18D6049A-1968-42BE-859E-09D80E183102",
  "kind" : "protocol",
  "overview" : "Apple Pencil  Handling double taps from Apple Pencil  Handling double taps from Apple Pencil ArticleHandling double taps from Apple PencilDetect and respond to double taps a person makes on Apple Pencil.OverviewYou can use Apple Pencil interactions to allow people to access functionality in your app quickly. Double-tapping Apple Pencil lets a person perform actions such as switching between drawing tools without moving the pencil to another location on the screen.\n\nTo respond to double taps from Apple Pencil in your app, you need to register your view to receive double-tap interactions.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/applepencil\/handling-double-taps-from-apple-pencil\ncrawled: 2025-12-03T18:35:20Z\n---\n\n# Handling double taps from Apple Pencil | Apple Developer Documentation\n\n- [ Apple Pencil ](\/documentation\/applepencil)\n\n- [ Handling double taps from Apple Pencil ](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil)\n\n-  Handling double taps from Apple Pencil \n\nArticle# Handling double taps from Apple Pencil\n\nDetect and respond to double taps a person makes on Apple Pencil.## [Overview](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Overview)\n\nYou can use Apple Pencil interactions to allow people to access functionality in your app quickly. Double-tapping Apple Pencil lets a person perform actions such as switching between drawing tools without moving the pencil to another location on the screen.\n\n### [Register for a double tap](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Register-for-a-double-tap)\n\nTo respond to double taps from Apple Pencil in your app, you need to register your view to receive double-tap interactions.\n\nAdd an [`onPencilDoubleTap(perform:)`](\/documentation\/SwiftUI\/View\/onPencilDoubleTap(perform:)) view modifier to your view.\n\n\n\n```\nMyView()\n    .onPencilDoubleTap { value in\n        \/\/ ...\n    }\n\n```\n\nCreate a [`UIPencilInteraction`](\/documentation\/UIKit\/UIPencilInteraction) object, passing an object that implements the [`UIPencilInteractionDelegate`](\/documentation\/UIKit\/UIPencilInteractionDelegate) protocol to the `delegate` parameter. Then, add the interaction to your view.\n\n\n\n```\nclass ViewController: UIViewController, UIPencilInteractionDelegate {\n   \n   override func viewDidLoad() {\n       super.viewDidLoad()\n       \n       \/\/ Register for a double tap.\n       let pencilInteraction = UIPencilInteraction(delegate: self) \n       view.addInteraction(pencilInteraction)\n   }\n   \/\/ ...\n}\n\n```\n\n### [Check the preferred double-tap action](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Check-the-preferred-double-tap-action)\n\nA person can choose which action they prefer to perform when they double-tap Apple Pencil. They choose this systemwide preference in Settings > Apple Pencil > Actions > Double Tap.\n\nIn your app, you can check the value of this preferred action for double tap.\n\nTo check the preferred action, use the [`preferredPencilDoubleTapAction`](\/documentation\/SwiftUI\/EnvironmentValues\/preferredPencilDoubleTapAction) environment value. For possible values, see [`PencilPreferredAction`](\/documentation\/SwiftUI\/PencilPreferredAction).\n\n\n\n```\n@Environment(.preferredPencilDoubleTapAction) private var preferredAction\n\n```\n\nTo check the preferred action, use the [`preferredTapAction`](\/documentation\/UIKit\/UIPencilInteraction\/preferredTapAction) class property on [`UIPencilInteraction`](\/documentation\/UIKit\/UIPencilInteraction). For possible values, see [`UIPencilPreferredAction`](\/documentation\/UIKit\/UIPencilPreferredAction).\n\n\n\n```\nUIPencilInteraction.preferredTapAction\n\n```\n\n### [Choose the action to perform](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Choose-the-action-to-perform)\n\nWhen possible, perform the preferred action to provide a consistent user experience across apps that support double taps. If the preferred action doesn’t make sense in your app, consider giving people a way to choose a custom action that’s suitable for your app. For design guidance, read Human Interface Guidelines > Apple Pencil and Scribble > [Double tap](https:\/\/developer.apple.com\/design\/human-interface-guidelines\/apple-pencil-and-scribble#Double-tap).\n\nThe following code shows a snippet from a drawing app that provides custom drawing tools. This app allows a person to configure a custom action to quickly swap to their favorite custom drawing tool instead of using the systemwide preferred action for double taps. This app also supports the preferred actions to ignore double taps, switch to the previous tool, and switch to the eraser tool.\n\n\n\n```\nenum Tool {\n    case brush\n    case lasso\n    case eraser\n    case magnifier\n}\n\n\nenum CustomAction: String {\n    case switchLasso\n    case switchMagnifier\n}\n\n\n@State private var currentTool: Tool? = .brush\n@State private var previousTool: Tool?\n\n\n@Environment(.preferredPencilDoubleTapAction) private var preferredAction\n@AppStorage(\"customPencilDoubleTapAction\") private var customAction: CustomAction?\n\n\nvar body: some View {\n    MyView()\n        .onPencilDoubleTap { value in\n            \/\/ Respect the systemwide preferred action to ignore double taps.\n            guard preferredAction != .ignore else { return }\n        \n            \/\/ If the person chooses to override the systemwide\n            \/\/ double-tap action to perform a custom action in this app,\n            \/\/ check which custom action they prefer and perform that action.\n            if let customAction {\n                if customAction == .switchLasso, currentTool != .lasso {\n                    (currentTool, previousTool) = (.lasso, currentTool)\n                }\n                else if customAction == .switchMagnifier, currentTool != .magnifier {\n                    (currentTool, previousTool) = (.magnifier, currentTool)\n                }\n            }\n        \n            \/\/ If the person prefers to use the systemwide double-tap action, \n            \/\/ perform the actions that are appropriate in the context of this app: \n            \/\/ switch to the previous tool, or switch to the eraser tool.\n            else if preferredAction == .switchPrevious {\n                (currentTool, previousTool) = (previousTool, currentTool)\n            }\n            else if preferredAction == .switchEraser, currentTool != .eraser {\n                (currentTool, previousTool) = (.eraser, currentTool)\n            }\n        }\n}\n\n```\n\n\n\n```\nenum Tool {\n    case brush\n    case lasso\n    case eraser\n    case magnifier\n}\n\n\nenum CustomAction {\n    case switchLasso\n    case switchMagnifier\n}\n\n\nprivate var currentTool: Tool? = .brush\nprivate var previousTool: Tool?\nprivate var customAction: CustomAction?\n\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n    \n    \/\/ Register for a double tap.\n    let pencilInteraction = UIPencilInteraction(delegate: self)\n    view.addInteraction(pencilInteraction)\n}\n\n\nfunc pencilInteraction(_ interaction: UIPencilInteraction,\n                   didReceiveTap tap: UIPencilInteraction.Tap) {\n    let preferredAction = UIPencilInteraction.preferredTapAction\n    \n    \/\/ Respect the systemwide preferred action to ignore double taps.\n    guard preferredAction != .ignore else { return }\n\n\n    \/\/ If the person chooses to override the systemwide\n    \/\/ double-tap action to perform a custom action in this app,\n    \/\/ check which custom action they prefer and perform that action.\n    if let customAction {\n        if customAction == .switchLasso, currentTool != .lasso {\n            (currentTool, previousTool) = (.lasso, currentTool)\n        }\n        else if customAction == .switchMagnifier, currentTool != .magnifier {\n            (currentTool, previousTool) = (.magnifier, currentTool)\n        }\n    }\n    \n    \/\/ If the person prefers to use the systemwide double-tap action, \n    \/\/ perform the actions that are appropriate in the context of this app: \n    \/\/ switch to the previous tool, or switch to the eraser tool.\n    else if preferredAction == .switchPrevious {\n        (currentTool, previousTool) = (previousTool, currentTool)\n    }\n    else if preferredAction == .switchEraser, currentTool != .eraser {\n        (currentTool, previousTool) = (.eraser, currentTool)\n    }\n}\n\n```\n\n## [See Also](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#See-Also)\n\n#### [Related articles](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Related-articles)\n\n[Handling squeezes from Apple Pencil](\/documentation\/applepencil\/handling-squeezes-from-apple-pencil)Detect and respond to squeezes a person makes on Apple Pencil Pro.#### [Related reference in SwiftUI](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Related-reference-in-SwiftUI)\n\n`nonisolated func onPencilDoubleTap(perform action: @escaping (PencilDoubleTapGestureValue) -> Void) -> some View\n`Adds an action to perform after the user double-taps their Apple Pencil.[`struct PencilDoubleTapGestureValue`](\/documentation\/SwiftUI\/PencilDoubleTapGestureValue)Describes the value of an Apple Pencil double-tap gesture.[`struct PencilPreferredAction`](\/documentation\/SwiftUI\/PencilPreferredAction)An action that the user prefers to perform after double-tapping their Apple Pencil.[`struct PencilHoverPose`](\/documentation\/SwiftUI\/PencilHoverPose)A value describing the location and distance of an Apple Pencil hovering in the area above a view’s bounds.#### [Related reference in UIKit](\/documentation\/applepencil\/handling-double-taps-from-apple-pencil#Related-reference-in-UIKit)\n\n[`@MainActor class UIPencilInteraction`](\/documentation\/UIKit\/UIPencilInteraction)An interaction that tells your app when a person double-taps or squeezes Apple Pencil.[`@MainActor protocol UIPencilInteractionDelegate : NSObjectProtocol`](\/documentation\/UIKit\/UIPencilInteractionDelegate)The interface an object implements to handle double taps or squeezes a person makes on Apple Pencil.[`@MainActor class Tap`](\/documentation\/UIKit\/UIPencilInteraction\/Tap)An interaction that represents a double tap on Apple Pencil.[`enum Phase`](\/documentation\/UIKit\/UIPencilInteraction\/Phase)Constants that describe the phases of an interaction on Apple Pencil.[`@MainActor class UIPencilHoverPose`](\/documentation\/UIKit\/UIPencilHoverPose)An object that describes the hover pose of Apple Pencil during an interaction like double tap or squeeze.",
  "sections" : [
    {
      "content" : "",
      "title" : "Overview"
    },
    {
      "content" : "",
      "title" : "See Also"
    }
  ],
  "source" : "appleWebKit",
  "title" : "Handling double taps from Apple Pencil | Apple Developer Documentation",
  "url" : "https:\/\/developer.apple.com\/documentation\/applepencil\/handling-double-taps-from-apple-pencil"
}