{
  "abstract" : "Sets the target queue of the connection.",
  "codeExamples" : [

  ],
  "contentHash" : "63daf1ea960d6d1e82367ee6ae7ce660cc5a85d85d3ac6f480ed55c6a1688561",
  "crawledAt" : "2025-12-07T16:54:53Z",
  "declaration" : {
    "code" : "func xpc_connection_set_target_queue(_ connection: xpc_connection_t, _ targetq: dispatch_queue_t?)",
    "language" : "swift"
  },
  "id" : "E7FD0FD9-0E9F-46AA-8C88-E6DCB9189782",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Discussion\n\nSetting the target queue is asynchronous and non-preemptive and therefore this method will not interrupt the execution of an already-running event handler block. Setting the target queue may be likened to issuing a barrier to the connection which does the actual work of changing the target queue.\n\nThe XPC runtime guarantees this non-preemptiveness even for concurrent target queues. If the target queue is a concurrent queue, then XPC still guarantees that there will never be more than one invocation of the connection’s event handler block executing concurrently. If you wish to process events concurrently, you can [doc:\/\/com.apple.documentation\/documentation\/Dispatch\/dispatch_async] to a concurrent queue from within the event handler.\n\nDespite this seeming inconsistency, the XPC runtime guarantees that, when the target queue is a serial queue, the event handler block will execute synchonously with respect to other blocks submitted to that same queue. When the target queue is a concurrent queue, the event handler block may run concurrently with other blocks submitted to that queue, but it will never run concurrently with other invocations of itself for the same connection, as discussed previously.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_set_target_queue(_:_:)\ncrawled: 2025-12-07T16:54:53Z\n---\n\n# xpc_connection_set_target_queue(_:_:)\n\n**Function**\n\nSets the target queue of the connection.\n\n## Declaration\n\n```swift\nfunc xpc_connection_set_target_queue(_ connection: xpc_connection_t, _ targetq: dispatch_queue_t?)\n```\n\n## Parameters\n\n- **connection**: The connection object which is to be manipulated.\n- **targetq**: The GCD queue to which the event handler block will be submitted. This parameter may be `NULL`, in which case the connection’s target queue will be the default target queue of `libdispatch`, defined as `DISPATCH_TARGET_QUEUE_DEFAULT`.\n\n## Discussion\n\nSetting the target queue is asynchronous and non-preemptive and therefore this method will not interrupt the execution of an already-running event handler block. Setting the target queue may be likened to issuing a barrier to the connection which does the actual work of changing the target queue.\n\nThe XPC runtime guarantees this non-preemptiveness even for concurrent target queues. If the target queue is a concurrent queue, then XPC still guarantees that there will never be more than one invocation of the connection’s event handler block executing concurrently. If you wish to process events concurrently, you can [doc:\/\/com.apple.documentation\/documentation\/Dispatch\/dispatch_async] to a concurrent queue from within the event handler.\n\n\n\nDespite this seeming inconsistency, the XPC runtime guarantees that, when the target queue is a serial queue, the event handler block will execute synchonously with respect to other blocks submitted to that same queue. When the target queue is a concurrent queue, the event handler block may run concurrently with other blocks submitted to that queue, but it will never run concurrently with other invocations of itself for the same connection, as discussed previously.\n\n## Creation\n\n- **xpc_connection_t**: A type that represents a connection to a named service.\n- **xpc_connection_create(_:_:)**: Creates a new connection object.\n- **xpc_connection_create_from_endpoint(_:)**: Creates a new connection from the specified endpoint.\n- **xpc_connection_create_mach_service(_:_:_:)**: Creates a new connection object that represents a Mach service.\n- **XPC_CONNECTION_MACH_SERVICE_LISTENER**: A flag that indicates the caller is the listener for the named service.\n- **XPC_CONNECTION_MACH_SERVICE_PRIVILEGED**: A flag that indicates the job advertising the service name belongs to a launch daemon rather than a launch agent.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type that represents a connection to a named service.",
          "name" : "xpc_connection_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_t"
        },
        {
          "description" : "Creates a new connection object.",
          "name" : "xpc_connection_create(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create(_:_:)"
        },
        {
          "description" : "Creates a new connection from the specified endpoint.",
          "name" : "xpc_connection_create_from_endpoint(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create_from_endpoint(_:)"
        },
        {
          "description" : "Creates a new connection object that represents a Mach service.",
          "name" : "xpc_connection_create_mach_service(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create_mach_service(_:_:_:)"
        },
        {
          "description" : "A flag that indicates the caller is the listener for the named service.",
          "name" : "XPC_CONNECTION_MACH_SERVICE_LISTENER",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_LISTENER"
        },
        {
          "description" : "A flag that indicates the job advertising the service name belongs to a launch daemon rather than a launch agent.",
          "name" : "XPC_CONNECTION_MACH_SERVICE_PRIVILEGED",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_PRIVILEGED"
        }
      ],
      "title" : "Creation"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_connection_set_target_queue(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_set_target_queue(_:_:)"
}