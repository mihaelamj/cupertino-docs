{
  "abstract" : "Creates a new connection object that represents a Mach service.",
  "codeExamples" : [

  ],
  "contentHash" : "378e3982dc34c164ee4654966ae0a3e5a475e933b0c2b11a80c45a7102c4c7a0",
  "crawledAt" : "2025-12-07T16:54:52Z",
  "declaration" : {
    "code" : "func xpc_connection_create_mach_service(_ name: UnsafePointer<CChar>, _ targetq: dispatch_queue_t?, _ flags: UInt64) -> xpc_connection_t",
    "language" : "swift"
  },
  "id" : "19E0F321-FB42-4343-B626-721D68877779",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Return Value\n\nA new connection object.\n\n## Discussion\n\nIf the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_LISTENER] flag is given to this method, then the connection returned will be a listener connection. Otherwise, a peer connection will be returned. See the documentation for [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_set_event_handler(_:_:)] for the semantics of listener connections versus peer connections.\n\nThis method will succeed even if the named service does not exist. This is because the Mach namespace is not queried for the service name until the first call to [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_resume(_:)].",
  "platforms" : [
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create_mach_service(_:_:_:)\ncrawled: 2025-12-07T16:54:52Z\n---\n\n# xpc_connection_create_mach_service(_:_:_:)\n\n**Function**\n\nCreates a new connection object that represents a Mach service.\n\n## Declaration\n\n```swift\nfunc xpc_connection_create_mach_service(_ name: UnsafePointer<CChar>, _ targetq: dispatch_queue_t?, _ flags: UInt64) -> xpc_connection_t\n```\n\n## Parameters\n\n- **name**: The name of the remote service with which to connect. The service name must exist in a Mach bootstrap that is accessible to the process and be advertised in a `launchd.plist`.\n- **targetq**: The GCD queue to which the event handler block will be submitted. This parameter may be `NULL`, in which case the connectionâ€™s target queue will be the default target queue of `libdispatch`, defined as `DISPATCH_TARGET_QUEUE_DEFAULT`. The target queue may be changed later with a call to [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_set_target_queue(_:_:)].\n- **flags**: Additional attributes with which to create the connection.\n\n## Return Value\n\nA new connection object.\n\n## Discussion\n\nIf the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_LISTENER] flag is given to this method, then the connection returned will be a listener connection. Otherwise, a peer connection will be returned. See the documentation for [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_set_event_handler(_:_:)] for the semantics of listener connections versus peer connections.\n\nThis method will succeed even if the named service does not exist. This is because the Mach namespace is not queried for the service name until the first call to [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_resume(_:)].\n\n## Creation\n\n- **xpc_connection_t**: A type that represents a connection to a named service.\n- **xpc_connection_create(_:_:)**: Creates a new connection object.\n- **xpc_connection_create_from_endpoint(_:)**: Creates a new connection from the specified endpoint.\n- **xpc_connection_set_target_queue(_:_:)**: Sets the target queue of the connection.\n- **XPC_CONNECTION_MACH_SERVICE_LISTENER**: A flag that indicates the caller is the listener for the named service.\n- **XPC_CONNECTION_MACH_SERVICE_PRIVILEGED**: A flag that indicates the job advertising the service name belongs to a launch daemon rather than a launch agent.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type that represents a connection to a named service.",
          "name" : "xpc_connection_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_t"
        },
        {
          "description" : "Creates a new connection object.",
          "name" : "xpc_connection_create(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create(_:_:)"
        },
        {
          "description" : "Creates a new connection from the specified endpoint.",
          "name" : "xpc_connection_create_from_endpoint(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create_from_endpoint(_:)"
        },
        {
          "description" : "Sets the target queue of the connection.",
          "name" : "xpc_connection_set_target_queue(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_set_target_queue(_:_:)"
        },
        {
          "description" : "A flag that indicates the caller is the listener for the named service.",
          "name" : "XPC_CONNECTION_MACH_SERVICE_LISTENER",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_LISTENER"
        },
        {
          "description" : "A flag that indicates the job advertising the service name belongs to a launch daemon rather than a launch agent.",
          "name" : "XPC_CONNECTION_MACH_SERVICE_PRIVILEGED",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_CONNECTION_MACH_SERVICE_PRIVILEGED"
        }
      ],
      "title" : "Creation"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_connection_create_mach_service(_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_create_mach_service(_:_:_:)"
}