{
  "abstract" : "Informs the XPC runtime when a transaction begins, indicating that the service isn’t idle.",
  "codeExamples" : [

  ],
  "contentHash" : "33c9c644ab23972bfc36a35f16663d656c6d0e552a6a06c45ca6ddb0b2e75669",
  "crawledAt" : "2025-12-07T16:55:01Z",
  "declaration" : {
    "code" : "func xpc_transaction_begin()",
    "language" : "swift"
  },
  "id" : "B36058AA-2C64-44FE-8DC6-E4BC978052DD",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Discussion\n\nA service with no outstanding transactions may automatically exit due to inactivity as determined by the system.\n\nThis function may be used to manually manage transactions in cases where their automatic management (as described below) does not meet the needs of an XPC service. This function also updates the transaction count used for sudden termination, i.e. `vproc_transaction_begin()`, and these two interfaces may be used in combination.\n\nThe XPC runtime will automatically begin a transaction on behalf of a service when a new message is received. If no reply message is expected, the transaction is automatically ended when the connection event handler returns. If a reply message is created, the transaction will end when the reply message is sent or released. An XPC service may use [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_transaction_begin()] and [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_transaction_end()] to inform the XPC runtime about activity that occurs outside of this common pattern.\n\nWhen the XPC runtime has determined that the service should exit, the event handlers for all active listening and peer connections will receive [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_TERMINATION_IMMINENT-swift.var] as an indication that they should unwind their existing transactions. After this error is delivered to a connection’s event handler, no more messages will be delivered to the connection.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_transaction_begin()\ncrawled: 2025-12-07T16:55:01Z\n---\n\n# xpc_transaction_begin()\n\n**Function**\n\nInforms the XPC runtime when a transaction begins, indicating that the service isn’t idle.\n\n## Declaration\n\n```swift\nfunc xpc_transaction_begin()\n```\n\n## Discussion\n\nA service with no outstanding transactions may automatically exit due to inactivity as determined by the system.\n\nThis function may be used to manually manage transactions in cases where their automatic management (as described below) does not meet the needs of an XPC service. This function also updates the transaction count used for sudden termination, i.e. `vproc_transaction_begin()`, and these two interfaces may be used in combination.\n\nThe XPC runtime will automatically begin a transaction on behalf of a service when a new message is received. If no reply message is expected, the transaction is automatically ended when the connection event handler returns. If a reply message is created, the transaction will end when the reply message is sent or released. An XPC service may use [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_transaction_begin()] and [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_transaction_end()] to inform the XPC runtime about activity that occurs outside of this common pattern.\n\nWhen the XPC runtime has determined that the service should exit, the event handlers for all active listening and peer connections will receive [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_TERMINATION_IMMINENT-swift.var] as an indication that they should unwind their existing transactions. After this error is delivered to a connection’s event handler, no more messages will be delivered to the connection.\n\n## Life cycle\n\n- **xpc_main(_:)**: Starts listening for incoming connections and processes them with the specified event handler.\n- **xpc_connection_activate(_:)**: Activates a new connection.\n- **xpc_connection_suspend(_:)**: Suspends the connection so the event handler block doesn’t fire and the connection doesn’t attempt to send any messages it has in its queue.\n- **xpc_connection_resume(_:)**: Resumes a suspended connection.\n- **xpc_connection_cancel(_:)**: Cancels the connection and ensures that its event handler doesn’t fire again.\n- **xpc_transaction_end()**: Informs the XPC runtime when a transaction ends.\n- **xpc_connection_copy_invalidation_reason(_:)**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts listening for incoming connections and processes them with the specified event handler.",
          "name" : "xpc_main(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_main(_:)"
        },
        {
          "description" : "Activates a new connection.",
          "name" : "xpc_connection_activate(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_activate(_:)"
        },
        {
          "description" : "Suspends the connection so the event handler block doesn’t fire and the connection doesn’t attempt to send any messages it has in its queue.",
          "name" : "xpc_connection_suspend(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_suspend(_:)"
        },
        {
          "description" : "Resumes a suspended connection.",
          "name" : "xpc_connection_resume(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_resume(_:)"
        },
        {
          "description" : "Cancels the connection and ensures that its event handler doesn’t fire again.",
          "name" : "xpc_connection_cancel(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_cancel(_:)"
        },
        {
          "description" : "Informs the XPC runtime when a transaction ends.",
          "name" : "xpc_transaction_end()",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_transaction_end()"
        },
        {
          "description" : "",
          "name" : "xpc_connection_copy_invalidation_reason(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_copy_invalidation_reason(_:)"
        }
      ],
      "title" : "Life cycle"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_transaction_begin()",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_transaction_begin()"
}