{
  "abstract" : "Sends a message over the connection and blocks the caller until it receives a reply.",
  "codeExamples" : [

  ],
  "contentHash" : "71b9d5ae50efa72acff2b43400fd9c59b95b5fbd4b1a6db9abd9bb11666d27de",
  "crawledAt" : "2025-12-07T16:55:11Z",
  "declaration" : {
    "code" : "func xpc_connection_send_message_with_reply_sync(_ connection: xpc_connection_t, _ message: xpc_object_t) -> xpc_object_t",
    "language" : "swift"
  },
  "id" : "793CAF5A-49E6-4805-8C55-276816D1A01F",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Return Value\n\nThe message that the remote service sends in reply to the original message. If the remote service exits prematurely before receiving the reply, the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INTERRUPTED-swift.var] error returns. If the connection becomes invalid before the remote service sends the message, the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error returns.\n\n## Discussion\n\nYou are responsible for releasing the returned object.\n\n## Discussion\n\nThis API supports priority inversion avoidance, so use it instead of combining [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_send_message_with_reply(_:_:_:_:)] with a semaphore.\n\nInvoking this API from a queue that is a part of the target queue hierarchy results in deadlocks under certain conditions.\n\nBe judicious about your use of this API. It can block indefinitely, so if you are using it to implement an API that you can call from the main thread, you might consider allowing the API to take a queue and callback block so that results arrive asynchronously, if possible.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_send_message_with_reply_sync(_:_:)\ncrawled: 2025-12-07T16:55:11Z\n---\n\n# xpc_connection_send_message_with_reply_sync(_:_:)\n\n**Function**\n\nSends a message over the connection and blocks the caller until it receives a reply.\n\n## Declaration\n\n```swift\nfunc xpc_connection_send_message_with_reply_sync(_ connection: xpc_connection_t, _ message: xpc_object_t) -> xpc_object_t\n```\n\n## Parameters\n\n- **connection**: The connection for sending the message.\n- **message**: The message to send. This must be a dictionary object.\n\n## Return Value\n\nThe message that the remote service sends in reply to the original message. If the remote service exits prematurely before receiving the reply, the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INTERRUPTED-swift.var] error returns. If the connection becomes invalid before the remote service sends the message, the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error returns.\n\n## Discussion\n\nYou are responsible for releasing the returned object.\n\n## Discussion\n\nThis API supports priority inversion avoidance, so use it instead of combining [doc:\/\/com.apple.xpc\/documentation\/XPC\/xpc_connection_send_message_with_reply(_:_:_:_:)] with a semaphore.\n\nInvoking this API from a queue that is a part of the target queue hierarchy results in deadlocks under certain conditions.\n\nBe judicious about your use of this API. It can block indefinitely, so if you are using it to implement an API that you can call from the main thread, you might consider allowing the API to take a queue and callback block so that results arrive asynchronously, if possible.\n\n## Messages\n\n- **xpc_connection_send_message(_:_:)**: Sends a message over the connection to the destination service.\n- **xpc_connection_send_barrier(_:_:)**: Issues a barrier against the connection’s message-send activity.\n- **xpc_connection_send_message_with_reply(_:_:_:_:)**: Sends a message over the connection to the destination service and associates a handler to invoke when the remote service sends a reply message.\n- **xpc_main(_:)**: Starts listening for incoming connections and processes them with the specified event handler.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sends a message over the connection to the destination service.",
          "name" : "xpc_connection_send_message(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_send_message(_:_:)"
        },
        {
          "description" : "Issues a barrier against the connection’s message-send activity.",
          "name" : "xpc_connection_send_barrier(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_send_barrier(_:_:)"
        },
        {
          "description" : "Sends a message over the connection to the destination service and associates a handler to invoke when the remote service sends a reply message.",
          "name" : "xpc_connection_send_message_with_reply(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_send_message_with_reply(_:_:_:_:)"
        },
        {
          "description" : "Starts listening for incoming connections and processes them with the specified event handler.",
          "name" : "xpc_main(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_main(_:)"
        }
      ],
      "title" : "Messages"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_connection_send_message_with_reply_sync(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_send_message_with_reply_sync(_:_:)"
}