{
  "abstract" : "Registers an activity with the system.",
  "codeExamples" : [

  ],
  "contentHash" : "9961ab0454ad80fff3dd67df1d288422e5799ce857c25bd1b244e8a8daa538fc",
  "crawledAt" : "2025-12-07T15:27:27Z",
  "declaration" : {
    "code" : "func xpc_activity_register(_ identifier: UnsafePointer<CChar>, _ criteria: xpc_object_t, _ handler: @escaping xpc_activity_handler_t)",
    "language" : "swift"
  },
  "id" : "48A20670-BD52-4EC5-8CD1-0F18AE995A4D",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Discussion\n\nRegisters a new activity with the system. The criteria of the activity are described by the dictionary passed to this function. If an activity with the same identifier already exists, the criteria provided override the existing criteria unless the special dictionary [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN] is used. The [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN] dictionary instructs the system to first look up an existing activity without modifying its criteria. Once the existing activity is found (or a new one is created with an empty set of criteria) the handler will be called with an activity object in the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_STATE_CHECK_IN] state.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_register(_:_:_:)\ncrawled: 2025-12-07T15:27:27Z\n---\n\n# xpc_activity_register(_:_:_:)\n\n**Function**\n\nRegisters an activity with the system.\n\n## Declaration\n\n```swift\nfunc xpc_activity_register(_ identifier: UnsafePointer<CChar>, _ criteria: xpc_object_t, _ handler: @escaping xpc_activity_handler_t)\n```\n\n## Parameters\n\n- **identifier**: A unique identifier for the activity. Each application has its own namespace.\n- **criteria**: A dictionary of criteria for the activity.\n- **handler**: The handler block to be called when the activity changes state to one of the following states:\n\n- [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_STATE_CHECK_IN] (optional)\n- [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_STATE_RUN]\n\nThe handler block is never invoked reentrantly. It will be invoked on a dispatch queue with an appropriate priority to perform the activity.\n\n## Discussion\n\nRegisters a new activity with the system. The criteria of the activity are described by the dictionary passed to this function. If an activity with the same identifier already exists, the criteria provided override the existing criteria unless the special dictionary [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN] is used. The [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN] dictionary instructs the system to first look up an existing activity without modifying its criteria. Once the existing activity is found (or a new one is created with an empty set of criteria) the handler will be called with an activity object in the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ACTIVITY_STATE_CHECK_IN] state.\n\n## Registration\n\n- **xpc_activity_unregister(_:)**: Unregisters an activity with the specified identifier.\n- **XPC_ACTIVITY_CHECK_IN**: A constant to check in with the system for a previously registered activity using the same identifier.\n- **xpc_activity_t**: An XPC activity object.\n- **xpc_activity_handler_t**: A block to call when an XPC activity becomes eligible to run.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Unregisters an activity with the specified identifier.",
          "name" : "xpc_activity_unregister(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_unregister(_:)"
        },
        {
          "description" : "A constant to check in with the system for a previously registered activity using the same identifier.",
          "name" : "XPC_ACTIVITY_CHECK_IN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN"
        },
        {
          "description" : "An XPC activity object.",
          "name" : "xpc_activity_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_t"
        },
        {
          "description" : "A block to call when an XPC activity becomes eligible to run.",
          "name" : "xpc_activity_handler_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_handler_t"
        }
      ],
      "title" : "Registration"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_activity_register(_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_register(_:_:_:)"
}