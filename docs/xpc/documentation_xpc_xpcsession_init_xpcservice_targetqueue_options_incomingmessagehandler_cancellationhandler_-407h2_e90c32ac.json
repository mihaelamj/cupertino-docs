{
  "abstract" : "Establishes a connection to an XPC service with the name and decodable message handler you specify.",
  "codeExamples" : [

  ],
  "contentHash" : "c9466f7e4d62a57f34ff792cb28f75ddda6f423ca92a48c792bace6d793108d1",
  "crawledAt" : "2025-12-04T01:38:01Z",
  "declaration" : {
    "code" : "@preconcurrency convenience init<Message>(xpcService: String, targetQueue: DispatchQueue? = nil, options: XPCSession.InitializationOptions = .none, incomingMessageHandler: ((Message) -> (any Encodable)?)? = nil, cancellationHandler: ((XPCRichError) -> Void)? = nil) throws where Message : Decodable",
    "language" : "swift"
  },
  "id" : "A5797C9D-A663-47EC-B817-D32AAC38B2F9",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Discussion\n\nIf the service isn’t found or is unavailable, the connection fails and this method throws an error.\n\nBy default, this method activates the session it creates and the session is ready to accept messages. To create an inactive session, specify [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPCSession\/InitializationOptions\/inactive] in the `options` parameter.",
  "platforms" : [
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/xpc\/xpcsession\/init(xpcservice:targetqueue:options:incomingmessagehandler:cancellationhandler:)-407h2\ncrawled: 2025-12-04T01:38:01Z\n---\n\n# init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)\n\n**Initializer**\n\nEstablishes a connection to an XPC service with the name and decodable message handler you specify.\n\n## Declaration\n\n```swift\n@preconcurrency convenience init<Message>(xpcService: String, targetQueue: DispatchQueue? = nil, options: XPCSession.InitializationOptions = .none, incomingMessageHandler: ((Message) -> (any Encodable)?)? = nil, cancellationHandler: ((XPCRichError) -> Void)? = nil) throws where Message : Decodable\n```\n\n## Parameters\n\n- **xpcService**: The name of the XPC service to connect to.\n- **targetQueue**: The dispatch queue to use for session events. You can specify a concurrent dispatch queue. If you specify [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/nil-227m0], the session uses `DISPATCH_TARGET_QUEUE_DEFAULT`.\n- **options**: Attributes the session uses when establishing the connection.\n- **incomingMessageHandler**: A closure the system calls when a client initiates a connection to the server.\n- **cancellationHandler**: A closure the system calls when it cancels a session.\n\n## Discussion\n\nIf the service isn’t found or is unavailable, the connection fails and this method throws an error.\n\nBy default, this method activates the session it creates and the session is ready to accept messages. To create an inactive session, specify [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPCSession\/InitializationOptions\/inactive] in the `options` parameter.\n\n## Creating a session\n\n- **init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)**: Establishes a connection to an XPC service with the name and received message handler you specify.\n- **init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)**: Establishes a connection to an XPC service with the name and dictionary message handler you specify.\n- **init(xpcService:targetQueue:options:cancellationHandler:)**: Establishes a connection to an XPC service with the name you specify.\n- **init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)**: Establishes a connection to a launch agent or launch daemon with the name and decodable message handler you specify.\n- **init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)**: Establishes a connection to a launch agent or launch daemon with the name and received message handler you specify.\n- **init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)**: Establishes a connection to a launch agent or launch daemon with the name and dictionary message handler you specify.\n- **init(machService:targetQueue:options:cancellationHandler:)**: Establishes a connection to a launch agent or launch daemon with the name you specify.\n- **XPCSession.InitializationOptions**: Options that control the session’s configuration.\n- **setTargetQueue(_:)**: Sets the target dispatch queue on an inactive session for processing messages.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Establishes a connection to an XPC service with the name and received message handler you specify.",
          "name" : "init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)-9f4u0"
        },
        {
          "description" : "Establishes a connection to an XPC service with the name and dictionary message handler you specify.",
          "name" : "init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)-bel3"
        },
        {
          "description" : "Establishes a connection to an XPC service with the name you specify.",
          "name" : "init(xpcService:targetQueue:options:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(xpcService:targetQueue:options:cancellationHandler:)"
        },
        {
          "description" : "Establishes a connection to a launch agent or launch daemon with the name and decodable message handler you specify.",
          "name" : "init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)-l3rz"
        },
        {
          "description" : "Establishes a connection to a launch agent or launch daemon with the name and received message handler you specify.",
          "name" : "init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)-2xuyi"
        },
        {
          "description" : "Establishes a connection to a launch agent or launch daemon with the name and dictionary message handler you specify.",
          "name" : "init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(machService:targetQueue:options:incomingMessageHandler:cancellationHandler:)-6jz7y"
        },
        {
          "description" : "Establishes a connection to a launch agent or launch daemon with the name you specify.",
          "name" : "init(machService:targetQueue:options:cancellationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/init(machService:targetQueue:options:cancellationHandler:)"
        },
        {
          "description" : "Options that control the session’s configuration.",
          "name" : "XPCSession.InitializationOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/InitializationOptions"
        },
        {
          "description" : "Sets the target dispatch queue on an inactive session for processing messages.",
          "name" : "setTargetQueue(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPCSession\/setTargetQueue(_:)"
        }
      ],
      "title" : "Creating a session"
    }
  ],
  "source" : "appleJSON",
  "title" : "init(xpcService:targetQueue:options:incomingMessageHandler:cancellationHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/xpc\/xpcsession\/init(xpcservice:targetqueue:options:incomingmessagehandler:cancellationhandler:)-407h2"
}