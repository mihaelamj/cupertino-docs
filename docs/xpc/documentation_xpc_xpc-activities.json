{
  "abstract" : "Schedule background activities for the system to execute.",
  "codeExamples" : [

  ],
  "contentHash" : "4b59ea3a24d51a854c76738bc4a0475f11b2cd899c6852e3b59d3f91ffb2879f",
  "crawledAt" : "2025-12-05T13:22:48Z",
  "id" : "7A825E3D-3A8B-427F-8375-D1A2E904F636",
  "kind" : "collection",
  "language" : "swift",
  "module" : "XPC",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/xpc\/xpc-activities\ncrawled: 2025-12-05T13:22:48Z\n---\n\n# XPC activities\n\n**API Collection**\n\nSchedule background activities for the system to execute.\n\n## Registration\n\n- **xpc_activity_register(_:_:_:)**: Registers an activity with the system.\n- **xpc_activity_unregister(_:)**: Unregisters an activity with the specified identifier.\n- **XPC_ACTIVITY_CHECK_IN**: A constant to check in with the system for a previously registered activity using the same identifier.\n- **xpc_activity_t**: An XPC activity object.\n- **xpc_activity_handler_t**: A block to call when an XPC activity becomes eligible to run.\n\n## State\n\n- **xpc_activity_get_state(_:)**: Returns the current state of an activity.\n- **xpc_activity_set_state(_:_:)**: Updates the current state of an activity.\n- **xpc_activity_should_defer(_:)**: Tests whether to defer an activity.\n- **xpc_activity_state_t**: A type that represents the state of an activity.\n- **xpc_activity_state_t**: A type that represents the state of an activity.\n- **XPC_ACTIVITY_STATE_CHECK_IN**: The activity has completed a check-in with the system.\n- **XPC_ACTIVITY_STATE_WAIT**: The activity is waiting for an opportunity to run.\n- **XPC_ACTIVITY_STATE_RUN**: The activity is eligible to run according to its criteria.\n- **XPC_ACTIVITY_STATE_DEFER**: The activity needs to wait until it satisfies its criteria again.\n- **XPC_ACTIVITY_STATE_CONTINUE**: The activity continues its operation beyond the return of its handler block.\n- **XPC_ACTIVITY_STATE_DONE**: The activity is complete.\n\n## Execution criteria\n\n- **xpc_activity_copy_criteria(_:)**: Returns an XPC dictionary that describes the execution criteria of an activity.\n- **xpc_activity_set_criteria(_:_:)**: Modifies the execution criteria of an activity.\n\n## Scheduling\n\n- **XPC_ACTIVITY_REPEATING**: A Boolean property that indicates whether this is a repeating activity.\n- **XPC_ACTIVITY_DELAY**: An integer property that indicates the number of seconds to delay before beginning the activity.\n- **XPC_ACTIVITY_GRACE_PERIOD**: An integer property that indicates the number of seconds to allow as a grace period before the scheduling of the activity becomes more aggressive.\n\n## Time Intervals\n\n- **XPC_ACTIVITY_INTERVAL**: An integer property that indicates the desired time interval of the activity in seconds.\n- **XPC_ACTIVITY_INTERVAL_1_MIN**: A constant that represents a 1-minute time interval.\n- **XPC_ACTIVITY_INTERVAL_5_MIN**: A constant that represents a 5-minute time interval.\n- **XPC_ACTIVITY_INTERVAL_15_MIN**: A constant that represents a 15-minute time interval.\n- **XPC_ACTIVITY_INTERVAL_30_MIN**: A constant that represents a 30-minute time interval.\n- **XPC_ACTIVITY_INTERVAL_1_HOUR**: A constant that represents a 1-hour time interval.\n- **XPC_ACTIVITY_INTERVAL_4_HOURS**: A constant that represents a 4-hour time interval.\n- **XPC_ACTIVITY_INTERVAL_8_HOURS**: A constant that represents an 8-hour time interval.\n- **XPC_ACTIVITY_INTERVAL_1_DAY**: A constant that represents a one-day time interval.\n- **XPC_ACTIVITY_INTERVAL_7_DAYS**: A constant that represents a seven-day time interval.\n\n## Priority\n\n- **XPC_ACTIVITY_PRIORITY**: A string property that indicates the priority of the activity.\n- **XPC_ACTIVITY_PRIORITY_MAINTENANCE**: A string that indicates an activity is maintenance priority.\n- **XPC_ACTIVITY_PRIORITY_UTILITY**: A string that indicates an activity is utility priority.\n\n## Power consumption\n\n- **XPC_ACTIVITY_ALLOW_BATTERY**: A Boolean value that indicates whether to allow the activity to run while the computer is on battery power.\n- **XPC_ACTIVITY_REQUIRE_SCREEN_SLEEP**: A Boolean value that indicates whether the activity performs only while the primary screen is in sleep mode.\n- **XPC_ACTIVITY_PREVENT_DEVICE_SLEEP**: A Boolean that indicates whether the activity prevents the system from sleeping while on battery power.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers an activity with the system.",
          "name" : "xpc_activity_register(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_register(_:_:_:)"
        },
        {
          "description" : "Unregisters an activity with the specified identifier.",
          "name" : "xpc_activity_unregister(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_unregister(_:)"
        },
        {
          "description" : "A constant to check in with the system for a previously registered activity using the same identifier.",
          "name" : "XPC_ACTIVITY_CHECK_IN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_CHECK_IN"
        },
        {
          "description" : "An XPC activity object.",
          "name" : "xpc_activity_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_t"
        },
        {
          "description" : "A block to call when an XPC activity becomes eligible to run.",
          "name" : "xpc_activity_handler_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_handler_t"
        }
      ],
      "title" : "Registration"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the current state of an activity.",
          "name" : "xpc_activity_get_state(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_get_state(_:)"
        },
        {
          "description" : "Updates the current state of an activity.",
          "name" : "xpc_activity_set_state(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_set_state(_:_:)"
        },
        {
          "description" : "Tests whether to defer an activity.",
          "name" : "xpc_activity_should_defer(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_should_defer(_:)"
        },
        {
          "description" : "A type that represents the state of an activity.",
          "name" : "xpc_activity_state_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc-activity-state-t-swift-consts"
        },
        {
          "description" : "A type that represents the state of an activity.",
          "name" : "xpc_activity_state_t",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_state_t"
        },
        {
          "description" : "The activity has completed a check-in with the system.",
          "name" : "XPC_ACTIVITY_STATE_CHECK_IN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_CHECK_IN"
        },
        {
          "description" : "The activity is waiting for an opportunity to run.",
          "name" : "XPC_ACTIVITY_STATE_WAIT",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_WAIT"
        },
        {
          "description" : "The activity is eligible to run according to its criteria.",
          "name" : "XPC_ACTIVITY_STATE_RUN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_RUN"
        },
        {
          "description" : "The activity needs to wait until it satisfies its criteria again.",
          "name" : "XPC_ACTIVITY_STATE_DEFER",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_DEFER"
        },
        {
          "description" : "The activity continues its operation beyond the return of its handler block.",
          "name" : "XPC_ACTIVITY_STATE_CONTINUE",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_CONTINUE"
        },
        {
          "description" : "The activity is complete.",
          "name" : "XPC_ACTIVITY_STATE_DONE",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_STATE_DONE"
        }
      ],
      "title" : "State"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an XPC dictionary that describes the execution criteria of an activity.",
          "name" : "xpc_activity_copy_criteria(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_copy_criteria(_:)"
        },
        {
          "description" : "Modifies the execution criteria of an activity.",
          "name" : "xpc_activity_set_criteria(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_activity_set_criteria(_:_:)"
        }
      ],
      "title" : "Execution criteria"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean property that indicates whether this is a repeating activity.",
          "name" : "XPC_ACTIVITY_REPEATING",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_REPEATING"
        },
        {
          "description" : "An integer property that indicates the number of seconds to delay before beginning the activity.",
          "name" : "XPC_ACTIVITY_DELAY",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_DELAY"
        },
        {
          "description" : "An integer property that indicates the number of seconds to allow as a grace period before the scheduling of the activity becomes more aggressive.",
          "name" : "XPC_ACTIVITY_GRACE_PERIOD",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_GRACE_PERIOD"
        }
      ],
      "title" : "Scheduling"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An integer property that indicates the desired time interval of the activity in seconds.",
          "name" : "XPC_ACTIVITY_INTERVAL",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL"
        },
        {
          "description" : "A constant that represents a 1-minute time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_1_MIN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_1_MIN"
        },
        {
          "description" : "A constant that represents a 5-minute time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_5_MIN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_5_MIN"
        },
        {
          "description" : "A constant that represents a 15-minute time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_15_MIN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_15_MIN"
        },
        {
          "description" : "A constant that represents a 30-minute time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_30_MIN",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_30_MIN"
        },
        {
          "description" : "A constant that represents a 1-hour time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_1_HOUR",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_1_HOUR"
        },
        {
          "description" : "A constant that represents a 4-hour time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_4_HOURS",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_4_HOURS"
        },
        {
          "description" : "A constant that represents an 8-hour time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_8_HOURS",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_8_HOURS"
        },
        {
          "description" : "A constant that represents a one-day time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_1_DAY",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_1_DAY"
        },
        {
          "description" : "A constant that represents a seven-day time interval.",
          "name" : "XPC_ACTIVITY_INTERVAL_7_DAYS",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_INTERVAL_7_DAYS"
        }
      ],
      "title" : "Time Intervals"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A string property that indicates the priority of the activity.",
          "name" : "XPC_ACTIVITY_PRIORITY",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_PRIORITY"
        },
        {
          "description" : "A string that indicates an activity is maintenance priority.",
          "name" : "XPC_ACTIVITY_PRIORITY_MAINTENANCE",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_PRIORITY_MAINTENANCE"
        },
        {
          "description" : "A string that indicates an activity is utility priority.",
          "name" : "XPC_ACTIVITY_PRIORITY_UTILITY",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_PRIORITY_UTILITY"
        }
      ],
      "title" : "Priority"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether to allow the activity to run while the computer is on battery power.",
          "name" : "XPC_ACTIVITY_ALLOW_BATTERY",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_ALLOW_BATTERY"
        },
        {
          "description" : "A Boolean value that indicates whether the activity performs only while the primary screen is in sleep mode.",
          "name" : "XPC_ACTIVITY_REQUIRE_SCREEN_SLEEP",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_REQUIRE_SCREEN_SLEEP"
        },
        {
          "description" : "A Boolean that indicates whether the activity prevents the system from sleeping while on battery power.",
          "name" : "XPC_ACTIVITY_PREVENT_DEVICE_SLEEP",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/XPC_ACTIVITY_PREVENT_DEVICE_SLEEP"
        }
      ],
      "title" : "Power consumption"
    }
  ],
  "source" : "appleJSON",
  "title" : "XPC activities",
  "url" : "https:\/\/developer.apple.com\/documentation\/xpc\/xpc-activities"
}