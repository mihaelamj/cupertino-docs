{
  "abstract" : "Cancels the connection and ensures that its event handler doesn’t fire again.",
  "codeExamples" : [

  ],
  "contentHash" : "c17a0952191cc902d04454bede9be334026850fc6167193df08a0c481a41537d",
  "crawledAt" : "2025-12-07T15:30:06Z",
  "declaration" : {
    "code" : "func xpc_connection_cancel(_ connection: xpc_connection_t)",
    "language" : "swift"
  },
  "id" : "877A0D5B-77C0-439A-A295-EC540E87DAB5",
  "kind" : "function",
  "language" : "swift",
  "module" : "XPC",
  "overview" : "## Discussion\n\nAfter this call, any messages that have not yet been sent will be discarded, and the connection will be unwound. If there are messages that are awaiting replies, they will have their reply handlers invoked with the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error.\n\nCancellation is asynchronous and non-preemptive and therefore this method will not interrupt the execution of an already-running event handler block. If the event handler is executing at the time of this call, it will finish, and then the connection will be canceled, causing a final invocation of the event handler to be scheduled with the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error. After that invocation, there will be no further invocations of the event handler.\n\nThe XPC runtime guarantees this non-preemptiveness even for concurrent target queues.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_cancel(_:)\ncrawled: 2025-12-07T15:30:06Z\n---\n\n# xpc_connection_cancel(_:)\n\n**Function**\n\nCancels the connection and ensures that its event handler doesn’t fire again.\n\n## Declaration\n\n```swift\nfunc xpc_connection_cancel(_ connection: xpc_connection_t)\n```\n\n## Parameters\n\n- **connection**: The connection object which is to be manipulated.\n\n## Discussion\n\nAfter this call, any messages that have not yet been sent will be discarded, and the connection will be unwound. If there are messages that are awaiting replies, they will have their reply handlers invoked with the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error.\n\nCancellation is asynchronous and non-preemptive and therefore this method will not interrupt the execution of an already-running event handler block. If the event handler is executing at the time of this call, it will finish, and then the connection will be canceled, causing a final invocation of the event handler to be scheduled with the [doc:\/\/com.apple.xpc\/documentation\/XPC\/XPC_ERROR_CONNECTION_INVALID-swift.var] error. After that invocation, there will be no further invocations of the event handler.\n\nThe XPC runtime guarantees this non-preemptiveness even for concurrent target queues.\n\n## Life cycle\n\n- **xpc_main(_:)**: Starts listening for incoming connections and processes them with the specified event handler.\n- **xpc_connection_activate(_:)**: Activates a new connection.\n- **xpc_connection_suspend(_:)**: Suspends the connection so the event handler block doesn’t fire and the connection doesn’t attempt to send any messages it has in its queue.\n- **xpc_connection_resume(_:)**: Resumes a suspended connection.\n- **xpc_transaction_begin()**: Informs the XPC runtime when a transaction begins, indicating that the service isn’t idle.\n- **xpc_transaction_end()**: Informs the XPC runtime when a transaction ends.\n- **xpc_connection_copy_invalidation_reason(_:)**\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts listening for incoming connections and processes them with the specified event handler.",
          "name" : "xpc_main(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_main(_:)"
        },
        {
          "description" : "Activates a new connection.",
          "name" : "xpc_connection_activate(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_activate(_:)"
        },
        {
          "description" : "Suspends the connection so the event handler block doesn’t fire and the connection doesn’t attempt to send any messages it has in its queue.",
          "name" : "xpc_connection_suspend(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_suspend(_:)"
        },
        {
          "description" : "Resumes a suspended connection.",
          "name" : "xpc_connection_resume(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_resume(_:)"
        },
        {
          "description" : "Informs the XPC runtime when a transaction begins, indicating that the service isn’t idle.",
          "name" : "xpc_transaction_begin()",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_transaction_begin()"
        },
        {
          "description" : "Informs the XPC runtime when a transaction ends.",
          "name" : "xpc_transaction_end()",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_transaction_end()"
        },
        {
          "description" : "",
          "name" : "xpc_connection_copy_invalidation_reason(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_copy_invalidation_reason(_:)"
        }
      ],
      "title" : "Life cycle"
    }
  ],
  "source" : "appleJSON",
  "title" : "xpc_connection_cancel(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/XPC\/xpc_connection_cancel(_:)"
}