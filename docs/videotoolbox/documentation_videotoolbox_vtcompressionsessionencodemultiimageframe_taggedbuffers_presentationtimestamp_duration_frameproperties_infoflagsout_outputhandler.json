{
  "abstract" : "Passes a multi-image frame to a compression session for encoding and provides a callback to handle the output.",
  "codeExamples" : [

  ],
  "contentHash" : "e99704f398c54f8379a67aaf414a082cc580e0a21936ba5637601c2d5e1b33cf",
  "crawledAt" : "2025-11-30T23:50:57Z",
  "declaration" : {
    "code" : "func VTCompressionSessionEncodeMultiImageFrame(_ session: VTCompressionSession, taggedBuffers: [CMTaggedBuffer], presentationTimeStamp: CMTime, duration: CMTime, frameProperties: CFDictionary?, infoFlagsOut: UnsafeMutablePointer<VTEncodeInfoFlags>?, outputHandler: @escaping VTCompressionOutputHandler) -> OSStatus",
    "language" : "swift"
  },
  "id" : "AE1E7A5E-BF6A-4258-B3B9-0B19AB9933BA",
  "kind" : "function",
  "module" : "Video Toolbox",
  "overview" : "## Return Value\n\nAn `OSStatus` value that indicates the result of the operation.\n\n## Discussion\n\nThe system doesn’t guarantee that encoded frames be output before the function returns. The session and encoder retain the image buffer as long as necessary.\n\nYou can’t call this function on a session created with a [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTCompressionOutputCallback].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTCompressionSessionEncodeMultiImageFrame(_:taggedBuffers:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)\ncrawled: 2025-11-30T23:50:57Z\n---\n\n# VTCompressionSessionEncodeMultiImageFrame(_:taggedBuffers:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)\n\n**Function**\n\nPasses a multi-image frame to a compression session for encoding and provides a callback to handle the output.\n\n## Declaration\n\n```swift\nfunc VTCompressionSessionEncodeMultiImageFrame(_ session: VTCompressionSession, taggedBuffers: [CMTaggedBuffer], presentationTimeStamp: CMTime, duration: CMTime, frameProperties: CFDictionary?, infoFlagsOut: UnsafeMutablePointer<VTEncodeInfoFlags>?, outputHandler: @escaping VTCompressionOutputHandler) -> OSStatus\n```\n\n## Parameters\n\n- **session**: The compression session.\n- **taggedBuffers**: An array of [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMTaggedBuffer] structures that contains the multiple images for a video frame to compress.\n- **presentationTimeStamp**: The presentation timestamp for this frame to attach to the sample buffer. Each presentation timestamp that you pass to a session must be greater than the previous one.\n- **duration**: The presentation duration for this frame to attach to the sample buffer. Pass a value of [doc:\/\/com.apple.documentation\/documentation\/CoreMedia\/CMTime\/invalid] if you don’t have duration information.\n- **frameProperties**: A dictionary that specifies additional properties for encoding this frame. Some session properties may also change between frames, which affect subsequently encoded frames.\n- **infoFlagsOut**: Points to a [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTEncodeInfoFlags] value to receive information about the encode operation.\n\nThe system sets the [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTEncodeInfoFlags\/asynchronous] flag if the encode runs asynchronously.\n\nThe system sets the [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTEncodeInfoFlags\/frameDropped] flag if the encoding process dropped a frame (synchronously).\n\nPass `NULL` if you don’t want to receive this information.\n- **outputHandler**: A callback the system invokes when it completes encoding a frame.\n\nThe system may invoke this callback asynchronously, on a different thread from the one that calls [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTCompressionSessionEncodeMultiImageFrame(_:taggedBuffers:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)].\n\n## Return Value\n\nAn `OSStatus` value that indicates the result of the operation.\n\n## Discussion\n\nThe system doesn’t guarantee that encoded frames be output before the function returns. The session and encoder retain the image buffer as long as necessary.\n\nYou can’t call this function on a session created with a [doc:\/\/com.apple.videotoolbox\/documentation\/VideoToolbox\/VTCompressionOutputCallback].\n\n\n\n## Encoding Multi-Image Frames\n\n- **VTIsStereoMVHEVCEncodeSupported()**: Returns a Boolean value that indicates whether the system supports MV-HEVC encoding.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the system supports MV-HEVC encoding.",
          "name" : "VTIsStereoMVHEVCEncodeSupported()",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTIsStereoMVHEVCEncodeSupported()"
        }
      ],
      "title" : "Encoding Multi-Image Frames"
    }
  ],
  "source" : "appleJSON",
  "title" : "VTCompressionSessionEncodeMultiImageFrame(_:taggedBuffers:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTCompressionSessionEncodeMultiImageFrame(_:taggedBuffers:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)"
}