{
  "abstract" : "Configure a compression session to transcode video in offline workflows.",
  "codeExamples" : [
    {
      "code" : "\/\/ Specify the pixel format of the uncompressed video.\nlet sourceImageBufferAttributes = [kCVPixelBufferPixelFormatTypeKey: options.pixelFormat as CFNumber] as CFDictionary\n\nvar compressionSessionOut: VTCompressionSession?\nlet err = VTCompressionSessionCreate(allocator: kCFAllocatorDefault,\n                                     width: Int32(options.destWidth),\n                                     height: Int32(options.destHeight),\n                                     codecType: options.codec,\n                                     encoderSpecification: nil,\n                                     imageBufferAttributes: sourceImageBufferAttributes,\n                                     compressedDataAllocator: nil,\n                                     outputCallback: nil,\n                                     refcon: nil,\n                                     compressionSessionOut: &compressionSessionOut)\nguard err == noErr, let compressionSession = compressionSessionOut else {\n    throw RuntimeError(\"VTCompressionSession creation failed (\\(err))!\")\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/\/ Get the suggested encoder settings dictionary for encode preset.\n\/\/\/ - Parameters:\n\/\/\/   - session: A compression session.\n\/\/\/   - encodePreset: The `EncodePreset` enumeration.\nprivate func getEncoderSettingsForPreset(session: VTCompressionSession, encodePreset: EncodePreset) -> [CFString: Any]? {\n    var supportedPresetDictionaries: CFDictionary?\n    var encoderSettings: [CFString: Any]?\n\n    _ = withUnsafeMutablePointer(to: &supportedPresetDictionaries) { valueOut in\n        VTSessionCopyProperty( session, key: kVTCompressionPropertyKey_SupportedPresetDictionaries,\n                               allocator: kCFAllocatorDefault, valueOut: valueOut )\n    }\n\n    if let presetDictionaries = supportedPresetDictionaries as? [CFString: [CFString: Any]] {\n        let presetConstant = switch encodePreset {\n        case .videoConferencing: kVTCompressionPreset_VideoConferencing\n        }\n\n        encoderSettings = presetDictionaries[presetConstant]\n    }\n\n    return encoderSettings\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/\/ Configures a compression session for offline transcoding.\n\/\/\/ - Parameters:\n\/\/\/   - session: A compression session.\n\/\/\/   - options: The configuration options.\n\/\/\/   - expectedFrameRate: The expected frame rate of the video source.\nprivate func configureVTCompressionSession(session: VTCompressionSession, options: Options, expectedFrameRate: Float) throws {\n    \/\/ Different encoder implementations may support different property sets, so\n    \/\/ the app needs to determine the implications of a failed property setting\n    \/\/ on a case-by-case basis for the encoder. If the property is essential for\n    \/\/ the use case and its setting fails, the app terminates. Otherwise, the\n    \/\/ encoder ignores the failed setting and uses a default value to proceed\n    \/\/ with encoding.\n\n    var err: OSStatus = noErr\n    var variableBitRateMode = false\n\n    if let presetTuple = options.presetTuple {\n        \/\/ Try configuring the encoder using the preset.\n        let encoderSettings: [CFString: Any]?\n        encoderSettings = getEncoderSettingsForPreset(session: session, encodePreset: presetTuple.0)\n\n        if let encoderSettings {\n            if encoderSettings[kVTCompressionPropertyKey_VariableBitRate] != nil {\n                variableBitRateMode = true\n            }\n\n            \/\/ Set the encoder settings dictionary on the compression session.\n            err = VTSessionSetProperties(session, propertyDictionary: encoderSettings as CFDictionary)\n            try NSError.check(err, \"VTSessionSetProperties failed\")\n        }\n    }\n\n    \/\/ Indicate that the compression session isn't in real time.\n    err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_RealTime, value: kCFBooleanFalse)\n    if err != noErr {\n        print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_RealTime) failed (\\(err))\")\n    }\n\n    \/\/ Indicate the expected frame rate, if known. This is just a hint for rate\n    \/\/ control purposes; the actual encoding frame rate matches the incoming\n    \/\/ frame rate even if it doesn't match this setting. When\n    \/\/ `kVTCompressionPropertyKey_RealTime` is `kCFBooleanFalse`, the encoder\n    \/\/ can still optimize internal encoder configuration.\n    err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_ExpectedFrameRate, value: expectedFrameRate as CFNumber)\n    if err != noErr {\n        print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_ExpectedFrameRate) failed (\\(err))\")\n    }\n\n    \/\/ Specify the profile and level for the encoded bitstream.\n    if let profileTuple = options.profileTuple {\n        var profileConstant: CFString?\n\n        if options.codec == kCMVideoCodecType_H264 {\n            if profileTuple.0 == .h264Main {\n                profileConstant = kVTProfileLevel_H264_Main_AutoLevel\n            } else if profileTuple.0 == .h264High {\n                profileConstant = kVTProfileLevel_H264_High_AutoLevel\n            }\n        } else if options.codec == kCMVideoCodecType_HEVC {\n            if profileTuple.0 == .hevcMain {\n                profileConstant = kVTProfileLevel_HEVC_Main_AutoLevel\n            } else if profileTuple.0 == .hevcMain10 {\n                profileConstant = kVTProfileLevel_HEVC_Main10_AutoLevel\n            }\n        }\n\n        if let profileConstant {\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_ProfileLevel, value: profileConstant)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_ProfileLevel) failed (\\(err))\")\n            }\n        }\n    }\n\n    if let destBitRate = options.destBitRate {\n        if variableBitRateMode {\n            \/\/ Specify the long-term desired variable bit rate in bits per second.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_VariableBitRate, value: destBitRate as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_VariableBitRate) failed (\\(err))\")\n            }\n\n            \/\/ Set VBV maximum bit rate.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_VBVMaxBitRate, value: (destBitRate * 3 \/ 2) as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_VBVMaxBitRate) failed (\\(err))\")\n            }\n        } else {\n            \/\/ Specify the long-term desired average bit rate in bits per second.\n            \/\/ It's a soft limit, so the encoder may overshoot or undershoot and\n            \/\/ the average bit rate of the output video may be over or under the\n            \/\/ target.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_AverageBitRate, value: destBitRate as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_AverageBitRate) failed (\\(err))\")\n            }\n        }\n    }\n\n    if let maxKeyFrameInterval = options.maxKeyFrameInterval {\n        \/\/ Specify the maximum interval between key frames, also known as\n        \/\/ the key frame rate. Set this in conjunction with\n        \/\/ `kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration` to\n        \/\/ enforce both limits, which requires a keyframe every X frames\n        \/\/ or every Y seconds, whichever comes first.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaxKeyFrameInterval, value: maxKeyFrameInterval as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaxKeyFrameInterval) failed (\\(err))\")\n        }\n    }\n\n    if let maxKeyFrameIntervalDuration = options.maxKeyFrameIntervalDuration {\n        \/\/ Specify the maximum duration from one key frame to the next in seconds.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration,\n                                   value: maxKeyFrameIntervalDuration as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration) failed (\\(err))\")\n        }\n    }\n\n    if options.savePower {\n        \/\/ Hint to the video encoder to maximize power efficiency during\n        \/\/ encoding. Leave this to `kCFBooleanFalse` for offline transcoding\n        \/\/ that a person initiates and waits for the results. Set this to\n        \/\/ `kCFBooleanTrue` for the offline transcoding in the background\n        \/\/ when the person isn't aware.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaximizePowerEfficiency, value: kCFBooleanTrue)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaximizePowerEfficiency) failed (\\(err))\")\n        }\n    }\n\n    if let lookAheadFrames = options.lookAheadFrames {\n        \/\/ Specify the number of look ahead frames.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_SuggestedLookAheadFrameCount, value: lookAheadFrames as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_SuggestedLookAheadFrameCount) failed (\\(err))\")\n        }\n    }\n\n    if let spatialAdaptiveQP = options.spatialAdaptiveQP {\n        \/\/ Specify whether to apply spatial QP adaptation based on per-frame statistics.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_SpatialAdaptiveQPLevel, value: spatialAdaptiveQP as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_SpatialAdaptiveQPLevel) failed (\\(err))\")\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "8629047450de98a3b4f8f6773e06edd2a75cbe3723c29d26edd2bbdcc0c9eeb7",
  "crawledAt" : "2025-12-03T15:07:29Z",
  "id" : "B33F15ED-97C9-444C-9101-B3A25C987BF5",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Video Toolbox",
  "overview" : "## Overview\n\nThis sample code project demonstrates how to configure and use a `VTCompressionSession` object to encode video for offline transcoding.\n\n### Create a compression session\n\nCreate a `VTCompressionSession` object and specify the required dimensions and `codecType`. Optionally, specify `sourceImageBufferAttributes` to provide a description of the source pixel buffers.\n\n### Configure the compression session\n\nGet the suggested encoder settings dictionary for the encode preset.\n\nSet the encoder settings dictionary. Set `kVTCompressionPropertyKey_RealTime` to `kCFBooleanFalse` to indicate that this is an offline encoding session. Specify the expected video source frame rate. Specify whether to maximize power efficiency during encoding. Optionally specify the codec profile and level, the target bit rate, the maximum interval between key frames, the number of look ahead frames, and the spatial adaptive QP level.\n\n### Encode video frames\n\nCall `VTCompressionSessionEncodeFrame(_:imageBuffer:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)` and submit each uncompressed frame to the `VTCompressionSession` object for encoding. The object calls the `outputHandler` block for each encoded frame. Check whether a frame drop or error occurs after frame encoding.\n\nCall `VTCompressionSessionCompleteFrames(_:untilPresentationTimeStamp:)` to indicate to the `VTCompressionSession` object that the app submitted all uncompressed video frames for encoding.\n\n### Perform compression and encoding\n\nYou can use the movie file `\/Assets\/video.m4v` to test this app. Copy the file to your desktop or other working directory, and then open Terminal to that directory and run the following command, where `xxx` is a unique string that Xcode generates. Use autocomplete before the `xxx` component to complete the path for that directory.\n\n`~\/Library\/Developer\/Xcode\/DerivedData\/VTEncoderForTranscoding-xxx\/Build\/Products\/Debug\/VTEncoderForTranscoding-Swift video.m4v`\n\nPass the `--help` option for additional configuration options.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/videotoolbox\/encoding-video-for-offline-transcoding\ncrawled: 2025-12-03T15:07:29Z\n---\n\n# Encoding video for offline transcoding\n\n**Sample Code**\n\nConfigure a compression session to transcode video in offline workflows.\n\n## Overview\n\nThis sample code project demonstrates how to configure and use a `VTCompressionSession` object to encode video for offline transcoding.\n\n### Create a compression session\n\nCreate a `VTCompressionSession` object and specify the required dimensions and `codecType`. Optionally, specify `sourceImageBufferAttributes` to provide a description of the source pixel buffers.\n\n```swift\n\/\/ Specify the pixel format of the uncompressed video.\nlet sourceImageBufferAttributes = [kCVPixelBufferPixelFormatTypeKey: options.pixelFormat as CFNumber] as CFDictionary\n\nvar compressionSessionOut: VTCompressionSession?\nlet err = VTCompressionSessionCreate(allocator: kCFAllocatorDefault,\n                                     width: Int32(options.destWidth),\n                                     height: Int32(options.destHeight),\n                                     codecType: options.codec,\n                                     encoderSpecification: nil,\n                                     imageBufferAttributes: sourceImageBufferAttributes,\n                                     compressedDataAllocator: nil,\n                                     outputCallback: nil,\n                                     refcon: nil,\n                                     compressionSessionOut: &compressionSessionOut)\nguard err == noErr, let compressionSession = compressionSessionOut else {\n    throw RuntimeError(\"VTCompressionSession creation failed (\\(err))!\")\n}\n```\n\n### Configure the compression session\n\nGet the suggested encoder settings dictionary for the encode preset.\n\n```swift\n\/\/\/ Get the suggested encoder settings dictionary for encode preset.\n\/\/\/ - Parameters:\n\/\/\/   - session: A compression session.\n\/\/\/   - encodePreset: The `EncodePreset` enumeration.\nprivate func getEncoderSettingsForPreset(session: VTCompressionSession, encodePreset: EncodePreset) -> [CFString: Any]? {\n    var supportedPresetDictionaries: CFDictionary?\n    var encoderSettings: [CFString: Any]?\n\n    _ = withUnsafeMutablePointer(to: &supportedPresetDictionaries) { valueOut in\n        VTSessionCopyProperty( session, key: kVTCompressionPropertyKey_SupportedPresetDictionaries,\n                               allocator: kCFAllocatorDefault, valueOut: valueOut )\n    }\n\n    if let presetDictionaries = supportedPresetDictionaries as? [CFString: [CFString: Any]] {\n        let presetConstant = switch encodePreset {\n        case .videoConferencing: kVTCompressionPreset_VideoConferencing\n        }\n\n        encoderSettings = presetDictionaries[presetConstant]\n    }\n\n    return encoderSettings\n}\n```\n\nSet the encoder settings dictionary. Set `kVTCompressionPropertyKey_RealTime` to `kCFBooleanFalse` to indicate that this is an offline encoding session. Specify the expected video source frame rate. Specify whether to maximize power efficiency during encoding. Optionally specify the codec profile and level, the target bit rate, the maximum interval between key frames, the number of look ahead frames, and the spatial adaptive QP level.\n\n```swift\n\/\/\/ Configures a compression session for offline transcoding.\n\/\/\/ - Parameters:\n\/\/\/   - session: A compression session.\n\/\/\/   - options: The configuration options.\n\/\/\/   - expectedFrameRate: The expected frame rate of the video source.\nprivate func configureVTCompressionSession(session: VTCompressionSession, options: Options, expectedFrameRate: Float) throws {\n    \/\/ Different encoder implementations may support different property sets, so\n    \/\/ the app needs to determine the implications of a failed property setting\n    \/\/ on a case-by-case basis for the encoder. If the property is essential for\n    \/\/ the use case and its setting fails, the app terminates. Otherwise, the\n    \/\/ encoder ignores the failed setting and uses a default value to proceed\n    \/\/ with encoding.\n\n    var err: OSStatus = noErr\n    var variableBitRateMode = false\n\n    if let presetTuple = options.presetTuple {\n        \/\/ Try configuring the encoder using the preset.\n        let encoderSettings: [CFString: Any]?\n        encoderSettings = getEncoderSettingsForPreset(session: session, encodePreset: presetTuple.0)\n\n        if let encoderSettings {\n            if encoderSettings[kVTCompressionPropertyKey_VariableBitRate] != nil {\n                variableBitRateMode = true\n            }\n\n            \/\/ Set the encoder settings dictionary on the compression session.\n            err = VTSessionSetProperties(session, propertyDictionary: encoderSettings as CFDictionary)\n            try NSError.check(err, \"VTSessionSetProperties failed\")\n        }\n    }\n\n    \/\/ Indicate that the compression session isn't in real time.\n    err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_RealTime, value: kCFBooleanFalse)\n    if err != noErr {\n        print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_RealTime) failed (\\(err))\")\n    }\n\n    \/\/ Indicate the expected frame rate, if known. This is just a hint for rate\n    \/\/ control purposes; the actual encoding frame rate matches the incoming\n    \/\/ frame rate even if it doesn't match this setting. When\n    \/\/ `kVTCompressionPropertyKey_RealTime` is `kCFBooleanFalse`, the encoder\n    \/\/ can still optimize internal encoder configuration.\n    err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_ExpectedFrameRate, value: expectedFrameRate as CFNumber)\n    if err != noErr {\n        print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_ExpectedFrameRate) failed (\\(err))\")\n    }\n\n    \/\/ Specify the profile and level for the encoded bitstream.\n    if let profileTuple = options.profileTuple {\n        var profileConstant: CFString?\n\n        if options.codec == kCMVideoCodecType_H264 {\n            if profileTuple.0 == .h264Main {\n                profileConstant = kVTProfileLevel_H264_Main_AutoLevel\n            } else if profileTuple.0 == .h264High {\n                profileConstant = kVTProfileLevel_H264_High_AutoLevel\n            }\n        } else if options.codec == kCMVideoCodecType_HEVC {\n            if profileTuple.0 == .hevcMain {\n                profileConstant = kVTProfileLevel_HEVC_Main_AutoLevel\n            } else if profileTuple.0 == .hevcMain10 {\n                profileConstant = kVTProfileLevel_HEVC_Main10_AutoLevel\n            }\n        }\n\n        if let profileConstant {\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_ProfileLevel, value: profileConstant)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_ProfileLevel) failed (\\(err))\")\n            }\n        }\n    }\n\n    if let destBitRate = options.destBitRate {\n        if variableBitRateMode {\n            \/\/ Specify the long-term desired variable bit rate in bits per second.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_VariableBitRate, value: destBitRate as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_VariableBitRate) failed (\\(err))\")\n            }\n\n            \/\/ Set VBV maximum bit rate.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_VBVMaxBitRate, value: (destBitRate * 3 \/ 2) as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_VBVMaxBitRate) failed (\\(err))\")\n            }\n        } else {\n            \/\/ Specify the long-term desired average bit rate in bits per second.\n            \/\/ It's a soft limit, so the encoder may overshoot or undershoot and\n            \/\/ the average bit rate of the output video may be over or under the\n            \/\/ target.\n            err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_AverageBitRate, value: destBitRate as CFNumber)\n            if err != noErr {\n                print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_AverageBitRate) failed (\\(err))\")\n            }\n        }\n    }\n\n    if let maxKeyFrameInterval = options.maxKeyFrameInterval {\n        \/\/ Specify the maximum interval between key frames, also known as\n        \/\/ the key frame rate. Set this in conjunction with\n        \/\/ `kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration` to\n        \/\/ enforce both limits, which requires a keyframe every X frames\n        \/\/ or every Y seconds, whichever comes first.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaxKeyFrameInterval, value: maxKeyFrameInterval as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaxKeyFrameInterval) failed (\\(err))\")\n        }\n    }\n\n    if let maxKeyFrameIntervalDuration = options.maxKeyFrameIntervalDuration {\n        \/\/ Specify the maximum duration from one key frame to the next in seconds.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration,\n                                   value: maxKeyFrameIntervalDuration as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaxKeyFrameIntervalDuration) failed (\\(err))\")\n        }\n    }\n\n    if options.savePower {\n        \/\/ Hint to the video encoder to maximize power efficiency during\n        \/\/ encoding. Leave this to `kCFBooleanFalse` for offline transcoding\n        \/\/ that a person initiates and waits for the results. Set this to\n        \/\/ `kCFBooleanTrue` for the offline transcoding in the background\n        \/\/ when the person isn't aware.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_MaximizePowerEfficiency, value: kCFBooleanTrue)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_MaximizePowerEfficiency) failed (\\(err))\")\n        }\n    }\n\n    if let lookAheadFrames = options.lookAheadFrames {\n        \/\/ Specify the number of look ahead frames.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_SuggestedLookAheadFrameCount, value: lookAheadFrames as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_SuggestedLookAheadFrameCount) failed (\\(err))\")\n        }\n    }\n\n    if let spatialAdaptiveQP = options.spatialAdaptiveQP {\n        \/\/ Specify whether to apply spatial QP adaptation based on per-frame statistics.\n        err = VTSessionSetProperty(session, key: kVTCompressionPropertyKey_SpatialAdaptiveQPLevel, value: spatialAdaptiveQP as CFNumber)\n        if err != noErr {\n            print(\"Warning: VTSessionSetProperty(kVTCompressionPropertyKey_SpatialAdaptiveQPLevel) failed (\\(err))\")\n        }\n    }\n}\n```\n\n### Encode video frames\n\nCall `VTCompressionSessionEncodeFrame(_:imageBuffer:presentationTimeStamp:duration:frameProperties:infoFlagsOut:outputHandler:)` and submit each uncompressed frame to the `VTCompressionSession` object for encoding. The object calls the `outputHandler` block for each encoded frame. Check whether a frame drop or error occurs after frame encoding.\n\nCall `VTCompressionSessionCompleteFrames(_:untilPresentationTimeStamp:)` to indicate to the `VTCompressionSession` object that the app submitted all uncompressed video frames for encoding.\n\n### Perform compression and encoding\n\nYou can use the movie file `\/Assets\/video.m4v` to test this app. Copy the file to your desktop or other working directory, and then open Terminal to that directory and run the following command, where `xxx` is a unique string that Xcode generates. Use autocomplete before the `xxx` component to complete the path for that directory.\n\n`~\/Library\/Developer\/Xcode\/DerivedData\/VTEncoderForTranscoding-xxx\/Build\/Products\/Debug\/VTEncoderForTranscoding-Swift video.m4v`\n\nPass the `--help` option for additional configuration options.\n\n## Compression\n\n- **Encoding video for low-latency conferencing**: Configure a compression session to optimize encoding for video-conferencing apps.\n- **Encoding video for live streaming**: Configure a compression session to encode video for live streaming.\n- **VTCompressionSession**: An object that compresses video data.\n- **VTDecompressionSession**: An object that decompresses video data.\n- **VTFrameSilo**: An object that stores sample buffers from a multipass encoding session.\n- **VTMultiPassStorage**: An object that stores video encoding metadata from a multipass encoding session.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Configure a compression session to optimize encoding for video-conferencing apps.",
          "name" : "Encoding video for low-latency conferencing",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/encoding-video-for-low-latency-conferencing"
        },
        {
          "description" : "Configure a compression session to encode video for live streaming.",
          "name" : "Encoding video for live streaming",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/encoding-video-for-live-streaming"
        },
        {
          "description" : "An object that compresses video data.",
          "name" : "VTCompressionSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTCompressionSession-api-collection"
        },
        {
          "description" : "An object that decompresses video data.",
          "name" : "VTDecompressionSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTDecompressionSession-api-collection"
        },
        {
          "description" : "An object that stores sample buffers from a multipass encoding session.",
          "name" : "VTFrameSilo",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTFrameSilo-api-collection"
        },
        {
          "description" : "An object that stores video encoding metadata from a multipass encoding session.",
          "name" : "VTMultiPassStorage",
          "url" : "https:\/\/developer.apple.com\/documentation\/VideoToolbox\/VTMultiPassStorage-api-collection"
        }
      ],
      "title" : "Compression"
    }
  ],
  "source" : "appleJSON",
  "title" : "Encoding video for offline transcoding",
  "url" : "https:\/\/developer.apple.com\/documentation\/videotoolbox\/encoding-video-for-offline-transcoding"
}