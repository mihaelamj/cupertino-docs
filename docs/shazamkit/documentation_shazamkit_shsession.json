{
  "abstract" : "An object that matches a specific audio recording when a segment of that recording is part of captured sound in the Shazam catalog or your custom catalog.",
  "codeExamples" : [
    {
      "code" : "\/\/ Set up the session.\nlet session = SHSession()\n\n\/\/ Create a signature from the captured audio buffer.\nlet signatureGenerator = SHSignatureGenerator()\ntry signatureGenerator.append(buffer, at: audioTime)\nlet signature = signatureGenerator.signature()\n\n\/\/ Check for a match.\nlet result = await session.result(from: signature)\n\n\/\/ Use the result.\nswitch result {\n case .match(let match):\n      \/\/ Match found.\n case .noMatch(let signature):\n      \/\/ No match found.\n case .error(let error, let signature):\n      \/\/ An error occurred.\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "c0bd4fe4a75a0fe42bc04e8a5031abf6550d10089e9bb0b8a94be3b826709492",
  "crawledAt" : "2025-12-03T04:38:23Z",
  "declaration" : {
    "code" : "class SHSession",
    "language" : "swift"
  },
  "id" : "62681347-94C6-49BE-B429-20806DC7DC83",
  "kind" : "class",
  "language" : "swift",
  "module" : "ShazamKit",
  "overview" : "## Overview\n\nPrepare to make matches by:\n\nSearch for a match in one of two ways:\n\nSearching the catalog is asynchronous. The session calls your delegate methods with the result.\n\nMatching songs in Shazam music requires enabling your app to access the catalog. For more information on enabling your app, see [https:\/\/developer.apple.com\/help\/account\/configure-app-services\/shazamkit].\n\nThe code below shows searching for a match in the Shazam catalog using an existing audio buffer:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\ncrawled: 2025-12-03T04:38:23Z\n---\n\n# SHSession\n\n**Class**\n\nAn object that matches a specific audio recording when a segment of that recording is part of captured sound in the Shazam catalog or your custom catalog.\n\n## Declaration\n\n```swift\nclass SHSession\n```\n\n## Overview\n\nPrepare to make matches by:\n\n- Creating a session for the catalog that contains the reference signatures\n- Adding your delegate that receives the match results\n\nSearch for a match in one of two ways:\n\n- Generate a signature for the captured audio and call [doc:\/\/com.apple.shazamkit\/documentation\/ShazamKit\/SHSession\/match(_:)]\n- Call [doc:\/\/com.apple.shazamkit\/documentation\/ShazamKit\/SHSession\/matchStreamingBuffer(_:at:)] with a streaming audio buffer, and ShazamKit generates the signature for you\n\nSearching the catalog is asynchronous. The session calls your delegate methods with the result.\n\nMatching songs in Shazam music requires enabling your app to access the catalog. For more information on enabling your app, see [https:\/\/developer.apple.com\/help\/account\/configure-app-services\/shazamkit].\n\nThe code below shows searching for a match in the Shazam catalog using an existing audio buffer:\n\n```swift\n\/\/ Set up the session.\nlet session = SHSession()\n\n\/\/ Create a signature from the captured audio buffer.\nlet signatureGenerator = SHSignatureGenerator()\ntry signatureGenerator.append(buffer, at: audioTime)\nlet signature = signatureGenerator.signature()\n\n\/\/ Check for a match.\nlet result = await session.result(from: signature)\n\n\/\/ Use the result.\nswitch result {\n case .match(let match):\n      \/\/ Match found.\n case .noMatch(let signature):\n      \/\/ No match found.\n case .error(let error, let signature):\n      \/\/ An error occurred.\n}\n```\n\n## Creating a session object\n\n- **init()**: Creates a new session object for matching songs in the Shazam Music catalog.\n- **init(catalog:)**: Creates a new session object for matching audio in a custom catalog.\n\n## Making a match\n\n- **match(_:)**: Searches for the query signature in the reference signatures that the session catalog contains.\n- **matchStreamingBuffer(_:at:)**: Converts the audio in the buffer to a signature, and searches the reference signatures in the session catalog.\n- **Matching audio using the built-in microphone**: Use the audio stream from the microphone as the source for a ShazamKit session.\n\n## Reading the session properties\n\n- **delegate**: The object that the session calls with the result of a match request.\n- **catalog**: The catalog object containing the reference signatures and their associated metadata that the session uses to perform matches.\n- **results**: The results as an asynchronous sequence of matches.\n- **SHSession.Results**: An asynchronous sequence that emits updates from a session object query.\n\n## Returning queries\n\n- **result(from:)**: Performs an asynchronous match with a signature you specify.\n- **SHSession.Result**: Identifies the result from an asynchronous sequence result.\n\n## Match audio\n\n- **SHManagedSession**: An object that records and matches a recording with captured sound in the Shazam catalog or your custom catalog.\n- **SHSessionDelegate**: Methods that the session calls with the result of a match request.\n- **SHMatch**: An object that represents the catalog media items that match a query.\n- **SHMatchedMediaItem**: An object that represents the metadata for a matched reference signature.\n- **SHMediaItem**: An object that represents the metadata for a reference signature.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new session object for matching songs in the Shazam Music catalog.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/init()"
        },
        {
          "description" : "Creates a new session object for matching audio in a custom catalog.",
          "name" : "init(catalog:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/init(catalog:)"
        }
      ],
      "title" : "Creating a session object"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Searches for the query signature in the reference signatures that the session catalog contains.",
          "name" : "match(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/match(_:)"
        },
        {
          "description" : "Converts the audio in the buffer to a signature, and searches the reference signatures in the session catalog.",
          "name" : "matchStreamingBuffer(_:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/matchStreamingBuffer(_:at:)"
        },
        {
          "description" : "Use the audio stream from the microphone as the source for a ShazamKit session.",
          "name" : "Matching audio using the built-in microphone",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/matching-audio-using-the-built-in-microphone"
        }
      ],
      "title" : "Making a match"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The object that the session calls with the result of a match request.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/delegate"
        },
        {
          "description" : "The catalog object containing the reference signatures and their associated metadata that the session uses to perform matches.",
          "name" : "catalog",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/catalog"
        },
        {
          "description" : "The results as an asynchronous sequence of matches.",
          "name" : "results",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/results-swift.property"
        },
        {
          "description" : "An asynchronous sequence that emits updates from a session object query.",
          "name" : "SHSession.Results",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/Results-swift.struct"
        }
      ],
      "title" : "Reading the session properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Performs an asynchronous match with a signature you specify.",
          "name" : "result(from:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/result(from:)"
        },
        {
          "description" : "Identifies the result from an asynchronous sequence result.",
          "name" : "SHSession.Result",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession\/Result"
        }
      ],
      "title" : "Returning queries"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that records and matches a recording with captured sound in the Shazam catalog or your custom catalog.",
          "name" : "SHManagedSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHManagedSession"
        },
        {
          "description" : "Methods that the session calls with the result of a match request.",
          "name" : "SHSessionDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSessionDelegate"
        },
        {
          "description" : "An object that represents the catalog media items that match a query.",
          "name" : "SHMatch",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHMatch"
        },
        {
          "description" : "An object that represents the metadata for a matched reference signature.",
          "name" : "SHMatchedMediaItem",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHMatchedMediaItem"
        },
        {
          "description" : "An object that represents the metadata for a reference signature.",
          "name" : "SHMediaItem",
          "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHMediaItem"
        }
      ],
      "title" : "Match audio"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "SHSession",
  "url" : "https:\/\/developer.apple.com\/documentation\/ShazamKit\/SHSession"
}