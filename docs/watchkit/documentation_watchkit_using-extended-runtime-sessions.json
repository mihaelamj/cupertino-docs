{
  "abstract" : "Create an extended runtime session that continues running your app after the user stops interacting with it.",
  "codeExamples" : [
    {
      "code" : "\/\/ Create the session object.\nsession = WKExtendedRuntimeSession()\n\n\/\/ Assign the delegate.\nsession.delegate = self",
      "language" : "swift"
    },
    {
      "code" : "\/\/ MARK:- Extended Runtime Session Delegate Methods\nfunc extendedRuntimeSessionDidStart(_ extendedRuntimeSession: WKExtendedRuntimeSession) {\n    \/\/ Track when your session starts.\n}\n\nfunc extendedRuntimeSessionWillExpire(_ extendedRuntimeSession: WKExtendedRuntimeSession) {\n    \/\/ Finish and clean up any tasks before the session ends. \n}\n    \nfunc extendedRuntimeSession(_ extendedRuntimeSession: WKExtendedRuntimeSession, didInvalidateWith reason: WKExtendedRuntimeSessionInvalidationReason, error: Error?) {\n    \/\/ Track when your session ends.\n    \/\/ Also handle errors here.\n}",
      "language" : "swift"
    },
    {
      "code" : "session.start()",
      "language" : "swift"
    },
    {
      "code" : "@IBAction func stopButton() {\n    session.invalidate()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "4b7e1423961da62378251e6fe13e9f8a3e901ea8ad58eb4aa2cc3b5c1f352225",
  "crawledAt" : "2025-12-02T16:05:48Z",
  "id" : "41AA56C3-CBCA-495B-BDB5-B18A44673921",
  "kind" : "article",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Overview\n\nAn app running on Apple Watch normally transitions to the background and becomes suspended when the user lowers their wrist. However, your app can use both background sessions and extended runtime sessions to continue running after the user stops interacting with it.\n\nWith background sessions, your app continues to run in the background, but the sessions can only monitor workouts, track the user’s location, or play audio files. Extended runtime sessions, on the other hand, expand on this ability and give your app several different session types to choose from. Not all of these sessions run in the background. Some keep your app active and running as the frontmost app instead. Extended runtime sessions support the following session types:\n\nSelect a session type based on the app’s intended use—not based on the features that the session provides. Extended runtime sessions let the app continue to communicate with a Bluetooth device, process data, or play sounds or haptics, even after the watch’s screen turns off.\n\n### Set Up the Session\n\nBefore starting an extended runtime session, enable your WatchKit extension’s Background Modes capability and select your app’s session type (see [\/documentation\/watchkit\/using_extended_runtime_sessions#3189143]). Each app can only support one type of extended runtime session, although it’s possible to support other background modes in combination with extended runtime.\n\n\n\nA physical therapy app, for example, might use a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession] for range-of-motion exercises and an [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKWorkoutSession] for vigorous cross-training. Using separate sessions keeps the range-of-motion exercise from impacting the user’s Move and Exercise rings, but the user still gets full credit for the cross-training.\n\nTo set up the session, instantiate a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession] object, and assign your delegate. The system automatically creates a session based on the session type specified in your Background Modes capabilities.\n\nImplement the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSessionDelegate] methods to track your session.\n\nFinally, start your session. For most session types, you start the session immediately by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start()]. For alarm sessions, you can schedule the session to start any time within the next 36 hours by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)].\n\nYou must always start or schedule the extended runtime session when your app state is in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state.\n\nThe session automatically stops when its allotted time expires. You can track the time remaining using its [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/expirationDate] property. You can also stop a session by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()].\n\nFor sessions started with [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)], you can only call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()] when the app is active. For all other sessions, you can call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()] to end a session at any time.\n\n### Understand Session Behaviors\n\nExtended runtime sessions gain the following features, based on the session type.\n\n*Frontmost* sessions continue to run in the foreground. The watch screen doesn’t need to remain on to keep your app alive. The session continues until the time limit expires, your app invalidates the session, or the user explicitly leaves your app (for example, by pressing the digital crown or switching to a different app).\n\n*Background* sessions continue to run in the background, even if the user dismisses the app or launches another app. Background sessions continue to run until the time limit expires, or your app invalidates the session.\n\nFinally, s_chedulable_ sessions can start any time within the next 36 hours. You must schedule the session by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)] while your app is in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state. The system can then suspend or terminate your app without affecting the session. The system relaunches your app as needed to handle a scheduled session, calling your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-4qxgv] method. If you don’t set the session’s delegate in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-4qxgv] method, the system ends the session. Additionally, you can only schedule one session at a time; if you need to reschedule a session, invalidate the current session, and schedule a new one.\n\nAfter the session starts, the app continues to run in the background until the time limit expires, or your app invalidates the session. During the session, your app must trigger the alarm by calling the session’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/notifyUser(hapticType:repeatHandler:)] method. If your app isn’t active, playing the haptic displays a system alarm alert to the user.\n\nIf you fail to play a haptic during the session, the system displays a warning and offers to disable future sessions.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/using-extended-runtime-sessions\ncrawled: 2025-12-02T16:05:48Z\n---\n\n# Using extended runtime sessions\n\n**Article**\n\nCreate an extended runtime session that continues running your app after the user stops interacting with it.\n\n## Overview\n\nAn app running on Apple Watch normally transitions to the background and becomes suspended when the user lowers their wrist. However, your app can use both background sessions and extended runtime sessions to continue running after the user stops interacting with it.\n\nWith background sessions, your app continues to run in the background, but the sessions can only monitor workouts, track the user’s location, or play audio files. Extended runtime sessions, on the other hand, expand on this ability and give your app several different session types to choose from. Not all of these sessions run in the background. Some keep your app active and running as the frontmost app instead. Extended runtime sessions support the following session types:\n\n\n\nSelect a session type based on the app’s intended use—not based on the features that the session provides. Extended runtime sessions let the app continue to communicate with a Bluetooth device, process data, or play sounds or haptics, even after the watch’s screen turns off.\n\n\n\n### Set Up the Session\n\nBefore starting an extended runtime session, enable your WatchKit extension’s Background Modes capability and select your app’s session type (see [\/documentation\/watchkit\/using_extended_runtime_sessions#3189143]). Each app can only support one type of extended runtime session, although it’s possible to support other background modes in combination with extended runtime.\n\n\n\nA physical therapy app, for example, might use a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession] for range-of-motion exercises and an [doc:\/\/com.apple.documentation\/documentation\/HealthKit\/HKWorkoutSession] for vigorous cross-training. Using separate sessions keeps the range-of-motion exercise from impacting the user’s Move and Exercise rings, but the user still gets full credit for the cross-training.\n\nTo set up the session, instantiate a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession] object, and assign your delegate. The system automatically creates a session based on the session type specified in your Background Modes capabilities.\n\n```swift\n\/\/ Create the session object.\nsession = WKExtendedRuntimeSession()\n\n\/\/ Assign the delegate.\nsession.delegate = self\n```\n\nImplement the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSessionDelegate] methods to track your session.\n\n```swift\n\/\/ MARK:- Extended Runtime Session Delegate Methods\nfunc extendedRuntimeSessionDidStart(_ extendedRuntimeSession: WKExtendedRuntimeSession) {\n    \/\/ Track when your session starts.\n}\n\nfunc extendedRuntimeSessionWillExpire(_ extendedRuntimeSession: WKExtendedRuntimeSession) {\n    \/\/ Finish and clean up any tasks before the session ends. \n}\n    \nfunc extendedRuntimeSession(_ extendedRuntimeSession: WKExtendedRuntimeSession, didInvalidateWith reason: WKExtendedRuntimeSessionInvalidationReason, error: Error?) {\n    \/\/ Track when your session ends.\n    \/\/ Also handle errors here.\n}\n```\n\nFinally, start your session. For most session types, you start the session immediately by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start()]. For alarm sessions, you can schedule the session to start any time within the next 36 hours by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)].\n\n```swift\nsession.start()\n```\n\nYou must always start or schedule the extended runtime session when your app state is in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state.\n\nThe session automatically stops when its allotted time expires. You can track the time remaining using its [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/expirationDate] property. You can also stop a session by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()].\n\nFor sessions started with [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)], you can only call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()] when the app is active. For all other sessions, you can call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/invalidate()] to end a session at any time.\n\n```swift\n@IBAction func stopButton() {\n    session.invalidate()\n}\n```\n\n### Understand Session Behaviors\n\nExtended runtime sessions gain the following features, based on the session type.\n\n\n\n*Frontmost* sessions continue to run in the foreground. The watch screen doesn’t need to remain on to keep your app alive. The session continues until the time limit expires, your app invalidates the session, or the user explicitly leaves your app (for example, by pressing the digital crown or switching to a different app).\n\n*Background* sessions continue to run in the background, even if the user dismisses the app or launches another app. Background sessions continue to run until the time limit expires, or your app invalidates the session.\n\nFinally, s_chedulable_ sessions can start any time within the next 36 hours. You must schedule the session by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/start(at:)] while your app is in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state. The system can then suspend or terminate your app without affecting the session. The system relaunches your app as needed to handle a scheduled session, calling your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-4qxgv] method. If you don’t set the session’s delegate in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-4qxgv] method, the system ends the session. Additionally, you can only schedule one session at a time; if you need to reschedule a session, invalidate the current session, and schedule a new one.\n\nAfter the session starts, the app continues to run in the background until the time limit expires, or your app invalidates the session. During the session, your app must trigger the alarm by calling the session’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtendedRuntimeSession\/notifyUser(hapticType:repeatHandler:)] method. If your app isn’t active, playing the haptic displays a system alarm alert to the user.\n\nIf you fail to play a haptic during the session, the system displays a warning and offers to disable future sessions.\n\n## Runtime management\n\n- **Background execution**: Manage background sessions and tasks.\n- **Life cycles**: Receive and respond to life-cycle notifications.\n- **WKExtendedRuntimeSession**: A session that continues to run your app after the user has stopped interacting.\n- **Interacting with Bluetooth peripherals during background app refresh**: Keep your complications up-to-date by reading values from a Bluetooth peripheral while your app is running in the background.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Manage background sessions and tasks.",
          "name" : "Background execution",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/background-execution"
        },
        {
          "description" : "Receive and respond to life-cycle notifications.",
          "name" : "Life cycles",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/life-cycles"
        },
        {
          "description" : "A session that continues to run your app after the user has stopped interacting.",
          "name" : "WKExtendedRuntimeSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtendedRuntimeSession"
        },
        {
          "description" : "Keep your complications up-to-date by reading values from a Bluetooth peripheral while your app is running in the background.",
          "name" : "Interacting with Bluetooth peripherals during background app refresh",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/interacting-with-bluetooth-peripherals-during-background-app-refresh"
        }
      ],
      "title" : "Runtime management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Using extended runtime sessions",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/using-extended-runtime-sessions"
}