{
  "abstract" : "Detect and respond to common state transitions.",
  "codeExamples" : [
    {
      "code" : "@Environment(\\.scenePhase) private var scenePhase",
      "language" : "swift"
    },
    {
      "code" : "MyView()\n    .onChange(of: scenePhase) { phase in\n        switch phase {\n        case .active:\n            \/\/ The app has become active.\n            break\n        case .inactive:\n            \/\/ The app has become inactive.\n            break\n        case .background:\n            \/\/ The app has moved to the background.\n            break\n        @unknown default:\n            fatalError(\"The app has entered an unknown state.\")\n        }\n    }",
      "language" : "swift"
    }
  ],
  "contentHash" : "d8e8eacf411807e451f7da77226e882ded76121df4468ecb6b59732d340672fb",
  "crawledAt" : "2025-12-02T21:59:28Z",
  "id" : "978AFDF3-0C21-4B0E-80D0-79B1A6643ABD",
  "kind" : "article",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Overview\n\nA watchOS app runs in different states depending on the app’s current context. At any time, the app is in one of the following states: not running, inactive, active, background, or suspended. The app changes state over time based on events triggered by the user and the system.\n\n\n\nThe figure shows the three main types of transitions that occur during an app’s life cycle.\n\nSwitching between the background and inactive states.\n\n### Launch and Enter the Active State\n\nAn app begins in the *not running* state. The user hasn’t launched the watchOS app, or the system suspended and then purged the app from memory.\n\nWhen the user or the system launches the app, it starts in the *inactive* state. The app runs in the foreground but isn’t receiving actions from controls or gestures; however, it may be executing other code. A newly launched app usually stays in this state only briefly as it transitions to the active state. When an active app transitions to this state, it should quiet itself and prepare to go to the background.\n\nThe app then enters the *active* state. It runs in the foreground and receiving actions from controls and gestures. This is the normal mode for apps running on screen.\n\n### Transition to the Background\n\nIf the user lowers their arm or stops interacting with the app, it enters the *background* state. The system can also launch apps into the background when running background sessions or performing background tasks. While in the background state, the system gives the app a small amount of background execution time before suspending the app.\n\nBecause the system can purge suspended apps without warning, use SwiftUI’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment `value`, or your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidEnterBackground()] method to determine when your app transitions from the active state to the background. Save any data you need to recreate your app’s current state. If needed, you can request additional background execution time by calling the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo] class’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo\/performExpiringActivity(withReason:using:)] method.\n\n### Transition to the Suspended State\n\nFinally, the app transitions from the background state to the *suspended* state. The system keeps the app in memory but isn’t executing its code. The system suspends apps that are in the background and don’t have any pending tasks to complete.\n\nThe system may purge suspended apps at any time to make room for other apps. The system silently purges suspended apps. The suspended apps don’t wake, and don’t receive any notifications before the system purges them.\n\nThe system tries to keep frequently used apps in memory, allowing them to resume as quickly as possible. Specifically, the system preserves the most recently executed app, any apps that are in the Dock, and any apps that have a complication on the currently active watch face. If memory constraints force the system to purge one of these apps, the system relaunches the app as soon as more memory becomes available.\n\n### Handle App State Changes\n\nSwiftUI updates the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment value as your app changes from state to state. To respond to these changes, start by reading the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] out of the environment by using the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Environment] property wrapper.\n\nThen use the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onChange(of:perform:)] modifier to respond to changes in the app’s state.\n\nFor watchOS 7 and later, the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment value replaces many of the life cycle events previously handled by the WatchKit extension delegate, such as [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidBecomeActive()] and [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidEnterBackground()].\n\n### Understand Common Transitions\n\nThere is no direct relationship between the app’s state and the interface’s state. For example, the app may be inactive while the interface is active. The following table shows the app and interface states in most common situations.\n\nWhen transitioning between both app and interface states, the exact flow depends on the app’s starting and ending conditions, as well as other considerations (for example, if the app has a complication in the current watch face, or if the app is currently the frontmost app). Some of the most common transitions include launching the app, going to the background, and resuming.\n\nThe app launches when it isn’t running, and the user explicitly starts the app—for example, by tapping the app icon on the home screen.\n\nThe app goes to the background when it is running on screen in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state.\n\nThe app resumes when the app is running in the background, or is suspended, and the user activates the app, for example, by tapping its complication on the active watch face.\n\nExcept for [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidFinishLaunching()], the system only calls the extension delegate’s life cycle methods for the watchOS app’s main interface. It doesn’t call them when the system displays any other supplementary interfaces. For example, they don’t occur when the system launches the app to update complications or to display custom notification interfaces. For notifications, use the root view’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] and [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onDisappear(perform:)] methods to track the state of the interface.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/handling-common-state-transitions\ncrawled: 2025-12-02T21:59:28Z\n---\n\n# Handling Common State Transitions\n\n**Article**\n\nDetect and respond to common state transitions.\n\n## Overview\n\nA watchOS app runs in different states depending on the app’s current context. At any time, the app is in one of the following states: not running, inactive, active, background, or suspended. The app changes state over time based on events triggered by the user and the system.\n\n\n\nThe figure shows the three main types of transitions that occur during an app’s life cycle.\n\n- **Transition A.** Launching from not running to either the inactive or background state.\n- **Transition B.** Switching between the inactive and active states.\n- **Transition C.**\n\nSwitching between the background and inactive states.\n\n### Launch and Enter the Active State\n\nAn app begins in the *not running* state. The user hasn’t launched the watchOS app, or the system suspended and then purged the app from memory.\n\nWhen the user or the system launches the app, it starts in the *inactive* state. The app runs in the foreground but isn’t receiving actions from controls or gestures; however, it may be executing other code. A newly launched app usually stays in this state only briefly as it transitions to the active state. When an active app transitions to this state, it should quiet itself and prepare to go to the background.\n\nThe app then enters the *active* state. It runs in the foreground and receiving actions from controls and gestures. This is the normal mode for apps running on screen.\n\n### Transition to the Background\n\nIf the user lowers their arm or stops interacting with the app, it enters the *background* state. The system can also launch apps into the background when running background sessions or performing background tasks. While in the background state, the system gives the app a small amount of background execution time before suspending the app.\n\nBecause the system can purge suspended apps without warning, use SwiftUI’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment `value`, or your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidEnterBackground()] method to determine when your app transitions from the active state to the background. Save any data you need to recreate your app’s current state. If needed, you can request additional background execution time by calling the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo] class’s [doc:\/\/com.apple.documentation\/documentation\/Foundation\/ProcessInfo\/performExpiringActivity(withReason:using:)] method.\n\n### Transition to the Suspended State\n\nFinally, the app transitions from the background state to the *suspended* state. The system keeps the app in memory but isn’t executing its code. The system suspends apps that are in the background and don’t have any pending tasks to complete.\n\nThe system may purge suspended apps at any time to make room for other apps. The system silently purges suspended apps. The suspended apps don’t wake, and don’t receive any notifications before the system purges them.\n\nThe system tries to keep frequently used apps in memory, allowing them to resume as quickly as possible. Specifically, the system preserves the most recently executed app, any apps that are in the Dock, and any apps that have a complication on the currently active watch face. If memory constraints force the system to purge one of these apps, the system relaunches the app as soon as more memory becomes available.\n\n### Handle App State Changes\n\nSwiftUI updates the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment value as your app changes from state to state. To respond to these changes, start by reading the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] out of the environment by using the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Environment] property wrapper.\n\n```swift\n@Environment(\\.scenePhase) private var scenePhase\n```\n\nThen use the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onChange(of:perform:)] modifier to respond to changes in the app’s state.\n\n```swift\nMyView()\n    .onChange(of: scenePhase) { phase in\n        switch phase {\n        case .active:\n            \/\/ The app has become active.\n            break\n        case .inactive:\n            \/\/ The app has become inactive.\n            break\n        case .background:\n            \/\/ The app has moved to the background.\n            break\n        @unknown default:\n            fatalError(\"The app has entered an unknown state.\")\n        }\n    }\n```\n\nFor watchOS 7 and later, the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment value replaces many of the life cycle events previously handled by the WatchKit extension delegate, such as [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidBecomeActive()] and [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidEnterBackground()].\n\n### Understand Common Transitions\n\nThere is no direct relationship between the app’s state and the interface’s state. For example, the app may be inactive while the interface is active. The following table shows the app and interface states in most common situations.\n\n\n\nWhen transitioning between both app and interface states, the exact flow depends on the app’s starting and ending conditions, as well as other considerations (for example, if the app has a complication in the current watch face, or if the app is currently the frontmost app). Some of the most common transitions include launching the app, going to the background, and resuming.\n\nThe app launches when it isn’t running, and the user explicitly starts the app—for example, by tapping the app icon on the home screen.\n\n1. *The app* transitions to the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/inactive] state. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidFinishLaunching()] method and sets the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] environment variable to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ScenePhase\/inactive].\n2. *The system* instantiates the app’s initial scene, and its root view and calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationWillEnterForeground()] method.\n3. *The app* transitions to the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidBecomeActive()] method and sets the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] value to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ScenePhase\/active].\n4. *The app* appears on screen. The system calls the root view’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] method.\n\nThe app goes to the background when it is running on screen in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state.\n\n1. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationWillResignActive()] method.\n2. *The app* transitions to the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/inactive] state, calls the view’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onDisappear(perform:)] method, and sets the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] value to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ScenePhase\/inactive]. The app may continue to run in an inactive state as long as the app is the frontmost app. For more information, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/taking-advantage-of-frontmost-app-state].\n3. *The app* transitions to the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/background] state. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidEnterBackground()] method and sets the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] value to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ScenePhase\/background].\n4. *The system* suspends the app.****\n\nThe app resumes when the app is running in the background, or is suspended, and the user activates the app, for example, by tapping its complication on the active watch face.\n\n1. If suspended but in memory, *the app* restarts in the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/background] state.\n2. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationWillEnterForeground()] method.\n3. *The app* transitions to the [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationState\/active] state. *The system* calls the extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidBecomeActive()] method and sets the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/scenePhase] value to [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ScenePhase\/active].\n4. The system calls the current view’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] method.\n\nExcept for [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/applicationDidFinishLaunching()], the system only calls the extension delegate’s life cycle methods for the watchOS app’s main interface. It doesn’t call them when the system displays any other supplementary interfaces. For example, they don’t occur when the system launches the app to update complications or to display custom notification interfaces. For notifications, use the root view’s [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onAppear(perform:)] and [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onDisappear(perform:)] methods to track the state of the interface.\n\n## Responding to life cycle events\n\n- **Working with the watchOS app life cycle**: Learn how the watchOS app life cycle operates and responds to life cycle notification methods.\n- **Handling User Activity**: Detect and respond to user activity information from Handoff or a complication.\n- **Taking Advantage of Frontmost App State**: Understand the frontmost app state, and the features it provides to your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn how the watchOS app life cycle operates and responds to life cycle notification methods.",
          "name" : "Working with the watchOS app life cycle",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/working-with-the-watchos-app-life-cycle"
        },
        {
          "description" : "Detect and respond to user activity information from Handoff or a complication.",
          "name" : "Handling User Activity",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/handling-user-activity"
        },
        {
          "description" : "Understand the frontmost app state, and the features it provides to your app.",
          "name" : "Taking Advantage of Frontmost App State",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/taking-advantage-of-frontmost-app-state"
        }
      ],
      "title" : "Responding to life cycle events"
    }
  ],
  "source" : "appleJSON",
  "title" : "Handling Common State Transitions",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/handling-common-state-transitions"
}