{
  "abstract" : "A task for handling timely Bluetooth alerts in the background.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "5cb9a701f743807ee608248c66a4029bd089e80533562557b8e90bd2d4ba825c",
  "crawledAt" : "2025-12-02T16:45:21Z",
  "declaration" : {
    "code" : "class WKBluetoothAlertRefreshBackgroundTask",
    "language" : "swift"
  },
  "id" : "73CD371F-58D4-4641-9175-2E395B0BBACE",
  "kind" : "class",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Overview\n\nYour app can receive [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask] tasks to handle timely alerts in the background. Use these tasks to reconnect a peripheral and handle a critical alert. Apps that use timely alerts can also scan for a specific system identifier (UUID) while in the background. You can then perform the initial connection and pair the devices if necessary.\n\nTo receive timely alerts, your peripheral must use Generic Attribute Profile (GATT) transactions. Call [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheral\/setNotifyValue(_:for:)] to enable notifications for the specified characteristic. Then, any changes to the peripheral’s characteristic wakes your app using a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask] task. Use this task to reconnect to the peripheral and handle the critical alert.\n\nThe critical alerts and background scans share a budget. Your app can only use five timely alerts or background scans within a rolling 24-hour window.\n\nWhen your app receives a timely alert and your budget has only one Bluetooth alert task remaining, the system raises a [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBError-swift.struct\/leGattNearBackgroundNotificationLimit] error. If you exceed the budget, it raises a [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBError-swift.struct\/leGattExceededBackgroundNotificationLimit] error. The system passes these errors to your [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheralDelegate], by calling methods like the [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheralDelegate\/peripheral(_:didUpdateValueFor:error:)-1xyna] method.\n\nIf you exceed your budget, your app doesn’t receive any timely alerts until additional background budget becomes available. The user can reset this budget by launching your app.",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask\ncrawled: 2025-12-02T16:45:21Z\n---\n\n# WKBluetoothAlertRefreshBackgroundTask\n\n**Class**\n\nA task for handling timely Bluetooth alerts in the background.\n\n## Declaration\n\n```swift\nclass WKBluetoothAlertRefreshBackgroundTask\n```\n\n## Overview\n\nYour app can receive [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask] tasks to handle timely alerts in the background. Use these tasks to reconnect a peripheral and handle a critical alert. Apps that use timely alerts can also scan for a specific system identifier (UUID) while in the background. You can then perform the initial connection and pair the devices if necessary.\n\nTo receive timely alerts, your peripheral must use Generic Attribute Profile (GATT) transactions. Call [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheral\/setNotifyValue(_:for:)] to enable notifications for the specified characteristic. Then, any changes to the peripheral’s characteristic wakes your app using a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask] task. Use this task to reconnect to the peripheral and handle the critical alert.\n\n\n\nThe critical alerts and background scans share a budget. Your app can only use five timely alerts or background scans within a rolling 24-hour window.\n\nWhen your app receives a timely alert and your budget has only one Bluetooth alert task remaining, the system raises a [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBError-swift.struct\/leGattNearBackgroundNotificationLimit] error. If you exceed the budget, it raises a [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBError-swift.struct\/leGattExceededBackgroundNotificationLimit] error. The system passes these errors to your [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheralDelegate], by calling methods like the [doc:\/\/com.apple.documentation\/documentation\/CoreBluetooth\/CBPeripheralDelegate\/peripheral(_:didUpdateValueFor:error:)-1xyna] method.\n\nIf you exceed your budget, your app doesn’t receive any timely alerts until additional background budget becomes available. The user can reset this budget by launching your app.\n\n## Background tasks\n\n- **Using background tasks**: Handle scheduled update tasks in the background, and respond to background system interactions including Siri intents and incoming Bluetooth messages.\n- **Preparing to take your watchOS app’s snapshot**: Provide a timely, accurate snapshot of your app by using snapshot background tasks.\n- **WKApplicationRefreshBackgroundTask**: A task that updates your app’s state in the background.\n- **WKURLSessionRefreshBackgroundTask**: A task that responds to background URL sessions.\n- **WKWatchConnectivityRefreshBackgroundTask**: A background task used to receive background updates from the Watch Connectivity framework.\n- **WKIntentDidRunRefreshBackgroundTask**: A background task used to update your app after a SiriKit intent runs.\n- **WKRelevantShortcutRefreshBackgroundTask**: A background task used to periodically donate relevant Siri shortcuts.\n- **WKSnapshotRefreshBackgroundTask**: A background task used to update your app’s user interface in preparation for a snapshot.\n- **WKRefreshBackgroundTask**: The abstract superclass for WatchKit’s background task classes.\n\n## Inherits From\n\n- WKRefreshBackgroundTask\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Handle scheduled update tasks in the background, and respond to background system interactions including Siri intents and incoming Bluetooth messages.",
          "name" : "Using background tasks",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/using-background-tasks"
        },
        {
          "description" : "Provide a timely, accurate snapshot of your app by using snapshot background tasks.",
          "name" : "Preparing to take your watchOS app’s snapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/preparing-to-take-your-watchos-app-s-snapshot"
        },
        {
          "description" : "A task that updates your app’s state in the background.",
          "name" : "WKApplicationRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask"
        },
        {
          "description" : "A task that responds to background URL sessions.",
          "name" : "WKURLSessionRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKURLSessionRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to receive background updates from the Watch Connectivity framework.",
          "name" : "WKWatchConnectivityRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKWatchConnectivityRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to update your app after a SiriKit intent runs.",
          "name" : "WKIntentDidRunRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKIntentDidRunRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to periodically donate relevant Siri shortcuts.",
          "name" : "WKRelevantShortcutRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKRelevantShortcutRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to update your app’s user interface in preparation for a snapshot.",
          "name" : "WKSnapshotRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask"
        },
        {
          "description" : "The abstract superclass for WatchKit’s background task classes.",
          "name" : "WKRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKRefreshBackgroundTask"
        }
      ],
      "title" : "Background tasks"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "WKRefreshBackgroundTask"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "WKBluetoothAlertRefreshBackgroundTask",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask"
}