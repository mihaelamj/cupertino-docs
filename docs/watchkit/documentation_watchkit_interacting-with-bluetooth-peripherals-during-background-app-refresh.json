{
  "abstract" : "Keep your complications up-to-date by reading values from a Bluetooth peripheral while your app is running in the background.",
  "codeExamples" : [

  ],
  "contentHash" : "b042e78e2043b16ef9f5e894f563622480f3260d34c44b7130eef7548b5d34cb",
  "crawledAt" : "2025-12-02T15:36:47Z",
  "id" : "B86E6685-04A1-4B78-A14A-9B1D9A320B90",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Overview\n\n### Configure the sample code project\n\nThis sample runs only on physical devices.\n\nThis project contains two targets: BARBluetooth for iOS and BARBluetooth WatchKit App for watchOS.\n\nThe watch app reads a characteristic value from the phone and updates the complication during background runtime. In watchOS 9, the watch app displays a notification if the peripheral (in this case, the phone app) sends a special value. The watch app also demonstrates displaying a notification as the peripheral goes in and out of advertising range.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/interacting-with-bluetooth-peripherals-during-background-app-refresh\ncrawled: 2025-12-02T15:36:47Z\n---\n\n# Interacting with Bluetooth peripherals during background app refresh\n\n**Sample Code**\n\nKeep your complications up-to-date by reading values from a Bluetooth peripheral while your app is running in the background.\n\n## Overview\n\n\n\n### Configure the sample code project\n\nThis sample runs only on physical devices.\n\nThis project contains two targets: BARBluetooth for iOS and BARBluetooth WatchKit App for watchOS.\n\n1. Go to your [https:\/\/developer.apple.com\/account] and create unique App IDs for BARBluetooth, BARBluetooth WatchKit App, and BARBluetooth WatchKit Extension. The IDs in the sample are already in use. You need your own unique identifiers to provision and run the app.\n2. Select the BARBluetooth target, click the Signing & Capabilities tab and change the bundle identifier to the ID you created in the previous step.\n3. Select the appropriate team from the Team pop-up menu to let Xcode automatically manage your provisioning profile.\n4. Repeat steps 2 and 3 for the WatchKit App and the WatchKit Extension targets. The bundle IDs need to be `<Your iOS app bundle ID>.watchkitapp` and `<Your iOS app bundle ID>.watchkitapp.watchkitextension`, respectively.\n5. For the WatchKit App target, select the Info tab, and change the value of the `WKCompanionAppBundleIdentifier` key to `<Your iOS app bundle ID>`.\n6. Select the `Info.plist` file of the WatchKit Extension target, choose NSExtension > NSExtensionAttributes > WKAppBundleIdentifier key, and change the value of the key to `<Your iOS app bundle ID>.watchkitapp`.\n7. Build and run the app on both Apple Watch and iPhone.\n8. On the phone, allow Bluetooth access by choosing Settings > Privacy > Bluetooth > BARBluetooth, and run the app.\n9. On the watch, add the BARBluetooth widget to the active watch face.\n10. On the watch, select the Bluetooth peripheral (the phone) to connect to it.\n11. After connecting, tap “Send temperature alert” on the phone to demonstrate timely alerts.\n12. On the watch, to demonstrate the alert when the peripheral moves out of range and comes back in functionality, turn on the “Scan to alert” switch. Restart scanning and move the phone outside of Bluetooth range, then bring it back in range.\n\nThe watch app reads a characteristic value from the phone and updates the complication during background runtime. In watchOS 9, the watch app displays a notification if the peripheral (in this case, the phone app) sends a special value. The watch app also demonstrates displaying a notification as the peripheral goes in and out of advertising range.\n\n## Runtime management\n\n- **Background execution**: Manage background sessions and tasks.\n- **Life cycles**: Receive and respond to life-cycle notifications.\n- **Using extended runtime sessions**: Create an extended runtime session that continues running your app after the user stops interacting with it.\n- **WKExtendedRuntimeSession**: A session that continues to run your app after the user has stopped interacting.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Manage background sessions and tasks.",
          "name" : "Background execution",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/background-execution"
        },
        {
          "description" : "Receive and respond to life-cycle notifications.",
          "name" : "Life cycles",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/life-cycles"
        },
        {
          "description" : "Create an extended runtime session that continues running your app after the user stops interacting with it.",
          "name" : "Using extended runtime sessions",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/using-extended-runtime-sessions"
        },
        {
          "description" : "A session that continues to run your app after the user has stopped interacting.",
          "name" : "WKExtendedRuntimeSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtendedRuntimeSession"
        }
      ],
      "title" : "Runtime management"
    }
  ],
  "source" : "appleJSON",
  "title" : "Interacting with Bluetooth peripherals during background app refresh",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/interacting-with-bluetooth-peripherals-during-background-app-refresh"
}