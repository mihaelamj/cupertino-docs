{
  "abstract" : "Schedules a background task to refresh your app’s snapshot.",
  "codeExamples" : [

  ],
  "contentHash" : "f08c949f59e050cef2a55dea7bbe6f70e3be3a4072962332515171bb56089a93",
  "crawledAt" : "2025-12-03T05:37:41Z",
  "declaration" : {
    "code" : "@MainActor func scheduleSnapshotRefresh(withPreferredDate preferredFireDate: Date, userInfo: (any NSSecureCoding & NSObjectProtocol)?, scheduledCompletion: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "D2B3B0A7-7845-4008-A750-47D976CD22A2",
  "kind" : "method",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Discussion\n\nCall this method to update your app’s snapshot in the background. When the task is triggered, the system wakes your app in the background and calls your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-92ulv] method. Use this task to transition to the interface controller you want to display in the snapshot, and to update that controller’s user interface.\n\nYou can only schedule one background snapshot refresh task at a time. If a background snapshot refresh task has already been scheduled, scheduling a second task cancels the first. Additionally, background snapshot refresh tasks are budgeted. For more information, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask].\n\nThe system automatically schedules background snapshot request tasks in the following situations:\n\nThese requests do not cancel or replace any of your scheduled requests.",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)\ncrawled: 2025-12-03T05:37:41Z\n---\n\n# scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)\n\n**Instance Method**\n\nSchedules a background task to refresh your app’s snapshot.\n\n## Declaration\n\n```swift\n@MainActor func scheduleSnapshotRefresh(withPreferredDate preferredFireDate: Date, userInfo: (any NSSecureCoding & NSObjectProtocol)?, scheduledCompletion: @escaping ((any Error)?) -> Void)\n```\n\n## Parameters\n\n- **preferredFireDate**: The time of the next background snapshot refresh task. The system makes every effort to wake your app in the background at some point after the scheduled time, but the precise time is not guaranteed.\n\nIf you pass the current date and time, the system immediately invalidates your existing snapshot, marking the snapshot as stale in the Dock. The system also schedules the earliest possible background snapshot refresh task.\n- **userInfo**: A dictionary of custom information associated with the background snapshot refresh task. Pass `nil` if you do not need to associate any custom data with the task.\n- **scheduledCompletion**: A block that is called by the system after the background refresh has completed. This block takes the following parameter:\n\n\n\n## Discussion\n\nCall this method to update your app’s snapshot in the background. When the task is triggered, the system wakes your app in the background and calls your extension delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtensionDelegate\/handle(_:)-92ulv] method. Use this task to transition to the interface controller you want to display in the snapshot, and to update that controller’s user interface.\n\nYou can only schedule one background snapshot refresh task at a time. If a background snapshot refresh task has already been scheduled, scheduling a second task cancels the first. Additionally, background snapshot refresh tasks are budgeted. For more information, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask].\n\nThe system automatically schedules background snapshot request tasks in the following situations:\n\n- When your device starts up.\n- When your app updates the complication timeline.\n- When the user interacts with one of the apps notifications.\n- When the app transitions from the foreground to the background.\n- One hour after the user’s last interaction with the app. In this task.\n\nThese requests do not cancel or replace any of your scheduled requests.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)"
}