{
  "abstract" : "Schedules a background task to refresh the app’s data.",
  "codeExamples" : [

  ],
  "contentHash" : "34f8c164438a1bffab8b06bb345c58c16459fbb03f7ec4e26b8b34d9ea76d640",
  "crawledAt" : "2025-12-01T10:45:39Z",
  "declaration" : {
    "code" : "@MainActor func scheduleBackgroundRefresh(withPreferredDate preferredFireDate: Date, userInfo: (any NSSecureCoding & NSObjectProtocol)?, scheduledCompletion: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "F406BEF2-B879-4537-A435-EE5880019E7D",
  "kind" : "method",
  "module" : "WatchKit",
  "overview" : "## Discussion\n\nCall this method to update the contents of your app in the background. Background refresh tasks only trigger when the app is in the background. If the app is still running in the foreground at the scheduled time, the system ignores the task.\n\nWhen the system triggers the task, it wakes your app in the background and execute your background task handler. The system also calls your active interface controller’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKInterfaceController\/willActivate()] and [doc:\/\/com.apple.documentation\/documentation\/SecurityInterface\/SFAuthorizationPluginView\/didActivate()] methods. You can check your extension’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtension\/applicationState] during these methods to determine whether your app is running in the foreground or in the background.\n\nUse this task to update your application’s state. You can only schedule one background app refresh task at a time; scheduling a second task cancels the first. Additionally, the system budgets background app refresh tasks. For more information, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask].",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/scheduleBackgroundRefresh(withPreferredDate:userInfo:scheduledCompletion:)\ncrawled: 2025-12-01T10:45:39Z\n---\n\n# scheduleBackgroundRefresh(withPreferredDate:userInfo:scheduledCompletion:)\n\n**Instance Method**\n\nSchedules a background task to refresh the app’s data.\n\n## Declaration\n\n```swift\n@MainActor func scheduleBackgroundRefresh(withPreferredDate preferredFireDate: Date, userInfo: (any NSSecureCoding & NSObjectProtocol)?, scheduledCompletion: @escaping ((any Error)?) -> Void)\n```\n\n## Parameters\n\n- **preferredFireDate**: The date and time of the next background app refresh task. The system attempts to wake your app in the background shortly after the scheduled time, but may delay the background task due to the system’s current state or if your app exceeds its budget for background tasks.\n- **userInfo**: A dictionary of custom information associated with the background app refresh task. Pass `nil` if you don’t need to associate any custom data with the task.\n- **scheduledCompletion**: A block that the system calls after scheduling the background app refresh task. This block takes the following parameter:\n\n\n\n## Discussion\n\nCall this method to update the contents of your app in the background. Background refresh tasks only trigger when the app is in the background. If the app is still running in the foreground at the scheduled time, the system ignores the task.\n\nWhen the system triggers the task, it wakes your app in the background and execute your background task handler. The system also calls your active interface controller’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKInterfaceController\/willActivate()] and [doc:\/\/com.apple.documentation\/documentation\/SecurityInterface\/SFAuthorizationPluginView\/didActivate()] methods. You can check your extension’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtension\/applicationState] during these methods to determine whether your app is running in the foreground or in the background.\n\nUse this task to update your application’s state. You can only schedule one background app refresh task at a time; scheduling a second task cancels the first. Additionally, the system budgets background app refresh tasks. For more information, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask].\n\n## Managing the execution state\n\n- **applicationState**: The runtime state of the Watch app.\n- **WKApplicationState**: The running states of the Watch app.\n- **isApplicationRunningInDock**: A Boolean value that indicates whether the app is running in the dock.\n- **isFrontmostTimeoutExtended**: A Boolean value that determines whether the app extends its time as the frontmost app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The runtime state of the Watch app.",
          "name" : "applicationState",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/applicationState"
        },
        {
          "description" : "The running states of the Watch app.",
          "name" : "WKApplicationState",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKApplicationState"
        },
        {
          "description" : "A Boolean value that indicates whether the app is running in the dock.",
          "name" : "isApplicationRunningInDock",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/isApplicationRunningInDock"
        },
        {
          "description" : "A Boolean value that determines whether the app extends its time as the frontmost app.",
          "name" : "isFrontmostTimeoutExtended",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/isFrontmostTimeoutExtended"
        }
      ],
      "title" : "Managing the execution state"
    }
  ],
  "source" : "appleJSON",
  "title" : "scheduleBackgroundRefresh(withPreferredDate:userInfo:scheduledCompletion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKExtension\/scheduleBackgroundRefresh(withPreferredDate:userInfo:scheduledCompletion:)"
}