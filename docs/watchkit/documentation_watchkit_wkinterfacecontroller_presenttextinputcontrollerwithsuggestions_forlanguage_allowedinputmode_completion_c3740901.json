{
  "abstract" : "Displays a modal interface for gathering language-specific text input from the user.",
  "codeExamples" : [

  ],
  "contentHash" : "28dfe3de922ab9c398b96b90e17fa4c08a5fe0e8fee6f51a926e99f658233a62",
  "crawledAt" : "2025-12-04T11:32:08Z",
  "declaration" : {
    "code" : "@MainActor func presentTextInputControllerWithSuggestions(forLanguage suggestionsHandler: ((String) -> [Any]?)?, allowedInputMode inputMode: WKTextInputMode, completion: @escaping ([Any]?) -> Void)",
    "language" : "swift"
  },
  "id" : "8A453580-EDB1-4892-B14C-4000408EB293",
  "kind" : "method",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Discussion\n\nThis method executes asynchronously, returning shortly after you call it. During a subsequent run loop cycle, the system calls your `suggestionsHandler` block to retrieve the text suggestions for the user’s current language. Shortly after, it displays a text input controller to the user. The input controller displays the list of input phrases you specify and provides options to enter new text phrases through dictation or to select from a list of emoji. If the user changes the input language, the system calls your `suggestionsHandler` block again to retrieve suggestions for the new language.\n\nWhen the user accepts a value or cancels input, the text input controller dismisses itself and then executes the block in the `completion` parameter on the WatchKit extension’s main thread. Use the block to retrieve the accepted value and apply it to your content. The presenting interface controller is activated before the block is executed.\n\nAlways call this method from your WatchKit extension’s main thread.",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKInterfaceController\/presentTextInputControllerWithSuggestions(forLanguage:allowedInputMode:completion:)\ncrawled: 2025-12-04T11:32:08Z\n---\n\n# presentTextInputControllerWithSuggestions(forLanguage:allowedInputMode:completion:)\n\n**Instance Method**\n\nDisplays a modal interface for gathering language-specific text input from the user.\n\n## Declaration\n\n```swift\n@MainActor func presentTextInputControllerWithSuggestions(forLanguage suggestionsHandler: ((String) -> [Any]?)?, allowedInputMode inputMode: WKTextInputMode, completion: @escaping ([Any]?) -> Void)\n```\n\n```swift\n@MainActor func presentTextInputControllerWithSuggestions(forLanguage suggestionsHandler: ((String) -> [Any]?)?, allowedInputMode inputMode: WKTextInputMode) async -> [Any]?\n```\n\n## Parameters\n\n- **suggestionsHandler**: A block that provides suggestions based on the current language. WatchKit calls this block for the user’s specified language and may call it again if the language changes. The block returns the suggestions to display for the specified language. The block returns an array of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSString] objects representing the suggestions and takes the following parameter:\n\n\n- **inputMode**: The type of input to allow. For a list of possible values, see [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKTextInputMode].\n- **completion**: The block to execute after the user dismisses the modal interface. This block has no return value and takes the following parameter:\n\n\n\n## Discussion\n\nThis method executes asynchronously, returning shortly after you call it. During a subsequent run loop cycle, the system calls your `suggestionsHandler` block to retrieve the text suggestions for the user’s current language. Shortly after, it displays a text input controller to the user. The input controller displays the list of input phrases you specify and provides options to enter new text phrases through dictation or to select from a list of emoji. If the user changes the input language, the system calls your `suggestionsHandler` block again to retrieve suggestions for the new language.\n\nWhen the user accepts a value or cancels input, the text input controller dismisses itself and then executes the block in the `completion` parameter on the WatchKit extension’s main thread. Use the block to retrieve the accepted value and apply it to your content. The presenting interface controller is activated before the block is executed.\n\nAlways call this method from your WatchKit extension’s main thread.\n\n## Handling text input\n\n- **presentTextInputController(withSuggestions:allowedInputMode:completion:)**: Displays a modal interface for gathering text input from the user.\n- **dismissTextInputController()**: Dismisses the text input controller without returning any text.\n- **WKTextInputMode**: The input modes supported by the text input controller.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Displays a modal interface for gathering text input from the user.",
          "name" : "presentTextInputController(withSuggestions:allowedInputMode:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKInterfaceController\/presentTextInputController(withSuggestions:allowedInputMode:completion:)"
        },
        {
          "description" : "Dismisses the text input controller without returning any text.",
          "name" : "dismissTextInputController()",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKInterfaceController\/dismissTextInputController()"
        },
        {
          "description" : "The input modes supported by the text input controller.",
          "name" : "WKTextInputMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKTextInputMode"
        }
      ],
      "title" : "Handling text input"
    }
  ],
  "source" : "appleJSON",
  "title" : "presentTextInputControllerWithSuggestions(forLanguage:allowedInputMode:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKInterfaceController\/presentTextInputControllerWithSuggestions(forLanguage:allowedInputMode:completion:)"
}