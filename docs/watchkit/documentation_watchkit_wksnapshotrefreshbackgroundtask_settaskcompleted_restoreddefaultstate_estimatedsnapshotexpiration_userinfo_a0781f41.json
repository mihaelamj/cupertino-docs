{
  "abstract" : "Marks the task as complete.",
  "codeExamples" : [

  ],
  "contentHash" : "3ca626d390800b1f48008406335d11d856eed5b1f7971d97a918c990d5bfa6e0",
  "crawledAt" : "2025-12-03T20:29:31Z",
  "declaration" : {
    "code" : "func setTaskCompleted(restoredDefaultState: Bool, estimatedSnapshotExpiration: Date?, userInfo: (any NSSecureCoding & NSObjectProtocol)?)",
    "language" : "swift"
  },
  "id" : "8038B35F-4042-4724-86BA-40FBBEBC28B5",
  "kind" : "method",
  "language" : "swift",
  "module" : "WatchKit",
  "overview" : "## Discussion\n\nCall this method as soon as your app finishes updating its user interface. The system provides your extension with a limited amount of time (on the order of seconds) to finish the background snapshot refresh task. If you do not call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)] on the task, the system uses all available time, wasting battery power. The system then suspends the extension as soon as the allotted time has expired.\n\nThe system automatically takes a snapshot of your app’s user interface as soon as this task is complete. The system also suspends the extension as soon as all background tasks are complete.",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)\ncrawled: 2025-12-03T20:29:31Z\n---\n\n# setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)\n\n**Instance Method**\n\nMarks the task as complete.\n\n## Declaration\n\n```swift\nfunc setTaskCompleted(restoredDefaultState: Bool, estimatedSnapshotExpiration: Date?, userInfo: (any NSSecureCoding & NSObjectProtocol)?)\n```\n\n## Parameters\n\n- **restoredDefaultState**: Pass [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if your app has navigated back to its default launch scene.\n- **estimatedSnapshotExpiration**: The preferred date and time for the next background snapshot refresh task.  Use [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDate\/distantFuture] if you do not want to schedule the next refresh.\n- **userInfo**: Custom data to be associated with the next background snapshot refresh task. This value is assigned to the next [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask] object’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKRefreshBackgroundTask\/userInfo] property. Pass `nil` if you don’t want to associate any data with the next task.\n\n## Discussion\n\nCall this method as soon as your app finishes updating its user interface. The system provides your extension with a limited amount of time (on the order of seconds) to finish the background snapshot refresh task. If you do not call [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)] on the task, the system uses all available time, wasting battery power. The system then suspends the extension as soon as the allotted time has expired.\n\nThe system automatically takes a snapshot of your app’s user interface as soon as this task is complete. The system also suspends the extension as soon as all background tasks are complete.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)"
}