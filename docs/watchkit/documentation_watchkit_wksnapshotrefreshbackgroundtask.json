{
  "abstract" : "A background task used to update your app’s user interface in preparation for a snapshot.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "55a22b28df3898984febc93197a7d5ebfcba10b67ae5d95a57d42ebbabde9aeb",
  "crawledAt" : "2025-12-01T02:50:11Z",
  "declaration" : {
    "code" : "class WKSnapshotRefreshBackgroundTask",
    "language" : "swift"
  },
  "id" : "0174FDAF-6529-4410-98EB-BCCD839F11CD",
  "kind" : "class",
  "module" : "WatchKit",
  "overview" : "## Overview\n\nUsing the methods of [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask], you can push, pop, or present other interface controllers, and then update the content of the desired interface controller. The system automatically takes a snapshot of your user interface as soon as this task completes.\n\nDon’t subclass or create instances of this class. Instead, schedule a background snapshot refresh task by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtension\/scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)]. When the system triggers this task, it launches your app in the background, instantiates a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask] object, and passes the task object to your app delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationDelegate\/handle(_:)-4vdjo] method.\n\nBackground snapshot tasks are budgeted. In general, the system performs approximately one task per hour for each app in the dock (including the most recently used app). This budget is shared among all apps on the dock. The system performs multiple tasks an hour for each app with a complication on the active watch face. This budget is shared among all complications on the watch face. After you exhaust the budget, the system delays your requests until more time becomes available.\n\nThe system automatically schedules background snapshot request tasks when:\n\nThese requests don’t cancel or replace any of your scheduled requests.",
  "platforms" : [
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\ncrawled: 2025-12-01T02:50:11Z\n---\n\n# WKSnapshotRefreshBackgroundTask\n\n**Class**\n\nA background task used to update your app’s user interface in preparation for a snapshot.\n\n## Declaration\n\n```swift\nclass WKSnapshotRefreshBackgroundTask\n```\n\n## Overview\n\nUsing the methods of [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask], you can push, pop, or present other interface controllers, and then update the content of the desired interface controller. The system automatically takes a snapshot of your user interface as soon as this task completes.\n\nDon’t subclass or create instances of this class. Instead, schedule a background snapshot refresh task by calling [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKExtension\/scheduleSnapshotRefresh(withPreferredDate:userInfo:scheduledCompletion:)]. When the system triggers this task, it launches your app in the background, instantiates a [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask] object, and passes the task object to your app delegate’s [doc:\/\/com.apple.watchkit\/documentation\/WatchKit\/WKApplicationDelegate\/handle(_:)-4vdjo] method.\n\n\n\nBackground snapshot tasks are budgeted. In general, the system performs approximately one task per hour for each app in the dock (including the most recently used app). This budget is shared among all apps on the dock. The system performs multiple tasks an hour for each app with a complication on the active watch face. This budget is shared among all complications on the watch face. After you exhaust the budget, the system delays your requests until more time becomes available.\n\nThe system automatically schedules background snapshot request tasks when:\n\n- Your device starts up\n- Your app updates the complication timeline\n- The user interacts with one of the apps notifications\n- The app transitions from the foreground to the background\n- One hour passes after the user’s last interaction with the app, then the `returnToGlanceableUI` property is set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]\n\nThese requests don’t cancel or replace any of your scheduled requests.\n\n## Completing the background task\n\n- **setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)**: Marks the task as complete.\n\n## Instance properties\n\n- **reasonForSnapshot**: The reason for taking the upcoming snapshot.\n- **WKSnapshotReason**: The reason for a background snapshot task.\n- **returnToDefaultState**: A Boolean value indicating that the app should return to its default state.\n\n## Background tasks\n\n- **Using background tasks**: Handle scheduled update tasks in the background, and respond to background system interactions including Siri intents and incoming Bluetooth messages.\n- **Preparing to take your watchOS app’s snapshot**: Provide a timely, accurate snapshot of your app by using snapshot background tasks.\n- **WKApplicationRefreshBackgroundTask**: A task that updates your app’s state in the background.\n- **WKURLSessionRefreshBackgroundTask**: A task that responds to background URL sessions.\n- **WKWatchConnectivityRefreshBackgroundTask**: A background task used to receive background updates from the Watch Connectivity framework.\n- **WKBluetoothAlertRefreshBackgroundTask**: A task for handling timely Bluetooth alerts in the background.\n- **WKIntentDidRunRefreshBackgroundTask**: A background task used to update your app after a SiriKit intent runs.\n- **WKRelevantShortcutRefreshBackgroundTask**: A background task used to periodically donate relevant Siri shortcuts.\n- **WKRefreshBackgroundTask**: The abstract superclass for WatchKit’s background task classes.\n\n## Inherits From\n\n- WKRefreshBackgroundTask\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Marks the task as complete.",
          "name" : "setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/setTaskCompleted(restoredDefaultState:estimatedSnapshotExpiration:userInfo:)"
        }
      ],
      "title" : "Completing the background task"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The reason for taking the upcoming snapshot.",
          "name" : "reasonForSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/reasonForSnapshot"
        },
        {
          "description" : "The reason for a background snapshot task.",
          "name" : "WKSnapshotReason",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotReason"
        },
        {
          "description" : "A Boolean value indicating that the app should return to its default state.",
          "name" : "returnToDefaultState",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask\/returnToDefaultState"
        }
      ],
      "title" : "Instance properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Handle scheduled update tasks in the background, and respond to background system interactions including Siri intents and incoming Bluetooth messages.",
          "name" : "Using background tasks",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/using-background-tasks"
        },
        {
          "description" : "Provide a timely, accurate snapshot of your app by using snapshot background tasks.",
          "name" : "Preparing to take your watchOS app’s snapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/preparing-to-take-your-watchos-app-s-snapshot"
        },
        {
          "description" : "A task that updates your app’s state in the background.",
          "name" : "WKApplicationRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKApplicationRefreshBackgroundTask"
        },
        {
          "description" : "A task that responds to background URL sessions.",
          "name" : "WKURLSessionRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKURLSessionRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to receive background updates from the Watch Connectivity framework.",
          "name" : "WKWatchConnectivityRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKWatchConnectivityRefreshBackgroundTask"
        },
        {
          "description" : "A task for handling timely Bluetooth alerts in the background.",
          "name" : "WKBluetoothAlertRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKBluetoothAlertRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to update your app after a SiriKit intent runs.",
          "name" : "WKIntentDidRunRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKIntentDidRunRefreshBackgroundTask"
        },
        {
          "description" : "A background task used to periodically donate relevant Siri shortcuts.",
          "name" : "WKRelevantShortcutRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKRelevantShortcutRefreshBackgroundTask"
        },
        {
          "description" : "The abstract superclass for WatchKit’s background task classes.",
          "name" : "WKRefreshBackgroundTask",
          "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKRefreshBackgroundTask"
        }
      ],
      "title" : "Background tasks"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "WKRefreshBackgroundTask"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "WKSnapshotRefreshBackgroundTask",
  "url" : "https:\/\/developer.apple.com\/documentation\/WatchKit\/WKSnapshotRefreshBackgroundTask"
}