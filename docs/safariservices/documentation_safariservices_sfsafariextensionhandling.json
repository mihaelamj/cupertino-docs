{
  "abstract" : "A protocol for implementing event handling in a Safari app extension.",
  "codeExamples" : [

  ],
  "conformingTypes" : [
    "SFSafariExtensionHandler"
  ],
  "contentHash" : "551a5aafe2faf96384af87e06ad86afa79911aa17e4597a0d59ae9c2d1afdb49",
  "crawledAt" : "2025-12-01T02:50:48Z",
  "declaration" : {
    "code" : "protocol SFSafariExtensionHandling : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "A006AD23-14DD-4AAB-A80C-2842C8E4910F",
  "kind" : "protocol",
  "module" : "Safari Services",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\ncrawled: 2025-12-01T02:50:48Z\n---\n\n# SFSafariExtensionHandling\n\n**Protocol**\n\nA protocol for implementing event handling in a Safari app extension.\n\n## Declaration\n\n```swift\nprotocol SFSafariExtensionHandling : NSObjectProtocol\n```\n\n## Receiving Messages in Your App Extension\n\n- **messageReceived(withName:from:userInfo:)**: A method the system calls when the extension receives a message from an injected script.\n- **messageReceivedFromContainingApp(withName:userInfo:)**: A method the system calls when the extension receives a message from the extension’s containing app.\n\n## Responding to Context Menu Selections\n\n- **contextMenuItemSelected(withCommand:in:userInfo:)**: A method the system calls when a user selects one of the app extension’s context menu items.\n- **validateContextMenuItem(withCommand:in:userInfo:validationHandler:)**: Validates whether a particular contextual menu item should be displayed.\n\n## Working with Toolbar Items\n\n- **toolbarItemClicked(in:)**: A method the system calls when a user clicks a toolbar item associated with the app extension.\n- **validateToolbarItem(in:validationHandler:)**: Determines if a toolbar menu item should be enabled or have badge text when browser state changes.\n\n## Working with Popovers\n\n- **popoverViewController()**: Asks the handler to provide a popover view controller for display.\n- **popoverWillShow(in:)**: Tells the handler that the app extension’s popover is about to be opened.\n- **popoverDidClose(in:)**: Tells the handler that the app extension’s popover was closed.\n\n## Working with Content Blockers\n\n- **contentBlocker(withIdentifier:blockedResourcesWith:on:)**: Tells the handler which resources a content blocker blocked on a webpage.\n\n## Responding to Page Navigation\n\n- **page(_:willNavigateTo:)**: A method the system calls when a webpage is about to navigate to a new URL.\n\n## Instance Methods\n\n- **additionalRequestHeaders(for:completionHandler:)**\n\n## Related Documentation\n\n- **dispatchMessage(withName:toExtensionWithIdentifier:userInfo:completionHandler:)**: Sends a message to a Safari app extension, launching Safari if necessary.\n\n## Injected style sheets and scripts\n\n- **Using injected style sheets and scripts**: Learn how you can affect the appearance or behavior of a webpage by using injected style sheets and scripts.\n- **Injecting a script into a webpage**: Inject a script that you write for a Safari app extension into a webpage.\n- **Injecting CSS style sheets into a webpage**: Add to or override styles by injecting CSS style sheets into webpages.\n- **Passing messages between Safari app extensions and injected scripts**: Communicate between your Safari app extension and injected scripts.\n- **SFSafariExtensionHandler**: A base class that you subclass to handle events in your Safari app extension.\n- **SFSafariExtensionManager**: A class that your app uses to find out the current state of a Safari app extension.\n- **SFSafariExtensionState**: The state of a Safari app extension.\n- **SFSafariPageProperties**: An object that captures information about a webpage.\n- **SFExtensionProfileKey**: A string the system uses as a key in a user info dictionary to identify a profile identifier.\n\n## Inherits From\n\n- NSObjectProtocol\n\n## Conforming Types\n\n- SFSafariExtensionHandler\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method the system calls when the extension receives a message from an injected script.",
          "name" : "messageReceived(withName:from:userInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/messageReceived(withName:from:userInfo:)"
        },
        {
          "description" : "A method the system calls when the extension receives a message from the extension’s containing app.",
          "name" : "messageReceivedFromContainingApp(withName:userInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/messageReceivedFromContainingApp(withName:userInfo:)"
        }
      ],
      "title" : "Receiving Messages in Your App Extension"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method the system calls when a user selects one of the app extension’s context menu items.",
          "name" : "contextMenuItemSelected(withCommand:in:userInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/contextMenuItemSelected(withCommand:in:userInfo:)"
        },
        {
          "description" : "Validates whether a particular contextual menu item should be displayed.",
          "name" : "validateContextMenuItem(withCommand:in:userInfo:validationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/validateContextMenuItem(withCommand:in:userInfo:validationHandler:)"
        }
      ],
      "title" : "Responding to Context Menu Selections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method the system calls when a user clicks a toolbar item associated with the app extension.",
          "name" : "toolbarItemClicked(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/toolbarItemClicked(in:)"
        },
        {
          "description" : "Determines if a toolbar menu item should be enabled or have badge text when browser state changes.",
          "name" : "validateToolbarItem(in:validationHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/validateToolbarItem(in:validationHandler:)"
        }
      ],
      "title" : "Working with Toolbar Items"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the handler to provide a popover view controller for display.",
          "name" : "popoverViewController()",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/popoverViewController()"
        },
        {
          "description" : "Tells the handler that the app extension’s popover is about to be opened.",
          "name" : "popoverWillShow(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/popoverWillShow(in:)"
        },
        {
          "description" : "Tells the handler that the app extension’s popover was closed.",
          "name" : "popoverDidClose(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/popoverDidClose(in:)"
        }
      ],
      "title" : "Working with Popovers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Tells the handler which resources a content blocker blocked on a webpage.",
          "name" : "contentBlocker(withIdentifier:blockedResourcesWith:on:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/contentBlocker(withIdentifier:blockedResourcesWith:on:)"
        }
      ],
      "title" : "Working with Content Blockers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A method the system calls when a webpage is about to navigate to a new URL.",
          "name" : "page(_:willNavigateTo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/page(_:willNavigateTo:)"
        }
      ],
      "title" : "Responding to Page Navigation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "additionalRequestHeaders(for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling\/additionalRequestHeaders(for:completionHandler:)"
        }
      ],
      "title" : "Instance Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sends a message to a Safari app extension, launching Safari if necessary.",
          "name" : "dispatchMessage(withName:toExtensionWithIdentifier:userInfo:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariApplication\/dispatchMessage(withName:toExtensionWithIdentifier:userInfo:completionHandler:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn how you can affect the appearance or behavior of a webpage by using injected style sheets and scripts.",
          "name" : "Using injected style sheets and scripts",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/using-injected-style-sheets-and-scripts"
        },
        {
          "description" : "Inject a script that you write for a Safari app extension into a webpage.",
          "name" : "Injecting a script into a webpage",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/injecting-a-script-into-a-webpage"
        },
        {
          "description" : "Add to or override styles by injecting CSS style sheets into webpages.",
          "name" : "Injecting CSS style sheets into a webpage",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/injecting-css-style-sheets-into-a-webpage"
        },
        {
          "description" : "Communicate between your Safari app extension and injected scripts.",
          "name" : "Passing messages between Safari app extensions and injected scripts",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/passing-messages-between-safari-app-extensions-and-injected-scripts"
        },
        {
          "description" : "A base class that you subclass to handle events in your Safari app extension.",
          "name" : "SFSafariExtensionHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandler"
        },
        {
          "description" : "A class that your app uses to find out the current state of a Safari app extension.",
          "name" : "SFSafariExtensionManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionManager"
        },
        {
          "description" : "The state of a Safari app extension.",
          "name" : "SFSafariExtensionState",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionState"
        },
        {
          "description" : "An object that captures information about a webpage.",
          "name" : "SFSafariPageProperties",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariPageProperties"
        },
        {
          "description" : "A string the system uses as a key in a user info dictionary to identify a profile identifier.",
          "name" : "SFExtensionProfileKey",
          "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFExtensionProfileKey"
        }
      ],
      "title" : "Injected style sheets and scripts"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "SFSafariExtensionHandling",
  "url" : "https:\/\/developer.apple.com\/documentation\/SafariServices\/SFSafariExtensionHandling"
}