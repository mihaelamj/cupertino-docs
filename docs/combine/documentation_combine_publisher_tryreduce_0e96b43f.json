{
  "abstract" : "Applies an error-throwing closure that collects each element of a stream and publishes a final result upon completion.",
  "codeExamples" : [
    {
      "code" : "struct DivisionByZeroError: Error {}\nfunc myDivide(_ dividend: Double, _ divisor: Double) throws -> Double {\n    guard divisor != 0 else { throw DivisionByZeroError() }\n    return dividend \/ divisor\n}\n\nvar numbers: [Double] = [5, 4, 3, 2, 1, 0]\nnumbers.publisher\n    .tryReduce(numbers.first!, { accum, next in try myDivide(accum, next) })\n    .catch({ _ in Just(Double.nan) })\n    .sink { print(\"\\($0)\") }",
      "language" : "swift"
    }
  ],
  "contentHash" : "409c1fa0aba20475b2718133e7cb9b9bec3355763b7d6b1e194545a04f2f2068",
  "crawledAt" : "2025-12-05T01:12:35Z",
  "declaration" : {
    "code" : "func tryReduce<T>(_ initialResult: T, _ nextPartialResult: @escaping (T, Self.Output) throws -> T) -> Publishers.TryReduce<Self, T>",
    "language" : "swift"
  },
  "id" : "DC4B116C-FEA5-4B2C-8F72-3855981492BC",
  "kind" : "method",
  "language" : "swift",
  "module" : "Combine",
  "overview" : "## Return Value\n\nA publisher that applies the closure to all received elements and produces an accumulated value when the upstream publisher finishes.\n\n## Discussion\n\nUse [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/tryReduce(_:_:)] to collect a stream of elements and produce an accumulated value based on an error-throwing closure you provide. If the closure throws an error, the publisher fails and passes the error to its subscriber.\n\nIn the example below, the publisher’s `0` element causes the `myDivide(_:_:)` function to throw an error and publish the [doc:\/\/com.apple.documentation\/documentation\/Swift\/Double\/nan] result:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/tryReduce(_:_:)\ncrawled: 2025-12-05T01:12:35Z\n---\n\n# tryReduce(_:_:)\n\n**Instance Method**\n\nApplies an error-throwing closure that collects each element of a stream and publishes a final result upon completion.\n\n## Declaration\n\n```swift\nfunc tryReduce<T>(_ initialResult: T, _ nextPartialResult: @escaping (T, Self.Output) throws -> T) -> Publishers.TryReduce<Self, T>\n```\n\n## Parameters\n\n- **initialResult**: The value that the closure receives the first time it’s called.\n- **nextPartialResult**: An error-throwing closure that takes the previously-accumulated value and the next element from the upstream publisher to produce a new value.\n\n## Return Value\n\nA publisher that applies the closure to all received elements and produces an accumulated value when the upstream publisher finishes.\n\n## Discussion\n\nUse [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/tryReduce(_:_:)] to collect a stream of elements and produce an accumulated value based on an error-throwing closure you provide. If the closure throws an error, the publisher fails and passes the error to its subscriber.\n\nIn the example below, the publisher’s `0` element causes the `myDivide(_:_:)` function to throw an error and publish the [doc:\/\/com.apple.documentation\/documentation\/Swift\/Double\/nan] result:\n\n```swift\nstruct DivisionByZeroError: Error {}\nfunc myDivide(_ dividend: Double, _ divisor: Double) throws -> Double {\n    guard divisor != 0 else { throw DivisionByZeroError() }\n    return dividend \/ divisor\n}\n\nvar numbers: [Double] = [5, 4, 3, 2, 1, 0]\nnumbers.publisher\n    .tryReduce(numbers.first!, { accum, next in try myDivide(accum, next) })\n    .catch({ _ in Just(Double.nan) })\n    .sink { print(\"\\($0)\") }\n```\n\n## Reducing elements\n\n- **collect()**: Collects all received elements, and emits a single array of the collection when the upstream publisher finishes.\n- **collect(_:)**: Collects up to the specified number of elements, and then emits a single array of the collection.\n- **collect(_:options:)**: Collects elements by a given time-grouping strategy, and emits a single array of the collection.\n- **Publishers.TimeGroupingStrategy**: A strategy for collecting received elements.\n- **ignoreOutput()**: Ignores all upstream elements, but passes along the upstream publisher’s completion state (finished or failed).\n- **reduce(_:_:)**: Applies a closure that collects each element of a stream and publishes a final result upon completion.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Collects all received elements, and emits a single array of the collection when the upstream publisher finishes.",
          "name" : "collect()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/collect()"
        },
        {
          "description" : "Collects up to the specified number of elements, and then emits a single array of the collection.",
          "name" : "collect(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/collect(_:)"
        },
        {
          "description" : "Collects elements by a given time-grouping strategy, and emits a single array of the collection.",
          "name" : "collect(_:options:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/collect(_:options:)"
        },
        {
          "description" : "A strategy for collecting received elements.",
          "name" : "Publishers.TimeGroupingStrategy",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publishers\/TimeGroupingStrategy"
        },
        {
          "description" : "Ignores all upstream elements, but passes along the upstream publisher’s completion state (finished or failed).",
          "name" : "ignoreOutput()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/ignoreOutput()"
        },
        {
          "description" : "Applies a closure that collects each element of a stream and publishes a final result upon completion.",
          "name" : "reduce(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/reduce(_:_:)"
        }
      ],
      "title" : "Reducing elements"
    }
  ],
  "source" : "appleJSON",
  "title" : "tryReduce(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/tryReduce(_:_:)"
}