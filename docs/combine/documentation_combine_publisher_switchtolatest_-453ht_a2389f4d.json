{
  "abstract" : "Republishes elements sent by the most recently received publisher.",
  "codeExamples" : [
    {
      "code" : "let subject = PassthroughSubject<Int, Never>()\ncancellable = subject\n    .setFailureType(to: URLError.self)\n    .map() { index -> URLSession.DataTaskPublisher in\n        let url = URL(string: \"https:\/\/example.org\/get?index=\\(index)\")!\n        return URLSession.shared.dataTaskPublisher(for: url)\n    }\n    .switchToLatest()\n    .sink(receiveCompletion: { print(\"Complete: \\($0)\") },\n          receiveValue: { (data, response) in\n            guard let url = response.url else { print(\"Bad response.\"); return }\n            print(\"URL: \\(url)\")\n    })\n\nfor index in 1...5 {\n    DispatchQueue.main.asyncAfter(deadline: .now() + TimeInterval(index\/10)) {\n        subject.send(index)\n    }\n}\n\n\/\/ Prints \"URL: https:\/\/example.org\/get?index=5\"",
      "language" : "swift"
    }
  ],
  "contentHash" : "4ecb7ed5d0ff6ff07ee2e4892497be32f02df680cd4bfeaa5e3d7832c1bfd565",
  "crawledAt" : "2025-12-05T01:13:20Z",
  "declaration" : {
    "code" : "func switchToLatest() -> Publishers.SwitchToLatest<Self.Output, Self>",
    "language" : "swift"
  },
  "id" : "51F933DF-8492-43F9-A896-48C4A814369F",
  "kind" : "method",
  "language" : "swift",
  "module" : "Combine",
  "overview" : "## Discussion\n\nThis operator works with an upstream publisher of publishers, flattening the stream of elements to appear as if they were coming from a single stream of elements. It switches the inner publisher as new ones arrive but keeps the outer publisher constant for downstream subscribers.\n\nFor example, given the type `AnyPublisher<URLSession.DataTaskPublisher, NSError>`, calling `switchToLatest()` results in the type `SwitchToLatest<(Data, URLResponse), URLError>`. The downstream subscriber sees a continuous stream of `(Data, URLResponse)` elements from what looks like a single [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher] even though the elements are coming from different upstream publishers.\n\nWhen this operator receives a new publisher from the upstream publisher, it cancels its previous subscription. Use this feature to prevent earlier publishers from performing unnecessary work, such as creating network request publishers from frequently updating user interface publishers.\n\nThe following example updates a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] with a new value every `0.1` seconds. A [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator receives the new value and uses it to create a new [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher]. By using the `switchToLatest()` operator, the downstream sink subscriber receives the `(Data, URLResponse)` output type from the data task publishers, rather than the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher] type produced by the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. Furthermore, creating each new data task publisher cancels the previous data task publisher.\n\nThe exact behavior of this example depends on the value of `asyncAfter` and the speed of the network connection. If the delay value is longer, or the network connection is fast, the earlier data tasks may complete before `switchToLatest()` can cancel them. If this happens, the output includes multiple URLs whose tasks complete before cancellation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/switchToLatest()-453ht\ncrawled: 2025-12-05T01:13:20Z\n---\n\n# switchToLatest()\n\n**Instance Method**\n\nRepublishes elements sent by the most recently received publisher.\n\n## Declaration\n\n```swift\nfunc switchToLatest() -> Publishers.SwitchToLatest<Self.Output, Self>\n```\n\n## Discussion\n\nThis operator works with an upstream publisher of publishers, flattening the stream of elements to appear as if they were coming from a single stream of elements. It switches the inner publisher as new ones arrive but keeps the outer publisher constant for downstream subscribers.\n\nFor example, given the type `AnyPublisher<URLSession.DataTaskPublisher, NSError>`, calling `switchToLatest()` results in the type `SwitchToLatest<(Data, URLResponse), URLError>`. The downstream subscriber sees a continuous stream of `(Data, URLResponse)` elements from what looks like a single [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher] even though the elements are coming from different upstream publishers.\n\nWhen this operator receives a new publisher from the upstream publisher, it cancels its previous subscription. Use this feature to prevent earlier publishers from performing unnecessary work, such as creating network request publishers from frequently updating user interface publishers.\n\nThe following example updates a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] with a new value every `0.1` seconds. A [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator receives the new value and uses it to create a new [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher]. By using the `switchToLatest()` operator, the downstream sink subscriber receives the `(Data, URLResponse)` output type from the data task publishers, rather than the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/URLSession\/DataTaskPublisher] type produced by the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. Furthermore, creating each new data task publisher cancels the previous data task publisher.\n\n```swift\nlet subject = PassthroughSubject<Int, Never>()\ncancellable = subject\n    .setFailureType(to: URLError.self)\n    .map() { index -> URLSession.DataTaskPublisher in\n        let url = URL(string: \"https:\/\/example.org\/get?index=\\(index)\")!\n        return URLSession.shared.dataTaskPublisher(for: url)\n    }\n    .switchToLatest()\n    .sink(receiveCompletion: { print(\"Complete: \\($0)\") },\n          receiveValue: { (data, response) in\n            guard let url = response.url else { print(\"Bad response.\"); return }\n            print(\"URL: \\(url)\")\n    })\n\nfor index in 1...5 {\n    DispatchQueue.main.asyncAfter(deadline: .now() + TimeInterval(index\/10)) {\n        subject.send(index)\n    }\n}\n\n\/\/ Prints \"URL: https:\/\/example.org\/get?index=5\"\n```\n\nThe exact behavior of this example depends on the value of `asyncAfter` and the speed of the network connection. If the delay value is longer, or the network connection is fast, the earlier data tasks may complete before `switchToLatest()` can cancel them. If this happens, the output includes multiple URLs whose tasks complete before cancellation.\n\n## Republishing elements by subscribing to new publishers\n\n- **flatMap(maxPublishers:_:)**: Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.\n- **flatMap(maxPublishers:_:)**: Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.\n- **flatMap(maxPublishers:_:)**: Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.\n- **flatMap(maxPublishers:_:)**: Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.\n- **switchToLatest()**: Republishes elements sent by the most recently received publisher.\n- **switchToLatest()**: Republishes elements sent by the most recently received publisher.\n- **switchToLatest()**: Republishes elements sent by the most recently received publisher.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.",
          "name" : "flatMap(maxPublishers:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/flatMap(maxPublishers:_:)-3k7z5"
        },
        {
          "description" : "Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.",
          "name" : "flatMap(maxPublishers:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/flatMap(maxPublishers:_:)-qxf"
        },
        {
          "description" : "Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.",
          "name" : "flatMap(maxPublishers:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/flatMap(maxPublishers:_:)-hyb0"
        },
        {
          "description" : "Transforms all elements from an upstream publisher into a new publisher up to a maximum number of publishers you specify.",
          "name" : "flatMap(maxPublishers:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/flatMap(maxPublishers:_:)-4of8w"
        },
        {
          "description" : "Republishes elements sent by the most recently received publisher.",
          "name" : "switchToLatest()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/switchToLatest()-1c51y"
        },
        {
          "description" : "Republishes elements sent by the most recently received publisher.",
          "name" : "switchToLatest()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/switchToLatest()-20v3t"
        },
        {
          "description" : "Republishes elements sent by the most recently received publisher.",
          "name" : "switchToLatest()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/switchToLatest()-9eb3r"
        }
      ],
      "title" : "Republishing elements by subscribing to new publishers"
    }
  ],
  "source" : "appleJSON",
  "title" : "switchToLatest()",
  "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/switchToLatest()-453ht"
}