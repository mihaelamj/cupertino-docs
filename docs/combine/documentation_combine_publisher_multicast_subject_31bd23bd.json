{
  "abstract" : "Provides a subject to deliver elements to multiple subscribers.",
  "codeExamples" : [
    {
      "code" : "let pub = [\"First\", \"Second\", \"Third\"].publisher\n    .map( { return ($0, Int.random(in: 0...100)) } )\n    .print(\"Random\")\n    .multicast(subject: PassthroughSubject<(String, Int), Never>())\n\ncancellable1 = pub\n    .sink { print (\"Stream 1 received: \\($0)\")}\ncancellable2 = pub\n    .sink { print (\"Stream 2 received: \\($0)\")}\npub.connect()\n\n\/\/ Prints:\n\/\/ Random: receive value: ((\"First\", 78))\n\/\/ Stream 2 received: (\"First\", 78)\n\/\/ Stream 1 received: (\"First\", 78)\n\/\/ Random: receive value: ((\"Second\", 98))\n\/\/ Stream 2 received: (\"Second\", 98)\n\/\/ Stream 1 received: (\"Second\", 98)\n\/\/ Random: receive value: ((\"Third\", 61))\n\/\/ Stream 2 received: (\"Third\", 61)\n\/\/ Stream 1 received: (\"Third\", 61)",
      "language" : "swift"
    }
  ],
  "contentHash" : "5ca5328b0b8785afe33c2866abdd2edcda8ddce9f58d5acaed5aa86749fc4435",
  "crawledAt" : "2025-12-05T01:13:36Z",
  "declaration" : {
    "code" : "func multicast<S>(subject: S) -> Publishers.Multicast<Self, S> where S : Subject, Self.Failure == S.Failure, Self.Output == S.Output",
    "language" : "swift"
  },
  "id" : "6F0810CB-D2B9-46E7-BC98-845E03BC49FB",
  "kind" : "method",
  "language" : "swift",
  "module" : "Combine",
  "overview" : "## Discussion\n\nUse a multicast publisher when you have multiple downstream subscribers, but you want upstream publishers to only process one [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subscriber\/receive(_:)] call per event. This is useful when upstream publishers are doing expensive work you don’t want to duplicate, like performing network requests.\n\nIn contrast with [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(_:)], this method produces a publisher that shares the provided [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subject] among all the downstream subscribers.\n\nThe following example uses a sequence publisher as a counter to publish three random numbers, generated by a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. It uses a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(subject:)] operator with a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] to share the same random number to each of two subscribers. Because the multicast publisher is a [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher], publishing only begins after a call to [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher\/connect()].\n\nIn this example, the output shows that the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/print(_:to:)] operator receives each random value only one time, and then sends the value to both subscribers.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(subject:)\ncrawled: 2025-12-05T01:13:36Z\n---\n\n# multicast(subject:)\n\n**Instance Method**\n\nProvides a subject to deliver elements to multiple subscribers.\n\n## Declaration\n\n```swift\nfunc multicast<S>(subject: S) -> Publishers.Multicast<Self, S> where S : Subject, Self.Failure == S.Failure, Self.Output == S.Output\n```\n\n## Parameters\n\n- **subject**: A subject to deliver elements to downstream subscribers.\n\n## Discussion\n\nUse a multicast publisher when you have multiple downstream subscribers, but you want upstream publishers to only process one [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subscriber\/receive(_:)] call per event. This is useful when upstream publishers are doing expensive work you don’t want to duplicate, like performing network requests.\n\nIn contrast with [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(_:)], this method produces a publisher that shares the provided [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subject] among all the downstream subscribers.\n\nThe following example uses a sequence publisher as a counter to publish three random numbers, generated by a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. It uses a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(subject:)] operator with a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] to share the same random number to each of two subscribers. Because the multicast publisher is a [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher], publishing only begins after a call to [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher\/connect()].\n\n```swift\nlet pub = [\"First\", \"Second\", \"Third\"].publisher\n    .map( { return ($0, Int.random(in: 0...100)) } )\n    .print(\"Random\")\n    .multicast(subject: PassthroughSubject<(String, Int), Never>())\n\ncancellable1 = pub\n    .sink { print (\"Stream 1 received: \\($0)\")}\ncancellable2 = pub\n    .sink { print (\"Stream 2 received: \\($0)\")}\npub.connect()\n\n\/\/ Prints:\n\/\/ Random: receive value: ((\"First\", 78))\n\/\/ Stream 2 received: (\"First\", 78)\n\/\/ Stream 1 received: (\"First\", 78)\n\/\/ Random: receive value: ((\"Second\", 98))\n\/\/ Stream 2 received: (\"Second\", 98)\n\/\/ Stream 1 received: (\"Second\", 98)\n\/\/ Random: receive value: ((\"Third\", 61))\n\/\/ Stream 2 received: (\"Third\", 61)\n\/\/ Stream 1 received: (\"Third\", 61)\n```\n\nIn this example, the output shows that the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/print(_:to:)] operator receives each random value only one time, and then sends the value to both subscribers.\n\n## Working with multiple subscribers\n\n- **multicast(_:)**: Applies a closure to create a subject that delivers elements to subscribers.\n- **share()**: Shares the output of an upstream publisher with multiple subscribers.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Applies a closure to create a subject that delivers elements to subscribers.",
          "name" : "multicast(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(_:)"
        },
        {
          "description" : "Shares the output of an upstream publisher with multiple subscribers.",
          "name" : "share()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/share()"
        }
      ],
      "title" : "Working with multiple subscribers"
    }
  ],
  "source" : "appleJSON",
  "title" : "multicast(subject:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(subject:)"
}