{
  "abstract" : "Applies a closure to create a subject that delivers elements to subscribers.",
  "codeExamples" : [
    {
      "code" : "let pub = [\"First\", \"Second\", \"Third\"].publisher\n    .map( { return ($0, Int.random(in: 0...100)) } )\n    .print(\"Random\")\n    .multicast { PassthroughSubject<(String, Int), Never>() }\n\ncancellable1 = pub\n   .sink { print (\"Stream 1 received: \\($0)\")}\ncancellable2 = pub\n   .sink { print (\"Stream 2 received: \\($0)\")}\npub.connect()\n\n\/\/ Prints:\n\/\/ Random: receive value: ((\"First\", 9))\n\/\/ Stream 2 received: (\"First\", 9)\n\/\/ Stream 1 received: (\"First\", 9)\n\/\/ Random: receive value: ((\"Second\", 46))\n\/\/ Stream 2 received: (\"Second\", 46)\n\/\/ Stream 1 received: (\"Second\", 46)\n\/\/ Random: receive value: ((\"Third\", 26))\n\/\/ Stream 2 received: (\"Third\", 26)\n\/\/ Stream 1 received: (\"Third\", 26)",
      "language" : "swift"
    }
  ],
  "contentHash" : "6f8a4ea53a82e35940984fde2a65b9cc8f9dbe6c6702041b2ec7802dc0247ef1",
  "crawledAt" : "2025-12-05T02:45:21Z",
  "declaration" : {
    "code" : "func multicast<S>(_ createSubject: @escaping () -> S) -> Publishers.Multicast<Self, S> where S : Subject, Self.Failure == S.Failure, Self.Output == S.Output",
    "language" : "swift"
  },
  "id" : "765DD6B2-F09E-4E88-9AAD-028B5516C332",
  "kind" : "method",
  "language" : "swift",
  "module" : "Combine",
  "overview" : "## Discussion\n\nUse a multicast publisher when you have multiple downstream subscribers, but you want upstream publishers to only process one [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subscriber\/receive(_:)] call per event. This is useful when upstream publishers are doing expensive work you don’t want to duplicate, like performing network requests.\n\nIn contrast with [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(subject:)], this method produces a publisher that creates a separate [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subject] for each subscriber.\n\nThe following example uses a sequence publisher as a counter to publish three random numbers, generated by a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. It uses a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(_:)] operator whose closure creates a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] to share the same random number to each of two subscribers. Because the multicast publisher is a [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher], publishing only begins after a call to [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher\/connect()].\n\nIn this example, the output shows that the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/print(_:to:)] operator receives each random value only one time, and then sends the value to both subscribers.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(_:)\ncrawled: 2025-12-05T02:45:21Z\n---\n\n# multicast(_:)\n\n**Instance Method**\n\nApplies a closure to create a subject that delivers elements to subscribers.\n\n## Declaration\n\n```swift\nfunc multicast<S>(_ createSubject: @escaping () -> S) -> Publishers.Multicast<Self, S> where S : Subject, Self.Failure == S.Failure, Self.Output == S.Output\n```\n\n## Parameters\n\n- **createSubject**: A closure to create a new [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subject] each time a subscriber attaches to the multicast publisher.\n\n## Discussion\n\nUse a multicast publisher when you have multiple downstream subscribers, but you want upstream publishers to only process one [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subscriber\/receive(_:)] call per event. This is useful when upstream publishers are doing expensive work you don’t want to duplicate, like performing network requests.\n\nIn contrast with [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(subject:)], this method produces a publisher that creates a separate [doc:\/\/com.apple.Combine\/documentation\/Combine\/Subject] for each subscriber.\n\nThe following example uses a sequence publisher as a counter to publish three random numbers, generated by a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/map(_:)-99evh] operator. It uses a [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/multicast(_:)] operator whose closure creates a [doc:\/\/com.apple.Combine\/documentation\/Combine\/PassthroughSubject] to share the same random number to each of two subscribers. Because the multicast publisher is a [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher], publishing only begins after a call to [doc:\/\/com.apple.Combine\/documentation\/Combine\/ConnectablePublisher\/connect()].\n\n```swift\nlet pub = [\"First\", \"Second\", \"Third\"].publisher\n    .map( { return ($0, Int.random(in: 0...100)) } )\n    .print(\"Random\")\n    .multicast { PassthroughSubject<(String, Int), Never>() }\n\ncancellable1 = pub\n   .sink { print (\"Stream 1 received: \\($0)\")}\ncancellable2 = pub\n   .sink { print (\"Stream 2 received: \\($0)\")}\npub.connect()\n\n\/\/ Prints:\n\/\/ Random: receive value: ((\"First\", 9))\n\/\/ Stream 2 received: (\"First\", 9)\n\/\/ Stream 1 received: (\"First\", 9)\n\/\/ Random: receive value: ((\"Second\", 46))\n\/\/ Stream 2 received: (\"Second\", 46)\n\/\/ Stream 1 received: (\"Second\", 46)\n\/\/ Random: receive value: ((\"Third\", 26))\n\/\/ Stream 2 received: (\"Third\", 26)\n\/\/ Stream 1 received: (\"Third\", 26)\n```\n\nIn this example, the output shows that the [doc:\/\/com.apple.Combine\/documentation\/Combine\/Publisher\/print(_:to:)] operator receives each random value only one time, and then sends the value to both subscribers.\n\n## Working with multiple subscribers\n\n- **multicast(subject:)**: Provides a subject to deliver elements to multiple subscribers.\n- **share()**: Shares the output of an upstream publisher with multiple subscribers.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provides a subject to deliver elements to multiple subscribers.",
          "name" : "multicast(subject:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(subject:)"
        },
        {
          "description" : "Shares the output of an upstream publisher with multiple subscribers.",
          "name" : "share()",
          "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/share()"
        }
      ],
      "title" : "Working with multiple subscribers"
    }
  ],
  "source" : "appleJSON",
  "title" : "multicast(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Combine\/Publisher\/multicast(_:)"
}