{
  "abstract" : "Group your widget’s background views and mark them as removable to ensure your widget appears correctly for each context and platform.",
  "codeExamples" : [
    {
      "code" : "var body: some View {\n    switch family {\n    \/\/ Logic for additional widget sizes.\n    case .accessoryRectangular:\n        HStack(alignment: .center, spacing: 0) {\n            VStack(alignment: .leading) {\n                Text(entry.hero.name)\n                    .font(.headline)\n                    .widgetAccentable()\n                Text(\"Level \\(entry.hero.level)\")\n                Text(entry.hero.fullHealthDate, style: .timer)\n            }.frame(maxWidth: .infinity, alignment: .leading)\n            Avatar(hero: entry.hero, includeBackground: false)\n        }\n        .containerBackground(for: .widget) {\n            Color.gameBackground\n        }\n\t\t\/\/ Logic for additional widget sizes.\n}",
      "language" : "swift"
    },
    {
      "code" : "ZStack {\n     AccessoryWidgetBackground()\n     VStack {\n        Text(“MON”)\n        Text(“6”)\n         .font(.title)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "844b02335470eb379f070c8ce9da65ef767a0f9a40398762cbe01d276de0fcfa",
  "crawledAt" : "2025-12-02T19:42:49Z",
  "id" : "2009286B-F9E8-4997-B431-B4DDF4A97F71",
  "kind" : "article",
  "language" : "swift",
  "module" : "WidgetKit",
  "overview" : "## Overview\n\nWidgets appear differently based on their context, including their background view, for example:\n\nTo make sure your widget appears correctly, mark your background views as removable for every widget size.\n\nTo mark your background views as removable:\n\nThe following code snippet from the [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/emoji-rangers-supporting-live-activities-interactivity-and-animations] sample code project defines a `gameBackground` color for the widget’s container background to make sure WidgetKit renders it with or without the background color as applicable.\n\nMarking background views as removable by defining a background container so you can use the same layout and views for your widget across contexts. For example, if you support the rectangular accessory widget size as shown in the code snippet above, WidgetKit renders it with a rich, full-color background in the Smart Stack on Apple Watch and without a background as a watch complication or on the Lock Screen of iPhone and iPad.\n\nOn Apple Watch, rectangular widgets in the Smart Stack use a default dark material background. By adding a container background, the widget renders with a background that visually ties it to your app and makes it more recognizable to people.\n\nTo detect whether a widget appears with or without a background, use the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/showsWidgetContainerBackground] environment variable.\n\n### Explicitly opt out of background removal\n\nSome widgets don’t have distinct foreground content, and background removal can negatively impact their functionality. For example, a widget might display a photo or map that takes up the entirety of the widget’s bounds. Removing the photo or map removes the functionality of the widget. If this case applies to your widget, set the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/WidgetConfiguration\/containerBackgroundRemovable(_:)] modifier to `false` for your widget configuration.\n\n### Set the background color of accessory widgets\n\nDepending on your accessory widget or complication, you may need to set a consistent background for your accessory widget. Use [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/AccessoryWidgetBackground] to draw a consistent background for your widget, as shown in the following example. It creates a view that’s similar to the circular Lock Screen widget that the Calendar app offers:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/WidgetKit\/Displaying-the-right-widget-background\ncrawled: 2025-12-02T19:42:49Z\n---\n\n# Displaying the right widget background\n\n**Article**\n\nGroup your widget’s background views and mark them as removable to ensure your widget appears correctly for each context and platform.\n\n## Overview\n\nWidgets appear differently based on their context, including their background view, for example:\n\n- In the [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/WidgetRenderingMode\/vibrant] appearance, the system removes the background of your widget or renders it with semi-translucent appearance.\n- In StandBy on iPhone, the system removes the background of your widget.\n\nTo make sure your widget appears correctly, mark your background views as removable for every widget size.\n\n\n\nTo mark your background views as removable:\n\n1. Add the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/containerBackground(_:for:)] modifier to your background views to define the background appearance of your widget and tell WidgetKit that it can remove the view where applicable.\n2. Move code that declares any background color or views inside the `containerBackground(for:)` view modifier and pass [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/ContainerBackgroundPlacement\/widget] to it. This makes sure WidgetKit automatically removes the background as needed.\n\nThe following code snippet from the [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/emoji-rangers-supporting-live-activities-interactivity-and-animations] sample code project defines a `gameBackground` color for the widget’s container background to make sure WidgetKit renders it with or without the background color as applicable.\n\n```swift\nvar body: some View {\n    switch family {\n    \/\/ Logic for additional widget sizes.\n    case .accessoryRectangular:\n        HStack(alignment: .center, spacing: 0) {\n            VStack(alignment: .leading) {\n                Text(entry.hero.name)\n                    .font(.headline)\n                    .widgetAccentable()\n                Text(\"Level \\(entry.hero.level)\")\n                Text(entry.hero.fullHealthDate, style: .timer)\n            }.frame(maxWidth: .infinity, alignment: .leading)\n            Avatar(hero: entry.hero, includeBackground: false)\n        }\n        .containerBackground(for: .widget) {\n            Color.gameBackground\n        }\n\t\t\/\/ Logic for additional widget sizes.\n}\n```\n\nMarking background views as removable by defining a background container so you can use the same layout and views for your widget across contexts. For example, if you support the rectangular accessory widget size as shown in the code snippet above, WidgetKit renders it with a rich, full-color background in the Smart Stack on Apple Watch and without a background as a watch complication or on the Lock Screen of iPhone and iPad.\n\nOn Apple Watch, rectangular widgets in the Smart Stack use a default dark material background. By adding a container background, the widget renders with a background that visually ties it to your app and makes it more recognizable to people.\n\nTo detect whether a widget appears with or without a background, use the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/showsWidgetContainerBackground] environment variable.\n\n### Explicitly opt out of background removal\n\nSome widgets don’t have distinct foreground content, and background removal can negatively impact their functionality. For example, a widget might display a photo or map that takes up the entirety of the widget’s bounds. Removing the photo or map removes the functionality of the widget. If this case applies to your widget, set the [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/WidgetConfiguration\/containerBackgroundRemovable(_:)] modifier to `false` for your widget configuration.\n\n\n\n### Set the background color of accessory widgets\n\nDepending on your accessory widget or complication, you may need to set a consistent background for your accessory widget. Use [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/AccessoryWidgetBackground] to draw a consistent background for your widget, as shown in the following example. It creates a view that’s similar to the circular Lock Screen widget that the Calendar app offers:\n\n```swift\nZStack {\n     AccessoryWidgetBackground()\n     VStack {\n        Text(“MON”)\n        Text(“6”)\n         .font(.title)\n    }\n}\n```\n\n## Layout and presentation\n\n- **Supporting additional widget sizes**: Offer widgets in additional contexts by adding support for various widget sizes.\n- **Optimizing your widget for accented rendering mode and Liquid Glass**: Make your widget feel at home on Apple platforms and Liquid Glass by using accented rendering mode.\n- **Adding StandBy and CarPlay support to your widget**: Ensure that your small system family widget works well in StandBy and CarPlay.\n- **WidgetRenderingMode**: Constants that indicate the rendering mode for a widget.\n- **WidgetAccentedRenderingMode**: Constants that indicate the rendering mode for an `Image` in when displayed in a widget in [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/WidgetRenderingMode\/accented] mode.\n- **AccessoryWidgetBackground**: An adaptive background view that provides a standard appearance based on the the widget’s environment.\n- **WidgetLocation**: Values that indicate different widget locations.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Offer widgets in additional contexts by adding support for various widget sizes.",
          "name" : "Supporting additional widget sizes",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/Supporting-additional-widget-sizes"
        },
        {
          "description" : "Make your widget feel at home on Apple platforms and Liquid Glass by using accented rendering mode.",
          "name" : "Optimizing your widget for accented rendering mode and Liquid Glass",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/optimizing-your-widget-for-accented-rendering-mode-and-liquid-glass"
        },
        {
          "description" : "Ensure that your small system family widget works well in StandBy and CarPlay.",
          "name" : "Adding StandBy and CarPlay support to your widget",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/adding-standby-and-carplay-support-to-your-widget"
        },
        {
          "description" : "Constants that indicate the rendering mode for a widget.",
          "name" : "WidgetRenderingMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/WidgetRenderingMode"
        },
        {
          "description" : "Constants that indicate the rendering mode for an `Image` in when displayed in a widget in [doc:\/\/com.apple.WidgetKit\/documentation\/WidgetKit\/WidgetRenderingMode\/accented] mode.",
          "name" : "WidgetAccentedRenderingMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/WidgetAccentedRenderingMode"
        },
        {
          "description" : "An adaptive background view that provides a standard appearance based on the the widget’s environment.",
          "name" : "AccessoryWidgetBackground",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/AccessoryWidgetBackground"
        },
        {
          "description" : "Values that indicate different widget locations.",
          "name" : "WidgetLocation",
          "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/WidgetLocation"
        }
      ],
      "title" : "Layout and presentation"
    }
  ],
  "source" : "appleJSON",
  "title" : "Displaying the right widget background",
  "url" : "https:\/\/developer.apple.com\/documentation\/WidgetKit\/Displaying-the-right-widget-background"
}