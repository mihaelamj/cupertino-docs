{
  "abstract" : "Transmit your broadcast notification payload to Apple Push Notifications service (APNs).",
  "codeExamples" : [
    {
      "code" : "HEADERS\n  - END_STREAM\n  + END_HEADERS\n  :method = POST\n  :scheme = https\n  :path = 4\/broadcasts\/apps\/com.example.MyApp\n  host = api-broadcast.sandbox.push.apple.com\n  authorization = bearer eyAia2lkIjogIjhZTDNHM1JSWDciIH0.eyAiaXNzIjogIkM4Nk5WOUpYM0QiLCAiaWF0I\n         jogIjE0NTkxNDM1ODA2NTAiIH0.MEYCIQDzqyahmH1rz1s-LFNkylXEa2lZ_aOCX4daxxTZkVEGzwIhALvkClnx5m5eAT6\n         Lxw7LZtEQcH6JENhJTMArwLf3sXwi\n  apns-id = eabeae54-14a8-11e5-b60b-1697f925ec7b\n  apns-push-type = liveactivity\n  apns-expiration = 0\n  apns-priority = 10\n  apns-channel-id = dHN0LXNyY2gtY2hubA==\nDATA\n  + END_STREAM\n  {\n    \"aps\": {\n        \"timestamp\": 1685952000,\n        \"event\": \"update\",\n        \"content-state\": {\n            \"currentHealthLevel\": 0.0,\n            \"eventDescription\": \"Power Panda has been knocked down!\"\n        },\n        \"alert\": {\n            \"title\": {\n                \"loc-key\": \"%@ is knocked down!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"body\": {\n                \"loc-key\": \"Use a potion to heal %@!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"sound\": \"HeroDown.mp4\"\n        }\n    }\n}",
      "language" : "other"
    },
    {
      "code" : "HEADERS\n  - END_STREAM\n  + END_HEADERS\n  :method = POST\n  :scheme = https\n  :path = 4\/broadcasts\/apps\/com.example.MyApp\n  host = api-broadcast.sandbox.push.apple.com\n  apns-request-id = eabeae54-14a8-11e5-b60b-1697f925ec7b\n  apns-push-type = liveactivity\n  apns-expiration = 0\n  apns-priority = 10\n  apns-channel-id = dHN0LXNyY2gtY2hubA==\nDATA\n  + END_STREAM\n  {\n    \"aps\": {\n        \"timestamp\": 1685952000,\n        \"event\": \"update\",\n        \"content-state\": {\n            \"currentHealthLevel\": 0.0,\n            \"eventDescription\": \"Power Panda has been knocked down!\"\n        },\n        \"alert\": {\n            \"title\": {\n                \"loc-key\": \"%@ is knocked down!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"body\": {\n                \"loc-key\": \"Use a potion to heal %@!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"sound\": \"HeroDown.mp4\"\n        }\n    }\n}",
      "language" : "other"
    }
  ],
  "contentHash" : "5627beb820f611b46e8af97f5ed5f6d4a5850da3f713e6df0e26b7eb0200611f",
  "crawledAt" : "2025-12-01T09:05:50Z",
  "id" : "310AE4A5-D8AE-4914-856B-450F33955B9E",
  "kind" : "article",
  "module" : "User Notifications",
  "overview" : "## Overview\n\nStarting with iOS 18 and iPadOS 18, devices can subscribe on channels to receive updates for Live Activities. You can send a single push notification to APNs on the channel to update a Live Activity event to a large audience. When you have a notification to send on a channel, your provider must construct a `POST` request and send it to APNs. Upon receiving your server’s `POST` request, APNs validates the request using either the provided authentication token or your server’s certificate. If authentication succeeds, APNs then validates the channel ID you’re using to send the push notification. After channel validation, APNs tries to send your `JSON` payload to all the devices subscribed to the channel. For information on sending test notifications without setting up the environment, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/testing-notifications-using-the-push-notification-console].\n\nAs a best-effort service, APNs may reorder notifications you send on the same channel. If APNs can’t deliver a notification immediately, it may store the notification based on the channel’s message storage policy specified during channel creation. Notifications with Medium and Low `apns-priority` might get grouped and delivered in bursts to the person’s device. APNs may also throttle your notifications and, in some cases, not deliver them. The exact behavior is determined by the way the person interacts with your application and the power state of the device.\n\n### Establish a connection to APNs\n\nUse HTTP\/2 and TLS 1.2 or later to establish a connection between your provider server and one of the following servers:\n\nFor more details on establishing a connection to the APNs server to send requests, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/establishing-a-connection-to-apns].\n\n### Send a POST request to APNs\n\nInclude header fields in your notifications or the system won’t be able to deliver them. In addition to the preceding data, add the following header fields in to your request. Other headers are optional or may depend on whether you’re using token-based or certificate-based authentication.\n\nPut the `JSON` payload with the notification’s content into the body of your request. Don’t use a compressed JSON payload, and the payload is limited to a maximum size of 5 KB (5,120 bytes).\n\nThe code snippet below shows a sample request constructed with an authentication token to the development enviroment.\n\nThe code snippet below shows a sample request constructed for use with a certificate.\n\nAPNs provides a response to each POST request your server transmits. Each response contains a header with fields indicating the status of the response. If the request succeeded, the body of the response is empty. A successful request provides the following fields in the response.\n\nPay attention to status returned by APNs for each push notification and take appropriate action for your application in case of error. For more information on how to handle error responses, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/handling-error-responses-from-apns]",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-broadcast-push-notification-requests-to-apns\ncrawled: 2025-12-01T09:05:50Z\n---\n\n# Sending broadcast push notification requests to APNs\n\n**Article**\n\nTransmit your broadcast notification payload to Apple Push Notifications service (APNs).\n\n## Overview\n\nStarting with iOS 18 and iPadOS 18, devices can subscribe on channels to receive updates for Live Activities. You can send a single push notification to APNs on the channel to update a Live Activity event to a large audience. When you have a notification to send on a channel, your provider must construct a `POST` request and send it to APNs. Upon receiving your server’s `POST` request, APNs validates the request using either the provided authentication token or your server’s certificate. If authentication succeeds, APNs then validates the channel ID you’re using to send the push notification. After channel validation, APNs tries to send your `JSON` payload to all the devices subscribed to the channel. For information on sending test notifications without setting up the environment, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/testing-notifications-using-the-push-notification-console].\n\nAs a best-effort service, APNs may reorder notifications you send on the same channel. If APNs can’t deliver a notification immediately, it may store the notification based on the channel’s message storage policy specified during channel creation. Notifications with Medium and Low `apns-priority` might get grouped and delivered in bursts to the person’s device. APNs may also throttle your notifications and, in some cases, not deliver them. The exact behavior is determined by the way the person interacts with your application and the power state of the device.\n\n\n\n### Establish a connection to APNs\n\nUse HTTP\/2 and TLS 1.2 or later to establish a connection between your provider server and one of the following servers:\n\n- Development\/Sandbox Environment: [https:\/\/api.sandbox.push.apple.com:443]\n- Production Environment: [https:\/\/api.push.apple.com:443]\n\nFor more details on establishing a connection to the APNs server to send requests, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/establishing-a-connection-to-apns].\n\n### Send a POST request to APNs\n\nInclude header fields in your notifications or the system won’t be able to deliver them. In addition to the preceding data, add the following header fields in to your request. Other headers are optional or may depend on whether you’re using token-based or certificate-based authentication.\n\n\n\nPut the `JSON` payload with the notification’s content into the body of your request. Don’t use a compressed JSON payload, and the payload is limited to a maximum size of 5 KB (5,120 bytes).\n\nThe code snippet below shows a sample request constructed with an authentication token to the development enviroment.\n\n```other\nHEADERS\n  - END_STREAM\n  + END_HEADERS\n  :method = POST\n  :scheme = https\n  :path = 4\/broadcasts\/apps\/com.example.MyApp\n  host = api-broadcast.sandbox.push.apple.com\n  authorization = bearer eyAia2lkIjogIjhZTDNHM1JSWDciIH0.eyAiaXNzIjogIkM4Nk5WOUpYM0QiLCAiaWF0I\n         jogIjE0NTkxNDM1ODA2NTAiIH0.MEYCIQDzqyahmH1rz1s-LFNkylXEa2lZ_aOCX4daxxTZkVEGzwIhALvkClnx5m5eAT6\n         Lxw7LZtEQcH6JENhJTMArwLf3sXwi\n  apns-id = eabeae54-14a8-11e5-b60b-1697f925ec7b\n  apns-push-type = liveactivity\n  apns-expiration = 0\n  apns-priority = 10\n  apns-channel-id = dHN0LXNyY2gtY2hubA==\nDATA\n  + END_STREAM\n  {\n    \"aps\": {\n        \"timestamp\": 1685952000,\n        \"event\": \"update\",\n        \"content-state\": {\n            \"currentHealthLevel\": 0.0,\n            \"eventDescription\": \"Power Panda has been knocked down!\"\n        },\n        \"alert\": {\n            \"title\": {\n                \"loc-key\": \"%@ is knocked down!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"body\": {\n                \"loc-key\": \"Use a potion to heal %@!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"sound\": \"HeroDown.mp4\"\n        }\n    }\n}\n```\n\nThe code snippet below shows a sample request constructed for use with a certificate.\n\n```other\nHEADERS\n  - END_STREAM\n  + END_HEADERS\n  :method = POST\n  :scheme = https\n  :path = 4\/broadcasts\/apps\/com.example.MyApp\n  host = api-broadcast.sandbox.push.apple.com\n  apns-request-id = eabeae54-14a8-11e5-b60b-1697f925ec7b\n  apns-push-type = liveactivity\n  apns-expiration = 0\n  apns-priority = 10\n  apns-channel-id = dHN0LXNyY2gtY2hubA==\nDATA\n  + END_STREAM\n  {\n    \"aps\": {\n        \"timestamp\": 1685952000,\n        \"event\": \"update\",\n        \"content-state\": {\n            \"currentHealthLevel\": 0.0,\n            \"eventDescription\": \"Power Panda has been knocked down!\"\n        },\n        \"alert\": {\n            \"title\": {\n                \"loc-key\": \"%@ is knocked down!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"body\": {\n                \"loc-key\": \"Use a potion to heal %@!\",\n                \"loc-args\": [\"Power Panda\"]\n            },\n            \"sound\": \"HeroDown.mp4\"\n        }\n    }\n}\n```\n\nAPNs provides a response to each POST request your server transmits. Each response contains a header with fields indicating the status of the response. If the request succeeded, the body of the response is empty. A successful request provides the following fields in the response.\n\n\n\nPay attention to status returned by APNs for each push notification and take appropriate action for your application in case of error. For more information on how to handle error responses, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/handling-error-responses-from-apns]\n\n## Broadcast push notifications\n\n- **Setting up broadcast push notifications**: Enable broadcast capability for Apple Push Notifications service (APNs).\n- **Sending channel management requests to APNs**: Manage channels that your application uses for broadcast push notifications.\n- **Handling error responses from Apple Push Notification service**: Respond to the status codes returned by APNs servers.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable broadcast capability for Apple Push Notifications service (APNs).",
          "name" : "Setting up broadcast push notifications",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/setting-up-broadcast-push-notifications"
        },
        {
          "description" : "Manage channels that your application uses for broadcast push notifications.",
          "name" : "Sending channel management requests to APNs",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-channel-management-requests-to-apns"
        },
        {
          "description" : "Respond to the status codes returned by APNs servers.",
          "name" : "Handling error responses from Apple Push Notification service",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/handling-error-responses-from-apns"
        }
      ],
      "title" : "Broadcast push notifications"
    }
  ],
  "source" : "appleJSON",
  "title" : "Sending broadcast push notification requests to APNs",
  "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-broadcast-push-notification-requests-to-apns"
}