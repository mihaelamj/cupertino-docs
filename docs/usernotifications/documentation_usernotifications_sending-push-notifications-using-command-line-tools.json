{
  "abstract" : "Use basic macOS command-line tools to send push notifications to Apple Push Notification service (APNs).",
  "codeExamples" : [
    {
      "code" : "CERTIFICATE_FILE_NAME=path to the certificate file\nCERTIFICATE_KEY_FILE_NAME=path to the private key file\nTOPIC=App ID",
      "language" : "bash"
    },
    {
      "code" : "DEVICE_TOKEN=device token for your app\nAPNS_HOST_NAME=api.sandbox.push.apple.com",
      "language" : "bash"
    },
    {
      "code" : "% openssl s_client \n-connect \"${APNS_HOST_NAME}\":443 \n-cert \"${CERTIFICATE_FILE_NAME}\" \n-certform DER -key \"${CERTIFICATE_KEY_FILE_NAME}\" \n-keyform PEM",
      "language" : "shell"
    },
    {
      "code" : "% curl -v \n  --header \"apns-topic: ${TOPIC}\" \n  --header \"apns-push-type: alert\" \n  --cert \"${CERTIFICATE_FILE_NAME}\" \n  --cert-type DER --key \"${CERTIFICATE_KEY_FILE_NAME}\" \n  --key-type PEM --data '{\"aps\":{\"alert\":\"test\"}}' \n  --http2  https:\/\/${APNS_HOST_NAME}\/3\/device\/${DEVICE_TOKEN}",
      "language" : "shell"
    },
    {
      "code" : "CHANNEL_ID=channel ID for your application\nAPNS_HOST_NAME=api.sandbox.push.apple.com ",
      "language" : "bash"
    },
    {
      "code" : "% openssl s_client \n   -connect \"${APNS_HOST_NAME}\":443 \n   -cert \"${CERTIFICATE_FILE_NAME}\" \n   -certform DER \n   -key \"${CERTIFICATE_KEY_FILE_NAME}\" \n   -keyform PEM",
      "language" : "shell"
    },
    {
      "code" : "% curl -v \n  --header \"apns-channel-id: ${CHANNEL_ID}\" \n  --header \"apns-push-type: Liveactivity\"\n  --header \"apns-priority: 10\" \n  --cert \"${CERTIFICATE_FILE_NAME}\" \n  --cert-type DER \n  --key \"${CERTIFICATE_KEY_FILE_NAME}\" \n  --key-type PEM --data '{\"aps\":{\"alert\":\"test\"}}' \n  --http2  https:\/\/${APNS_HOST_NAME}\/4\/broadcasts\/apps\/${TOPIC}",
      "language" : "shell"
    },
    {
      "code" : "TEAM_ID=Team ID\nTOKEN_KEY_FILE_NAME=path to the private key file\nAUTH_KEY_ID=your key identifier\nTOPIC=App ID",
      "language" : "bash"
    },
    {
      "code" : "DEVICE_TOKEN=device token for your app\nAPNS_HOST_NAME=api.sandbox.push.apple.com",
      "language" : "bash"
    },
    {
      "code" : "% openssl s_client -connect \"${APNS_HOST_NAME}\":443",
      "language" : "shell"
    },
    {
      "code" : "JWT_ISSUE_TIME=$(date +%s)\nJWT_HEADER=$(printf '{ \"alg\": \"ES256\", \"kid\": \"%s\" }' \"${AUTH_KEY_ID}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_CLAIMS=$(printf '{ \"iss\": \"%s\", \"iat\": %d }' \"${TEAM_ID}\" \"${JWT_ISSUE_TIME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_HEADER_CLAIMS=\"${JWT_HEADER}.${JWT_CLAIMS}\"\nJWT_SIGNED_HEADER_CLAIMS=$(printf \"${JWT_HEADER_CLAIMS}\" | openssl dgst -binary -sha256 -sign \"${TOKEN_KEY_FILE_NAME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nAUTHENTICATION_TOKEN=\"${JWT_HEADER}.${JWT_CLAIMS}.${JWT_SIGNED_HEADER_CLAIMS}\"",
      "language" : "shell"
    },
    {
      "code" : "% curl -v \n   --header \"apns-topic: $TOPIC\" \n   --header \"apns-push-type: alert\" \n   --header \"authorization: bearer $AUTHENTICATION_TOKEN\" \n   --data '{\"aps\":{\"alert\":\"test\"}}' \n   --http2 https:\/\/${APNS_HOST_NAME}\/3\/device\/${DEVICE_TOKEN}",
      "language" : "shell"
    },
    {
      "code" : "CHANNEL_ID=channel ID for your application\nAPNS_HOST_NAME=api.sandbox.push.apple.com",
      "language" : "bash"
    },
    {
      "code" : "% openssl s_client -connect \"${APNS_HOST_NAME}\":443 ",
      "language" : "shell"
    },
    {
      "code" : "JWT_ISSUE_TIME=$(date +%s)\nJWT_HEADER=$(printf '{ \"alg\": \"ES256\", \"kid\": \"%s\" }' \"${AUTH_KEY_ID}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_CLAIMS=$(printf '{ \"iss\": \"%s\", \"iat\": %d }' \"${TEAM_ID}\" \"${JWT_ISSUE_TIME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_HEADER_CLAIMS=\"${JWT_HEADER}.${JWT_CLAIMS}\"\nJWT_SIGNED_HEADER_CLAIMS=$(printf \"${JWT_HEADER_CLAIMS}\" | openssl dgst -binary -sha256 -sign \"${TOKEN_KEY_FILE_NAME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nAUTHENTICATION_TOKEN=\"${JWT_HEADER}.${JWT_CLAIMS}.${JWT_SIGNED_HEADER_CLAIMS}\"",
      "language" : "shell"
    },
    {
      "code" : "% curl -v \n   --header \"authorization: bearer $AUTHENTICATION_TOKEN\" \n   --header \"apns-channel-id: ${CHANNEL_ID}\" \n   --header \"apns-push-type: Liveactivity\"\n   --header \"apns-priority: 10\" \n   --data '{\"aps\":{\"alert\":\"test\"}}' \n   --http2  https:\/\/${APNS_HOST_NAME}\/4\/broadcasts\/apps\/${TOPIC}",
      "language" : "shell"
    }
  ],
  "contentHash" : "1121b7a730ee3c4270c219f8350e6962c2690a586bfa25f8414324249a1f9de7",
  "crawledAt" : "2025-12-03T04:55:42Z",
  "id" : "391E671D-3D7B-47BB-95F6-FCCDA00EF92E",
  "kind" : "article",
  "language" : "swift",
  "module" : "User Notifications",
  "overview" : "## Overview\n\nTesting your APNs connection and configuration by writing a test app can take time. The command-line tools described below provide a quick way to test your setup with APNs in a nonproduction-quality test suite or app.\n\nBefore you begin, verify that:\n\n### Send a push notification using a certificate\n\nTo send a push notification using a certificate, you’ll need:\n\nStart by launching the Terminal app in the most recent macOS version. Then set these shell variables:\n\nWhether you’re testing a device or a broadcast push notification determines the next set of variables to include.\n\n### Send a device push notification using a certificate\n\nTo send a device push notification using a certificate, you’ll need:\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\nTest that you can use your certificate to connect to APNs using this command:\n\nThen send a push notification using this command:\n\nThe result is an HTTP status of 200 (request succeeded). A notification with the text “test” appears on your destination device.\n\n### Send a broadcast push notification using a certificate\n\nTo send a broadcast push notification using a certificate, you’ll need:\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\nTest that you can use your certificate to connect to APNs using this command:\n\nThen send a push notification using this command:\n\nThe result is an HTTP status of 200 (request succeeded). Update the data in the curl command based on your Live Activity.\n\n### Send a push notification using a JSON web token (JWT)\n\nTo send a push notification using a JWT, you’ll need:\n\nStart by launching the Terminal app in the most recent macOS version. Then set these shell variables:\n\nWhether you’re testing a device or a broadcast push notification determines the next set of variables to include.\n\n### Send a device push notification using a JWT\n\nTo send a device push notification using a JWT, you’ll need:\n\nIn the Terminal app, set these additional shell variables:\n\nTest that you can connect to APNs using this command:\n\nSet these additional shell variables just before sending a push notification:\n\nSend the push notification using this command:\n\nThe result is an HTTP status of 200 (request succeeded). A notification with the text “test” appears on your destination device.\n\n### Send a broadcast push notification using a JWT\n\nTo send a broadcast push notification using a JWT, you’ll need:\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\nTest that you can use your certificate to connect to APNs using this command:\n\nSet these additional shell variables just before sending a push notification:\n\nThen send a push notification using this command:\n\nThe result is an HTTP status of 200 (request succeeded). Update the data in the curl command based on your Live Activity.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-push-notifications-using-command-line-tools\ncrawled: 2025-12-03T04:55:42Z\n---\n\n# Sending push notifications using command-line tools\n\n**Article**\n\nUse basic macOS command-line tools to send push notifications to Apple Push Notification service (APNs).\n\n## Overview\n\nTesting your APNs connection and configuration by writing a test app can take time. The command-line tools described below provide a quick way to test your setup with APNs in a nonproduction-quality test suite or app.\n\nBefore you begin, verify that:\n\n- Your target device is unlocked and connected to the internet.\n- Your app is open and in the foreground.\n\n### Send a push notification using a certificate\n\nTo send a push notification using a certificate, you’ll need:\n\n- A DER-encoded certificate from WWDR to connect to the APNs sandbox. For details on how to set up certificate-based trust with APNs, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/establishing-a-certificate-based-connection-to-apns].\n- The PEM-encoded private key, without a password, used to generate the above certificate. The Keychain app generates the private key when you create a certificate signing request (CSR). To learn more, refer to [https:\/\/developer.apple.com\/help\/account\/create-certificates\/create-a-certificate-signing-request].\n- Your App ID. To learn more about App IDs, refer to [https:\/\/developer.apple.com\/help\/account\/manage-identifiers\/register-an-app-id].\n\nStart by launching the Terminal app in the most recent macOS version. Then set these shell variables:\n\n```bash\nCERTIFICATE_FILE_NAME=path to the certificate file\nCERTIFICATE_KEY_FILE_NAME=path to the private key file\nTOPIC=App ID\n```\n\nWhether you’re testing a device or a broadcast push notification determines the next set of variables to include.\n\n### Send a device push notification using a certificate\n\nTo send a device push notification using a certificate, you’ll need:\n\n- The device token from your app, as a hexadecimal-encoded ASCII string. To learn more about device tokens, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/registering-your-app-with-apns].\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\n```bash\nDEVICE_TOKEN=device token for your app\nAPNS_HOST_NAME=api.sandbox.push.apple.com\n```\n\nTest that you can use your certificate to connect to APNs using this command:\n\n```shell\n% openssl s_client \n-connect \"${APNS_HOST_NAME}\":443 \n-cert \"${CERTIFICATE_FILE_NAME}\" \n-certform DER -key \"${CERTIFICATE_KEY_FILE_NAME}\" \n-keyform PEM\n```\n\nThen send a push notification using this command:\n\n```shell\n% curl -v \n  --header \"apns-topic: ${TOPIC}\" \n  --header \"apns-push-type: alert\" \n  --cert \"${CERTIFICATE_FILE_NAME}\" \n  --cert-type DER --key \"${CERTIFICATE_KEY_FILE_NAME}\" \n  --key-type PEM --data '{\"aps\":{\"alert\":\"test\"}}' \n  --http2  https:\/\/${APNS_HOST_NAME}\/3\/device\/${DEVICE_TOKEN}\n```\n\nThe result is an HTTP status of 200 (request succeeded). A notification with the text “test” appears on your destination device.\n\n### Send a broadcast push notification using a certificate\n\nTo send a broadcast push notification using a certificate, you’ll need:\n\n- The channel ID you’re using for the broadcast, as a base64-encoded string. For more information about creating a channel, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-channel-management-requests-to-apns].\n- Ensure the Live Activity is active on the device.\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\n```bash\nCHANNEL_ID=channel ID for your application\nAPNS_HOST_NAME=api.sandbox.push.apple.com \n```\n\nTest that you can use your certificate to connect to APNs using this command:\n\n```shell\n% openssl s_client \n   -connect \"${APNS_HOST_NAME}\":443 \n   -cert \"${CERTIFICATE_FILE_NAME}\" \n   -certform DER \n   -key \"${CERTIFICATE_KEY_FILE_NAME}\" \n   -keyform PEM\n```\n\nThen send a push notification using this command:\n\n```shell\n% curl -v \n  --header \"apns-channel-id: ${CHANNEL_ID}\" \n  --header \"apns-push-type: Liveactivity\"\n  --header \"apns-priority: 10\" \n  --cert \"${CERTIFICATE_FILE_NAME}\" \n  --cert-type DER \n  --key \"${CERTIFICATE_KEY_FILE_NAME}\" \n  --key-type PEM --data '{\"aps\":{\"alert\":\"test\"}}' \n  --http2  https:\/\/${APNS_HOST_NAME}\/4\/broadcasts\/apps\/${TOPIC}\n```\n\nThe result is an HTTP status of 200 (request succeeded). Update the data in the curl command based on your Live Activity.\n\n### Send a push notification using a JSON web token (JWT)\n\nTo send a push notification using a JWT, you’ll need:\n\n- Your Team ID. For more information, refer to [https:\/\/developer.apple.com\/help\/account\/manage-your-team\/locate-your-team-id].\n- Your key identifier for APNs. For more information, refer to [https:\/\/developer.apple.com\/help\/account\/manage-keys\/get-a-key-identifier].\n- The PEM-encoded private key, without a password, associated with the above key identifier. To learn more about downloading keys, refer to [https:\/\/developer.apple.com\/help\/account\/manage-keys\/revoke-edit-and-download-keys].\n- Your App ID. To learn more about App IDs, refer to [https:\/\/developer.apple.com\/help\/account\/manage-identifiers\/register-an-app-id].\n\nStart by launching the Terminal app in the most recent macOS version. Then set these shell variables:\n\n```bash\nTEAM_ID=Team ID\nTOKEN_KEY_FILE_NAME=path to the private key file\nAUTH_KEY_ID=your key identifier\nTOPIC=App ID\n```\n\nWhether you’re testing a device or a broadcast push notification determines the next set of variables to include.\n\n### Send a device push notification using a JWT\n\nTo send a device push notification using a JWT, you’ll need:\n\n- The device token from your app, as a hexadecimal-encoded ASCII string. To learn more about device tokens, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/registering-your-app-with-apns].\n\nIn the Terminal app, set these additional shell variables:\n\n```bash\nDEVICE_TOKEN=device token for your app\nAPNS_HOST_NAME=api.sandbox.push.apple.com\n```\n\nTest that you can connect to APNs using this command:\n\n```shell\n% openssl s_client -connect \"${APNS_HOST_NAME}\":443\n```\n\nSet these additional shell variables just before sending a push notification:\n\n```shell\nJWT_ISSUE_TIME=$(date +%s)\nJWT_HEADER=$(printf '{ \"alg\": \"ES256\", \"kid\": \"%s\" }' \"${AUTH_KEY_ID}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_CLAIMS=$(printf '{ \"iss\": \"%s\", \"iat\": %d }' \"${TEAM_ID}\" \"${JWT_ISSUE_TIME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_HEADER_CLAIMS=\"${JWT_HEADER}.${JWT_CLAIMS}\"\nJWT_SIGNED_HEADER_CLAIMS=$(printf \"${JWT_HEADER_CLAIMS}\" | openssl dgst -binary -sha256 -sign \"${TOKEN_KEY_FILE_NAME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nAUTHENTICATION_TOKEN=\"${JWT_HEADER}.${JWT_CLAIMS}.${JWT_SIGNED_HEADER_CLAIMS}\"\n```\n\nSend the push notification using this command:\n\n```shell\n% curl -v \n   --header \"apns-topic: $TOPIC\" \n   --header \"apns-push-type: alert\" \n   --header \"authorization: bearer $AUTHENTICATION_TOKEN\" \n   --data '{\"aps\":{\"alert\":\"test\"}}' \n   --http2 https:\/\/${APNS_HOST_NAME}\/3\/device\/${DEVICE_TOKEN}\n```\n\nThe result is an HTTP status of 200 (request succeeded). A notification with the text “test” appears on your destination device.\n\n### Send a broadcast push notification using a JWT\n\nTo send a broadcast push notification using a JWT, you’ll need:\n\n- The channel ID you’re using for the broadcast, as a base64-encoded string. For more information about creating a channel, refer to [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-channel-management-requests-to-apns].\n- Ensure the Live Activity is active on the device.\n\nIn the Terminal app in the most recent macOS version, set these additional shell variables:\n\n```bash\nCHANNEL_ID=channel ID for your application\nAPNS_HOST_NAME=api.sandbox.push.apple.com\n```\n\nTest that you can use your certificate to connect to APNs using this command:\n\n```shell\n% openssl s_client -connect \"${APNS_HOST_NAME}\":443 \n```\n\nSet these additional shell variables just before sending a push notification:\n\n```shell\nJWT_ISSUE_TIME=$(date +%s)\nJWT_HEADER=$(printf '{ \"alg\": \"ES256\", \"kid\": \"%s\" }' \"${AUTH_KEY_ID}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_CLAIMS=$(printf '{ \"iss\": \"%s\", \"iat\": %d }' \"${TEAM_ID}\" \"${JWT_ISSUE_TIME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nJWT_HEADER_CLAIMS=\"${JWT_HEADER}.${JWT_CLAIMS}\"\nJWT_SIGNED_HEADER_CLAIMS=$(printf \"${JWT_HEADER_CLAIMS}\" | openssl dgst -binary -sha256 -sign \"${TOKEN_KEY_FILE_NAME}\" | openssl base64 -e -A | tr -- '+\/' '-_' | tr -d =)\nAUTHENTICATION_TOKEN=\"${JWT_HEADER}.${JWT_CLAIMS}.${JWT_SIGNED_HEADER_CLAIMS}\"\n```\n\nThen send a push notification using this command:\n\n```shell\n% curl -v \n   --header \"authorization: bearer $AUTHENTICATION_TOKEN\" \n   --header \"apns-channel-id: ${CHANNEL_ID}\" \n   --header \"apns-push-type: Liveactivity\"\n   --header \"apns-priority: 10\" \n   --data '{\"aps\":{\"alert\":\"test\"}}' \n   --http2  https:\/\/${APNS_HOST_NAME}\/4\/broadcasts\/apps\/${TOPIC}\n```\n\nThe result is an HTTP status of 200 (request succeeded). Update the data in the curl command based on your Live Activity.\n\n## Remote notifications\n\n- **Setting up a remote notification server**: Generate notifications and push them to user devices.\n- **Testing notifications using the Push Notification Console**: Send test notifications and access delivery logs to test your app’s integration with Apple Push Notification service (APNs).\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Generate notifications and push them to user devices.",
          "name" : "Setting up a remote notification server",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/setting-up-a-remote-notification-server"
        },
        {
          "description" : "Send test notifications and access delivery logs to test your app’s integration with Apple Push Notification service (APNs).",
          "name" : "Testing notifications using the Push Notification Console",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/testing-notifications-using-the-push-notification-console"
        }
      ],
      "title" : "Remote notifications"
    }
  ],
  "source" : "appleJSON",
  "title" : "Sending push notifications using command-line tools",
  "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-push-notifications-using-command-line-tools"
}