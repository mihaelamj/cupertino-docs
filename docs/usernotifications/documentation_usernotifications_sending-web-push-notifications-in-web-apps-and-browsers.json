{
  "abstract" : "Update your web server and website to send push notifications that work in Safari, other browsers, and web apps, following cross-browser standards.",
  "codeExamples" : [

  ],
  "contentHash" : "bbed652f7daddc6898d53296e307136f328a0bdd12740fa37bb843ff4029d695",
  "crawledAt" : "2025-12-02T17:04:11Z",
  "id" : "6072314C-C5C2-4C1B-96B4-78EF30C0DF89",
  "kind" : "article",
  "language" : "swift",
  "module" : "User Notifications",
  "overview" : "## Overview\n\nWhen important, time-sensitive events occur, inform your website users with push notifications you send from your server. To do this, add support for *web push* — push notifications that use the cross-browser Push API, Notifications API, Badging API, and Service Worker standards. For more information on these standards, see [https:\/\/www.w3.org\/TR\/push-api\/]. Add web push to Home Screen web apps in iOS 16.4 or later and Webpages in Safari 16 for macOS 13 or later.\n\nTo send web push notifications, update your webpage to subscribe users and handle notifications, and update your server to send push notifications. If you’re already sending push notifications with web push for other browsers, confirm that your server fulfills Safari’s requirements so that your existing implementation works for webpages in macOS Safari and web apps. You don’t need to join the Apple Developer Program to send web push notifications.\n\nIf you’re already sending push notifications to users in Safari 15 or earlier using [https:\/\/developer.apple.com\/notifications\/safari-push-notifications\/], continue sending push notifications to those users. Update your webpage with feature detection to use Push API code if it’s available, or Safari Push Notifications code if it isn’t. For more information about best practices while sending a push notification with APNs, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].\n\n### Enable push notifications for your webpage or web app\n\nTo enable push notifications, follow this general approach in your webpage or web app:\n\nSafari doesn’t support invisible push notifications. Present push notifications to the user immediately after your service worker receives them. If you don’t, Safari revokes the push notification permission for your site.\n\nFor more information on enabling web push in your webpage, see [https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Push_API] in Mozilla documentation.\n\n### Prepare your server to send push notifications\n\nBefore you add code to send push notifications, make these preparations on your server:\n\nYour service should maintain TLS encrypted connections to APNs. For more information, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/setting-up-a-remote-notification-server]. To send web pushes, your service must use the Server Name Indication (SNI) extension of TLS. For more information, see [https:\/\/datatracker.ietf.org\/doc\/html\/rfc3546]. APNs supports both HTTP\/1.1 and HTTP\/2.0. The default protocol is HTTP\/1.1. An application server should use the Application-Layer Protocol Negotiation (APLN) extension of TLS to choose between the supported protocols. For more information, see [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7301].\n\nThen add code to your server to:\n\nFor more information on preparing your server to send push notifications, see [https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Push_API] in Mozilla documentation.\n\n### Send your notification request to the recipient’s endpoint\n\nPrepare your push notification request according to the specification. Then send the notification request over HTTP\/1.1 or HTTP\/2 to the endpoint you stored from the recipient’s push registration.\n\nThe push notification service supports HTTP pipelining for HTTP\/1.1. Don’t send more than 100 unacknowledged push requests over the connection. There’s a limit of concurrent streams for HTTP\/2. Don’t make assumptions about the number of concurrent streams allowed; instead, don’t exceed the SETTINGS_MAX_CONCURRENT_STREAMS value in the HTTP\/2 SETTINGS frame.\n\nInclude the standard headers with your push notification request:\n\n### Display badge counts for your web app\n\nTo display badge counts on your web app’s icon, use `navigator.setAppBadge` in your JavaScript to set a badge count. Clear the badge count with `navigator.clearAppBadge`.\n\nUsers can configure badging permissions for your Home Screen web app in Notifications settings in iOS 16.4 or later.\n\n### Review responses for push notification errors\n\nThe push notification service provides a response for each push notification request. Inspect each response to see how the push service handled your push request. The response headers include the HTTP status code and the `apns-id`, which uniquely identifies your push request. The HTTP status code indicates if the request succeeds; if the request fails, the status code identifies the type of error:\n\nIf the push service encounters an error processing your push request, it returns a JSON dictionary response, which includes an error code identified by the `reason` key. Inspect the `reason` code for more details about the cause of the error.\n\nTo resolve an error, address the issue and resend your push notification request. For more information about the factors that impact the delivery of a push notification, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/viewing-the-status-of-push-notifications-using-metrics-and-apns].\n\nFor more information about APNs service and storage details, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-web-push-notifications-in-web-apps-and-browsers\ncrawled: 2025-12-02T17:04:11Z\n---\n\n# Sending web push notifications in web apps and browsers\n\n**Article**\n\nUpdate your web server and website to send push notifications that work in Safari, other browsers, and web apps, following cross-browser standards.\n\n## Overview\n\nWhen important, time-sensitive events occur, inform your website users with push notifications you send from your server. To do this, add support for *web push* — push notifications that use the cross-browser Push API, Notifications API, Badging API, and Service Worker standards. For more information on these standards, see [https:\/\/www.w3.org\/TR\/push-api\/]. Add web push to Home Screen web apps in iOS 16.4 or later and Webpages in Safari 16 for macOS 13 or later.\n\nTo send web push notifications, update your webpage to subscribe users and handle notifications, and update your server to send push notifications. If you’re already sending push notifications with web push for other browsers, confirm that your server fulfills Safari’s requirements so that your existing implementation works for webpages in macOS Safari and web apps. You don’t need to join the Apple Developer Program to send web push notifications.\n\nIf you’re already sending push notifications to users in Safari 15 or earlier using [https:\/\/developer.apple.com\/notifications\/safari-push-notifications\/], continue sending push notifications to those users. Update your webpage with feature detection to use Push API code if it’s available, or Safari Push Notifications code if it isn’t. For more information about best practices while sending a push notification with APNs, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].\n\n### Enable push notifications for your webpage or web app\n\nTo enable push notifications, follow this general approach in your webpage or web app:\n\n1. Ask the user for permission to send them push notifications. Provide a method for the user to grant permission with a gesture, such as clicking or tapping a button. When the user completes the gesture, call the push subscription method immediately from the gesture’s event handler code.\n2. If the user grants permission, register the provided push notification endpoint and encryption keys from the subscription on your push server with the user’s account.\n3. Add a service worker that handles receiving push notifications.\n4. Add Notifications API code to display push notifications when the service worker receives them.\n\nSafari doesn’t support invisible push notifications. Present push notifications to the user immediately after your service worker receives them. If you don’t, Safari revokes the push notification permission for your site.\n\nFor more information on enabling web push in your webpage, see [https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Push_API] in Mozilla documentation.\n\n### Prepare your server to send push notifications\n\nBefore you add code to send push notifications, make these preparations on your server:\n\n1. Prepare a [https:\/\/datatracker.ietf.org\/doc\/html\/draft-ietf-webpush-vapid-00] key pair for your server. You use this to identify your server to the push notification services when you send a push notification.\n2. Set up your server to build and encrypt the payload for each push notification.\n3. Set up your server to package and send a push notification to a push service according to the [https:\/\/datatracker.ietf.org\/doc\/html\/rfc8030].\n4. If your network infrastructure limits which URLs your server can access, allow access for `https:\/\/*.push.apple.com`.\n\nYour service should maintain TLS encrypted connections to APNs. For more information, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/setting-up-a-remote-notification-server]. To send web pushes, your service must use the Server Name Indication (SNI) extension of TLS. For more information, see [https:\/\/datatracker.ietf.org\/doc\/html\/rfc3546]. APNs supports both HTTP\/1.1 and HTTP\/2.0. The default protocol is HTTP\/1.1. An application server should use the Application-Layer Protocol Negotiation (APLN) extension of TLS to choose between the supported protocols. For more information, see [https:\/\/datatracker.ietf.org\/doc\/html\/rfc7301].\n\nThen add code to your server to:\n\n- Receive user push notification registrations.\n- Store the push notification subscription endpoint and encryption keys together with the user’s account information.\n- Determine which users should receive a push notification when important events occur.\n- Prepare and send push notifications to the users you identify.\n\nFor more information on preparing your server to send push notifications, see [https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Push_API] in Mozilla documentation.\n\n### Send your notification request to the recipient’s endpoint\n\nPrepare your push notification request according to the specification. Then send the notification request over HTTP\/1.1 or HTTP\/2 to the endpoint you stored from the recipient’s push registration.\n\nThe push notification service supports HTTP pipelining for HTTP\/1.1. Don’t send more than 100 unacknowledged push requests over the connection. There’s a limit of concurrent streams for HTTP\/2. Don’t make assumptions about the number of concurrent streams allowed; instead, don’t exceed the SETTINGS_MAX_CONCURRENT_STREAMS value in the HTTP\/2 SETTINGS frame.\n\nInclude the standard headers with your push notification request:\n\n\n\n### Display badge counts for your web app\n\nTo display badge counts on your web app’s icon, use `navigator.setAppBadge` in your JavaScript to set a badge count. Clear the badge count with `navigator.clearAppBadge`.\n\nUsers can configure badging permissions for your Home Screen web app in Notifications settings in iOS 16.4 or later.\n\n### Review responses for push notification errors\n\nThe push notification service provides a response for each push notification request. Inspect each response to see how the push service handled your push request. The response headers include the HTTP status code and the `apns-id`, which uniquely identifies your push request. The HTTP status code indicates if the request succeeds; if the request fails, the status code identifies the type of error:\n\n\n\nIf the push service encounters an error processing your push request, it returns a JSON dictionary response, which includes an error code identified by the `reason` key. Inspect the `reason` code for more details about the cause of the error.\n\n\n\nTo resolve an error, address the issue and resend your push notification request. For more information about the factors that impact the delivery of a push notification, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/viewing-the-status-of-push-notifications-using-metrics-and-apns].\n\nFor more information about APNs service and storage details, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Sending web push notifications in web apps and browsers",
  "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/sending-web-push-notifications-in-web-apps-and-browsers"
}