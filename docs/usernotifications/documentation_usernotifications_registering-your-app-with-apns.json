{
  "abstract" : "Communicate with Apple Push Notification service (APNs) and receive a unique device token that identifies your app.",
  "codeExamples" : [
    {
      "code" : "func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions:[UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n    \/\/ Override point for customization after application launch.\n    UIApplication.shared.registerForRemoteNotifications()\n    return true\n}\n\nfunc application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {\n    self.sendDeviceTokenToServer(data: deviceToken)\n}\n\nfunc application(_ application: UIApplication,\n                 didFailToRegisterForRemoteNotificationsWithError\n                 error: Error) {\n    \/\/ Try again later.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "a41498f584ca5582b621f6658ea45773b5fbfa047a5c91c396c1c56e93f98d07",
  "crawledAt" : "2025-12-03T04:16:59Z",
  "id" : "B780A8F6-DDFE-4C4E-9EDE-475CB193359E",
  "kind" : "article",
  "language" : "swift",
  "module" : "User Notifications",
  "overview" : "## Overview\n\nApple Push Notification service (APNs) must know the address of a user’s device before it can send notifications to that device. This address takes the form of a device token unique to both the device and your app. At launch time, your app communicates with APNs and receives its device token, which you then forward to your provider server. Your server includes that token with any notifications it sends.\n\n### Enable the push notifications capability\n\nTo add the required entitlements to your app, enable the Push Notifications capability in your Xcode project, as shown in . Enabling this option in iOS adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/aps-environment] to the app. In macOS, it adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.aps-environment]. See [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/devdfd3d04a1] in Xcode help for more information.\n\n\n\n### Register your app and retrieve your app’s device token\n\nRegister your app with APNs and receive a globally unique device token, which is effectively the address of your app on the current device. Your provider server must have this token before it can deliver notifications to the device.\n\nYou register your app and receive your device token each time your app launches using Apple-provided APIs. The registration process is similar across platforms:\n\nIn addition to handling successful registrations with APNs, prepare your app to handle unsuccessful registrations by implementing the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFailToRegisterForRemoteNotificationsWithError:)] method. Registration might fail if the user’s device isn’t connected to the network, if the APNs server is unreachable for any reason, or if the app doesn’t have the proper code-signing entitlement. When a failure occurs, set a flag and try to register again at a later time.\n\nListing 1 shows a sample implementation of the iOS app delegate methods needed to register for remote notifications and receive the corresponding token. The `sendDeviceTokenToServer` method is a custom method that the app uses to send the data to its provider server.\n\nListing 1. Communicating with APNs at launch time\n\n### Forward tokens to your provider server\n\nUpon receiving a device token, open a network connection from your app to your provider server. Securely forward the device token and any other information you need to identify the specific user to your server. For example, you might include the user’s login name or something that connects them to your service. Encrypt any information you send over the network.\n\nOn your provider server, store tokens in a secure place where you can access them to send notifications. When generating notifications, your server must be able to send notifications to specific devices. So, if you have notifications linked to a user’s account, store device tokens with the user’s account information. Because a user can have multiple devices, prepare your app to handle multiple device tokens.\n\nFor information about how to send payloads and device tokens to APNs, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/UserNotifications\/registering-your-app-with-apns\ncrawled: 2025-12-03T04:16:59Z\n---\n\n# Registering your app with APNs\n\n**Article**\n\nCommunicate with Apple Push Notification service (APNs) and receive a unique device token that identifies your app.\n\n## Overview\n\nApple Push Notification service (APNs) must know the address of a user’s device before it can send notifications to that device. This address takes the form of a device token unique to both the device and your app. At launch time, your app communicates with APNs and receives its device token, which you then forward to your provider server. Your server includes that token with any notifications it sends.\n\n\n\n### Enable the push notifications capability\n\nTo add the required entitlements to your app, enable the Push Notifications capability in your Xcode project, as shown in . Enabling this option in iOS adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/aps-environment] to the app. In macOS, it adds the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.aps-environment]. See [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/devdfd3d04a1] in Xcode help for more information.\n\n\n\n\n\n### Register your app and retrieve your app’s device token\n\nRegister your app with APNs and receive a globally unique device token, which is effectively the address of your app on the current device. Your provider server must have this token before it can deliver notifications to the device.\n\nYou register your app and receive your device token each time your app launches using Apple-provided APIs. The registration process is similar across platforms:\n\n- In iOS and tvOS, call the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplication\/registerForRemoteNotifications()] method of [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplication] to request the device token. Upon successful registration, you receive the token in your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didRegisterForRemoteNotificationsWithDeviceToken:)] method.\n- In macOS, call the [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSApplication\/registerForRemoteNotifications()] method of [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSApplication] to request the device token. Upon successful registration, you receive the token in your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSApplicationDelegate\/application(_:didRegisterForRemoteNotificationsWithDeviceToken:)] method.\n- In watchOS, call the [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKApplication\/registerForRemoteNotifications()] method of [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKExtension] to request the device token. Upon successful registration, you receive the token in your extension delegate’s [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKApplicationDelegate\/didRegisterForRemoteNotifications(withDeviceToken:)] method.\n\nIn addition to handling successful registrations with APNs, prepare your app to handle unsuccessful registrations by implementing the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:didFailToRegisterForRemoteNotificationsWithError:)] method. Registration might fail if the user’s device isn’t connected to the network, if the APNs server is unreachable for any reason, or if the app doesn’t have the proper code-signing entitlement. When a failure occurs, set a flag and try to register again at a later time.\n\nListing 1 shows a sample implementation of the iOS app delegate methods needed to register for remote notifications and receive the corresponding token. The `sendDeviceTokenToServer` method is a custom method that the app uses to send the data to its provider server.\n\nListing 1. Communicating with APNs at launch time\n\n```swift\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions:[UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n    \/\/ Override point for customization after application launch.\n    UIApplication.shared.registerForRemoteNotifications()\n    return true\n}\n\nfunc application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {\n    self.sendDeviceTokenToServer(data: deviceToken)\n}\n\nfunc application(_ application: UIApplication,\n                 didFailToRegisterForRemoteNotificationsWithError\n                 error: Error) {\n    \/\/ Try again later.\n}\n```\n\n\n\n### Forward tokens to your provider server\n\nUpon receiving a device token, open a network connection from your app to your provider server. Securely forward the device token and any other information you need to identify the specific user to your server. For example, you might include the user’s login name or something that connects them to your service. Encrypt any information you send over the network.\n\nOn your provider server, store tokens in a secure place where you can access them to send notifications. When generating notifications, your server must be able to send notifications to specific devices. So, if you have notifications linked to a user’s account, store device tokens with the user’s account information. Because a user can have multiple devices, prepare your app to handle multiple device tokens.\n\nFor information about how to send payloads and device tokens to APNs, see [doc:\/\/com.apple.usernotifications\/documentation\/UserNotifications\/sending-notification-requests-to-apns].\n\n## Server tasks\n\n- **Generating a remote notification**: Send notifications to the user’s device with a JSON payload.\n- **Pushing background updates to your App**: Deliver notifications that wake your app and update it in the background.\n- **Establishing a connection to Apple Push Notification service (APNs)**: Secure your communications with APNs to send API requests.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Send notifications to the user’s device with a JSON payload.",
          "name" : "Generating a remote notification",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/generating-a-remote-notification"
        },
        {
          "description" : "Deliver notifications that wake your app and update it in the background.",
          "name" : "Pushing background updates to your App",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/pushing-background-updates-to-your-app"
        },
        {
          "description" : "Secure your communications with APNs to send API requests.",
          "name" : "Establishing a connection to Apple Push Notification service (APNs)",
          "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/establishing-a-connection-to-apns"
        }
      ],
      "title" : "Server tasks"
    }
  ],
  "source" : "appleJSON",
  "title" : "Registering your app with APNs",
  "url" : "https:\/\/developer.apple.com\/documentation\/UserNotifications\/registering-your-app-with-apns"
}