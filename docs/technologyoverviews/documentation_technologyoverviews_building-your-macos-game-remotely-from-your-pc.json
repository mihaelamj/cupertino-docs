{
  "abstract" : "Configure a Mac for remote builds, and use it to build your game from your PC and catch mistakes when porting your game to macOS.",
  "codeExamples" : [
    {
      "code" : "% sw_vers -productVersion && xcodebuild -version",
      "language" : "swift"
    },
    {
      "code" : "cmake_minimum_required(VERSION 3.26)\nproject(gptksample)\nadd_executable(gptksample main.m)",
      "language" : "swift"
    },
    {
      "code" : "{\n  \"version\": 3,\n  \"configurePresets\": [\n    {\n      \"name\": \"macos-debug\",\n      \"displayName\": \"macOS-Clang-Debug\",\n      \"generator\": \"Ninja\",\n      \"binaryDir\": \"${sourceDir}\/out\/build\/${presetName}\",\n      \"installDir\": \"${sourceDir}\/out\/install\/${presetName}\",\n      \"cacheVariables\": {\n        \"CMAKE_BUILD_TYPE\": \"Debug\"\n      },\n      \"condition\": {\n        \"type\": \"equals\",\n        \"lhs\": \"${hostSystemName}\",\n        \"rhs\": \"Darwin\"\n      },\n      \"vendor\": {\n        \"microsoft.com\/VisualStudioRemoteSettings\/CMake\/1.0\": {\n          \"sourceDir\": \"$env{HOME}\/.vs\/$ms{projectDirName}\"\n        }\n      }\n    }\n  ]\n}\n",
      "language" : "json"
    }
  ],
  "contentHash" : "743097c1cd02be7c662743a8cd8b95d6f6df65f77d7fefc6941043fc3167e865",
  "crawledAt" : "2025-12-02T15:26:05Z",
  "id" : "820AD0E2-BB8B-4B25-8BC2-3095FAC2DA6D",
  "kind" : "article",
  "language" : "swift",
  "module" : "Technology Overviews",
  "overview" : "When porting your Windows game code to macOS, it’s important to find platform-specific issues early, so you have time to address them. To avoid disrupting your Windows-based workflow, Apple provides tools to configure a remote Mac to build and debug the macOS version of your game from your PC. This build system lets you continue developing your game on your PC but build the macOS version and fix issues regularly.\n\nSetting up a Mac to build your Windows code remotely requires changes to both the Mac and your PC. On the Mac, you install the tools to build your code, and configure the system to support remote connections from your PC. On your PC, you configure your Microsoft Visual Studio environment to connect to the Mac and initiate remote builds. To build on both platforms, you must have a CMake-based project, which provides the instructions that both systems need to build your code.\n\n## Configure your Mac as the remote builder\n\nTo remotely build projects on your Mac, verify that your Mac is running macOS Sequoia 15.4 or later, and has Xcode 26 or later installed. Perform this verification in the Terminal app on your Mac using the following command:\n\nIn addition to verifying the base software installation:\n\n## Configure Microsoft Visual Studio to connect to your Mac\n\nWith your Mac environment set up, switch to your Microsoft Windows PC to download and install Microsoft Visual Studio 2022 17.14 or later. Using the Visual Studio Installer tool, install the “Linux and embedded development with C++” workload, which allows you to target and run on remote hosts. You might also want to install “Game Development with C++”.\n\nWith Visual Studio installed and set up, choose Tools > Options > CMake and select “Use CMake presets if available, otherwise use a CMakeSettings.json”. Now, open your game project:\n\nYour Mac now appears as a new run destination in Visual Studio:\n\n\n\nIf the entry is missing from this list, try restarting Visual Studio. For more details, see [https:\/\/learn.microsoft.com\/en-us\/cpp\/linux\/connect-to-your-remote-linux-computer?view=msvc-170].\n\n## Create a build configuration file for CMake\n\nTo initiate builds from your PC, you need to provide CMake with a build file and debugger settings it can use for the macOS version of your game. Create this file on your PC:\n\nWhen you save the `CMakeLists.txt` file, Visual Studio “generates” the project build files, according to a generator. Examples of generators available on macOS include “Unix Makefiles” and “Xcode”. Third-party generators such as Ninja also support macOS.\n\nA minimal `CMakeLists.txt` specifies the minimum version of CMake that your build instructions support, the name of the overall project, and adds an executable target named gptksample, along with its source files. The following listing shows an example of this minimal file:\n\nYou also need to create a `CMakePresets.json` file for `lldb-dap` debugger integration.\n\nAdd the following contents to the `CMakePresets.json` file you created:\n\n## Set up the default debugger environment\n\nTo debug on your Mac, upgrade to Visual Studio 2022 17.14.3 or later and configure the default debugger with the following steps:\n\n## Build and run the game project remotely on your Mac\n\nAfter you configure a remote Mac and set up the build configuration files you need, you can initiate builds from your PC. In the Visual Studio run bar, select the remote build destination, the macOS build configuration, and the target that matches the executable name in the `CMakeLists.txt` file you created. The following screenshot shows the IP address of a connected Mac, the macOS build configuration settings, and the `gptksample` target.\n\n\n\nTo start a remote build, click the green run button. Visual Studio builds your game and logs any errors in the error panel, as well as in the output panel. Examine the errors and use them to update your `CMakeLists.txt` file and tune the build process on your Mac.\n\nYou can dramatically accelerate the remote building process by configuring CMake to build your project in parallel over multiple CPU cores. To enable parallel building:\n\n## Visualize the Mac desktop remotely\n\nDepending on your setup, you may need to access the desktop of your Mac remotely to visualize your game or app running. macOS comes with a built-in VNC server that enables you to remotely log in and view its desktop.\n\nWhile Microsoft’s Remote Desktop Client doesn’t support the VNC protocol, several third-party VNC clients enable you to connect to your remote Mac, including Jump Desktop, TightVNC, and RealVNC. Make sure to log into the remote desktop using the same user credentials you provide Visual Studio Professional for remote building.\n\n## Debug any connectivity issues\n\nIf a remote build fails, it could be the result of connectivity issues rather than an actual problem with your code. Verify that connectivity isn’t the issue by performing the following steps in Visual Studio on your PC:\n\nVisual Studio logs connections to the Cross Platform Logging pane in the output window. Examine the logs for any potential problems, including:\n\nYou can also copy your project contents manually using `rsync` or `scp` to the remote Mac. To copy files manually, retrieve the location that Visual Studio assigns to your project from the logs in its “Cross Platform Logging” pane.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/TechnologyOverviews\/building-your-macos-game-remotely-from-your-pc\ncrawled: 2025-12-02T15:26:05Z\n---\n\n# Building your macOS game remotely from your PC\n\nConfigure a Mac for remote builds, and use it to build your game from your PC and catch mistakes when porting your game to macOS.\n\nWhen porting your Windows game code to macOS, it’s important to find platform-specific issues early, so you have time to address them. To avoid disrupting your Windows-based workflow, Apple provides tools to configure a remote Mac to build and debug the macOS version of your game from your PC. This build system lets you continue developing your game on your PC but build the macOS version and fix issues regularly.\n\nSetting up a Mac to build your Windows code remotely requires changes to both the Mac and your PC. On the Mac, you install the tools to build your code, and configure the system to support remote connections from your PC. On your PC, you configure your Microsoft Visual Studio environment to connect to the Mac and initiate remote builds. To build on both platforms, you must have a CMake-based project, which provides the instructions that both systems need to build your code.\n\n## Configure your Mac as the remote builder\n\nTo remotely build projects on your Mac, verify that your Mac is running macOS Sequoia 15.4 or later, and has Xcode 26 or later installed. Perform this verification in the Terminal app on your Mac using the following command:\n\n```swift\n% sw_vers -productVersion && xcodebuild -version\n```\n\nIn addition to verifying the base software installation:\n\n- Accept the Xcode license agreement. In Terminal, enter `sudo xcodebuild -license` and press Return, then follow the prompts to accept the license agreement.\n- Verify that `zsh` is your default UNIX shell. In Terminal, enter `echo $SHELL` and press Return. If Terminal returns something other than `\/bin\/zsh`, change shells by entering `chsh -s \/bin\/zsh` and pressing Return.\n- Download the [https:\/\/developer.apple.com\/downloads?q=Game%20Porting], and double-click `Mac Remote Development Tools for Windows.pkg` to run the installer. The installer guides you through the automatic configuration of your Mac as a remote build and debug target.\n- Download and install the [https:\/\/developer.apple.com\/metal\/shader-converter\/] on your Mac if your build process requires building DXIL shaders.\n- In System Settings, choose General > Sharing, and ensure that both Remote Management and Remote Login are turned on to allow VNC and SSH access, respectively.\n\n\n\n## Configure Microsoft Visual Studio to connect to your Mac\n\nWith your Mac environment set up, switch to your Microsoft Windows PC to download and install Microsoft Visual Studio 2022 17.14 or later. Using the Visual Studio Installer tool, install the “Linux and embedded development with C++” workload, which allows you to target and run on remote hosts. You might also want to install “Game Development with C++”.\n\nWith Visual Studio installed and set up, choose Tools > Options > CMake and select “Use CMake presets if available, otherwise use a CMakeSettings.json”. Now, open your game project:\n\n1. Choose Open > Folder, and navigate to the folder that contains your game project.\n2. Click Open. This opens the project’s folder, which enables you to set up a CMake-based build system that builds on macOS. Avoid opening any Visual Studio Solution files.\n\n\n3. To connect to your Mac, choose Tools > Options.\n4. Navigate to Cross Platform > Connection Manager.\n5. Click Add.\n6. Enter the following details to connect Visual Studio with your Mac:\n\n1. The network name of the Mac. This can either be its IP address or the name in System Settings > General > About > Name.\n2. The user name and password of an account in the `admin` or `_developer` group. You can verify this in System Settings > Users & Groups, and examining your user account’s details.\n\n\n7. Click Verify to ensure that Visual Studio connects to your Mac.\n8. Click OK to close the dialog.\n\nYour Mac now appears as a new run destination in Visual Studio:\n\n\n\nIf the entry is missing from this list, try restarting Visual Studio. For more details, see [https:\/\/learn.microsoft.com\/en-us\/cpp\/linux\/connect-to-your-remote-linux-computer?view=msvc-170].\n\n## Create a build configuration file for CMake\n\nTo initiate builds from your PC, you need to provide CMake with a build file and debugger settings it can use for the macOS version of your game. Create this file on your PC:\n\n1. Right-click the folder name in the Solution Explorer, and choose Add > New File.\n2. Name the file `CMakeLists.txt`.\n\nWhen you save the `CMakeLists.txt` file, Visual Studio “generates” the project build files, according to a generator. Examples of generators available on macOS include “Unix Makefiles” and “Xcode”. Third-party generators such as Ninja also support macOS.\n\nA minimal `CMakeLists.txt` specifies the minimum version of CMake that your build instructions support, the name of the overall project, and adds an executable target named gptksample, along with its source files. The following listing shows an example of this minimal file:\n\n```swift\ncmake_minimum_required(VERSION 3.26)\nproject(gptksample)\nadd_executable(gptksample main.m)\n```\n\n\n\nYou also need to create a `CMakePresets.json` file for `lldb-dap` debugger integration.\n\n1. Right-click the folder name in the Solution Explorer, and choose Add > New File.\n2. Name the file `CMakePresets.json`.\n\nAdd the following contents to the `CMakePresets.json` file you created:\n\n```json\n{\n  \"version\": 3,\n  \"configurePresets\": [\n    {\n      \"name\": \"macos-debug\",\n      \"displayName\": \"macOS-Clang-Debug\",\n      \"generator\": \"Ninja\",\n      \"binaryDir\": \"${sourceDir}\/out\/build\/${presetName}\",\n      \"installDir\": \"${sourceDir}\/out\/install\/${presetName}\",\n      \"cacheVariables\": {\n        \"CMAKE_BUILD_TYPE\": \"Debug\"\n      },\n      \"condition\": {\n        \"type\": \"equals\",\n        \"lhs\": \"${hostSystemName}\",\n        \"rhs\": \"Darwin\"\n      },\n      \"vendor\": {\n        \"microsoft.com\/VisualStudioRemoteSettings\/CMake\/1.0\": {\n          \"sourceDir\": \"$env{HOME}\/.vs\/$ms{projectDirName}\"\n        }\n      }\n    }\n  ]\n}\n\n```\n\n\n\n## Set up the default debugger environment\n\nTo debug on your Mac, upgrade to Visual Studio 2022 17.14.3 or later and configure the default debugger with the following steps:\n\n1. Choose Tools > Options.\n2. Navigate to Environment > Preview Features.\n3. Click “Enable default debugger selection in CMake Remote scenarios”.\n4. Click OK to close the dialog and save the preference.\n5. Choose Tools > Options to reopen the updated dialog.\n6. Navigate to Cross Platform > Logging and Diagnostics.\n7. Under “Manage Remote Debugging,” select `lldb-dap`.\n8. Click OK to save and close.\n9. Choose Project > Configure to reconfigure your project.\n\n## Build and run the game project remotely on your Mac\n\nAfter you configure a remote Mac and set up the build configuration files you need, you can initiate builds from your PC. In the Visual Studio run bar, select the remote build destination, the macOS build configuration, and the target that matches the executable name in the `CMakeLists.txt` file you created. The following screenshot shows the IP address of a connected Mac, the macOS build configuration settings, and the `gptksample` target.\n\n\n\nTo start a remote build, click the green run button. Visual Studio builds your game and logs any errors in the error panel, as well as in the output panel. Examine the errors and use them to update your `CMakeLists.txt` file and tune the build process on your Mac.\n\n\n\nYou can dramatically accelerate the remote building process by configuring CMake to build your project in parallel over multiple CPU cores. To enable parallel building:\n\n1. In Visual Studio, choose Project > CMake Settings.\n2. Add the `-j` option to the “Build command arguments”.\n3. Restart Visual Studio to pick up the new CMake settings.\n\n## Visualize the Mac desktop remotely\n\nDepending on your setup, you may need to access the desktop of your Mac remotely to visualize your game or app running. macOS comes with a built-in VNC server that enables you to remotely log in and view its desktop.\n\nWhile Microsoft’s Remote Desktop Client doesn’t support the VNC protocol, several third-party VNC clients enable you to connect to your remote Mac, including Jump Desktop, TightVNC, and RealVNC. Make sure to log into the remote desktop using the same user credentials you provide Visual Studio Professional for remote building.\n\n\n\n## Debug any connectivity issues\n\nIf a remote build fails, it could be the result of connectivity issues rather than an actual problem with your code. Verify that connectivity isn’t the issue by performing the following steps in Visual Studio on your PC:\n\n1. Choose Tools > Options, then go to Cross Platform > Logging and Diagnostics.\n2. Turn on “Enable logging”.\n3. Select the “Log to the Cross Platform Logging pane in the Output Window” checkbox.\n4. Click OK.\n\nVisual Studio logs connections to the Cross Platform Logging pane in the output window. Examine the logs for any potential problems, including:\n\n- Remote building occasionally fails with an error stating “Connection closed by peer,” despite the configuration phase working correctly. If the problem persists, restart Visual Studio and reopen the project folder.\n- Large projects (50 GB or more) may cause a connection drop in Visual Studio Professional during the initial copy over the network. If this affects your project, restart Visual Studio Professional to reopen the connection to the Mac and resume the file copy.\n\nYou can also copy your project contents manually using `rsync` or `scp` to the remote Mac. To copy files manually, retrieve the location that Visual Studio assigns to your project from the logs in its “Cross Platform Logging” pane.\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Building your macOS game remotely from your PC",
  "url" : "https:\/\/developer.apple.com\/documentation\/TechnologyOverviews\/building-your-macos-game-remotely-from-your-pc"
}