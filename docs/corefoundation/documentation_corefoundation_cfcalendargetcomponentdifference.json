{
  "abstract" : "Computes the difference between the two absolute times, in terms of specified calendrical components.",
  "codeExamples" : [
    {
      "code" : "CFCalendarGetComponentDifference(gregorian, at1, at2, 0, \"d\",  &days);",
      "language" : "objc"
    }
  ],
  "contentHash" : "227c44d84d8890b8d54941a0f692c27cc82b43ad35d8cb25fb88d8b8c12c150b",
  "crawledAt" : "2025-12-07T14:01:06Z",
  "declaration" : {
    "code" : "extern Boolean CFCalendarGetComponentDifference(CFCalendarRef calendar, CFAbsoluteTime startingAT, CFAbsoluteTime resultAT, CFOptionFlags options, const char * componentDesc, ...);",
    "language" : "swift"
  },
  "id" : "07E7F08A-A384-4191-A6C0-F2596A7B3B37",
  "kind" : "function",
  "language" : "occ",
  "module" : "Core Foundation",
  "overview" : "## Return Value\n\n`TRUE`—and in the varargs the differences—if it is possible to calculate the difference (result - starting) between `resultAT` and `startingAT` in terms of the calendrical components specified by `componentDesc`. Returns `FALSE` if either absolute time falls outside the defined range of the calendar, or the computation cannot be performed.\n\n## Discussion\n\nThe result is lossy if there isn’t a small enough unit requested to hold the full precision of the difference. Some operations can be ambiguous, and the behavior of the computation is calendar-specific, but generally larger components will be computed before smaller components; for example, in the Gregorian calendar a result might be `1` month and `5` days, instead of, for example, `0` months and `35` days. The resulting component values may be negative if later is before earlier.\n\nThis computation is roughly the inverse of the [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFCalendarAddComponents] operation, but calendrical arithmetic is invertible only in simple cases. This computation tends to be several times more expensive than the Add operation.\n\nThe following example shows how to get the approximate number of days between two absolute times (`at1`, `at2`) using an existing calendar (`gregorian`):",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFCalendarGetComponentDifference\ncrawled: 2025-12-07T14:01:06Z\n---\n\n# CFCalendarGetComponentDifference\n\n**Function**\n\nComputes the difference between the two absolute times, in terms of specified calendrical components.\n\n## Declaration\n\n```swift\nextern Boolean CFCalendarGetComponentDifference(CFCalendarRef calendar, CFAbsoluteTime startingAT, CFAbsoluteTime resultAT, CFOptionFlags options, const char * componentDesc, ...);\n```\n\n## Parameters\n\n- **calendar**: The calendar to use for the computation.\n- **startingAT**: The starting absolute time.\n- **resultAT**: The result absolute time.\n- **options**: Options for the calculation. For valid values, see Constants.\n- **componentDesc**: A string that describes the components provided in the variadic parameters with pointers to storage for each of the desired components. On successful return, the pointers are filled with values of the corresponding components. The type of all units is `int`.\n\n## Return Value\n\n`TRUE`—and in the varargs the differences—if it is possible to calculate the difference (result - starting) between `resultAT` and `startingAT` in terms of the calendrical components specified by `componentDesc`. Returns `FALSE` if either absolute time falls outside the defined range of the calendar, or the computation cannot be performed.\n\n## Discussion\n\nThe result is lossy if there isn’t a small enough unit requested to hold the full precision of the difference. Some operations can be ambiguous, and the behavior of the computation is calendar-specific, but generally larger components will be computed before smaller components; for example, in the Gregorian calendar a result might be `1` month and `5` days, instead of, for example, `0` months and `35` days. The resulting component values may be negative if later is before earlier.\n\nThis computation is roughly the inverse of the [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFCalendarAddComponents] operation, but calendrical arithmetic is invertible only in simple cases. This computation tends to be several times more expensive than the Add operation.\n\nThe following example shows how to get the approximate number of days between two absolute times (`at1`, `at2`) using an existing calendar (`gregorian`):\n\n```objc\nCFCalendarGetComponentDifference(gregorian, at1, at2, 0, \"d\",  &days);\n```\n\n## Calendrical Calculations\n\n- **CFCalendarAddComponents**: Computes the absolute time when specified components are added to a given absolute time.\n- **CFCalendarComposeAbsoluteTime**: Computes the absolute time from components in a description string.\n- **CFCalendarDecomposeAbsoluteTime**: Computes the components which are indicated by the componentDesc description string for the given absolute time.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Computes the absolute time when specified components are added to a given absolute time.",
          "name" : "CFCalendarAddComponents",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFCalendarAddComponents"
        },
        {
          "description" : "Computes the absolute time from components in a description string.",
          "name" : "CFCalendarComposeAbsoluteTime",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFCalendarComposeAbsoluteTime"
        },
        {
          "description" : "Computes the components which are indicated by the componentDesc description string for the given absolute time.",
          "name" : "CFCalendarDecomposeAbsoluteTime",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFCalendarDecomposeAbsoluteTime"
        }
      ],
      "title" : "Calendrical Calculations"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFCalendarGetComponentDifference",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFCalendarGetComponentDifference"
}