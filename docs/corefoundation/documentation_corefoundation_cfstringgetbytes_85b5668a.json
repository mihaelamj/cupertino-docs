{
  "abstract" : "Fetches a range of the characters from a string into a byte buffer after converting the characters to a specified encoding.",
  "codeExamples" : [

  ],
  "contentHash" : "ba9c3aa10fed2b311160ca5f9825d867a037a8fd36d4be987121c4717ced2299",
  "crawledAt" : "2025-12-04T19:40:19Z",
  "declaration" : {
    "code" : "func CFStringGetBytes(_ theString: CFString!, _ range: CFRange, _ encoding: CFStringEncoding, _ lossByte: UInt8, _ isExternalRepresentation: Bool, _ buffer: UnsafeMutablePointer<UInt8>!, _ maxBufLen: CFIndex, _ usedBufLen: UnsafeMutablePointer<CFIndex>!) -> CFIndex",
    "language" : "swift"
  },
  "id" : "DAE0CA75-5878-4C05-9142-DD2A327D815B",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Foundation",
  "overview" : "## Return Value\n\nThe number of characters converted.\n\n## Discussion\n\nThis function is the basic encoding-conversion function for CFString objects. As with the other functions that get the character contents of CFString objects, it allows conversion to a supported 8-bit encoding. Unlike most of those other functions, it also allows “lossy conversion.” The function permits the specification of a “loss byte” in a parameter; if a character cannot be converted this character is substituted and conversion proceeds. (With the other functions, conversion stops at the first error and the operation fails.)\n\nBecause this function takes a range and returns the number of characters converted, it can be called repeatedly with a small fixed size buffer and different ranges of the string to do the conversion incrementally.\n\nThis function also handles any necessary manipulation of character data in an “external representation” format. This format makes the data portable and persistent (disk-writable); in Unicode it often includes a BOM (byte order marker) that specifies the endianness of the data.\n\nThe [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFStringCreateExternalRepresentation(_:_:_:_:)] function also handles external representations and performs lossy conversions. The complementary function [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFStringCreateWithBytes(_:_:_:_:_:)] creates a string from the characters in a byte buffer.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/corefoundation\/cfstringgetbytes(_:_:_:_:_:_:_:_:)\ncrawled: 2025-12-04T19:40:19Z\n---\n\n# CFStringGetBytes(_:_:_:_:_:_:_:_:)\n\n**Function**\n\nFetches a range of the characters from a string into a byte buffer after converting the characters to a specified encoding.\n\n## Declaration\n\n```swift\nfunc CFStringGetBytes(_ theString: CFString!, _ range: CFRange, _ encoding: CFStringEncoding, _ lossByte: UInt8, _ isExternalRepresentation: Bool, _ buffer: UnsafeMutablePointer<UInt8>!, _ maxBufLen: CFIndex, _ usedBufLen: UnsafeMutablePointer<CFIndex>!) -> CFIndex\n```\n\n## Parameters\n\n- **theString**: The string upon which to operate.\n- **range**: The range of characters in `theString` to process. The specified range must not exceed the length of the string.\n- **encoding**: The string encoding of the characters to copy to the byte buffer. 8, 16, and 32-bit encodings are supported.\n- **lossByte**: A character (for example, ‘?’) that should be substituted for characters that cannot be converted to the specified encoding. Pass `0` if you do not want lossy conversion to occur.\n- **isExternalRepresentation**: `true` if you want the result to be in an “external representation” format, otherwise `false`. In an “external representation” format, the result may contain a byte order marker (BOM) specifying endianness and this function might have to perform byte swapping.\n- **buffer**: The byte buffer into which the converted characters are written. The buffer can be allocated on the heap or stack. Pass `NULL` if you do not want conversion to take place but instead want to know if conversion will succeed (the function result is greater than `0`) and, if so, how many bytes are required (`usedBufLen`).\n- **maxBufLen**: The size of `buffer` and the maximum number of bytes that can be written to it.\n- **usedBufLen**: On return, the number of converted bytes actually in `buffer`. You may pass `NULL` if you are not interested in this information.\n\n## Return Value\n\nThe number of characters converted.\n\n## Discussion\n\nThis function is the basic encoding-conversion function for CFString objects. As with the other functions that get the character contents of CFString objects, it allows conversion to a supported 8-bit encoding. Unlike most of those other functions, it also allows “lossy conversion.” The function permits the specification of a “loss byte” in a parameter; if a character cannot be converted this character is substituted and conversion proceeds. (With the other functions, conversion stops at the first error and the operation fails.)\n\nBecause this function takes a range and returns the number of characters converted, it can be called repeatedly with a small fixed size buffer and different ranges of the string to do the conversion incrementally.\n\nThis function also handles any necessary manipulation of character data in an “external representation” format. This format makes the data portable and persistent (disk-writable); in Unicode it often includes a BOM (byte order marker) that specifies the endianness of the data.\n\nThe [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFStringCreateExternalRepresentation(_:_:_:_:)] function also handles external representations and performs lossy conversions. The complementary function [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFStringCreateWithBytes(_:_:_:_:_:)] creates a string from the characters in a byte buffer.\n\n## Accessing Characters\n\n- **CFStringCreateExternalRepresentation(_:_:_:_:)**: Creates an “external representation” of a CFString object, that is, a CFData object.\n- **CFStringGetCharacterAtIndex(_:_:)**: Returns the Unicode character at a specified location in a string.\n- **CFStringGetCharacters(_:_:_:)**: Copies a range of the Unicode characters from a string to a user-provided buffer.\n- **CFStringGetCharactersPtr(_:)**: Quickly obtains a pointer to the contents of a string as a buffer of Unicode characters.\n- **CFStringGetCharacterFromInlineBuffer(_:_:)**: Returns the Unicode character at a specific location in an in-line buffer.\n- **CFStringGetCString(_:_:_:_:)**: Copies the character contents of a string to a local C string buffer after converting the characters to a given encoding.\n- **CFStringGetCStringPtr(_:_:)**: Quickly obtains a pointer to a C-string buffer containing the characters of a string in a given encoding.\n- **CFStringGetLength(_:)**: Returns the number (in terms of UTF-16 code pairs) of Unicode characters in a string.\n- **CFStringGetPascalString(_:_:_:_:)**: Copies the character contents of a CFString object to a local Pascal string buffer after converting the characters to a requested encoding.\n- **CFStringGetPascalStringPtr(_:_:)**: Quickly obtains a pointer to a Pascal buffer containing the characters of a string in a given encoding.\n- **CFStringGetRangeOfComposedCharactersAtIndex(_:_:)**: Returns the range of the composed character sequence at a specified index.\n- **CFStringInitInlineBuffer(_:_:_:)**: Initializes an in-line buffer to use for efficient access of a CFString object’s characters.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an “external representation” of a CFString object, that is, a CFData object.",
          "name" : "CFStringCreateExternalRepresentation(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringCreateExternalRepresentation(_:_:_:_:)"
        },
        {
          "description" : "Returns the Unicode character at a specified location in a string.",
          "name" : "CFStringGetCharacterAtIndex(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCharacterAtIndex(_:_:)"
        },
        {
          "description" : "Copies a range of the Unicode characters from a string to a user-provided buffer.",
          "name" : "CFStringGetCharacters(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCharacters(_:_:_:)"
        },
        {
          "description" : "Quickly obtains a pointer to the contents of a string as a buffer of Unicode characters.",
          "name" : "CFStringGetCharactersPtr(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCharactersPtr(_:)"
        },
        {
          "description" : "Returns the Unicode character at a specific location in an in-line buffer.",
          "name" : "CFStringGetCharacterFromInlineBuffer(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCharacterFromInlineBuffer(_:_:)"
        },
        {
          "description" : "Copies the character contents of a string to a local C string buffer after converting the characters to a given encoding.",
          "name" : "CFStringGetCString(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCString(_:_:_:_:)"
        },
        {
          "description" : "Quickly obtains a pointer to a C-string buffer containing the characters of a string in a given encoding.",
          "name" : "CFStringGetCStringPtr(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetCStringPtr(_:_:)"
        },
        {
          "description" : "Returns the number (in terms of UTF-16 code pairs) of Unicode characters in a string.",
          "name" : "CFStringGetLength(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetLength(_:)"
        },
        {
          "description" : "Copies the character contents of a CFString object to a local Pascal string buffer after converting the characters to a requested encoding.",
          "name" : "CFStringGetPascalString(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetPascalString(_:_:_:_:)"
        },
        {
          "description" : "Quickly obtains a pointer to a Pascal buffer containing the characters of a string in a given encoding.",
          "name" : "CFStringGetPascalStringPtr(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetPascalStringPtr(_:_:)"
        },
        {
          "description" : "Returns the range of the composed character sequence at a specified index.",
          "name" : "CFStringGetRangeOfComposedCharactersAtIndex(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringGetRangeOfComposedCharactersAtIndex(_:_:)"
        },
        {
          "description" : "Initializes an in-line buffer to use for efficient access of a CFString object’s characters.",
          "name" : "CFStringInitInlineBuffer(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFStringInitInlineBuffer(_:_:_:)"
        }
      ],
      "title" : "Accessing Characters"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFStringGetBytes(_:_:_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/corefoundation\/cfstringgetbytes(_:_:_:_:_:_:_:_:)"
}