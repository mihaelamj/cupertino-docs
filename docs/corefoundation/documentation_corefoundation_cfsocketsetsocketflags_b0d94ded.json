{
  "abstract" : "Sets flags that control certain behaviors of a CFSocket object.",
  "codeExamples" : [
    {
      "code" : "    CFOptionFlags sockopt = CFSocketGetSocketFlags (mysock );\n \n    \/* Set the read callback to be automatically reenabled. *\/\n    sockopt |= kCFSocketAutomaticallyReenableReadCallBack;\n \n    \/* Clear the close-on-invalidate flag. *\/\n    sockopt &= ~kCFSocketCloseOnInvalidate;\n \n    CFSocketSetSocketFlags(s, sockopt);",
      "language" : "objc"
    }
  ],
  "contentHash" : "3ca9718cf2c92e2855799bd6db054a6e7f78f78d692063852c4ddec0f3102e27",
  "crawledAt" : "2025-12-05T07:15:43Z",
  "declaration" : {
    "code" : "func CFSocketSetSocketFlags(_ s: CFSocket!, _ flags: CFOptionFlags)",
    "language" : "swift"
  },
  "id" : "2B45E517-8F0C-4D5C-A652-676F8B1DC2C9",
  "kind" : "function",
  "language" : "swift",
  "module" : "Core Foundation",
  "overview" : "## Discussion\n\nThe `flags` argument controls whether callbacks of a given type are automatically reenabled after they are triggered, and whether the underlying native socket is closed when `s` is invalidated.\n\nTo set and clear flags, you must set and mask bits in the flag set, respectively. First, call [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFSocketGetSocketFlags(_:)], then modify the value returned. For example:\n\nBy default `kCFSocketReadCallBack`, `kCFSocketAcceptCallBack`, and `kCFSocketDataCallBack` callbacks are automatically reenabled after they are triggered, whereas `kCFSocketWriteCallBack` callbacks are not; `kCFSocketConnectCallBack` callbacks can only occur once, so they cannot be reenabled.\n\nIf a callback is automatically reenabled, it is called every time the condition becomes true. For example, a read callback is called as long as there is data on the socket waiting to be read. If a callback is not automatically reenabled, then it gets called exactly once, and is not called again until you manually reenable that callback by calling [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFSocketEnableCallBacks(_:_:)].\n\nBe careful about automatically reenabling read and write callbacks. If you do, the callbacks will be called repeatedly as long as the socket remains readable or writable, respectively.\n\nBe sure to set these flags only for callback types that your CFSocket object actually possesses; the result of setting them for other callback types is undefined.\n\nBy default the underlying native socket is closed when `s` is invalidated. To disable that, clear (zero) the `kCFSocketCloseOnInvalidate` flag. This can be useful when you want to destroy a CFSocket object but continue to use the underlying native socket. The CFSocket object must still be invalidated when you no longer need it.\n\nDo not close the underlying native socket without invalidating the CFSocket object first.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/corefoundation\/cfsocketsetsocketflags(_:_:)\ncrawled: 2025-12-05T07:15:43Z\n---\n\n# CFSocketSetSocketFlags(_:_:)\n\n**Function**\n\nSets flags that control certain behaviors of a CFSocket object.\n\n## Declaration\n\n```swift\nfunc CFSocketSetSocketFlags(_ s: CFSocket!, _ flags: CFOptionFlags)\n```\n\n## Parameters\n\n- **s**: The CFSocket object to modify.\n- **flags**: A bitwise-OR combination of flags controlling the behavior of `s`. See [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/1560944-cfsocket-flags] for the list of available flags.\n\n## Discussion\n\nThe `flags` argument controls whether callbacks of a given type are automatically reenabled after they are triggered, and whether the underlying native socket is closed when `s` is invalidated.\n\nTo set and clear flags, you must set and mask bits in the flag set, respectively. First, call [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFSocketGetSocketFlags(_:)], then modify the value returned. For example:\n\n```objc\n    CFOptionFlags sockopt = CFSocketGetSocketFlags (mysock );\n \n    \/* Set the read callback to be automatically reenabled. *\/\n    sockopt |= kCFSocketAutomaticallyReenableReadCallBack;\n \n    \/* Clear the close-on-invalidate flag. *\/\n    sockopt &= ~kCFSocketCloseOnInvalidate;\n \n    CFSocketSetSocketFlags(s, sockopt);\n```\n\nBy default `kCFSocketReadCallBack`, `kCFSocketAcceptCallBack`, and `kCFSocketDataCallBack` callbacks are automatically reenabled after they are triggered, whereas `kCFSocketWriteCallBack` callbacks are not; `kCFSocketConnectCallBack` callbacks can only occur once, so they cannot be reenabled.\n\nIf a callback is automatically reenabled, it is called every time the condition becomes true. For example, a read callback is called as long as there is data on the socket waiting to be read. If a callback is not automatically reenabled, then it gets called exactly once, and is not called again until you manually reenable that callback by calling [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFSocketEnableCallBacks(_:_:)].\n\nBe careful about automatically reenabling read and write callbacks. If you do, the callbacks will be called repeatedly as long as the socket remains readable or writable, respectively.\n\nBe sure to set these flags only for callback types that your CFSocket object actually possesses; the result of setting them for other callback types is undefined.\n\nBy default the underlying native socket is closed when `s` is invalidated. To disable that, clear (zero) the `kCFSocketCloseOnInvalidate` flag. This can be useful when you want to destroy a CFSocket object but continue to use the underlying native socket. The CFSocket object must still be invalidated when you no longer need it.\n\nDo not close the underlying native socket without invalidating the CFSocket object first.\n\n## Configuring Sockets\n\n- **CFSocketCopyAddress(_:)**: Returns the local address of a CFSocket object.\n- **CFSocketCopyPeerAddress(_:)**: Returns the remote address to which a CFSocket object is connected.\n- **CFSocketDisableCallBacks(_:_:)**: Disables the callback function of a CFSocket object for certain types of socket activity.\n- **CFSocketEnableCallBacks(_:_:)**: Enables the callback function of a CFSocket object for certain types of socket activity.\n- **CFSocketGetContext(_:_:)**: Returns the context information for a CFSocket object.\n- **CFSocketGetNative(_:)**: Returns the native socket associated with a CFSocket object.\n- **CFSocketGetSocketFlags(_:)**: Returns flags that control certain behaviors of a CFSocket object.\n- **CFSocketSetAddress(_:_:)**: Binds a local address to a CFSocket object and configures it for listening.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the local address of a CFSocket object.",
          "name" : "CFSocketCopyAddress(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketCopyAddress(_:)"
        },
        {
          "description" : "Returns the remote address to which a CFSocket object is connected.",
          "name" : "CFSocketCopyPeerAddress(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketCopyPeerAddress(_:)"
        },
        {
          "description" : "Disables the callback function of a CFSocket object for certain types of socket activity.",
          "name" : "CFSocketDisableCallBacks(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketDisableCallBacks(_:_:)"
        },
        {
          "description" : "Enables the callback function of a CFSocket object for certain types of socket activity.",
          "name" : "CFSocketEnableCallBacks(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketEnableCallBacks(_:_:)"
        },
        {
          "description" : "Returns the context information for a CFSocket object.",
          "name" : "CFSocketGetContext(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketGetContext(_:_:)"
        },
        {
          "description" : "Returns the native socket associated with a CFSocket object.",
          "name" : "CFSocketGetNative(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketGetNative(_:)"
        },
        {
          "description" : "Returns flags that control certain behaviors of a CFSocket object.",
          "name" : "CFSocketGetSocketFlags(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketGetSocketFlags(_:)"
        },
        {
          "description" : "Binds a local address to a CFSocket object and configures it for listening.",
          "name" : "CFSocketSetAddress(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFSocketSetAddress(_:_:)"
        }
      ],
      "title" : "Configuring Sockets"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFSocketSetSocketFlags(_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/corefoundation\/cfsocketsetsocketflags(_:_:)"
}