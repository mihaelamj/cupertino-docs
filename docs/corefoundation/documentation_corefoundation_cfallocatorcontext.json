{
  "abstract" : "A structure that defines the context or operating environment for an allocator (CFAllocator) object. Every Core Foundation allocator object must have a context defined for it.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "BitwiseCopyable"
  ],
  "contentHash" : "0734377476575156246bf826ab6900cb794c759396242423dd27b497ff6bb11c",
  "crawledAt" : "2025-12-03T19:31:56Z",
  "declaration" : {
    "code" : "struct CFAllocatorContext",
    "language" : "swift"
  },
  "id" : "F9C91CA6-9EE4-4F3C-816D-EAED48159577",
  "kind" : "struct",
  "language" : "swift",
  "module" : "Core Foundation",
  "overview" : "## Overview\n\nSee the [https:\/\/developer.apple.com\/library\/archive\/documentation\/CoreFoundation\/Conceptual\/CFMemoryMgmt\/CFMemoryMgmt.html#\/\/apple_ref\/doc\/uid\/10000127i] topic for information on creating a custom CFAllocator object and, as part of that procedure, the steps for creating a properly initialized `CFAllocatorContext` structure.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/corefoundation\/cfallocatorcontext\ncrawled: 2025-12-03T19:31:56Z\n---\n\n# CFAllocatorContext\n\n**Structure**\n\nA structure that defines the context or operating environment for an allocator (CFAllocator) object. Every Core Foundation allocator object must have a context defined for it.\n\n## Declaration\n\n```swift\nstruct CFAllocatorContext\n```\n\n## Overview\n\nSee the [https:\/\/developer.apple.com\/library\/archive\/documentation\/CoreFoundation\/Conceptual\/CFMemoryMgmt\/CFMemoryMgmt.html#\/\/apple_ref\/doc\/uid\/10000127i] topic for information on creating a custom CFAllocator object and, as part of that procedure, the steps for creating a properly initialized `CFAllocatorContext` structure.\n\n## Initializers\n\n- **init()**\n- **init(version:info:retain:release:copyDescription:allocate:reallocate:deallocate:preferredSize:)**\n\n## Instance Properties\n\n- **allocate**: A prototype for a function callback that allocates memory of a requested size. In implementing this function, allocate a block of memory of at least `size` bytes and return a pointer to the start of the block. The `hint` argument is a bitfield that you should currently not use (that is, assign 0). The `size` parameter should always be greater than 0. If it is not, or if problems in allocation occur, return `NULL`. This function pointer may not be assigned `NULL`.\n- **copyDescription**: A prototype for a function callback that provides a description of the data pointed to by the `info` field. In implementing this function, return a reference to a CFString object that describes your allocator, particularly some characteristics of your program-defined data. You may set this function pointer to `NULL`, in which case Core Foundation will provide a rudimentary description.\n- **deallocate**: A prototype for a function callback that deallocates a given block of memory. In implementing this function, make the block of memory pointed to by `ptr` available for subsequent reuse by the allocator but unavailable for continued use by the program. The `ptr` parameter cannot be `NULL` and if the `ptr` parameter is not a block of memory that has been previously allocated by the allocator, the results are undefined; abnormal program termination can occur. You can set this callback to `NULL`, in which case the [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFAllocatorDeallocate(_:_:)] function has no effect.\n- **info**: An untyped pointer to program-defined data. Allocate memory for this data and assign a pointer to it. This data is often control information for the allocator. You may assign `NULL`.\n- **preferredSize**: A prototype for a function callback that determines whether there is enough free memory to satisfy a request. In implementing this function, return the actual size the allocator is likely to allocate given a request for a block of memory of size `size`. The `hint` argument is a bitfield that you should currently not use.\n- **reallocate**: A prototype for a function callback that reallocates memory of a requested size for an existing block of memory.\n- **release**: A prototype for a function callback that releases the data pointed to by the `info` field. In implementing this function, release (or free) the data you have defined for the allocator context. You may set this function pointer to `NULL`, but doing so might result in memory leaks.\n- **retain**: A prototype for a function callback that retains the data pointed to by the `info` field. In implementing this function, retain the data you have defined for the allocator context in this field. (This might make sense only if the data is a Core Foundation object.) You may set this function pointer to `NULL`.\n- **version**: An integer of type `CFIndex`. Assign the version number of the allocator. Currently the only valid value is 0.\n\n## Conforms To\n\n- BitwiseCopyable\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/init()"
        },
        {
          "description" : "",
          "name" : "init(version:info:retain:release:copyDescription:allocate:reallocate:deallocate:preferredSize:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/init(version:info:retain:release:copyDescription:allocate:reallocate:deallocate:preferredSize:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A prototype for a function callback that allocates memory of a requested size. In implementing this function, allocate a block of memory of at least `size` bytes and return a pointer to the start of the block. The `hint` argument is a bitfield that you should currently not use (that is, assign 0). The `size` parameter should always be greater than 0. If it is not, or if problems in allocation occur, return `NULL`. This function pointer may not be assigned `NULL`.",
          "name" : "allocate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/allocate"
        },
        {
          "description" : "A prototype for a function callback that provides a description of the data pointed to by the `info` field. In implementing this function, return a reference to a CFString object that describes your allocator, particularly some characteristics of your program-defined data. You may set this function pointer to `NULL`, in which case Core Foundation will provide a rudimentary description.",
          "name" : "copyDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/copyDescription"
        },
        {
          "description" : "A prototype for a function callback that deallocates a given block of memory. In implementing this function, make the block of memory pointed to by `ptr` available for subsequent reuse by the allocator but unavailable for continued use by the program. The `ptr` parameter cannot be `NULL` and if the `ptr` parameter is not a block of memory that has been previously allocated by the allocator, the results are undefined; abnormal program termination can occur. You can set this callback to `NULL`, in which case the [doc:\/\/com.apple.corefoundation\/documentation\/CoreFoundation\/CFAllocatorDeallocate(_:_:)] function has no effect.",
          "name" : "deallocate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/deallocate"
        },
        {
          "description" : "An untyped pointer to program-defined data. Allocate memory for this data and assign a pointer to it. This data is often control information for the allocator. You may assign `NULL`.",
          "name" : "info",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/info"
        },
        {
          "description" : "A prototype for a function callback that determines whether there is enough free memory to satisfy a request. In implementing this function, return the actual size the allocator is likely to allocate given a request for a block of memory of size `size`. The `hint` argument is a bitfield that you should currently not use.",
          "name" : "preferredSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/preferredSize"
        },
        {
          "description" : "A prototype for a function callback that reallocates memory of a requested size for an existing block of memory.",
          "name" : "reallocate",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/reallocate"
        },
        {
          "description" : "A prototype for a function callback that releases the data pointed to by the `info` field. In implementing this function, release (or free) the data you have defined for the allocator context. You may set this function pointer to `NULL`, but doing so might result in memory leaks.",
          "name" : "release",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/release"
        },
        {
          "description" : "A prototype for a function callback that retains the data pointed to by the `info` field. In implementing this function, retain the data you have defined for the allocator context in this field. (This might make sense only if the data is a Core Foundation object.) You may set this function pointer to `NULL`.",
          "name" : "retain",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/retain"
        },
        {
          "description" : "An integer of type `CFIndex`. Assign the version number of the allocator. Currently the only valid value is 0.",
          "name" : "version",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreFoundation\/CFAllocatorContext\/version"
        }
      ],
      "title" : "Instance Properties"
    }
  ],
  "source" : "appleJSON",
  "title" : "CFAllocatorContext",
  "url" : "https:\/\/developer.apple.com\/documentation\/corefoundation\/cfallocatorcontext"
}