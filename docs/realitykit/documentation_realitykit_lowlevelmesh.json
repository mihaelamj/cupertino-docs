{
  "abstract" : "A container for vertex data that you can use to create and update meshes using your own format.",
  "codeExamples" : [
    {
      "code" : "struct MyVertex {\n    var position: SIMD3<Float> = .zero\n    var color: UInt32 = .zero\n}",
      "language" : "swift"
    },
    {
      "code" : "extension MyVertex {\n    static var vertexAttributes: [LowLevelMesh.Attribute] = [\n        .init(semantic: .position, format: .float3, offset: MemoryLayout<Self>.offset(of: \\.position)!),\n        .init(semantic: .color, format: .uchar4Normalized_bgra, offset: MemoryLayout<Self>.offset(of: \\.color)!)\n    ]\n\n    static var vertexLayouts: [LowLevelMesh.Layout] = [\n        .init(bufferIndex: 0, bufferStride: MemoryLayout<Self>.stride)\n    ]\n\n    static var descriptor: LowLevelMesh.Descriptor {\n        var desc = LowLevelMesh.Descriptor()\n        desc.vertexAttributes = MyVertex.vertexAttributes\n        desc.vertexLayouts = MyVertex.vertexLayouts\n        desc.indexType = .uint32\n        return desc\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "func triangleMesh() throws -> LowLevelMesh {\n    var desc = MyVertex.descriptor\n    desc.vertexCapacity = 3\n    desc.indexCapacity = 3\n\n    let mesh = try LowLevelMesh(descriptor: desc)\n\n    mesh.withUnsafeMutableBytes(bufferIndex: 0) { rawBytes in\n        let vertices = rawBytes.bindMemory(to: MyVertex.self)\n        vertices[0] = MyVertex(position: [-1, -1, 0], color: 0xFF00FF00)\n        vertices[1] = MyVertex(position: [ 1, -1, 0], color: 0xFFFF0000)\n        vertices[2] = MyVertex(position: [ 0,  1, 0], color: 0xFF0000FF)\n    }\n\n    mesh.withUnsafeMutableIndices { rawIndices in\n        let indices = rawIndices.bindMemory(to: UInt32.self)\n        indices[0] = 0\n        indices[1] = 1\n        indices[2] = 2\n    }\n\n    let meshBounds = BoundingBox(min: [-1, -1, 0], max: [1, 1, 0])\n    mesh.parts.replaceAll([\n        LowLevelMesh.Part(\n            indexCount: 3,\n            topology: .triangle,\n            bounds: meshBounds\n        )\n    ])\n\n    return mesh\n}",
      "language" : "swift"
    },
    {
      "code" : "func triangleEntity() throws -> Entity {\n    let lowLevelMesh = try triangleMesh()\n    let resource = try MeshResource(from: lowLevelMesh)\n\n    let modelComponent = ModelComponent(mesh: resource, materials: [UnlitMaterial()])\n\n    let entity = Entity()\n    entity.name = \"Triangle\"\n    entity.components.set(modelComponent)\n    entity.scale *= 0.1\n    return entity\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "e320dfe1daf321ff0ff37442f1ac07d4900effd5f4014ab74b4782889905b67a",
  "crawledAt" : "2025-12-02T20:02:16Z",
  "declaration" : {
    "code" : "@MainActor class LowLevelMesh",
    "language" : "swift"
  },
  "id" : "B1009870-46FB-445D-8FD0-AAB44BD41FC4",
  "kind" : "class",
  "language" : "swift",
  "module" : "RealityKit",
  "overview" : "## Overview\n\nUse `LowLevelMesh` when you want to bring your own vertex format to RealityKit or update your data frequently. To update your data in `LowLevelMesh`, you can either use Swift for CPU processing, or Metal Compute Shaders for GPU processing.\n\nExpress your vertex by creating a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct] that describes your layout, along with the required index and vertex capacities. This descriptor is similar to [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLVertexDescriptor], with additional semantics that make the data available in your shaders.\n\nTo use `LowLevelMesh`, first define your own vertex structure, either in a Metal header or using a Swift structure:\n\nNext, describe your structure to `LowLevelMesh` by creating a list of vertex attributes and a vertex layout. This description informs `LowLevelMesh` how to represent the vertex data in memory:\n\nCreate a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct] and `LowLevelMesh`, and assign your mesh data and parts:\n\nTo finish, create a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/MeshResource] from the `LowLevelMesh`, and add it to a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ModelComponent]. You can then add this model to any [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity] in your scene:\n\nThe low-level mesh creates a triangular shape in your RealityKit scene:\n\n\n\nThe [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/MeshResource] retains a reference to the `LowLevelMesh`, reflecting any changes when the renderer updates.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/realitykit\/lowlevelmesh\ncrawled: 2025-12-02T20:02:16Z\n---\n\n# LowLevelMesh\n\n**Class**\n\nA container for vertex data that you can use to create and update meshes using your own format.\n\n## Declaration\n\n```swift\n@MainActor class LowLevelMesh\n```\n\n## Overview\n\nUse `LowLevelMesh` when you want to bring your own vertex format to RealityKit or update your data frequently. To update your data in `LowLevelMesh`, you can either use Swift for CPU processing, or Metal Compute Shaders for GPU processing.\n\n\n\nExpress your vertex by creating a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct] that describes your layout, along with the required index and vertex capacities. This descriptor is similar to [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLVertexDescriptor], with additional semantics that make the data available in your shaders.\n\nTo use `LowLevelMesh`, first define your own vertex structure, either in a Metal header or using a Swift structure:\n\n```swift\nstruct MyVertex {\n    var position: SIMD3<Float> = .zero\n    var color: UInt32 = .zero\n}\n```\n\nNext, describe your structure to `LowLevelMesh` by creating a list of vertex attributes and a vertex layout. This description informs `LowLevelMesh` how to represent the vertex data in memory:\n\n```swift\nextension MyVertex {\n    static var vertexAttributes: [LowLevelMesh.Attribute] = [\n        .init(semantic: .position, format: .float3, offset: MemoryLayout<Self>.offset(of: \\.position)!),\n        .init(semantic: .color, format: .uchar4Normalized_bgra, offset: MemoryLayout<Self>.offset(of: \\.color)!)\n    ]\n\n    static var vertexLayouts: [LowLevelMesh.Layout] = [\n        .init(bufferIndex: 0, bufferStride: MemoryLayout<Self>.stride)\n    ]\n\n    static var descriptor: LowLevelMesh.Descriptor {\n        var desc = LowLevelMesh.Descriptor()\n        desc.vertexAttributes = MyVertex.vertexAttributes\n        desc.vertexLayouts = MyVertex.vertexLayouts\n        desc.indexType = .uint32\n        return desc\n    }\n}\n```\n\nCreate a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct] and `LowLevelMesh`, and assign your mesh data and parts:\n\n```swift\nfunc triangleMesh() throws -> LowLevelMesh {\n    var desc = MyVertex.descriptor\n    desc.vertexCapacity = 3\n    desc.indexCapacity = 3\n\n    let mesh = try LowLevelMesh(descriptor: desc)\n\n    mesh.withUnsafeMutableBytes(bufferIndex: 0) { rawBytes in\n        let vertices = rawBytes.bindMemory(to: MyVertex.self)\n        vertices[0] = MyVertex(position: [-1, -1, 0], color: 0xFF00FF00)\n        vertices[1] = MyVertex(position: [ 1, -1, 0], color: 0xFFFF0000)\n        vertices[2] = MyVertex(position: [ 0,  1, 0], color: 0xFF0000FF)\n    }\n\n    mesh.withUnsafeMutableIndices { rawIndices in\n        let indices = rawIndices.bindMemory(to: UInt32.self)\n        indices[0] = 0\n        indices[1] = 1\n        indices[2] = 2\n    }\n\n    let meshBounds = BoundingBox(min: [-1, -1, 0], max: [1, 1, 0])\n    mesh.parts.replaceAll([\n        LowLevelMesh.Part(\n            indexCount: 3,\n            topology: .triangle,\n            bounds: meshBounds\n        )\n    ])\n\n    return mesh\n}\n```\n\nTo finish, create a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/MeshResource] from the `LowLevelMesh`, and add it to a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ModelComponent]. You can then add this model to any [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity] in your scene:\n\n```swift\nfunc triangleEntity() throws -> Entity {\n    let lowLevelMesh = try triangleMesh()\n    let resource = try MeshResource(from: lowLevelMesh)\n\n    let modelComponent = ModelComponent(mesh: resource, materials: [UnlitMaterial()])\n\n    let entity = Entity()\n    entity.name = \"Triangle\"\n    entity.components.set(modelComponent)\n    entity.scale *= 0.1\n    return entity\n}\n```\n\nThe low-level mesh creates a triangular shape in your RealityKit scene:\n\n\n\nThe [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/MeshResource] retains a reference to the `LowLevelMesh`, reflecting any changes when the renderer updates.\n\n## Creating a low-level mesh\n\n- **init(descriptor:)**: Constructs a low-level mesh from a descriptor.\n\n## Describing a low-level mesh\n\n- **descriptor**: The definition of the structure of this low-level mesh.\n- **parts**: A mutable collection of parts.\n- **indexCapacity**: The capacity of the index buffer, measured in indices.\n- **vertexCapacity**: The capacity of the vertex buffer, measured in vertices.\n\n## Accessing mesh data on the CPU with Swift\n\n- **withUnsafeBytes(bufferIndex:_:)**: Reads a Metal vertex buffer synchronously on the CPU.\n- **withUnsafeMutableBytes(bufferIndex:_:)**: Updates a Metal vertex buffer synchronously on the CPU.\n- **withUnsafeIndices(_:)**: Reads the index buffer synchronously on the CPU.\n- **withUnsafeMutableIndices(_:)**: Updates the index buffer synchronously on the CPU.\n- **replaceUnsafeMutableBytes(bufferIndex:_:)**: Replaces a Metal vertex buffer synchronously on the CPU.\n- **replaceUnsafeMutableIndices(_:)**: Replaces the index buffer synchronously on the CPU.\n\n## Accessing mesh data on the GPU with Metal\n\n- **read(bufferIndex:using:)**: Retrieves a Metal vertex buffer at the specified index, for GPU reading.\n- **readIndices(using:)**: Retrieves the Metal index buffer for GPU reading.\n- **replace(bufferIndex:using:)**: Retrieves a Metal vertex buffer you can use to replace the contents of the specified buffer on the GPU using Metal.\n- **replaceIndices(using:)**: Retrieves a Metal index buffer that you can use to replace the indices of this low-level mesh.\n\n## Structures\n\n- **LowLevelMesh.Attribute**: An object that determines how to store vertex attribute data in memory and map it to RealityKit shader attributes.\n- **LowLevelMesh.Descriptor**: An object that describes the data format and layout of the buffers in a low-level mesh.\n- **LowLevelMesh.Layout**: An object that describes a set of attributes that share a buffer index, offset, and stride.\n- **LowLevelMesh.Part**: An object that describes a range of primitives to display, and their material index.\n- **LowLevelMesh.PartsCollection**: An object that holds a mutable collection low-level mesh parts.\n\n## Enumerations\n\n- **LowLevelMesh.VertexSemantic**: Designates the intended usage of a vertex attribute.\n\n## Updatable meshes\n\n- **Integrating virtual objects with your environment**: Create an immersive game using native anchor support, environmental blending, model manipulation, and mesh instance duplication.\n- **Creating a spatial drawing app with RealityKit**: Use low-level mesh and texture APIs to achieve fast updates to a person’s brush strokes by integrating RealityKit with ARKit and SwiftUI.\n- **Creating a plane with low-level mesh**: Create a low-level mesh and set its vertex positions and normals to form a plane.\n- **LowLevelMesh.Descriptor**: An object that describes the data format and layout of the buffers in a low-level mesh.\n- **LowLevelMesh.Part**: An object that describes a range of primitives to display, and their material index.\n- **LowLevelMesh.Layout**: An object that describes a set of attributes that share a buffer index, offset, and stride.\n- **LowLevelMesh.Attribute**: An object that determines how to store vertex attribute data in memory and map it to RealityKit shader attributes.\n- **LowLevelMesh.VertexSemantic**: Designates the intended usage of a vertex attribute.\n- **LowLevelMesh.PartsCollection**: An object that holds a mutable collection low-level mesh parts.\n- **LowLevelBuffer**\n- **LowLevelInstanceData**\n\n## Conforms To\n\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Constructs a low-level mesh from a descriptor.",
          "name" : "init(descriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/init(descriptor:)"
        }
      ],
      "title" : "Creating a low-level mesh"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The definition of the structure of this low-level mesh.",
          "name" : "descriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/descriptor-swift.property"
        },
        {
          "description" : "A mutable collection of parts.",
          "name" : "parts",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/parts"
        },
        {
          "description" : "The capacity of the index buffer, measured in indices.",
          "name" : "indexCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/indexCapacity"
        },
        {
          "description" : "The capacity of the vertex buffer, measured in vertices.",
          "name" : "vertexCapacity",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/vertexCapacity"
        }
      ],
      "title" : "Describing a low-level mesh"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Reads a Metal vertex buffer synchronously on the CPU.",
          "name" : "withUnsafeBytes(bufferIndex:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/withUnsafeBytes(bufferIndex:_:)"
        },
        {
          "description" : "Updates a Metal vertex buffer synchronously on the CPU.",
          "name" : "withUnsafeMutableBytes(bufferIndex:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/withUnsafeMutableBytes(bufferIndex:_:)"
        },
        {
          "description" : "Reads the index buffer synchronously on the CPU.",
          "name" : "withUnsafeIndices(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/withUnsafeIndices(_:)"
        },
        {
          "description" : "Updates the index buffer synchronously on the CPU.",
          "name" : "withUnsafeMutableIndices(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/withUnsafeMutableIndices(_:)"
        },
        {
          "description" : "Replaces a Metal vertex buffer synchronously on the CPU.",
          "name" : "replaceUnsafeMutableBytes(bufferIndex:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/replaceUnsafeMutableBytes(bufferIndex:_:)"
        },
        {
          "description" : "Replaces the index buffer synchronously on the CPU.",
          "name" : "replaceUnsafeMutableIndices(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/replaceUnsafeMutableIndices(_:)"
        }
      ],
      "title" : "Accessing mesh data on the CPU with Swift"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Retrieves a Metal vertex buffer at the specified index, for GPU reading.",
          "name" : "read(bufferIndex:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/read(bufferIndex:using:)"
        },
        {
          "description" : "Retrieves the Metal index buffer for GPU reading.",
          "name" : "readIndices(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/readIndices(using:)"
        },
        {
          "description" : "Retrieves a Metal vertex buffer you can use to replace the contents of the specified buffer on the GPU using Metal.",
          "name" : "replace(bufferIndex:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/replace(bufferIndex:using:)"
        },
        {
          "description" : "Retrieves a Metal index buffer that you can use to replace the indices of this low-level mesh.",
          "name" : "replaceIndices(using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/replaceIndices(using:)"
        }
      ],
      "title" : "Accessing mesh data on the GPU with Metal"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that determines how to store vertex attribute data in memory and map it to RealityKit shader attributes.",
          "name" : "LowLevelMesh.Attribute",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Attribute"
        },
        {
          "description" : "An object that describes the data format and layout of the buffers in a low-level mesh.",
          "name" : "LowLevelMesh.Descriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct"
        },
        {
          "description" : "An object that describes a set of attributes that share a buffer index, offset, and stride.",
          "name" : "LowLevelMesh.Layout",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Layout"
        },
        {
          "description" : "An object that describes a range of primitives to display, and their material index.",
          "name" : "LowLevelMesh.Part",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Part"
        },
        {
          "description" : "An object that holds a mutable collection low-level mesh parts.",
          "name" : "LowLevelMesh.PartsCollection",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/PartsCollection"
        }
      ],
      "title" : "Structures"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Designates the intended usage of a vertex attribute.",
          "name" : "LowLevelMesh.VertexSemantic",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/VertexSemantic"
        }
      ],
      "title" : "Enumerations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create an immersive game using native anchor support, environmental blending, model manipulation, and mesh instance duplication.",
          "name" : "Integrating virtual objects with your environment",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/integrating-virtual-objects-with-your-environment"
        },
        {
          "description" : "Use low-level mesh and texture APIs to achieve fast updates to a person’s brush strokes by integrating RealityKit with ARKit and SwiftUI.",
          "name" : "Creating a spatial drawing app with RealityKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/creating-a-spatial-drawing-app-with-realitykit"
        },
        {
          "description" : "Create a low-level mesh and set its vertex positions and normals to form a plane.",
          "name" : "Creating a plane with low-level mesh",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/creating-a-plane-with-low-level-mesh"
        },
        {
          "description" : "An object that describes the data format and layout of the buffers in a low-level mesh.",
          "name" : "LowLevelMesh.Descriptor",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Descriptor-swift.struct"
        },
        {
          "description" : "An object that describes a range of primitives to display, and their material index.",
          "name" : "LowLevelMesh.Part",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Part"
        },
        {
          "description" : "An object that describes a set of attributes that share a buffer index, offset, and stride.",
          "name" : "LowLevelMesh.Layout",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Layout"
        },
        {
          "description" : "An object that determines how to store vertex attribute data in memory and map it to RealityKit shader attributes.",
          "name" : "LowLevelMesh.Attribute",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/Attribute"
        },
        {
          "description" : "Designates the intended usage of a vertex attribute.",
          "name" : "LowLevelMesh.VertexSemantic",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/VertexSemantic"
        },
        {
          "description" : "An object that holds a mutable collection low-level mesh parts.",
          "name" : "LowLevelMesh.PartsCollection",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelMesh\/PartsCollection"
        },
        {
          "description" : "",
          "name" : "LowLevelBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelBuffer"
        },
        {
          "description" : "",
          "name" : "LowLevelInstanceData",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/LowLevelInstanceData"
        }
      ],
      "title" : "Updatable meshes"
    }
  ],
  "source" : "appleJSON",
  "title" : "LowLevelMesh",
  "url" : "https:\/\/developer.apple.com\/documentation\/realitykit\/lowlevelmesh"
}