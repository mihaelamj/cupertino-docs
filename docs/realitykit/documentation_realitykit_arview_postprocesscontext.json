{
  "abstract" : "An object the framework uses to pass data to a postprocess callback.",
  "codeExamples" : [
    {
      "code" : "    func myPostProcessCallback(context: ARView.PostProcessContext) {\n        \/\/ Handle postprocessing here.\n    }",
      "language" : "swift"
    },
    {
      "code" : "arView.renderCallbacks.postProcess = myPostProcessCallback",
      "language" : "swift"
    },
    {
      "code" : "arView.renderCallbacks.postProcess = nil",
      "language" : "swift"
    },
    {
      "code" : " func myPostProcessCallback(context: ARView.PostProcessContext) {\n     if (usePostProcessEffects) {\n         handlePostProcessing(context: ARView.PostProcessContext)\n         return\n     }\n\n\n     \/\/ If postprocess effects are disabled, copy sourceColorTexture\n     \/\/ directly to targetColorTexture.\n     let blitEncoder = context.commandBuffer.makeBlitCommandEncoder()\n     blitEncoder?.copy(from: context.sourceColorTexture, to: context.targetColorTexture)\n     blitEncoder?.endEncoding()\n }",
      "language" : "swift"
    }
  ],
  "contentHash" : "6a400055a72fe9a1ff4e9ad0c4738e287b9b82424c33a37e26643418cc5d0bee",
  "crawledAt" : "2025-12-02T20:16:39Z",
  "declaration" : {
    "code" : "struct PostProcessContext",
    "language" : "swift"
  },
  "id" : "0202C5E6-365B-4131-B5FB-D1A5FDECCD8B",
  "kind" : "struct",
  "language" : "swift",
  "module" : "RealityKit",
  "overview" : "## Overview\n\nIn iOS 15 and later, as well as macOS 12 and later, you can register a callback function to apply postprocessing effects to RealityKit’s rendered scene. Once every frame, RealityKit calls that function before it displays the scene. You can use this callback to apply postprocess effects using any APIs that can modify an image texture. However, because RealityKit calls this method every frame, you should only use APIs that execute on the GPU, such as Metal compute functions, [doc:\/\/com.apple.documentation\/documentation\/MetalPerformanceShaders], or [doc:\/\/com.apple.documentation\/documentation\/CoreImage]. You can also render additional content, such as a rendered SpriteKit scene, on top of the frame buffer.\n\nA postprocess callback takes a single `PostProcessContext` parameter, which contains data the callback function needs to modify the rendered scene, including the frame buffer, depth map, and a property for writing the modified image. If you’ve registered a postprocess callback, that function needs to encode to the output texture or the frame is never displayed.\n\nA postprocess function looks like this:\n\nTo register a function as the postprocess render callback, assign it to the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/RenderCallbacks-swift.struct\/postProcess] property of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/renderCallbacks-swift.property]  property of the scene’s `ARView`:\n\nTo stop postprocessing, set the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/RenderCallbacks-swift.struct\/postProcess] render callback to `nil`.\n\nIf your app turns postprocessing on and off frequently, another option for disabling postprocess effects is to keep your callback registered, but use an [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLBlitCommandEncoder] to encode the unmodified framebuffer directly to the output texture whenever postprocess effects aren’t active.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\ncrawled: 2025-12-02T20:16:39Z\n---\n\n# ARView.PostProcessContext\n\n**Structure**\n\nAn object the framework uses to pass data to a postprocess callback.\n\n## Declaration\n\n```swift\nstruct PostProcessContext\n```\n\n## Overview\n\nIn iOS 15 and later, as well as macOS 12 and later, you can register a callback function to apply postprocessing effects to RealityKit’s rendered scene. Once every frame, RealityKit calls that function before it displays the scene. You can use this callback to apply postprocess effects using any APIs that can modify an image texture. However, because RealityKit calls this method every frame, you should only use APIs that execute on the GPU, such as Metal compute functions, [doc:\/\/com.apple.documentation\/documentation\/MetalPerformanceShaders], or [doc:\/\/com.apple.documentation\/documentation\/CoreImage]. You can also render additional content, such as a rendered SpriteKit scene, on top of the frame buffer.\n\n\n\nA postprocess callback takes a single `PostProcessContext` parameter, which contains data the callback function needs to modify the rendered scene, including the frame buffer, depth map, and a property for writing the modified image. If you’ve registered a postprocess callback, that function needs to encode to the output texture or the frame is never displayed.\n\nA postprocess function looks like this:\n\n```swift\n    func myPostProcessCallback(context: ARView.PostProcessContext) {\n        \/\/ Handle postprocessing here.\n    }\n```\n\nTo register a function as the postprocess render callback, assign it to the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/RenderCallbacks-swift.struct\/postProcess] property of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/renderCallbacks-swift.property]  property of the scene’s `ARView`:\n\n```swift\narView.renderCallbacks.postProcess = myPostProcessCallback\n```\n\nTo stop postprocessing, set the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ARView\/RenderCallbacks-swift.struct\/postProcess] render callback to `nil`.\n\n```swift\narView.renderCallbacks.postProcess = nil\n```\n\nIf your app turns postprocessing on and off frequently, another option for disabling postprocess effects is to keep your callback registered, but use an [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLBlitCommandEncoder] to encode the unmodified framebuffer directly to the output texture whenever postprocess effects aren’t active.\n\n```swift\n func myPostProcessCallback(context: ARView.PostProcessContext) {\n     if (usePostProcessEffects) {\n         handlePostProcessing(context: ARView.PostProcessContext)\n         return\n     }\n\n\n     \/\/ If postprocess effects are disabled, copy sourceColorTexture\n     \/\/ directly to targetColorTexture.\n     let blitEncoder = context.commandBuffer.makeBlitCommandEncoder()\n     blitEncoder?.copy(from: context.sourceColorTexture, to: context.targetColorTexture)\n     blitEncoder?.endEncoding()\n }\n```\n\n## Initializers\n\n- **init(_:_:_:_:_:_:_:)**: Creates a new context object.\n\n## Instance Properties\n\n- **commandBuffer**: The Metal command buffer for encoding the frame.\n- **device**: The Metal device where the scene renders.\n- **projection**: The projection matrix used to render the frame.\n- **sourceColorTexture**: The rendered frame buffer.\n- **sourceDepthTexture**: The frame’s depth buffer.\n- **targetColorTexture**: The output texture where the postprocess callback writes the modified frame buffer.\n- **time**: The scene’s elapsed time.\n\n## Postprocessing\n\n- **Postprocessing effects**: Create special rendering effects for your RealityKit scenes.\n- **ARView.RenderCallbacks**: A container that holds the view’s render callbacks.\n- **PostProcessEffect**: A protocol that defines hooks for custom post processing effects.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new context object.",
          "name" : "init(_:_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/init(_:_:_:_:_:_:_:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The Metal command buffer for encoding the frame.",
          "name" : "commandBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/commandBuffer"
        },
        {
          "description" : "The Metal device where the scene renders.",
          "name" : "device",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/device"
        },
        {
          "description" : "The projection matrix used to render the frame.",
          "name" : "projection",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/projection"
        },
        {
          "description" : "The rendered frame buffer.",
          "name" : "sourceColorTexture",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/sourceColorTexture"
        },
        {
          "description" : "The frame’s depth buffer.",
          "name" : "sourceDepthTexture",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/sourceDepthTexture"
        },
        {
          "description" : "The output texture where the postprocess callback writes the modified frame buffer.",
          "name" : "targetColorTexture",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/targetColorTexture"
        },
        {
          "description" : "The scene’s elapsed time.",
          "name" : "time",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext\/time"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create special rendering effects for your RealityKit scenes.",
          "name" : "Postprocessing effects",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/postprocessing-effects"
        },
        {
          "description" : "A container that holds the view’s render callbacks.",
          "name" : "ARView.RenderCallbacks",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/RenderCallbacks-swift.struct"
        },
        {
          "description" : "A protocol that defines hooks for custom post processing effects.",
          "name" : "PostProcessEffect",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/PostProcessEffect"
        }
      ],
      "title" : "Postprocessing"
    }
  ],
  "source" : "appleJSON",
  "title" : "ARView.PostProcessContext",
  "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ARView\/PostProcessContext"
}