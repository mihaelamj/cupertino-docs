{
  "abstract" : "A protocol that defines a custom force effect.",
  "codeExamples" : [
    {
      "code" : "struct MyCustomForce : ForceEffectProtocol {\n    var parameterTypes: PhysicsBodyParameterTypes { [.position, .mass] }\n    var forceMode: ForceMode = .acceleration\n    func update(parameters: inout ForceEffectParameters) {\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "MyCustomForce.register()",
      "language" : "swift"
    },
    {
      "code" : "struct MyCustomForceClosure: ForceEffectProtocol {\n    var forceMode: RealityFoundation.ForceMode = .force\n    var parameterTypes: PhysicsBodyParameterTypes { [.position, .mass] }\n    let customProperty: Double = 1\n}\n\nlet contextualProperty: Double = 1\n\nMyCustomForceClosure.register { event in\n    \/\/ Access the effect property via `event.effect.customProperty`.\n    \/\/ Access the input rigid body attributes via `event.parameters`.\n    \/\/ Access the contextual property directly by `contextualProperty`.\n}",
      "language" : "swift"
    }
  ],
  "conformingTypes" : [
    "ConstantForceEffect",
    "ConstantRadialForceEffect",
    "DragForceEffect",
    "RadialForceEffect",
    "TurbulenceForceEffect",
    "VortexForceEffect"
  ],
  "contentHash" : "f472eae8a1c5b96bd8a837503fade1289d6f9b36705bced82b8e07c0b30fd5bc",
  "crawledAt" : "2025-12-01T12:06:59Z",
  "declaration" : {
    "code" : "protocol ForceEffectProtocol",
    "language" : "swift"
  },
  "id" : "8D1BF497-0AEA-4D8F-BF41-F8CCA081A839",
  "kind" : "protocol",
  "module" : "RealityKit",
  "overview" : "## Overview\n\nA custom force effect is a function of a set of input rigid body attributes and returns force-like vector quantities. You can declare this custom force effect’s input types ([doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/parameterTypes]) and output types ([doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/forceMode]) by conforming to `ForceEffectProtocol`.\n\nFor example, you can declare a custom force effect that depends on rigid bodies’ position and mass, and computes acceleration for each rigid body.\n\nRegister your custom force effect to enable the physics system to compute forces affected by rigid bodies.\n\nAt each physics update, the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/update(parameters:)] method receives the declared inputs from [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectParameters]. You can set the output forces for each rigid body with [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectParameters\/setForce(_:index:)].\n\nSometimes, you may need to access properties from both your custom force effect and the current context while computing forces in the update function. The [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/register(_:)-1zt9t] method accepts an optional closure that allows you to capture the necessary properties. If you provide this closure to the register method, the update method is not required.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\ncrawled: 2025-12-01T12:06:59Z\n---\n\n# ForceEffectProtocol\n\n**Protocol**\n\nA protocol that defines a custom force effect.\n\n## Declaration\n\n```swift\nprotocol ForceEffectProtocol\n```\n\n## Overview\n\nA custom force effect is a function of a set of input rigid body attributes and returns force-like vector quantities. You can declare this custom force effect’s input types ([doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/parameterTypes]) and output types ([doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/forceMode]) by conforming to `ForceEffectProtocol`.\n\nFor example, you can declare a custom force effect that depends on rigid bodies’ position and mass, and computes acceleration for each rigid body.\n\n```swift\nstruct MyCustomForce : ForceEffectProtocol {\n    var parameterTypes: PhysicsBodyParameterTypes { [.position, .mass] }\n    var forceMode: ForceMode = .acceleration\n    func update(parameters: inout ForceEffectParameters) {\n    }\n}\n```\n\nRegister your custom force effect to enable the physics system to compute forces affected by rigid bodies.\n\n```swift\nMyCustomForce.register()\n```\n\nAt each physics update, the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/update(parameters:)] method receives the declared inputs from [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectParameters]. You can set the output forces for each rigid body with [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectParameters\/setForce(_:index:)].\n\nSometimes, you may need to access properties from both your custom force effect and the current context while computing forces in the update function. The [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ForceEffectProtocol\/register(_:)-1zt9t] method accepts an optional closure that allows you to capture the necessary properties. If you provide this closure to the register method, the update method is not required.\n\n```swift\nstruct MyCustomForceClosure: ForceEffectProtocol {\n    var forceMode: RealityFoundation.ForceMode = .force\n    var parameterTypes: PhysicsBodyParameterTypes { [.position, .mass] }\n    let customProperty: Double = 1\n}\n\nlet contextualProperty: Double = 1\n\nMyCustomForceClosure.register { event in\n    \/\/ Access the effect property via `event.effect.customProperty`.\n    \/\/ Access the input rigid body attributes via `event.parameters`.\n    \/\/ Access the contextual property directly by `contextualProperty`.\n}\n```\n\n## Updating effects\n\n- **update(parameters:)**: Defines how the custom force effect computes forces at each physics simulation step.\n- **register(_:)**: Registers the custom effect.\n- **PhysicsBodyParameterTypes**: Defines which rigid body inputs are required by a force effect’s update handler.\n- **ForceEffectParameters**: The force effect input data to the effect’s update handler or closure.\n- **ForceEffectEvent**: A struct that defines the arguments to the custom force effect update closure.\n- **UnsafeForceEffectBuffer**: Provides access to physics body parameters from the effect’s update function or event handler.\n\n## Instance Properties\n\n- **forceMode**: The mode that controls how the physics system interprets the outputs from a user’s custom force computation.\n- **parameterTypes**: The input types to user’s custom force computation.\n\n## Type Methods\n\n- **register(_:)**: Registers the custom effect.\n\n## Custom forces\n\n- **ForceMode**: The options that control how physics system applies the forces.\n- **ForceEffectParameters**: The force effect input data to the effect’s update handler or closure.\n- **ForceEffectBase**: The base protocol for the wrapping force effect structure containing common parameters for all force-effects.\n\n## Conforming Types\n\n- ConstantForceEffect\n- ConstantRadialForceEffect\n- DragForceEffect\n- RadialForceEffect\n- TurbulenceForceEffect\n- VortexForceEffect\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Defines how the custom force effect computes forces at each physics simulation step.",
          "name" : "update(parameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\/update(parameters:)"
        },
        {
          "description" : "Registers the custom effect.",
          "name" : "register(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\/register(_:)-1zt9t"
        },
        {
          "description" : "Defines which rigid body inputs are required by a force effect’s update handler.",
          "name" : "PhysicsBodyParameterTypes",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/PhysicsBodyParameterTypes"
        },
        {
          "description" : "The force effect input data to the effect’s update handler or closure.",
          "name" : "ForceEffectParameters",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectParameters"
        },
        {
          "description" : "A struct that defines the arguments to the custom force effect update closure.",
          "name" : "ForceEffectEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectEvent"
        },
        {
          "description" : "Provides access to physics body parameters from the effect’s update function or event handler.",
          "name" : "UnsafeForceEffectBuffer",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/UnsafeForceEffectBuffer"
        }
      ],
      "title" : "Updating effects"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The mode that controls how the physics system interprets the outputs from a user’s custom force computation.",
          "name" : "forceMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\/forceMode"
        },
        {
          "description" : "The input types to user’s custom force computation.",
          "name" : "parameterTypes",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\/parameterTypes"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Registers the custom effect.",
          "name" : "register(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol\/register(_:)"
        }
      ],
      "title" : "Type Methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The options that control how physics system applies the forces.",
          "name" : "ForceMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceMode"
        },
        {
          "description" : "The force effect input data to the effect’s update handler or closure.",
          "name" : "ForceEffectParameters",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectParameters"
        },
        {
          "description" : "The base protocol for the wrapping force effect structure containing common parameters for all force-effects.",
          "name" : "ForceEffectBase",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectBase"
        }
      ],
      "title" : "Custom forces"
    }
  ],
  "source" : "appleJSON",
  "title" : "ForceEffectProtocol",
  "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/ForceEffectProtocol"
}