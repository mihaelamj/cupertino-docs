{
  "abstract" : "The minimum opacity value to treat as fully opaque.",
  "codeExamples" : [
    {
      "code" : "\/\/ Retrieve the threshold from the CustomMaterial.\nfloat opacityThreshold = params.material_constants().opacity_threshold();\n\n\/\/ Retrieve the entity's texture coordinates.\nfloat2 uv = params.geometry().uv0();\n\n\/\/ Entities loaded from USDZ or .reality files use texture coordinates with\n\/\/ a flipped y-axis. This adjusts for that.\nuv.y = 1.0 - uv.y;\n\n\/\/ Retrieve the opacity texture from the material.\nauto tex = params.textures();\n\n\/\/ Sample the value from the opacity texture.\nhalf opacity = tex.opacity().sample(textureSampler, uv).r;\n\n\/\/ When the opacity threshold is used, set the opacity to either\n\/\/ 1.0 or 0.0 depending on the value of the opacity threshold for\n\/\/ the masking behavior.\nopacity = (opacity <= opacityThreshold) ? 0.0 : 1.0;\n\n\/\/ Use the calculated value to set the opacity for rendering.\nparams.surface().set_opacity(opacity);",
      "language" : "cpp"
    }
  ],
  "contentHash" : "f57f665ab7ebbec288adac9ff28a77cc05b15206c98e4728f37723336594339d",
  "crawledAt" : "2025-12-02T21:52:02Z",
  "declaration" : {
    "code" : "var opacityThreshold: Float? { get set }",
    "language" : "swift"
  },
  "id" : "7A632D1F-5CF2-46C6-945D-FBBE3511A16E",
  "kind" : "property",
  "language" : "swift",
  "module" : "RealityKit",
  "overview" : "## Discussion\n\nIn a custom material, `opacityThreshold` helps define how RealityKit renders transparency when using a texture (known as an *alpha map*) to control opacity. This property is available as an input to the material’s surface shader, but RealityKit doesn’t automatically use this value to render your entity. To render an entity transparent, call `params.surface().set_opacity()` from the surface shader.\n\nWhen `opacityThreshold` is set, [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/PhysicallyBasedMaterial] uses the opacity texture as a mask. RealityKit discards pixels with opacity values less than the `opacityThreshold`, and renders opacity values greater than or equal to `opacityThreshold` fully opaque.\n\nThe following Metal code replicates the behavior of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/PhysicallyBasedMaterial] shaders:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RealityKit\/CustomMaterial\/opacityThreshold\ncrawled: 2025-12-02T21:52:02Z\n---\n\n# opacityThreshold\n\n**Instance Property**\n\nThe minimum opacity value to treat as fully opaque.\n\n## Declaration\n\n```swift\nvar opacityThreshold: Float? { get set }\n```\n\n## Discussion\n\nIn a custom material, `opacityThreshold` helps define how RealityKit renders transparency when using a texture (known as an *alpha map*) to control opacity. This property is available as an input to the material’s surface shader, but RealityKit doesn’t automatically use this value to render your entity. To render an entity transparent, call `params.surface().set_opacity()` from the surface shader.\n\nWhen `opacityThreshold` is set, [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/PhysicallyBasedMaterial] uses the opacity texture as a mask. RealityKit discards pixels with opacity values less than the `opacityThreshold`, and renders opacity values greater than or equal to `opacityThreshold` fully opaque.\n\nThe following Metal code replicates the behavior of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/PhysicallyBasedMaterial] shaders:\n\n```cpp\n\/\/ Retrieve the threshold from the CustomMaterial.\nfloat opacityThreshold = params.material_constants().opacity_threshold();\n\n\/\/ Retrieve the entity's texture coordinates.\nfloat2 uv = params.geometry().uv0();\n\n\/\/ Entities loaded from USDZ or .reality files use texture coordinates with\n\/\/ a flipped y-axis. This adjusts for that.\nuv.y = 1.0 - uv.y;\n\n\/\/ Retrieve the opacity texture from the material.\nauto tex = params.textures();\n\n\/\/ Sample the value from the opacity texture.\nhalf opacity = tex.opacity().sample(textureSampler, uv).r;\n\n\/\/ When the opacity threshold is used, set the opacity to either\n\/\/ 1.0 or 0.0 depending on the value of the opacity threshold for\n\/\/ the masking behavior.\nopacity = (opacity <= opacityThreshold) ? 0.0 : 1.0;\n\n\/\/ Use the calculated value to set the opacity for rendering.\nparams.surface().set_opacity(opacity);\n```\n\n## Controlling opacity\n\n- **blending**: The transparency of an entity.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The transparency of an entity.",
          "name" : "blending",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/CustomMaterial\/blending-swift.property"
        }
      ],
      "title" : "Controlling opacity"
    }
  ],
  "source" : "appleJSON",
  "title" : "opacityThreshold",
  "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/CustomMaterial\/opacityThreshold"
}