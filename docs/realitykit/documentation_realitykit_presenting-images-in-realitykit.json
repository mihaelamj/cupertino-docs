{
  "abstract" : "Create and display spatial scenes in RealityKit",
  "codeExamples" : [
    {
      "code" : "var contentEntity: Entity = Entity()",
      "language" : "swift"
    },
    {
      "code" : "await appModel.createImagePresentationComponent()",
      "language" : "swift"
    },
    {
      "code" : "func createImagePresentationComponent() async {\n    guard let imageURL else {\n        print(\"ImageURL is nil.\")\n        return\n    }\n    spatial3DImageState = .notGenerated\n    spatial3DImage = nil\n    do {\n        spatial3DImage = try await ImagePresentationComponent.Spatial3DImage(contentsOf: imageURL)\n    } catch {\n        print(\"Unable to initialize spatial 3D image: \\(error.localizedDescription)\")\n    }\n\n    guard let spatial3DImage else {\n        print(\"Spatial3DImage is nil.\")\n        return\n    }\n    \n    let imagePresentationComponent = ImagePresentationComponent(spatial3DImage: spatial3DImage)\n    contentEntity.components.set(imagePresentationComponent)\n    if let aspectRatio = imagePresentationComponent.aspectRatio(for: .mono) {\n        imageAspectRatio = CGFloat(aspectRatio)\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : ".onChange(of: appModel.imageAspectRatio) { _, newAspectRatio in\n    guard let windowScene = sceneDelegate.windowScene else {\n        print(\"Unable to get the window scene. Resizing is not possible.\")\n        return\n    }\n\n    let windowSceneSize = windowScene.effectiveGeometry.coordinateSpace.bounds.size\n\n    \/\/  width \/ height = aspect ratio\n    \/\/ Change ONLY the width to match the aspect ratio.\n    let width = newAspectRatio * windowSceneSize.height\n\n    \/\/ Keep the height the same.\n    let size = CGSize(width: width, height: UIProposedSceneSizeNoPreference)\n\n    UIView.performWithoutAnimation {\n        \/\/ Update the scene size.\n        windowScene.requestGeometryUpdate(.Vision(size: size))\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "guard let presentationScreenSize = appModel\n    .contentEntity\n    .observable\n    .components[ImagePresentationComponent.self]?\n    .presentationScreenSize, presentationScreenSize != .zero else {\n        print(\"Unable to get a valid presentation screen size from the content entity.\")\n        return\n}",
      "language" : "swift"
    },
    {
      "code" : "let originalPosition = appModel.contentEntity.position(relativeTo: nil)\nappModel.contentEntity.setPosition(SIMD3<Float>(originalPosition.x, originalPosition.y, 0.0), relativeTo: nil)",
      "language" : "swift"
    },
    {
      "code" : "GeometryReader3D { geometry in\n    RealityView { content in",
      "language" : "swift"
    },
    {
      "code" : "let availableBounds = content.convert(geometry.frame(in: .local), from: .local, to: .scene)",
      "language" : "swift"
    },
    {
      "code" : "scaleImagePresentationToFit(in: availableBounds)",
      "language" : "swift"
    },
    {
      "code" : "func scaleImagePresentationToFit(in boundsInMeters: BoundingBox) {\n    guard let imagePresentationComponent = appModel.contentEntity.components[ImagePresentationComponent.self] else {\n        return\n    }\n\n    let presentationScreenSize = imagePresentationComponent.presentationScreenSize\n    let scale = min(\n        boundsInMeters.extents.x \/ presentationScreenSize.x,\n        boundsInMeters.extents.y \/ presentationScreenSize.y\n    )\n\n    appModel.contentEntity.scale = SIMD3<Float>(scale, scale, 1.0)\n}",
      "language" : "swift"
    },
    {
      "code" : "enum Spatial3DImageState {\n    case notGenerated\n    case generating\n    case generated\n}",
      "language" : "swift"
    },
    {
      "code" : "guard spatial3DImageState == .notGenerated else {\n    print(\"Spatial 3D image already generated or generation is in progress.\")\n    return\n}",
      "language" : "swift"
    },
    {
      "code" : "guard var imagePresentationComponent = contentEntity.components[ImagePresentationComponent.self] else {\n    print(\"ImagePresentationComponent is missing from the entity.\")\n    return\n}\n\/\/ Set the desired viewing mode before generating so that it will trigger the\n\/\/ generation animation.\nimagePresentationComponent.desiredViewingMode = .spatial3D\ncontentEntity.components.set(imagePresentationComponent)\n\n\/\/ Generate the Spatial3DImage scene.\nspatial3DImageState = .generating\ntry await spatial3DImage.generate()\nspatial3DImageState = .generated",
      "language" : "swift"
    }
  ],
  "contentHash" : "3051cd8fb34112b1fe30e9126719d9abb85b5f91183869dcebe0dfa6821de69a",
  "crawledAt" : "2025-12-02T15:45:46Z",
  "id" : "74423FFC-4D23-40BF-BF12-A95B69F8940E",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "RealityKit",
  "overview" : "## Overview\n\nRealityKit apps can easily display images in 3D space using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent], which can display traditional 2D and *spatial photos* as well as generate and display *spatial scenes* — which represents the content of an existing image in three dimensions.\n\nSpatial scenes are different from *spatial photos*. A *spatial photo* presents two separate 2D images, one to each eye, to create the illusion of a three dimensional view. *Spatial scenes*, on the other hand, generate textured 3D geometry from either a *spatial photo* or a regular 2D image.\n\n\n\nThis sample app demonstrates how to use [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage] to convert an existing 2D image to a 3D spatial scene, and how to present the 2D and 3D versions of the image using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] in a SwiftUI app.\n\n## Choose viewing modes\n\nImage presentation components can present images in several modes. Your apps can choose to use any or all of these modes.\n\nThis sample displays images using `mono` and `spatial3D` viewing modes.\n\n## Create an entity to present the image\n\nTo display an image, create an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and attach it to an entity in your scene. You can attach it to any entity, and you’ll also want to attach it to one that has no visual representation in your scene. This sample creates an empty [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity] property called `contentEntity` in the `AppModel` class for that purpose.\n\nIn the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] `make` closure, the app calls an asynchronous method to create an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and adds it to `contentEntity`.\n\nThe `createImagePresentationComponent` function creates an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage] from a 2D image, then creates an image presentation component with that image and attaches it to the `contentEntity`:\n\nThe `createImagePresentationComponent` method stores the `ImagePresentationComponent\/aspectRatio` of the newly created ImagePresentationComponent in the `AppModel`.\n\nThe app implements an [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onChange(of:perform:)]  modifier for `aspectRatio` in the `AppModel` to ensure that the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIWindowScene] size matches the image.\n\n## Manage image presentation\n\nIn the `update` closure of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView], the app retrieves the presentation screen size of the image presentation component using the entity’s [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity\/observable-swift.property] property. This ensures that update is called when the `presentationScreenSize` changes.\n\nThe app sets the z axis position of the `contentEntity` to 0.0. This displays the image presentation component flush against the background.\n\nTo display the image at an appropriate size, the app wraps a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] inside a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GeometryReader3D]:\n\nIn the `make` and `update` closure of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView], the app converts the geometry reader’s frame bounds into the scene’s coordinate space:\n\nThen, the app calls the `scaleImagePresentationToFit` method which scales the image to fit into the geometry reader’s frame bounds:\n\nThe `scaleImagePresentationToFit` method calculates x and y scale values to preserve the aspect ratio of the presented image at the current [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/presentationScreenSize], and sets those scale values as the content entity’s scale:\n\n## Generate a spatial scene\n\nIt can take several seconds to generate a spatial scene. To preserve the user experience, you have two options:\n\nIf you create the spatial scene before adding it to the component, the generated spatial scene appears as soon as you add it. If you add a 2D or stereo image to the component first and then generate the spatial scene later, the component presents a conversion UI like the one in the Photos app. This indicates that it’s generating the spatial scene\n\nThis sample adds the images to the component first, then generates the spatial scene on a button press. It does that by first declaring an enumeration in the app data model to represent the current status of the displayed image.\n\nThe app currently displays a 2D image in an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent]. When the viewer clicks the Show as 3D button for the first time, it checks to see if the spatial 3D image has been generated, and returns if it has to avoid doing unnecessary work.\n\nThe viewing mode of the image presentation component changes to [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/ViewingMode-swift.struct\/spatial3D], calls [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage\/generate()] on the spatial 3D image it displays, and sets the image state to `.generated` so it knows not to generate it again:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RealityKit\/presenting-images-in-realitykit\ncrawled: 2025-12-02T15:45:46Z\n---\n\n# Presenting images in RealityKit\n\n**Sample Code**\n\nCreate and display spatial scenes in RealityKit\n\n## Overview\n\nRealityKit apps can easily display images in 3D space using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent], which can display traditional 2D and *spatial photos* as well as generate and display *spatial scenes* — which represents the content of an existing image in three dimensions.\n\nSpatial scenes are different from *spatial photos*. A *spatial photo* presents two separate 2D images, one to each eye, to create the illusion of a three dimensional view. *Spatial scenes*, on the other hand, generate textured 3D geometry from either a *spatial photo* or a regular 2D image.\n\n\n\nThis sample app demonstrates how to use [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage] to convert an existing 2D image to a 3D spatial scene, and how to present the 2D and 3D versions of the image using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] in a SwiftUI app.\n\n## Choose viewing modes\n\nImage presentation components can present images in several modes. Your apps can choose to use any or all of these modes.\n\n\n\nThis sample displays images using `mono` and `spatial3D` viewing modes.\n\n## Create an entity to present the image\n\nTo display an image, create an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and attach it to an entity in your scene. You can attach it to any entity, and you’ll also want to attach it to one that has no visual representation in your scene. This sample creates an empty [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity] property called `contentEntity` in the `AppModel` class for that purpose.\n\n```swift\nvar contentEntity: Entity = Entity()\n```\n\nIn the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] `make` closure, the app calls an asynchronous method to create an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent] and adds it to `contentEntity`.\n\n```swift\nawait appModel.createImagePresentationComponent()\n```\n\nThe `createImagePresentationComponent` function creates an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage] from a 2D image, then creates an image presentation component with that image and attaches it to the `contentEntity`:\n\n```swift\nfunc createImagePresentationComponent() async {\n    guard let imageURL else {\n        print(\"ImageURL is nil.\")\n        return\n    }\n    spatial3DImageState = .notGenerated\n    spatial3DImage = nil\n    do {\n        spatial3DImage = try await ImagePresentationComponent.Spatial3DImage(contentsOf: imageURL)\n    } catch {\n        print(\"Unable to initialize spatial 3D image: \\(error.localizedDescription)\")\n    }\n\n    guard let spatial3DImage else {\n        print(\"Spatial3DImage is nil.\")\n        return\n    }\n    \n    let imagePresentationComponent = ImagePresentationComponent(spatial3DImage: spatial3DImage)\n    contentEntity.components.set(imagePresentationComponent)\n    if let aspectRatio = imagePresentationComponent.aspectRatio(for: .mono) {\n        imageAspectRatio = CGFloat(aspectRatio)\n    }\n}\n```\n\nThe `createImagePresentationComponent` method stores the `ImagePresentationComponent\/aspectRatio` of the newly created ImagePresentationComponent in the `AppModel`.\n\nThe app implements an [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/View\/onChange(of:perform:)]  modifier for `aspectRatio` in the `AppModel` to ensure that the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIWindowScene] size matches the image.\n\n```swift\n.onChange(of: appModel.imageAspectRatio) { _, newAspectRatio in\n    guard let windowScene = sceneDelegate.windowScene else {\n        print(\"Unable to get the window scene. Resizing is not possible.\")\n        return\n    }\n\n    let windowSceneSize = windowScene.effectiveGeometry.coordinateSpace.bounds.size\n\n    \/\/  width \/ height = aspect ratio\n    \/\/ Change ONLY the width to match the aspect ratio.\n    let width = newAspectRatio * windowSceneSize.height\n\n    \/\/ Keep the height the same.\n    let size = CGSize(width: width, height: UIProposedSceneSizeNoPreference)\n\n    UIView.performWithoutAnimation {\n        \/\/ Update the scene size.\n        windowScene.requestGeometryUpdate(.Vision(size: size))\n    }\n}\n```\n\n## Manage image presentation\n\nIn the `update` closure of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView], the app retrieves the presentation screen size of the image presentation component using the entity’s [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/Entity\/observable-swift.property] property. This ensures that update is called when the `presentationScreenSize` changes.\n\n```swift\nguard let presentationScreenSize = appModel\n    .contentEntity\n    .observable\n    .components[ImagePresentationComponent.self]?\n    .presentationScreenSize, presentationScreenSize != .zero else {\n        print(\"Unable to get a valid presentation screen size from the content entity.\")\n        return\n}\n```\n\nThe app sets the z axis position of the `contentEntity` to 0.0. This displays the image presentation component flush against the background.\n\n```swift\nlet originalPosition = appModel.contentEntity.position(relativeTo: nil)\nappModel.contentEntity.setPosition(SIMD3<Float>(originalPosition.x, originalPosition.y, 0.0), relativeTo: nil)\n```\n\nTo display the image at an appropriate size, the app wraps a [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView] inside a [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/GeometryReader3D]:\n\n```swift\nGeometryReader3D { geometry in\n    RealityView { content in\n```\n\nIn the `make` and `update` closure of the [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/RealityView], the app converts the geometry reader’s frame bounds into the scene’s coordinate space:\n\n```swift\nlet availableBounds = content.convert(geometry.frame(in: .local), from: .local, to: .scene)\n```\n\nThen, the app calls the `scaleImagePresentationToFit` method which scales the image to fit into the geometry reader’s frame bounds:\n\n```swift\nscaleImagePresentationToFit(in: availableBounds)\n```\n\nThe `scaleImagePresentationToFit` method calculates x and y scale values to preserve the aspect ratio of the presented image at the current [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/presentationScreenSize], and sets those scale values as the content entity’s scale:\n\n```swift\nfunc scaleImagePresentationToFit(in boundsInMeters: BoundingBox) {\n    guard let imagePresentationComponent = appModel.contentEntity.components[ImagePresentationComponent.self] else {\n        return\n    }\n\n    let presentationScreenSize = imagePresentationComponent.presentationScreenSize\n    let scale = min(\n        boundsInMeters.extents.x \/ presentationScreenSize.x,\n        boundsInMeters.extents.y \/ presentationScreenSize.y\n    )\n\n    appModel.contentEntity.scale = SIMD3<Float>(scale, scale, 1.0)\n}\n```\n\n## Generate a spatial scene\n\nIt can take several seconds to generate a spatial scene. To preserve the user experience, you have two options:\n\n- You can generate the spatial scene first and then add it to the image presentation component.\n- Alternatively, you can can add it to the image presentation component first and then generate the spatial scene afterwards.\n\nIf you create the spatial scene before adding it to the component, the generated spatial scene appears as soon as you add it. If you add a 2D or stereo image to the component first and then generate the spatial scene later, the component presents a conversion UI like the one in the Photos app. This indicates that it’s generating the spatial scene\n\n\n\n\n\nThis sample adds the images to the component first, then generates the spatial scene on a button press. It does that by first declaring an enumeration in the app data model to represent the current status of the displayed image.\n\n```swift\nenum Spatial3DImageState {\n    case notGenerated\n    case generating\n    case generated\n}\n```\n\nThe app currently displays a 2D image in an [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent]. When the viewer clicks the Show as 3D button for the first time, it checks to see if the spatial 3D image has been generated, and returns if it has to avoid doing unnecessary work.\n\n```swift\nguard spatial3DImageState == .notGenerated else {\n    print(\"Spatial 3D image already generated or generation is in progress.\")\n    return\n}\n```\n\nThe viewing mode of the image presentation component changes to [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/ViewingMode-swift.struct\/spatial3D], calls [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/ImagePresentationComponent\/Spatial3DImage\/generate()] on the spatial 3D image it displays, and sets the image state to `.generated` so it knows not to generate it again:\n\n```swift\nguard var imagePresentationComponent = contentEntity.components[ImagePresentationComponent.self] else {\n    print(\"ImagePresentationComponent is missing from the entity.\")\n    return\n}\n\/\/ Set the desired viewing mode before generating so that it will trigger the\n\/\/ generation animation.\nimagePresentationComponent.desiredViewingMode = .spatial3D\ncontentEntity.components.set(imagePresentationComponent)\n\n\/\/ Generate the Spatial3DImage scene.\nspatial3DImageState = .generating\ntry await spatial3DImage.generate()\nspatial3DImageState = .generated\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Presenting images in RealityKit",
  "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/presenting-images-in-realitykit"
}