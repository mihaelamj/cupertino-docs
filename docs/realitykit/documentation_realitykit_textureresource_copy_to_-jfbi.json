{
  "abstract" : "Copies texture data to another texture.",
  "codeExamples" : [
    {
      "code" : "let device: MTLDevice = ...\nlet resource: TextureResource = ...\nlet descriptor = MTLTextureDescriptor.texture2DDescriptor(\n    pixelFormat: .rgba8Unorm,\n    width: resource.width, \/\/ Needs to match the texture resource.\n    height: resource.height, \/\/ Needs to match the texture resource.\n    mipmapped: false)\ndescriptor.usage = .shaderWrite \/\/ This is required for copying.\n\nguard let texture = device.makeTexture(descriptor: descriptor)\nelse { throw ... }\ntry resource.copy(to: texture)\n\n#if os(OSX) \/\/ The managed mode exists only in OSX.\nif texture.storageMode == .managed {\n    \/\/ You need to synchronize the managed textures before accessing their data.\n    guard let commandBuffer = device.makeCommandQueue()?.makeCommandBuffer(),\n          let blitEncoder = commandBuffer.makeBlitCommandEncoder()\n    else { throw ... }\n\n    blitEncoder.synchronize(resource: texture)\n    blitEncoder.endEncoding()\n    commandBuffer.commit()\n    commandBuffer.waitUntilCompleted()\n}\n#endif\n\n\/\/ Getting the raw pixel bytes.\nlet bytesPerRow = 4 * texture.width\nvar bytes = [UInt8](repeating: 0, count: texture.height * bytesPerRow)\nbytes.withUnsafeMutableBytes { bytesPtr in\n    texture.getBytes(\n        bytesPtr.baseAddress!,\n        bytesPerRow: bytesPerRow,\n        from: .init(origin: .init(), size: .init(width: texture.width, height: texture.height, depth: 1)),\n        mipmapLevel: 0\n    )\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "9bfde863c8b2ba7ec101b09ca9bcb2040b2d61f1a82366a67f7fb8b76b45d504",
  "crawledAt" : "2025-12-01T20:14:13Z",
  "declaration" : {
    "code" : "@MainActor @preconcurrency func copy(to texture: any MTLTexture) throws",
    "language" : "swift"
  },
  "id" : "98186E85-09BD-46E1-BA01-4469C913E27A",
  "kind" : "method",
  "module" : "RealityKit",
  "overview" : "## Discussion\n\nThis method blocks until it finishes copying the data. If you have an attached [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/DrawableQueue-swift.class] on this resource, this function detaches it. This method copies all available mipmap sizes to `texture`.\n\nIt’s recommended that you provide a value for [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/CreateOptions\/semantic] when creating this resource. Specifying a semantic enables RealityKit to select an appropriate pixel format for the target texture.\n\nHere’s an example using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/copy(to:)-jfbi] to get a texture resource’s raw pixel data:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RealityKit\/TextureResource\/copy(to:)-jfbi\ncrawled: 2025-12-01T20:14:13Z\n---\n\n# copy(to:)\n\n**Instance Method**\n\nCopies texture data to another texture.\n\n## Declaration\n\n```swift\n@MainActor @preconcurrency func copy(to texture: any MTLTexture) throws\n```\n\n## Parameters\n\n- **texture**: The target texture for copying the data. It needs to have the same width and height as [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource], and [doc:\/\/com.apple.documentation\/documentation\/Metal\/MTLTextureUsage\/shaderWrite] usage.\n\n## Discussion\n\nThis method blocks until it finishes copying the data. If you have an attached [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/DrawableQueue-swift.class] on this resource, this function detaches it. This method copies all available mipmap sizes to `texture`.\n\nIt’s recommended that you provide a value for [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/CreateOptions\/semantic] when creating this resource. Specifying a semantic enables RealityKit to select an appropriate pixel format for the target texture.\n\nHere’s an example using [doc:\/\/com.apple.RealityKit\/documentation\/RealityKit\/TextureResource\/copy(to:)-jfbi] to get a texture resource’s raw pixel data:\n\n```swift\nlet device: MTLDevice = ...\nlet resource: TextureResource = ...\nlet descriptor = MTLTextureDescriptor.texture2DDescriptor(\n    pixelFormat: .rgba8Unorm,\n    width: resource.width, \/\/ Needs to match the texture resource.\n    height: resource.height, \/\/ Needs to match the texture resource.\n    mipmapped: false)\ndescriptor.usage = .shaderWrite \/\/ This is required for copying.\n\nguard let texture = device.makeTexture(descriptor: descriptor)\nelse { throw ... }\ntry resource.copy(to: texture)\n\n#if os(OSX) \/\/ The managed mode exists only in OSX.\nif texture.storageMode == .managed {\n    \/\/ You need to synchronize the managed textures before accessing their data.\n    guard let commandBuffer = device.makeCommandQueue()?.makeCommandBuffer(),\n          let blitEncoder = commandBuffer.makeBlitCommandEncoder()\n    else { throw ... }\n\n    blitEncoder.synchronize(resource: texture)\n    blitEncoder.endEncoding()\n    commandBuffer.commit()\n    commandBuffer.waitUntilCompleted()\n}\n#endif\n\n\/\/ Getting the raw pixel bytes.\nlet bytesPerRow = 4 * texture.width\nvar bytes = [UInt8](repeating: 0, count: texture.height * bytesPerRow)\nbytes.withUnsafeMutableBytes { bytesPtr in\n    texture.getBytes(\n        bytesPtr.baseAddress!,\n        bytesPerRow: bytesPerRow,\n        from: .init(origin: .init(), size: .init(width: texture.width, height: texture.height, depth: 1)),\n        mipmapLevel: 0\n    )\n}\n```\n\n## Copying the texture\n\n- **copyAsync(to:completionHandler:)**: Asynchronously copies texture data to another texture.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asynchronously copies texture data to another texture.",
          "name" : "copyAsync(to:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/TextureResource\/copyAsync(to:completionHandler:)"
        }
      ],
      "title" : "Copying the texture"
    }
  ],
  "source" : "appleJSON",
  "title" : "copy(to:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/RealityKit\/TextureResource\/copy(to:)-jfbi"
}