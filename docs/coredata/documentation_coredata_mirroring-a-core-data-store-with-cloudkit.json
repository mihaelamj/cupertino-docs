{
  "abstract" : "Back user interfaces with a local replica of a CloudKit private database.",
  "codeExamples" : [

  ],
  "contentHash" : "a039b74486759b368d8e3f479a3a106f1c52f3449b1a6e5eb1dddd9f20a29dcf",
  "crawledAt" : "2025-12-02T15:49:23Z",
  "id" : "A591F2D9-4739-4A99-BF76-03878B563B9B",
  "kind" : "article",
  "language" : "swift",
  "module" : "Core Data",
  "overview" : "## Overview\n\nUse Core Data with CloudKit to give users seamless access to the data in your app across all their devices.\n\nCore Data with CloudKit combines the benefits of local persistence with cloud backup and distribution. Core Data provides powerful object graph management features for developing an app with structured data. CloudKit lets users access their data across every device on their iCloud account, while serving as an always-available backup service.\n\n\n\n### Determine If Your App Is Eligible for Core Data with CloudKit\n\nApps adopting Core Data can use Core Data with CloudKit as long as the persistent store is an [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSSQLiteStoreType] store, and the data model is compatible with CloudKit limitations. For example, CloudKit does not support unique constraints, undefined attributes, or required relationships.\n\nApps using CloudKit cannot use Core Data with CloudKit with existing CloudKit containers. To fully manage all aspects of data mirroring, Core Data owns the CloudKit schema created from the Core Data model. Existing CloudKit containers aren’t compatible with this schema. If your app already uses CloudKit, you can add Core Data with CloudKit when synchronizing a Core Data store with a new container. For more information about working with multiple stores, see [doc:\/\/com.apple.coredata\/documentation\/CoreData\/setting-up-core-data-with-cloudkit#Manage-multiple-stores].\n\nFor more information about data model requirements, see [doc:\/\/com.apple.coredata\/documentation\/CoreData\/creating-a-core-data-model-for-cloudkit#Create-a-Data-Model].\n\n### Set Up Your Development Environment\n\nYou need an [https:\/\/developer.apple.com\/programs\/] account to access the CloudKit service and your team’s CloudKit containers during development.\n\nYou also need an iCloud account to save records to a CloudKit container. Core Data with CloudKit uses a specific record zone in the CloudKit private database, which is accessible only to the current user.\n\nYou can run and test Core Data with CloudKit apps using Simulator. You may also test with multiple physical devices logged into the same iCloud account. Connect all devices to a stable wireless internet connection to avoid network problems that could hinder synchronization.\n\nFor more information, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/DataManagement\/Conceptual\/CloudKitQuickStart\/EnablingiCloudandConfiguringCloudKit\/EnablingiCloudandConfiguringCloudKit.html#\/\/apple_ref\/doc\/uid\/TP40014987-CH2-SW7].\n\n### Configure Core Data with CloudKit\n\nAdd Core Data with CloudKit to your project as follows:\n\nFinally, if you are building custom features or writing a web app, discover how to work with the generated CloudKit schema in [doc:\/\/com.apple.coredata\/documentation\/CoreData\/reading-cloudkit-records-for-core-data].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreData\/mirroring-a-core-data-store-with-cloudkit\ncrawled: 2025-12-02T15:49:23Z\n---\n\n# Mirroring a Core Data store with CloudKit\n\n**Article**\n\nBack user interfaces with a local replica of a CloudKit private database.\n\n## Overview\n\nUse Core Data with CloudKit to give users seamless access to the data in your app across all their devices.\n\nCore Data with CloudKit combines the benefits of local persistence with cloud backup and distribution. Core Data provides powerful object graph management features for developing an app with structured data. CloudKit lets users access their data across every device on their iCloud account, while serving as an always-available backup service.\n\n\n\n### Determine If Your App Is Eligible for Core Data with CloudKit\n\nApps adopting Core Data can use Core Data with CloudKit as long as the persistent store is an [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSSQLiteStoreType] store, and the data model is compatible with CloudKit limitations. For example, CloudKit does not support unique constraints, undefined attributes, or required relationships.\n\nApps using CloudKit cannot use Core Data with CloudKit with existing CloudKit containers. To fully manage all aspects of data mirroring, Core Data owns the CloudKit schema created from the Core Data model. Existing CloudKit containers aren’t compatible with this schema. If your app already uses CloudKit, you can add Core Data with CloudKit when synchronizing a Core Data store with a new container. For more information about working with multiple stores, see [doc:\/\/com.apple.coredata\/documentation\/CoreData\/setting-up-core-data-with-cloudkit#Manage-multiple-stores].\n\nFor more information about data model requirements, see [doc:\/\/com.apple.coredata\/documentation\/CoreData\/creating-a-core-data-model-for-cloudkit#Create-a-Data-Model].\n\n### Set Up Your Development Environment\n\nYou need an [https:\/\/developer.apple.com\/programs\/] account to access the CloudKit service and your team’s CloudKit containers during development.\n\nYou also need an iCloud account to save records to a CloudKit container. Core Data with CloudKit uses a specific record zone in the CloudKit private database, which is accessible only to the current user.\n\nYou can run and test Core Data with CloudKit apps using Simulator. You may also test with multiple physical devices logged into the same iCloud account. Connect all devices to a stable wireless internet connection to avoid network problems that could hinder synchronization.\n\nFor more information, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/DataManagement\/Conceptual\/CloudKitQuickStart\/EnablingiCloudandConfiguringCloudKit\/EnablingiCloudandConfiguringCloudKit.html#\/\/apple_ref\/doc\/uid\/TP40014987-CH2-SW7].\n\n### Configure Core Data with CloudKit\n\nAdd Core Data with CloudKit to your project as follows:\n\n1. Set up your Xcode project’s capabilities to enable CloudKit, and modify your Core Data stack setup to use [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSPersistentCloudKitContainer]. See [doc:\/\/com.apple.coredata\/documentation\/CoreData\/setting-up-core-data-with-cloudkit].\n2. Design your Core Data model, and use it to initialize the CloudKit schema. See [doc:\/\/com.apple.coredata\/documentation\/CoreData\/creating-a-core-data-model-for-cloudkit].\n3. Modify your views to incorporate remote store changes at appropriate times. See [doc:\/\/com.apple.coredata\/documentation\/CoreData\/syncing-a-core-data-store-with-cloudkit].\n\nFinally, if you are building custom features or writing a web app, discover how to work with the generated CloudKit schema in [doc:\/\/com.apple.coredata\/documentation\/CoreData\/reading-cloudkit-records-for-core-data].\n\n## Configuring CloudKit Mirroring\n\n- **Setting Up Core Data with CloudKit**: Set up the classes and capabilities that sync your store to CloudKit.\n- **Creating a Core Data Model for CloudKit**: Design a CloudKit-compatible data model and initialize your CloudKit schema.\n- **Syncing a Core Data Store with CloudKit**: Synchronize objects between devices, and handle store changes in the user interface.\n- **Reading CloudKit Records for Core Data**: Access CloudKit records created from Core Data managed objects.\n\n## CloudKit mirroring\n\n- **Synchronizing a local store to the cloud**: Share data between a user’s devices and other iCloud users.\n- **NSPersistentCloudKitContainer**: A container that encapsulates the Core Data stack in your app, and mirrors select persistent stores to a CloudKit private database.\n- **NSPersistentCloudKitContainerOptions**: An object that customizes how a store description aligns with a CloudKit database.\n- **Sharing Core Data objects between iCloud users**: Use Core Data and CloudKit to synchronize data between devices of an iCloud user and share data between different iCloud users.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Set up the classes and capabilities that sync your store to CloudKit.",
          "name" : "Setting Up Core Data with CloudKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/setting-up-core-data-with-cloudkit"
        },
        {
          "description" : "Design a CloudKit-compatible data model and initialize your CloudKit schema.",
          "name" : "Creating a Core Data Model for CloudKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/creating-a-core-data-model-for-cloudkit"
        },
        {
          "description" : "Synchronize objects between devices, and handle store changes in the user interface.",
          "name" : "Syncing a Core Data Store with CloudKit",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/syncing-a-core-data-store-with-cloudkit"
        },
        {
          "description" : "Access CloudKit records created from Core Data managed objects.",
          "name" : "Reading CloudKit Records for Core Data",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/reading-cloudkit-records-for-core-data"
        }
      ],
      "title" : "Configuring CloudKit Mirroring"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Share data between a user’s devices and other iCloud users.",
          "name" : "Synchronizing a local store to the cloud",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/synchronizing-a-local-store-to-the-cloud"
        },
        {
          "description" : "A container that encapsulates the Core Data stack in your app, and mirrors select persistent stores to a CloudKit private database.",
          "name" : "NSPersistentCloudKitContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSPersistentCloudKitContainer"
        },
        {
          "description" : "An object that customizes how a store description aligns with a CloudKit database.",
          "name" : "NSPersistentCloudKitContainerOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSPersistentCloudKitContainerOptions"
        },
        {
          "description" : "Use Core Data and CloudKit to synchronize data between devices of an iCloud user and share data between different iCloud users.",
          "name" : "Sharing Core Data objects between iCloud users",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/sharing-core-data-objects-between-icloud-users"
        }
      ],
      "title" : "CloudKit mirroring"
    }
  ],
  "source" : "appleJSON",
  "title" : "Mirroring a Core Data store with CloudKit",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/mirroring-a-core-data-store-with-cloudkit"
}