{
  "abstract" : "Provides an opportunity to add code into the life cycle of the managed object before saving it.",
  "codeExamples" : [

  ],
  "contentHash" : "ae8e15bd08eccdd5eb697354473c1824b9e399c54171541d6943ef32a02b2a9c",
  "crawledAt" : "2025-12-01T14:42:02Z",
  "declaration" : {
    "code" : "func willSave()",
    "language" : "swift"
  },
  "id" : "23C07E56-E2E8-48DD-A60C-2E7D9F1EC0E0",
  "kind" : "method",
  "module" : "Core Data",
  "overview" : "## Discussion\n\nThis method can have “side effects” on persistent values. You can use it to, for example, compute persistent values from other transient or scratchpad values.\n\nIf you want to update a persistent property value, you should typically test for equality of any new value with the existing value before making a change. If you change property values using standard accessor methods, Core Data will observe the resultant change notification and so invoke `willSave` again before saving the object’s managed object context. If you continue to modify a value in `willSave`, `willSave` will continue to be called until your program crashes.\n\nFor example, if you set a last-modified timestamp, you should check whether either you previously set it in the same save operation, or that the existing timestamp is not less than a small delta from the current time. Typically it’s better to calculate the timestamp once for all the objects being saved (for example, in response to an `NSManagedObjectContextWillSaveNotification`).\n\nIf you change property values using primitive accessors, you avoid the possibility of infinite recursion, but Core Data will not notice the change you make.\n\nThe sense of “save” in the method name is that of a database commit statement and so applies to deletions as well as to updates to objects. For subclasses, this method is therefore an appropriate locus for code to be executed when an object deleted as well as “saved to disk.” You can find out if an object is marked for deletion with [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSManagedObject\/isDeleted].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/willSave()\ncrawled: 2025-12-01T14:42:02Z\n---\n\n# willSave()\n\n**Instance Method**\n\nProvides an opportunity to add code into the life cycle of the managed object before saving it.\n\n## Declaration\n\n```swift\nfunc willSave()\n```\n\n## Discussion\n\nThis method can have “side effects” on persistent values. You can use it to, for example, compute persistent values from other transient or scratchpad values.\n\nIf you want to update a persistent property value, you should typically test for equality of any new value with the existing value before making a change. If you change property values using standard accessor methods, Core Data will observe the resultant change notification and so invoke `willSave` again before saving the object’s managed object context. If you continue to modify a value in `willSave`, `willSave` will continue to be called until your program crashes.\n\nFor example, if you set a last-modified timestamp, you should check whether either you previously set it in the same save operation, or that the existing timestamp is not less than a small delta from the current time. Typically it’s better to calculate the timestamp once for all the objects being saved (for example, in response to an `NSManagedObjectContextWillSaveNotification`).\n\nIf you change property values using primitive accessors, you avoid the possibility of infinite recursion, but Core Data will not notice the change you make.\n\nThe sense of “save” in the method name is that of a database commit statement and so applies to deletions as well as to updates to objects. For subclasses, this method is therefore an appropriate locus for code to be executed when an object deleted as well as “saved to disk.” You can find out if an object is marked for deletion with [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSManagedObject\/isDeleted].\n\n## Managing Change Events\n\n- **contextShouldIgnoreUnmodeledPropertyChanges**: A Boolean value that indicates whether to mark instances of the class as having changes when an unmodeled property changes.\n- **awakeFromFetch()**: Provides an opportunity to add code into the life cycle of the managed object when fufilling it from a fault.\n- **awakeFromInsert()**: Provides an opportunity to add code into the life cycle of the managed object when initially creating it.\n- **awake(fromSnapshotEvents:)**: Provides an opportunity to add code into the life cycle of the managed object when fulfilling it from a snapshot.\n- **changedValues()**: Returns a dictionary containing the keys and new values of persistent properties with changes since the last fetching or saving of the managed object.\n- **changedValuesForCurrentEvent()**: Returns a dictionary containing the keys and new values of persistent properties with changes since the last fetching or saving of the managed object.\n- **committedValues(forKeys:)**: Returns a dictionary of the most recent fetched or saved values of the managed object for the properties of the specified keys.\n- **prepareForDeletion()**: Provides an opportunity to add code into the life cycle of the managed object before deleting it.\n- **didSave()**: Provides an opportunity to add code into the life cycle of the managed object after the managed object’s context completes a save operation.\n- **willTurnIntoFault()**: Provides an opportunity to add code into the life cycle of the managed object before converting it to a fault.\n- **didTurnIntoFault()**: Provides an opportunity to add code into the life cycle of the managed object after converting it to a fault.\n- **fetchRequest()**: Returns an initialized fetch request with the entity this subclass represents.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether to mark instances of the class as having changes when an unmodeled property changes.",
          "name" : "contextShouldIgnoreUnmodeledPropertyChanges",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/contextShouldIgnoreUnmodeledPropertyChanges"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object when fufilling it from a fault.",
          "name" : "awakeFromFetch()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/awakeFromFetch()"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object when initially creating it.",
          "name" : "awakeFromInsert()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/awakeFromInsert()"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object when fulfilling it from a snapshot.",
          "name" : "awake(fromSnapshotEvents:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/awake(fromSnapshotEvents:)"
        },
        {
          "description" : "Returns a dictionary containing the keys and new values of persistent properties with changes since the last fetching or saving of the managed object.",
          "name" : "changedValues()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/changedValues()"
        },
        {
          "description" : "Returns a dictionary containing the keys and new values of persistent properties with changes since the last fetching or saving of the managed object.",
          "name" : "changedValuesForCurrentEvent()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/changedValuesForCurrentEvent()"
        },
        {
          "description" : "Returns a dictionary of the most recent fetched or saved values of the managed object for the properties of the specified keys.",
          "name" : "committedValues(forKeys:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/committedValues(forKeys:)"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object before deleting it.",
          "name" : "prepareForDeletion()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/prepareForDeletion()"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object after the managed object’s context completes a save operation.",
          "name" : "didSave()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/didSave()"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object before converting it to a fault.",
          "name" : "willTurnIntoFault()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/willTurnIntoFault()"
        },
        {
          "description" : "Provides an opportunity to add code into the life cycle of the managed object after converting it to a fault.",
          "name" : "didTurnIntoFault()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/didTurnIntoFault()"
        },
        {
          "description" : "Returns an initialized fetch request with the entity this subclass represents.",
          "name" : "fetchRequest()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/fetchRequest()"
        }
      ],
      "title" : "Managing Change Events"
    }
  ],
  "source" : "appleJSON",
  "title" : "willSave()",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSManagedObject\/willSave()"
}