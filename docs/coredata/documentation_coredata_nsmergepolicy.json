{
  "abstract" : "A policy object that you use to resolve conflicts between the persistent store and in-memory versions of managed objects.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol"
  ],
  "contentHash" : "d0478b95e7da847e4b9b774b76fe0fc3b10c20b39b97bf9aa1c90d98c4b48196",
  "crawledAt" : "2025-12-08T00:59:35Z",
  "declaration" : {
    "code" : "class NSMergePolicy",
    "language" : "swift"
  },
  "id" : "7D25F263-9B2F-4056-892A-6AA9DACE946C",
  "kind" : "class",
  "language" : "swift",
  "module" : "Core Data",
  "overview" : "## Overview\n\nA conflict is a mismatch between state held at two different layers in the Core Data stack. A conflict can arise when you save a managed object context and you have stale data at another layer. There are two places in which a conflict may occur:\n\nConflicts are represented by instances of [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSMergeConflict].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\ncrawled: 2025-12-08T00:59:35Z\n---\n\n# NSMergePolicy\n\n**Class**\n\nA policy object that you use to resolve conflicts between the persistent store and in-memory versions of managed objects.\n\n## Declaration\n\n```swift\nclass NSMergePolicy\n```\n\n## Overview\n\nA conflict is a mismatch between state held at two different layers in the Core Data stack. A conflict can arise when you save a managed object context and you have stale data at another layer. There are two places in which a conflict may occur:\n\n- Between the managed object context layer and its in-memory cached state at the persistent store coordinator layer.\n- Between the cached state at the persistent store coordinator and the external store (file, database, and so forth).\n\nConflicts are represented by instances of [doc:\/\/com.apple.coredata\/documentation\/CoreData\/NSMergeConflict].\n\n## Getting a Merge Policy\n\n- **init(merge:)**: Returns a merge policy initialized with a given policy type.\n- **mergeType**: The merge type.\n\n## Resolving a Conflict\n\n- **resolve(mergeConflicts:)**: Resolves the conflicts in a given list.\n- **resolve(constraintConflicts:)**: Resolves the conflicts in a given list.\n- **resolve(optimisticLockingConflicts:)**: Resolves the conflicts in a given list.\n\n## Defining Merge Policies\n\n- **error**: The default merge policy for all managed object contexts.\n- **mergeByPropertyStoreTrump**: A property-based merge policy that applies external changes.\n- **mergeByPropertyObjectTrump**: A property-based merge policy that applies in-memory changes.\n- **overwrite**: A merge policy that overwrites the entire stored object.\n- **rollback**: A merge policy that discards unsaved changes.\n- **Merge Policies**: Define standard ways to handle conflicts during a save operation.\n\n## Conflict Management\n\n- **NSConstraintConflict**: An encapsulation of conflicts that occur during an attempt to save a managed object.\n- **NSMergeConflict**: An encapsulation of conflicts that occur during an attempt to save changes in a managed object context.\n- **NSQueryGenerationToken**: A token that indicates which generation of the persistent store is being accessed.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a merge policy initialized with a given policy type.",
          "name" : "init(merge:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/init(merge:)"
        },
        {
          "description" : "The merge type.",
          "name" : "mergeType",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/mergeType"
        }
      ],
      "title" : "Getting a Merge Policy"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Resolves the conflicts in a given list.",
          "name" : "resolve(mergeConflicts:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/resolve(mergeConflicts:)"
        },
        {
          "description" : "Resolves the conflicts in a given list.",
          "name" : "resolve(constraintConflicts:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/resolve(constraintConflicts:)"
        },
        {
          "description" : "Resolves the conflicts in a given list.",
          "name" : "resolve(optimisticLockingConflicts:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/resolve(optimisticLockingConflicts:)"
        }
      ],
      "title" : "Resolving a Conflict"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The default merge policy for all managed object contexts.",
          "name" : "error",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/error"
        },
        {
          "description" : "A property-based merge policy that applies external changes.",
          "name" : "mergeByPropertyStoreTrump",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/mergeByPropertyStoreTrump"
        },
        {
          "description" : "A property-based merge policy that applies in-memory changes.",
          "name" : "mergeByPropertyObjectTrump",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/mergeByPropertyObjectTrump"
        },
        {
          "description" : "A merge policy that overwrites the entire stored object.",
          "name" : "overwrite",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/overwrite"
        },
        {
          "description" : "A merge policy that discards unsaved changes.",
          "name" : "rollback",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy\/rollback"
        },
        {
          "description" : "Define standard ways to handle conflicts during a save operation.",
          "name" : "Merge Policies",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/merge-policies"
        }
      ],
      "title" : "Defining Merge Policies"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An encapsulation of conflicts that occur during an attempt to save a managed object.",
          "name" : "NSConstraintConflict",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSConstraintConflict"
        },
        {
          "description" : "An encapsulation of conflicts that occur during an attempt to save changes in a managed object context.",
          "name" : "NSMergeConflict",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergeConflict"
        },
        {
          "description" : "A token that indicates which generation of the persistent store is being accessed.",
          "name" : "NSQueryGenerationToken",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSQueryGenerationToken"
        }
      ],
      "title" : "Conflict Management"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSMergePolicy",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreData\/NSMergePolicy"
}