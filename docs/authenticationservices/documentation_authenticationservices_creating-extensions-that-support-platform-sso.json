{
  "abstract" : "Configure capabilities and authentication options for extensions.",
  "codeExamples" : [

  ],
  "contentHash" : "a728922a5e93a2c48597d05dd04f358291a2a89165c14524b126c6000c398c60",
  "crawledAt" : "2025-12-06T08:37:20Z",
  "id" : "54F7F9BC-DDDE-430E-BF46-86247801CDCD",
  "kind" : "article",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nTo perform single sign-on (SSO) with an identity provider (IdP), you need to create an SSO extension that supports platform SSO and implements the required functionality. You also need to indicate the grant types that the extension and IdP support. Optionally, you can include support for platform SSO 2.0, and enable use of the Kerberos SSO extension with the platform SSO ticket-granting ticket (TGT).\n\nThe extension completes the necessary actions to register devices and users and perform authentication with an IdP. The IdP server handles the login requests and responses to complete the authentication process. During development, you can run commands in Terminal to view messages from the IdP while you iterate on the configuration.\n\n### Specify supported grant types\n\nThe SSO extension you create needs to indicate the grant types that it and the IdP support. In macOS 14.0 and later, implement [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationHandler\/supportedGrantTypes()] and return:\n\nIf you build your extension with an SDK for macOS 14 or later, the default authentication messages require updates to adhere to the RFC standard. This includes different JSON Web Token (JWT) type headers and parameter names. You can override these values in the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration].\n\n### Implement platform SSO 2.0 capabilities\n\nPlatform SSO 2.0 adds a new key service for SSO extensions and IdPs which enables an alternative registration flow and additional login configuration. You need to implement [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationHandler\/protocolVersion()] in the extension and return [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionPlatformSSOProtocolVersion\/version2_0] to indicate that the extension and the IdP server support platform SSO 2.0 before using it. You also need to set the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/keyEndpointURL] in the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration].\n\nThe key service registers encryption keys to unlock the Mac at the login window and screensaver unlock. There are two kinds of requests: create a key and perform Diffie-Hellman key exchange. The system sends the request to create the key after the user registration call to the SSO extension completes successfully. Then, it binds the key to the user’s account, which involves multiple key exchange requests during this process. The system can only use the key service with shared device keys because it uses the key to unlock the user’s key bag. For more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/supporting-key-requests-and-key-exchange-requests].\n\n### Enable ticket-granting ticket (TGT) with the Kerberos SSO extension\n\nSet the following values in the [doc:\/\/com.apple.documentation\/documentation\/devicemanagement\/extensiblesinglesignonkerberos\/extensiondata] to enable use of the platform SSO TGT with the Kerberos SSO extension:\n\n### Use diagnostics to iterate on the configuration during development\n\nWhen you’re developing for platform SSO, the IdP can generate sample messages that use the current configuration. Perform these actions in Terminal to check the configuration and state of the SSO tokens while you iterate on the configuration:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-extensions-that-support-platform-sso\ncrawled: 2025-12-06T08:37:20Z\n---\n\n# Creating extensions that support platform SSO\n\n**Article**\n\nConfigure capabilities and authentication options for extensions.\n\n## Overview\n\nTo perform single sign-on (SSO) with an identity provider (IdP), you need to create an SSO extension that supports platform SSO and implements the required functionality. You also need to indicate the grant types that the extension and IdP support. Optionally, you can include support for platform SSO 2.0, and enable use of the Kerberos SSO extension with the platform SSO ticket-granting ticket (TGT).\n\nThe extension completes the necessary actions to register devices and users and perform authentication with an IdP. The IdP server handles the login requests and responses to complete the authentication process. During development, you can run commands in Terminal to view messages from the IdP while you iterate on the configuration.\n\n### Specify supported grant types\n\nThe SSO extension you create needs to indicate the grant types that it and the IdP support. In macOS 14.0 and later, implement [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationHandler\/supportedGrantTypes()] and return:\n\n- Password: [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionSupportedGrantTypes\/password]\n- Secure enclave key, SmartCard, and encrypted password: [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionSupportedGrantTypes\/jwtBearer]\n- WS-Trust: [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionSupportedGrantTypes\/saml1_1] or [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionSupportedGrantTypes\/saml2_0]\n\nIf you build your extension with an SDK for macOS 14 or later, the default authentication messages require updates to adhere to the RFC standard. This includes different JSON Web Token (JWT) type headers and parameter names. You can override these values in the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration].\n\n### Implement platform SSO 2.0 capabilities\n\nPlatform SSO 2.0 adds a new key service for SSO extensions and IdPs which enables an alternative registration flow and additional login configuration. You need to implement [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationHandler\/protocolVersion()] in the extension and return [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionPlatformSSOProtocolVersion\/version2_0] to indicate that the extension and the IdP server support platform SSO 2.0 before using it. You also need to set the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/keyEndpointURL] in the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration].\n\nThe key service registers encryption keys to unlock the Mac at the login window and screensaver unlock. There are two kinds of requests: create a key and perform Diffie-Hellman key exchange. The system sends the request to create the key after the user registration call to the SSO extension completes successfully. Then, it binds the key to the user’s account, which involves multiple key exchange requests during this process. The system can only use the key service with shared device keys because it uses the key to unlock the user’s key bag. For more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/supporting-key-requests-and-key-exchange-requests].\n\n### Enable ticket-granting ticket (TGT) with the Kerberos SSO extension\n\nSet the following values in the [doc:\/\/com.apple.documentation\/documentation\/devicemanagement\/extensiblesinglesignonkerberos\/extensiondata] to enable use of the platform SSO TGT with the Kerberos SSO extension:\n\n\n\n### Use diagnostics to iterate on the configuration during development\n\nWhen you’re developing for platform SSO, the IdP can generate sample messages that use the current configuration. Perform these actions in Terminal to check the configuration and state of the SSO tokens while you iterate on the configuration:\n\n\n\n## Essentials\n\n- **Registering devices and users**: Implement device and user registration.\n- **ASAuthorizationProviderExtensionRegistrationHandler**: An interface through which a single sign-on (SSO) authentication provider extension registers users and devices for platform SSO.\n- **ASAuthorizationProviderExtensionAuthenticationMethod**: The platform single sign-on method for the user.\n- **ASAuthorizationProviderExtensionRequestOptions**: The options for the extension to obtain the status of the registration.\n- **ASAuthorizationProviderExtensionRegistrationResult**: The registration result.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Implement device and user registration.",
          "name" : "Registering devices and users",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/registering-devices-and-users"
        },
        {
          "description" : "An interface through which a single sign-on (SSO) authentication provider extension registers users and devices for platform SSO.",
          "name" : "ASAuthorizationProviderExtensionRegistrationHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationHandler"
        },
        {
          "description" : "The platform single sign-on method for the user.",
          "name" : "ASAuthorizationProviderExtensionAuthenticationMethod",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionAuthenticationMethod"
        },
        {
          "description" : "The options for the extension to obtain the status of the registration.",
          "name" : "ASAuthorizationProviderExtensionRequestOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRequestOptions"
        },
        {
          "description" : "The registration result.",
          "name" : "ASAuthorizationProviderExtensionRegistrationResult",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionRegistrationResult"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating extensions that support platform SSO",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-extensions-that-support-platform-sso"
}