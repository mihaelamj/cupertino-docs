{
  "abstract" : "Request an embedded assertion for login types that require a digital signature for authentication.",
  "codeExamples" : [
    {
      "code" : "{\n    \"typ\" : \"JWT\",\n    \"alg\" : \"ES256\",\n    \"kid\" : \"pmQkkBPmTgijIX00\/SpKUjzvm3k2MZAZRiVR3iEv8l0=\"\n}.{\n    \"nonce\" : \"7DE40CF9-C885-4397-B48E-E95EDD22038A\",\n    \"request_nonce\" : \"AwABAAAAAAADAOz_BADv_xtgu_SM1Mvoq02PYz_YfXxx5FAgcLHLNikH6gjrBWwcqnRW_haxqO9JCiPat5KfkTily04S8EH3AQwVsWCxHYQgAA\",\n    \"iat\" : \"1655416300\",\n    \"sub\" : \"foo\",\n    \"scope\" : \"openid offline_access urn:apple:platformsso\",\n    \"exp\" : \"1655416600\",\n    \"aud\" : \"060798FF-814E-4C38-97F8-28C954B7E058\",\n    \"iss\" : \"foo\"\n}.[Signature]\n",
      "language" : "javascript"
    }
  ],
  "contentHash" : "81585acfa7453d82a7c5d715f532605763d0675b848b24418905ab6e064bcdd9",
  "crawledAt" : "2025-12-09T17:22:08Z",
  "id" : "2FE8FD44-8000-4AA2-99A6-2212C2E16513",
  "kind" : "article",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nDuring authentication, the system uses the embedded assertion when the login type requires a digital signature for authentication. The system uses this assertion for authentication with a secure enclave key, SmartCard, and encrypted password. The embedded assertion is a Javascript Object Signing and Encryption (JOSE) object that’s formatted per RFC 7523 and signed with the authenticator per RFC 7515. However, the assertion differs from RFC 7523 when using secure enclave key authentication, which is signed using the `ES256` algorithm instead of the `RS256` algorithm in the RFC. This algorithm difference is because secure enclave key supports ellyptic curve keys, not RSA keys.\n\nThe following table specifies the header parameters that the system uses to create an embedded assertion:\n\nThe following table specifies the body parameters that the system uses to create an embedded assertion:\n\nThe following code provides an example of an embedded assertion request:\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/authentication-process].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/authenticationservices\/creating-an-embedded-assertion\ncrawled: 2025-12-09T17:22:08Z\n---\n\n# Creating an embedded assertion\n\n**Article**\n\nRequest an embedded assertion for login types that require a digital signature for authentication.\n\n## Overview\n\nDuring authentication, the system uses the embedded assertion when the login type requires a digital signature for authentication. The system uses this assertion for authentication with a secure enclave key, SmartCard, and encrypted password. The embedded assertion is a Javascript Object Signing and Encryption (JOSE) object that’s formatted per RFC 7523 and signed with the authenticator per RFC 7515. However, the assertion differs from RFC 7523 when using secure enclave key authentication, which is signed using the `ES256` algorithm instead of the `RS256` algorithm in the RFC. This algorithm difference is because secure enclave key supports ellyptic curve keys, not RSA keys.\n\nThe following table specifies the header parameters that the system uses to create an embedded assertion:\n\n\n\nThe following table specifies the body parameters that the system uses to create an embedded assertion:\n\n\n\nThe following code provides an example of an embedded assertion request:\n\n```javascript\n{\n    \"typ\" : \"JWT\",\n    \"alg\" : \"ES256\",\n    \"kid\" : \"pmQkkBPmTgijIX00\/SpKUjzvm3k2MZAZRiVR3iEv8l0=\"\n}.{\n    \"nonce\" : \"7DE40CF9-C885-4397-B48E-E95EDD22038A\",\n    \"request_nonce\" : \"AwABAAAAAAADAOz_BADv_xtgu_SM1Mvoq02PYz_YfXxx5FAgcLHLNikH6gjrBWwcqnRW_haxqO9JCiPat5KfkTily04S8EH3AQwVsWCxHYQgAA\",\n    \"iat\" : \"1655416300\",\n    \"sub\" : \"foo\",\n    \"scope\" : \"openid offline_access urn:apple:platformsso\",\n    \"exp\" : \"1655416600\",\n    \"aud\" : \"060798FF-814E-4C38-97F8-28C954B7E058\",\n    \"iss\" : \"foo\"\n}.[Signature]\n\n```\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/authentication-process].\n\n## Login request\n\n- **Performing a WS-Trust login request**: Create a WS-Trust login request using the metadata exchange data (MEX) response.\n- **Creating an encrypted embedded assertion**: Request an encrypted embedded assertion for login types that require password encryption.\n- **Creating and validating a login request**: Create a signed JOSE login request.\n- **Creating a refresh request**: Refresh a non-expired token instead of sending a new login request.\n- **Supporting key requests and key exchange requests**: Support the platform SSO 2.0 protocol for encryption and decryption operations.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create a WS-Trust login request using the metadata exchange data (MEX) response.",
          "name" : "Performing a WS-Trust login request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-a-ws-trust-login-request"
        },
        {
          "description" : "Request an encrypted embedded assertion for login types that require password encryption.",
          "name" : "Creating an encrypted embedded assertion",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-an-encrypted-embedded-assertion"
        },
        {
          "description" : "Create a signed JOSE login request.",
          "name" : "Creating and validating a login request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-and-validating-a-login-request"
        },
        {
          "description" : "Refresh a non-expired token instead of sending a new login request.",
          "name" : "Creating a refresh request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-a-refresh-request"
        },
        {
          "description" : "Support the platform SSO 2.0 protocol for encryption and decryption operations.",
          "name" : "Supporting key requests and key exchange requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/supporting-key-requests-and-key-exchange-requests"
        }
      ],
      "title" : "Login request"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating an embedded assertion",
  "url" : "https:\/\/developer.apple.com\/documentation\/authenticationservices\/creating-an-embedded-assertion"
}