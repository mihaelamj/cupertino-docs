{
  "abstract" : "Perform a conditional passkey registration, if possible.",
  "codeExamples" : [
    {
      "code" : "Info.plist\n├─ NSExtension\n    ├─ NSExtensionAttributes\n        ├─ ASCredentialProviderExtensionCapabilities\n            ├─ SupportsConditionalPasskeyRegistration => true"
    }
  ],
  "contentHash" : "adad0ea75df9039439b6d51a3a31fd503eb89f5152e5f0e1a2e5462cf7e87e3e",
  "crawledAt" : "2025-12-03T04:23:39Z",
  "declaration" : {
    "code" : "@MainActor func performWithoutUserInteractionIfPossible(passkeyRegistration registrationRequest: ASPasskeyCredentialRequest)",
    "language" : "swift"
  },
  "id" : "7B1B88CD-E8C2-4B64-97B8-255520B243FD",
  "kind" : "method",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Discussion\n\nThis method will be called for handling conditional passkey registration requests. A conditional passkey registration request allows your extension to opportunistically register passkeys in the background, if and only if you believe the user is in a good state to do so. Your extension decides can decide what conditions make sense for whether to fulfill or reject this request. For example, an extension may decide to register a passkey only if all of the following conditions are met:\n\nFulfilling this request should not remove a user’s saved password for this account, but it may mean that the passkey will be preferred over the password in future AutoFill invocations, if both are supported.\n\nYour extension should complete this request by calling `-[ASCredentialProviderExtensionContext completeRegistrationRequestWithSelectedPasskeyCredential:completionHandler:]` or`-[ASCredentialProviderExtensionContext cancelRequestWithError:]`, like for standard registration requests. However, this request is not allowed to show UI and `ASExtensionErrorCodeUserInteractionRequired` will be treated like any other error. The intent of this API is to provide a method of performing a background registration only where easy and convenient, so no blocking UI or error should ever be shown.\n\nTo indicate support for this feature, add `SupportsConditionalPasskeyRegistration` under the `ASCredentialProviderExtensionCapabilities` dictionary.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/performWithoutUserInteractionIfPossible(passkeyRegistration:)\ncrawled: 2025-12-03T04:23:39Z\n---\n\n# performWithoutUserInteractionIfPossible(passkeyRegistration:)\n\n**Instance Method**\n\nPerform a conditional passkey registration, if possible.\n\n## Declaration\n\n```swift\n@MainActor func performWithoutUserInteractionIfPossible(passkeyRegistration registrationRequest: ASPasskeyCredentialRequest)\n```\n\n## Discussion\n\nThis method will be called for handling conditional passkey registration requests. A conditional passkey registration request allows your extension to opportunistically register passkeys in the background, if and only if you believe the user is in a good state to do so. Your extension decides can decide what conditions make sense for whether to fulfill or reject this request. For example, an extension may decide to register a passkey only if all of the following conditions are met:\n\n- The user’s vault is currently unlocked.\n- The user name for the registration request matches that for an existing saved password.\n- The matching saved password was filled recently.\n- The user does not already have a passkey for this account.\n\nFulfilling this request should not remove a user’s saved password for this account, but it may mean that the passkey will be preferred over the password in future AutoFill invocations, if both are supported.\n\nYour extension should complete this request by calling `-[ASCredentialProviderExtensionContext completeRegistrationRequestWithSelectedPasskeyCredential:completionHandler:]` or`-[ASCredentialProviderExtensionContext cancelRequestWithError:]`, like for standard registration requests. However, this request is not allowed to show UI and `ASExtensionErrorCodeUserInteractionRequired` will be treated like any other error. The intent of this API is to provide a method of performing a background registration only where easy and convenient, so no blocking UI or error should ever be shown.\n\nTo indicate support for this feature, add `SupportsConditionalPasskeyRegistration` under the `ASCredentialProviderExtensionCapabilities` dictionary.\n\n```\nInfo.plist\n├─ NSExtension\n    ├─ NSExtensionAttributes\n        ├─ ASCredentialProviderExtensionCapabilities\n            ├─ SupportsConditionalPasskeyRegistration => true\n```\n\n## Selecting a credential\n\n- **prepareCredentialList(for:)**: Prepares the interface to display a list of credentials from which the user can select.\n- **prepareCredentialList(for:requestParameters:)**: Prepares the interface to display a list of passkey and password credentials from which the user can select.\n- **prepareOneTimeCodeCredentialList(for:)**: Prepares the interface to display a list of one-time passcodes (OTPs) that people can select from.\n- **prepareInterface(forPasskeyRegistration:)**: Prepare the view controller to show user interface for registering a new passkey.\n- **prepareInterfaceToProvideCredential(for:)**: Prepare the view controller to show user interface for providing the requested credential.\n- **provideCredentialWithoutUserInteraction(for:)**: Attempts to provide the user-requested credential with no further user interaction.\n- **ASCredentialServiceIdentifier**: An identifier representing a particular service for which the user needs a credential, like a web site.\n- **ASCredentialRequest**: A protocol that describes a request from the user for your extension to provide a credential.\n- **ASPasswordCredentialRequest**: A class that represents a request to supply a password credential.\n- **ASOneTimeCodeCredentialRequest**\n- **ASAuthorizationPublicKeyCredentialRegistrationRequest**: An interface that defines properties for a credential registration request.\n- **ASPasskeyCredentialRequest**: A class that represents a request to supply a passkey credential.\n- **ASPasskeyCredentialRequestParameters**: A class that represents information about a passkey credential request.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prepares the interface to display a list of credentials from which the user can select.",
          "name" : "prepareCredentialList(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareCredentialList(for:)"
        },
        {
          "description" : "Prepares the interface to display a list of passkey and password credentials from which the user can select.",
          "name" : "prepareCredentialList(for:requestParameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareCredentialList(for:requestParameters:)"
        },
        {
          "description" : "Prepares the interface to display a list of one-time passcodes (OTPs) that people can select from.",
          "name" : "prepareOneTimeCodeCredentialList(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareOneTimeCodeCredentialList(for:)"
        },
        {
          "description" : "Prepare the view controller to show user interface for registering a new passkey.",
          "name" : "prepareInterface(forPasskeyRegistration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareInterface(forPasskeyRegistration:)"
        },
        {
          "description" : "Prepare the view controller to show user interface for providing the requested credential.",
          "name" : "prepareInterfaceToProvideCredential(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareInterfaceToProvideCredential(for:)-68qpo"
        },
        {
          "description" : "Attempts to provide the user-requested credential with no further user interaction.",
          "name" : "provideCredentialWithoutUserInteraction(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/provideCredentialWithoutUserInteraction(for:)-3mo23"
        },
        {
          "description" : "An identifier representing a particular service for which the user needs a credential, like a web site.",
          "name" : "ASCredentialServiceIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialServiceIdentifier"
        },
        {
          "description" : "A protocol that describes a request from the user for your extension to provide a credential.",
          "name" : "ASCredentialRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialRequest"
        },
        {
          "description" : "A class that represents a request to supply a password credential.",
          "name" : "ASPasswordCredentialRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASPasswordCredentialRequest"
        },
        {
          "description" : "",
          "name" : "ASOneTimeCodeCredentialRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASOneTimeCodeCredentialRequest"
        },
        {
          "description" : "An interface that defines properties for a credential registration request.",
          "name" : "ASAuthorizationPublicKeyCredentialRegistrationRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationPublicKeyCredentialRegistrationRequest"
        },
        {
          "description" : "A class that represents a request to supply a passkey credential.",
          "name" : "ASPasskeyCredentialRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASPasskeyCredentialRequest"
        },
        {
          "description" : "A class that represents information about a passkey credential request.",
          "name" : "ASPasskeyCredentialRequestParameters",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASPasskeyCredentialRequestParameters"
        }
      ],
      "title" : "Selecting a credential"
    }
  ],
  "source" : "appleJSON",
  "title" : "performWithoutUserInteractionIfPossible(passkeyRegistration:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/performWithoutUserInteractionIfPossible(passkeyRegistration:)"
}