{
  "abstract" : "Send and process a WS-Trust MEX request to determine the version and URLs for authentication.",
  "codeExamples" : [
    {
      "code" : "GET \/wstrust\/mex HTTP\/1.1\nHost: auth.example.com",
      "language" : "http"
    }
  ],
  "contentHash" : "6fcc225f4fe41073bace2c5b90670f01121ced691b06dabe4003765683d2de56",
  "crawledAt" : "2025-12-09T17:25:25Z",
  "id" : "E4BD9E3C-257D-464E-81D9-DF7FA2A23261",
  "kind" : "article",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nAfter receiving a preauthentication response from the identity provider (IdP), the next step the system performs for federated authentication with WS-Trust, meaning between security domains, is to send a WS-Trust MEX request to the federated IdP.\n\nThe system sends a WS-Trust MEX request to determine the WS-Trust version and URLs to use for authentication. It sends this request when the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationType-swift.property] is [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/FederationType-swift.enum\/wsTrust], or when the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationType-swift.property] is [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/FederationType-swift.enum\/dynamicWSTrust] and the MEX URL is parsed from the preauthentication response. See [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/performing-a-preauthentication-request] for more information.\n\n### Create the WS-Trust MEX network request\n\nThe request is an HTTP GET to the URL in [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationMEXURL] or to the URL received from the pre-authentication request, as shown here:\n\n### Receive the WS-Trust MEX network response\n\nIf the http status is `200`, the response body loads as XML. The system parses the XML to determine the WSTrust endpoint and version to use. The system supports WS-Trust versions 2005 and 1.3; however, version 1.3 is preferred. The system only supports https as the transport.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/authenticationservices\/performing-a-ws-trust-metadata-exchange-data-mex-request\ncrawled: 2025-12-09T17:25:25Z\n---\n\n# Performing a WS-Trust metadata exchange data (MEX) request\n\n**Article**\n\nSend and process a WS-Trust MEX request to determine the version and URLs for authentication.\n\n## Overview\n\nAfter receiving a preauthentication response from the identity provider (IdP), the next step the system performs for federated authentication with WS-Trust, meaning between security domains, is to send a WS-Trust MEX request to the federated IdP.\n\nThe system sends a WS-Trust MEX request to determine the WS-Trust version and URLs to use for authentication. It sends this request when the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationType-swift.property] is [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/FederationType-swift.enum\/wsTrust], or when the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationType-swift.property] is [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/FederationType-swift.enum\/dynamicWSTrust] and the MEX URL is parsed from the preauthentication response. See [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/performing-a-preauthentication-request] for more information.\n\n### Create the WS-Trust MEX network request\n\nThe request is an HTTP GET to the URL in [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/federationMEXURL] or to the URL received from the pre-authentication request, as shown here:\n\n```http\nGET \/wstrust\/mex HTTP\/1.1\nHost: auth.example.com\n```\n\n### Receive the WS-Trust MEX network response\n\nIf the http status is `200`, the response body loads as XML. The system parses the XML to determine the WSTrust endpoint and version to use. The system supports WS-Trust versions 2005 and 1.3; however, version 1.3 is preferred. The system only supports https as the transport.\n\n## Pre-login\n\n- **Obtaining a server nonce**: Request and process a server nonce to verify communication and detect replays.\n- **Performing a preauthentication request**: Request and process a preauthentication for dynamic WS-Trust authentication.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Request and process a server nonce to verify communication and detect replays.",
          "name" : "Obtaining a server nonce",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/obtaining-a-server-nonce"
        },
        {
          "description" : "Request and process a preauthentication for dynamic WS-Trust authentication.",
          "name" : "Performing a preauthentication request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-a-preauthentication-request"
        }
      ],
      "title" : "Pre-login"
    }
  ],
  "source" : "appleJSON",
  "title" : "Performing a WS-Trust metadata exchange data (MEX) request",
  "url" : "https:\/\/developer.apple.com\/documentation\/authenticationservices\/performing-a-ws-trust-metadata-exchange-data-mex-request"
}