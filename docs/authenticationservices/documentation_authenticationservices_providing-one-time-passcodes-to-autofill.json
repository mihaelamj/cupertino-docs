{
  "abstract" : "Help people efficiently perform multifactor authentication.",
  "codeExamples" : [

  ],
  "contentHash" : "604901a759fd2a0fd863799b91ad60db0b66bbfdc222fbc50c035c2cdaec27e0",
  "crawledAt" : "2025-12-03T04:24:02Z",
  "id" : "23C9254A-B109-424F-9B82-436D0C6AC690",
  "kind" : "article",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nMany online services rely on one-time passcodes (OTPs), particularly time-based one-time passcodes (TOTP), as an additional factor when someone authenticates with the service. For example, a website might ask someone to provide their username, a password which the person knows, and a TOTP generated by the person’s authenticator app to enter the site.\n\nYour credential provider extension can supply OTPs to AutoFill so that people can automatically fill out passcodes in apps and on websites. Someone can configure multiple credential providers in Settings so that different apps supply their passwords and OTPs in AutoFill.\n\n### Indicate that your extension provides OTPs\n\nOpen your credential provider extension’s information property list file in Xcode and add a key to the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSExtension\/NSExtensionAttributes\/ASCredentialProviderExtensionCapabilities] dictionary. Set the key’s name to `ProvidesOneTimeCodes`, and its value to the Boolean `true`.\n\n### Respond to system requests for OTP AutoFill\n\nThe system calls your credential provider view controller’s  [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/provideCredentialWithoutUserInteraction(for:)-3mo23] method with a request type of [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialRequestType\/oneTimeCode] to request an OTP. If your credential provider extension can provide the code without presenting UI, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/completeOneTimeCodeRequest(using:completionHandler:)] to supply the text to the system.\n\nOtherwise, if your credential provider extension needs to present UI to provide the OTP, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/cancelRequest(withError:)]. Use the error domain [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASExtensionErrorDomain], and the code [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASExtensionError\/Code\/userInteractionRequired]. The system calls [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareInterfaceToProvideCredential(for:)-68qpo]. In your implementation, present the UI you need for someone to choose the OTP for the request. Call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/completeOneTimeCodeRequest(using:completionHandler:)] to supply the text to the system, or [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/cancelRequest(withError:)] to inform the system if an error occurs.\n\n### Provide a list of available OTPs\n\nWhen someone uses a text field to complete an OTP using AutoFill, they can tap a button to see a list of all available OTPs. The system calls [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareOneTimeCodeCredentialList(for:)] to get the list of OTPs from your extension, then presents your controller.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/providing-one-time-passcodes-to-autofill\ncrawled: 2025-12-03T04:24:02Z\n---\n\n# Providing one-time passcodes to AutoFill\n\n**Article**\n\nHelp people efficiently perform multifactor authentication.\n\n## Overview\n\nMany online services rely on one-time passcodes (OTPs), particularly time-based one-time passcodes (TOTP), as an additional factor when someone authenticates with the service. For example, a website might ask someone to provide their username, a password which the person knows, and a TOTP generated by the person’s authenticator app to enter the site.\n\nYour credential provider extension can supply OTPs to AutoFill so that people can automatically fill out passcodes in apps and on websites. Someone can configure multiple credential providers in Settings so that different apps supply their passwords and OTPs in AutoFill.\n\n### Indicate that your extension provides OTPs\n\nOpen your credential provider extension’s information property list file in Xcode and add a key to the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSExtension\/NSExtensionAttributes\/ASCredentialProviderExtensionCapabilities] dictionary. Set the key’s name to `ProvidesOneTimeCodes`, and its value to the Boolean `true`.\n\n### Respond to system requests for OTP AutoFill\n\nThe system calls your credential provider view controller’s  [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/provideCredentialWithoutUserInteraction(for:)-3mo23] method with a request type of [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialRequestType\/oneTimeCode] to request an OTP. If your credential provider extension can provide the code without presenting UI, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/completeOneTimeCodeRequest(using:completionHandler:)] to supply the text to the system.\n\nOtherwise, if your credential provider extension needs to present UI to provide the OTP, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/cancelRequest(withError:)]. Use the error domain [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASExtensionErrorDomain], and the code [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASExtensionError\/Code\/userInteractionRequired]. The system calls [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareInterfaceToProvideCredential(for:)-68qpo]. In your implementation, present the UI you need for someone to choose the OTP for the request. Call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/completeOneTimeCodeRequest(using:completionHandler:)] to supply the text to the system, or [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderExtensionContext\/cancelRequest(withError:)] to inform the system if an error occurs.\n\n### Provide a list of available OTPs\n\nWhen someone uses a text field to complete an OTP using AutoFill, they can tap a button to see a list of all available OTPs. The system calls [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASCredentialProviderViewController\/prepareOneTimeCodeCredentialList(for:)] to get the list of OTPs from your extension, then presents your controller.\n\n## AutoFill credentials\n\n- **AutoFill Credential Provider Entitlement**: A Boolean value that indicates whether the app may, with user permission, provide user names and passwords for AutoFill in Safari and other apps.\n- **ASCredentialProviderViewController**: A view controller that a credential manager app uses to extend AutoFill.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the app may, with user permission, provide user names and passwords for AutoFill in Safari and other apps.",
          "name" : "AutoFill Credential Provider Entitlement",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.authentication-services.autofill-credential-provider"
        },
        {
          "description" : "A view controller that a credential manager app uses to extend AutoFill.",
          "name" : "ASCredentialProviderViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASCredentialProviderViewController"
        }
      ],
      "title" : "AutoFill credentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Providing one-time passcodes to AutoFill",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/providing-one-time-passcodes-to-autofill"
}