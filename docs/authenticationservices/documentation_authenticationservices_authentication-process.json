{
  "abstract" : "Use a system-supported method to authenticate with an identity provider.",
  "codeExamples" : [

  ],
  "contentHash" : "7f347406d26417da73869cb2804b48540c0da7129fbaa67fab384c3010ef7227",
  "crawledAt" : "2025-12-06T08:37:28Z",
  "id" : "E4760F99-4456-4D9A-9A49-CD87FA7A2FBE",
  "kind" : "collection",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nPlatform SSO supports several methods to authenticate with an identity provider (IdP) that stores and verfies user identities. Each method includes specific steps to complete the authentication process. At a high level, authentication begins with the system requesting a server nonce, which includes an anti-replay value. Next, the system creates a login request per requirements of the authentication method, sends the request, receives a response, and processes it.\n\nThis flowchart provides a high-level overview of authentication using password, secure enclave key, SmartCard, and encrypted password:\n\n\n\nFor password and encrypted password authentication, the IdP uses the local account password and keeps it in sync, including password updates from the login window and screensaver unlock. The secure enclave key authenticates with the IdP without a password and without changing the local password, and high-security customers can use a SmartCard to authenticate with the IdP.\n\nPlatform SSO also facilitates federated authentication with WS-Trust. Federation enables authentication between security domains, such as from a local IdP to a cloud IdP. In WS-Trust authentication, a federated IdP uses the local account password for authentication.\n\nThis flowchart provides a high-level overview of WS-Trust authentication, which includes preauthentication (for dynamic WS-Trust), obtaining federation metadata, authenticating with a federated IdP, and logging in with the IdP:\n\n\n\n### Support TLS and system CA requirements\n\nBecause the login process can happen on any network, the system sends all HTTP requests using Transport Layer Security (TLS) and uses the current App Transport Security settings. The requests explicitly require that the system-provided root certificate authorities (CAs) include the issuer of the TLS certificate. The system doesn’t trust user-trusted or MDM-provided CAs for these requests. It limits these CAs to ensure the TLS tunnel to the identity provider doesn’t include any third-party products with security vulnerabilities or intentionally malicious code.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/authentication-process\ncrawled: 2025-12-06T08:37:28Z\n---\n\n# Authentication process\n\nUse a system-supported method to authenticate with an identity provider.\n\n## Overview\n\nPlatform SSO supports several methods to authenticate with an identity provider (IdP) that stores and verfies user identities. Each method includes specific steps to complete the authentication process. At a high level, authentication begins with the system requesting a server nonce, which includes an anti-replay value. Next, the system creates a login request per requirements of the authentication method, sends the request, receives a response, and processes it.\n\nThis flowchart provides a high-level overview of authentication using password, secure enclave key, SmartCard, and encrypted password:\n\n\n\nFor password and encrypted password authentication, the IdP uses the local account password and keeps it in sync, including password updates from the login window and screensaver unlock. The secure enclave key authenticates with the IdP without a password and without changing the local password, and high-security customers can use a SmartCard to authenticate with the IdP.\n\nPlatform SSO also facilitates federated authentication with WS-Trust. Federation enables authentication between security domains, such as from a local IdP to a cloud IdP. In WS-Trust authentication, a federated IdP uses the local account password for authentication.\n\nThis flowchart provides a high-level overview of WS-Trust authentication, which includes preauthentication (for dynamic WS-Trust), obtaining federation metadata, authenticating with a federated IdP, and logging in with the IdP:\n\n\n\n### Support TLS and system CA requirements\n\nBecause the login process can happen on any network, the system sends all HTTP requests using Transport Layer Security (TLS) and uses the current App Transport Security settings. The requests explicitly require that the system-provided root certificate authorities (CAs) include the issuer of the TLS certificate. The system doesn’t trust user-trusted or MDM-provided CAs for these requests. It limits these CAs to ensure the TLS tunnel to the identity provider doesn’t include any third-party products with security vulnerabilities or intentionally malicious code.\n\n## Pre-login\n\n- **Obtaining a server nonce**: Request and process a server nonce to verify communication and detect replays.\n- **Performing a preauthentication request**: Request and process a preauthentication for dynamic WS-Trust authentication.\n- **Performing a WS-Trust metadata exchange data (MEX) request**: Send and process a WS-Trust MEX request to determine the version and URLs for authentication.\n\n## Login request\n\n- **Performing a WS-Trust login request**: Create a WS-Trust login request using the metadata exchange data (MEX) response.\n- **Creating an embedded assertion**: Request an embedded assertion for login types that require a digital signature for authentication.\n- **Creating an encrypted embedded assertion**: Request an encrypted embedded assertion for login types that require password encryption.\n- **Creating and validating a login request**: Create a signed JOSE login request.\n- **Creating a refresh request**: Refresh a non-expired token instead of sending a new login request.\n- **Supporting key requests and key exchange requests**: Support the platform SSO 2.0 protocol for encryption and decryption operations.\n\n## Login response\n\n- **Creating a JSON Web Encryption (JWE) login response**: Create an encrypted login response and configure the concatenation key derivation function (Concat KDF).\n- **Processing the JSON Web Encryption (JWE) login response**: Validate the encrypted response.\n- **Performing encryption verification**: Verify the login request and create a JSON Web Encryption (JWE) response.\n\n## Authentication\n\n- **ASAuthorizationProviderExtensionKerberosMapping**: A set of Kerberos mappings that the system login process uses.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Request and process a server nonce to verify communication and detect replays.",
          "name" : "Obtaining a server nonce",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/obtaining-a-server-nonce"
        },
        {
          "description" : "Request and process a preauthentication for dynamic WS-Trust authentication.",
          "name" : "Performing a preauthentication request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-a-preauthentication-request"
        },
        {
          "description" : "Send and process a WS-Trust MEX request to determine the version and URLs for authentication.",
          "name" : "Performing a WS-Trust metadata exchange data (MEX) request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-a-ws-trust-metadata-exchange-data-mex-request"
        }
      ],
      "title" : "Pre-login"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create a WS-Trust login request using the metadata exchange data (MEX) response.",
          "name" : "Performing a WS-Trust login request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-a-ws-trust-login-request"
        },
        {
          "description" : "Request an embedded assertion for login types that require a digital signature for authentication.",
          "name" : "Creating an embedded assertion",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-an-embedded-assertion"
        },
        {
          "description" : "Request an encrypted embedded assertion for login types that require password encryption.",
          "name" : "Creating an encrypted embedded assertion",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-an-encrypted-embedded-assertion"
        },
        {
          "description" : "Create a signed JOSE login request.",
          "name" : "Creating and validating a login request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-and-validating-a-login-request"
        },
        {
          "description" : "Refresh a non-expired token instead of sending a new login request.",
          "name" : "Creating a refresh request",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-a-refresh-request"
        },
        {
          "description" : "Support the platform SSO 2.0 protocol for encryption and decryption operations.",
          "name" : "Supporting key requests and key exchange requests",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/supporting-key-requests-and-key-exchange-requests"
        }
      ],
      "title" : "Login request"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create an encrypted login response and configure the concatenation key derivation function (Concat KDF).",
          "name" : "Creating a JSON Web Encryption (JWE) login response",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-a-json-web-encryption-jwe-login-response"
        },
        {
          "description" : "Validate the encrypted response.",
          "name" : "Processing the JSON Web Encryption (JWE) login response",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/processing-the-json-web-encryption-jwe-login-response"
        },
        {
          "description" : "Verify the login request and create a JSON Web Encryption (JWE) response.",
          "name" : "Performing encryption verification",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-encryption-verification"
        }
      ],
      "title" : "Login response"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A set of Kerberos mappings that the system login process uses.",
          "name" : "ASAuthorizationProviderExtensionKerberosMapping",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionKerberosMapping"
        }
      ],
      "title" : "Authentication"
    }
  ],
  "source" : "appleJSON",
  "title" : "Authentication process",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/authentication-process"
}