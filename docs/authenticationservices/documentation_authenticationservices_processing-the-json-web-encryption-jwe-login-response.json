{
  "abstract" : "Validate the encrypted response.",
  "codeExamples" : [
    {
      "code" : "HTTP\/1.1 200 OK\nCache-Control: no-store, no-cache\nPragma: no-cache\nContent-Type: application\/platformsso-login-response+jwt; charset=utf-8\newogI...luEng",
      "language" : "http"
    }
  ],
  "contentHash" : "9d14dfddfd35abd97e00163d3b0ae6af0a82e8a2d6530fc160ef5f0c983ae7da",
  "crawledAt" : "2025-12-09T17:21:43Z",
  "id" : "AD93D31D-7117-4463-B043-3193B3373F7A",
  "kind" : "article",
  "language" : "swift",
  "module" : "Authentication Services",
  "overview" : "## Overview\n\nYour login configuration instructs platform SSO how to receive and verify the login response from an identity provider (IdP).\n\nIf the HTTP response code is `200`, the system decrypts the response body according to RFC 7516 Section 5.2, using JWE Compact Serialization. Use of the zip header isn’t supported. The system checks `PartyUInfo` for the Ephemeral Public Key in the response. `PartyVInfo` is the `jwe_crypto.apv` from the login request.\n\nThe following code sample provides an example of an encrypted login response JWE:\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/creating-a-json-web-encryption-jwe-login-response].\n\n### Validate the ID token\n\nThe `id_token` is a JSON Object Signing and Encryption (JOSE) object that the IdP signs using either RS256 or ES256 algorithms per RFC 7515 using compact serialization. The system retrieves the signing keys from the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/jwksEndpointURL].\n\nThe following table specifies the values that the system uses to validate the ID token:\n\nIf validation succeeds, the system saves the response tokens to the keychain using the keychain data-protection attribute [doc:\/\/com.apple.documentation\/documentation\/Security\/kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly] and checks the Kerberos mapping.\n\nFor a group membership request, the system adds the user to the groups that the IdP supplies in the `id_token`, and it removes the user from the groups not returned. The system ignores groups that you didn’t specify in the Device Management profile.\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/configuring-device-management].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/processing-the-json-web-encryption-jwe-login-response\ncrawled: 2025-12-09T17:21:43Z\n---\n\n# Processing the JSON Web Encryption (JWE) login response\n\n**Article**\n\nValidate the encrypted response.\n\n## Overview\n\nYour login configuration instructs platform SSO how to receive and verify the login response from an identity provider (IdP).\n\nIf the HTTP response code is `200`, the system decrypts the response body according to RFC 7516 Section 5.2, using JWE Compact Serialization. Use of the zip header isn’t supported. The system checks `PartyUInfo` for the Ephemeral Public Key in the response. `PartyVInfo` is the `jwe_crypto.apv` from the login request.\n\nThe following code sample provides an example of an encrypted login response JWE:\n\n```http\nHTTP\/1.1 200 OK\nCache-Control: no-store, no-cache\nPragma: no-cache\nContent-Type: application\/platformsso-login-response+jwt; charset=utf-8\newogI...luEng\n```\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/creating-a-json-web-encryption-jwe-login-response].\n\n### Validate the ID token\n\nThe `id_token` is a JSON Object Signing and Encryption (JOSE) object that the IdP signs using either RS256 or ES256 algorithms per RFC 7515 using compact serialization. The system retrieves the signing keys from the [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/ASAuthorizationProviderExtensionLoginConfiguration\/jwksEndpointURL].\n\nThe following table specifies the values that the system uses to validate the ID token:\n\n\n\nIf validation succeeds, the system saves the response tokens to the keychain using the keychain data-protection attribute [doc:\/\/com.apple.documentation\/documentation\/Security\/kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly] and checks the Kerberos mapping.\n\nFor a group membership request, the system adds the user to the groups that the IdP supplies in the `id_token`, and it removes the user from the groups not returned. The system ignores groups that you didn’t specify in the Device Management profile.\n\nFor more information, see [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/configuring-device-management].\n\n## Login response\n\n- **Creating a JSON Web Encryption (JWE) login response**: Create an encrypted login response and configure the concatenation key derivation function (Concat KDF).\n- **Performing encryption verification**: Verify the login request and create a JSON Web Encryption (JWE) response.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Create an encrypted login response and configure the concatenation key derivation function (Concat KDF).",
          "name" : "Creating a JSON Web Encryption (JWE) login response",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/creating-a-json-web-encryption-jwe-login-response"
        },
        {
          "description" : "Verify the login request and create a JSON Web Encryption (JWE) response.",
          "name" : "Performing encryption verification",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/performing-encryption-verification"
        }
      ],
      "title" : "Login response"
    }
  ],
  "source" : "appleJSON",
  "title" : "Processing the JSON Web Encryption (JWE) login response",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/processing-the-json-web-encryption-jwe-login-response"
}