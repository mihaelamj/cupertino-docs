{
  "abstract" : "A SwiftUI environment value that views use to authenticate someone using a web service.",
  "codeExamples" : [
    {
      "code" : "struct WebAuthenticationSessionExample: View {\n    \/\/ Get an instance of WebAuthenticationSession using SwiftUI's \n    \/\/ @Environment property wrapper.\n    @Environment(\\.webAuthenticationSession) private var webAuthenticationSession\n    \n    var body: some View {\n        Button(\"Sign in\") {\n            Task {\n                do {\n                    \/\/ Perform the authentication and await the result.\n                    let urlWithToken = try await webAuthenticationSession.authenticate(\n                        using: URL(\"https:\/\/www.example.com\")!,\n                        callbackURLScheme: \"x-example-app\"\n                    )\n                    \/\/ Call the method that completes the authentication using the\n                    \/\/ returned URL.\n                    try await signIn(using: urlWithToken)\n                } catch {\n                    \/\/ Respond to any authorization errors. \n                }\n            }\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "let queryItems = URLComponents(string: urlWithToken.absoluteString)?.queryItems\nlet token = queryItems?.filter({ $0.name == \"token\" }).first?.value",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "8f120bfb9816064ef078a11a8cfdae0aece415bd8be8c50c90351fe08e8362db",
  "crawledAt" : "2025-12-04T20:18:09Z",
  "declaration" : {
    "code" : "@MainActor struct WebAuthenticationSession",
    "language" : "swift"
  },
  "id" : "695D35A0-AC89-4A63-BA23-80C879F25E4B",
  "kind" : "struct",
  "language" : "swift",
  "module" : "AuthenticationServices",
  "overview" : "## Overview\n\nYou access an instance of this type by using the SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Environment] property wrapper and specifying [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/webAuthenticationSession] as the environment value.\n\nTo begin an authentication session and display the browser, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/WebAuthenticationSession\/authenticate(using:callbackURLScheme:preferredBrowserSession:)]. For example, when someone taps a button, the web service authenticates that person and then the authentication provider redirects the browser to a URL it constructs using the app’s custom callback scheme. The browser detects that redirect, dismisses itself, and returns the complete URL to the awaiting caller.\n\nThe following example shows how to use a SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button] to invoke a session:\n\nAfter receiving the URL, inspect it to determine the authentication request’s outcome. For example, you might search the URL’s query parameters for a token of some form:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/WebAuthenticationSession\ncrawled: 2025-12-04T20:18:09Z\n---\n\n# WebAuthenticationSession\n\n**Structure**\n\nA SwiftUI environment value that views use to authenticate someone using a web service.\n\n## Declaration\n\n```swift\n@MainActor struct WebAuthenticationSession\n```\n\n## Overview\n\nYou access an instance of this type by using the SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Environment] property wrapper and specifying [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/EnvironmentValues\/webAuthenticationSession] as the environment value.\n\nTo begin an authentication session and display the browser, call [doc:\/\/com.apple.authenticationservices\/documentation\/AuthenticationServices\/WebAuthenticationSession\/authenticate(using:callbackURLScheme:preferredBrowserSession:)]. For example, when someone taps a button, the web service authenticates that person and then the authentication provider redirects the browser to a URL it constructs using the app’s custom callback scheme. The browser detects that redirect, dismisses itself, and returns the complete URL to the awaiting caller.\n\nThe following example shows how to use a SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Button] to invoke a session:\n\n```swift\nstruct WebAuthenticationSessionExample: View {\n    \/\/ Get an instance of WebAuthenticationSession using SwiftUI's \n    \/\/ @Environment property wrapper.\n    @Environment(\\.webAuthenticationSession) private var webAuthenticationSession\n    \n    var body: some View {\n        Button(\"Sign in\") {\n            Task {\n                do {\n                    \/\/ Perform the authentication and await the result.\n                    let urlWithToken = try await webAuthenticationSession.authenticate(\n                        using: URL(\"https:\/\/www.example.com\")!,\n                        callbackURLScheme: \"x-example-app\"\n                    )\n                    \/\/ Call the method that completes the authentication using the\n                    \/\/ returned URL.\n                    try await signIn(using: urlWithToken)\n                } catch {\n                    \/\/ Respond to any authorization errors. \n                }\n            }\n        }\n    }\n}\n```\n\nAfter receiving the URL, inspect it to determine the authentication request’s outcome. For example, you might search the URL’s query parameters for a token of some form:\n\n```swift\nlet queryItems = URLComponents(string: urlWithToken.absoluteString)?.queryItems\nlet token = queryItems?.filter({ $0.name == \"token\" }).first?.value\n```\n\n\n\n## Authenticating a session\n\n- **authenticate(using:callback:preferredBrowserSession:additionalHeaderFields:)**: Begins a web authentication session.\n- **WebAuthenticationSession.BrowserSession**: Describes the preferred browser session behavior.\n- **ASWebAuthenticationSession.Callback**: An object for evaluating navigation events in an authentication session.\n\n## Deprecated methods\n\n- **authenticate(using:callbackURLScheme:preferredBrowserSession:)**: Begins a web authentication session.\n\n## Web authentication sessions\n\n- **Authenticating a User Through a Web Service**: Use a web authentication session to authenticate a user in your app.\n- **Securing Logins with iCloud Keychain Verification Codes**: Use time-based codes generated on-device for a secure authentication experience.\n- **ASWebAuthenticationSession**: A session that an app uses to authenticate a user through a web service.\n- **Supporting Single Sign-On in a Web Browser App**: Extend your web browser app to handle web authentication requests from other apps.\n- **ASWebAuthenticationSessionWebBrowserSessionManager**: A session manager that mediates sharing data between an app and a web browser.\n- **ASWebAuthenticationSessionWebBrowserSupportCapabilities**: A collection of keys that a browser app uses to declare its ability to handle authentication requests from other apps.\n\n## Conforms To\n\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Begins a web authentication session.",
          "name" : "authenticate(using:callback:preferredBrowserSession:additionalHeaderFields:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/WebAuthenticationSession\/authenticate(using:callback:preferredBrowserSession:additionalHeaderFields:)"
        },
        {
          "description" : "Describes the preferred browser session behavior.",
          "name" : "WebAuthenticationSession.BrowserSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/WebAuthenticationSession\/BrowserSession"
        },
        {
          "description" : "An object for evaluating navigation events in an authentication session.",
          "name" : "ASWebAuthenticationSession.Callback",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASWebAuthenticationSession\/Callback"
        }
      ],
      "title" : "Authenticating a session"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Begins a web authentication session.",
          "name" : "authenticate(using:callbackURLScheme:preferredBrowserSession:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/WebAuthenticationSession\/authenticate(using:callbackURLScheme:preferredBrowserSession:)"
        }
      ],
      "title" : "Deprecated methods"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use a web authentication session to authenticate a user in your app.",
          "name" : "Authenticating a User Through a Web Service",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/authenticating-a-user-through-a-web-service"
        },
        {
          "description" : "Use time-based codes generated on-device for a secure authentication experience.",
          "name" : "Securing Logins with iCloud Keychain Verification Codes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/securing-logins-with-icloud-keychain-verification-codes"
        },
        {
          "description" : "A session that an app uses to authenticate a user through a web service.",
          "name" : "ASWebAuthenticationSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASWebAuthenticationSession"
        },
        {
          "description" : "Extend your web browser app to handle web authentication requests from other apps.",
          "name" : "Supporting Single Sign-On in a Web Browser App",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/supporting-single-sign-on-in-a-web-browser-app"
        },
        {
          "description" : "A session manager that mediates sharing data between an app and a web browser.",
          "name" : "ASWebAuthenticationSessionWebBrowserSessionManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/ASWebAuthenticationSessionWebBrowserSessionManager"
        },
        {
          "description" : "A collection of keys that a browser app uses to declare its ability to handle authentication requests from other apps.",
          "name" : "ASWebAuthenticationSessionWebBrowserSupportCapabilities",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/ASWebAuthenticationSessionWebBrowserSupportCapabilities"
        }
      ],
      "title" : "Web authentication sessions"
    }
  ],
  "source" : "appleJSON",
  "title" : "WebAuthenticationSession",
  "url" : "https:\/\/developer.apple.com\/documentation\/AuthenticationServices\/WebAuthenticationSession"
}