{
  "abstract" : "A URL that encodes data to be transmitted with the message.",
  "codeExamples" : [
    {
      "code" : "guard let components = NSURLComponents(string: myBaseURL) else {\n    fatalError(\"Invalid base url\")\n}\n \nlet size = NSURLQueryItem(name: \"Size\", value: \"Large\")\nlet count = NSURLQueryItem(name: \"Topping_Count\", value: \"2\")\nlet cheese = NSURLQueryItem(name: \"Topping_0\", value: \"Cheese\")\nlet pepperoni = NSURLQueryItem(name: \"Topping_1\", value: \"Pepperoni\")\ncomponents.queryItems = [size, count, cheese, pepperoni]\n \nguard let url = components.url  else {\n    fatalError(\"Invalid URL components.\")\n}\n \nmessage.url = url",
      "language" : "swift"
    },
    {
      "code" : "guard let components = NSURLComponents(url: message.url, resolvingAgainstBaseURL: false) else {\n    fatalError(\"The message contains an invalid URL\")\n}\n \nif let queryItems = components.queryItems {\n    \/\/ process the query items here...\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "87847ffc61d47318f6919c48cae9381193427d1c1ea3ed98578845bc1f9a749a",
  "crawledAt" : "2025-12-02T06:16:24Z",
  "declaration" : {
    "code" : "var url: URL? { get set }",
    "language" : "swift"
  },
  "id" : "A598AB0F-A018-463C-9A9F-0188DA322090",
  "kind" : "property",
  "module" : "Messages",
  "overview" : "## Discussion\n\nEncode your application’s data in the URL. For example, you can encode data as key-value pairs in the URL’s query string, as shown below:\n\nThe message object is delivered to the extension running on the recipient’s device. The extension can access the session’s current state from the message’s `URL` property, as shown below:\n\nIf the message is selected on macOS, the system loads the URL in a web browser. The URL should point to a web service that returns a meaningful result based on the encoded data.\n\nThe URL property must use an HTTP, HTTPS, or data scheme. Custom app schemes are not supported. Additionally, the URL cannot be longer than 5,000 characters.\n\nBy default, this property is set to `nil`.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/url\ncrawled: 2025-12-02T06:16:24Z\n---\n\n# url\n\n**Instance Property**\n\nA URL that encodes data to be transmitted with the message.\n\n## Declaration\n\n```swift\nvar url: URL? { get set }\n```\n\n## Discussion\n\nEncode your application’s data in the URL. For example, you can encode data as key-value pairs in the URL’s query string, as shown below:\n\n```swift\nguard let components = NSURLComponents(string: myBaseURL) else {\n    fatalError(\"Invalid base url\")\n}\n \nlet size = NSURLQueryItem(name: \"Size\", value: \"Large\")\nlet count = NSURLQueryItem(name: \"Topping_Count\", value: \"2\")\nlet cheese = NSURLQueryItem(name: \"Topping_0\", value: \"Cheese\")\nlet pepperoni = NSURLQueryItem(name: \"Topping_1\", value: \"Pepperoni\")\ncomponents.queryItems = [size, count, cheese, pepperoni]\n \nguard let url = components.url  else {\n    fatalError(\"Invalid URL components.\")\n}\n \nmessage.url = url\n```\n\nThe message object is delivered to the extension running on the recipient’s device. The extension can access the session’s current state from the message’s `URL` property, as shown below:\n\n```swift\nguard let components = NSURLComponents(url: message.url, resolvingAgainstBaseURL: false) else {\n    fatalError(\"The message contains an invalid URL\")\n}\n \nif let queryItems = components.queryItems {\n    \/\/ process the query items here...\n}\n```\n\nIf the message is selected on macOS, the system loads the URL in a web browser. The URL should point to a web service that returns a meaningful result based on the encoded data.\n\nThe URL property must use an HTTP, HTTPS, or data scheme. Custom app schemes are not supported. Additionally, the URL cannot be longer than 5,000 characters.\n\nBy default, this property is set to `nil`.\n\n## Message Properties\n\n- **accessibilityLabel**: A localized string that describes the message.\n- **error**: An error object describing why the system failed to send the message.\n- **isPending**: A Boolean value that indicates whether the message is pending or whether it has been sent or received.\n- **layout**: A layout object that defines the message’s appearance.\n- **senderParticipantIdentifier**: A UUID identifying the participant that sent the message.\n- **session**: The session that this message belongs to.\n- **shouldExpire**: A Boolean value that determines whether the message should expire after being read.\n- **summaryText**: A succinct description of the message.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A localized string that describes the message.",
          "name" : "accessibilityLabel",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/accessibilityLabel"
        },
        {
          "description" : "An error object describing why the system failed to send the message.",
          "name" : "error",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/error"
        },
        {
          "description" : "A Boolean value that indicates whether the message is pending or whether it has been sent or received.",
          "name" : "isPending",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/isPending"
        },
        {
          "description" : "A layout object that defines the message’s appearance.",
          "name" : "layout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/layout"
        },
        {
          "description" : "A UUID identifying the participant that sent the message.",
          "name" : "senderParticipantIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/senderParticipantIdentifier"
        },
        {
          "description" : "The session that this message belongs to.",
          "name" : "session",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/session"
        },
        {
          "description" : "A Boolean value that determines whether the message should expire after being read.",
          "name" : "shouldExpire",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/shouldExpire"
        },
        {
          "description" : "A succinct description of the message.",
          "name" : "summaryText",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/summaryText"
        }
      ],
      "title" : "Message Properties"
    }
  ],
  "source" : "appleJSON",
  "title" : "url",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage\/url"
}