{
  "abstract" : "Inserts a message object into the Messages app’s input field.",
  "codeExamples" : [

  ],
  "contentHash" : "71e4afce90e59d9a73846d9a7c3729e010998a3ce96ff0eb46da4b10a08f189c",
  "crawledAt" : "2025-12-04T02:45:35Z",
  "declaration" : {
    "code" : "func insert(_ message: MSMessage, completionHandler: (((any Error)?) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "8C7ED65D-DC5F-47AB-8615-E7C3EACA0D0F",
  "kind" : "method",
  "language" : "swift",
  "module" : "Messages",
  "overview" : "## Discussion\n\nUse this method to insert an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object into the Message app’s input field. Users can then send the message by tapping Send. iMessage apps suport this method only in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/messages] context. If called in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context, the method fails with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nThe message object’s appearance is determined by its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout] property. The message can contain app-specific data and can be associated with a session, letting other participants update the message. For more information, see [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage].\n\nThis method operates asynchronously. Although the method returns immediately, the actual work is deferred and performed in the background. As soon as the attachment is inserted, the system calls the completion block on a background queue.\n\nSubsequent calls to this method replace any existing message in the input field.\n\nIf the message was initialized using the session from an existing message, a new message is not added to the transcript. Instead, the system takes the following steps as soon as the user sends the message:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248\ncrawled: 2025-12-04T02:45:35Z\n---\n\n# insert(_:completionHandler:)\n\n**Instance Method**\n\nInserts a message object into the Messages app’s input field.\n\n## Declaration\n\n```swift\nfunc insert(_ message: MSMessage, completionHandler: (((any Error)?) -> Void)? = nil)\n```\n\n```swift\nfunc insert(_ message: MSMessage) async throws\n```\n\n## Parameters\n\n- **message**: The message object to be inserted.\n- **completionHandler**: A block that is called as soon as the insertion is complete. This block is passed the following parameter:\n\n\n\n## Discussion\n\n\n\nUse this method to insert an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object into the Message app’s input field. Users can then send the message by tapping Send. iMessage apps suport this method only in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/messages] context. If called in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context, the method fails with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nThe message object’s appearance is determined by its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout] property. The message can contain app-specific data and can be associated with a session, letting other participants update the message. For more information, see [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage].\n\nThis method operates asynchronously. Although the method returns immediately, the actual work is deferred and performed in the background. As soon as the attachment is inserted, the system calls the completion block on a background queue.\n\n\n\nSubsequent calls to this method replace any existing message in the input field.\n\nIf the message was initialized using the session from an existing message, a new message is not added to the transcript. Instead, the system takes the following steps as soon as the user sends the message:\n\n1. The system moves the existing message to the bottom of the conversation transcript.\n2. It updates the message with the new content.\n\n## Inserting Content into the Input Field\n\n- **insertAttachment(_:withAlternateFilename:completionHandler:)**: Inserts an attachment into the current context.\n- **insert(_:completionHandler:)**: Inserts a sticker into the current context.\n- **insertText(_:completionHandler:)**: Inserts text into the Messages app’s input field.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Inserts an attachment into the current context.",
          "name" : "insertAttachment(_:withAlternateFilename:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSConversation\/insertAttachment(_:withAlternateFilename:completionHandler:)"
        },
        {
          "description" : "Inserts a sticker into the current context.",
          "name" : "insert(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-7fpdd"
        },
        {
          "description" : "Inserts text into the Messages app’s input field.",
          "name" : "insertText(_:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSConversation\/insertText(_:completionHandler:)"
        }
      ],
      "title" : "Inserting Content into the Input Field"
    }
  ],
  "source" : "appleJSON",
  "title" : "insert(_:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248"
}