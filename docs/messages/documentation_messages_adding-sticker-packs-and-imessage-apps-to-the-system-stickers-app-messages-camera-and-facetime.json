{
  "abstract" : "Enable your Sticker pack or iMessage app in the media context.",
  "codeExamples" : [
    {
      "code" : "if presentationContext == .messages {\n    \/\/ The system is presenting your iMessage app inside the Messages app.\n    \/\/ You have full access to the Messages framework.\n    \/\/ You can insert or send stickers, text, attachments, or interactive messages.\n} else if presentationContext == .media {\n    \/\/ The system is presenting your iMessage app in effects.\n    \/\/ You can only insert stickers and images.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "e6f1c6b4702b6883ac60397aa8c8b966f3a912e5c586b7af02b1d484747474b6",
  "crawledAt" : "2025-12-02T17:03:04Z",
  "id" : "0069EC83-A13D-40C4-8BBF-5715C2BE6563",
  "kind" : "article",
  "language" : "swift",
  "module" : "Messages",
  "overview" : "## Overview\n\nIn iOS 12 and later, Sticker packs and iMessage apps can appear in multiple contexts.\n\nPeople can access stickers throughout iOS through the emoji keyboard. To access effects in the Messages camera or FaceTime, a person taps the effects button. The system then displays all the iMessage apps and Sticker packs that support the media context. A person can launch an app, and use it to add images or stickers to the camera.\n\niMessage apps only appear in the `messages` context. To enable support for the `media` context, set the `MSSupportedPresentationContexts` key in your extension’s `Info.plist` file. If you indicate support for both `messages` and `media`, your Stickers only present in the `media` context including in Messages.\n\nA Sticker pack or iMessage app’s context limits its available features. For example, In the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/messages] context, a person can peel off stickers and attach them to any bubbles in the current conversation. Your app can also programatically send stickers, images, text, or interactive messages.\n\nIn the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context, your app appears in effects in Messages and FaceTime. Therefore, the system limits your app to features that make sense over a photo or video. For instance, a person can’t play an interactive game while taking a photo; however, they can add stickers or images to the picture.\n\n### Specify the supported contexts\n\nTo specify the supported contexts:\n\nYou must specify one of the contexts, but if you specify both contexts, they only present in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context.\n\nFor more information on setting I`nfo.plist` keys, see [https:\/\/help.apple.com\/xcode\/mac\/9.3\/#\/dev3f399a2a6].\n\n### Work with the media context\n\nThe [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context supports only a subset of the features provided by the Messages framework. People can peel stickers from a sticker browser view, and place them in the Messages camera or FaceTime. They can reposition, resize, rotate, or remove stickers from the viewfinder.\n\niMessage apps can also insert stickers or images into the viewfinder using the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-7fpdd] or [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insertAttachment(_:withAlternateFilename:completionHandler:)] methods. However, if the attachment isn’t an image supported by [doc:\/\/com.apple.messages\/documentation\/Messages\/MSSticker], then the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insertAttachment(_:withAlternateFilename:completionHandler:)] method fails with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nAdditionally, you can’t insert interactive messages or text into the media context. You also can’t send items automatically. Therefore, the following methods from the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation] class aren’t available:\n\nIf you call these methods, they fail with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nAdditionally, because you can’t send or receive interactive messages, the system never calls the following methods in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context:\n\nFinally, the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context is already inside the Messages camera or FaceTime; therefore, you can’t display another camera inside the current viewfinder.\n\n### Detect the current context\n\nUse the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] object’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/presentationContext] property to determine your iMessage app’s current context. Enable only the features that make sense in that context.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/adding-sticker-packs-and-imessage-apps-to-the-system-stickers-app-messages-camera-and-facetime\ncrawled: 2025-12-02T17:03:04Z\n---\n\n# Adding Sticker packs and iMessage apps to the system Stickers app, Messages camera, and FaceTime\n\n**Article**\n\nEnable your Sticker pack or iMessage app in the media context.\n\n## Overview\n\nIn iOS 12 and later, Sticker packs and iMessage apps can appear in multiple contexts.\n\n\n\nPeople can access stickers throughout iOS through the emoji keyboard. To access effects in the Messages camera or FaceTime, a person taps the effects button. The system then displays all the iMessage apps and Sticker packs that support the media context. A person can launch an app, and use it to add images or stickers to the camera.\n\niMessage apps only appear in the `messages` context. To enable support for the `media` context, set the `MSSupportedPresentationContexts` key in your extension’s `Info.plist` file. If you indicate support for both `messages` and `media`, your Stickers only present in the `media` context including in Messages.\n\nA Sticker pack or iMessage app’s context limits its available features. For example, In the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/messages] context, a person can peel off stickers and attach them to any bubbles in the current conversation. Your app can also programatically send stickers, images, text, or interactive messages.\n\nIn the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context, your app appears in effects in Messages and FaceTime. Therefore, the system limits your app to features that make sense over a photo or video. For instance, a person can’t play an interactive game while taking a photo; however, they can add stickers or images to the picture.\n\n### Specify the supported contexts\n\nTo specify the supported contexts:\n\n1. Open the `Info.plist` file for your Sticker pack or iMessage app extension.\n2. Add the `MSSupportedPresentationContexts` key, using an Array type.\n3. Add String values for the supported contexts. For the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/messages] context, add the `MSMessagesAppPresentationContextMessages` value. For [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media], add `MSMessagesAppPresentationContextMedia`.\n\nYou must specify one of the contexts, but if you specify both contexts, they only present in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context.\n\nFor more information on setting I`nfo.plist` keys, see [https:\/\/help.apple.com\/xcode\/mac\/9.3\/#\/dev3f399a2a6].\n\n### Work with the media context\n\nThe [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context supports only a subset of the features provided by the Messages framework. People can peel stickers from a sticker browser view, and place them in the Messages camera or FaceTime. They can reposition, resize, rotate, or remove stickers from the viewfinder.\n\niMessage apps can also insert stickers or images into the viewfinder using the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-7fpdd] or [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insertAttachment(_:withAlternateFilename:completionHandler:)] methods. However, if the attachment isn’t an image supported by [doc:\/\/com.apple.messages\/documentation\/Messages\/MSSticker], then the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insertAttachment(_:withAlternateFilename:completionHandler:)] method fails with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nAdditionally, you can’t insert interactive messages or text into the media context. You also can’t send items automatically. Therefore, the following methods from the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation] class aren’t available:\n\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insertText(_:completionHandler:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/sendAttachment(_:withAlternateFilename:completionHandler:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/send(_:completionHandler:)-9krz]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/send(_:completionHandler:)-4kje0]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/sendText(_:completionHandler:)]\n\nIf you call these methods, they fail with an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageErrorCode\/apiUnavailableInPresentationContext] error.\n\nAdditionally, because you can’t send or receive interactive messages, the system never calls the following methods in the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context:\n\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/willSelect(_:conversation:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/didSelect(_:conversation:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/didReceive(_:conversation:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/didStartSending(_:conversation:)]\n- [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/didCancelSending(_:conversation:)]\n\nFinally, the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationContext\/media] context is already inside the Messages camera or FaceTime; therefore, you can’t display another camera inside the current viewfinder.\n\n### Detect the current context\n\nUse the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] object’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/presentationContext] property to determine your iMessage app’s current context. Enable only the features that make sense in that context.\n\n```swift\nif presentationContext == .messages {\n    \/\/ The system is presenting your iMessage app inside the Messages app.\n    \/\/ You have full access to the Messages framework.\n    \/\/ You can insert or send stickers, text, attachments, or interactive messages.\n} else if presentationContext == .media {\n    \/\/ The system is presenting your iMessage app in effects.\n    \/\/ You can only insert stickers and images.\n}\n```\n\n## Custom sticker packs\n\n- **Adding your sticker packs to Messages**: Drag and drop your sticker pack into the Stickers asset catalog to let people access your stickers from Messages.\n- **MSStickerBrowserViewController**: A view controller that provides dynamic content to the standard sticker browser.\n- **MSStickerBrowserView**: A browser view that displays a dynamically generated list of stickers.\n- **MSStickerView**: A view for displaying a sticker.\n- **MSStickerSize**: The size of the stickers in the browser view.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Drag and drop your sticker pack into the Stickers asset catalog to let people access your stickers from Messages.",
          "name" : "Adding your sticker packs to Messages",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/adding-your-sticker-packs-to-messages"
        },
        {
          "description" : "A view controller that provides dynamic content to the standard sticker browser.",
          "name" : "MSStickerBrowserViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSStickerBrowserViewController"
        },
        {
          "description" : "A browser view that displays a dynamically generated list of stickers.",
          "name" : "MSStickerBrowserView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSStickerBrowserView"
        },
        {
          "description" : "A view for displaying a sticker.",
          "name" : "MSStickerView",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSStickerView"
        },
        {
          "description" : "The size of the stickers in the browser view.",
          "name" : "MSStickerSize",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSStickerSize"
        }
      ],
      "title" : "Custom sticker packs"
    }
  ],
  "source" : "appleJSON",
  "title" : "Adding Sticker packs and iMessage apps to the system Stickers app, Messages camera, and FaceTime",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/adding-sticker-packs-and-imessage-apps-to-the-system-stickers-app-messages-camera-and-facetime"
}