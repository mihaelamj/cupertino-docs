{
  "abstract" : "Send critical messages from inside your app using the Critical Messaging API.",
  "codeExamples" : [
    {
      "code" : "let manager = MSCriticalSMSMessenger()\n\nlet recipient1 = MSRecipient(phoneNumber: \"18005552222\")\nlet recipient2 = MSRecipient(phoneNumber: \"18005553333\")\nlet recipient3 = MSRecipient(phoneNumber: \"4401539702257\")\n\nlet status = try await manager.requestAuthorization(to recipients: [recipient1, recipient2, recipient3])\nlet status = manager.send(to recipient: recipient1, message: MSCriticalMessage(\"Hello there\"))\n\n\/\/ Handle any error response the system returns.",
      "language" : "swift"
    }
  ],
  "contentHash" : "02898768b675655fcf330092f28e2f6374915ee3df7bbc2b5d82e504475977fb",
  "crawledAt" : "2025-12-03T04:17:44Z",
  "id" : "7B6EFEAE-6B28-411F-BEDE-9A143D0D90D3",
  "kind" : "article",
  "language" : "swift",
  "module" : "Messages",
  "overview" : "## Overview\n\nThe Critical Messaging API provides a way for apps to deliver critical messages to a set of phone numbers. This can serve a number of purposes. For example, if an enterprise wants to receive check-ins from employees working in hazardous or rural environments, being able to automatically message a corporate check-in point may help check the safety of those employees without disrupting their work, or if the employee is unable to access or unlock their iPhone.\n\n### Enable your app to use the Critical Messaging API\n\nAdd the `com.apple.developer.messages.critical-messaging` entitlement to your app’s entitlement file in Xcode. For instructions on how to add this entitlement, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.messages.critical-messaging].\n\nIn addition, add the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSCriticalMessagingUsageDescription] key\nto your app’s `Info.plist` file and provide a usage description for the operating system to display when the framework requests a person’s authorization to use this capability.\n\n### Understand API restrictions and usage limitations\n\nYou app’s use of this API must follow the [https:\/\/developer.apple.com\/support\/terms\/apple-developer-program-license-agreement#other-tech]; additionally the following API limitations and restrictions apply:\n\nA person can change the authorization to send critical messages in Settings, under Privacy & Security > Critical Messaging. Check authorization using [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalSMSMessenger\/checkAuthorizationStatus(for:)] before using this capability.\n\n### Send critical SMS messages from your app\n\nTo send messages from your app, create an instance of the background messaging manager and recipients, request authorization, then send your message. For example:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/critical-messaging-api\ncrawled: 2025-12-03T04:17:44Z\n---\n\n# Sending SMS messages from an app\n\n**Article**\n\nSend critical messages from inside your app using the Critical Messaging API.\n\n## Overview\n\nThe Critical Messaging API provides a way for apps to deliver critical messages to a set of phone numbers. This can serve a number of purposes. For example, if an enterprise wants to receive check-ins from employees working in hazardous or rural environments, being able to automatically message a corporate check-in point may help check the safety of those employees without disrupting their work, or if the employee is unable to access or unlock their iPhone.\n\n### Enable your app to use the Critical Messaging API\n\nAdd the `com.apple.developer.messages.critical-messaging` entitlement to your app’s entitlement file in Xcode. For instructions on how to add this entitlement, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Entitlements\/com.apple.developer.messages.critical-messaging].\n\nIn addition, add the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSCriticalMessagingUsageDescription] key\nto your app’s `Info.plist` file and provide a usage description for the operating system to display when the framework requests a person’s authorization to use this capability.\n\n\n\n### Understand API restrictions and usage limitations\n\nYou app’s use of this API must follow the [https:\/\/developer.apple.com\/support\/terms\/apple-developer-program-license-agreement#other-tech]; additionally the following API limitations and restrictions apply:\n\n1. The [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalSMSMessenger\/send(_:to:)] method only works if the app is backgrounded, if it’s called from foreground the framework returns a [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalMessagingError\/notSupported] error.\n2. The system may impose a rate limit on frequency of messages sent, if usage exceeds this limit the framework returns a  [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalMessagingError\/sendFailed] error.\n3. When providing phone numbers through [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalSMSMessenger\/requestAuthorization(for:)], the Messages framework checks if the phone numbers are part of the user’s contacts and populates the users name in the authorization alert as well as in the Settings page.\n\nA person can change the authorization to send critical messages in Settings, under Privacy & Security > Critical Messaging. Check authorization using [doc:\/\/com.apple.messages\/documentation\/Messages\/MSCriticalSMSMessenger\/checkAuthorizationStatus(for:)] before using this capability.\n\n### Send critical SMS messages from your app\n\nTo send messages from your app, create an instance of the background messaging manager and recipients, request authorization, then send your message. For example:\n\n```swift\nlet manager = MSCriticalSMSMessenger()\n\nlet recipient1 = MSRecipient(phoneNumber: \"18005552222\")\nlet recipient2 = MSRecipient(phoneNumber: \"18005553333\")\nlet recipient3 = MSRecipient(phoneNumber: \"4401539702257\")\n\nlet status = try await manager.requestAuthorization(to recipients: [recipient1, recipient2, recipient3])\nlet status = manager.send(to recipient: recipient1, message: MSCriticalMessage(\"Hello there\"))\n\n\/\/ Handle any error response the system returns.\n```\n\n## Critical messages\n\n- **MSCriticalSMSMessenger**: The user interface for the Critical Messaging API.\n- **MSRecipient**: A structure that describes the recipient of a critical message.\n- **MSCriticalMessage**: MSCriticalMessage A simple struct to encapsulate the message string.\n- **MSCriticalMessagingAuthorizationStatus**: Values that describe the authorization status for the Critical Messaging API.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The user interface for the Critical Messaging API.",
          "name" : "MSCriticalSMSMessenger",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSCriticalSMSMessenger"
        },
        {
          "description" : "A structure that describes the recipient of a critical message.",
          "name" : "MSRecipient",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSRecipient"
        },
        {
          "description" : "MSCriticalMessage A simple struct to encapsulate the message string.",
          "name" : "MSCriticalMessage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSCriticalMessage"
        },
        {
          "description" : "Values that describe the authorization status for the Critical Messaging API.",
          "name" : "MSCriticalMessagingAuthorizationStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSCriticalMessagingAuthorizationStatus"
        }
      ],
      "title" : "Critical messages"
    }
  ],
  "source" : "appleJSON",
  "title" : "Sending SMS messages from an app",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/critical-messaging-api"
}