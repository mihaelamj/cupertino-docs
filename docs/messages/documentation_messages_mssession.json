{
  "abstract" : "A session object used to create and update messages.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSObjectProtocol",
    "NSSecureCoding"
  ],
  "contentHash" : "d122d367f2b0e7d60616c6874cc8f5e16ec7d7d89e115719f80003ee0139eec5",
  "crawledAt" : "2025-12-03T04:17:41Z",
  "declaration" : {
    "code" : "class MSSession",
    "language" : "swift"
  },
  "id" : "486B6B80-7A4B-4BE3-86F6-DDFA13361BEA",
  "kind" : "class",
  "language" : "swift",
  "module" : "Messages",
  "overview" : "## Overview\n\n[doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects associated with a session receive the following treatment in the transcript:\n\n### Create New, Updatable Messages\n\nUse the following workflow to create a new, updatable message.\n\nThe Messages app adds the message to the transcript as soon as the user taps the send button.\n\n### Update Messages\n\nUse the following workflow to receive and update a message.\n\nThe Messages app updates the message in the transcript as soon as the user taps the send button.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/MSSession\ncrawled: 2025-12-03T04:17:41Z\n---\n\n# MSSession\n\n**Class**\n\nA session object used to create and update messages.\n\n## Declaration\n\n```swift\nclass MSSession\n```\n\n## Overview\n\n\n\n[doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects associated with a session receive the following treatment in the transcript:\n\n- The first time a session is used, the message appears normally in the transcript.\n- If a later message is sent using the same session, the previous message is removed from the transcript. The new message, with the updated content, is added to the bottom of the transcript, as normal.\n- If the previous message has a non-`nil` [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/summaryText] property, the Messages app creates a summary message from the text and inserts it in the message’s previous location.\n\n### Create New, Updatable Messages\n\nUse the following workflow to create a new, updatable message.\n\n1. Create the following:\n\n- A new URL that encodes the message’s initial state. For example, you could encode data as key-value pairs in the URL’s query string. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/url] property.\n- A new layout object that describes the initial message’s appearance. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout] property.\n- A string that describes the message’s current state. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/summaryText] property.\n\n1. Instantiate a new [doc:\/\/com.apple.messages\/documentation\/Messages\/MSSession] object by calling its [doc:\/\/com.apple.documentation\/documentation\/ObjectiveC\/NSObject-swift.class\/init()] method.\n2. Instantiate a new [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object by calling its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/init(session:)] method and passing the session object. Set the message’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/url], [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout], and [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/summaryText] properties.\n3. Send the message by calling the conversation’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248] method. Pass `nil` for the change description.\n\nThe Messages app adds the message to the transcript as soon as the user taps the send button.\n\n### Update Messages\n\nUse the following workflow to receive and update a message.\n\n1. When the user taps on one of your [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] entries, the conversation’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/selectedMessage] property is changed to the tapped message. Use key-value observing to respond to these changes. Extract the current state from the message’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/url] property, and present it to the user. For more information on receiving messages, see [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage].\n2. After the user responds, create the following:\n\n- A new URL that encodes the updated message state. For example, you could encode the data as key-value pairs in the URL’s query string. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/url] property.\n- A new layout object that describes the updated message’s appearance. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout] property.\n- A string that describes the message’s current state. For more information, see the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] class’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/summaryText] property.\n\n1. Instantiate a new [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object by calling its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/init(session:)] method and passing the currently selected message’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSSession] object. Set the message’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/url], [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/layout], and [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage\/summaryText] properties.\n2. Send the updated message by calling the conversation’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248] method.\n\nThe Messages app updates the message in the transcript as soon as the user taps the send button.\n\n## Interactive messages\n\n- **MSMessage**: A custom message object.\n- **MSMessageLayout**: An abstract base class that defines the appearance of [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects in the conversation transcript.\n- **MSMessageTemplateLayout**: A template-based layout for custom messages.\n- **MSMessageLiveLayout**: A layout that provides a custom, interactive view inside the transcript.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSObjectProtocol\n- NSSecureCoding\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A custom message object.",
          "name" : "MSMessage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage"
        },
        {
          "description" : "An abstract base class that defines the appearance of [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects in the conversation transcript.",
          "name" : "MSMessageLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLayout"
        },
        {
          "description" : "A template-based layout for custom messages.",
          "name" : "MSMessageTemplateLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageTemplateLayout"
        },
        {
          "description" : "A layout that provides a custom, interactive view inside the transcript.",
          "name" : "MSMessageLiveLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLiveLayout"
        }
      ],
      "title" : "Interactive messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MSSession",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSSession"
}