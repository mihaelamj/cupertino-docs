{
  "abstract" : "A layout that provides a custom, interactive view inside the transcript.",
  "codeExamples" : [
    {
      "code" : "let alternateMessageLayout = MSMessageTemplateLayout()\n\/\/ Configure the template layout here...\n\n\nlet messageLayout = MSMessageLiveLayout(alternateLayout: alternateMessageLayout)\n\nlet message = MSMessage()\nmessage.layout = messageLayout\n\nconversation.send(message) { (errorOrNil) in\n    if let error = errorOrNil {\n        \/\/ Handle the error here...\n    }\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCopying",
    "NSObjectProtocol"
  ],
  "contentHash" : "1870d9a61d00764086357fa369894287c7a98e34b739a818e46dd4fd28db5778",
  "crawledAt" : "2025-12-01T09:07:06Z",
  "declaration" : {
    "code" : "class MSMessageLiveLayout",
    "language" : "swift"
  },
  "id" : "EDEB5D50-6A63-4357-ABEE-4C02A54A05F0",
  "kind" : "class",
  "module" : "Messages",
  "overview" : "## Overview\n\nUse a live layout instance to create custom, interactive messages in the transcript (or input field). An alternative layout is required to represent your message on devices that don’t have your iMessage app installed, or on devices that aren’t running iOS 11 or later. Note: this could be either the receiver’s or the sender’s device; the sender may have a second device that doesn’t have your app installed.\n\nSet the alternative layout when you instantiate your [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageLiveLayout] object. Use an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageTemplateLayout] instance. The template layout automatically provides support for devices that do not support iMessage apps (macOS, iOS 9 and earlier, and SMS devices). See below for an example.\n\nListing 1. Sending a live message.\n\nWhen an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object with a live layout is added to the transcript (or input field), the system instantiates a new instance of your [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] subclass, with its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/presentationStyle] property set to the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationStyle\/transcript] value.\n\nThe view controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/selectedMessage] property is set to the interactive message just before the controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/willBecomeActive(with:)] method is called. Use the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/selectedMessage] property to access the message and display its contents.\n\nThe Messages app renders your controller’s view inside a bubble in the transcript.  Your controller must check its presentation style and display an appropriate user interface for the message. You can define the message’s size by overriding your view controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppTranscriptPresentation\/contentSizeThatFits(_:)] method.\n\nThere can be multiple live messages (from multiple iMessage apps) in the transcript at the same time. This means your app may have multiple instances of its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] subclass running concurrently:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLiveLayout\ncrawled: 2025-12-01T09:07:06Z\n---\n\n# MSMessageLiveLayout\n\n**Class**\n\nA layout that provides a custom, interactive view inside the transcript.\n\n## Declaration\n\n```swift\nclass MSMessageLiveLayout\n```\n\n## Overview\n\nUse a live layout instance to create custom, interactive messages in the transcript (or input field). An alternative layout is required to represent your message on devices that don’t have your iMessage app installed, or on devices that aren’t running iOS 11 or later. Note: this could be either the receiver’s or the sender’s device; the sender may have a second device that doesn’t have your app installed.\n\nSet the alternative layout when you instantiate your [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageLiveLayout] object. Use an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessageTemplateLayout] instance. The template layout automatically provides support for devices that do not support iMessage apps (macOS, iOS 9 and earlier, and SMS devices). See below for an example.\n\nListing 1. Sending a live message.\n\n```swift\nlet alternateMessageLayout = MSMessageTemplateLayout()\n\/\/ Configure the template layout here...\n\n\nlet messageLayout = MSMessageLiveLayout(alternateLayout: alternateMessageLayout)\n\nlet message = MSMessage()\nmessage.layout = messageLayout\n\nconversation.send(message) { (errorOrNil) in\n    if let error = errorOrNil {\n        \/\/ Handle the error here...\n    }\n}\n```\n\nWhen an [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] object with a live layout is added to the transcript (or input field), the system instantiates a new instance of your [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] subclass, with its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/presentationStyle] property set to the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppPresentationStyle\/transcript] value.\n\nThe view controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/selectedMessage] property is set to the interactive message just before the controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController\/willBecomeActive(with:)] method is called. Use the [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/selectedMessage] property to access the message and display its contents.\n\nThe Messages app renders your controller’s view inside a bubble in the transcript.  Your controller must check its presentation style and display an appropriate user interface for the message. You can define the message’s size by overriding your view controller’s [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppTranscriptPresentation\/contentSizeThatFits(_:)] method.\n\nThere can be multiple live messages (from multiple iMessage apps) in the transcript at the same time. This means your app may have multiple instances of its [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessagesAppViewController] subclass running concurrently:\n\n- One instance for each message in the transcript\n- One instance for a message in the input field (when you stage the message by calling [doc:\/\/com.apple.messages\/documentation\/Messages\/MSConversation\/insert(_:completionHandler:)-3g248])\n- One instance for the app’s main interface if your iMessage app is currently active\n\n## Creating Live Layouts\n\n- **init(alternateLayout:)**: Initializes a new live layout using the provided alternate layout.\n\n## Accessing Properties\n\n- **alternateLayout**: A template layout to be displayed when the live layout is unavailable.\n\n## Interactive messages\n\n- **MSMessage**: A custom message object.\n- **MSSession**: A session object used to create and update messages.\n- **MSMessageLayout**: An abstract base class that defines the appearance of [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects in the conversation transcript.\n- **MSMessageTemplateLayout**: A template-based layout for custom messages.\n\n## Inherits From\n\n- MSMessageLayout\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCopying\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Initializes a new live layout using the provided alternate layout.",
          "name" : "init(alternateLayout:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLiveLayout\/init(alternateLayout:)"
        }
      ],
      "title" : "Creating Live Layouts"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A template layout to be displayed when the live layout is unavailable.",
          "name" : "alternateLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLiveLayout\/alternateLayout"
        }
      ],
      "title" : "Accessing Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A custom message object.",
          "name" : "MSMessage",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessage"
        },
        {
          "description" : "A session object used to create and update messages.",
          "name" : "MSSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSSession"
        },
        {
          "description" : "An abstract base class that defines the appearance of [doc:\/\/com.apple.messages\/documentation\/Messages\/MSMessage] objects in the conversation transcript.",
          "name" : "MSMessageLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLayout"
        },
        {
          "description" : "A template-based layout for custom messages.",
          "name" : "MSMessageTemplateLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageTemplateLayout"
        }
      ],
      "title" : "Interactive messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "MSMessageLayout"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MSMessageLiveLayout",
  "url" : "https:\/\/developer.apple.com\/documentation\/Messages\/MSMessageLiveLayout"
}