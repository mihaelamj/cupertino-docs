{
  "abstract" : "Gathers and returns historical motion data for the specified time period",
  "codeExamples" : [

  ],
  "contentHash" : "5c404eec2d4cecd203bd5f146e71d396a7e5c796c0f379c0199c136ea8f0d845",
  "crawledAt" : "2025-12-02T19:16:04Z",
  "declaration" : {
    "code" : "func queryActivityStarting(from start: Date, to end: Date, to queue: OperationQueue, withHandler handler: @escaping CMMotionActivityQueryHandler)",
    "language" : "swift"
  },
  "id" : "A3008C65-E192-4D07-AC04-10DC31C509E0",
  "kind" : "method",
  "language" : "swift",
  "module" : "Core Motion",
  "overview" : "## Discussion\n\nThis method runs asynchronously, returning immediately and delivering the results to the specified `handler` block. A delay of up to several minutes in reported activities is expected.\n\nThe system stores only the last seven days worth of activity data at most. If there are no samples for the specified range of time, an error object with the code [doc:\/\/com.apple.coremotion\/documentation\/CoreMotion\/CMErrorUnknown] is passed to the `handler` block.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CoreMotion\/CMMotionActivityManager\/queryActivityStarting(from:to:to:withHandler:)\ncrawled: 2025-12-02T19:16:04Z\n---\n\n# queryActivityStarting(from:to:to:withHandler:)\n\n**Instance Method**\n\nGathers and returns historical motion data for the specified time period\n\n## Declaration\n\n```swift\nfunc queryActivityStarting(from start: Date, to end: Date, to queue: OperationQueue, withHandler handler: @escaping CMMotionActivityQueryHandler)\n```\n\n## Parameters\n\n- **start**: The start time to use when gathering motion data. This parameter must not be `nil`.\n- **end**: The end time to use when gathering motion data. This parameter must not be `nil`.\n- **queue**: The operation queue on which to execute the specified `handler` block. You can specify a custom queue or use the operation queue associated with your appâ€™s main thread. This parameter must not be `nil`.\n- **handler**: The block to execute with the results. For information about the parameters of this block, see [doc:\/\/com.apple.coremotion\/documentation\/CoreMotion\/CMMotionActivityQueryHandler]. This parameter must not be `nil`.\n\n## Discussion\n\nThis method runs asynchronously, returning immediately and delivering the results to the specified `handler` block. A delay of up to several minutes in reported activities is expected.\n\nThe system stores only the last seven days worth of activity data at most. If there are no samples for the specified range of time, an error object with the code [doc:\/\/com.apple.coremotion\/documentation\/CoreMotion\/CMErrorUnknown] is passed to the `handler` block.\n\n## Getting Historical Activity Data\n\n- **CMMotionActivityQueryHandler**: A block that reports the motion updates that occurred between the specified query interval.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A block that reports the motion updates that occurred between the specified query interval.",
          "name" : "CMMotionActivityQueryHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/CoreMotion\/CMMotionActivityQueryHandler"
        }
      ],
      "title" : "Getting Historical Activity Data"
    }
  ],
  "source" : "appleJSON",
  "title" : "queryActivityStarting(from:to:to:withHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CoreMotion\/CMMotionActivityManager\/queryActivityStarting(from:to:to:withHandler:)"
}