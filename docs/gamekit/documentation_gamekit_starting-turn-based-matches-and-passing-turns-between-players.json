{
  "abstract" : "Let Game Center store and forward match data between players in a turn-based game.",
  "codeExamples" : [
    {
      "code" : "let request = GKMatchRequest()\nrequest.minPlayers = 2\nrequest.maxPlayers = 12",
      "language" : "swift"
    },
    {
      "code" : "let viewController = GKTurnBasedMatchmakerViewController(matchRequest: request)\nviewController.turnBasedMatchmakerDelegate = self",
      "language" : "swift"
    },
    {
      "code" : "GKLocalPlayer.local.register(self)",
      "language" : "swift"
    },
    {
      "code" : "myTurn = GKLocalPlayer.local == match.currentParticipant?.player ? true : false",
      "language" : "swift"
    },
    {
      "code" : "let nextParticipants = match.participants.filter (){\n    ($0.status != .done) || ($0 != match.currentParticipant)\n}",
      "language" : "swift"
    },
    {
      "code" : "try await match.endTurn(withNextParticipants: nextParticipants, turnTimeout: GKTurnTimeoutDefault, match: gameData)",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Get the opponent's name and avatar.\nopponentName = participant.player.displayName\nlet image = try await participant.player.loadPhoto(for: GKPlayer.PhotoSize.small)\nopponentAvatar = Image(uiImage: image)",
      "language" : "swift"
    },
    {
      "code" : "try await match.participantQuitInTurn(with: GKTurnBasedMatch.Outcome.quit, nextParticipants: nextParticipants, turnTimeout: GKTurnTimeoutDefault, match: gameData)",
      "language" : "swift"
    },
    {
      "code" : "try await match.endMatchInTurn(withMatch: match.matchData!)",
      "language" : "swift"
    }
  ],
  "contentHash" : "00ccb51fbb0b00d997052f938eb2473676175cd35343206d46455f113aa518f7",
  "crawledAt" : "2025-12-02T16:11:00Z",
  "id" : "5AC07C68-82CF-4C25-BB5D-F005724F003F",
  "kind" : "article",
  "language" : "swift",
  "module" : "GameKit",
  "overview" : "## Overview\n\nIn a turn-based game, players take turns to advance gameplay, such as in chess, checkers, and similar board games.\n\nThe player who creates a match selects opponents and then takes the first turn. Then you pass the player’s turn, other game data, and the next participant to GameKit. GameKit saves the match data in Game Center, which sends the invitations to the other players. Game Center passes the turn to the next participant who accepts their invitation, until all participants reach an outcome or the match ends.\n\nPlayers can participate in multiple concurrent matches that continue even after players quit a game. Game Center stores open and completed matches until the player explicitly removes them.\n\nYou manage turn-based matches through the GameKit turn-based APIs, specifically by using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch] object that Game Center passes between participants. The match object contains the following information:\n\nFor design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/game-center#Multiplayer].\n\n### Create a match request\n\nFirst, create a [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchRequest] object that contains the parameters of your turn-based game. You can set the number of players, apply groups and attributes to filter the matches, provide an invitation message, and set other criteria.\n\nTo get the maximum number of players Game Center supports for turn-based games, pass [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchType\/turnBased] to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchRequest\/maxPlayersAllowedForMatch(of:)] method.\n\n### Start a turn-based match\n\nLet players create a new match and select opponents by using the provided GameKit turn-based interface. Similar to how the process works in the real-time game interface, the player creates a match by tapping the plus button (+) in the upper-right corner. In the next few screens, the player invites players and, optionally, fills empty slots using automatch.\n\n\n\nIn your code, use the following steps to present the turn-based matchmaker interface:\n\nAlternatively, create your own custom interface, and then programmatically find opponents and accept invitations using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/find(for:withCompletionHandler:)], [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/acceptInvite(completionHandler:)], and [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/declineInvite(completionHandler:)] methods.\n\n### Present the gameplay interface for the player to take their turn\n\nBefore sending invitations to other players, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] protocol method for the local player to take the first turn. Later, GameKit invokes this method each time it becomes the player’s turn until the player reaches an outcome or the match ends. Implement this method to present the gameplay interface that lets the player take their turn.\n\nTo receive the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener] callbacks, conform your game object to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayerListener] protocol and register it with the local player object. Register for callbacks immediately after you initialize the local player because the system brings your game to the foreground or launches it to deliver important turn-based events. For more information about initializing a player, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/authenticating-a-player].\n\nThen implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to perform the following tasks:\n\n### Pass the turn to the next participant\n\nAfter the player takes their turn, pass the turn to the next participant based on your game rules and logic. Implement your game to do the following:\n\nIf this is the first turn in the match, Game Center sends the invitations to other participants and then passes the turn to the next participant who accepts their invitation.\n\nAlternatively, use the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/saveCurrentTurn(withMatch:completionHandler:)] method to save the game data without passing the turn to the next participant. For example, save and forward game data to other participants while the player takes a more complicated, multiple-step turn.\n\n### Accept turn-based match invitations\n\nAfter the first turn, Game Center manages the status of participants for you by sending invitations and continuing to fill empty slots if you use automatch.\n\nTo join the match, a participant taps the Game Center invitation that appears on their device, and then taps the Accept button. If necessary, the system launches your game or brings it to the foreground. The player can also tap the match under New Invitations in the turn-based matchmaker interface when you present it.\n\n\n\nWhen the local player joins a match, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method. Implement this method to show the gameplay interface with the current game data, and if it’s the local player’s turn, let them take it.\n\nOptionally, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:didRequestMatchWithOtherPlayers:)] method to notify the local player when GameKit sends the invitations.\n\n### Display participant details\n\nEnhance your game to show the status, name, and avatar of participants in the match when turn-based events occur. Also, be sure to update your interface when participants decline invitations or forfeit the match.\n\nImplement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to perform the following tasks:\n\n### Open an existing turn-based match\n\nA player can continue a match if they don’t forfeit it when they exit or quit your game. In the turn-based matchmaker interface, the player opens an existing match by selecting it under Your Turn or Their Turn.\n\n\n\nWhen the player selects an open match, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method. Implement this method to present the match using the current game data in the match object, and if it’s the local player’s turn, let them take it.\n\nGameKit also invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method if the player selects an ended match under Completed and then clicks the View Game button on the next screen.\n\n\n\nIf the match [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/status-swift.property] property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Status-swift.enum\/ended], show the outcomes of the participants and the final game data from the match object.\n\nIf you don’t want existing matches to appear in the interface, set the view controller’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController\/showExistingMatches] to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] before presenting it.\n\nAlternatively, implement a custom interface that lets players manage existing matches. Use the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/loadMatches(completionHandler:)] method to load the matches from Game Center.\n\n### Forfeit a turn-based match\n\nA player can forfeit an open match using the turn-based matchmaker interface. The player taps the information button next to a match under Your Turn or Their Turn, and on the next screen, taps the Forfeit button in the upper-right corner. The player can also forfeit a match from the list by sliding the match to the left and tapping the Remove button. Players might also forfeit a match using a control in your gameplay interface.\n\n\n\nGameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method in the game instance of the next participant. If the player removes a match that appears under Completed, GameKit deletes the match from Game Center without notifying your game.\n\nImplement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to update your interface when the status of a participant changes to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/done]. If the local player can’t continue gameplay because the number of active participants drops below the minimum number of players, end the match, as described in the next section.\n\nTo programmatically forfeit a match, call either of the following methods, depending on whether it’s the local player’s turn:\n\nPass [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/quit] as the match outcome. If it’s the local player’s turn, pass an array of next participants and the current game data.\n\nWhen a player forfeits a match, notify participants using the APIs described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games]. Optionally, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:wantsToQuitMatch:)] protocol method to notify players.\n\n### End a turn-based match\n\nYou programmatically end a match depending on your game rules and when participants reach an outcome. You can only end the match when it’s the local player’s turn.\n\nTo end a match, set the outcomes of all the participants in the match object using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/matchOutcome] property. For example, if the local player wins the match, set the current participant’s outcome to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/won] and the other participants’ outcomes to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/lost].\n\nThen call either of the following methods:\n\nOptionally, pass updated game data, leaderboard scores, and achievements. If the game data doesn’t change, you can pass the existing data.\n\nWhen a match ends, notify the participants using the APIs described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games]. Optionally, implement the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:matchEnded:)] protocol method to notify participants.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players\ncrawled: 2025-12-02T16:11:00Z\n---\n\n# Starting turn-based matches and passing turns between players\n\n**Article**\n\nLet Game Center store and forward match data between players in a turn-based game.\n\n## Overview\n\nIn a turn-based game, players take turns to advance gameplay, such as in chess, checkers, and similar board games.\n\nThe player who creates a match selects opponents and then takes the first turn. Then you pass the player’s turn, other game data, and the next participant to GameKit. GameKit saves the match data in Game Center, which sends the invitations to the other players. Game Center passes the turn to the next participant who accepts their invitation, until all participants reach an outcome or the match ends.\n\nPlayers can participate in multiple concurrent matches that continue even after players quit a game. Game Center stores open and completed matches until the player explicitly removes them.\n\nYou manage turn-based matches through the GameKit turn-based APIs, specifically by using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch] object that Game Center passes between participants. The match object contains the following information:\n\n- Status of the match\n- Participants and current participant\n- Status and outcomes of individual participants\n- A message for participants about the most recent turn\n- Your game-specific data\n\nFor design guidance, see [https:\/\/developer.apple.com\/design\/human-interface-guidelines\/game-center#Multiplayer].\n\n\n\n### Create a match request\n\nFirst, create a [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchRequest] object that contains the parameters of your turn-based game. You can set the number of players, apply groups and attributes to filter the matches, provide an invitation message, and set other criteria.\n\n```swift\nlet request = GKMatchRequest()\nrequest.minPlayers = 2\nrequest.maxPlayers = 12\n```\n\nTo get the maximum number of players Game Center supports for turn-based games, pass [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchType\/turnBased] to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchRequest\/maxPlayersAllowedForMatch(of:)] method.\n\n### Start a turn-based match\n\nLet players create a new match and select opponents by using the provided GameKit turn-based interface. Similar to how the process works in the real-time game interface, the player creates a match by tapping the plus button (+) in the upper-right corner. In the next few screens, the player invites players and, optionally, fills empty slots using automatch.\n\n\n\nIn your code, use the following steps to present the turn-based matchmaker interface:\n\n1. Create a [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController] object by passing the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKMatchRequest] object you configure in the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players#Create-a-match-request] section above. Set its delegate to your game object that conforms to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewControllerDelegate] protocol.\n\n```swift\nlet viewController = GKTurnBasedMatchmakerViewController(matchRequest: request)\nviewController.turnBasedMatchmakerDelegate = self\n```\n\n1. Configure the view controller before presenting it. Optionally, set the view controller’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController\/matchmakingMode] property to limit the use of automatch. You can also set [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController\/showExistingMatches] to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] to remove ongoing matches that appear under Your Turn and Their Turn. Otherwise, the player can select an existing match rather than create a new one. For more information about handling existing matches, see the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players#Open-an-existing-turn-based-match] section below.\n2. Implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewControllerDelegate] protocol methods to handle cancellations and errors.\n3. Then, present the turn-based matchmaker view controller to the local player.\n\nAlternatively, create your own custom interface, and then programmatically find opponents and accept invitations using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/find(for:withCompletionHandler:)], [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/acceptInvite(completionHandler:)], and [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/declineInvite(completionHandler:)] methods.\n\n### Present the gameplay interface for the player to take their turn\n\nBefore sending invitations to other players, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] protocol method for the local player to take the first turn. Later, GameKit invokes this method each time it becomes the player’s turn until the player reaches an outcome or the match ends. Implement this method to present the gameplay interface that lets the player take their turn.\n\nTo receive the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener] callbacks, conform your game object to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayerListener] protocol and register it with the local player object. Register for callbacks immediately after you initialize the local player because the system brings your game to the foreground or launches it to deliver important turn-based events. For more information about initializing a player, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/authenticating-a-player].\n\n```swift\nGKLocalPlayer.local.register(self)\n```\n\nThen implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to perform the following tasks:\n\n1. Retain the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch] object that GameKit passes to this method, or retain its [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/matchID] property. During gameplay, get the current match object by passing the match ID to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/loadMatches(completionHandler:)] class method.\n2. Update the gameplay interface by obtaining the latest game data from the match object using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/matchData] property. If it’s the first turn, the game data is `nil`; otherwise, it’s the game data you set when you pass the turn to the next participant.\n3. If the match [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/status-swift.property] property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Status-swift.enum\/open], configure the gameplay interface according to whose turn it is. Use the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/currentParticipant] property to determine whether it’s the local player’s turn.\n\n```swift\nmyTurn = GKLocalPlayer.local == match.currentParticipant?.player ? true : false\n```\n\n1. Present your gameplay interface to the local player.\n\n### Pass the turn to the next participant\n\nAfter the player takes their turn, pass the turn to the next participant based on your game rules and logic. Implement your game to do the following:\n\n1. Create an array of match participants in the order you want Game Center to pass the turn. If communication fails or a participant doesn’t respond, Game Center passes the turn to the next participant in the array. Start with the participants in the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch] object. For example, exclude the current participant and other participants who, for whatever reason, aren’t active.\n\n```swift\nlet nextParticipants = match.participants.filter (){\n    ($0.status != .done) || ($0 != match.currentParticipant)\n}\n```\n\n1. Create a `Data` representation of your game data that GameKit saves and forwards to the next participant. Ensure that the size of the match data doesn’t exceed the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/matchDataMaximumSize] property. For example, use the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSKeyedArchiver] class to convert your game data to a `Data` object.\n2. Call the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/endTurn(withNextParticipants:turnTimeout:match:completionHandler:)] method, passing the next participant’s array, current game data, and optional timeout for the participant to take their turn.\n\n```swift\ntry await match.endTurn(withNextParticipants: nextParticipants, turnTimeout: GKTurnTimeoutDefault, match: gameData)\n```\n\nIf this is the first turn in the match, Game Center sends the invitations to other participants and then passes the turn to the next participant who accepts their invitation.\n\nAlternatively, use the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/saveCurrentTurn(withMatch:completionHandler:)] method to save the game data without passing the turn to the next participant. For example, save and forward game data to other participants while the player takes a more complicated, multiple-step turn.\n\n### Accept turn-based match invitations\n\nAfter the first turn, Game Center manages the status of participants for you by sending invitations and continuing to fill empty slots if you use automatch.\n\nTo join the match, a participant taps the Game Center invitation that appears on their device, and then taps the Accept button. If necessary, the system launches your game or brings it to the foreground. The player can also tap the match under New Invitations in the turn-based matchmaker interface when you present it.\n\n\n\nWhen the local player joins a match, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method. Implement this method to show the gameplay interface with the current game data, and if it’s the local player’s turn, let them take it.\n\nOptionally, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:didRequestMatchWithOtherPlayers:)] method to notify the local player when GameKit sends the invitations.\n\n### Display participant details\n\nEnhance your game to show the status, name, and avatar of participants in the match when turn-based events occur. Also, be sure to update your interface when participants decline invitations or forfeit the match.\n\nImplement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to perform the following tasks:\n\n1. Get the list of all participants using the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/participants] property and get the participant taking their turn using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/currentParticipant] property.\n2. Show when participants accept their invitations and are actively playing using the `GKTurnBasedParticipant` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/status-swift.property] property. During the first turn, the status of other participants is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/matching] because Game Center hasn’t sent the invitations. Later, the status transitions through the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum] possible values until the participant exits the match when the status becomes [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/done].\n3. If the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/status-swift.property] property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/active], display more details that become available using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/player] property. Display the participant’s name using the `GKPlayer` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKPlayer\/displayName] property, and their avatar using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKPlayer\/loadPhoto(for:withCompletionHandler:)] method.\n\n```swift\n\/\/ Get the opponent's name and avatar.\nopponentName = participant.player.displayName\nlet image = try await participant.player.loadPhoto(for: GKPlayer.PhotoSize.small)\nopponentAvatar = Image(uiImage: image)\n```\n\n1. If the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/status-swift.property] property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/done], show the outcome of the participant using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/matchOutcome] property. For example, show whether a participant wins, loses, or forfeits a match.\n\n### Open an existing turn-based match\n\nA player can continue a match if they don’t forfeit it when they exit or quit your game. In the turn-based matchmaker interface, the player opens an existing match by selecting it under Your Turn or Their Turn.\n\n\n\nWhen the player selects an open match, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method. Implement this method to present the match using the current game data in the match object, and if it’s the local player’s turn, let them take it.\n\nGameKit also invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method if the player selects an ended match under Completed and then clicks the View Game button on the next screen.\n\n\n\nIf the match [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/status-swift.property] property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Status-swift.enum\/ended], show the outcomes of the participants and the final game data from the match object.\n\nIf you don’t want existing matches to appear in the interface, set the view controller’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController\/showExistingMatches] to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] before presenting it.\n\nAlternatively, implement a custom interface that lets players manage existing matches. Use the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/loadMatches(completionHandler:)] method to load the matches from Game Center.\n\n### Forfeit a turn-based match\n\nA player can forfeit an open match using the turn-based matchmaker interface. The player taps the information button next to a match under Your Turn or Their Turn, and on the next screen, taps the Forfeit button in the upper-right corner. The player can also forfeit a match from the list by sliding the match to the left and tapping the Remove button. Players might also forfeit a match using a control in your gameplay interface.\n\n\n\nGameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method in the game instance of the next participant. If the player removes a match that appears under Completed, GameKit deletes the match from Game Center without notifying your game.\n\nImplement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method to update your interface when the status of a participant changes to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/Status-swift.enum\/done]. If the local player can’t continue gameplay because the number of active participants drops below the minimum number of players, end the match, as described in the next section.\n\nTo programmatically forfeit a match, call either of the following methods, depending on whether it’s the local player’s turn:\n\n- [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/participantQuitInTurn(with:nextParticipants:turnTimeout:match:completionHandler:)]\n- [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/participantQuitOutOfTurn(with:withCompletionHandler:)]\n\nPass [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/quit] as the match outcome. If it’s the local player’s turn, pass an array of next participants and the current game data.\n\n```swift\ntry await match.participantQuitInTurn(with: GKTurnBasedMatch.Outcome.quit, nextParticipants: nextParticipants, turnTimeout: GKTurnTimeoutDefault, match: gameData)\n```\n\nWhen a player forfeits a match, notify participants using the APIs described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games]. Optionally, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:wantsToQuitMatch:)] protocol method to notify players.\n\n### End a turn-based match\n\nYou programmatically end a match depending on your game rules and when participants reach an outcome. You can only end the match when it’s the local player’s turn.\n\nTo end a match, set the outcomes of all the participants in the match object using the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedParticipant\/matchOutcome] property. For example, if the local player wins the match, set the current participant’s outcome to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/won] and the other participants’ outcomes to [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/Outcome\/lost].\n\nThen call either of the following methods:\n\n- [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/endMatchInTurn(withMatch:completionHandler:)]\n- [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/endMatchInTurn(withMatch:leaderboardScores:achievements:completionHandler:)]\n\nOptionally, pass updated game data, leaderboard scores, and achievements. If the game data doesn’t change, you can pass the existing data.\n\n```swift\ntry await match.endMatchInTurn(withMatch: match.matchData!)\n```\n\nWhen a match ends, notify the participants using the APIs described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games]. Optionally, implement the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:matchEnded:)] protocol method to notify participants.\n\n## Turn-based games\n\n- **Creating turn-based games**: Develop games where multiple players take turns and can exchange data while waiting for their turn.\n- **Sending messages to players in turn-based games**: Notify players of match events by sending messages and game data.\n- **Exchanging data between players in turn-based games**: Add the ability for players to exchange game data and send messages while waiting for their turns.\n- **GKTurnBasedMatchmakerViewController**: An interface that allows a player to invite other players to a turn-based match and automatch to fill any empty slots.\n- **GKTurnBasedMatch**: An object that encapsulates the match data for games where players take turns.\n- **GKTurnBasedParticipant**: A participant in a turn-based match.\n- **GKTurnBasedEventListener**: The protocol that handles turn-based and data-exchange events between participants in a match.\n- **GKTurnBasedExchange**: Exchange request information that participants send in a turn-based match.\n- **GKTurnBasedExchangeReply**: Details about a recipient’s response to an exchange request.\n- **GKGameCenterBadgingDisabled**: A Boolean value indicating whether GameKit can add badges to a turn-based game icon.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Develop games where multiple players take turns and can exchange data while waiting for their turn.",
          "name" : "Creating turn-based games",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/creating-turn-based-games"
        },
        {
          "description" : "Notify players of match events by sending messages and game data.",
          "name" : "Sending messages to players in turn-based games",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games"
        },
        {
          "description" : "Add the ability for players to exchange game data and send messages while waiting for their turns.",
          "name" : "Exchanging data between players in turn-based games",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/exchanging-data-between-players-in-turn-based-games"
        },
        {
          "description" : "An interface that allows a player to invite other players to a turn-based match and automatch to fill any empty slots.",
          "name" : "GKTurnBasedMatchmakerViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController"
        },
        {
          "description" : "An object that encapsulates the match data for games where players take turns.",
          "name" : "GKTurnBasedMatch",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedMatch"
        },
        {
          "description" : "A participant in a turn-based match.",
          "name" : "GKTurnBasedParticipant",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedParticipant"
        },
        {
          "description" : "The protocol that handles turn-based and data-exchange events between participants in a match.",
          "name" : "GKTurnBasedEventListener",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedEventListener"
        },
        {
          "description" : "Exchange request information that participants send in a turn-based match.",
          "name" : "GKTurnBasedExchange",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedExchange"
        },
        {
          "description" : "Details about a recipient’s response to an exchange request.",
          "name" : "GKTurnBasedExchangeReply",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedExchangeReply"
        },
        {
          "description" : "A Boolean value indicating whether GameKit can add badges to a turn-based game icon.",
          "name" : "GKGameCenterBadgingDisabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/GKGameCenterBadgingDisabled"
        }
      ],
      "title" : "Turn-based games"
    }
  ],
  "source" : "appleJSON",
  "title" : "Starting turn-based matches and passing turns between players",
  "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players"
}