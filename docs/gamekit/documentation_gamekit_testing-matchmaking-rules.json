{
  "abstract" : "Test your matchmaking rules before you use them in your game.",
  "codeExamples" : [
    {
      "code" : "\"included\": [\n        {\n            \"type\": \"gameCenterMatchmakingTestRequests\",\n            \"id\": \"${r1}\",\n            \"attributes\": {\n                \"requestName\": \"r1\",\n                \"appVersion\": \"1.0.0\",\n                \"bundleId\": \"com.example.mygame\",\n                \"platform\": \"IOS\",\n                \"secondsInQueue\": 0\n            },\n            \"relationships\": {\n                \"matchmakingPlayerProperties\": {\n                    \"data\": [\n                        {\n                            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n                            \"id\": \"${r1_p1}\"\n                        }\n                    ]\n                }\n            }\n        },\n        {\n            \"type\": \"gameCenterMatchmakingTestRequests\",\n            \"id\": \"${r2}\",\n            \"attributes\": {\n                \"requestName\": \"r2\",\n                \"appVersion\": \"1.0.0\",\n                \"bundleId\": \"com.example.mygame\",\n                \"platform\": \"IOS\",\n                \"secondsInQueue\": 0\n            },\n            \"relationships\": {\n                \"matchmakingPlayerProperties\": {\n                    \"data\": [\n                        {\n                            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n                            \"id\": \"${r2_p1}\"\n                        }\n                    ]\n                }\n            }\n        },\n...",
      "language" : "json"
    },
    {
      "code" : "...\n        {\n            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n            \"id\": \"${r1_p1}\",\n            \"attributes\": {\n                \"properties\": [\n                    {\n                        \"key\": \"partyCode\",\n                        \"value\": \"\\\"Q1R5A6T9\\\"\"\n                    }\n                ],\n                \"playerId\": \"r1_p1\"\n            }\n        },\n        {\n            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n            \"id\": \"${r2_p1}\",\n            \"attributes\": {\n                \"properties\": [\n                    {\n                        \"key\": \"partyCode\",\n                        \"value\": \"\\\"Q1R5A6T9\\\"\"\n                    }\n                ],\n                \"playerId\": \"r2_p1\"\n            }\n        }\n    ]\n}",
      "language" : "json"
    },
    {
      "code" : "POST \/v1\/gameCenterMatchmakingRuleSetTests\n{\n    \"data\": {\n        \"type\": \"gameCenterMatchmakingRuleSetTests\",\n        \"attributes\": {},\n        \"relationships\": {\n            \"matchmakingRuleSet\": {\n                \"data\": {\n                    \"type\": \"gameCenterMatchmakingRuleSets\",\n                    \"id\": \"9e313753-2b8a-4762-b941-26f30c4184d2\"\n                }\n            },\n            \"matchmakingRequests\": {\n                \"data\": [\n                    {\n                        \"type\": \"gameCenterMatchmakingTestRequests\",\n                        \"id\": \"${r1}\"\n                    },\n                    {\n                        \"type\": \"gameCenterMatchmakingTestRequests\",\n                        \"id\": \"${r2}\"\n                    }\n                ]\n            }\n        }\n    },\n    \"included\": [...}\n}",
      "language" : "json"
    },
    {
      "code" : "{\n    \"data\": {\n        \"type\": \"gameCenterMatchmakingRuleSetTests\",\n        \"attributes\": {\n            \"matchmakingResults\": [\n                [\n                    {\n                        \"requestName\": \"r1\",\n                        \"teamAssignments\": null\n                    },\n                    {\n                        \"requestName\": \"r2\",\n                        \"teamAssignments\": null\n                    }\n                ]\n            ]\n        },\n...",
      "language" : "json"
    }
  ],
  "contentHash" : "e7fdfbac9dcce91abeb877225b67467c8d73a77fc9e16015ce1297b0d4676d40",
  "crawledAt" : "2025-12-02T19:33:59Z",
  "id" : "F4EEA0AA-19EA-4684-A6DD-278A5498922D",
  "kind" : "article",
  "language" : "swift",
  "module" : "GameKit",
  "overview" : "## Overview\n\nBefore you write any code, you can test your matchmaking rules on the server side to ensure that they find compatible players without long wait times. You pass the rule set and sample match requests to the test API, and it responds with the match results.\n\nTo download a script that helps test your matchmaking rules, see [https:\/\/github.com\/apple\/game-center-tools]. For examples using the script, see [https:\/\/developer.apple.com\/videos\/play\/tech-talks\/111376\/].\n\n### Create sample match requests\n\nCreate an array of [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate] objects that represent sample match requests. Set the `type` field to `gameCenterMatchmakingTestRequests` and the `id` field to a unique identifier for the match request.\n\nThe `attributes` field has the same fields as the `Request` object that you use in expressions. Set the required `requestName` field to a unique string and the `bundleId` field to your game’s bundle identifier. Set the `platform` and `appVersion` fields to appropriate values, such as `1.0` and `IOS`. Set the `secondsInQueue` field to `0` unless you want to test rules with different match request ages.\n\nIn the `relationships` field, include resource objects for any game-specific properties that you use in the expressions. For example, if you’re testing party code rules, described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/letting-players-join-matches-using-party-codes], add a [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate\/Relationships-data.dictionary\/MatchmakingPlayerProperties-data.dictionary] object to each match request.\n\nThen append a corresponding [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestPlayerPropertyInlineCreate] object for each of the match request. In the `attributes` field, provide a key-value pair for each property, such as the `partyCode` property.\n\n### Test the matchmaking rules\n\nApply the matchmaking rules by passing the associated rule set and the sample match requests to the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/POST-v1-gameCenterMatchmakingRuleSetTests] endpoint. Pass the rule set `id` using the `matchmakingRuleSet` field and pass resource objects representing the match requests in the `matchmakingRequests` field. Then pass the array of [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate] and [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestPlayerPropertyInlineCreate] objects, that you create above, in the `included` field.\n\nThe endpoint response contains the matchmaking results. Parse the `matchmakingResults` array in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingRuleSetTest\/Attributes-data.dictionary] object. If the rule set contains team rules, the team assignments appear in the `teamAssignments` field of the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingRuleSetTest\/Attributes-data.dictionary\/MatchmakingResults-data.dictionary] object.\n\nTo create a rule set, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/finding-players-using-matchmaking-rules#Create-rule-sets-that-contain-the-matchmaking-rules], and to create team rules, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/assigning-players-to-teams-using-rules].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/GameKit\/testing-matchmaking-rules\ncrawled: 2025-12-02T19:33:59Z\n---\n\n# Testing matchmaking rules\n\n**Article**\n\nTest your matchmaking rules before you use them in your game.\n\n## Overview\n\nBefore you write any code, you can test your matchmaking rules on the server side to ensure that they find compatible players without long wait times. You pass the rule set and sample match requests to the test API, and it responds with the match results.\n\nTo download a script that helps test your matchmaking rules, see [https:\/\/github.com\/apple\/game-center-tools]. For examples using the script, see [https:\/\/developer.apple.com\/videos\/play\/tech-talks\/111376\/].\n\n### Create sample match requests\n\nCreate an array of [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate] objects that represent sample match requests. Set the `type` field to `gameCenterMatchmakingTestRequests` and the `id` field to a unique identifier for the match request.\n\nThe `attributes` field has the same fields as the `Request` object that you use in expressions. Set the required `requestName` field to a unique string and the `bundleId` field to your game’s bundle identifier. Set the `platform` and `appVersion` fields to appropriate values, such as `1.0` and `IOS`. Set the `secondsInQueue` field to `0` unless you want to test rules with different match request ages.\n\n```json\n\"included\": [\n        {\n            \"type\": \"gameCenterMatchmakingTestRequests\",\n            \"id\": \"${r1}\",\n            \"attributes\": {\n                \"requestName\": \"r1\",\n                \"appVersion\": \"1.0.0\",\n                \"bundleId\": \"com.example.mygame\",\n                \"platform\": \"IOS\",\n                \"secondsInQueue\": 0\n            },\n            \"relationships\": {\n                \"matchmakingPlayerProperties\": {\n                    \"data\": [\n                        {\n                            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n                            \"id\": \"${r1_p1}\"\n                        }\n                    ]\n                }\n            }\n        },\n        {\n            \"type\": \"gameCenterMatchmakingTestRequests\",\n            \"id\": \"${r2}\",\n            \"attributes\": {\n                \"requestName\": \"r2\",\n                \"appVersion\": \"1.0.0\",\n                \"bundleId\": \"com.example.mygame\",\n                \"platform\": \"IOS\",\n                \"secondsInQueue\": 0\n            },\n            \"relationships\": {\n                \"matchmakingPlayerProperties\": {\n                    \"data\": [\n                        {\n                            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n                            \"id\": \"${r2_p1}\"\n                        }\n                    ]\n                }\n            }\n        },\n...\n```\n\nIn the `relationships` field, include resource objects for any game-specific properties that you use in the expressions. For example, if you’re testing party code rules, described in [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/letting-players-join-matches-using-party-codes], add a [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate\/Relationships-data.dictionary\/MatchmakingPlayerProperties-data.dictionary] object to each match request.\n\nThen append a corresponding [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestPlayerPropertyInlineCreate] object for each of the match request. In the `attributes` field, provide a key-value pair for each property, such as the `partyCode` property.\n\n```json\n...\n        {\n            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n            \"id\": \"${r1_p1}\",\n            \"attributes\": {\n                \"properties\": [\n                    {\n                        \"key\": \"partyCode\",\n                        \"value\": \"\\\"Q1R5A6T9\\\"\"\n                    }\n                ],\n                \"playerId\": \"r1_p1\"\n            }\n        },\n        {\n            \"type\": \"gameCenterMatchmakingTestPlayerProperties\",\n            \"id\": \"${r2_p1}\",\n            \"attributes\": {\n                \"properties\": [\n                    {\n                        \"key\": \"partyCode\",\n                        \"value\": \"\\\"Q1R5A6T9\\\"\"\n                    }\n                ],\n                \"playerId\": \"r2_p1\"\n            }\n        }\n    ]\n}\n```\n\n### Test the matchmaking rules\n\nApply the matchmaking rules by passing the associated rule set and the sample match requests to the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/POST-v1-gameCenterMatchmakingRuleSetTests] endpoint. Pass the rule set `id` using the `matchmakingRuleSet` field and pass resource objects representing the match requests in the `matchmakingRequests` field. Then pass the array of [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestRequestInlineCreate] and [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingTestPlayerPropertyInlineCreate] objects, that you create above, in the `included` field.\n\n```json\nPOST \/v1\/gameCenterMatchmakingRuleSetTests\n{\n    \"data\": {\n        \"type\": \"gameCenterMatchmakingRuleSetTests\",\n        \"attributes\": {},\n        \"relationships\": {\n            \"matchmakingRuleSet\": {\n                \"data\": {\n                    \"type\": \"gameCenterMatchmakingRuleSets\",\n                    \"id\": \"9e313753-2b8a-4762-b941-26f30c4184d2\"\n                }\n            },\n            \"matchmakingRequests\": {\n                \"data\": [\n                    {\n                        \"type\": \"gameCenterMatchmakingTestRequests\",\n                        \"id\": \"${r1}\"\n                    },\n                    {\n                        \"type\": \"gameCenterMatchmakingTestRequests\",\n                        \"id\": \"${r2}\"\n                    }\n                ]\n            }\n        }\n    },\n    \"included\": [...}\n}\n```\n\nThe endpoint response contains the matchmaking results. Parse the `matchmakingResults` array in the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingRuleSetTest\/Attributes-data.dictionary] object. If the rule set contains team rules, the team assignments appear in the `teamAssignments` field of the [doc:\/\/com.apple.documentation\/documentation\/AppStoreConnectAPI\/GameCenterMatchmakingRuleSetTest\/Attributes-data.dictionary\/MatchmakingResults-data.dictionary] object.\n\n```json\n{\n    \"data\": {\n        \"type\": \"gameCenterMatchmakingRuleSetTests\",\n        \"attributes\": {\n            \"matchmakingResults\": [\n                [\n                    {\n                        \"requestName\": \"r1\",\n                        \"teamAssignments\": null\n                    },\n                    {\n                        \"requestName\": \"r2\",\n                        \"teamAssignments\": null\n                    }\n                ]\n            ]\n        },\n...\n```\n\nTo create a rule set, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/finding-players-using-matchmaking-rules#Create-rule-sets-that-contain-the-matchmaking-rules], and to create team rules, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/assigning-players-to-teams-using-rules].\n\n## Testing\n\n- **Troubleshooting matchmaking rules using metrics**: Investigate issues with Game Center by evaluating your matchmaking rules using metrics endpoints.\n- **Testing rule sets with player traffic using metrics**: Get metrics on a new rule set with real match requests before releasing it.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Investigate issues with Game Center by evaluating your matchmaking rules using metrics endpoints.",
          "name" : "Troubleshooting matchmaking rules using metrics",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/troubleshooting-matchmaking-rules-using-metrics"
        },
        {
          "description" : "Get metrics on a new rule set with real match requests before releasing it.",
          "name" : "Testing rule sets with player traffic using metrics",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/testing-rule-sets-with-player-traffic-using-metrics"
        }
      ],
      "title" : "Testing"
    }
  ],
  "source" : "appleJSON",
  "title" : "Testing matchmaking rules",
  "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/testing-matchmaking-rules"
}