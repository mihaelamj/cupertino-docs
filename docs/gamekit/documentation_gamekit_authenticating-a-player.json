{
  "abstract" : "Confirm player credentials and device capabilities and check for account restrictions.",
  "codeExamples" : [
    {
      "code" : "GKLocalPlayer.local.authenticateHandler = { viewController, error in\n   \/\/ Handle the initialization callbacks.\n}",
      "language" : "swift"
    },
    {
      "code" : "GKLocalPlayer.local.authenticateHandler = { viewController, error in\n    if let viewController = viewController {\n        \/\/ Present the view controller so the player can sign in.\n        return\n    }\n    if error != nil {\n        \/\/ Player is not available\n        \/\/ Disable Game Center in the game.\n        return        \n    }\n    \n    \/\/ Player is available.\n    \/\/ Check if there are any player restrictions before starting the game.\n            \n    if GKLocalPlayer.local.isUnderage {\n        \/\/ Hide explicit game content.\n    }\n\n    if GKLocalPlayer.local.isMultiplayerGamingRestricted {\n        \/\/ Disable multiplayer game features.\n    } \n\n    if GKLocalPlayer.local.isPersonalizedCommunicationRestricted {\n        \/\/ Disable in game communication UI.\n    }\n    \n    \/\/ Perform any other configurations as needed (for example, access point).\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "3c4e46770b2a3f79b80bb968cea5da242a0edd1bd91c7b891e6d851244acf1ed",
  "crawledAt" : "2025-12-03T12:25:23Z",
  "id" : "E54E439C-5305-460A-81C0-3F9DD59D4D92",
  "kind" : "article",
  "language" : "swift",
  "module" : "GameKit",
  "overview" : "## Overview\n\nTo identify themselves and access their game data from all their devices, players create a Game Center account that includes a profile with an avatar and nickname. A single account allows players to sign in to Game Center once and use the same credentials for all Game Center games on their device.\n\nIn the GameKit framework, you use player objects to post scores, award achievements, build leaderboards, and start multiplayer games. The *local player* ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer]) represents the user playing your game and other *players* ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKPlayer]) may be friends, recent matches, or global players of your and other games.\n\nBefore you access any Game Center data, you must verify that the local player signed in to Game Center on the device. Check if the player has any account restrictions and adjust your game accordingly. On Apple TV, your game can also support the ability to switch between user accounts.\n\n### Initialize the local player\n\nIn your game, you need to initialize the local player before you can use any GameKit APIs and Game Center services. Game Center verifies the credentials of the player and ensures their account is ready for use. Game Center also checks whether you configured your game for Game Center.\n\nTo initialize the user, set the handler ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/authenticateHandler]) on the shared instance of [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer] that represents the player of your game as in:\n\nGameKit calls the handler, possibly several times, for the following cases:\n\n### Check for restrictions\n\nBefore starting a game, check the local player’s account for restrictions and disable or hide features and content accordingly.\n\nCheck if there are any restrictions in the handler when the player signs in to Game Center. In addition to checking whether the player is underage ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isUnderage]) or not allowed to play multiplayer games ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isMultiplayerGamingRestricted]), check for any communication restrictions ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isPersonalizedCommunicationRestricted]).\n\nIf the `isPersonalizedCommunicationRestricted` property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], then the player isn’t allowed to use voice or messaging features during a multiplayer game. If your game includes any custom communication features, you should disable them. Note that if the player is underage, this property is always [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\n### Support user switching\n\nMultiple people can sign in to their accounts on a single Apple TV and you can allow players to run your game on Apple TV using their individual Game Center account. After you configure your app, add code to support user switching; otherwise, the system runs your game as the default user.\n\nTo support user switching, add the User Management capability to your app in Xcode. In the project editor, select the target, click the Signing & Capabilities tab, click the Library button (+), and then double-click the User Management capability or drag it to the Signing & Capabilities pane. Under User Management in the Signing & Capabilities pane, select Run as Current User. This entitlement grants your game access to the current user’s Game Center data.\n\n\n\nWhen the user switches on Apple TV, the system relaunches your game. To save game data if the users switch while your game is in the foreground, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationWillTerminate(_:)] method. To save data when the user switches to another app, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationWillResignActive(_:)] method.\n\nWhen the system relaunches your game, GameKit passes the new user to the handler you use to initialize Game Center. For more information on user switching, see [doc:\/\/com.apple.documentation\/documentation\/TVServices\/personalizing-your-app-for-each-user-on-apple-tv].",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/gamekit\/authenticating-a-player\ncrawled: 2025-12-03T12:25:23Z\n---\n\n# Authenticating a player\n\n**Article**\n\nConfirm player credentials and device capabilities and check for account restrictions.\n\n## Overview\n\nTo identify themselves and access their game data from all their devices, players create a Game Center account that includes a profile with an avatar and nickname. A single account allows players to sign in to Game Center once and use the same credentials for all Game Center games on their device.\n\nIn the GameKit framework, you use player objects to post scores, award achievements, build leaderboards, and start multiplayer games. The *local player* ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer]) represents the user playing your game and other *players* ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKPlayer]) may be friends, recent matches, or global players of your and other games.\n\nBefore you access any Game Center data, you must verify that the local player signed in to Game Center on the device. Check if the player has any account restrictions and adjust your game accordingly. On Apple TV, your game can also support the ability to switch between user accounts.\n\n### Initialize the local player\n\nIn your game, you need to initialize the local player before you can use any GameKit APIs and Game Center services. Game Center verifies the credentials of the player and ensures their account is ready for use. Game Center also checks whether you configured your game for Game Center.\n\nTo initialize the user, set the handler ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/authenticateHandler]) on the shared instance of [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer] that represents the player of your game as in:\n\n```swift\nGKLocalPlayer.local.authenticateHandler = { viewController, error in\n   \/\/ Handle the initialization callbacks.\n}\n```\n\n\n\nGameKit calls the handler, possibly several times, for the following cases:\n\n- If the local player needs to perform some action, GameKit passes a view controller that you must present to the player to complete initialization.\n- If the player successfully signs in, GameKit sets the local player’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isAuthenticated] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and calls the handler again, this time passing `nil` for both the view controller and error parameters. You can then start the game.\n- If the player decides not to sign in or create a Game Center account, GameKit sets the local player’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isAuthenticated] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] and calls the handler again by passing an error that indicates the reason the player isn’t available. In this case, disable Game Center in your game.\n- If the local player previously signed in on the device when you set the handler, GameKit sets the local player’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isAuthenticated] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and passes `nil` for both the view controller and error parameters, and you can start the game.\n\n### Check for restrictions\n\nBefore starting a game, check the local player’s account for restrictions and disable or hide features and content accordingly.\n\nCheck if there are any restrictions in the handler when the player signs in to Game Center. In addition to checking whether the player is underage ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isUnderage]) or not allowed to play multiplayer games ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isMultiplayerGamingRestricted]), check for any communication restrictions ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKLocalPlayer\/isPersonalizedCommunicationRestricted]).\n\n```swift\nGKLocalPlayer.local.authenticateHandler = { viewController, error in\n    if let viewController = viewController {\n        \/\/ Present the view controller so the player can sign in.\n        return\n    }\n    if error != nil {\n        \/\/ Player is not available\n        \/\/ Disable Game Center in the game.\n        return        \n    }\n    \n    \/\/ Player is available.\n    \/\/ Check if there are any player restrictions before starting the game.\n            \n    if GKLocalPlayer.local.isUnderage {\n        \/\/ Hide explicit game content.\n    }\n\n    if GKLocalPlayer.local.isMultiplayerGamingRestricted {\n        \/\/ Disable multiplayer game features.\n    } \n\n    if GKLocalPlayer.local.isPersonalizedCommunicationRestricted {\n        \/\/ Disable in game communication UI.\n    }\n    \n    \/\/ Perform any other configurations as needed (for example, access point).\n}\n```\n\nIf the `isPersonalizedCommunicationRestricted` property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], then the player isn’t allowed to use voice or messaging features during a multiplayer game. If your game includes any custom communication features, you should disable them. Note that if the player is underage, this property is always [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\n### Support user switching\n\nMultiple people can sign in to their accounts on a single Apple TV and you can allow players to run your game on Apple TV using their individual Game Center account. After you configure your app, add code to support user switching; otherwise, the system runs your game as the default user.\n\nTo support user switching, add the User Management capability to your app in Xcode. In the project editor, select the target, click the Signing & Capabilities tab, click the Library button (+), and then double-click the User Management capability or drag it to the Signing & Capabilities pane. Under User Management in the Signing & Capabilities pane, select Run as Current User. This entitlement grants your game access to the current user’s Game Center data.\n\n\n\nWhen the user switches on Apple TV, the system relaunches your game. To save game data if the users switch while your game is in the foreground, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationWillTerminate(_:)] method. To save data when the user switches to another app, implement the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/applicationWillResignActive(_:)] method.\n\nWhen the system relaunches your game, GameKit passes the new user to the handler you use to initialize Game Center. For more information on user switching, see [doc:\/\/com.apple.documentation\/documentation\/TVServices\/personalizing-your-app-for-each-user-on-apple-tv].\n\n## Essentials\n\n- **Initializing and configuring Game Center**: Enable Game Center, configure features, and test them locally in your Xcode project.\n- **Improving the player experience for games with large downloads**: Provide ample content in your base installation and then use on-demand resources and the Background Assets API to handle additional content.\n- **Game Center Entitlement**: A Boolean value that indicates whether users of the app may see and compare achievements on a leaderboard, invite friends, and start multiplayer games.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Enable Game Center, configure features, and test them locally in your Xcode project.",
          "name" : "Initializing and configuring Game Center",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/initializing-and-configuring-game-center"
        },
        {
          "description" : "Provide ample content in your base installation and then use on-demand resources and the Background Assets API to handle additional content.",
          "name" : "Improving the player experience for games with large downloads",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/improving-the-player-experience-for-games-with-large-downloads"
        },
        {
          "description" : "A Boolean value that indicates whether users of the app may see and compare achievements on a leaderboard, invite friends, and start multiplayer games.",
          "name" : "Game Center Entitlement",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.game-center"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Authenticating a player",
  "url" : "https:\/\/developer.apple.com\/documentation\/gamekit\/authenticating-a-player"
}