{
  "abstract" : "Add the ability for players to exchange game data and send messages while waiting for their turns.",
  "codeExamples" : [
    {
      "code" : "GKLocalPlayer.local.register(self)",
      "language" : "swift"
    },
    {
      "code" : "try await match.sendExchange(to: participants, data: data!, localizableMessageKey: \n   \"This is my exchange request.\", arguments: [], timeout: GKTurnTimeoutDefault)",
      "language" : "swift"
    },
    {
      "code" : "try await exchange.cancel(withLocalizableMessageKey: \"I'm canceling the exchange request.\", arguments: [])",
      "language" : "swift"
    }
  ],
  "contentHash" : "63444594f381cf617db1c828f1fb913fd1578a9f47a4e15a7aba81215a894dd7",
  "crawledAt" : "2025-12-02T15:52:11Z",
  "id" : "8AC8AEDF-3E2B-41A1-88CA-8DE973ACADEB",
  "kind" : "article",
  "language" : "swift",
  "module" : "GameKit",
  "overview" : "## Overview\n\nYou can increase engagement in turn-based games by letting participants communicate and exchange data while they wait for the current participant to take their turn.\n\nTo implement this feature, provide an interface in your game where participants can communicate — for example, exchange items in the game. Then initiate an exchange request from the user of your game instance, called the *local player*, to one or more recipients. GameKit handles the requests between participants and the status of the exchange object as participants reply. You implement protocol methods to accept exchanges, display results, and save completed exchanges. When you save completed exchanges, GameKit notifies all other participants.\n\nTo receive the protocol messages, register as a listener of the local player, and conform to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener] protocol. For more information, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players].\n\n### Send exchange requests\n\nAny participant, including the current participant who is taking their turn, can send an exchange request to one or more other participants. When sending an exchange request, you pass the recipients, the game-specific exchange data, and a localized message to the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/sendExchange(to:data:localizableMessageKey:arguments:timeout:completionHandler:)] method.\n\nIn the exchange data, provide enough game-specific information for recipients to decide whether to accept or decline the request.\n\nTo localize the message, add the key you pass and a placeholder translation to a `.strings` file in your project (for example, the default `Localizable.strings` file). For more information about adapting your game for different languages and regions, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/localization].\n\n### Respond to exchange requests\n\nWhen a recipient receives an exchange request, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeRequest:for:)] protocol method, passing the exchange object. If your game isn’t running or is in the background, GameKit displays a notification containing the localized message first. When the recipient taps the notification, GameKit launches your game or brings your game back to the foreground, and then invokes the method.\n\nTo accept or decline the exchange request on behalf of the participant, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeRequest:for:)] method using the following steps:\n\n### Save completed exchanges\n\nWhen all recipients reply to an exchange request or requests time out, GameKit invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeReplies:forCompletedExchange:for:)] method in the current participant’s game instance and the original sender’s game instance.\n\nGameKit passes the exchange object with the status property of [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeStatus\/complete] and the recipient details ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeReply] objects) in the `replies` parameter. Optionally, present the replies along with their messages and exchange data to the original sender.\n\nIf the local player is the current participant, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeReplies:forCompletedExchange:for:)] method to resolve and save the exchange data. Also, save completed exchanges before the current participant ends their turn, forfeits the match, or ends the match.\n\nOnly the current participant can invoke the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/saveMergedMatch(_:withResolvedExchanges:completionHandler:)] method, even if the current participant isn’t involved in the exchanges.\n\n### Display exchange results\n\nWhen the current participant saves completed exchanges with match data, GameKit invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method in each participant game instance. Implement this method to present the new match data, including the exchange data. For example, show the items that transfer between participants and recipient reply messages.\n\n### Cancel exchange requests\n\nYou can cancel an exchange request anytime before the current participant saves it and the status property becomes [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeStatus\/resolved]. To cancel an exchange request, use the `GKTurnBasedExchange` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange\/cancel(withLocalizableMessageKey:arguments:completionHandler:)] method. Pass a localizable message that GameKit displays in a notification if the recipient isn’t running your game or it’s in the background.\n\nTo update the gameplay interface and display the message when a participant cancels an exchange request, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeCancellation:for:)] protocol method.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/GameKit\/exchanging-data-between-players-in-turn-based-games\ncrawled: 2025-12-02T15:52:11Z\n---\n\n# Exchanging data between players in turn-based games\n\n**Article**\n\nAdd the ability for players to exchange game data and send messages while waiting for their turns.\n\n## Overview\n\nYou can increase engagement in turn-based games by letting participants communicate and exchange data while they wait for the current participant to take their turn.\n\nTo implement this feature, provide an interface in your game where participants can communicate — for example, exchange items in the game. Then initiate an exchange request from the user of your game instance, called the *local player*, to one or more recipients. GameKit handles the requests between participants and the status of the exchange object as participants reply. You implement protocol methods to accept exchanges, display results, and save completed exchanges. When you save completed exchanges, GameKit notifies all other participants.\n\nTo receive the protocol messages, register as a listener of the local player, and conform to the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener] protocol. For more information, see [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players].\n\n```swift\nGKLocalPlayer.local.register(self)\n```\n\n\n\n### Send exchange requests\n\nAny participant, including the current participant who is taking their turn, can send an exchange request to one or more other participants. When sending an exchange request, you pass the recipients, the game-specific exchange data, and a localized message to the `GKTurnBasedMatch` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/sendExchange(to:data:localizableMessageKey:arguments:timeout:completionHandler:)] method.\n\n```swift\ntry await match.sendExchange(to: participants, data: data!, localizableMessageKey: \n   \"This is my exchange request.\", arguments: [], timeout: GKTurnTimeoutDefault)\n```\n\nIn the exchange data, provide enough game-specific information for recipients to decide whether to accept or decline the request.\n\nTo localize the message, add the key you pass and a placeholder translation to a `.strings` file in your project (for example, the default `Localizable.strings` file). For more information about adapting your game for different languages and regions, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/localization].\n\n### Respond to exchange requests\n\nWhen a recipient receives an exchange request, GameKit invokes the `GKTurnBasedEventListener` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeRequest:for:)] protocol method, passing the exchange object. If your game isn’t running or is in the background, GameKit displays a notification containing the localized message first. When the recipient taps the notification, GameKit launches your game or brings your game back to the foreground, and then invokes the method.\n\nTo accept or decline the exchange request on behalf of the participant, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeRequest:for:)] method using the following steps:\n\n1. Unarchive the exchange data in the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange] object that GameKit passes to this method.\n2. If the status property is [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeStatus\/active], present an interface containing the exchange data that lets the recipient accept or decline the request.\n3. To display more details to the recipient, use the other `GKTurnBasedExchange` properties, such as the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange\/sender] and [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange\/message] properties.\n4. If the recipient accepts the exchange request, invoke the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange\/reply(withLocalizableMessageKey:arguments:data:completionHandler:)] method. Optionally, pass additional exchange information back to the sender using the `data` parameter.\n\n### Save completed exchanges\n\nWhen all recipients reply to an exchange request or requests time out, GameKit invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeReplies:forCompletedExchange:for:)] method in the current participant’s game instance and the original sender’s game instance.\n\nGameKit passes the exchange object with the status property of [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeStatus\/complete] and the recipient details ([doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeReply] objects) in the `replies` parameter. Optionally, present the replies along with their messages and exchange data to the original sender.\n\nIf the local player is the current participant, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeReplies:forCompletedExchange:for:)] method to resolve and save the exchange data. Also, save completed exchanges before the current participant ends their turn, forfeits the match, or ends the match.\n\n1. Add your game-specific exchange data to the match data that you save in Game Center and send to participants. For example, add code that transfers items between participants or saves their conversations.\n2. Invoke the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/saveMergedMatch(_:withResolvedExchanges:completionHandler:)] method, passing the current match data, including any exchange data, and the completed exchange objects. This method removes the exchanges from the match’s [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/completedExchanges] and [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/exchanges] properties.\n\nOnly the current participant can invoke the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedMatch\/saveMergedMatch(_:withResolvedExchanges:completionHandler:)] method, even if the current participant isn’t involved in the exchanges.\n\n### Display exchange results\n\nWhen the current participant saves completed exchanges with match data, GameKit invokes the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedTurnEventFor:didBecomeActive:)] method in each participant game instance. Implement this method to present the new match data, including the exchange data. For example, show the items that transfer between participants and recipient reply messages.\n\n### Cancel exchange requests\n\nYou can cancel an exchange request anytime before the current participant saves it and the status property becomes [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchangeStatus\/resolved]. To cancel an exchange request, use the `GKTurnBasedExchange` [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedExchange\/cancel(withLocalizableMessageKey:arguments:completionHandler:)] method. Pass a localizable message that GameKit displays in a notification if the recipient isn’t running your game or it’s in the background.\n\n```swift\ntry await exchange.cancel(withLocalizableMessageKey: \"I'm canceling the exchange request.\", arguments: [])\n```\n\nTo update the gameplay interface and display the message when a participant cancels an exchange request, implement the [doc:\/\/com.apple.gamekit\/documentation\/GameKit\/GKTurnBasedEventListener\/player(_:receivedExchangeCancellation:for:)] protocol method.\n\n## Turn-based games\n\n- **Creating turn-based games**: Develop games where multiple players take turns and can exchange data while waiting for their turn.\n- **Starting turn-based matches and passing turns between players**: Let Game Center store and forward match data between players in a turn-based game.\n- **Sending messages to players in turn-based games**: Notify players of match events by sending messages and game data.\n- **GKTurnBasedMatchmakerViewController**: An interface that allows a player to invite other players to a turn-based match and automatch to fill any empty slots.\n- **GKTurnBasedMatch**: An object that encapsulates the match data for games where players take turns.\n- **GKTurnBasedParticipant**: A participant in a turn-based match.\n- **GKTurnBasedEventListener**: The protocol that handles turn-based and data-exchange events between participants in a match.\n- **GKTurnBasedExchange**: Exchange request information that participants send in a turn-based match.\n- **GKTurnBasedExchangeReply**: Details about a recipient’s response to an exchange request.\n- **GKGameCenterBadgingDisabled**: A Boolean value indicating whether GameKit can add badges to a turn-based game icon.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Develop games where multiple players take turns and can exchange data while waiting for their turn.",
          "name" : "Creating turn-based games",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/creating-turn-based-games"
        },
        {
          "description" : "Let Game Center store and forward match data between players in a turn-based game.",
          "name" : "Starting turn-based matches and passing turns between players",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/starting-turn-based-matches-and-passing-turns-between-players"
        },
        {
          "description" : "Notify players of match events by sending messages and game data.",
          "name" : "Sending messages to players in turn-based games",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/sending-messages-to-players-in-turn-based-games"
        },
        {
          "description" : "An interface that allows a player to invite other players to a turn-based match and automatch to fill any empty slots.",
          "name" : "GKTurnBasedMatchmakerViewController",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedMatchmakerViewController"
        },
        {
          "description" : "An object that encapsulates the match data for games where players take turns.",
          "name" : "GKTurnBasedMatch",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedMatch"
        },
        {
          "description" : "A participant in a turn-based match.",
          "name" : "GKTurnBasedParticipant",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedParticipant"
        },
        {
          "description" : "The protocol that handles turn-based and data-exchange events between participants in a match.",
          "name" : "GKTurnBasedEventListener",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedEventListener"
        },
        {
          "description" : "Exchange request information that participants send in a turn-based match.",
          "name" : "GKTurnBasedExchange",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedExchange"
        },
        {
          "description" : "Details about a recipient’s response to an exchange request.",
          "name" : "GKTurnBasedExchangeReply",
          "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/GKTurnBasedExchangeReply"
        },
        {
          "description" : "A Boolean value indicating whether GameKit can add badges to a turn-based game icon.",
          "name" : "GKGameCenterBadgingDisabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/GKGameCenterBadgingDisabled"
        }
      ],
      "title" : "Turn-based games"
    }
  ],
  "source" : "appleJSON",
  "title" : "Exchanging data between players in turn-based games",
  "url" : "https:\/\/developer.apple.com\/documentation\/GameKit\/exchanging-data-between-players-in-turn-based-games"
}