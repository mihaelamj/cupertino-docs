{
  "abstract" : "Released March 31, 2025 — 18.4 (20621.1.15)",
  "codeExamples" : [

  ],
  "contentHash" : "3bf687c85946bcdb09123047a319b9ee5568fbde17d3dde1821e65d94f370436",
  "crawledAt" : "2025-12-02T16:50:35Z",
  "id" : "9772A53C-88FD-4681-8199-58A559AB12C0",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nSafari 18.4 is available for iOS 18.4, iPadOS 18.4, visionOS 2.4, macOS 15.4, macOS Sonoma, and macOS Ventura.\n\n### Authentication\n\n#### New Features\n\n### Browser\n\n#### Resolved Issues\n\n### Canvas\n\n#### New Features\n\n#### Deprecations\n\n### Connection Security\n\n#### New Features\n\n#### Deprecations\n\n### CSS\n\n#### New Features\n\n#### Resolved Issues\n\n#### Deprecations\n\n### Editing\n\n#### New Features\n\n#### Resolved Issues\n\n### Forms\n\n#### New Features\n\n#### Resolved Issues\n\n### Home Screen Web Apps\n\n#### Resolved Issues\n\n### HTML\n\n#### New Features\n\n#### Deprecations\n\n### Images\n\n#### Resolved Issues\n\n### JavaScript\n\n#### New Features\n\n#### Resolved Issues\n\n#### Deprecations\n\n### Loading\n\n#### New Features\n\n### Media\n\n#### New Features\n\n#### Resolved Issues\n\n### Networking\n\n#### New Features\n\n#### Resolved Issues\n\n#### Deprecations\n\n### PDF\n\n#### Resolved Issues\n\n### Rendering\n\n#### Resolved Issues\n\n### Scrolling\n\n#### New Features\n\n#### Resolved Issues\n\n### Security\n\n#### New Features\n\n#### Deprecations\n\n### Service Workers\n\n#### Resolved Issues\n\n### Spatial Web\n\n#### New Features\n\n### Storage\n\n#### New Features\n\n#### Resolved Issues\n\n### SVG\n\n#### New Features\n\n#### Resolved Issues\n\n#### Deprecations\n\n### Tables\n\n#### Resolved Issues\n\n### Text\n\n#### Resolved Issues\n\n### Web API\n\n#### New Features\n\n#### Resolved Issues\n\n#### Deprecations\n\n### Web Authentication\n\n#### Resolved Issues\n\n### Web Extensions\n\n#### New Features\n\n#### Resolved Issues\n\n### Web Inspector\n\n#### New Features\n\n#### Resolved Issues\n\n### WebAssembly\n\n#### New Features\n\n#### Resolved Issues\n\n### WebDriver\n\n#### Resolved Issues\n\n### WebKit\n\n#### New Features\n\n### WebRTC\n\n#### New Features\n\n#### Resolved Issues\n\n### WKWebView\n\n#### New Features\n\n#### Resolved Issues",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_4-release-notes\ncrawled: 2025-12-02T16:50:35Z\n---\n\n# Safari 18.4 Release Notes\n\n**Article**\n\nReleased March 31, 2025 — 18.4 (20621.1.15)\n\n## Overview\n\nSafari 18.4 is available for iOS 18.4, iPadOS 18.4, visionOS 2.4, macOS 15.4, macOS Sonoma, and macOS Ventura.\n\n### Authentication\n\n#### New Features\n\n- Added support for setting a pin on a security key when a registration requires it.  (122660610)\n\n### Browser\n\n#### Resolved Issues\n\n- Fixed an issue where sites would log out automatically after a brief time.  (99829958)\n\n### Canvas\n\n#### New Features\n\n- Added CanvasRenderingContext2D support for unprefixed `letterSpacing` and `wordSpacing`.  (140614722)\n\n#### Deprecations\n\n- Removed support for `webKitBackingStorePixelRatio`.  (123980544)\n- Removed support for the prefixed `webkitImageSmoothingEnabled` to use the standard `imageSmoothingEnabled` property.  (141128458)\n- Removed non-standard legacy alias of Canvas Compositing including `setAlpha` and `setCompositeOperation`.  (141510218)\n\n### Connection Security\n\n#### New Features\n\n- Added the ability to view certificate detail from Page Menu > more > Connection Security Details on iOS, iPadOS, and in visionOS, or Safari > Connection Security Details… on macOS.  (139300381)\n\n#### Deprecations\n\n- Removed the lock icon from the Smart Search field for HTTPS connection. (107993392)  (107993392)\n\n### CSS\n\n#### New Features\n\n- Added support for `writing-mode: sideways-rl` and `writing-mode: sideways-lr`.  (81519211)\n- Added support for the `::details-content` pseudo-element.  (129786929)\n- Added `attr()` fallback support.  (136763160)\n- Added support for `view-transition-name: match-element`.  (138932551)\n- Added support for `text-autospace`.  (140008990)\n- Added support for the CSS `shape()` function.  (142276582)\n- Added support for gradients with only one stop.  (142796999)\n\n#### Resolved Issues\n\n- Fixed table `border-color` to be `currentColor` by default.  (48382483)\n- Fixed combining CSS `clip-path` with any property that creates a new stacking context makes `<img>` element disappear.  (86091397)\n- Fixed resize to not be applied to generated content.  (121348638)\n- Fixed `contain: size` breaking `object-fit`.  (131866042)\n- Fixed: Dropped layout containment from `container-type`.  (132549134)\n- Fixed handling all of the CSS properties in specifications that should cause a UI widget to devolve to a primitive appearance.  (134273374)\n- Fixed `scrollIntoView` alignment to always be honored.  (135484284)\n- Fixed:`background-clip: border-area` to do nothing on the root.  (135972986)\n- Fixed `vertical-rl` writing mode inter-character ruby text being significantly smaller than over ruby text.  (135973587)\n- Fixed CSS cursor to not eagerly evaluate `calc()` values.  (136103471)\n- Fixed flex shorthand to not eagerly evaluate `calc()`.  (136103475)\n- Fixed `-webkit-perspective` to not eagerly evaluate `calc()`.  (136103493)\n- Fixed `@property` `initial-value` descriptor to prevent containing `var(--foo)`.  (136103499)\n- Fixed delaying the evaluation of `calc()` for raw font consumers so that each caller can choose the correct behavior.  (136103500)\n- Fixed grid to not eagerly evaluate `calc()` for repetitions value.  (136103503)\n- Fixed `counter-increment`, `counter-set`, and `counter-reset` to not eagerly evaluate `calc()`.  (136103519)\n- Fixed CSS nested declarations inside a `@scope` to behave like `:where(:scope)`.  (136856371)\n- Fixed: Updated the `shape()` function to match the proposed syntax.  (138126105)\n- Fixed same-document view transitions performance on pages with many elements.  (138966650)\n- Fixed an issue where radial gradients with two color stops at 100% failed to extend the last color.  (139369366)\n- Fixed `@scope` `start` and `end` to be a classic (non-forgiving) selector list.  (139471866)\n- Fixed updating the base background color where the root has `color` set explicitly when switching to light or dark modes.  (139917332)\n- Fixed performance of `querySelectorAll()` with `:has()` descendant selectors.  (140093151)\n- Fixed the `unicode-bidi` default for the `<bdo>` element.  (140662417)\n- Fixed broken `revert-layer` when logical group CSS properties are explicitly inherited.  (140819138)\n- Fixed border-spacing to use the shortest possible serialization (“0px” vs “0px 0px”).  (141920587)\n- Fixed subsequent nested styles getting ignored after an incorrect nested selector.  (142187930)\n- Fixed `font-variant-caps: all-small-caps` causing incorrect `box-sizing` in `flex` inline context.  (142212550)\n- Fixed ensuring  the correct logic is run for over-constrained cases when the absolute positioned box is a `writing-mode` root.  (142214631)\n- Fixed `animation-name` set from the view transitions dynamic UA stylesheet having extra quotes.  (142298840)\n- Fixed the serialization and parsing of `animation-name` strings.  (142318879)\n- Fixed `text-box-trim` accumulation failing when updating the CSS dynamically.  (142386761)\n- Fixed `text-emphasis` to not paint emphasis marks on punctuations.  (142387538)\n- Fixed sizing and positioning issues when a popover changes CSS position upon opening.  (142491219)\n- Fixed Page Zoom (⌘+ and ⌘-) to work with `calc()` used with `font-size` on macOS.  (142736427) (FB16287129)\n- Fixed `scroll-padding` and `scroll-margin` to be strongly typed CSS\/Style values.  (142830546)\n- Fixed View Transitions to stop running when the user navigates with a swipe.  (142844150)\n- Fixed top-level and nesting selector to have zero specificity matching a recent specification update.  (143765827)\n\n#### Deprecations\n\n- Removed the non-standard `CSSUnknownRule` interface.  (142380626)\n\n### Editing\n\n#### New Features\n\n- Implemented `ClipboardItem.support()` which gives the page author the ability to understand which formats are [https:\/\/w3c.github.io\/clipboard-apis\/#dom-clipboarditem-supports]. It also now returns a TypeError for a new `ClipboardItem()` with an empty Array.  (136008522)\n\n#### Resolved Issues\n\n- Fixed `document.execCommand(\"copy\")` only triggering if there is a selection.  (27792460)\n- Fixed an issue where iCloud Notes pasted text copied from a plain text document in Safari as raw markup.  (124788252)\n- Fixed highlighting correctly a large text selection that ends with a common phrase.  (135973065)\n- Fixed copying a link to a common term in an article to highlight the correct part of the page.  (135973186)\n- Fixed missing `SecureContext` in the `ClipboardItem` interface.  (137197266)\n- Fixed Hebrew text pasted from Safari getting aligned left.  (139029945)\n- Fixed setting selection to not set focus unless there is an existing selection.  (139075809)\n- Fixed sometimes being unable to select text for non-editable content.  (143296175)\n- Fixed missing selection handles after selecting text across multiple lines.  (143720155)\n\n### Forms\n\n#### New Features\n\n- Improved `<input type=\"file\" webkitdirectory>` support on iOS.  (125457578)\n- Added `alpha` and `colorspace` attributes to `<input type=color>`.  (137737348)\n\n#### Resolved Issues\n\n- Fixed `<textarea>` to handle switching direction.  (73475239)\n- Fixed setting a `datetime-local` input to a large value cause a crash.  (135733092)\n- Fixed `<datalist>` dropdown keyboard interactions to align with platform conventions.  (143012287)\n- Fixed: Disabled all Writing Tools app menu items, except “Compose”, for empty editable content.  (143332082)\n\n### Home Screen Web Apps\n\n#### Resolved Issues\n\n- Fixed Wake Lock API for Home Screen Web Apps.  (108573133)\n\n### HTML\n\n#### New Features\n\n- Implemented `<details>` and `<summary>` disclosure triangle as a list item.  (95148788)\n\n#### Deprecations\n\n- Removed the `composite` attribute on an `<img>` element.  (143109250)\n\n### Images\n\n#### Resolved Issues\n\n- Fixed broken WebP images in lockdown mode.  (144224372)\n\n### JavaScript\n\n#### New Features\n\n- Completed the [https:\/\/github.com\/tc39\/proposal-iterator-helpers] by implementing `map()`, `filter()`, `take()`, `drop()`, and `flatMap()` methods.  (103171739)\n- Updated `JSON.parse` to provide the reviver function access to the input source text and extended `JSON.stringify` behavior to support object placeholders.  (131579181)\n- Added support for `Math.sumPrecise`.  (131580043)\n- Added support for `Iterator.prototype.toArray` from Iterator Helpers Proposal.  (135493558)\n- Added support for `Iterator.prototype.forEach` from Iterator Helpers Proposal.  (136010225)\n- Added support for `some`, `every`, `find` from Iterator Helpers Proposal.  (136027193)\n- Added support for `Iterator.prototype.reduce`.  (136064316)\n- Added support for `SetterThatIgnoresPrototypeProperties()` in Iterator helpers.  (137078675)\n- Added support for `Atomics.pause`.  (137571229)\n- Added support for `Iterator.prototype.chunks` and `Iterator.prototype.windows`.  (138012241)\n- Added support for `Iterator.concat`.  (138013723)\n- Added support for Iterator Helpers.  (138520150)\n- Added support for `Map.prototype.getOrInsert` and `WeakMap.prototype.getOrInsert`.  (138955824)\n- Added support for `Error.isError`.  (141132351)\n- Added `\"never\"` and `\"formalSymbol\"` to the `currencyDisplay` option for `Intl.NumberFormat`.  (141504278)\n\n#### Resolved Issues\n\n- Fixed Array destructuring assignment to close the iterator if an evaluation throws an exception.  (121960887)\n- Fixed: Updated `Intl.DurationFormat#resolvedOptions` to the latest specification.  (136276429)\n- Fixed Iterator Helpers methods to not iterate an array.  (136303997)\n- Fixed `Iterator.prototype.reduce()` not properly forwarding the `return()` call to the underlying iterator.  (137181340)\n- Fixed `Set.prototype` methods to invoke `keys()` without arguments.  (137395979)\n- Fixed `Array.from()`, `Array.fromAsync()`, and `TypedArray.from()` to invoke `document.all` passed as a mapper.  (137490201)\n- Fixed `Intl.DurationFormat` to have a value limit to match the specification.  (137885273)\n- Fixed a rounding error for `Intl.DurationFormat`.  (138261569)\n- Fixed calendar canonicalization logic in `DateTimeFormat`.  (141792829)\n- Fixed broken output for `Intl.DurationFormat` digital style when `hoursDisplay` is `\"auto\"`.  (141969050)\n- Fixed `Intl.DurationFormat` to print a negative sign for minutes after hidden hours.  (142119353)\n- Fixed `Array.prototype.toReversed` to fill holes with `undefined`.  (142197604)\n- Fixed: Increased the `matchLimit` for regular expressions, allowing complex matches on longer strings.  (143202375)\n\n#### Deprecations\n\n- Removed obsoleted methods for `Temporal.PlainTime` and `Temporal.PlainDateTime` to align with specification changes.  (135509670)\n\n### Loading\n\n#### New Features\n\n- Added `noopener-allow-popups` support in Cross-Origin-Opener-Policy.  (129664445)\n\n### Media\n\n#### New Features\n\n- Added support for Ogg Opus and Ogg Vorbis on macOS Sequoia 15.4, iOS 18.4, iPadOS 18.4, and visionOS 2.4.  (131407707)\n- Added support for the Image Capture API.  (136860809)\n- Added WebM support to MediaRecorder.  (137560454)\n\n#### Resolved Issues\n\n- Fixed handling an empty `srcAttr` in Media Element.  (132042925)\n- Fixed getUserMedia video track `getSettings()` returning a stale value for `torch` and `whiteBalanceMode` constraints.  (137870391)\n- Fixed the `space` key not pausing a video in fullscreen by making the video mouse focusable.  (138037616)\n- Fixed an issue where playback doesn’t always resume after a seek.  (140097993)\n- Fixed playing video generating non-monotonic ‘timeupdate’ events.  (142275184) (FB16222910)\n- Fixed websites calling `play()` during a `seek()` is allowed by the specification so that the play event is fired even if the seek hasn’t completed.  (142517488)\n- Fixed seek not completing for WebM under some circumstances.  (143372794)\n- Fixed MediaRecorderPrivateEncoder writing frames out of order.  (143956063)\n\n### Networking\n\n#### New Features\n\n- Added support for Cookies Having Independent Partitioned State (CHIPS).  (116143212)\n- Added support for cookies’ `Partitioned` attribute for opt-in partitioned cookies.  (142317056)\n- Blocked partitioned cookies for known tracking domains.  (144184516)\n\n#### Resolved Issues\n\n- Fixed optimistically upgraded navigations to set a timeout based on current network conditions.  (135972599)\n\n#### Deprecations\n\n- Changed 3DES cipher to show a warning to users that it is a legacy TLS cipher.  (138948491)\n\n### PDF\n\n#### Resolved Issues\n\n- Fixed switching a PDF from continuous to discrete mode displaying the page(s) that are at the top of the window, even when barely visible.  (137608841)\n- Fixed the “Previous Page” context menu option not navigating to previous page in 2-up continuous mode.  (139817364)\n- Fixed main frame PDFs served with a CSP sandbox header not loading.  (141166987)\n\n### Rendering\n\n#### Resolved Issues\n\n- Fixed computing the baseline for replaced elements with an intrinsic ratio but no intrinsic size as flex items.  (74279029)\n- Fixed flickering caused by extra resize events dispatched when rotating from landscape to portrait on iOS.  (93767145)\n- Fixed adding out-of-flow objects under the inline in a continuation chain, when possible.  (102421379)\n- Fixed `mix-blend-mode` to work for large resolution fixed or stick elements.  (104686540)\n- Fixed the missing table collapsed border for `<thead>`, `<tbody>`, and `<tfoot>` elements in the wrong order.  (110430887)\n- Fixed handling inline-box trailing content.  (112409103)\n- Fixed `<input type=\"range\">` taking up space even with `width: 0` applied.  (113402515)\n- Fixed the Spotify media player disappearing when rotating to landscape mode on iOS.  (123870311)\n- Fixed textarea elements to reserve space for overlay scrollbars.  (129597865)\n- Fixed grid layout animation performance by caching intrinsic logical heights during the first row sizing pass, improving efficiency and preventing invalidation issues with complex grid configurations.  (135791322)\n- Fixed Grid item which is an image with specified sizes failing to update when the `src` changes.  (135972911)\n- Fixed nested inlines’ vertical alignment when `line-fit-edge` is set.  (136036997)\n- Fixed the consistency of table layout with `<td width=\"100%\">`.  (136090741)\n- Fixed repainting to be more consistent for `text-underline-position`.  (136095297)\n- Fixed floats not clearing in the WordPress Classic Editor sidebar layout.  (136362683)\n- Fixed handling of out-of-flow children in MathML layout functions to be consistent.  (136683070)\n- Fixed a repeating `background-image` sized to the `content-box` failing to fill the viewport in an iframe.  (136725820)\n- Fixed consistently triggering a reflow when needed for table DOM manipulations.  (137300794)\n- Fixed `scriptlevel` multipler for font-size in MathML.  (137671252)\n- Fixed inline marquees to allow them to shrink when adjacent to float(s).  (137766071)\n- Fixed a flex container with no flex item to not run flex layout.  (137884128)\n- Fixed support for CSS width and height properties on MathML elements.  (138174295)\n- Fixed Inline content incorrectly positioning around right-to-left and\/or vertical `shape-outside` floats.  (139076129)\n- Fixed incorrectly overlapping when a float has `shape-outside: inset`.  (139133291)\n- Fixed right-to-left content failing with a `shape-outside` float.  (139198865)\n- Fixed incorrectly overlapping a float that has `shape-outside: ellipse` in vertical mode.  (139208636)\n- Fixed incorrectly overlapping a float that has `shape-outside: polygon` in right-to-left.  (139215719)\n- Fixed outside `list-style-position` quirk to only be applicable in quirks mode.  (140602985)\n- Fixed: Updated line box dimensions.  (141167251)\n- Fixed incorrect horizontal writing mode state when nested in a vertical block container.  (141543326)\n- Fixed baseline calculation few cases for tables with empty rows.  (142046863)\n- Fixed to refuse to break inside replaced content.  (142224455)\n- Fixed absolute positioned child with percent to include containing block padding.  (142321535)\n- Fixed computing an out-of-flow box width correctly when it is inside an inline continuation.  (142417374)\n- Fixed a border not showing when a linear gradient and a border radius are set.  (142617573)\n- Fixed relative-positioned input elements in scroll areas not rendering outlines.  (142995142)\n- Fixed tabbing out of a popover causing a hang in certain cases.  (143145544)\n- Fixed setting up inline continuations correctly when not inserting a new child.  (143388080)\n- Fixed adding a `margin-top` to a `<rt>` also adds a bottom margin.  (143720832)\n\n### Scrolling\n\n#### New Features\n\n- Added support for Scroll To Text Fragment feature detection with `document.fragmentDirective`.  (139631353)\n\n#### Resolved Issues\n\n- Fixed changes to the “scrolling” attribute on an iframe element already in the DOM to take effect.  (98911472)\n\n### Security\n\n#### New Features\n\n- Added support for CSP Hash Reporting keywords: `report-sha256`, `report-sha384`, and `report-sha512`.  (142458671)\n\n#### Deprecations\n\n- Removed support for `Clear-Site-Data: *` for `executionContexts` as Safari was the only browser to ship it.  (120821984)\n\n### Service Workers\n\n#### Resolved Issues\n\n- Fixed handling the case of busy looping service workers in a process containing web pages.  (138626537)\n- Fixed an unexpected failure when serving a redirected response from cache for a navigation loaded via service worker navigation preload.  (146113615)\n\n### Spatial Web\n\n#### New Features\n\n- Added support behind a feature flag for the `controls` attribute on `<img>` elements for spatial images in visionOS.  (129784451)\n- Added support for Writing Tools in visionOS.  (135210076)\n\n### Storage\n\n#### New Features\n\n- Added support for partitioned cookies in `Clear-Site-Data: Cookies`.  (140403030)\n\n#### Resolved Issues\n\n- Fixed the Storage Access API to consider `AllExceptPartitioned` as not currently having cookie access, ensuring sites can request access to first-party cookie.  (143508260)\n\n### SVG\n\n#### New Features\n\n- Added support for `SVGImageElement.prototype.decode()`.  (135404215)\n- Added support for the `lh` length type.  (142068343)\n- Added support for the `ch` length type for character width, but does not include support for upright vertical character width.  (142463263)\n\n#### Resolved Issues\n\n- Fixed not propagating the bounding box for empty `text` to ancestors.  (115217040)\n- Fixed SVG masks not working as a `mask-image`.  (127327715)\n- Fixed a bug in case of reference elements (e.g., textPath) unable to notify the referring element (e.g, text) about their availability.  (135509733)\n- Fixed SVGUseElement to prevent sniffing the content type when loading an external document.  (135972621)\n- Fixed vertical writing modes to se the correct bounding rect.  (135973175)\n- Fixed: Updated `getTotalLength()` with the web specification to throw an exception when non-renderable and the path is empty.  (136719548)\n- Fixed SVG quadratic curve getting incorrectly clipped at tile boundaries.  (139904014)\n- Fixed dynamically updating the `transform` attribute.  (140761655)\n- Fixed synthesizing a `viewBox` in `<img>` only for the document element `<svg>`.  (141733733)\n- Fixed `SVGElement.prototype.ownerSVGElement` on the outermost `<svg>` in `foreignObject`.  (143625675)\n\n#### Deprecations\n\n- Removed the SVG 1.1 kerning property.  (116965514)\n- Removed SVGDocument alias to XMLDocument.  (123121696)\n\n### Tables\n\n#### Resolved Issues\n\n- Fixed table row direction to be determined by the table’s direction, not the section.  (99343532)\n- Fixed missing behavior for `rowspan=\"0\"` on HTML tables where 0 means span over all the remaining rows.  (133910430)\n- Fixed Table Root to also account for `fill-available` in a fixed table layout.  (137297914)\n- Fixed table section and row background to not be treated as opaque.  (142588505)\n\n### Text\n\n#### Resolved Issues\n\n- Fixed an issue where a thick underline would not show on short content.  (64705955)\n- Fixed: The changes for GB18030-2022 now properly impact GBK as well, as required by the Encoding Standard.  (136368583)\n- Fixed automatically hyphenating text only when a language specified.  (136826305)\n- Fixed the boundary style calculation when `text-spacing: text-autospace` is applied.  (137153961)\n- Fixed displaying OpenType-SVG color fonts.  (137496217) (FB15426148)\n\n### Web API\n\n#### New Features\n\n- Added support for `element.focus({ focusVisible: true })`.  (97021844)\n- Added support for `PublicKeyCredential.toJSON()`.  (109419228)\n- Added support for the Cookie Store API.  (135969444)\n- Added Key generation, import and export support for CryptoKeyOKP(x25519\/ed25519).  (136368298)\n- Added support for Brotli to Compression Streams.  (137244214)\n- Added an option to set the popover’s invoker from an imperative API.  (139362169)\n- Added support for Declarative Web Push.  (141082392)\n- Added support for X25519 for Web Cryptography.  (141346336)\n- Added support for `dialog.requestClose()`.  (143388390)\n\n#### Resolved Issues\n\n- Fixed: Aligned some MIME type handling in EME with the MIME Sniffing standard.  (114311586)\n- Fixed `window.history.replaceState('', '', '')` having no effect on macOS.  (117782346)\n- Fixed MutationObserver to observe style attribute changes when resizing the element.  (120109181)\n- Fixed: Updated `selectorText` handling to align with the specification for CSSPageRule.  (125588212)\n- Fixed Gamepad rumble issue where sending two sequential `playEffect()` requests prevents `reset()` from working as expected.  (126589062) (FB13733668)\n- Fixed matching emoji in an element’s `id` attribute from a `<link rel=expect>` with an `href` that uses percent-encoded syntax.  (134531921)\n- Fixed the `onrejectionhandled` and `onunhandledrejection` event handler attributes to work correctly on body and frameset elements.  (135401362)\n- Fixed render blocking for `<link>` to not match elements that are on a ‘stack of open elements’ for the parser.  (135846827)\n- Fixed Distraction Control unexpectedly hiding out-of-flow elements that overlap with a hidden element.  (136358918)\n- Fixed CSSOM `setSelectorText(string)` to prepend the implicit selector.  (136791222)\n- Fixed `HTMLElement.prototype.requestPointerLock` to return a Promise.  (139854530)\n- Fixed `innerText` behavior for `<details>` and `<summary>`.  (140172890)\n- Fixed the HTML parser phone number handling to better account for MathML.  (141632782)\n- Fixed `Range.getClientRects` to take surrogate pairs into account.  (142098484)\n- Fixed tokenization of the rel attribute of the link element and Link header.  (142600096)\n\n#### Deprecations\n\n- Removed wheel event handling for `<input type=\"number\">` to match platform conventions.  (99318505)\n\n### Web Authentication\n\n#### Resolved Issues\n\n- Fixed `.catch()` for conditional mediation  not getting passed the abort reason that was thrown.  (112178073)\n\n### Web Extensions\n\n#### New Features\n\n- Added support for loading Safari Web Extensions that have been Developer ID-signed and notarized.  (40429283)\n- Added support for temporarily installing web extensions from disk without requiring an Xcode project.  (98208121)\n- Added support for `getKeys()` in storage areas.  (136595295)\n- Added support for `i18n.getSystemUILanguage` and `i18n.getPreferredSystemLanguages`.  (136929657)\n- Added support for `documentId` to the `sender` message object.  (137532821)\n- Added support for `documentId` to `tabs.sendMessage()` and `tabs.connect()`.  (137532897)\n- Added support for `documentId` in `webNavigation`.  (137532909)\n- Added support for `documentId` to `webRequest`.  (141058456)\n- Added support for `documentId` to `scripting` and `tabs`.  (141291546)\n- Added support for `match_about_blank` and `match_origin_as_fallback` to inject content scripts and styles into more frames.  (145875291)\n\n#### Resolved Issues\n\n- Fixed CORS for Web Extension pages to respect granted per-site permissions.\n\nDevelopers will need to add a `browser.permissions.request({origins: []})` call before doing any `fetch()` that is blocked by CORS.  (102912898)\n- Fixed an issue causing content blockers to not hide content in `about:blank` frames.  (134273470)\n- Fixed a slowdown in applying rulesets and dynamic rules in declarativeNetRequest.  (136394861) (FB15196130)\n- Fixed clicking the “Clear Storage…” button in Safari Extensions Settings.  (137533628)\n- Fixed `storage.onChanged` returning undefined as the `areaName`.  (138086765)\n- Fixed the `tabs` field missing from the result returned by `windows.create`.  (138529797)\n- Fixed es-419 support in Web Extensions.  (138857112)\n- Fixed the `webRequest.onBeforeRequest` event missing the `requestBody`.  (140338580) (FB15911234)\n- Fixed blurry extension icons.  (142070967) (FB16171862)\n- Fixed not picking the “zh” locale when “zh-Hant” is preferred.  (142602243) (FB16271745)\n- Fixed `webRequest` event listeners to honor `extraInfoSpec` for better performace.  (142907168)\n- Fixed web extension resources to be treated as UTF-8 by default.  (143079179)\n\n### Web Inspector\n\n#### New Features\n\n- Added support for `ignoreList` in sourcemaps.  (130630075)\n- Added support for viewport presets in Responsive Design Mode.  (131541189)\n- Added support for the Apps and Devices Inspector.  (134519731)\n- Exposed cookie Partition Key in Web Inspector.  (136293236)\n- Added the ability to modify only the headers of a request using a Request Local Override.  (139043491)\n- Added support for sending Android user agents using the device override menu when Web Inspector is connected to a remote device.  (139305520)\n- Added support for `DOMRect` in `console.screenshot`.  (141650264)\n- Added an orientation toggle to rotate a viewport preset in Responsive Design Mode.  (142632311)\n\n#### Resolved Issues\n\n- Fixed ensuring that all of the Desktop Sites on iPad site-specific hacks are disabled when the site-specific hacks setting is turned off in Web Inspector.  (50035167)\n- Fixed style rules to stay editable after being modified by CSSOM in JavaScript.  (124650808)\n- Fixed glitches when trying to edit a style from a stylesheet that has an `@import` statement.  (131756178)\n- Fixed error cases to match new source map specification.  (137934436)\n- Fixed the overview icon to be inverted dark mode in the Graphics tab.  (140602803)\n- Fixed recorded WebGL objects not getting highlighted correctly in the Graphics tab.  (140625113)\n\n### WebAssembly\n\n#### New Features\n\n- Added support for JIT-less Wasm.  (113768974)\n- Added support for the new Wasm Exception Specification.  (131409318)\n- Implemented relaxed laneselect SIMD instructions.  (138484223)\n\n#### Resolved Issues\n\n- Fixed Wasm legacy `catch_all` instruction to correctly catch thrown JS primitives.  (135972897)\n\n### WebDriver\n\n#### Resolved Issues\n\n- Fixed a crash that could occur when simulating drag events with the right mouse button.  (137068514)\n\n### WebKit\n\n#### New Features\n\n- Added support for `WKWebExtension`, `WKWebExtensionContext`, and `WKWebExtensionController` Swift and Objective-C classes to support integrating Web Extensions into WebKit-based browsers.  (121537087)\n\n### WebRTC\n\n#### New Features\n\n- Added support for MediaSession capture mute API.  (131386187)\n- Added support for stuns server URIs.  (136505783)\n- Added support for enumerated visible network interfaces.  (137067672)\n- Added support for the Speaker Selection API on macOS.  (140918327)\n\n#### Resolved Issues\n\n- Fixed `MediaSession.setMicrophoneActive(true)` prompting repeatedly if the microphone was muted by the user-agent once.  (135941062)\n- Fixed `setCameraActive` to not unmute microphone if the user-agent previously muted both camera and microphone.  (136221456)\n- Fixed AirPods unmuting to not unmute the camera if website muted the camera.  (137065964)\n- Fixed voice search to not re-prompt for camera or microphone permission after a page-initiated same origin navigation.  (138122655)\n\n### WKWebView\n\n#### New Features\n\n- Added support for customizing the file upload flow for file inputs.  (130219174)\n- Added support for WKNavigationAction\/buttonNumber and WKNavigationAction\/modifierFlags as API on iOS.  (136865172)\n- Added support for the Writing Tools API in visionOS.  (140412673)\n\n#### Resolved Issues\n\n- Fixed calling `WKWebView.evaluateJavaScript` in an async context when nothing is returned by JS.  (139618495) (FB15755273)\n\n## Version 18\n\n- **Safari 18.6 Release Notes**: Released July 29, 2025 — 18.6 (20621.3.11)\n- **Safari 18.5 Release Notes**: Released May 12, 2025 — 18.5 (20621.2.5)\n- **Safari 18.3 Release Notes**: Released January 27, 2025 — 18.3 (20620.2.4)\n- **Safari 18.2 Release Notes**: Released December 11, 2024 — 18.2 (20620.1.16)\n- **Safari 18.1 Release Notes**: Released October 28, 2024 — 18.1 (20619.2.8)\n- **Safari 18.0.1 Release Notes**: Released October 3, 2024 — 18.0.1 (20619.1.26.30)\n- **Safari 18.0 Release Notes**: Released September 16, 2024 — 18.0 (20619.1.26)\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Released July 29, 2025 — 18.6 (20621.3.11)",
          "name" : "Safari 18.6 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_6-release-notes"
        },
        {
          "description" : "Released May 12, 2025 — 18.5 (20621.2.5)",
          "name" : "Safari 18.5 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_5-release-notes"
        },
        {
          "description" : "Released January 27, 2025 — 18.3 (20620.2.4)",
          "name" : "Safari 18.3 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_3-release-notes"
        },
        {
          "description" : "Released December 11, 2024 — 18.2 (20620.1.16)",
          "name" : "Safari 18.2 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_2-release-notes"
        },
        {
          "description" : "Released October 28, 2024 — 18.1 (20619.2.8)",
          "name" : "Safari 18.1 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_1-release-notes"
        },
        {
          "description" : "Released October 3, 2024 — 18.0.1 (20619.1.26.30)",
          "name" : "Safari 18.0.1 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_0_1-release-notes"
        },
        {
          "description" : "Released September 16, 2024 — 18.0 (20619.1.26)",
          "name" : "Safari 18.0 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18-release-notes"
        }
      ],
      "title" : "Version 18"
    }
  ],
  "source" : "appleJSON",
  "title" : "Safari 18.4 Release Notes",
  "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-18_4-release-notes"
}