{
  "abstract" : "Released March 27, 2023 — Version 16.4 (18615.1.26)",
  "codeExamples" : [

  ],
  "contentHash" : "6adc2ba3b477f83bdac121b50c324c6b876360dc832e8704119f988899167f80",
  "crawledAt" : "2025-12-02T16:50:46Z",
  "id" : "04FDECA9-D222-4A31-806F-88C734AE1217",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nSafari 16.4 beta is available for macOS Big Sur, macOS Monterey, macOS Ventura, iPadOS 16.4 beta, and iOS 16.4 beta.\n\n### Browser Changes\n\n#### New Features\n\n### CSS\n\n#### New Features\n\n#### Resolved Issues\n\n### CSS API\n\n#### New Features\n\n#### Resolved Issues\n\n### Content Security Policy\n\n#### Resolved Issues\n\n### Custom Elements\n\n#### New Features\n\n### Forms\n\n#### New Features\n\n#### Resolved Issues\n\n### JavaScript\n\n#### New Features\n\n#### Resolved Issues\n\n### HTML\n\n#### New Features\n\n#### Resolved Issues\n\n### Intelligent Tracking Prevention\n\n#### Resolved Issues\n\n### Images\n\n#### New Features\n\n#### Resolved Issues\n\n### Loading\n\n#### New Features\n\n### Lockdown Mode\n\n#### New Restrictions\n\n### Media\n\n#### New Features\n\n#### Resolved Issues\n\n### Rendering\n\n#### Resolved Issues\n\n### Safari Extensions\n\n#### New Features\n\n#### Resolved Issues\n\n### Scrolling\n\n#### New Features\n\n#### Resolved Issues\n\n### SVG\n\n#### Resolved Issues\n\n### Tables\n\n#### Resolved Issues\n\n### Text\n\n#### New Features\n\n#### Resolved Issues\n\n### WebAssembly\n\n#### New Features\n\n### Web Animations\n\n#### New Features\n\n#### Resolved Issues\n\n### Web API\n\n#### New Features\n\n#### Resolved Issues\n\n### Web Apps\n\n#### New Features\n\n### WebGL\n\n#### New Features\n\n#### Resolved Issues\n\n### Web Inspector\n\n#### New Features\n\n#### Resolved Issues\n\n### WebDriver\n\n#### New Features\n\n#### Resolved Issues\n\n### WKWebView\n\n#### New Features",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_4-release-notes\ncrawled: 2025-12-02T16:50:46Z\n---\n\n# Safari 16.4 Release Notes\n\n**Article**\n\nReleased March 27, 2023 — Version 16.4 (18615.1.26)\n\n## Overview\n\nSafari 16.4 beta is available for macOS Big Sur, macOS Monterey, macOS Ventura, iPadOS 16.4 beta, and iOS 16.4 beta.\n\n### Browser Changes\n\n#### New Features\n\n- Added dark mode support for plain text files.\n- Added fingerprinting countermeasures for querying the permission state of the Notifications API.\n\n### CSS\n\n#### New Features\n\n- Added support for `currentColor` with `color-mix()`.\n- Added support for `margin-trim`.\n- Added support for `outline` following the curve of `border-radius`.\n- Added support for CSS Properties and Values API with support for `@property`.\n- Added support for CSS relative color syntax.\n- Added support for new named colors to match CSS Color Level 4.\n- Added support for the `:dir()` pseudo-class.\n- Added support for the `:modal` pseudo-class to match fullscreen elements.\n- Added support for the `lh` and `rlh` units.\n- Added support for the range syntax and boolean logic from Media Queries level 4.\n- Added support for the unprefixed `:fullscreen` pseudo-class.\n- Added support for the unprefixed absolute size keyword `xxx-large`.\n\n#### Resolved Issues\n\n- Fixed `-webkit-mask-box-image: initial` to set the correct initial value.\n- Fixed `-webkit-radial-gradient` parsing accidentally treating several mandatory commas as optional.\n- Fixed `::placeholder` to not support `writing-mode`, `direction`, or `text-orientation`.\n- Fixed `:has()` pseudo-class invalidation for `:lang`, `:playing`, `:paused`, `:seeking`, `:muted`, `:volume-locked`, `:picture-in-picture`, `:buffering`, and `:stalled` pseudo-classes.\n- Fixed `@supports` to not work if `not`, `or`, or `and` isn’t followed by a space.\n- Fixed `background-repeat` not getting correctly exposed through inline styles.\n- Fixed `baseline-shift` to allow length or percentage, but not numbers.\n- Fixed `contain: inline-size` for replaced elements.\n- Fixed `CSSPerspective.toMatrix()` to throw a TypeError if its length is incompatible with the `px` unit.\n- Fixed `cx`, `cy`, `x`, and `y` CSS properties to allow length or percentage, but not numbers.\n- Fixed `filter: blur` on an absolutely positioned image losing `overflow: hidden`.\n- Fixed `font-face` to accept ranges in reverse order, and reverse them for computed styles.\n- Fixed `font-style: oblique` must allow angles equal to 90deg or -90deg.\n- Fixed `font-style: oblique` with `calc()` to allow out-of-range angles and clamp them for computed style.\n- Fixed `font-weight` to clamp to 1 as a minimum.\n- Fixed `font` shorthand to reject out-of-range angles for `font-style`.\n- Fixed `font` shorthand to reset more longhand properties.\n- Fixed `overflow-x: clip` causing a sibling image to not load.\n- Fixed `overflow: clip` not working on SVG elements.\n- Fixed `stroke-dasharray` parsing to align with standards.\n- Fixed `stroke-width` and `stroke-dashoffset` parsing to align with standards.\n- Fixed `text-decoration-thickness` property not repainting when changed.\n- Fixed allowing `calc()` that combines percentages and lengths for `line-height`.\n- Fixed an issue where using `box-sizing: border-box` causes the calculated aspect-ratio to create negative content sizes.\n- Fixed an issue with a monospace font on a parent causing children with a sans-serif font using `rem` or `rlh` units to grow to a larger size.\n- Fixed behavior of `cursor: auto` over links.\n- Fixed buttons with auto width and height to not set intrinsic margins.\n- Fixed calculating block size to use the correct box-sizing with aspect ratio.\n- Fixed cells overflowing their contents when a table cell has inline children which change `writing-mode`.\n- Fixed clipping `perspective` `calc()` values to 0.\n- Fixed font shorthand to not reject values that happen to have CSS-wide keywords as non-first identifiers in a font family name.\n- Fixed hit testing for double-click selection on overflowing inline content.\n- Fixed honoring the content block size minimum for a `<fieldset>` element with `aspect-ratio` applied.\n- Fixed incorrectly positioned line break in contenteditable with tabs.\n- Fixed invalidation for class names within `:nth-child()` selector lists.\n- Fixed omitting the `normal` value for `line-height` from the `font` shorthand in the specified style, not just the computed style.\n- Fixed pseudo-elements to not be treated as ASCII case-insensitive.\n- Fixed rejecting a selector argument for `:nth-of-type` or `:nth-last-of-type`.\n- Fixed serialization order for `contain`.\n- Fixed strings not wrapped at zero width spaces when `word-break: keep-all` is set.\n- Fixed supporting `<string>` as an unprefixed keyframe name.\n- Fixed the `:has()` pseudo-selector parsing to be unforgiving.\n- Fixed the `font-face` `src` descriptor format to allow only specified formats, others are a parse error.\n- Fixed the `tz` component not accounting for zoom when creating a `matrix3d`() value.\n- Fixed the computed value for `stroke-dasharray` to be in `px`.\n- Fixed the effect of the writing-mode property not getting removed when the property is removed from the root element.\n- Fixed the position of `text-shadow` used with `text-combine-upright`.\n- Fixed the title of a style element with an invalid type to never be added to preferred stylesheet set.\n- Fixed the transferred min\/max sizes to be constrained by defined sizes for aspect ratio.\n- Fixed the user-agent stylesheet to align hidden elements, `abbr`,  `acronym`,  `marquee`, and `fieldset` with HTML specifications.\n- Fixed to always use percentages for computed values of `font-stretch`, never keywords.\n- Fixed to not require whitespace between `of` and the selector list in `:nth-child` or `:nth-last-child`.\n\n### CSS API\n\n#### New Features\n\n- Added support for CSS Typed OM.\n- Added support for constructible and adoptable CSSStyleSheet objects.\n- Added support for input validation for `CSSColorValues` as part of CSS Typed OM.\n\n#### Resolved Issues\n\n- Fixed `CSS.supports` returning false for custom properties.\n- Fixed `CSS.supports` whitespace handling with `!important`.\n- Fixed forgiving selectors to not be reported as supported with `CSS.supports(\"selector(...)\")`.\n- Fixed `getComputedStyle()` to return a function list for the transform property.\n- Fixed `linear-gradient` keyword values not getting converted to their `rgb()` equivalents for `getComputedStyle()`.\n\n### Content Security Policy\n\n#### Resolved Issues\n\n- Fixed updating the Content Security Policy when a new header is sent as part of a 304 response.\n\n### Custom Elements\n\n#### New Features\n\n- Added support for Declarative Shadow DOM.\n- Added support for ElementInternals.\n- Added support for form-associated custom elements.\n- Added support for Imperative Slot API.\n\n### Forms\n\n#### New Features\n\n- Added a thumbnail of the selected file for `<input type=\"file\">` on macOS.\n- Added support for the `cancel` event on `<input type=\"file\">`.\n\n#### Resolved Issues\n\n- Fixed `<input type=\"submit\">`, `<input type=\"reset\">,` and `<input type=\"button\">` to honor `font-size`, `padding`, `height`, and work with multi-line values.\n- Fixed firing the `change` event for `<input type=\"file\">` when a different file with the same name is selected.\n- Fixed preventing a disabled `<fieldset>` element from getting focus.\n- Fixed the `:out-of-range` pseudo class matching for empty `input[type=number]`.\n\n### JavaScript\n\n#### New Features\n\n- Added support for RegExp lookbehind assertions.\n- Added support for `Array.fromAsync`.\n- Added support for `Array#group` and `Array#groupToMap`.\n- Added support for `Atomics.waitAsync` .\n- Added support for `import.meta.resolve()`.\n- Added support for `Intl.DurationFormat`.\n- Added support for `String#isWellFormed` and `String#toWellFormed`.\n- Added support for class static initialization blocks.\n- Added support for growable SharedArrayBuffer.\n- Added support for Import Maps.\n- Added support for resizable ArrayBuffer.\n- Added support for using `Symbols` in `WeakMap` and `WeakSet`.\n\n#### Resolved Issues\n\n- Fixed `Array.prototype.indexOf` constant-folding to account for a non-numeric index.\n- Fixed `Intl.NumberFormat` `useGrouping` handling to match updated specs.\n- Fixed `Intl.NumberFormat` ignoring `maximumFractionDigits` with compact notation.\n- Fixed `String.prototype.includes` incorrectly returning false when the string is empty and the position is past end of the string.\n- Fixed `toLocaleLowerCase` and `toLocaleUpperCase` to throw an exception on an empty string.\n\n### HTML\n\n#### New Features\n\n- Added support for lazy loading iframes.\n\n#### Resolved Issues\n\n- Fixed aligning the parsing of `<body link vlink alink>` to follow standards.\n- Fixed `<legend>` to accept more `display` property values than `display: block`.\n\n### Intelligent Tracking Prevention\n\n#### Resolved Issues\n\n- Fixed user initiated cross-domain link navigations getting counted as Top Frame Redirects.\n\n### Images\n\n#### New Features\n\n- Added support for AVIF on macOS Monterey and macOS Big Sur.\n\n#### Resolved Issues\n\n- Fixed ensuring the `<picture>` element works with AVIF.\n- Fixed some display issues with HDR AVIF images.\n- Fixed the accept header to correctly indicate AVIF support.\n\n### Loading\n\n#### New Features\n\n- Added prevention of redirects to `data:` or `about:` URLs.\n\n### Lockdown Mode\n\n#### New Restrictions\n\n- Disabled binary fonts in the CSS Font Loading API.\n- Disabled Cache API.\n- Disabled CacheStorage API.\n- Disabled ServiceWorkers.\n- Disabled SVG fonts.\n- Disabled the WebLocks API.\n- Disabled WebSpeech API.\n- Fixed common cases of missing glyphs due to custom icon fonts.\n\n### Media\n\n#### New Features\n\n- Added improvements to audio quality for web video conferencing.\n- Added support for a subset of the AudioSession Web API.\n- Added support for AVCapture virtual cameras.\n- Added support for inbound rtp `trackIdentifier` stat field.\n- Added support for VTT-based extended audio descriptions.\n- Added support to allow a site to provide an “alternate” URL to be used during AirPlay.\n- Added video-only support for Web Codecs.\n\n#### Resolved Issues\n\n- Fixed `enumerateDevices` may return filtered devices even if page is capturing.\n- Fixed `MediaRecorder.stop()` firing an additional `dataavailable` event with bytes after `MediaRecorder.pause()`.\n- Fixed duplicate `timeupdate` events.\n- Fixed limiting DOMAudioSession to third-party iframes with microphone access.\n- Fixed MSE to not seek with no seekable range.\n- Fixed mute microphone capture if capture fails to start because microphone is used by a high priority application.\n- Fixed not allowing text selection to start on an HTMLMediaElement.\n- Fixed only requiring a transient user activation for Web Audio rendering.\n- Fixed screen capture to fail gracefully if the window or screen selection takes too long.\n- Fixed switching to alternate `<source>` element for AirPlay when necessary.\n- Fixed the local WebRTC video element pausing after bluetooth `audioinput` is disconnected.\n- Fixed trying to use low latency for WebRTC HEVC encoder when available.\n- Fixed unmuting a TikTok video pauses it.\n- Fixed WebVTT styles not applied with in-band tracks.\n\n### Rendering\n\n#### Resolved Issues\n\n- Ensured negative letter-spacing does not pull content oustisde of the inline box\n- Fixed `<div>` with `border-radius` not painted correctly while using jQuery’s `.slideToggle()`.\n- Fixed `border-radius` clipping on composited layers.\n- Fixed `box-shadow` to paint correctly on inline elements.\n- Fixed box-shadow invalidation on inline boxes.\n- Fixed calculating the width of an inline text box using simplified measuring to handle fonts with `Zero Width Joiner`, `Zero Width Non-Joner`, or `Zero Width No-Break Space`.\n- Fixed clearing floats added dynamically to previous siblings.\n- Fixed clipping the source image when the source rectangle is outside of the source image in canvas.\n- Fixed CSS keyframes names to not allow CSS wide keywords.\n- Fixed elements with negative margins not avoiding floats when appropriate.\n- Fixed floating boxes overlapping with their margin boxes.\n- Fixed HTMLImageElement width and height to update layout to return styled dimensions not the image attributes.\n- Fixed ignoring `nowrap` on `<td nowrap=\"nowrap\">` when an absolute width is specified.\n- Fixed incorrect clipping when a layer is present between the column and the content layer.\n- Fixed incorrect static position of absolute positioned elements inside relative positioned containers.\n- Fixed layout for fixed position elements relative to a transformed container.\n- Fixed layout overflow rectangle overflows interfering with the scrollbar.\n- Fixed negative shadow repaint issue.\n- Fixed preventing a focus ring from being painted for anonymous block continuations.\n- Fixed recalculating intrinsic widths in the old containing block chain when an object goes out of flow.\n- Fixed rendering extreme `border-radius` values.\n- Fixed specified hue interpolation method for hues less than 0 or greater than 360.\n- Fixed tab handling in right-to-left editing.\n- Fixed text selection on flex and grid box items.\n- Fixed the position and thickness of underlines to be device pixel aligned.\n- Fixed transforms for table sections.\n- Fixed transition ellipsis box from “being a display box on the line” to “being an attachment” of the line box.\n- Fixed unexpected overlapping selection with tab in right-to-left context.\n- Fixed updating table rows during simplified layout.\n- Fixed: improved balancing for border, padding, and empty block content.\n\n### Safari Extensions\n\n#### New Features\n\n- Added `MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES` property to `declarativeNetRequest`.\n- Added support for `:has()` selector in Safari Content Blocker rules.\n- Added support for `declarativeNetRequest.setExtensionActionOptions`.\n- Added support for `requestDomains` to `declarativeNetRequest` rules.\n- Added support for `toggleReaderMode` to the `tabs` API.\n- Added support for additional `browser.scripting` APIs including: `scripting.registerContentScript`, `scripting.getRegisteredContentScripts`, `scripting.unregisterContentScripts`, and `scripting.updateContentScripts`.\n- Added support for modules in background service workers.\n- Added support for SVG images as web extension icons.\n- Added support for the `modifyHeaders` action type of `declarativeNetRequest`.\n- Added support to allow extensions to store data in memory using the `browser.storage.session` API.\n- Safari Web Extensions are now turned off upon update if the new version requests more host permissions.\n\n#### Resolved Issues\n\n- Extensions that request the `unlimitedStorage` permission no longer need to also request `storage`.\n- Fixed `browser.declarativeNetRequest` namespace is now available when an extension has the `declarativeNetRequestWithHostAccess` permission.\n- Fixed `isUrlFilterCaseSensitive` `declarativeNetRequest` rule condition to be false by default.\n- Fixed `tabs.onUpdated` getting called on tabs that were already closed.\n- Fixed background service worker failing to import scripts.\n- Fixed content scripts not injecting into subframes when extension accesses the page after a navigation.\n- Fixed CORS issue when doing fetch requests from a background service worker.\n- Fixed declarativeNetRequest errors not appearing correctly in the extension’s pane of Safari Settings.\n- Fixed display of extension cookie storage in Web Inspector. Now the extension name is shown instead of a UUID.\n- Fixed declarativeNetRequest rules not loading when an extension is turned off and then on.\n- Fixed result of `getMatchedRules()` to match other browsers.\n- Fixed `browser.webNavigation` events firing for hosts where the extension did not have access.\n- Removed Keyboard Shortcut conflict warnings for `browser.commands` when there are multiple commands without keyboard shortcuts assigned.\n\n### Scrolling\n\n#### New Features\n\n- Added support for smooth key-driven scrolling on macOS.\n\n#### Resolved Issues\n\n- Fixed `overscroll-behavior: none` to prevent overscroll when the page is too small to scroll.\n\n### SVG\n\n#### Resolved Issues\n\n- Fixed `<svg:text>` to not auto-wrap.\n- Fixed `preserveAspectRatio` to stop accepting `defer`.\n- Fixed `SVG.currentScale` to only set the page zoom for a standalone SVG.\n- Fixed `svgElement.setCurrentTime` to restrict floats to finite values.\n- Fixed applying changes to `fill` with `currentColor` to other colors via CSS.\n- Fixed changes to the `filter` property getting ignored.\n- Fixed CSS and SVG filters resulting in a low quality, pixelated image.\n- Fixed focusability even when tab-to-links is enabled for `<svg:a>`.\n- Fixed handling animation freezes when `repeatDur` is not a multiple of `dur`.\n- Fixed making sure computed values for `baseline-shift` CSS property use `px` unit for lengths.\n\n### Tables\n\n#### Resolved Issues\n\n- Fixed not forcing `display: table-cell`, `display: inline-table`, `display: table`, and `float: none` on table cell elements when in quirks mode.\n- Fixed removing the visual border when the table border attribute is removed.\n\n### Text\n\n#### New Features\n\n- Added support for `font-size-adjust`.\n\n#### Resolved Issues\n\n- Fixed `font-optical-sizing: auto` having no effect in Safari 16.\n- Fixed directionality of the `<bdi>` and `<input>` elements to align with HTML specifications.\n- Fixed handling an invalid `dir` attribute to not affect directionality.\n- Fixed the default oblique angle from `20deg` to `14deg`.\n- Fixed the handling of `<bdo>`.\n- Fixed the order of how `@font-palette-values` `override-colors` are applied.\n\n### WebAssembly\n\n#### New Features\n\n- Added support for WASM SIMD.\n\n### Web Animations\n\n#### New Features\n\n- Added animation support for `align-tracks` and `justify-tracks`.\n- Added support for `KeyframeEffect.iterationComposite`.\n- Added support for animating custom properties.\n- Added support for blending of mismatched filter lists.\n\n#### Resolved Issues\n\n- Fixed `@keyframes` rules using an `inherit` value to update the resolved value when the parent style changes.\n- Fixed `Animation.commitStyles()` triggering a mutation even when the styles are unchanged.\n- Fixed `Animation.startTime` and `Animation.currentTime` setters support for CSSNumberish values.\n- Fixed `baseline-shift` animation.\n- Fixed `baselineShift` inherited changes.\n- Fixed `commitStyles()` failing to commit a relative `line-height` value.\n- Fixed `getKeyframes()` serialization of CSS values for an `onkeyframe` sequence.\n- Fixed `rotate: x` and `transform: rotate(x)` to yield the same behavior with SVGs.\n- Fixed `word-spacing` to support animating between percentage and fixed values.\n- Fixed accounting for non-inherited CSS variables getting interpolated for standard properties on the same element.\n- Fixed accumulating and clamping filter values when blending with `\"none\"`.\n- Fixed accumulation support for the `filter` property.\n- Fixed additivity support for the `filter` property.\n- Fixed animation of color list custom properties with `iterationComposite`.\n- Fixed blend transform when iterationComposite is set to `accumulate`.\n- Fixed blending to account for `iterationComposite`.\n- Fixed Calculating computed keyframes for shorthand properties.\n- Fixed composite animations to compute blended additive or accumulative keyframes for in-between keyframes.\n- Fixed computing the `keyTimes` index correctly for discrete values animations.\n- Fixed CSS animations participation in the cascade.\n- Fixed custom properties to support interpolation with a single keyframe.\n- Fixed filter values containing a `url()` should animate discretely.\n- Fixed interpolating custom properties to take `iterationComposite` into account.\n- Fixed jittering when animating a rotated image.\n- Fixed keyframes to be recomputed if a custom property registration changes.\n- Fixed keyframes to be recomputed if the CSS variable used is changed.\n- Fixed keyframes to be recomputed when `bolder` or `lighter` is used on a `font-weight` property.\n- Fixed keyframes to be recomputed when a parent element changes value for a custom property set to `inherit`.\n- Fixed keyframes to be recomputed when a parent element changes value for a non-inherited property set to `inherit`.\n- Fixed keyframes to be recomputed when the `currentcolor` value is used on a custom property.\n- Fixed keyframes to be recomputed when the `currentcolor` value is used.\n- Fixed opacity to use unclamped values for `from` and `to` keyframes with `iterationComposite`.\n- Fixed running a transition on an inherited CSS variable getting reflected on a standard property using that variable as a value.\n- Fixed seamlessly updating the playback rate of an animation.\n- Fixed setting `iterationComposite` should invalidate the effect.\n- Fixed setting the `transition-property` to `none` does not disassociate the CSS Transition from owning the element.\n- Fixed the composite operation of implicit keyframes for CSS Animations to return `\"replace\"`.\n- Fixed the timing model for updating animations and sending events.\n- Fixed updating timing to invalidate the effect.\n\n### Web API\n\n#### New Features\n\n- Added support for 2D-only OffscreenCanvas.\n- Added support for `gamepad.vibrationActuator`.\n- Added support for a submitter parameter in the FormData constructor.\n- Added support for COEP violation reporting.\n- Added support for COOP\/COEP navigation violation reporting.\n- Added support for Fetch Initiator.\n- Added support for Fetch Metadata Request Headers.\n- Added support for importing compressed EC keys in WebCrypto.\n- Added support for loading scripts for nested workers.\n- Added support for non-autofill credential type for the `autocomplete` attribute.\n- Added support for revoking Blob URLs across same-origin contexts.\n- Added support for Scroll to Text Fragment\n- Added support for Service Workers and Shared Workers to the Permissions API.\n- Added support for the `isComposing` attribute on InputEvent.\n- Added support for the Compression Streams API.\n- Added support for the Notification API in dedicated workers.\n- Added support for the Reporting API.\n- Added support for the Screen Wake Lock API.\n- Added support for the UserActivation API.\n- Added support for `ScreenOrientation.type`, `ScreenOrientation.angle`, and `ScreenOrientation.onchange`.\n- Added support for the termination of nested workers.\n- Added support for the unprefixed Fullscreen API on macOS and iPadOS.\n- Added support for transfer size metrics for first parties in `ServerTiming` and `PerformanceResourceTiming`.\n- Added support to the Permissions API for dedicated workers.\n- Added support for the `messageerror` event.\n\n#### Resolved Issues\n\n- Fixed `-webkit-user-select: none` allowing text to be copied to clipboard.\n- Fixed `contentEditable` caret getting left aligned instead of centered when the `:before` pseudo-element is used.\n- Fixed `Cross-Origin-Embedder-Policy` incorrectly blocking scripts on cache hit.\n- Fixed `CSSRule.type` to not return values greater than 15.\n- Fixed `document.open()` to abort all loads when the document is navigating.\n- Fixed `document.open()` to remove the initial `about:blank`-ness of the document.\n- Fixed `Element.querySelectorAll` not obeying element scope with ID.\n- Fixed `FileSystemSyncAccessHandle` write operation to be quota protected.\n- Fixed `getBoundingClientRect()` returning the wrong value for `<tr>`, `<td>`, and its descendants for a vertical table.\n- Fixed `HTMLOutputElement.htmlFor` to make it settable.\n- Fixed `queryCommandValue(\"stylewithcss\")` to always return an empty string.\n- Fixed `StorageEvent.initStorageEvent()` to align with HTML specifications.\n- Fixed `textContent` leaving dir=auto content in the wrong direction.\n- Fixed `user-select: initial` content within `user-select: none` should be copied\n- Fixed `WorkerGlobalScope.isSecureContext` to be based on the owner’s top URL, not the owner’s URL.\n- Fixed a bug where `mousedown` without `mouseup` in a frame prevents a click event in another frame.\n- Fixed a sometimes incorrect location after exiting mouse hover.\n- Fixed accepting `image\/jpg` for compatibility.\n- Fixed adding a non-breaking space, instead of a plain space, when it is inserted before an empty text node.\n- Fixed behavior of nested click event on a label element with a checkbox.\n- Fixed BroadcastChannel in a SharedWorker when hosted in a cross-origin iframe.\n- Fixed calculation of direction for text form control elements with `dir=\"auto\"`.\n- Fixed canvas fallback content focusability computation.\n- Fixed deleting a button element leaving the button’s style in a `contenteditable` element.\n- Fixed disconnected `<fieldset>` elements sometimes incorrectly matching `:valid` or `:invalid` selectors.\n- Fixed dragging the mouse over a `user-select: none` node can begin selection in another node.\n- Fixed ensuring nested workers get controlled if matching a service worker registration.\n- Fixed errors caught and reported for `importScripts()`.\n- Fixed escaping “&” in JavaScript URLs for `innerHTML` and `outerHTML`.\n- Fixed EventSource to stop allowing trailing data when parsing a retry delay.\n- Fixed Fetch Request object to keep its Blob URL alive.\n- Fixed filled text on a canvas with a web font refreshing or disappearing.\n- Fixed find on page failing to show results in PDFs.\n- Fixed firing an error event when link preload fails synchronously.\n- Fixed form submissions to cancel JavaScript URL navigations.\n- Fixed handing the `onerror` content attribute on body and frameset elements.\n- Fixed handling opaque origin Blob URLs.\n- Fixed handling text documents to align to modern HTML specifications.\n- Fixed handling the onerror content attribute on `<body>` and `<frameset>` elements.\n- Fixed HTMLTemplateElement to have a `shadowRootMode` attribute.\n- Fixed including alternate stylesheets in `document.styleSheets`.\n- Fixed incorrect caret movement in some right-to-left `contenteditable` elements.\n- Fixed incorrect color for videos loaded in a canvas.\n- Fixed incorrect image `srcset` candidate chosen for `<img>` cloned from `<template>`.\n- Fixed incorrectly ignored `X-Frame-Options` HTTP headers with an empty value.\n- Fixed lazy loading images sometimes not loading.\n- Fixed link elements to be able to fire more than one `load` or `error` event.\n- Fixed loading Blob URLs with a fragment from opaque, unique origins.\n- Fixed maintaining the original `Content-Type` header on a 303 HTTP redirect.\n- Fixed module scripts to always decode using UTF-8.\n- Fixed MouseEventInit to take `movementX` and `movementY`.\n- Fixed not dispatching a `progress` event when reading an empty file or blob using the FileReader API.\n- Fixed not replacing the current history item when navigating a cross-origin iframe to the same URL.\n- Fixed overriding the mimetype for an XHR.\n- Fixed parsing of negative age values in CORS prefetch responses.\n- Fixed pasting of the first newline into text area.\n- Fixed preventing selection for generated counters in ordered lists.\n- Fixed Safari frequently using stale cached resources despite using Reload Page From Origin.\n- Fixed scheduling a navigation to a Blob URL to keep the URL alive until the navigation occurs.\n- Fixed sending Basic authentication via XHR using `setRequestHeader()` when there is an existing session.\n- Fixed setting `style=\"\"` to destroy the element’s inline style.\n- Fixed setting the `tabIndex` of a non-focusable HTMLElement.\n- Fixed system colors not respecting inherited `color-scheme` values.\n- Fixed textarea placeholder text not disappearing when text is inserted without a user gesture.\n- Fixed the `event.keyIdentifier` value for F10 and F11 keys.\n- Fixed the click event to not get suppressed on textarea resize.\n- Fixed the computed value for the `transform` property with `SkewY`.\n- Fixed the initialization of color properties.\n- Fixed timing of ResizeObserver and IntersectionObserver to match other browsers.\n- Fixed toggling a details element when a summary element receives a `click()`.\n- Fixed updating Text node children of an option element to not reset the selection of the select element.\n- Fixed using NFC Security Key on iOS.\n- Fixed using WebAuthn credentials registered on iOS 15 if iCloud Keychain is disabled.\n- Fixed WebAuthn sending Attestation as None when requested as Direct.\n- Fixed XHR aborting to align with standards specification\n- Fixed XHR error events to return 0 for loaded and total.\n- Fixed: Made all FileSystemSyncAccessHandle methods synchronous.\n- Fixed: Removed a gray border while loading images with `loading=\"lazy\"`.\n- Fixed: Removed the `precision=\"float\"` attribute on `<input type=\"range\">`.\n\n### Web Apps\n\n#### New Features\n\n- Added support for Web Push in web apps saved to the home screen on iOS.\n- Added support for the `\"id\"` member in Web App Manifest files.\n- Added support for the Badging API.\n- Added support for third-party browsers to offer Add to Home Screen from the Share menu.\n\n### WebGL\n\n#### New Features\n\n- Added support for `display-p3` wide-gamut color space in WebGL canvas.\n- Added support for `WEBGL_clip_cull_distance`.\n\n#### Resolved Issues\n\n- Fixed video textures set to repeat.\n\n### Web Inspector\n\n#### New Features\n\n- Added a Badges button to control what badges are shown in the Elements Tab.\n- Added a Path column to the Network Tab.\n- Added a setting to turn off dimming nodes that aren’t visible on the page in the Settings Tab.\n- Added alphabetic sorting of headers in the Network Tab.\n- Added Event badges for nodes that have event listeners in the Elements Tab.\n- Added OpenGL object IDs in the Canvas inspector of the Graphics Tab.\n- Added Scroll badges for scrollable elements in the Elements Tab.\n- Added showing relevant special breakpoints in the Pause Reason section of the Sources Tab.\n- Added support for user preference overrides in the Elements Tab.\n- Added support for console snippets in the Console Tab.\n- Added support for editing `@media`, `@container`, and `@supports` rules in the Styles panel of the Elements Tab.\n- Added support for editing font variation axes in the Elements Tab.\n- Added support for function breakpoints and tracepoints.\n- Added support for inline breakpoints in the Sources Tab.\n- Added support for nodes that aren’t visible on the page to appear dimmed in the DOM tree of the Elements Tab.\n- Added support for per-page network throttling in the Network Tab.\n- Added support for showing warnings for synthesized bold or oblique in the Font details sidebar of the Elements Tab.\n- Added support for symbolic breakpoints in the Sources Tab\n- Added using the Shift key to highlight the initiator or initiated resources in the Network Tab.\n\n#### Resolved Issues\n\n- Fixed “Inspect Element” not highlighting the element.\n- Fixed capturing async stack traces for `queueMicrotask`.\n- Fixed clicking coalesced events in the timeline selecting the wrong event.\n- Fixed event breakpoints to support case-insensitive and RegExp matching.\n- Fixed sending `Console.StackTrace` instead of an array of `Console.CallFrame`.\n- Fixed slow search with a lot of files in the Open Resource dialog.\n- Fixed sorting prefixed properties below non-prefixed properties in the Computed panel of the Elements Tab.\n- Fixed the always empty Attributes section in the Node panel of the Elements Tab.\n- Fixed the Computed Tab scrolling to the top when a `<style>` is added to the page.\n- Fixed URL breakpoints to also pause when HTML attributes are set that trigger loads.\n- fixed: Improved the visual hierarchy of the Layout sidebar in the Elements Tab.\n\n### WebDriver\n\n#### New Features\n\n- Added support for generateTestReport.\n- Added support for shadow roots.\n- Added support for the “Get Computed Role” and “Get Computed Label” commands.\n- Added support for the `SameSite` cookie attribute.\n- Added support for typing characters that are represented by multiple code points, including emoji.\n\n#### Resolved Issues\n\n- Fixed “Get Element Rect” to not round to integer values.\n- Fixed automation sessions terminating during navigation.\n- Fixed click element failing on iPad when Stage Manager is disabled.\n- Fixed HTTP GET requests with a body failing.\n- Fixed the Shift modifier key not applying to typed text.\n\n### WKWebView\n\n#### New Features\n\n- Added WKPreferences `shouldPrintBackgrounds` API to allow clients to specify if a page’s background should be included when printing.\n\n## Version 16\n\n- **Safari 16.6 Release Notes**: Released July 24, 2023 — Version 16.6 (18615.3.12)\n- **Safari 16.5 Release Notes**: Released May 18, 2023 — Version 16.5 (18615.2.9)\n- **Safari 16.3 Release Notes**: Released January 23, 2023 — Version 16.3 (18614.4.6)\n- **Safari 16.2 Release Notes**: Released December 13, 2022 — Version 16.2 (18614.3.7)\n- **Safari 16.1 Release Notes**: Released October 24, 2022 — Version 16.1 (18614.2.9)\n- **Safari 16 Release Notes**: Released September 12, 2022 — Version 16 (18614.1.25)\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Released July 24, 2023 — Version 16.6 (18615.3.12)",
          "name" : "Safari 16.6 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_6-release-notes"
        },
        {
          "description" : "Released May 18, 2023 — Version 16.5 (18615.2.9)",
          "name" : "Safari 16.5 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_5-release-notes"
        },
        {
          "description" : "Released January 23, 2023 — Version 16.3 (18614.4.6)",
          "name" : "Safari 16.3 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_3-release-notes"
        },
        {
          "description" : "Released December 13, 2022 — Version 16.2 (18614.3.7)",
          "name" : "Safari 16.2 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_2-release-notes"
        },
        {
          "description" : "Released October 24, 2022 — Version 16.1 (18614.2.9)",
          "name" : "Safari 16.1 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_1-release-notes"
        },
        {
          "description" : "Released September 12, 2022 — Version 16 (18614.1.25)",
          "name" : "Safari 16 Release Notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16-release-notes"
        }
      ],
      "title" : "Version 16"
    }
  ],
  "source" : "appleJSON",
  "title" : "Safari 16.4 Release Notes",
  "url" : "https:\/\/developer.apple.com\/documentation\/Safari-Release-Notes\/safari-16_4-release-notes"
}