{
  "abstract" : "Unblocks the main thread during asynchronous saving.",
  "codeExamples" : [

  ],
  "contentHash" : "34e9e27f1ac70d517def602e672d29773f3c3e3dbb887f25a634fdd0f91e1b75",
  "crawledAt" : "2025-12-02T18:06:24Z",
  "declaration" : {
    "code" : "nonisolated func unblockUserInteraction()",
    "language" : "swift"
  },
  "id" : "E29140B2-25B7-41C4-892D-22260E7A7FBD",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nIf [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)] is writing on a non-main thread because [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)] has returned [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], but it is still blocking the main thread, this method unblocks the main thread. Otherwise, it does nothing. For example, the default implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileWrapper(ofType:)] invokes this when it has created the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileWrapper] object to return. Assuming that the `NSFileWrapper` is not mutated by subsequent user actions, it is effectively a “snapshot” of the document’s contents, and once it is created it is safe to resume handling user events on the main thread, even though some of those user events might change the document’s contents before the `NSFileWrapper` object has been safely written. You can invoke this method to make asynchronous saving actually asynchronous if you’ve overridden [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)], or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:)] in such a way that the invocation of this method done by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:)] default implementation won’t happen during writing.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()\ncrawled: 2025-12-02T18:06:24Z\n---\n\n# unblockUserInteraction()\n\n**Instance Method**\n\nUnblocks the main thread during asynchronous saving.\n\n## Declaration\n\n```swift\nnonisolated func unblockUserInteraction()\n```\n\n## Discussion\n\nIf [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)] is writing on a non-main thread because [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)] has returned [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], but it is still blocking the main thread, this method unblocks the main thread. Otherwise, it does nothing. For example, the default implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileWrapper(ofType:)] invokes this when it has created the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileWrapper] object to return. Assuming that the `NSFileWrapper` is not mutated by subsequent user actions, it is effectively a “snapshot” of the document’s contents, and once it is created it is safe to resume handling user events on the main thread, even though some of those user events might change the document’s contents before the `NSFileWrapper` object has been safely written. You can invoke this method to make asynchronous saving actually asynchronous if you’ve overridden [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)], or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:)] in such a way that the invocation of this method done by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:)] default implementation won’t happen during writing.\n\n## Writing the Document’s Content\n\n- **canAsynchronouslyWrite(to:ofType:for:)**: Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.\n- **write(to:ofType:)**: Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.\n- **writeSafely(to:ofType:for:)**: Writes the contents of the document to a file or file package located by a URL.\n- **fileWrapper(ofType:)**: Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.\n- **data(ofType:)**: Creates and returns a data object that contains the contents of the document, formatted to a specified type.\n- **write(to:ofType:for:originalContentsURL:)**: Writes the contents of the document to a file or file package located by a URL.\n- **save(to:ofType:for:delegate:didSave:contextInfo:)**: Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.\n- **save(to:ofType:for:completionHandler:)**: Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.\n- **fileAttributesToWrite(to:ofType:for:originalContentsURL:)**: Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.\n- **NSDocument.SaveOperationType**: Constants for specifying the type of document-save operation to perform.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.",
          "name" : "canAsynchronouslyWrite(to:ofType:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.",
          "name" : "write(to:ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL.",
          "name" : "writeSafely(to:ofType:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)"
        },
        {
          "description" : "Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.",
          "name" : "fileWrapper(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileWrapper(ofType:)"
        },
        {
          "description" : "Creates and returns a data object that contains the contents of the document, formatted to a specified type.",
          "name" : "data(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/data(ofType:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL.",
          "name" : "write(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.",
          "name" : "save(to:ofType:for:delegate:didSave:contextInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:delegate:didSave:contextInfo:)"
        },
        {
          "description" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.",
          "name" : "save(to:ofType:for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)"
        },
        {
          "description" : "Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.",
          "name" : "fileAttributesToWrite(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileAttributesToWrite(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Constants for specifying the type of document-save operation to perform.",
          "name" : "NSDocument.SaveOperationType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/SaveOperationType"
        }
      ],
      "title" : "Writing the Document’s Content"
    }
  ],
  "source" : "appleJSON",
  "title" : "unblockUserInteraction()",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()"
}