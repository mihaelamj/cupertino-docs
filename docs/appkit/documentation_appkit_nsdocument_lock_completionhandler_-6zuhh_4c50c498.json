{
  "abstract" : "Prevents the user from making further changes to the document.",
  "codeExamples" : [

  ],
  "contentHash" : "82ab34cf5a9a1b877070a26685585b11a26bdec39c2d7cc4aaef5315fe1f47c5",
  "crawledAt" : "2025-12-02T18:26:19Z",
  "declaration" : {
    "code" : "@MainActor func lock(completionHandler: ((Bool) -> Void)? = nil)",
    "language" : "swift"
  },
  "id" : "5318F94A-7A0B-48C9-99B1-E2B0EE54BDE8",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nBy default, this method first ensures that any editor who has registered using Cocoa Binding’s NSEditorRegistration informal protocol has committed all changes and then autosaves the document, if necessary, before attempting to lock it using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/lock(completionHandler:)-161qv] method. Upon successful locking, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/isLocked] property is set to `[YES]`. Documents whose [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileURL] property is set to `nil` cannot be locked.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/lock(completionHandler:)-6zuhh\ncrawled: 2025-12-02T18:26:19Z\n---\n\n# lock(completionHandler:)\n\n**Instance Method**\n\nPrevents the user from making further changes to the document.\n\n## Declaration\n\n```swift\n@MainActor func lock(completionHandler: ((Bool) -> Void)? = nil)\n```\n\n```swift\n@MainActor func lock() async -> Bool\n```\n\n## Parameters\n\n- **completionHandler**: The completion handler block object passed in to be invoked after locking is completed, regardless of success or failure of locking.\n\n## Discussion\n\nBy default, this method first ensures that any editor who has registered using Cocoa Binding’s NSEditorRegistration informal protocol has committed all changes and then autosaves the document, if necessary, before attempting to lock it using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/lock(completionHandler:)-161qv] method. Upon successful locking, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/isLocked] property is set to `[YES]`. Documents whose [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileURL] property is set to `nil` cannot be locked.\n\n## Locking the Document\n\n- **lock(_:)**: Locks the document in response to the user choosing the Lock menu item.\n- **unlock(_:)**: Unlocks the document in response to the user choosing the Unlock menu item.\n- **lock(completionHandler:)**: Prevents the user from making changes to the document’s file.\n- **unlock(completionHandler:)**: Allows the user to make modifications to the document.\n- **unlock(completionHandler:)**: Allows the user to make modifications to the document’s file.\n- **isLocked**: A Boolean value that indicates whether or not the file can be written to.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locks the document in response to the user choosing the Lock menu item.",
          "name" : "lock(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/lock(_:)"
        },
        {
          "description" : "Unlocks the document in response to the user choosing the Unlock menu item.",
          "name" : "unlock(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unlock(_:)"
        },
        {
          "description" : "Prevents the user from making changes to the document’s file.",
          "name" : "lock(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/lock(completionHandler:)-161qv"
        },
        {
          "description" : "Allows the user to make modifications to the document.",
          "name" : "unlock(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unlock(completionHandler:)-8p8zd"
        },
        {
          "description" : "Allows the user to make modifications to the document’s file.",
          "name" : "unlock(completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unlock(completionHandler:)-6m7rh"
        },
        {
          "description" : "A Boolean value that indicates whether or not the file can be written to.",
          "name" : "isLocked",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/isLocked"
        }
      ],
      "title" : "Locking the Document"
    }
  ],
  "source" : "appleJSON",
  "title" : "lock(completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/lock(completionHandler:)-6zuhh"
}