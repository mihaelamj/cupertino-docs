{
  "abstract" : "Saves the interface-related state of the document.",
  "codeExamples" : [

  ],
  "contentHash" : "0ace43083e70807076deed75cf7cda09a21444b6560619b76c4e031a33eff01d",
  "crawledAt" : "2025-11-30T22:10:05Z",
  "declaration" : {
    "code" : "@MainActor func encodeRestorableState(with coder: NSCoder)",
    "language" : "swift"
  },
  "id" : "231F2B36-84A0-419C-8B1B-7F4E1C4B8E08",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save your document’s window-related state information to the specified archive. The default implementation of this method records some basic information about the document. If you override this method, you must call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the document’s window to its current state. For example, you could use this method to record references to the data currently managed by the document and displayed by the window. (Do not store the actual data itself. Store only references to the data so that you can load it later from disk.) You must store enough data to reconfigure the document and its window to their current state during a subsequent launch of the app.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/encodeRestorableState(with:)\ncrawled: 2025-11-30T22:10:05Z\n---\n\n# encodeRestorableState(with:)\n\n**Instance Method**\n\nSaves the interface-related state of the document.\n\n## Declaration\n\n```swift\n@MainActor func encodeRestorableState(with coder: NSCoder)\n```\n\n## Parameters\n\n- **coder**: The coder object in which to save the document’s interface-related state.\n\n## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save your document’s window-related state information to the specified archive. The default implementation of this method records some basic information about the document. If you override this method, you must call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the document’s window to its current state. For example, you could use this method to record references to the data currently managed by the document and displayed by the window. (Do not store the actual data itself. Store only references to the data so that you can load it later from disk.) You must store enough data to reconfigure the document and its window to their current state during a subsequent launch of the app.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].\n\n## Handling Window Restoration\n\n- **allowedClasses(forRestorableStateKeyPath:)**: Returns the classes that support secure coding.\n- **restoreState(with:)**: Restores the interface-related state of the document.\n- **restorableStateKeyPaths**: Returns an array of key paths that represent the restorable attributes of the document.\n- **invalidateRestorableState()**: Marks the document’s interface-related state as dirty.\n- **restoreWindow(withIdentifier:state:completionHandler:)**: Restores a window that was associated with a document, after that document is reopened.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the classes that support secure coding.",
          "name" : "allowedClasses(forRestorableStateKeyPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/allowedClasses(forRestorableStateKeyPath:)"
        },
        {
          "description" : "Restores the interface-related state of the document.",
          "name" : "restoreState(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restoreState(with:)"
        },
        {
          "description" : "Returns an array of key paths that represent the restorable attributes of the document.",
          "name" : "restorableStateKeyPaths",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restorableStateKeyPaths"
        },
        {
          "description" : "Marks the document’s interface-related state as dirty.",
          "name" : "invalidateRestorableState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/invalidateRestorableState()"
        },
        {
          "description" : "Restores a window that was associated with a document, after that document is reopened.",
          "name" : "restoreWindow(withIdentifier:state:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restoreWindow(withIdentifier:state:completionHandler:)"
        }
      ],
      "title" : "Handling Window Restoration"
    }
  ],
  "source" : "appleJSON",
  "title" : "encodeRestorableState(with:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/encodeRestorableState(with:)"
}