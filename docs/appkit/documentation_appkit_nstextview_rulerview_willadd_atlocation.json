{
  "abstract" : "Returns a potentially modified location to which the marker should be added.",
  "codeExamples" : [

  ],
  "contentHash" : "f174219c544b0f3af9f8198d6babdba761f873213e333b35bf3094e2737c499c",
  "crawledAt" : "2025-12-01T13:27:24Z",
  "declaration" : {
    "code" : "@MainActor func rulerView(_ ruler: NSRulerView, willAdd marker: NSRulerMarker, atLocation location: CGFloat) -> CGFloat",
    "language" : "swift"
  },
  "id" : "BAB4DD42-EC20-43F4-BCCC-27FD96883ADD",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Return Value\n\nThe modified location to which the marker should be added.\n\n## Discussion\n\nThis method ensures that the proposed `location` of `aMarker` lies within the appropriate bounds for the receiver’s text container, returning the modified location. Appropriate bounds are those of the text container minus its line fragment padding.\n\nTypically, the ruler view’s width matches that of its text view.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:willAdd:atLocation:)\ncrawled: 2025-12-01T13:27:24Z\n---\n\n# rulerView(_:willAdd:atLocation:)\n\n**Instance Method**\n\nReturns a potentially modified location to which the marker should be added.\n\n## Declaration\n\n```swift\n@MainActor func rulerView(_ ruler: NSRulerView, willAdd marker: NSRulerMarker, atLocation location: CGFloat) -> CGFloat\n```\n\n## Parameters\n\n- **ruler**: The ruler view sending the message.\n- **marker**: The marker to be added.\n- **location**: The new location for the marker, in the ruler view’s coordinates.\n\n## Return Value\n\nThe modified location to which the marker should be added.\n\n## Discussion\n\nThis method ensures that the proposed `location` of `aMarker` lies within the appropriate bounds for the receiver’s text container, returning the modified location. Appropriate bounds are those of the text container minus its line fragment padding.\n\nTypically, the ruler view’s width matches that of its text view.\n\n## Supporting the ruler view\n\n- **rulerView(_:didMove:)**: Modifies the paragraph style of the paragraphs containing the selection to record the new location of the marker.\n- **rulerView(_:willMove:toLocation:)**: Returns a potentially modified location to which the marker should be moved.\n- **rulerView(_:shouldMove:)**: Returns whether the marker should be moved.\n- **rulerView(_:didRemove:)**: Modifies the paragraph style of the paragraphs containing the selection—if possible—by removing the specified marker.\n- **rulerView(_:shouldRemove:)**: Returns whether the marker should be removed.\n- **rulerView(_:didAdd:)**: Modifies the paragraph style of the paragraphs containing the selection to accommodate a new marker.\n- **rulerView(_:shouldAdd:)**: Returns whether a new marker can be added.\n- **rulerView(_:handleMouseDownWith:)**: Adds a left tab marker to the ruler at the location clicked.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Modifies the paragraph style of the paragraphs containing the selection to record the new location of the marker.",
          "name" : "rulerView(_:didMove:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:didMove:)"
        },
        {
          "description" : "Returns a potentially modified location to which the marker should be moved.",
          "name" : "rulerView(_:willMove:toLocation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:willMove:toLocation:)"
        },
        {
          "description" : "Returns whether the marker should be moved.",
          "name" : "rulerView(_:shouldMove:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:shouldMove:)"
        },
        {
          "description" : "Modifies the paragraph style of the paragraphs containing the selection—if possible—by removing the specified marker.",
          "name" : "rulerView(_:didRemove:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:didRemove:)"
        },
        {
          "description" : "Returns whether the marker should be removed.",
          "name" : "rulerView(_:shouldRemove:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:shouldRemove:)"
        },
        {
          "description" : "Modifies the paragraph style of the paragraphs containing the selection to accommodate a new marker.",
          "name" : "rulerView(_:didAdd:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:didAdd:)"
        },
        {
          "description" : "Returns whether a new marker can be added.",
          "name" : "rulerView(_:shouldAdd:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:shouldAdd:)"
        },
        {
          "description" : "Adds a left tab marker to the ruler at the location clicked.",
          "name" : "rulerView(_:handleMouseDownWith:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:handleMouseDownWith:)"
        }
      ],
      "title" : "Supporting the ruler view"
    }
  ],
  "source" : "appleJSON",
  "title" : "rulerView(_:willAdd:atLocation:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rulerView(_:willAdd:atLocation:)"
}