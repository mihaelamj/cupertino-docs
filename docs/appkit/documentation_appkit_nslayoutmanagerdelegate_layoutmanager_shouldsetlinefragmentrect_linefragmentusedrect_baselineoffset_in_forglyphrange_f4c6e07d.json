{
  "abstract" : "Customizes the line fragment geometry before committing it to the layout cache.",
  "codeExamples" : [

  ],
  "contentHash" : "12bbf357d1842d1f4801f3ff2b668ba2aa6cb7290fd64105ae80a5cccf285331",
  "crawledAt" : "2025-12-05T13:57:39Z",
  "declaration" : {
    "code" : "optional func layoutManager(_ layoutManager: NSLayoutManager, shouldSetLineFragmentRect lineFragmentRect: UnsafeMutablePointer<NSRect>, lineFragmentUsedRect: UnsafeMutablePointer<NSRect>, baselineOffset: UnsafeMutablePointer<CGFloat>, in textContainer: NSTextContainer, forGlyphRange glyphRange: NSRange) -> Bool",
    "language" : "swift"
  },
  "id" : "23DDDA38-21BA-4D85-842D-453AB788FC32",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if you modified the layout information and want your modifications to be used or [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if the original layout information should be used.\n\n## Discussion\n\nUse this method to modify the line fragment rectangles associated with the text container. It is your responsibility to ensure that the modified rectangles remain valid and still lie within the text container.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:shouldSetLineFragmentRect:lineFragmentUsedRect:baselineOffset:in:forGlyphRange:)\ncrawled: 2025-12-05T13:57:39Z\n---\n\n# layoutManager(_:shouldSetLineFragmentRect:lineFragmentUsedRect:baselineOffset:in:forGlyphRange:)\n\n**Instance Method**\n\nCustomizes the line fragment geometry before committing it to the layout cache.\n\n## Declaration\n\n```swift\noptional func layoutManager(_ layoutManager: NSLayoutManager, shouldSetLineFragmentRect lineFragmentRect: UnsafeMutablePointer<NSRect>, lineFragmentUsedRect: UnsafeMutablePointer<NSRect>, baselineOffset: UnsafeMutablePointer<CGFloat>, in textContainer: NSTextContainer, forGlyphRange glyphRange: NSRange) -> Bool\n```\n\n## Parameters\n\n- **layoutManager**: The layout manager doing the work.\n- **lineFragmentRect**: The proposed rectangle that contains the glyphs. You may modify this rectangle as needed.\n- **lineFragmentUsedRect**: The portion of `lineFragmentRect` that actually contains glyphs or other rendered marks, including the text containerâ€™s line fragment padding. This rectangle must be equal to `lineFragmentRect` or wholly contained by it. You may modify this rectangle as needed.\n- **baselineOffset**: The vertical distance (in pixels) from the line fragment origin to the baseline on which the glyphs align.\n- **textContainer**: The text container for the line fragments.\n- **glyphRange**: The range of glyphs being laid out.\n\n## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if you modified the layout information and want your modifications to be used or [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if the original layout information should be used.\n\n## Discussion\n\nUse this method to modify the line fragment rectangles associated with the text container. It is your responsibility to ensure that the modified rectangles remain valid and still lie within the text container.\n\n## Handling line fragments\n\n- **layoutManager(_:shouldBreakLineByHyphenatingBeforeCharacterAt:)**: Asks the delegate whether to break the line at the specified character.\n- **layoutManager(_:shouldBreakLineByWordBeforeCharacterAt:)**: Asks the delegate whether to break the line at the specified word.\n- **layoutManager(_:lineSpacingAfterGlyphAt:withProposedLineFragmentRect:)**: Returns the amount of space to add to the end of a line.\n- **layoutManager(_:paragraphSpacingAfterGlyphAt:withProposedLineFragmentRect:)**: Returns the amount of space to add at the end of a paragraph.\n- **layoutManager(_:paragraphSpacingBeforeGlyphAt:withProposedLineFragmentRect:)**: Returns the amount of space to add at the beginning of a paragraph.\n- **layoutManager(_:boundingBoxForControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)**: Returns the bounding rectangle for the specified control glyph with the specified parameters.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the delegate whether to break the line at the specified character.",
          "name" : "layoutManager(_:shouldBreakLineByHyphenatingBeforeCharacterAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:shouldBreakLineByHyphenatingBeforeCharacterAt:)"
        },
        {
          "description" : "Asks the delegate whether to break the line at the specified word.",
          "name" : "layoutManager(_:shouldBreakLineByWordBeforeCharacterAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:shouldBreakLineByWordBeforeCharacterAt:)"
        },
        {
          "description" : "Returns the amount of space to add to the end of a line.",
          "name" : "layoutManager(_:lineSpacingAfterGlyphAt:withProposedLineFragmentRect:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:lineSpacingAfterGlyphAt:withProposedLineFragmentRect:)"
        },
        {
          "description" : "Returns the amount of space to add at the end of a paragraph.",
          "name" : "layoutManager(_:paragraphSpacingAfterGlyphAt:withProposedLineFragmentRect:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:paragraphSpacingAfterGlyphAt:withProposedLineFragmentRect:)"
        },
        {
          "description" : "Returns the amount of space to add at the beginning of a paragraph.",
          "name" : "layoutManager(_:paragraphSpacingBeforeGlyphAt:withProposedLineFragmentRect:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:paragraphSpacingBeforeGlyphAt:withProposedLineFragmentRect:)"
        },
        {
          "description" : "Returns the bounding rectangle for the specified control glyph with the specified parameters.",
          "name" : "layoutManager(_:boundingBoxForControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:boundingBoxForControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)"
        }
      ],
      "title" : "Handling line fragments"
    }
  ],
  "source" : "appleJSON",
  "title" : "layoutManager(_:shouldSetLineFragmentRect:lineFragmentUsedRect:baselineOffset:in:forGlyphRange:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManagerDelegate\/layoutManager(_:shouldSetLineFragmentRect:lineFragmentUsedRect:baselineOffset:in:forGlyphRange:)"
}