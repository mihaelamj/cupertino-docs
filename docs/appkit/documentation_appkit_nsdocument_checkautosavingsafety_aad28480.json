{
  "abstract" : "Returns a Boolean value that indicates whether it is safe to autosave document changes.",
  "codeExamples" : [

  ],
  "contentHash" : "9591e05da7d3ac992d918a1e0096667b1365492586a18bb975045ebe451efc18",
  "crawledAt" : "2025-12-02T18:25:37Z",
  "declaration" : {
    "code" : "@MainActor func checkAutosavingSafety() throws",
    "language" : "swift"
  },
  "id" : "BE4CDE83-0AC7-45C4-8098-1B3E06C680CB",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThe default implementation of this method checks for documents that have not been changed in a while (“a while” is subject to change) or are saved in folders where the user typically does not edit documents (the `~\/Downloads` folder, for example). When it senses one of those cases it returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] with an `NSError` object that has recovery options like Duplicate, Cancel, and Unlock.\n\nIn an app that has adopted autosaving in place by overriding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/autosavesInPlace] to return [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], you can override this method to customize the autosaving safety checking that `NSDocument` does by default. You can remove the `NSDocument` default checking by overriding this method and not invoking super. You can add to the `NSDocument` default checking by invoking super and then doing your own checking if `[super checkAutosavingSafetyAndReturnError:]` did not signal an error. For example, TextEdit overrides this method to ask the user what to do when opening a document file has been lossy and overwriting that file might therefore be lossy.\n\nWhen autosaving in place is turned on an `NSDocument` object may invoke this method when it receives notification from its `NSUndoManager` object that the user changed the document, or undid or redid a change. If an error is returned, `NSDocument` presents the error to the user, allowing the user to choose a recovery option. If the user chooses a recovery option, then `NSDocument` invokes this method again until no error is signaled, to make sure that all checks have been done. This means that when you signal an error and the user’s choice of recovery option indicates that they have seen and disregarded a safety concern, you must record that fact and not do that particular safety check again. Once all errors are handled, `NSDocument` continues by invoking [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/updateChangeCount(_:)]. If the user does not recover from an error, then `NSDocument` invokes one of the `NSUndoManager` methods [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager\/undo()] or [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager\/redo()] to roll back the change. So, some of the `NSError` recovery options the user can choose, like the `NSDocument` options Duplicate and Cancel, should indicate failed recovery and cause the document to remain unchanged afterward.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/checkAutosavingSafety()\ncrawled: 2025-12-02T18:25:37Z\n---\n\n# checkAutosavingSafety()\n\n**Instance Method**\n\nReturns a Boolean value that indicates whether it is safe to autosave document changes.\n\n## Declaration\n\n```swift\n@MainActor func checkAutosavingSafety() throws\n```\n\n## Discussion\n\nThe default implementation of this method checks for documents that have not been changed in a while (“a while” is subject to change) or are saved in folders where the user typically does not edit documents (the `~\/Downloads` folder, for example). When it senses one of those cases it returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] with an `NSError` object that has recovery options like Duplicate, Cancel, and Unlock.\n\nIn an app that has adopted autosaving in place by overriding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/autosavesInPlace] to return [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], you can override this method to customize the autosaving safety checking that `NSDocument` does by default. You can remove the `NSDocument` default checking by overriding this method and not invoking super. You can add to the `NSDocument` default checking by invoking super and then doing your own checking if `[super checkAutosavingSafetyAndReturnError:]` did not signal an error. For example, TextEdit overrides this method to ask the user what to do when opening a document file has been lossy and overwriting that file might therefore be lossy.\n\nWhen autosaving in place is turned on an `NSDocument` object may invoke this method when it receives notification from its `NSUndoManager` object that the user changed the document, or undid or redid a change. If an error is returned, `NSDocument` presents the error to the user, allowing the user to choose a recovery option. If the user chooses a recovery option, then `NSDocument` invokes this method again until no error is signaled, to make sure that all checks have been done. This means that when you signal an error and the user’s choice of recovery option indicates that they have seen and disregarded a safety concern, you must record that fact and not do that particular safety check again. Once all errors are handled, `NSDocument` continues by invoking [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/updateChangeCount(_:)]. If the user does not recover from an error, then `NSDocument` invokes one of the `NSUndoManager` methods [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager\/undo()] or [doc:\/\/com.apple.documentation\/documentation\/Foundation\/UndoManager\/redo()] to roll back the change. So, some of the `NSError` recovery options the user can choose, like the `NSDocument` options Duplicate and Cancel, should indicate failed recovery and cause the document to remain unchanged afterward.\n\n\n\n## Autosaving the Document\n\n- **hasUnautosavedChanges**: A Boolean value that indicates whether the document has changes that have not been autosaved.\n- **scheduleAutosaving()**: Schedules periodic autosaving for the purpose of crash protection.\n- **autosave(withDelegate:didAutosave:contextInfo:)**: Autosaves the document’s contents to an appropriate location in the file system.\n- **autosave(withImplicitCancellability:completionHandler:)**: Autosaves the document’s contents to an appropriate file-system location, as needed.\n- **backupFileURL**: The URL for the document’s backup file that was created during an autosave operation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the document has changes that have not been autosaved.",
          "name" : "hasUnautosavedChanges",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/hasUnautosavedChanges"
        },
        {
          "description" : "Schedules periodic autosaving for the purpose of crash protection.",
          "name" : "scheduleAutosaving()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/scheduleAutosaving()"
        },
        {
          "description" : "Autosaves the document’s contents to an appropriate location in the file system.",
          "name" : "autosave(withDelegate:didAutosave:contextInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/autosave(withDelegate:didAutosave:contextInfo:)"
        },
        {
          "description" : "Autosaves the document’s contents to an appropriate file-system location, as needed.",
          "name" : "autosave(withImplicitCancellability:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/autosave(withImplicitCancellability:completionHandler:)"
        },
        {
          "description" : "The URL for the document’s backup file that was created during an autosave operation.",
          "name" : "backupFileURL",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/backupFileURL"
        }
      ],
      "title" : "Autosaving the Document"
    }
  ],
  "source" : "appleJSON",
  "title" : "checkAutosavingSafety()",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/checkAutosavingSafety()"
}