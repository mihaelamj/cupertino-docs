{
  "abstract" : "Writes the contents of the document to a file or file package located by a URL.",
  "codeExamples" : [

  ],
  "contentHash" : "3c174d39607b502c8da38aa9a3686bce3710b5feb530593f0bc002742d6b4e09",
  "crawledAt" : "2025-11-30T22:09:23Z",
  "declaration" : {
    "code" : "nonisolated func writeSafely(to url: URL, ofType typeName: String, for saveOperation: NSDocument.SaveOperationType) throws",
    "language" : "swift"
  },
  "id" : "FEC794F6-5275-4E03-81C7-C850B859C8DC",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThe default implementation of this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)]. It also invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileAttributesToWrite(to:ofType:for:originalContentsURL:)] and writes the returned attributes, if any, to the file. It may copy some attributes from the old on-disk revision of the document at the same time, if applicable.\n\nThis method is responsible for doing document writing in a way that minimizes the danger of leaving the disk to which writing is being done in an inconsistent state in the event of an app crash, system crash, hardware failure, power outage, and so on. If you override this method, be sure to invoke the superclass implementation.\n\nFor `NSSaveOperation`, the default implementation of this method uses the value in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/keepBackupFile] property to determine whether or not the old on-disk revision of the document, if there was one, should be preserved after being renamed.\n\nFor backward binary compatibility with OS X v10.3 and earlier, the default implementation of this method instead invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeWithBackupToFile:ofType:saveOperation:] if that method is is overridden and the URL uses the `file:` scheme. The save operation in this case is never `NSAutosaveOperation`; `NSSaveToOperation` is used instead.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)\ncrawled: 2025-11-30T22:09:23Z\n---\n\n# writeSafely(to:ofType:for:)\n\n**Instance Method**\n\nWrites the contents of the document to a file or file package located by a URL.\n\n## Declaration\n\n```swift\nnonisolated func writeSafely(to url: URL, ofType typeName: String, for saveOperation: NSDocument.SaveOperationType) throws\n```\n\n## Parameters\n\n- **url**: The location to which the document contents are written.\n- **typeName**: The string that identifies the document type.\n- **saveOperation**: The type of save operation.\n\n## Discussion\n\nThe default implementation of this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)]. It also invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileAttributesToWrite(to:ofType:for:originalContentsURL:)] and writes the returned attributes, if any, to the file. It may copy some attributes from the old on-disk revision of the document at the same time, if applicable.\n\nThis method is responsible for doing document writing in a way that minimizes the danger of leaving the disk to which writing is being done in an inconsistent state in the event of an app crash, system crash, hardware failure, power outage, and so on. If you override this method, be sure to invoke the superclass implementation.\n\nFor `NSSaveOperation`, the default implementation of this method uses the value in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/keepBackupFile] property to determine whether or not the old on-disk revision of the document, if there was one, should be preserved after being renamed.\n\nFor backward binary compatibility with OS X v10.3 and earlier, the default implementation of this method instead invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeWithBackupToFile:ofType:saveOperation:] if that method is is overridden and the URL uses the `file:` scheme. The save operation in this case is never `NSAutosaveOperation`; `NSSaveToOperation` is used instead.\n\n\n\n## Writing the Document’s Content\n\n- **canAsynchronouslyWrite(to:ofType:for:)**: Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.\n- **unblockUserInteraction()**: Unblocks the main thread during asynchronous saving.\n- **write(to:ofType:)**: Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.\n- **fileWrapper(ofType:)**: Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.\n- **data(ofType:)**: Creates and returns a data object that contains the contents of the document, formatted to a specified type.\n- **write(to:ofType:for:originalContentsURL:)**: Writes the contents of the document to a file or file package located by a URL.\n- **save(to:ofType:for:delegate:didSave:contextInfo:)**: Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.\n- **save(to:ofType:for:completionHandler:)**: Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.\n- **fileAttributesToWrite(to:ofType:for:originalContentsURL:)**: Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.\n- **NSDocument.SaveOperationType**: Constants for specifying the type of document-save operation to perform.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.",
          "name" : "canAsynchronouslyWrite(to:ofType:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)"
        },
        {
          "description" : "Unblocks the main thread during asynchronous saving.",
          "name" : "unblockUserInteraction()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.",
          "name" : "write(to:ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:)"
        },
        {
          "description" : "Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.",
          "name" : "fileWrapper(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileWrapper(ofType:)"
        },
        {
          "description" : "Creates and returns a data object that contains the contents of the document, formatted to a specified type.",
          "name" : "data(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/data(ofType:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL.",
          "name" : "write(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.",
          "name" : "save(to:ofType:for:delegate:didSave:contextInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:delegate:didSave:contextInfo:)"
        },
        {
          "description" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.",
          "name" : "save(to:ofType:for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)"
        },
        {
          "description" : "Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.",
          "name" : "fileAttributesToWrite(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileAttributesToWrite(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Constants for specifying the type of document-save operation to perform.",
          "name" : "NSDocument.SaveOperationType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/SaveOperationType"
        }
      ],
      "title" : "Writing the Document’s Content"
    }
  ],
  "source" : "appleJSON",
  "title" : "writeSafely(to:ofType:for:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)"
}