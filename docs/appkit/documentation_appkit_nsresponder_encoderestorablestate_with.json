{
  "abstract" : "Saves the interface-related state of the responder.",
  "codeExamples" : [

  ],
  "contentHash" : "1d342b4a935ad0593e830125c86b464d229e239f56b3747fb94b8c46b308964c",
  "crawledAt" : "2025-12-01T13:44:03Z",
  "declaration" : {
    "code" : "@MainActor func encodeRestorableState(with coder: NSCoder)",
    "language" : "swift"
  },
  "id" : "8F113A80-74F8-46CB-A4A1-A5E8688A69CB",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save the visual state of your responder to the specified archive. The default implementation of this method does nothing but specific subclasses (such as [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow]) override it to save important state information. Therefore, if you override this method, you should always call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the responder to its current state. For example, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTabView] class uses this method to save information about the currently selected tab. You must store enough data to reconfigure the responder and return it to its current state during a subsequent launch of the application.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/encodeRestorableState(with:)\ncrawled: 2025-12-01T13:44:03Z\n---\n\n# encodeRestorableState(with:)\n\n**Instance Method**\n\nSaves the interface-related state of the responder.\n\n## Declaration\n\n```swift\n@MainActor func encodeRestorableState(with coder: NSCoder)\n```\n\n## Parameters\n\n- **coder**: The coder object in which to save the responder’s interface-related state.\n\n## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save the visual state of your responder to the specified archive. The default implementation of this method does nothing but specific subclasses (such as [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow]) override it to save important state information. Therefore, if you override this method, you should always call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the responder to its current state. For example, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTabView] class uses this method to save information about the currently selected tab. You must store enough data to reconfigure the responder and return it to its current state during a subsequent launch of the application.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].\n\n## Handling Window Restoration\n\n- **allowedClasses(forRestorableStateKeyPath:)**: Returns the classes that support secure coding.\n- **encodeRestorableState(with:backgroundQueue:)**: Saves the interface-related state of the responder to a keyed archiver either synchronously or asynchronously on the given operation queue.\n- **restoreState(with:)**: Restores the interface-related state of the responder.\n- **restorableStateKeyPaths**: Returns an array of key paths representing the restorable attributes of the responder.\n- **invalidateRestorableState()**: Marks the responder’s interface-related state as dirty.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the classes that support secure coding.",
          "name" : "allowedClasses(forRestorableStateKeyPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/allowedClasses(forRestorableStateKeyPath:)"
        },
        {
          "description" : "Saves the interface-related state of the responder to a keyed archiver either synchronously or asynchronously on the given operation queue.",
          "name" : "encodeRestorableState(with:backgroundQueue:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/encodeRestorableState(with:backgroundQueue:)"
        },
        {
          "description" : "Restores the interface-related state of the responder.",
          "name" : "restoreState(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/restoreState(with:)"
        },
        {
          "description" : "Returns an array of key paths representing the restorable attributes of the responder.",
          "name" : "restorableStateKeyPaths",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/restorableStateKeyPaths"
        },
        {
          "description" : "Marks the responder’s interface-related state as dirty.",
          "name" : "invalidateRestorableState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/invalidateRestorableState()"
        }
      ],
      "title" : "Handling Window Restoration"
    }
  ],
  "source" : "appleJSON",
  "title" : "encodeRestorableState(with:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSResponder\/encodeRestorableState(with:)"
}