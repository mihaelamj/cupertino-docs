{
  "abstract" : "Stores the window’s raster image from a given rectangle expressed in the window’s base coordinate system.",
  "codeExamples" : [

  ],
  "contentHash" : "62feb8deacaa2a29669c4953e07950875edc2bb2b960fbeb8284cf61b03da805",
  "crawledAt" : "2025-12-04T20:13:55Z",
  "declaration" : {
    "code" : "@MainActor func cacheImage(in rect: NSRect)",
    "language" : "swift"
  },
  "id" : "F137E65E-B940-480C-BB8B-ED94F4F182CA",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method allows the window to perform temporary drawing, such as a band around the selection as the user drags the mouse, and to quickly restore the previous image by invoking [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/restoreCachedImage()] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flushIfNeeded()]. The next time the window displays, it discards its cached image rectangles. You can also explicitly use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/discardCachedImage()] to free the memory occupied by cached image rectangles. `rect` is made integral before caching the image to avoid antialiasing artifacts.\n\nOnly the last cached rectangle is remembered and can be restored.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/cacheImage(in:)\ncrawled: 2025-12-04T20:13:55Z\n---\n\n# cacheImage(in:)\n\n**Instance Method**\n\nStores the window’s raster image from a given rectangle expressed in the window’s base coordinate system.\n\n## Declaration\n\n```swift\n@MainActor func cacheImage(in rect: NSRect)\n```\n\n## Parameters\n\n- **rect**: The rectangle representing the image to cache.\n\n## Discussion\n\nThis method allows the window to perform temporary drawing, such as a band around the selection as the user drags the mouse, and to quickly restore the previous image by invoking [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/restoreCachedImage()] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flushIfNeeded()]. The next time the window displays, it discards its cached image rectangles. You can also explicitly use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/discardCachedImage()] to free the memory occupied by cached image rectangles. `rect` is made integral before caching the image to avoid antialiasing artifacts.\n\nOnly the last cached rectangle is remembered and can be restored.\n\n## Related Documentation\n\n- **display()**: Passes a display message down the window’s view hierarchy, thus redrawing all views within the window.\n\n## Methods\n\n- **gState()**: Returns the window’s graphics state object.\n- **canStoreColor()**: Indicates whether the window has a depth limit that allows it to store color values.\n- **enableFlushing()**: Reenables the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] method for the window after it was disabled through a previous [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/disableFlushing()] message.\n- **disableFlushing()**: Disables the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] method for the window.\n- **flush()**: Flushes the window’s offscreen buffer to the screen if the window is buffered and flushing is enabled.\n- **flushIfNeeded()**: Flushes the window’s offscreen buffer to the screen if flushing is enabled and if the last [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] message had no effect because flushing was disabled.\n- **menuChanged(_:)**: This method does nothing; it is here for backward compatibility.\n- **restoreCachedImage()**: Splices the window’s cached image rectangles, if any, back into its raster image (and buffer if it has one), undoing the effect of any drawing performed within those areas since they were established using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/cacheImage(in:)].\n- **discardCachedImage()**: Discards all of the window’s cached image rectangles.\n- **useOptimizedDrawing(_:)**: Specifies whether the window is to optimize focusing and drawing when displaying its views.\n- **init(windowRef:)**: Returns a Cocoa window created from a Carbon window.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Passes a display message down the window’s view hierarchy, thus redrawing all views within the window.",
          "name" : "display()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/display()"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the window’s graphics state object.",
          "name" : "gState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/gState()"
        },
        {
          "description" : "Indicates whether the window has a depth limit that allows it to store color values.",
          "name" : "canStoreColor()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/canStoreColor()"
        },
        {
          "description" : "Reenables the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] method for the window after it was disabled through a previous [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/disableFlushing()] message.",
          "name" : "enableFlushing()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/enableFlushing()"
        },
        {
          "description" : "Disables the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] method for the window.",
          "name" : "disableFlushing()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/disableFlushing()"
        },
        {
          "description" : "Flushes the window’s offscreen buffer to the screen if the window is buffered and flushing is enabled.",
          "name" : "flush()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/flush()"
        },
        {
          "description" : "Flushes the window’s offscreen buffer to the screen if flushing is enabled and if the last [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/flush()] message had no effect because flushing was disabled.",
          "name" : "flushIfNeeded()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/flushIfNeeded()"
        },
        {
          "description" : "This method does nothing; it is here for backward compatibility.",
          "name" : "menuChanged(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/menuChanged(_:)"
        },
        {
          "description" : "Splices the window’s cached image rectangles, if any, back into its raster image (and buffer if it has one), undoing the effect of any drawing performed within those areas since they were established using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/cacheImage(in:)].",
          "name" : "restoreCachedImage()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/restoreCachedImage()"
        },
        {
          "description" : "Discards all of the window’s cached image rectangles.",
          "name" : "discardCachedImage()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/discardCachedImage()"
        },
        {
          "description" : "Specifies whether the window is to optimize focusing and drawing when displaying its views.",
          "name" : "useOptimizedDrawing(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/useOptimizedDrawing(_:)"
        },
        {
          "description" : "Returns a Cocoa window created from a Carbon window.",
          "name" : "init(windowRef:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/init(windowRef:)"
        }
      ],
      "title" : "Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "cacheImage(in:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindow\/cacheImage(in:)"
}