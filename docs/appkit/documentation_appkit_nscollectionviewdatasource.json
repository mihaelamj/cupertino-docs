{
  "abstract" : "A set of methods that a data source object implements to provide the information and view objects that a collection view requires to present content.",
  "codeExamples" : [

  ],
  "conformingTypes" : [
    "NSCollectionViewDiffableDataSource",
    "NSCollectionViewDiffableDataSourceReference"
  ],
  "contentHash" : "02cc804ae7170c56652e9cf0f9a57983ef3b71b61c7c60a81cd3bdd42fa14fc2",
  "crawledAt" : "2025-12-03T08:45:15Z",
  "declaration" : {
    "code" : "protocol NSCollectionViewDataSource : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "54291CB7-3D70-44E3-BEC6-1ABE3DEA57A1",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\nA data source object vends information about your app’s data model to the collection view when asked. For example, it tells the collection view how many items are present. It also handles the creation and configuration of the views used to represent items and used to decorate the collection view’s content area.\n\nAll data source objects must implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:numberOfItemsInSection:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] methods. These methods provide the collection view with the basic information it needs to display your items. The remaining methods of the protocol are optional and are needed only if your collection view organizes items into sections or provides supplementary views.\n\nTo associate your data source object with a collection view, assign the object to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/dataSource] property of that collection view. You can also connect the data source to your collection view in Interface Builder. For more information about how a collection view works with its data source to present content, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView].\n\n### Organizing Your Data Structures\n\nHow you implement your data source object has implications for the associated collection view. Your data source object acts as the bridge between your app’s underlying data and the presentation of that data by the collection view. Because the methods of your data source object are called many times while the collection view is onscreen, the implementations of those methods need to return data as quickly as possible. Therefore, you should create data structures that adapt easily to the organization of the collection view itself.\n\nData in a collection view is organized into one or more *sections*, and each section contains zero or more *items* in a specific order. You specify how many sections and items your collection view has based on your data. You define what the content of an item is, but usually the items in a section represent your primary data. For example, items in a photo browser app would be the photos themselves, and each section in the app would define a different group of related photos. Items can contain any data that you want. In the case of a photo browser, an item might also include descriptive information such as the date the photo was taken, the exposure settings used, the location, and so on.\n\nThe data structures you use for your sections and items are separate from the views and view controllers that you use to present them. Sections have no default visual representation, but layouts may support section-specific supplementary views. For example, the flow layout supports header and footer views for each section. Items are presented using instances of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class, which your data source is responsible for configuring in its [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method.\n\nWhen organizing your data, create data structures that map efficiently to the section and item model. One simple way to organize your data is to use an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSMutableArray] object to store the items for each section. Whatever data structures you choose, make sure that they can return the needed information quickly. For example, you need to return the total number of sections and the number of items in each section. You also need to be able to fetch items based on section and item indexes quickly.\n\n### Configuring Items and Supplementary Views\n\nWhen the collection view determines that an item or supplementary view needs to be displayed, it asks your data source to provide the corresponding visual element. The visual representation of an item is provided by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class. The visual representation of a supplementary view is provided by an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] object. The steps for configuring an item or supplementary view are essentially the same. The only thing that changes is the specific methods you call.\n\nWhen you call the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeItem(withIdentifier:for:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeSupplementaryView(ofKind:withIdentifier:for:)] method, the collection view recycles or creates the appropriate element for you. Using these methods is more efficient than creating the elements yourself. As elements move offscreen, the collection view recycles them and places them on a reuse queue. When you ask for a new element, the collection view returns a recycled element whenever one is available, thereby eliminating the need to create one from scratch.\n\nThe listing below shows how to create and configure an item in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method of your data source. After retrieving an item using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeItem(withIdentifier:for:)] method, you configure the properties of that item with your custom data. In this case, the code assigns an image to the built-in image view provided by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class. If you defined a custom item class with additional views or controls, you would configure those views before returning the item from this method. You must fully configure the item before returning it.\n\nListing 1. Creating and configuring an item\n\nAfter returning an item object from your [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method, you do not modify that object again. If the underlying data for an item changes, ask the collection view to reload the item by calling the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/reloadItems(at:)] method. Calling that method causes the collection view to discard the current item and ask your data source to provide a new one.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource\ncrawled: 2025-12-03T08:45:15Z\n---\n\n# NSCollectionViewDataSource\n\n**Protocol**\n\nA set of methods that a data source object implements to provide the information and view objects that a collection view requires to present content.\n\n## Declaration\n\n```swift\nprotocol NSCollectionViewDataSource : NSObjectProtocol\n```\n\n## Overview\n\nA data source object vends information about your app’s data model to the collection view when asked. For example, it tells the collection view how many items are present. It also handles the creation and configuration of the views used to represent items and used to decorate the collection view’s content area.\n\nAll data source objects must implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:numberOfItemsInSection:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] methods. These methods provide the collection view with the basic information it needs to display your items. The remaining methods of the protocol are optional and are needed only if your collection view organizes items into sections or provides supplementary views.\n\nTo associate your data source object with a collection view, assign the object to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/dataSource] property of that collection view. You can also connect the data source to your collection view in Interface Builder. For more information about how a collection view works with its data source to present content, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView].\n\n### Organizing Your Data Structures\n\nHow you implement your data source object has implications for the associated collection view. Your data source object acts as the bridge between your app’s underlying data and the presentation of that data by the collection view. Because the methods of your data source object are called many times while the collection view is onscreen, the implementations of those methods need to return data as quickly as possible. Therefore, you should create data structures that adapt easily to the organization of the collection view itself.\n\nData in a collection view is organized into one or more *sections*, and each section contains zero or more *items* in a specific order. You specify how many sections and items your collection view has based on your data. You define what the content of an item is, but usually the items in a section represent your primary data. For example, items in a photo browser app would be the photos themselves, and each section in the app would define a different group of related photos. Items can contain any data that you want. In the case of a photo browser, an item might also include descriptive information such as the date the photo was taken, the exposure settings used, the location, and so on.\n\nThe data structures you use for your sections and items are separate from the views and view controllers that you use to present them. Sections have no default visual representation, but layouts may support section-specific supplementary views. For example, the flow layout supports header and footer views for each section. Items are presented using instances of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class, which your data source is responsible for configuring in its [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method.\n\nWhen organizing your data, create data structures that map efficiently to the section and item model. One simple way to organize your data is to use an [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSMutableArray] object to store the items for each section. Whatever data structures you choose, make sure that they can return the needed information quickly. For example, you need to return the total number of sections and the number of items in each section. You also need to be able to fetch items based on section and item indexes quickly.\n\n### Configuring Items and Supplementary Views\n\nWhen the collection view determines that an item or supplementary view needs to be displayed, it asks your data source to provide the corresponding visual element. The visual representation of an item is provided by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class. The visual representation of a supplementary view is provided by an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] object. The steps for configuring an item or supplementary view are essentially the same. The only thing that changes is the specific methods you call.\n\n1. Ask the collection view to provide an instance of the element you need using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeItem(withIdentifier:for:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeSupplementaryView(ofKind:withIdentifier:for:)] method.\n2. Configure the views of the element with the data you want to display.\n3. Return the element back to the collection view.\n\nWhen you call the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeItem(withIdentifier:for:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeSupplementaryView(ofKind:withIdentifier:for:)] method, the collection view recycles or creates the appropriate element for you. Using these methods is more efficient than creating the elements yourself. As elements move offscreen, the collection view recycles them and places them on a reuse queue. When you ask for a new element, the collection view returns a recycled element whenever one is available, thereby eliminating the need to create one from scratch.\n\n\n\nThe listing below shows how to create and configure an item in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method of your data source. After retrieving an item using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/makeItem(withIdentifier:for:)] method, you configure the properties of that item with your custom data. In this case, the code assigns an image to the built-in image view provided by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewItem] class. If you defined a custom item class with additional views or controls, you would configure those views before returning the item from this method. You must fully configure the item before returning it.\n\nListing 1. Creating and configuring an item\n\n\n\nAfter returning an item object from your [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)] method, you do not modify that object again. If the underlying data for an item changes, ask the collection view to reload the item by calling the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/reloadItems(at:)] method. Calling that method causes the collection view to discard the current item and ask your data source to provide a new one.\n\n## Getting the Number of Sections and Items\n\n- **numberOfSections(in:)**: Asks your data source object to provide the total number of sections.\n- **collectionView(_:numberOfItemsInSection:)**: Asks your data source object to provide the number of items in the specified section.\n\n## Configuring Items and Supplementary Views\n\n- **collectionView(_:itemForRepresentedObjectAt:)**: Asks your data source object to provide the item at the specified location in the collection view.\n- **collectionView(_:viewForSupplementaryElementOfKind:at:)**: Asks your data source object to provide the supplementary view at the specified location in a section of the collection view.\n\n## Data\n\n- **NSCollectionViewDelegate**: A set of methods that you use to manage the behavior of a collection view.\n- **NSCollectionViewDiffableDataSource**: The object you use to manage data and provide items for a collection view.\n- **NSDiffableDataSourceSnapshot**: A representation of the state of the data in a view at a specific point in time.\n\n## Inherits From\n\n- NSObjectProtocol\n\n## Conforming Types\n\n- NSCollectionViewDiffableDataSource\n- NSCollectionViewDiffableDataSourceReference\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks your data source object to provide the total number of sections.",
          "name" : "numberOfSections(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource\/numberOfSections(in:)"
        },
        {
          "description" : "Asks your data source object to provide the number of items in the specified section.",
          "name" : "collectionView(_:numberOfItemsInSection:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:numberOfItemsInSection:)"
        }
      ],
      "title" : "Getting the Number of Sections and Items"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks your data source object to provide the item at the specified location in the collection view.",
          "name" : "collectionView(_:itemForRepresentedObjectAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:itemForRepresentedObjectAt:)"
        },
        {
          "description" : "Asks your data source object to provide the supplementary view at the specified location in a section of the collection view.",
          "name" : "collectionView(_:viewForSupplementaryElementOfKind:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource\/collectionView(_:viewForSupplementaryElementOfKind:at:)"
        }
      ],
      "title" : "Configuring Items and Supplementary Views"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A set of methods that you use to manage the behavior of a collection view.",
          "name" : "NSCollectionViewDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate"
        },
        {
          "description" : "The object you use to manage data and provide items for a collection view.",
          "name" : "NSCollectionViewDiffableDataSource",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDiffableDataSource-axww"
        },
        {
          "description" : "A representation of the state of the data in a view at a specific point in time.",
          "name" : "NSDiffableDataSourceSnapshot",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDiffableDataSourceSnapshot-swift.struct"
        }
      ],
      "title" : "Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSCollectionViewDataSource",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDataSource"
}