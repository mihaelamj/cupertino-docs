{
  "abstract" : "Returns the rectangle for the line fragment where the glyph lies and (optionally), by reference, the entire range of glyphs in that fragment.",
  "codeExamples" : [

  ],
  "contentHash" : "d1d386170b018c74e83200f9e361a1ece23a52f761596ce5c67c01b727eea7be",
  "crawledAt" : "2025-12-04T03:58:53Z",
  "declaration" : {
    "code" : "func lineFragmentRect(forGlyphAt glyphIndex: Int, effectiveRange effectiveGlyphRange: NSRangePointer?) -> NSRect",
    "language" : "swift"
  },
  "id" : "1966F3D6-2DE7-4CE4-B18B-F2715C28D1F1",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\nThe line fragment in which the given glyph is laid out.\n\n## Discussion\n\nThis method causes glyph generation and layout for the line fragment containing the specified glyph, or if noncontiguous layout is not enabled, for all of the text up to and including that line fragment.\n\nLine fragment rectangles are always in container coordinates.\n\nOverriding this method is not recommended. If the line fragment rectangle needs to be modified, that should be done at the typesetter level or by calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/setLineFragmentRect(_:forGlyphRange:usedRect:)].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/lineFragmentRect(forGlyphAt:effectiveRange:)\ncrawled: 2025-12-04T03:58:53Z\n---\n\n# lineFragmentRect(forGlyphAt:effectiveRange:)\n\n**Instance Method**\n\nReturns the rectangle for the line fragment where the glyph lies and (optionally), by reference, the entire range of glyphs in that fragment.\n\n## Declaration\n\n```swift\nfunc lineFragmentRect(forGlyphAt glyphIndex: Int, effectiveRange effectiveGlyphRange: NSRangePointer?) -> NSRect\n```\n\n## Parameters\n\n- **glyphIndex**: The glyph for which to return the line fragment rectangle.\n- **effectiveGlyphRange**: If not `NULL`, on output, the range for all glyphs in the line fragment.\n\n## Return Value\n\nThe line fragment in which the given glyph is laid out.\n\n## Discussion\n\nThis method causes glyph generation and layout for the line fragment containing the specified glyph, or if noncontiguous layout is not enabled, for all of the text up to and including that line fragment.\n\nLine fragment rectangles are always in container coordinates.\n\nOverriding this method is not recommended. If the line fragment rectangle needs to be modified, that should be done at the typesetter level or by calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/setLineFragmentRect(_:forGlyphRange:usedRect:)].\n\n## Getting layout information\n\n- **attachmentSize(forGlyphAt:)**: Returns the size of the attachment glyph at the specified index.\n- **drawsOutsideLineFragment(forGlyphAt:)**: Indicates whether the glyph draws outside its line fragment rectangle.\n- **extraLineFragmentRect**: The rectangle for the extra line fragment at the end of a document.\n- **extraLineFragmentTextContainer**: The text container for the extra line fragment rectangle.\n- **extraLineFragmentUsedRect**: The rectangle that encloses the insertion point in the extra line fragment rectangle.\n- **firstUnlaidCharacterIndex()**: Returns the index for the first character in the layout manager that isn’t in the layout.\n- **firstUnlaidGlyphIndex()**: Returns the index for the first glyph in the layout manager that isn’t in the layout.\n- **getFirstUnlaidCharacterIndex(_:glyphIndex:)**: Returns the indexes for the first character and glyph that have invalid layout information.\n- **lineFragmentRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)**: Returns the line fragment rectangle that contains the glyph at the specified glyph index.\n- **lineFragmentUsedRect(forGlyphAt:effectiveRange:)**: Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.\n- **lineFragmentUsedRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)**: Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.\n- **location(forGlyphAt:)**: Returns the location for the specified glyph within its line fragment.\n- **notShownAttribute(forGlyphAt:)**: Indicates whether the glyph at the specified index has a visible representation.\n- **truncatedGlyphRange(inLineFragmentForGlyphAt:)**: Returns the range of truncated glyphs for a line fragment that contains the specified index.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the size of the attachment glyph at the specified index.",
          "name" : "attachmentSize(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/attachmentSize(forGlyphAt:)"
        },
        {
          "description" : "Indicates whether the glyph draws outside its line fragment rectangle.",
          "name" : "drawsOutsideLineFragment(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/drawsOutsideLineFragment(forGlyphAt:)"
        },
        {
          "description" : "The rectangle for the extra line fragment at the end of a document.",
          "name" : "extraLineFragmentRect",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/extraLineFragmentRect"
        },
        {
          "description" : "The text container for the extra line fragment rectangle.",
          "name" : "extraLineFragmentTextContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/extraLineFragmentTextContainer"
        },
        {
          "description" : "The rectangle that encloses the insertion point in the extra line fragment rectangle.",
          "name" : "extraLineFragmentUsedRect",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/extraLineFragmentUsedRect"
        },
        {
          "description" : "Returns the index for the first character in the layout manager that isn’t in the layout.",
          "name" : "firstUnlaidCharacterIndex()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/firstUnlaidCharacterIndex()"
        },
        {
          "description" : "Returns the index for the first glyph in the layout manager that isn’t in the layout.",
          "name" : "firstUnlaidGlyphIndex()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/firstUnlaidGlyphIndex()"
        },
        {
          "description" : "Returns the indexes for the first character and glyph that have invalid layout information.",
          "name" : "getFirstUnlaidCharacterIndex(_:glyphIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/getFirstUnlaidCharacterIndex(_:glyphIndex:)"
        },
        {
          "description" : "Returns the line fragment rectangle that contains the glyph at the specified glyph index.",
          "name" : "lineFragmentRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/lineFragmentRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)"
        },
        {
          "description" : "Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.",
          "name" : "lineFragmentUsedRect(forGlyphAt:effectiveRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/lineFragmentUsedRect(forGlyphAt:effectiveRange:)"
        },
        {
          "description" : "Returns the usage rectangle for the line fragment and (optionally) returns the entire range of glyphs in that fragment.",
          "name" : "lineFragmentUsedRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/lineFragmentUsedRect(forGlyphAt:effectiveRange:withoutAdditionalLayout:)"
        },
        {
          "description" : "Returns the location for the specified glyph within its line fragment.",
          "name" : "location(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/location(forGlyphAt:)"
        },
        {
          "description" : "Indicates whether the glyph at the specified index has a visible representation.",
          "name" : "notShownAttribute(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/notShownAttribute(forGlyphAt:)"
        },
        {
          "description" : "Returns the range of truncated glyphs for a line fragment that contains the specified index.",
          "name" : "truncatedGlyphRange(inLineFragmentForGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/truncatedGlyphRange(inLineFragmentForGlyphAt:)"
        }
      ],
      "title" : "Getting layout information"
    }
  ],
  "source" : "appleJSON",
  "title" : "lineFragmentRect(forGlyphAt:effectiveRange:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/lineFragmentRect(forGlyphAt:effectiveRange:)"
}