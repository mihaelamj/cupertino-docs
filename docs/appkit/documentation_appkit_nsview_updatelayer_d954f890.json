{
  "abstract" : "Updates the view’s content by modifying its underlying layer.",
  "codeExamples" : [

  ],
  "contentHash" : "ea27d15a2797e57752cfaebcf02b34f952507389ac39d261c9989514aabf17bc",
  "crawledAt" : "2025-12-04T20:06:22Z",
  "declaration" : {
    "code" : "@MainActor func updateLayer()",
    "language" : "swift"
  },
  "id" : "37762D31-D417-40FA-996E-EB99CD6CB9C4",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nYou use this method to optimize the rendering of your view in situations where you can represent your views contents entirely using a layer object. If your view’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/wantsUpdateLayer] property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the view calls this method instead of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/draw(_:)] during the view update cycle. Custom views can override this method and use it to modify the properties of the underlying layer object. Modifying layer properties is a much more efficient way to update your view than is redrawing its content each time something changes.\n\nWhen you want to update the contents of your layer, mark the view as dirty by setting its [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/needsDisplay] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. Doing so adds the view to the list of views that need to be refreshed during the next update cycle. During that update cycle, this method is called if the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/wantsUpdateLayer] property is still [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nYour implementation of this method should not call `super`.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/updateLayer()\ncrawled: 2025-12-04T20:06:22Z\n---\n\n# updateLayer()\n\n**Instance Method**\n\nUpdates the view’s content by modifying its underlying layer.\n\n## Declaration\n\n```swift\n@MainActor func updateLayer()\n```\n\n## Discussion\n\nYou use this method to optimize the rendering of your view in situations where you can represent your views contents entirely using a layer object. If your view’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/wantsUpdateLayer] property is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the view calls this method instead of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/draw(_:)] during the view update cycle. Custom views can override this method and use it to modify the properties of the underlying layer object. Modifying layer properties is a much more efficient way to update your view than is redrawing its content each time something changes.\n\nWhen you want to update the contents of your layer, mark the view as dirty by setting its [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/needsDisplay] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. Doing so adds the view to the list of views that need to be refreshed during the next update cycle. During that update cycle, this method is called if the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/wantsUpdateLayer] property is still [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nYour implementation of this method should not call `super`.\n\n## Related Documentation\n\n- **wantsUpdateLayer**: A Boolean value indicating which drawing path the view takes when updating its contents.\n\n## Drawing the View’s Content\n\n- **draw(_:)**: Overridden by subclasses to draw the view’s image within the specified rectangle.\n- **clipsToBounds**: A Boolean value that indicates whether the view, and its subviews, confine their drawing areas to the bounds of the view.\n- **canDrawConcurrently**: A Boolean value indicating whether the view can draw its contents on a background thread.\n- **visibleRect**: The portion of the view that isn’t clipped by its superviews.\n- **getRectsBeingDrawn(_:count:)**: Returns by indirection a list of nonoverlapping rectangles that define the area the view is being asked to draw in [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/draw(_:)].\n- **needsToDraw(_:)**: Returns a Boolean value indicating whether the specified rectangle intersects any part of the area that the view is being asked to draw.\n- **wantsDefaultClipping**: A Boolean value indicating whether AppKit’s default clipping behavior is in effect.\n- **bitmapImageRepForCachingDisplay(in:)**: Returns a bitmap-representation object suitable for caching the specified portion of the view.\n- **cacheDisplay(in:to:)**: Draws the specified area of the view, and its descendants, into a provided bitmap-representation object.\n- **NSBorderType**: These constants specify the type of a view’s border.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value indicating which drawing path the view takes when updating its contents.",
          "name" : "wantsUpdateLayer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/wantsUpdateLayer"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Overridden by subclasses to draw the view’s image within the specified rectangle.",
          "name" : "draw(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/draw(_:)"
        },
        {
          "description" : "A Boolean value that indicates whether the view, and its subviews, confine their drawing areas to the bounds of the view.",
          "name" : "clipsToBounds",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/clipsToBounds"
        },
        {
          "description" : "A Boolean value indicating whether the view can draw its contents on a background thread.",
          "name" : "canDrawConcurrently",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/canDrawConcurrently"
        },
        {
          "description" : "The portion of the view that isn’t clipped by its superviews.",
          "name" : "visibleRect",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/visibleRect"
        },
        {
          "description" : "Returns by indirection a list of nonoverlapping rectangles that define the area the view is being asked to draw in [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/draw(_:)].",
          "name" : "getRectsBeingDrawn(_:count:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/getRectsBeingDrawn(_:count:)"
        },
        {
          "description" : "Returns a Boolean value indicating whether the specified rectangle intersects any part of the area that the view is being asked to draw.",
          "name" : "needsToDraw(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/needsToDraw(_:)"
        },
        {
          "description" : "A Boolean value indicating whether AppKit’s default clipping behavior is in effect.",
          "name" : "wantsDefaultClipping",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/wantsDefaultClipping"
        },
        {
          "description" : "Returns a bitmap-representation object suitable for caching the specified portion of the view.",
          "name" : "bitmapImageRepForCachingDisplay(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/bitmapImageRepForCachingDisplay(in:)"
        },
        {
          "description" : "Draws the specified area of the view, and its descendants, into a provided bitmap-representation object.",
          "name" : "cacheDisplay(in:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/cacheDisplay(in:to:)"
        },
        {
          "description" : "These constants specify the type of a view’s border.",
          "name" : "NSBorderType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSBorderType"
        }
      ],
      "title" : "Drawing the View’s Content"
    }
  ],
  "source" : "appleJSON",
  "title" : "updateLayer()",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/updateLayer()"
}