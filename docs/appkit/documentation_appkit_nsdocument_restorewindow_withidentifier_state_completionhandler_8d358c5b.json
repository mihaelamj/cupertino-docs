{
  "abstract" : "Restores a window that was associated with a document, after that document is reopened.",
  "codeExamples" : [

  ],
  "contentHash" : "e0fe457632be675e62d65755283a4ca5eac91833e4d3a4beafbd11ee8f14086d",
  "crawledAt" : "2025-12-02T18:07:15Z",
  "declaration" : {
    "code" : "@MainActor func restoreWindow(withIdentifier identifier: NSUserInterfaceItemIdentifier, state: NSCoder, completionHandler: @escaping (NSWindow?, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "A7FCB7B9-CF4C-4912-9526-3A11B9401839",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method is called by the default `NSDocumentController` implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowRestoration\/restoreWindow(withIdentifier:state:completionHandler:)].\n\nThe default implementation of this method first checks if the document has window controllers, and if not, it calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/makeWindowControllers()]. If there is then exactly one window controller, it invokes the completion handler with its window. If there is more than one, it searches the receiver’s window controllers for a window that matches the given identifier, and then calls the completion handler with it. If no window could be found, it invokes the completion handler with a `nil` window.\n\nIf your document has variable or optional windows, you may override this to create the requested window, and then call the completion handler with it. This allows you to use the default document reopening behavior, but intervene at the point of creating the windows. The parameters are the same as in the class method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowRestoration\/restoreWindow(withIdentifier:state:completionHandler:)].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restoreWindow(withIdentifier:state:completionHandler:)\ncrawled: 2025-12-02T18:07:15Z\n---\n\n# restoreWindow(withIdentifier:state:completionHandler:)\n\n**Instance Method**\n\nRestores a window that was associated with a document, after that document is reopened.\n\n## Declaration\n\n```swift\n@MainActor func restoreWindow(withIdentifier identifier: NSUserInterfaceItemIdentifier, state: NSCoder, completionHandler: @escaping (NSWindow?, (any Error)?) -> Void)\n```\n\n```swift\n@MainActor func restoreWindow(withIdentifier identifier: NSUserInterfaceItemIdentifier, state: NSCoder) async throws -> NSWindow\n```\n\n## Parameters\n\n- **identifier**: The unique interface item identifier string that was previously associated with the window. Use this string to determine which window to create.\n- **state**: A coder object containing the window state information. This coder object contains the combined restorable state of the window, which can include the state of the window, its delegate, window controller, and document object. You can use this state to determine which window to create.\n- **completionHandler**: A block object to execute with the results of creating the window. You must execute this block at some point but may do so after the method returns if needed. This block takes the following parameters:\n\n- The window that was created or `nil` if the window could not be created.\n- An error object if the window was not recognized or could not be created for whatever reason; otherwise, specify `nil`.\n\n## Discussion\n\nThis method is called by the default `NSDocumentController` implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowRestoration\/restoreWindow(withIdentifier:state:completionHandler:)].\n\nThe default implementation of this method first checks if the document has window controllers, and if not, it calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/makeWindowControllers()]. If there is then exactly one window controller, it invokes the completion handler with its window. If there is more than one, it searches the receiver’s window controllers for a window that matches the given identifier, and then calls the completion handler with it. If no window could be found, it invokes the completion handler with a `nil` window.\n\nIf your document has variable or optional windows, you may override this to create the requested window, and then call the completion handler with it. This allows you to use the default document reopening behavior, but intervene at the point of creating the windows. The parameters are the same as in the class method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowRestoration\/restoreWindow(withIdentifier:state:completionHandler:)].\n\n## Related Documentation\n\n- **restoreWindow(withIdentifier:state:completionHandler:)**: Asks the class to provide a new window for the specified identifier.\n\n## Handling Window Restoration\n\n- **allowedClasses(forRestorableStateKeyPath:)**: Returns the classes that support secure coding.\n- **encodeRestorableState(with:)**: Saves the interface-related state of the document.\n- **restoreState(with:)**: Restores the interface-related state of the document.\n- **restorableStateKeyPaths**: Returns an array of key paths that represent the restorable attributes of the document.\n- **invalidateRestorableState()**: Marks the document’s interface-related state as dirty.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the class to provide a new window for the specified identifier.",
          "name" : "restoreWindow(withIdentifier:state:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWindowRestoration\/restoreWindow(withIdentifier:state:completionHandler:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the classes that support secure coding.",
          "name" : "allowedClasses(forRestorableStateKeyPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/allowedClasses(forRestorableStateKeyPath:)"
        },
        {
          "description" : "Saves the interface-related state of the document.",
          "name" : "encodeRestorableState(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/encodeRestorableState(with:)"
        },
        {
          "description" : "Restores the interface-related state of the document.",
          "name" : "restoreState(with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restoreState(with:)"
        },
        {
          "description" : "Returns an array of key paths that represent the restorable attributes of the document.",
          "name" : "restorableStateKeyPaths",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restorableStateKeyPaths"
        },
        {
          "description" : "Marks the document’s interface-related state as dirty.",
          "name" : "invalidateRestorableState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/invalidateRestorableState()"
        }
      ],
      "title" : "Handling Window Restoration"
    }
  ],
  "source" : "appleJSON",
  "title" : "restoreWindow(withIdentifier:state:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/restoreWindow(withIdentifier:state:completionHandler:)"
}