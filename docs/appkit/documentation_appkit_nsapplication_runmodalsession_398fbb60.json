{
  "abstract" : "Runs a given modal session, as defined in a previous invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)].",
  "codeExamples" : [
    {
      "code" : "NSModalSession session = [NSApp beginModalSessionForWindow:theWindow];\nfor (;;) {\n    if ([NSApp runModalSession:session] != NSModalResponseContinue)\n        break;\n    [self doSomeWork];\n}\n[NSApp endModalSession:session];",
      "language" : "objc"
    }
  ],
  "contentHash" : "bbedad3c72a389e0efd3965de468131e612b7452db8effdc14087c4075c10d34",
  "crawledAt" : "2025-12-04T18:03:29Z",
  "declaration" : {
    "code" : "@MainActor func runModalSession(_ session: NSApplication.ModalSession) -> NSApplication.ModalResponse",
    "language" : "swift"
  },
  "id" : "3C4F9DA3-A9CB-4EE2-9541-BBFB13BA7810",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\nAn integer indicating the reason that this method returned. See the discussion for a description of possible return values.\n\n## Discussion\n\nA loop that uses this method is similar in some ways to a modal event loop run with [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)], except with this method your code can do some additional work between method invocations. When you invoke this method, events for the `NSWindow` object of this session are dispatched as normal. This method returns when there are no more events. You must invoke this method frequently enough in your loop that the window remains responsive to events. However, you should not invoke this method in a tight loop because it returns immediately if there are no events, and consequently you could end up polling for events rather than blocking.\n\nTypically, you use this method in situations where you want to do some additional processing on the current thread while the modal loop runs. For example, while processing a large data set, you might want to use a modal dialog to display progress and give the user a chance to cancel the operation. If you want to display a modal dialog and do not need to do any additional work in parallel, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)] instead. When there are no pending events, that method waits idly instead of consuming CPU time.\n\nThe following code shows a sample loop you can use in your code:\n\nIf the modal session was not stopped, this method returns `NSModalResponseContinue`. At this point, your app can do some work before the next invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] (as indicated in the example’s `doSomeWork` call). If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal()] was invoked as the result of event processing, [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] returns `NSModalResponseStop`. If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal(withCode:)] was invoked, this method returns the value passed to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal(withCode:)]. If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/abortModal()] was invoked, this method returns `NSModalResponseAbort`.\n\nThe window is placed on the screen and made key as a result of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] message. Do not send a separate [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/makeKeyAndOrderFront(_:)] message.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/runModalSession(_:)\ncrawled: 2025-12-04T18:03:29Z\n---\n\n# runModalSession(_:)\n\n**Instance Method**\n\nRuns a given modal session, as defined in a previous invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)].\n\n## Declaration\n\n```swift\n@MainActor func runModalSession(_ session: NSApplication.ModalSession) -> NSApplication.ModalResponse\n```\n\n## Parameters\n\n- **session**: A pointer to the modal session structure returned by the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)] method for the window to be displayed.\n\n## Return Value\n\nAn integer indicating the reason that this method returned. See the discussion for a description of possible return values.\n\n## Discussion\n\nA loop that uses this method is similar in some ways to a modal event loop run with [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)], except with this method your code can do some additional work between method invocations. When you invoke this method, events for the `NSWindow` object of this session are dispatched as normal. This method returns when there are no more events. You must invoke this method frequently enough in your loop that the window remains responsive to events. However, you should not invoke this method in a tight loop because it returns immediately if there are no events, and consequently you could end up polling for events rather than blocking.\n\nTypically, you use this method in situations where you want to do some additional processing on the current thread while the modal loop runs. For example, while processing a large data set, you might want to use a modal dialog to display progress and give the user a chance to cancel the operation. If you want to display a modal dialog and do not need to do any additional work in parallel, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)] instead. When there are no pending events, that method waits idly instead of consuming CPU time.\n\nThe following code shows a sample loop you can use in your code:\n\n```objc\nNSModalSession session = [NSApp beginModalSessionForWindow:theWindow];\nfor (;;) {\n    if ([NSApp runModalSession:session] != NSModalResponseContinue)\n        break;\n    [self doSomeWork];\n}\n[NSApp endModalSession:session];\n```\n\nIf the modal session was not stopped, this method returns `NSModalResponseContinue`. At this point, your app can do some work before the next invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] (as indicated in the example’s `doSomeWork` call). If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal()] was invoked as the result of event processing, [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] returns `NSModalResponseStop`. If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal(withCode:)] was invoked, this method returns the value passed to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/stopModal(withCode:)]. If [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/abortModal()] was invoked, this method returns `NSModalResponseAbort`.\n\nThe window is placed on the screen and made key as a result of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)] message. Do not send a separate [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow\/makeKeyAndOrderFront(_:)] message.\n\n## Related Documentation\n\n- **endModalSession(_:)**: Finishes a modal session.\n- **run()**: Starts the main event loop.\n\n## Running a Modal Window\n\n- **runModal(for:)**: Starts a modal event loop for the specified window.\n- **stopModal()**: Stops a modal event loop.\n- **stopModal(withCode:)**: Stops a modal event loop, allowing you to return a custom result code.\n- **abortModal()**: Aborts the event loop started by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)].\n- **beginModalSession(for:)**: Sets up a modal session with the given window and returns a pointer to the `NSModalSession` structure representing the session.\n- **modalWindow**: The modal window displayed by the app.\n- **NSApplication.ModalResponse**: A set of button return values for modal dialogs.\n- **NSApplication.ModalSession**: Variables of type `NSModalSession` point to information used by the system between `NSApplication`’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/endModalSession(_:)] messages.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Finishes a modal session.",
          "name" : "endModalSession(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/endModalSession(_:)"
        },
        {
          "description" : "Starts the main event loop.",
          "name" : "run()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/run()"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Starts a modal event loop for the specified window.",
          "name" : "runModal(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/runModal(for:)"
        },
        {
          "description" : "Stops a modal event loop.",
          "name" : "stopModal()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/stopModal()"
        },
        {
          "description" : "Stops a modal event loop, allowing you to return a custom result code.",
          "name" : "stopModal(withCode:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/stopModal(withCode:)"
        },
        {
          "description" : "Aborts the event loop started by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModal(for:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/runModalSession(_:)].",
          "name" : "abortModal()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/abortModal()"
        },
        {
          "description" : "Sets up a modal session with the given window and returns a pointer to the `NSModalSession` structure representing the session.",
          "name" : "beginModalSession(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)"
        },
        {
          "description" : "The modal window displayed by the app.",
          "name" : "modalWindow",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/modalWindow"
        },
        {
          "description" : "A set of button return values for modal dialogs.",
          "name" : "NSApplication.ModalResponse",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/ModalResponse"
        },
        {
          "description" : "Variables of type `NSModalSession` point to information used by the system between `NSApplication`’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/beginModalSession(for:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/endModalSession(_:)] messages.",
          "name" : "NSApplication.ModalSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/ModalSession"
        }
      ],
      "title" : "Running a Modal Window"
    }
  ],
  "source" : "appleJSON",
  "title" : "runModalSession(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/runModalSession(_:)"
}