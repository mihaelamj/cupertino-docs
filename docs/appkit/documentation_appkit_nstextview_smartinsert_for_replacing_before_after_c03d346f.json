{
  "abstract" : "Determines whether whitespace needs to be added around the string to preserve proper spacing and punctuation when it replaces the characters in the specified range.",
  "codeExamples" : [

  ],
  "contentHash" : "f5550aa92659847b741332f04434f6aa50a866b6badafd9319968c364974de5b",
  "crawledAt" : "2025-12-03T08:38:59Z",
  "declaration" : {
    "code" : "@MainActor func smartInsert(for pasteString: String, replacing charRangeToReplace: NSRange, before beforeString: AutoreleasingUnsafeMutablePointer<NSString?>?, after afterString: AutoreleasingUnsafeMutablePointer<NSString?>?)",
    "language" : "swift"
  },
  "id" : "DBD2929A-A789-4AD2-B7E3-DD38F3AAE850",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nAs part of its implementation, this method calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView\/smartInsert(afterStringFor:replacing:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView\/smartInsert(beforeStringFor:replacing:)]. To change this method’s behavior, override those two methods instead of this one.\n\n`NSTextView` uses this method as necessary. You can also use it in implementing your own methods that insert text. To do so, invoke this method with the proper arguments, then insert `beforeString`, `aString`, and `afterString` in order over `charRange`.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/smartInsert(for:replacing:before:after:)\ncrawled: 2025-12-03T08:38:59Z\n---\n\n# smartInsert(for:replacing:before:after:)\n\n**Instance Method**\n\nDetermines whether whitespace needs to be added around the string to preserve proper spacing and punctuation when it replaces the characters in the specified range.\n\n## Declaration\n\n```swift\n@MainActor func smartInsert(for pasteString: String, replacing charRangeToReplace: NSRange, before beforeString: AutoreleasingUnsafeMutablePointer<NSString?>?, after afterString: AutoreleasingUnsafeMutablePointer<NSString?>?)\n```\n\n## Parameters\n\n- **pasteString**: The string that is replacing the characters in `charRange`.\n- **charRangeToReplace**: The range of characters which `aString` is replacing.\n- **beforeString**: On return, a pointer to the string with the characters that should be added before `aString`; `nil` if there are no characters to add, if `aString` is `nil`, or if smart insertion and deletion are disabled.\n- **afterString**: On return, a pointer to the string with the characters that should be added after `aString`; `nil` if there are no characters to add, if `aString` is `nil`, or if smart insertion and deletion are disabled.\n\n## Discussion\n\nAs part of its implementation, this method calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView\/smartInsert(afterStringFor:replacing:)] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView\/smartInsert(beforeStringFor:replacing:)]. To change this method’s behavior, override those two methods instead of this one.\n\n`NSTextView` uses this method as necessary. You can also use it in implementing your own methods that insert text. To do so, invoke this method with the proper arguments, then insert `beforeString`, `aString`, and `afterString` in order over `charRange`.\n\n## Customizing subclass behaviors\n\n- **updateFontPanel()**: Updates the Font panel to contain the font attributes of the selection.\n- **updateRuler()**: Updates the ruler view in the receiver’s enclosing scroll view to reflect the selection’s paragraph and marker attributes.\n- **acceptableDragTypes**: The data types that the receiver accepts as the destination view of a dragging operation.\n- **updateDragTypeRegistration()**: Updates the acceptable drag types of all text views associated with the receiver’s layout manager.\n- **selectionRange(forProposedRange:granularity:)**: Returns an adjusted selected range based on the selection granularity.\n- **rangeForUserCharacterAttributeChange**: The range of characters affected by an action method that changes character (not paragraph) attributes.\n- **rangesForUserCharacterAttributeChange**: An array containing the ranges of characters affected by an action method that changes character (not paragraph) attributes.\n- **rangeForUserParagraphAttributeChange**: The range of characters affected by an action method that changes paragraph (not character) attributes.\n- **rangesForUserParagraphAttributeChange**: An array containing the ranges of characters affected by a method that changes paragraph (not character) attributes.\n- **rangeForUserTextChange**: The range of characters affected by a method that changes characters (as opposed to attributes).\n- **rangesForUserTextChange**: An array containing the ranges of characters affected by a method that changes characters (as opposed to attributes).\n- **shouldChangeText(in:replacementString:)**: Initiates a series of delegate messages (and general notifications) to determine whether modifications can be made to the characters and attributes of the receiver’s text.\n- **shouldChangeText(inRanges:replacementStrings:)**: Initiates a series of delegate messages (and general notifications) to determine whether modifications can be made to the characters and attributes of the receiver’s text.\n- **didChangeText()**: Sends out necessary notifications when a text change completes.\n- **smartInsertDeleteEnabled**: A Boolean value that controls whether the receiver inserts or deletes space around selected words so as to preserve proper spacing and punctuation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Updates the Font panel to contain the font attributes of the selection.",
          "name" : "updateFontPanel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/updateFontPanel()"
        },
        {
          "description" : "Updates the ruler view in the receiver’s enclosing scroll view to reflect the selection’s paragraph and marker attributes.",
          "name" : "updateRuler()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/updateRuler()"
        },
        {
          "description" : "The data types that the receiver accepts as the destination view of a dragging operation.",
          "name" : "acceptableDragTypes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/acceptableDragTypes"
        },
        {
          "description" : "Updates the acceptable drag types of all text views associated with the receiver’s layout manager.",
          "name" : "updateDragTypeRegistration()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/updateDragTypeRegistration()"
        },
        {
          "description" : "Returns an adjusted selected range based on the selection granularity.",
          "name" : "selectionRange(forProposedRange:granularity:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/selectionRange(forProposedRange:granularity:)"
        },
        {
          "description" : "The range of characters affected by an action method that changes character (not paragraph) attributes.",
          "name" : "rangeForUserCharacterAttributeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangeForUserCharacterAttributeChange"
        },
        {
          "description" : "An array containing the ranges of characters affected by an action method that changes character (not paragraph) attributes.",
          "name" : "rangesForUserCharacterAttributeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangesForUserCharacterAttributeChange"
        },
        {
          "description" : "The range of characters affected by an action method that changes paragraph (not character) attributes.",
          "name" : "rangeForUserParagraphAttributeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangeForUserParagraphAttributeChange"
        },
        {
          "description" : "An array containing the ranges of characters affected by a method that changes paragraph (not character) attributes.",
          "name" : "rangesForUserParagraphAttributeChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangesForUserParagraphAttributeChange"
        },
        {
          "description" : "The range of characters affected by a method that changes characters (as opposed to attributes).",
          "name" : "rangeForUserTextChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangeForUserTextChange"
        },
        {
          "description" : "An array containing the ranges of characters affected by a method that changes characters (as opposed to attributes).",
          "name" : "rangesForUserTextChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/rangesForUserTextChange"
        },
        {
          "description" : "Initiates a series of delegate messages (and general notifications) to determine whether modifications can be made to the characters and attributes of the receiver’s text.",
          "name" : "shouldChangeText(in:replacementString:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/shouldChangeText(in:replacementString:)"
        },
        {
          "description" : "Initiates a series of delegate messages (and general notifications) to determine whether modifications can be made to the characters and attributes of the receiver’s text.",
          "name" : "shouldChangeText(inRanges:replacementStrings:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/shouldChangeText(inRanges:replacementStrings:)"
        },
        {
          "description" : "Sends out necessary notifications when a text change completes.",
          "name" : "didChangeText()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/didChangeText()"
        },
        {
          "description" : "A Boolean value that controls whether the receiver inserts or deletes space around selected words so as to preserve proper spacing and punctuation.",
          "name" : "smartInsertDeleteEnabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/smartInsertDeleteEnabled"
        }
      ],
      "title" : "Customizing subclass behaviors"
    }
  ],
  "source" : "appleJSON",
  "title" : "smartInsert(for:replacing:before:after:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextView\/smartInsert(for:replacing:before:after:)"
}