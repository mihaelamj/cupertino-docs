{
  "abstract" : "The URL for the document’s backup file that was created during an autosave operation.",
  "codeExamples" : [

  ],
  "contentHash" : "57ba37124afad91cf7297b01000cfcd64d5d46d0b8451276f201b1a5dbe188f8",
  "crawledAt" : "2025-12-02T18:07:01Z",
  "declaration" : {
    "code" : "nonisolated var backupFileURL: URL? { get }",
    "language" : "swift"
  },
  "id" : "F1E51073-F2D2-4F51-A85F-481A292F15E2",
  "kind" : "property",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis property specifies the location of the backup file, if any. If a backup file cannot be created or is not needed, the value of this property is `nil`.\n\nStarting in OS X v10.8, document versions can be preserved using a backup file created during an autosave operation, which supports document versioning. This property gives you access to the backup file’s URL.\n\nUsing an autosave backup file for preserving versions is efficient. This is because an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument] instance is able to use the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileVersion\/ReplacingOptions\/byMoving] option when it calls the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileVersion\/replaceItem(at:options:)] method. The document gets the value of this property twice during saving:\n\nWhen you implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/SaveOperationType\/saveOperation] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/SaveOperationType\/autosaveInPlaceOperation] operation type, you must check this property’s value. If it is not `nil`, move the previous contents of the file (that would be overwritten) to the URL’s location. The default implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] does this.\n\nTo create a backup file from within your custom implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager] method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager\/replaceItem(at:withItemAt:backupItemName:options:resultingItemURL:)], using a backup item name of `[[self backupFileURL] lastPathComponent]` and an option of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager\/ItemReplacementOptions\/withoutDeletingBackupItem] option. If your custom implementation is unable to keep the backup file, you must override this property and return `nil` to ensure that the document’s file gets correctly preserved before it gets overwritten.\n\nThe default implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method returns a non-`nil` value based on the value of `[self fileURL]`, but only if the document’s file needs to be preserved prior to saving or if the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/preservesVersions] method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. Otherwise, it returns `nil`.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/backupFileURL\ncrawled: 2025-12-02T18:07:01Z\n---\n\n# backupFileURL\n\n**Instance Property**\n\nThe URL for the document’s backup file that was created during an autosave operation.\n\n## Declaration\n\n```swift\nnonisolated var backupFileURL: URL? { get }\n```\n\n## Discussion\n\nThis property specifies the location of the backup file, if any. If a backup file cannot be created or is not needed, the value of this property is `nil`.\n\nStarting in OS X v10.8, document versions can be preserved using a backup file created during an autosave operation, which supports document versioning. This property gives you access to the backup file’s URL.\n\nUsing an autosave backup file for preserving versions is efficient. This is because an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument] instance is able to use the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileVersion\/ReplacingOptions\/byMoving] option when it calls the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileVersion\/replaceItem(at:options:)] method. The document gets the value of this property twice during saving:\n\n1. Before calling the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method: This is to check whether using the replace-by-moving option is possible and, if not, to allow the system to preserve data by instead using copying.\n2. Within the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method: This is to discover where to put the backup file.\n\nWhen you implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/SaveOperationType\/saveOperation] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/SaveOperationType\/autosaveInPlaceOperation] operation type, you must check this property’s value. If it is not `nil`, move the previous contents of the file (that would be overwritten) to the URL’s location. The default implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] does this.\n\nTo create a backup file from within your custom implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method, call the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager] method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager\/replaceItem(at:withItemAt:backupItemName:options:resultingItemURL:)], using a backup item name of `[[self backupFileURL] lastPathComponent]` and an option of [doc:\/\/com.apple.documentation\/documentation\/Foundation\/FileManager\/ItemReplacementOptions\/withoutDeletingBackupItem] option. If your custom implementation is unable to keep the backup file, you must override this property and return `nil` to ensure that the document’s file gets correctly preserved before it gets overwritten.\n\nThe default implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] method returns a non-`nil` value based on the value of `[self fileURL]`, but only if the document’s file needs to be preserved prior to saving or if the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/preservesVersions] method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. Otherwise, it returns `nil`.\n\n## Autosaving the Document\n\n- **checkAutosavingSafety()**: Returns a Boolean value that indicates whether it is safe to autosave document changes.\n- **hasUnautosavedChanges**: A Boolean value that indicates whether the document has changes that have not been autosaved.\n- **scheduleAutosaving()**: Schedules periodic autosaving for the purpose of crash protection.\n- **autosave(withDelegate:didAutosave:contextInfo:)**: Autosaves the document’s contents to an appropriate location in the file system.\n- **autosave(withImplicitCancellability:completionHandler:)**: Autosaves the document’s contents to an appropriate file-system location, as needed.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether it is safe to autosave document changes.",
          "name" : "checkAutosavingSafety()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/checkAutosavingSafety()"
        },
        {
          "description" : "A Boolean value that indicates whether the document has changes that have not been autosaved.",
          "name" : "hasUnautosavedChanges",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/hasUnautosavedChanges"
        },
        {
          "description" : "Schedules periodic autosaving for the purpose of crash protection.",
          "name" : "scheduleAutosaving()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/scheduleAutosaving()"
        },
        {
          "description" : "Autosaves the document’s contents to an appropriate location in the file system.",
          "name" : "autosave(withDelegate:didAutosave:contextInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/autosave(withDelegate:didAutosave:contextInfo:)"
        },
        {
          "description" : "Autosaves the document’s contents to an appropriate file-system location, as needed.",
          "name" : "autosave(withImplicitCancellability:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/autosave(withImplicitCancellability:completionHandler:)"
        }
      ],
      "title" : "Autosaving the Document"
    }
  ],
  "source" : "appleJSON",
  "title" : "backupFileURL",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/backupFileURL"
}