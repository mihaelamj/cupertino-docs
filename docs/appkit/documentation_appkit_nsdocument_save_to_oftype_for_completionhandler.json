{
  "abstract" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.",
  "codeExamples" : [

  ],
  "contentHash" : "0c5a3610891f7128ed33c1ca5016ec92c376ba1f14f3897c5fc887012bca8e75",
  "crawledAt" : "2025-11-30T22:09:26Z",
  "declaration" : {
    "code" : "@MainActor func save(to url: URL, ofType typeName: String, for saveOperation: NSDocument.SaveOperationType, completionHandler: @escaping ((any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "90213D53-7960-40A3-90FE-109461B4B3AB",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThe default implementation of this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)]. If writing can’t be done concurrently, it invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] on the main thread thread. If writing can be done concurrently, it invokes that method on a different thread, but blocks the main thread until something invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()]. Either way, if [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], it updates the values in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileModificationDate], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileType], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileURL], and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/autosavedContentsFileURL] properties and calls the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/updateChangeCount(_:)] method as appropriate on the main thread. It also updates information that [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/save(withDelegate:didSave:contextInfo:)] uses to check for modification, renaming, moving, deleting, and trashing of open documents, and deletes autosaved contents files when they have become obsolete. You can override this method to do things that need to be done before or after any save operation but be sure to invoke `super`.\n\nFor backward binary compatibility with OS X v10.6 and earlier, the default implementation of this method instead invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/saveToURL:ofType:forSaveOperation:error:] if that method is overridden and this one is not, and it passes any error to the completion handler.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)\ncrawled: 2025-11-30T22:09:26Z\n---\n\n# save(to:ofType:for:completionHandler:)\n\n**Instance Method**\n\nSaves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation, and invokes the passed-in completion handler.\n\n## Declaration\n\n```swift\n@MainActor func save(to url: URL, ofType typeName: String, for saveOperation: NSDocument.SaveOperationType, completionHandler: @escaping ((any Error)?) -> Void)\n```\n\n```swift\n@MainActor func save(to url: URL, ofType typeName: String, for saveOperation: NSDocument.SaveOperationType) async throws\n```\n\n## Parameters\n\n- **url**: The location to which the document contents are written.\n- **typeName**: The document type.\n- **saveOperation**: The type of save operation.\n- **completionHandler**: The completion handler block object passed in to be invoked at some point in the future, perhaps after the method invocation has returned. The completion handler must be invoked on the main thread.\n\nThe block takes one argument:\n\n\n\n## Discussion\n\nThe default implementation of this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)]. If writing can’t be done concurrently, it invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] on the main thread thread. If writing can be done concurrently, it invokes that method on a different thread, but blocks the main thread until something invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()]. Either way, if [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)] returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], it updates the values in the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileModificationDate], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileType], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/fileURL], and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/autosavedContentsFileURL] properties and calls the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/updateChangeCount(_:)] method as appropriate on the main thread. It also updates information that [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/save(withDelegate:didSave:contextInfo:)] uses to check for modification, renaming, moving, deleting, and trashing of open documents, and deletes autosaved contents files when they have become obsolete. You can override this method to do things that need to be done before or after any save operation but be sure to invoke `super`.\n\nFor backward binary compatibility with OS X v10.6 and earlier, the default implementation of this method instead invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/saveToURL:ofType:forSaveOperation:error:] if that method is overridden and this one is not, and it passes any error to the completion handler.\n\n## Writing the Document’s Content\n\n- **canAsynchronouslyWrite(to:ofType:for:)**: Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.\n- **unblockUserInteraction()**: Unblocks the main thread during asynchronous saving.\n- **write(to:ofType:)**: Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.\n- **writeSafely(to:ofType:for:)**: Writes the contents of the document to a file or file package located by a URL.\n- **fileWrapper(ofType:)**: Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.\n- **data(ofType:)**: Creates and returns a data object that contains the contents of the document, formatted to a specified type.\n- **write(to:ofType:for:originalContentsURL:)**: Writes the contents of the document to a file or file package located by a URL.\n- **save(to:ofType:for:delegate:didSave:contextInfo:)**: Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.\n- **fileAttributesToWrite(to:ofType:for:originalContentsURL:)**: Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.\n- **NSDocument.SaveOperationType**: Constants for specifying the type of document-save operation to perform.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns whether the receiver can concurrently write to a file or file package located by a URL, that is formatted for a specific type, for a specific kind of save operation.",
          "name" : "canAsynchronouslyWrite(to:ofType:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/canAsynchronouslyWrite(to:ofType:for:)"
        },
        {
          "description" : "Unblocks the main thread during asynchronous saving.",
          "name" : "unblockUserInteraction()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/unblockUserInteraction()"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL, that is formatted to a specified type.",
          "name" : "write(to:ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL.",
          "name" : "writeSafely(to:ofType:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/writeSafely(to:ofType:for:)"
        },
        {
          "description" : "Creates and returns a file wrapper that contains the contents of the document, formatted to the specified type.",
          "name" : "fileWrapper(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileWrapper(ofType:)"
        },
        {
          "description" : "Creates and returns a data object that contains the contents of the document, formatted to a specified type.",
          "name" : "data(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/data(ofType:)"
        },
        {
          "description" : "Writes the contents of the document to a file or file package located by a URL.",
          "name" : "write(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/write(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Saves the contents of the document to a file or file package located by a URL, that is formatted to a specified type, for a particular kind of save operation.",
          "name" : "save(to:ofType:for:delegate:didSave:contextInfo:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:delegate:didSave:contextInfo:)"
        },
        {
          "description" : "Returns the attributes to write to the file or file package at the specified URL, and targeting the specified type of save operation.",
          "name" : "fileAttributesToWrite(to:ofType:for:originalContentsURL:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/fileAttributesToWrite(to:ofType:for:originalContentsURL:)"
        },
        {
          "description" : "Constants for specifying the type of document-save operation to perform.",
          "name" : "NSDocument.SaveOperationType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/SaveOperationType"
        }
      ],
      "title" : "Writing the Document’s Content"
    }
  ],
  "source" : "appleJSON",
  "title" : "save(to:ofType:for:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/save(to:ofType:for:completionHandler:)"
}