{
  "abstract" : "Build a structured user interface that simplifies navigation in your app.",
  "codeExamples" : [
    {
      "code" : "class Node: NSObject, Codable {\n    var type: NodeType = .unknown\n    var title: String = \"\"\n    var identifier: String = \"\"\n    var url: URL?\n    @objc dynamic var children = [Node]()\n}",
      "language" : "swift"
    },
    {
      "code" : "guard let newPlistURL = Bundle.main.url(forResource: \"DataSource\", withExtension: \"plist\") else {\n    fatalError(\"Failed to resolve URL for `DataSource.plist` in bundle.\")\n}\ndo {\n    \/\/ Populate the outline view with the .plist file content.\n    struct OutlineData: Decodable {\n        let children: [Node]\n    }\n    \/\/ Decode the top-level children of the outline.\n    let plistDecoder = PropertyListDecoder()\n    let data = try Data(contentsOf: newPlistURL)\n    let decodedData = try plistDecoder.decode(OutlineData.self, from: data)\n    for node in decodedData.children {\n        \/\/ Recursively add further content from the specified node.\n        addNode(node)\n        if node.type == .container {\n            selectParentFromSelection()\n        }\n    }\n} catch {\n    fatalError(\"Failed to load `DataSource.plist` in bundle.\")\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ The user chose the Delete menu item or pressed the Delete key.\n@IBAction func delete(_ sender: AnyObject) {\n    removeItems()\n}",
      "language" : "swift"
    },
    {
      "code" : "func validateUserInterfaceItem(_ item: NSValidatedUserInterfaceItem) -> Bool {\n    if item.action == #selector(delete(_:)) {\n        return !treeController.selectedObjects.isEmpty\n    }\n    return true\n}",
      "language" : "swift"
    },
    {
      "code" : "func outlineView(_ outlineView: NSOutlineView, persistentObjectForItem item: Any?) -> Any? {\n    let node = OutlineViewController.node(from: item!)\n    return node?.identifier \/\/ The outgoing object is the identifier.\n}",
      "language" : "swift"
    },
    {
      "code" : "func outlineView(_ outlineView: NSOutlineView, itemForPersistentObject object: Any) -> Any? {\n    let node = nodeFromIdentifier(anObject: object)  \/\/ The incoming object is the identifier.\n    return node\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "9efe1f66f5b294eb1a6b49ce7d68e24fb2b1110127f946e1becaa82676a69ef0",
  "crawledAt" : "2025-12-02T15:46:42Z",
  "id" : "7C90CAF4-484A-4AF6-A3EF-B5FBB8175513",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\nJust as a table view organizes a list of objects linearly, an outline view organizes objects hierarchically. When an app’s user interface becomes more complex, an outline format helps to organize it.\n\nThis sample shows how to use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] to navigate hierarchical data. [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] is a Cocoa view that uses a row-and-column format. Rows expand and collapse to control the amount of information that your app presents.  The outline is a hierarchical list of images within container groups. The `DataSource.plist` file predefines the hierarchy.\n\nThe outline view uses [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTableView\/SelectionHighlightStyle-swift.enum\/sourceList] to:\n\nIt does this by setting the highlight appearance in the storyboard, but you can also configure it in code using `outlineView.selectionHighlightStyle = .sourceList`.\n\nWhen you use `NSOutlineView` with [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitViewController], your app presents data in a primary-detail format similar to that of the Xcode Project navigator or the Finder.\n\n### Configure the Split-View Controller\n\nAn outline view works well as part of a primary-detail user interface. When the user selects an item from the outline view on the left, the detail view shows the results of the selection. For a primary-detail configuration, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitView], which arranges two or more views in a linear stack running horizontally. The system embeds each view in its own [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitViewItem]. In this sample project, the left split-view item is a view controller called `OutlineViewController`, and the right split-view item is called `DetailViewController`. The `OutlineViewController` class focuses on how to use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView].\n\n\n\nIn a primary-detail user interface, the list view on the left must remain the same size when the split view grows or shrinks, while the detail view on the right changes size. To implement this behavior, the app uses the *holding priority* on the split-view items. The view with the lowest holding priority is the first to increase its width as the split view grows or shrinks. To keep the left split-view item from growing, set its holding priority to `200`, and set the item on the right to `199`.\n\n\n\n### Define Hierarchical Content with a Tree Controller\n\nThe [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] class is the data source for the outline view. It acts as the controller when binding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] to its hierarchical collection of objects. These objects represent *nodes*, which the `Node` class implements.\n\nA node represents either a container or a document. A container node groups other nodes together. Each container node has its own unique identifier, whereas document nodes have an empty identifier with no children.\n\nThis sample uses two kinds of nodes:\n\nThe sample declares the `Node` class as follows, defining the type, title, identifier, URL, and children nodes:\n\nThe hierarchy consists of nodes that the system reads from the `DataSource.plist` file. Node objects adopt the `Decodable` protocol and the system automatically creates them directly from the property list file.\n\n### Handle Drag and Drop\n\nUsers drag and drop nodes from within the outline view to rearrange them, or drag nodes that represent images out to other apps. Users can also drag image files from the Finder, Photos, Mail, or Safari. For more information, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/drag-and-drop]. This sample shows how to create promise drags by dragging a copy of an image file using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSFilePromiseProvider].\n\n### Add a Contextual Menu\n\nThe outline view uses contextual menus, or *shortcut menus*, that provide access to frequently used commands. Control-clicking an outline view node opens its contextual menu. The `NSOutlineView` [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/menu(for:)] function creates these contextual menus. Override this function with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] subclass to return a contextual menu. The contextual menu operations are: add, remove, and rename.\n\n### Integrate with the Edit Menu\n\nUse the Edit menu to directly affect the contents of the outline view. This sample adds a Delete menu item for deleting items from the outline view. `OutlineViewController` implements the `IBAction` delete function. The user chooses the menu item or presses the Delete key.\n\nUse the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSUserInterfaceValidations] protocol to enable or disable the Delete menu item according to the selection in the outline view.\n\n### Restore the Outline View\n\nThis sample saves and restores:\n\nUse the window restoration system’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/encodeRestorableState(with:)] function to save the outline view’s node selection. The next time the app launches, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/restoreState(with:)] to restore that selection.\n\nWhen the outline view saves the disclosure states, it encodes each container as an archived object by using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineViewDataSource\/outlineView(_:persistentObjectForItem:)] function.\n\nWhen the outline view restores the disclosure states, it calls this function for each to translate the archived object to an outline view item.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/navigating-hierarchical-data-using-outline-and-split-views\ncrawled: 2025-12-02T15:46:42Z\n---\n\n# Navigating Hierarchical Data Using Outline and Split Views\n\n**Sample Code**\n\nBuild a structured user interface that simplifies navigation in your app.\n\n## Overview\n\nJust as a table view organizes a list of objects linearly, an outline view organizes objects hierarchically. When an app’s user interface becomes more complex, an outline format helps to organize it.\n\nThis sample shows how to use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] to navigate hierarchical data. [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] is a Cocoa view that uses a row-and-column format. Rows expand and collapse to control the amount of information that your app presents.  The outline is a hierarchical list of images within container groups. The `DataSource.plist` file predefines the hierarchy.\n\nThe outline view uses [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTableView\/SelectionHighlightStyle-swift.enum\/sourceList] to:\n\n- Indicate row selection with a light blue highlight.\n- Group nodes that look similar to the Finder sidebar.\n- Blur background content to add depth to your interface.\n\nIt does this by setting the highlight appearance in the storyboard, but you can also configure it in code using `outlineView.selectionHighlightStyle = .sourceList`.\n\nWhen you use `NSOutlineView` with [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitViewController], your app presents data in a primary-detail format similar to that of the Xcode Project navigator or the Finder.\n\n### Configure the Split-View Controller\n\nAn outline view works well as part of a primary-detail user interface. When the user selects an item from the outline view on the left, the detail view shows the results of the selection. For a primary-detail configuration, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitView], which arranges two or more views in a linear stack running horizontally. The system embeds each view in its own [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSSplitViewItem]. In this sample project, the left split-view item is a view controller called `OutlineViewController`, and the right split-view item is called `DetailViewController`. The `OutlineViewController` class focuses on how to use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView].\n\n\n\nIn a primary-detail user interface, the list view on the left must remain the same size when the split view grows or shrinks, while the detail view on the right changes size. To implement this behavior, the app uses the *holding priority* on the split-view items. The view with the lowest holding priority is the first to increase its width as the split view grows or shrinks. To keep the left split-view item from growing, set its holding priority to `200`, and set the item on the right to `199`.\n\n\n\n### Define Hierarchical Content with a Tree Controller\n\nThe [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] class is the data source for the outline view. It acts as the controller when binding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] to its hierarchical collection of objects. These objects represent *nodes*, which the `Node` class implements.\n\nA node represents either a container or a document. A container node groups other nodes together. Each container node has its own unique identifier, whereas document nodes have an empty identifier with no children.\n\nThis sample uses two kinds of nodes:\n\n- URL-based, representing a container or document on disk.\n- Non-URL-based, representing a container or document in memory only.\n\nThe sample declares the `Node` class as follows, defining the type, title, identifier, URL, and children nodes:\n\n```swift\nclass Node: NSObject, Codable {\n    var type: NodeType = .unknown\n    var title: String = \"\"\n    var identifier: String = \"\"\n    var url: URL?\n    @objc dynamic var children = [Node]()\n}\n```\n\nThe hierarchy consists of nodes that the system reads from the `DataSource.plist` file. Node objects adopt the `Decodable` protocol and the system automatically creates them directly from the property list file.\n\n```swift\nguard let newPlistURL = Bundle.main.url(forResource: \"DataSource\", withExtension: \"plist\") else {\n    fatalError(\"Failed to resolve URL for `DataSource.plist` in bundle.\")\n}\ndo {\n    \/\/ Populate the outline view with the .plist file content.\n    struct OutlineData: Decodable {\n        let children: [Node]\n    }\n    \/\/ Decode the top-level children of the outline.\n    let plistDecoder = PropertyListDecoder()\n    let data = try Data(contentsOf: newPlistURL)\n    let decodedData = try plistDecoder.decode(OutlineData.self, from: data)\n    for node in decodedData.children {\n        \/\/ Recursively add further content from the specified node.\n        addNode(node)\n        if node.type == .container {\n            selectParentFromSelection()\n        }\n    }\n} catch {\n    fatalError(\"Failed to load `DataSource.plist` in bundle.\")\n}\n```\n\n### Handle Drag and Drop\n\nUsers drag and drop nodes from within the outline view to rearrange them, or drag nodes that represent images out to other apps. Users can also drag image files from the Finder, Photos, Mail, or Safari. For more information, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/drag-and-drop]. This sample shows how to create promise drags by dragging a copy of an image file using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSFilePromiseProvider].\n\n### Add a Contextual Menu\n\nThe outline view uses contextual menus, or *shortcut menus*, that provide access to frequently used commands. Control-clicking an outline view node opens its contextual menu. The `NSOutlineView` [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/menu(for:)] function creates these contextual menus. Override this function with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] subclass to return a contextual menu. The contextual menu operations are: add, remove, and rename.\n\n### Integrate with the Edit Menu\n\nUse the Edit menu to directly affect the contents of the outline view. This sample adds a Delete menu item for deleting items from the outline view. `OutlineViewController` implements the `IBAction` delete function. The user chooses the menu item or presses the Delete key.\n\n```swift\n\/\/ The user chose the Delete menu item or pressed the Delete key.\n@IBAction func delete(_ sender: AnyObject) {\n    removeItems()\n}\n```\n\nUse the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSUserInterfaceValidations] protocol to enable or disable the Delete menu item according to the selection in the outline view.\n\n```swift\nfunc validateUserInterfaceItem(_ item: NSValidatedUserInterfaceItem) -> Bool {\n    if item.action == #selector(delete(_:)) {\n        return !treeController.selectedObjects.isEmpty\n    }\n    return true\n}\n```\n\n### Restore the Outline View\n\nThis sample saves and restores:\n\n- The disclosure state of each container node.\n- The outline view’s selection.\n\nUse the window restoration system’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/encodeRestorableState(with:)] function to save the outline view’s node selection. The next time the app launches, use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/restoreState(with:)] to restore that selection.\n\n\n\nWhen the outline view saves the disclosure states, it encodes each container as an archived object by using the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineViewDataSource\/outlineView(_:persistentObjectForItem:)] function.\n\n```swift\nfunc outlineView(_ outlineView: NSOutlineView, persistentObjectForItem item: Any?) -> Any? {\n    let node = OutlineViewController.node(from: item!)\n    return node?.identifier \/\/ The outgoing object is the identifier.\n}\n```\n\nWhen the outline view restores the disclosure states, it calls this function for each to translate the archived object to an outline view item.\n\n```swift\nfunc outlineView(_ outlineView: NSOutlineView, itemForPersistentObject object: Any) -> Any? {\n    let node = nodeFromIdentifier(anObject: object)  \/\/ The incoming object is the identifier.\n    return node\n}\n```\n\n## Tree-Based Data\n\n- **NSTreeController**: A bindings-compatible controller that manages a tree of objects.\n- **NSTreeNode**: A node in a tree of nodes.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A bindings-compatible controller that manages a tree of objects.",
          "name" : "NSTreeController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController"
        },
        {
          "description" : "A node in a tree of nodes.",
          "name" : "NSTreeNode",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeNode"
        }
      ],
      "title" : "Tree-Based Data"
    }
  ],
  "source" : "appleJSON",
  "title" : "Navigating Hierarchical Data Using Outline and Split Views",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/navigating-hierarchical-data-using-outline-and-split-views"
}