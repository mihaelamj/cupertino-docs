{
  "abstract" : "A bindings-compatible controller that manages a tree of objects.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSEditor",
    "NSEditorRegistration",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "5d11f45a57596d0a53756fad3a7ba4443526e2754c39038bd99371b5f99e1c46",
  "crawledAt" : "2025-12-02T16:06:17Z",
  "declaration" : {
    "code" : "class NSTreeController",
    "language" : "swift"
  },
  "id" : "9654CF20-7039-4CD8-BA2B-B8BC67DE4F48",
  "kind" : "class",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\nThe [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] class provides selection and sort management. Its primary purpose is to act as the controller when binding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSBrowser] instances to a hierarchical collection of objects. The root content object of the tree can be a single object, or an array of objects.\n\nAn [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] object requires that you describe how the tree of objects is traversed by specifying the key-path for child objects specified by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/childrenKeyPath]. All child objects for the tree must be key-value coding compliant for the same child key path. If necessary, you should add properties to your model classes that map the child key name to the appropriate class-specific property name.\n\nChild objects can implement a count method (specified to the tree controller using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/countKeyPath]) that, if provided, returns the number of child objects available. Your model objects are expected to update the value of the count key path in a key-value observing compliant method. Optionally, you can also provide a leaf key path using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/leafKeyPath] that specifies a key in your model object that returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the object is a leaf node, and [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if it is not. Changes to the leaf node value of the child object should be made in a key-value observing compliant manner. Providing the leaf node key path can improve performance, because it prevents the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] from having to examine the child object to determine if it is a leaf node.\n\nFor more information about using NSTreeController in your app, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/navigating-hierarchical-data-using-outline-and-split-views].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\ncrawled: 2025-12-02T16:06:17Z\n---\n\n# NSTreeController\n\n**Class**\n\nA bindings-compatible controller that manages a tree of objects.\n\n## Declaration\n\n```swift\nclass NSTreeController\n```\n\n## Overview\n\nThe [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] class provides selection and sort management. Its primary purpose is to act as the controller when binding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSOutlineView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSBrowser] instances to a hierarchical collection of objects. The root content object of the tree can be a single object, or an array of objects.\n\nAn [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] object requires that you describe how the tree of objects is traversed by specifying the key-path for child objects specified by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/childrenKeyPath]. All child objects for the tree must be key-value coding compliant for the same child key path. If necessary, you should add properties to your model classes that map the child key name to the appropriate class-specific property name.\n\nChild objects can implement a count method (specified to the tree controller using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/countKeyPath]) that, if provided, returns the number of child objects available. Your model objects are expected to update the value of the count key path in a key-value observing compliant method. Optionally, you can also provide a leaf key path using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController\/leafKeyPath] that specifies a key in your model object that returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the object is a leaf node, and [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if it is not. Changes to the leaf node value of the child object should be made in a key-value observing compliant manner. Providing the leaf node key path can improve performance, because it prevents the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTreeController] from having to examine the child object to determine if it is a leaf node.\n\nFor more information about using NSTreeController in your app, see [doc:\/\/com.apple.appkit\/documentation\/AppKit\/navigating-hierarchical-data-using-outline-and-split-views].\n\n## Managing Sort Descriptors\n\n- **sortDescriptors**: An array containing the sort descriptors used to arrange the tree controller’s content.\n\n## Setting the content\n\n- **content**: The tree controller’s content object.\n\n## Arranging Objects\n\n- **arrangedObjects**: The tree controller’s sorted content objects.\n- **rearrangeObjects()**: Use this method to trigger reordering of the tree controller’s content.\n\n## Getting the current selection\n\n- **setSelectionIndexPath(_:)**: Sets the tree controller’s current selection.\n- **selectionIndexPath**: The index path of the first selected object.\n- **setSelectionIndexPaths(_:)**: Sets the tree controller’s current selection to the specified index paths.\n- **selectionIndexPaths**: An array containing the index paths of the currently selected objects.\n- **selectedObjects**: An array containing the currently selected objects in the tree controller’s content.\n- **selectedNodes**: An array containing the tree controller’s selected tree nodes.\n\n## Managing Selections\n\n- **selectsInsertedObjects**: A Boolean value that indicates whether the tree controller automatically selects objects as they are inserted.\n- **addSelectionIndexPaths(_:)**: Adds the objects at the specified `indexPaths` in the tree controller’s content to the current selection.\n- **removeSelectionIndexPaths(_:)**: Removes the objects at the specified index paths from the tree controller’s current selection.\n- **avoidsEmptySelection**: A Boolean value that indicates whether the tree controller requires the content array to attempt to maintain a selection at all times, avoiding an empty selection.\n- **preservesSelection**: A Boolean value that indicates whether the tree controller will attempt to preserve the current selection when the content changes.\n- **alwaysUsesMultipleValuesMarker**: A Boolean value that indicates whether the tree controller always returns the multiple values marker when multiple objects are selected, even if the selected items have the same value.\n\n## Adding, inserting and removing objects\n\n- **add(_:)**: Adds an object to the tree controller’s content after the current selection.\n- **addChild(_:)**: Adds a child object to the currently selected item.\n- **canAddChild**: A Boolean value that indicates if a child object can be added to the tree controller’s content.\n- **canInsert**: A Boolean value that indicates if an object can be inserted into the tree controller’s content.\n- **canInsertChild**: A Boolean value that indicates if a child object can be inserted into the tree controller’s content.\n- **insert(_:)**: Creates a new object of the class specified by `objectClass` and inserts it into the tree controller’s content.\n- **insertChild(_:)**: Creates a new object of the class specified by `objectClass` and inserts it into the tree controller’s content as a child of the current selection.\n- **insert(_:atArrangedObjectIndexPath:)**: Inserts `object` into the tree controller’s arranged objects array at the location specified by `indexPath`, and adds it to the tree controller’s content.\n- **insert(_:atArrangedObjectIndexPaths:)**: Inserts `objects` into the tree controller’s arranged objects array at the locations specified in `indexPaths`, and adds them to the tree controller’s content.\n- **remove(_:)**: Removes the tree controller’s selected objects from the content.\n- **removeObject(atArrangedObjectIndexPath:)**: Removes the object at the specified `indexPath` in the tree controller’s arranged objects from the tree controller’s content.\n- **removeObjects(atArrangedObjectIndexPaths:)**: Removes the objects at the specified `indexPaths` in the tree controller’s arranged objects from the tree controller’s content.\n- **move(_:to:)**: Moves the specified tree node to the new index path.\n- **move(_:to:)**: Moves the specified tree nodes to the new index path.\n\n## Specifying model attributes\n\n- **childrenKeyPath**: The key path used to find the children in the tree controller’s objects.\n- **childrenKeyPath(for:)**: Returns the key path used to find the children in the specified tree node.\n- **countKeyPath**: The key path used to find the number of children for a node.\n- **countKeyPath(for:)**: Returns the key path that provides the number of children for a specified node.\n- **leafKeyPath**: The key path used by the tree controller to determine if a node is a leaf key.\n- **leafKeyPath(for:)**: Returns the key path that specifies whether the node is a leaf node.\n\n## Tree-Based Data\n\n- **Navigating Hierarchical Data Using Outline and Split Views**: Build a structured user interface that simplifies navigation in your app.\n- **NSTreeNode**: A node in a tree of nodes.\n\n## Inherits From\n\n- NSObjectController\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSEditor\n- NSEditorRegistration\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array containing the sort descriptors used to arrange the tree controller’s content.",
          "name" : "sortDescriptors",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/sortDescriptors"
        }
      ],
      "title" : "Managing Sort Descriptors"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The tree controller’s content object.",
          "name" : "content",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/content"
        }
      ],
      "title" : "Setting the content"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The tree controller’s sorted content objects.",
          "name" : "arrangedObjects",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/arrangedObjects"
        },
        {
          "description" : "Use this method to trigger reordering of the tree controller’s content.",
          "name" : "rearrangeObjects()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/rearrangeObjects()"
        }
      ],
      "title" : "Arranging Objects"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets the tree controller’s current selection.",
          "name" : "setSelectionIndexPath(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/setSelectionIndexPath(_:)"
        },
        {
          "description" : "The index path of the first selected object.",
          "name" : "selectionIndexPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/selectionIndexPath"
        },
        {
          "description" : "Sets the tree controller’s current selection to the specified index paths.",
          "name" : "setSelectionIndexPaths(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/setSelectionIndexPaths(_:)"
        },
        {
          "description" : "An array containing the index paths of the currently selected objects.",
          "name" : "selectionIndexPaths",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/selectionIndexPaths"
        },
        {
          "description" : "An array containing the currently selected objects in the tree controller’s content.",
          "name" : "selectedObjects",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/selectedObjects"
        },
        {
          "description" : "An array containing the tree controller’s selected tree nodes.",
          "name" : "selectedNodes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/selectedNodes"
        }
      ],
      "title" : "Getting the current selection"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the tree controller automatically selects objects as they are inserted.",
          "name" : "selectsInsertedObjects",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/selectsInsertedObjects"
        },
        {
          "description" : "Adds the objects at the specified `indexPaths` in the tree controller’s content to the current selection.",
          "name" : "addSelectionIndexPaths(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/addSelectionIndexPaths(_:)"
        },
        {
          "description" : "Removes the objects at the specified index paths from the tree controller’s current selection.",
          "name" : "removeSelectionIndexPaths(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/removeSelectionIndexPaths(_:)"
        },
        {
          "description" : "A Boolean value that indicates whether the tree controller requires the content array to attempt to maintain a selection at all times, avoiding an empty selection.",
          "name" : "avoidsEmptySelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/avoidsEmptySelection"
        },
        {
          "description" : "A Boolean value that indicates whether the tree controller will attempt to preserve the current selection when the content changes.",
          "name" : "preservesSelection",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/preservesSelection"
        },
        {
          "description" : "A Boolean value that indicates whether the tree controller always returns the multiple values marker when multiple objects are selected, even if the selected items have the same value.",
          "name" : "alwaysUsesMultipleValuesMarker",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/alwaysUsesMultipleValuesMarker"
        }
      ],
      "title" : "Managing Selections"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds an object to the tree controller’s content after the current selection.",
          "name" : "add(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/add(_:)"
        },
        {
          "description" : "Adds a child object to the currently selected item.",
          "name" : "addChild(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/addChild(_:)"
        },
        {
          "description" : "A Boolean value that indicates if a child object can be added to the tree controller’s content.",
          "name" : "canAddChild",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/canAddChild"
        },
        {
          "description" : "A Boolean value that indicates if an object can be inserted into the tree controller’s content.",
          "name" : "canInsert",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/canInsert"
        },
        {
          "description" : "A Boolean value that indicates if a child object can be inserted into the tree controller’s content.",
          "name" : "canInsertChild",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/canInsertChild"
        },
        {
          "description" : "Creates a new object of the class specified by `objectClass` and inserts it into the tree controller’s content.",
          "name" : "insert(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/insert(_:)"
        },
        {
          "description" : "Creates a new object of the class specified by `objectClass` and inserts it into the tree controller’s content as a child of the current selection.",
          "name" : "insertChild(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/insertChild(_:)"
        },
        {
          "description" : "Inserts `object` into the tree controller’s arranged objects array at the location specified by `indexPath`, and adds it to the tree controller’s content.",
          "name" : "insert(_:atArrangedObjectIndexPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/insert(_:atArrangedObjectIndexPath:)"
        },
        {
          "description" : "Inserts `objects` into the tree controller’s arranged objects array at the locations specified in `indexPaths`, and adds them to the tree controller’s content.",
          "name" : "insert(_:atArrangedObjectIndexPaths:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/insert(_:atArrangedObjectIndexPaths:)"
        },
        {
          "description" : "Removes the tree controller’s selected objects from the content.",
          "name" : "remove(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/remove(_:)"
        },
        {
          "description" : "Removes the object at the specified `indexPath` in the tree controller’s arranged objects from the tree controller’s content.",
          "name" : "removeObject(atArrangedObjectIndexPath:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/removeObject(atArrangedObjectIndexPath:)"
        },
        {
          "description" : "Removes the objects at the specified `indexPaths` in the tree controller’s arranged objects from the tree controller’s content.",
          "name" : "removeObjects(atArrangedObjectIndexPaths:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/removeObjects(atArrangedObjectIndexPaths:)"
        },
        {
          "description" : "Moves the specified tree node to the new index path.",
          "name" : "move(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/move(_:to:)-s5xp"
        },
        {
          "description" : "Moves the specified tree nodes to the new index path.",
          "name" : "move(_:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/move(_:to:)-moi9"
        }
      ],
      "title" : "Adding, inserting and removing objects"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The key path used to find the children in the tree controller’s objects.",
          "name" : "childrenKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/childrenKeyPath"
        },
        {
          "description" : "Returns the key path used to find the children in the specified tree node.",
          "name" : "childrenKeyPath(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/childrenKeyPath(for:)"
        },
        {
          "description" : "The key path used to find the number of children for a node.",
          "name" : "countKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/countKeyPath"
        },
        {
          "description" : "Returns the key path that provides the number of children for a specified node.",
          "name" : "countKeyPath(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/countKeyPath(for:)"
        },
        {
          "description" : "The key path used by the tree controller to determine if a node is a leaf key.",
          "name" : "leafKeyPath",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/leafKeyPath"
        },
        {
          "description" : "Returns the key path that specifies whether the node is a leaf node.",
          "name" : "leafKeyPath(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController\/leafKeyPath(for:)"
        }
      ],
      "title" : "Specifying model attributes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Build a structured user interface that simplifies navigation in your app.",
          "name" : "Navigating Hierarchical Data Using Outline and Split Views",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/navigating-hierarchical-data-using-outline-and-split-views"
        },
        {
          "description" : "A node in a tree of nodes.",
          "name" : "NSTreeNode",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeNode"
        }
      ],
      "title" : "Tree-Based Data"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectController"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSTreeController",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTreeController"
}