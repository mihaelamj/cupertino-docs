{
  "abstract" : "A closure that creates and returns each of the layout’s sections.",
  "codeExamples" : [
    {
      "code" : "func createPerSectionLayout() -> NSCollectionViewLayout {\n    let layout = NSCollectionViewCompositionalLayout { (sectionIndex: Int,\n        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection? in\n        \n        let columns = sectionIndex == 0 ? 2 : 4\n        \n        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                             heightDimension: .fractionalHeight(1.0))\n        let item = NSCollectionLayoutItem(layoutSize: itemSize)\n        \n        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                              heightDimension: .absolute(44))\n        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,\n                                                          subitem: item,\n                                                            count: columns)\n        \n        let section = NSCollectionLayoutSection(group: group)\n        return section\n    }\n    return layout\n}",
      "language" : "swift"
    },
    {
      "code" : "func createAdaptiveLayout() -> NSCollectionViewLayout {\n    let layout = NSCollectionViewCompositionalLayout { (sectionIndex: Int,\n        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection in\n\n        let columns = layoutEnvironment.container.effectiveContentSize.width < 800 ? 2 : 4\n        \n        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                             heightDimension: .fractionalHeight(1.0))\n        let item = NSCollectionLayoutItem(layoutSize: itemSize)\n        \n        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                              heightDimension: .absolute(44))\n        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,\n                                                          subitem: item,\n                                                            count: columns)\n        \n        let section = NSCollectionLayoutSection(group: group)\n        return section\n    }\n    return layout\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "be7ed6b5eef3c0bdff930f710a194aa5fed96a5394dde7f69618dce3b62bece3",
  "crawledAt" : "2025-12-04T12:25:45Z",
  "declaration" : {
    "code" : "typealias NSCollectionViewCompositionalLayoutSectionProvider = (Int, any NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection?",
    "language" : "swift"
  },
  "id" : "250EABEE-EBAE-487B-B40F-888BA674FAC5",
  "kind" : "typealias",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nYou use a section provider to create a compositional layout ([doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewCompositionalLayout]) that has multiple sections with different layouts. The section provider keeps track of the index of the section that it’s currently creating, so you can configure each section differently.\n\nFor example, the following code shows a section provider that creates a two-column layout in the first section, and a four-column layout in each section after the first section.\n\nA section provider is also invoked in response to system events such as changes in system font size. You can use this opportunity to adapt the layout to different layout environments by inspecting information about the current layout environment ([doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionLayoutEnvironment]) and using that information to configure each section.\n\nFor example, the following code shows a section provider that creates a two-column layout when the width of the section’s container is less than 800 points, and a four-column layout otherwise.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewCompositionalLayoutSectionProvider\ncrawled: 2025-12-04T12:25:45Z\n---\n\n# NSCollectionViewCompositionalLayoutSectionProvider\n\n**Type Alias**\n\nA closure that creates and returns each of the layout’s sections.\n\n## Declaration\n\n```swift\ntypealias NSCollectionViewCompositionalLayoutSectionProvider = (Int, any NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection?\n```\n\n## Discussion\n\nYou use a section provider to create a compositional layout ([doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionViewCompositionalLayout]) that has multiple sections with different layouts. The section provider keeps track of the index of the section that it’s currently creating, so you can configure each section differently.\n\nFor example, the following code shows a section provider that creates a two-column layout in the first section, and a four-column layout in each section after the first section.\n\n```swift\nfunc createPerSectionLayout() -> NSCollectionViewLayout {\n    let layout = NSCollectionViewCompositionalLayout { (sectionIndex: Int,\n        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection? in\n        \n        let columns = sectionIndex == 0 ? 2 : 4\n        \n        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                             heightDimension: .fractionalHeight(1.0))\n        let item = NSCollectionLayoutItem(layoutSize: itemSize)\n        \n        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                              heightDimension: .absolute(44))\n        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,\n                                                          subitem: item,\n                                                            count: columns)\n        \n        let section = NSCollectionLayoutSection(group: group)\n        return section\n    }\n    return layout\n}\n```\n\nA section provider is also invoked in response to system events such as changes in system font size. You can use this opportunity to adapt the layout to different layout environments by inspecting information about the current layout environment ([doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionLayoutEnvironment]) and using that information to configure each section.\n\nFor example, the following code shows a section provider that creates a two-column layout when the width of the section’s container is less than 800 points, and a four-column layout otherwise.\n\n```swift\nfunc createAdaptiveLayout() -> NSCollectionViewLayout {\n    let layout = NSCollectionViewCompositionalLayout { (sectionIndex: Int,\n        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection in\n\n        let columns = layoutEnvironment.container.effectiveContentSize.width < 800 ? 2 : 4\n        \n        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                             heightDimension: .fractionalHeight(1.0))\n        let item = NSCollectionLayoutItem(layoutSize: itemSize)\n        \n        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),\n                                              heightDimension: .absolute(44))\n        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,\n                                                          subitem: item,\n                                                            count: columns)\n        \n        let section = NSCollectionLayoutSection(group: group)\n        return section\n    }\n    return layout\n}\n```\n\n## Layouts\n\n- **Implementing modern collection views**: Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.\n- **NSCollectionViewFlowLayout**: A layout that organizes items into a flexible and configurable arrangement.\n- **NSCollectionViewDelegateFlowLayout**: A set of methods that a delegate implements to provide layout information to a flow layout object in a collection view.\n- **NSCollectionViewGridLayout**: A layout that displays a single section of items in a row and column grid.\n- **NSCollectionViewTransitionLayout**: An object that implements custom behaviors when changing from one layout to another in a collection view.\n- **NSCollectionViewLayoutAttributes**: An object that contains layout-related attributes for an element in a collection view.\n- **NSCollectionViewLayout**: An abstract base class that you subclass and use to generate layout information for a collection view.\n- **NSCollectionViewCompositionalLayout**: A layout object that lets you combine items in highly adaptive and flexible visual arrangements.\n- **NSCollectionViewCompositionalLayoutConfiguration**: An object that defines scroll direction, section spacing, and headers or footers for the layout.\n- **NSCollectionLayoutSectionOrthogonalScrollingBehavior**: The scrolling behavior of the layout’s sections in relation to the main layout axis.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Bring compositional layouts to your app and simplify updating your user interface with diffable data sources.",
          "name" : "Implementing modern collection views",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/implementing-modern-collection-views"
        },
        {
          "description" : "A layout that organizes items into a flexible and configurable arrangement.",
          "name" : "NSCollectionViewFlowLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewFlowLayout"
        },
        {
          "description" : "A set of methods that a delegate implements to provide layout information to a flow layout object in a collection view.",
          "name" : "NSCollectionViewDelegateFlowLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegateFlowLayout"
        },
        {
          "description" : "A layout that displays a single section of items in a row and column grid.",
          "name" : "NSCollectionViewGridLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewGridLayout"
        },
        {
          "description" : "An object that implements custom behaviors when changing from one layout to another in a collection view.",
          "name" : "NSCollectionViewTransitionLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewTransitionLayout"
        },
        {
          "description" : "An object that contains layout-related attributes for an element in a collection view.",
          "name" : "NSCollectionViewLayoutAttributes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewLayoutAttributes"
        },
        {
          "description" : "An abstract base class that you subclass and use to generate layout information for a collection view.",
          "name" : "NSCollectionViewLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewLayout"
        },
        {
          "description" : "A layout object that lets you combine items in highly adaptive and flexible visual arrangements.",
          "name" : "NSCollectionViewCompositionalLayout",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewCompositionalLayout"
        },
        {
          "description" : "An object that defines scroll direction, section spacing, and headers or footers for the layout.",
          "name" : "NSCollectionViewCompositionalLayoutConfiguration",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewCompositionalLayoutConfiguration"
        },
        {
          "description" : "The scrolling behavior of the layout’s sections in relation to the main layout axis.",
          "name" : "NSCollectionLayoutSectionOrthogonalScrollingBehavior",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionLayoutSectionOrthogonalScrollingBehavior"
        }
      ],
      "title" : "Layouts"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSCollectionViewCompositionalLayoutSectionProvider",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewCompositionalLayoutSectionProvider"
}