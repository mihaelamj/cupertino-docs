{
  "abstract" : "The primary class that you use to manage text layout and presentation for custom text displays.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSObjectProtocol",
    "NSSecureCoding",
    "NSTextSelectionDataSource"
  ],
  "contentHash" : "af086cafb5a135f6af6c09d2dc6f46b8697c87e2ba8e14d2a1b5c04c6b463fe1",
  "crawledAt" : "2025-12-05T06:08:27Z",
  "declaration" : {
    "code" : "class NSTextLayoutManager",
    "language" : "swift"
  },
  "id" : "85628307-754B-4E38-9F08-7C27A2C8CA2D",
  "kind" : "class",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\n`NSTextLayoutManager` is the centerpiece of the TextKit object network that maintains the layout geometry through an array of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextContainer] objects. It lays out results using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextLayoutFragment] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextElement] objects vended from a [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextContentManager] that participates in the content layout process.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/appkit\/nstextlayoutmanager\ncrawled: 2025-12-05T06:08:27Z\n---\n\n# NSTextLayoutManager\n\n**Class**\n\nThe primary class that you use to manage text layout and presentation for custom text displays.\n\n## Declaration\n\n```swift\nclass NSTextLayoutManager\n```\n\n## Overview\n\n`NSTextLayoutManager` is the centerpiece of the TextKit object network that maintains the layout geometry through an array of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextContainer] objects. It lays out results using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextLayoutFragment] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextElement] objects vended from a [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextContentManager] that participates in the content layout process.\n\n## Creating a layout manager\n\n- **init()**: Creates a new text layout manager.\n- **init(coder:)**: Creates a new text layout manager with the coder you provide.\n\n## Configuring global layout manager options\n\n- **layoutQueue**: The queue that the framework dispatches layout operations on.\n- **renderingAttributesValidator**: A callback block that the framework invokes whenever the text layout manager needs to validate the rendering attributes for the range.\n- **usesFontLeading**: A Boolean value that controls whether the framework uses the leading information specified by the font when laying out text.\n- **usesHyphenation**: A Boolean values that controls whether the text layout manager attempts to hyphenate when wrapping lines.\n- **limitsLayoutForSuspiciousContents**: A Boolean value that controls internal security analysis for malicious inputs and activates defensive behaviors.\n\n## Managing the layout process\n\n- **delegate**: The delegate for the text layout manager object.\n- **NSTextLayoutManagerDelegate**: Optional methods that delegates implement to respond to layout changes.\n\n## Accessing the text storage\n\n- **textContentManager**: Returns the text content manager associated with this text layout manager.\n- **textContainer**: The text container object that provides geometric information for the layout destination.\n- **textSelectionNavigation**: Returns a text selection manager configured to have the text layout manager as its data source.\n- **textSelections**: An array of text selections associated by the text layout manager.\n- **usageBoundsForTextContainer**: Returns the usage bounds for the text container.\n- **enumerateTextSegments(in:type:options:using:)**: Enumerates text segments of a specific type and in the text range you provide.\n- **replace(_:)**: Replaces the current text content manager with a new one you provide.\n- **replaceContents(in:with:)**: Replaces content at the location you specify with an attributed string you provide.\n- **replaceContents(in:with:)**: Replaces content at the location you specify with the text elements string you provide.\n\n## Adjusting rendering\n\n- **linkRenderingAttributes**: Returns the default set of attributes for rendering a link.\n- **addRenderingAttribute(_:value:for:)**: Sets the rendering attribute for the value and range you specify.\n- **enumerateRenderingAttributes(from:reverse:using:)**: Enumerates the rendering attributes from a location you specify.\n- **renderingAttributes(forLink:at:)**: Returns a dictionary of rendering attributes for rendering a link.\n- **invalidateRenderingAttributes(for:)**: Invalidates the rendering attributes of the specified text range.\n- **removeRenderingAttribute(_:for:)**: Removes the rendering attribute from the specified text range.\n- **setRenderingAttributes(_:for:)**: Sets the rendering attributes for the range you specify.\n\n## Causing layout generation\n\n- **textViewportLayoutController**: The text viewport layout controller associated with the layout manager’s text container.\n- **invalidateLayout(for:)**: Invalidates the layout information for specified text range.\n- **textLayoutFragment(for:)**: Returns the text layout fragment from the document at the specified location.\n- **textLayoutFragment(for:)**: Returns the text layout fragment at the position you specify in the text container.\n- **ensureLayout(for:)**: Performs the layout for filling the bounds you specify inside the last text container.\n- **ensureLayout(for:)**: Performs the layout for specified text range.\n- **enumerateTextLayoutFragments(from:options:using:)**: Enumerates the text layout fragments starting at the specified location.\n- **NSTextLayoutManager.SegmentType**: Values that describe the rendering of selection boundaries.\n- **NSTextLayoutManager.SegmentOptions**: Values that describe where and how the framework extends segments of a selection.\n\n## Instance Properties\n\n- **resolvesNaturalAlignmentWithBaseWritingDirection**: Specifies the behavior for resolving `NSTextAlignment.natural` to the visual alignment.\n\n## Layout\n\n- **Using TextKit 2 to interact with text**: Interact with text by managing text selection and inserting custom text elements.\n- **NSTextContainer**: A region where text layout occurs.\n- **NSTextLayoutFragment**: A class that represents the layout fragment typically corresponding to a rendering surface, such as a layer or view subclass.\n- **NSTextLineFragment**: A class that represents a line fragment as a single textual layout and rendering unit inside a text layout fragment.\n- **NSTextViewportLayoutController**: Manages the layout process inside the viewport interacting with its delegate.\n- **NSTextLayoutOrientationProvider**: A set of methods that define the orientation of text for an object.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSObjectProtocol\n- NSSecureCoding\n- NSTextSelectionDataSource\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new text layout manager.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/init()"
        },
        {
          "description" : "Creates a new text layout manager with the coder you provide.",
          "name" : "init(coder:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/init(coder:)"
        }
      ],
      "title" : "Creating a layout manager"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The queue that the framework dispatches layout operations on.",
          "name" : "layoutQueue",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/layoutQueue"
        },
        {
          "description" : "A callback block that the framework invokes whenever the text layout manager needs to validate the rendering attributes for the range.",
          "name" : "renderingAttributesValidator",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/renderingAttributesValidator"
        },
        {
          "description" : "A Boolean value that controls whether the framework uses the leading information specified by the font when laying out text.",
          "name" : "usesFontLeading",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/usesFontLeading"
        },
        {
          "description" : "A Boolean values that controls whether the text layout manager attempts to hyphenate when wrapping lines.",
          "name" : "usesHyphenation",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/usesHyphenation"
        },
        {
          "description" : "A Boolean value that controls internal security analysis for malicious inputs and activates defensive behaviors.",
          "name" : "limitsLayoutForSuspiciousContents",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/limitsLayoutForSuspiciousContents"
        }
      ],
      "title" : "Configuring global layout manager options"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The delegate for the text layout manager object.",
          "name" : "delegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/delegate"
        },
        {
          "description" : "Optional methods that delegates implement to respond to layout changes.",
          "name" : "NSTextLayoutManagerDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManagerDelegate"
        }
      ],
      "title" : "Managing the layout process"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the text content manager associated with this text layout manager.",
          "name" : "textContentManager",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textContentManager"
        },
        {
          "description" : "The text container object that provides geometric information for the layout destination.",
          "name" : "textContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textContainer"
        },
        {
          "description" : "Returns a text selection manager configured to have the text layout manager as its data source.",
          "name" : "textSelectionNavigation",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textSelectionNavigation"
        },
        {
          "description" : "An array of text selections associated by the text layout manager.",
          "name" : "textSelections",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textSelections"
        },
        {
          "description" : "Returns the usage bounds for the text container.",
          "name" : "usageBoundsForTextContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/usageBoundsForTextContainer"
        },
        {
          "description" : "Enumerates text segments of a specific type and in the text range you provide.",
          "name" : "enumerateTextSegments(in:type:options:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/enumerateTextSegments(in:type:options:using:)"
        },
        {
          "description" : "Replaces the current text content manager with a new one you provide.",
          "name" : "replace(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/replace(_:)"
        },
        {
          "description" : "Replaces content at the location you specify with an attributed string you provide.",
          "name" : "replaceContents(in:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/replaceContents(in:with:)-2elb"
        },
        {
          "description" : "Replaces content at the location you specify with the text elements string you provide.",
          "name" : "replaceContents(in:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/replaceContents(in:with:)-80j0b"
        }
      ],
      "title" : "Accessing the text storage"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the default set of attributes for rendering a link.",
          "name" : "linkRenderingAttributes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/linkRenderingAttributes"
        },
        {
          "description" : "Sets the rendering attribute for the value and range you specify.",
          "name" : "addRenderingAttribute(_:value:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/addRenderingAttribute(_:value:for:)"
        },
        {
          "description" : "Enumerates the rendering attributes from a location you specify.",
          "name" : "enumerateRenderingAttributes(from:reverse:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/enumerateRenderingAttributes(from:reverse:using:)"
        },
        {
          "description" : "Returns a dictionary of rendering attributes for rendering a link.",
          "name" : "renderingAttributes(forLink:at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/renderingAttributes(forLink:at:)"
        },
        {
          "description" : "Invalidates the rendering attributes of the specified text range.",
          "name" : "invalidateRenderingAttributes(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/invalidateRenderingAttributes(for:)"
        },
        {
          "description" : "Removes the rendering attribute from the specified text range.",
          "name" : "removeRenderingAttribute(_:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/removeRenderingAttribute(_:for:)"
        },
        {
          "description" : "Sets the rendering attributes for the range you specify.",
          "name" : "setRenderingAttributes(_:for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/setRenderingAttributes(_:for:)"
        }
      ],
      "title" : "Adjusting rendering"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The text viewport layout controller associated with the layout manager’s text container.",
          "name" : "textViewportLayoutController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textViewportLayoutController"
        },
        {
          "description" : "Invalidates the layout information for specified text range.",
          "name" : "invalidateLayout(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/invalidateLayout(for:)"
        },
        {
          "description" : "Returns the text layout fragment from the document at the specified location.",
          "name" : "textLayoutFragment(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textLayoutFragment(for:)-68dez"
        },
        {
          "description" : "Returns the text layout fragment at the position you specify in the text container.",
          "name" : "textLayoutFragment(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/textLayoutFragment(for:)-4dhrx"
        },
        {
          "description" : "Performs the layout for filling the bounds you specify inside the last text container.",
          "name" : "ensureLayout(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/ensureLayout(for:)-6ptsj"
        },
        {
          "description" : "Performs the layout for specified text range.",
          "name" : "ensureLayout(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/ensureLayout(for:)-3duae"
        },
        {
          "description" : "Enumerates the text layout fragments starting at the specified location.",
          "name" : "enumerateTextLayoutFragments(from:options:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/enumerateTextLayoutFragments(from:options:using:)"
        },
        {
          "description" : "Values that describe the rendering of selection boundaries.",
          "name" : "NSTextLayoutManager.SegmentType",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/SegmentType"
        },
        {
          "description" : "Values that describe where and how the framework extends segments of a selection.",
          "name" : "NSTextLayoutManager.SegmentOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/SegmentOptions"
        }
      ],
      "title" : "Causing layout generation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Specifies the behavior for resolving `NSTextAlignment.natural` to the visual alignment.",
          "name" : "resolvesNaturalAlignmentWithBaseWritingDirection",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutManager\/resolvesNaturalAlignmentWithBaseWritingDirection"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Interact with text by managing text selection and inserting custom text elements.",
          "name" : "Using TextKit 2 to interact with text",
          "url" : "https:\/\/developer.apple.com\/documentation\/UIKit\/using-textkit-2-to-interact-with-text"
        },
        {
          "description" : "A region where text layout occurs.",
          "name" : "NSTextContainer",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextContainer"
        },
        {
          "description" : "A class that represents the layout fragment typically corresponding to a rendering surface, such as a layer or view subclass.",
          "name" : "NSTextLayoutFragment",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutFragment"
        },
        {
          "description" : "A class that represents a line fragment as a single textual layout and rendering unit inside a text layout fragment.",
          "name" : "NSTextLineFragment",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLineFragment"
        },
        {
          "description" : "Manages the layout process inside the viewport interacting with its delegate.",
          "name" : "NSTextViewportLayoutController",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextViewportLayoutController"
        },
        {
          "description" : "A set of methods that define the orientation of text for an object.",
          "name" : "NSTextLayoutOrientationProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextLayoutOrientationProvider"
        }
      ],
      "title" : "Layout"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSTextLayoutManager",
  "url" : "https:\/\/developer.apple.com\/documentation\/appkit\/nstextlayoutmanager"
}