{
  "abstract" : "Enumerates enclosing rectangles for the specified glyph range in a text container.",
  "codeExamples" : [

  ],
  "contentHash" : "099c022d08f514ec5e571833f4d7f8d06d0e37013ea5d0bc83bdc5ca31a9d35d",
  "crawledAt" : "2025-12-02T07:32:30Z",
  "declaration" : {
    "code" : "func enumerateEnclosingRects(forGlyphRange glyphRange: NSRange, withinSelectedGlyphRange selectedRange: NSRange, in textContainer: NSTextContainer, using block: @escaping (NSRect, UnsafeMutablePointer<ObjCBool>) -> Void)",
    "language" : "swift"
  },
  "id" : "A0AFA134-F393-4912-B173-A2C18EBC02D8",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThese rectangles are always in container coordinates. They can be used to draw the text background or highlight for the given range of characters. The rectangles don’t necessarily enclose glyphs that draw outside their line fragment rectangles; use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/boundingRect(forGlyphRange:in:)] to determine the area that contains all drawing performed for a range of glyphs.\n\nIf a selected range is given in the second argument, the rectangles returned are correct for drawing the selection.  Selection rectangles are generally more complicated than enclosing rectangles, and supplying a selected range determines whether the method does this extra work. This method does the minimum amount of work required to answer the question.\n\nPerforms glyph generation and layout if needed.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/enumerateEnclosingRects(forGlyphRange:withinSelectedGlyphRange:in:using:)\ncrawled: 2025-12-02T07:32:30Z\n---\n\n# enumerateEnclosingRects(forGlyphRange:withinSelectedGlyphRange:in:using:)\n\n**Instance Method**\n\nEnumerates enclosing rectangles for the specified glyph range in a text container.\n\n## Declaration\n\n```swift\nfunc enumerateEnclosingRects(forGlyphRange glyphRange: NSRange, withinSelectedGlyphRange selectedRange: NSRange, in textContainer: NSTextContainer, using block: @escaping (NSRect, UnsafeMutablePointer<ObjCBool>) -> Void)\n```\n\n## Parameters\n\n- **glyphRange**: The glyph range for which to return enclosing rectangles.\n- **selectedRange**: Selected glyphs within `glyphRange`, which can affect the size of the rectangles. If not interested in selection rectangles, pass `{NSNotFound, 0}` as the selected range.\n- **textContainer**: The text container in which the glyphs are laid out.\n- **block**: The block to apply to the glyph range. The block has two arguments:\n\n\n\n## Discussion\n\nThese rectangles are always in container coordinates. They can be used to draw the text background or highlight for the given range of characters. The rectangles don’t necessarily enclose glyphs that draw outside their line fragment rectangles; use [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/boundingRect(forGlyphRange:in:)] to determine the area that contains all drawing performed for a range of glyphs.\n\nIf a selected range is given in the second argument, the rectangles returned are correct for drawing the selection.  Selection rectangles are generally more complicated than enclosing rectangles, and supplying a selected range determines whether the method does this extra work. This method does the minimum amount of work required to answer the question.\n\nPerforms glyph generation and layout if needed.\n\n## Performing advanced layout queries\n\n- **boundingRect(forGlyphRange:in:)**: Returns the bounding rectangle for the specified glyphs in a container.\n- **characterIndex(for:in:fractionOfDistanceBetweenInsertionPoints:)**: Returns the index of the character that lies beneath the specified point using the specified container’s coordinate system.\n- **characterRange(forGlyphRange:actualGlyphRange:)**: Returns the range of characters that correspond to the glyphs in the specified glyph range.\n- **enumerateLineFragments(forGlyphRange:using:)**: Enumerates line fragments intersecting with the specified glyph range.\n- **fractionOfDistanceThroughGlyph(for:in:)**: Returns the fraction of the distance between the glyph at the specified point and the next glyph.\n- **getLineFragmentInsertionPoints(forCharacterAt:alternatePositions:inDisplayOrder:positions:characterIndexes:)**: Returns insertion points in bulk for a specified line fragment.\n- **glyphIndex(for:in:)**: Returns the index of the glyph at the specified location in a text container.\n- **glyphIndex(for:in:fractionOfDistanceThroughGlyph:)**: Returns the index of the glyph at the specified point using the container’s coordinate system.\n- **glyphRange(forBoundingRect:in:)**: Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.\n- **glyphRange(forBoundingRectWithoutAdditionalLayout:in:)**: Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.\n- **glyphRange(for:)**: Returns the range of glyphs lying within the specified text container.\n- **glyphRange(forCharacterRange:actualCharacterRange:)**: Returns the range of glyphs that the specified range of characters generates.\n- **range(ofNominallySpacedGlyphsContaining:)**: Returns the range of displayable glyphs that surround the glyph at the specified index.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the bounding rectangle for the specified glyphs in a container.",
          "name" : "boundingRect(forGlyphRange:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/boundingRect(forGlyphRange:in:)"
        },
        {
          "description" : "Returns the index of the character that lies beneath the specified point using the specified container’s coordinate system.",
          "name" : "characterIndex(for:in:fractionOfDistanceBetweenInsertionPoints:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/characterIndex(for:in:fractionOfDistanceBetweenInsertionPoints:)"
        },
        {
          "description" : "Returns the range of characters that correspond to the glyphs in the specified glyph range.",
          "name" : "characterRange(forGlyphRange:actualGlyphRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/characterRange(forGlyphRange:actualGlyphRange:)"
        },
        {
          "description" : "Enumerates line fragments intersecting with the specified glyph range.",
          "name" : "enumerateLineFragments(forGlyphRange:using:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/enumerateLineFragments(forGlyphRange:using:)"
        },
        {
          "description" : "Returns the fraction of the distance between the glyph at the specified point and the next glyph.",
          "name" : "fractionOfDistanceThroughGlyph(for:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/fractionOfDistanceThroughGlyph(for:in:)"
        },
        {
          "description" : "Returns insertion points in bulk for a specified line fragment.",
          "name" : "getLineFragmentInsertionPoints(forCharacterAt:alternatePositions:inDisplayOrder:positions:characterIndexes:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/getLineFragmentInsertionPoints(forCharacterAt:alternatePositions:inDisplayOrder:positions:characterIndexes:)"
        },
        {
          "description" : "Returns the index of the glyph at the specified location in a text container.",
          "name" : "glyphIndex(for:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphIndex(for:in:)"
        },
        {
          "description" : "Returns the index of the glyph at the specified point using the container’s coordinate system.",
          "name" : "glyphIndex(for:in:fractionOfDistanceThroughGlyph:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphIndex(for:in:fractionOfDistanceThroughGlyph:)"
        },
        {
          "description" : "Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.",
          "name" : "glyphRange(forBoundingRect:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphRange(forBoundingRect:in:)"
        },
        {
          "description" : "Returns the smallest contiguous range for glyphs lying wholly or partially within the specified rectangle of the text container.",
          "name" : "glyphRange(forBoundingRectWithoutAdditionalLayout:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphRange(forBoundingRectWithoutAdditionalLayout:in:)"
        },
        {
          "description" : "Returns the range of glyphs lying within the specified text container.",
          "name" : "glyphRange(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphRange(for:)"
        },
        {
          "description" : "Returns the range of glyphs that the specified range of characters generates.",
          "name" : "glyphRange(forCharacterRange:actualCharacterRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyphRange(forCharacterRange:actualCharacterRange:)"
        },
        {
          "description" : "Returns the range of displayable glyphs that surround the glyph at the specified index.",
          "name" : "range(ofNominallySpacedGlyphsContaining:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/range(ofNominallySpacedGlyphsContaining:)"
        }
      ],
      "title" : "Performing advanced layout queries"
    }
  ],
  "source" : "appleJSON",
  "title" : "enumerateEnclosingRects(forGlyphRange:withinSelectedGlyphRange:in:using:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/enumerateEnclosingRects(forGlyphRange:withinSelectedGlyphRange:in:using:)"
}