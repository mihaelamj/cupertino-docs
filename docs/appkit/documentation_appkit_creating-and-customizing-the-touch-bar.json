{
  "abstract" : "Adopt Touch Bar support by displaying interactive content and controls for your macOS apps.",
  "codeExamples" : [
    {
      "code" : "override func makeTouchBar() -> NSTouchBar? {\n    let touchBar = NSTouchBar()\n    touchBar.delegate = self\n    \n    touchBar.customizationIdentifier = colorPickerBar\n    touchBar.defaultItemIdentifiers = [selectedItemIdentifier]\n    touchBar.customizationAllowedItemIdentifiers = [selectedItemIdentifier]\n    touchBar.principalItemIdentifier = selectedItemIdentifier\n    \n    return touchBar\n}",
      "language" : "swift"
    },
    {
      "code" : "func touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    guard identifier == services else { return nil }\n    \n    let services = NSSharingServicePickerTouchBarItem(identifier: identifier)\n    services.delegate = self\n    \n    return services\n}",
      "language" : "swift"
    },
    {
      "code" : "func touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    let scrubberItem: NSCustomTouchBarItem\n    \n    scrubberItem = NSCustomTouchBarItem(identifier: identifier)\n    scrubberItem.customizationLabel = NSLocalizedString(\"Choose Photo\", comment: \"\")\n    \n    let scrubber = NSScrubber()\n    scrubber.register(NSScrubberImageItemView.self, forItemIdentifier: itemViewIdentifier)\n    scrubber.mode = .free\n    scrubber.selectionBackgroundStyle = .roundedBackground\n    scrubber.delegate = self\n    scrubber.dataSource = self\n    scrubber.showsAdditionalContentIndicators = true\n    scrubber.scrubberLayout = NSScrubberFlowLayout()\n    \n    scrubberItem.view = scrubber\n    \n    \/\/ Set the scrubber's width to be 400.\n    let viewBindings: [String: NSView] = [\"scrubber\": scrubber]\n    let hconstraints =\n        NSLayoutConstraint.constraints(withVisualFormat: \"H:[scrubber(400)]\",\n                                       options: [],\n                                       metrics: nil,\n                                       views: viewBindings)\n    NSLayoutConstraint.activate(hconstraints)\n    \n    return scrubberItem\n}",
      "language" : "swift"
    },
    {
      "code" : "func touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    guard identifier == scrubberPopover else { return nil }\n    \n    let popoverItem = NSPopoverTouchBarItem(identifier: identifier)\n    popoverItem.collapsedRepresentationLabel =\n        NSLocalizedString(\"Scrubber Popover\", comment: \"\")\n    popoverItem.customizationLabel =\n        NSLocalizedString(\"Scrubber Popover\", comment: \"\")\n    \n    let scrubber = PopoverScrubber()\n    scrubber.register(NSScrubberTextItemView.self, forItemIdentifier: textScrubber)\n    \n    scrubber.mode = .free\n    scrubber.selectionBackgroundStyle = .roundedBackground\n    scrubber.delegate = self\n    scrubber.dataSource = self\n    scrubber.presentingItem = popoverItem\n    \n    popoverItem.collapsedRepresentation = scrubber\n    \n    popoverItem.popoverTouchBar =\n        PopoverTouchBarSample(presentingItem: popoverItem)\n    \n    return popoverItem\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "fb69283ea0ba870511d4df9e867ad7b2fbf89034029808ab198b1ffa379be6b8",
  "crawledAt" : "2025-12-02T15:46:40Z",
  "id" : "0C7F936C-E138-409C-8574-1FB63E30432D",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\nYou can use the Touch Bar to display interactive content and controls for supported models of MacBook Pro.\n\nThis sample uses a split-view controller architecture to navigate various ways to implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBar] class. The `PrimaryViewController` class shows the available use cases. When you select one of the use cases, the secondary view shows what you can do with the Touch Bar controls.\n\nThe description in each secondary view controller reflects its target item. For example, the `ButtonViewController` class shows how to use an `NSButton` object. The sample hosts all view controllers in separate storyboards.\n\nRefer to this sample if you’re looking for specific ways to use and customize the `NSTouchBar`. It shows how to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarItem] for use with buttons, views, pickers, sliders, popovers, scrubbers, text fields, and text views.\n\nThe sample also displays a secondary window that shows a typical use case with the Touch Bar that uses an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSScrubber] to pick an image that changes the window background.\n\n### Configure the Sample Code Project\n\nIn Xcode, select your development team on the macOS target’s Signing and Capabilities tab.\n\n### Simulate the Touch Bar in Xcode\n\nWhen adopting Touch Bar support for your app, but running Xcode on a Mac without a Touch Bar, enable the Xcode Touch Bar simulator by choosing Window > Touch Bar -> Show Touch Bar.\n\n### Create the Touch Bar\n\nCreate a Touch Bar by adding one to a view controller in the storyboard, or by creating one programmatically by overriding the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder] [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] function. The following example demonstrates overriding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] for an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSViewController] that displays a color-picker button or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSColorPickerTouchBarItem]:\n\n### Add Content to the Touch Bar\n\nAdd content to the Touch Bar by adopting the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate] protocol and implementing [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate\/touchBar(_:makeItemForIdentifier:)]. The following example adds a Sharing Service button:\n\n### Add a Scrubber to the Touch Bar\n\nThe `NSScrubber` class provides a way to add a flexible, horizontally oriented picker. Add a scrubber view to an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCustomTouchBarItem], and that view adds a scrubber to the Touch Bar.\n\n### Add a Popover to the Touch Bar\n\nAn [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCustomTouchBarItem] class shows its own Touch Bar when the user taps and holds on it. This class is a two-state control that can expand into its second state, which shows the contents of a bar it owns. The second Touch Bar displays when this item *pops*. The following example shows how to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSPopoverTouchBarItem] with an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSScrubber] view with a set of numbered text items:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/creating-and-customizing-the-touch-bar\ncrawled: 2025-12-02T15:46:40Z\n---\n\n# Creating and Customizing the Touch Bar\n\n**Sample Code**\n\nAdopt Touch Bar support by displaying interactive content and controls for your macOS apps.\n\n## Overview\n\nYou can use the Touch Bar to display interactive content and controls for supported models of MacBook Pro.\n\nThis sample uses a split-view controller architecture to navigate various ways to implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBar] class. The `PrimaryViewController` class shows the available use cases. When you select one of the use cases, the secondary view shows what you can do with the Touch Bar controls.\n\nThe description in each secondary view controller reflects its target item. For example, the `ButtonViewController` class shows how to use an `NSButton` object. The sample hosts all view controllers in separate storyboards.\n\nRefer to this sample if you’re looking for specific ways to use and customize the `NSTouchBar`. It shows how to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarItem] for use with buttons, views, pickers, sliders, popovers, scrubbers, text fields, and text views.\n\nThe sample also displays a secondary window that shows a typical use case with the Touch Bar that uses an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSScrubber] to pick an image that changes the window background.\n\n### Configure the Sample Code Project\n\nIn Xcode, select your development team on the macOS target’s Signing and Capabilities tab.\n\n### Simulate the Touch Bar in Xcode\n\nWhen adopting Touch Bar support for your app, but running Xcode on a Mac without a Touch Bar, enable the Xcode Touch Bar simulator by choosing Window > Touch Bar -> Show Touch Bar.\n\n### Create the Touch Bar\n\nCreate a Touch Bar by adding one to a view controller in the storyboard, or by creating one programmatically by overriding the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder] [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] function. The following example demonstrates overriding [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] for an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSViewController] that displays a color-picker button or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSColorPickerTouchBarItem]:\n\n```swift\noverride func makeTouchBar() -> NSTouchBar? {\n    let touchBar = NSTouchBar()\n    touchBar.delegate = self\n    \n    touchBar.customizationIdentifier = colorPickerBar\n    touchBar.defaultItemIdentifiers = [selectedItemIdentifier]\n    touchBar.customizationAllowedItemIdentifiers = [selectedItemIdentifier]\n    touchBar.principalItemIdentifier = selectedItemIdentifier\n    \n    return touchBar\n}\n```\n\n### Add Content to the Touch Bar\n\nAdd content to the Touch Bar by adopting the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate] protocol and implementing [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate\/touchBar(_:makeItemForIdentifier:)]. The following example adds a Sharing Service button:\n\n```swift\nfunc touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    guard identifier == services else { return nil }\n    \n    let services = NSSharingServicePickerTouchBarItem(identifier: identifier)\n    services.delegate = self\n    \n    return services\n}\n```\n\n### Add a Scrubber to the Touch Bar\n\nThe `NSScrubber` class provides a way to add a flexible, horizontally oriented picker. Add a scrubber view to an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCustomTouchBarItem], and that view adds a scrubber to the Touch Bar.\n\n```swift\nfunc touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    let scrubberItem: NSCustomTouchBarItem\n    \n    scrubberItem = NSCustomTouchBarItem(identifier: identifier)\n    scrubberItem.customizationLabel = NSLocalizedString(\"Choose Photo\", comment: \"\")\n    \n    let scrubber = NSScrubber()\n    scrubber.register(NSScrubberImageItemView.self, forItemIdentifier: itemViewIdentifier)\n    scrubber.mode = .free\n    scrubber.selectionBackgroundStyle = .roundedBackground\n    scrubber.delegate = self\n    scrubber.dataSource = self\n    scrubber.showsAdditionalContentIndicators = true\n    scrubber.scrubberLayout = NSScrubberFlowLayout()\n    \n    scrubberItem.view = scrubber\n    \n    \/\/ Set the scrubber's width to be 400.\n    let viewBindings: [String: NSView] = [\"scrubber\": scrubber]\n    let hconstraints =\n        NSLayoutConstraint.constraints(withVisualFormat: \"H:[scrubber(400)]\",\n                                       options: [],\n                                       metrics: nil,\n                                       views: viewBindings)\n    NSLayoutConstraint.activate(hconstraints)\n    \n    return scrubberItem\n}\n```\n\n### Add a Popover to the Touch Bar\n\nAn [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCustomTouchBarItem] class shows its own Touch Bar when the user taps and holds on it. This class is a two-state control that can expand into its second state, which shows the contents of a bar it owns. The second Touch Bar displays when this item *pops*. The following example shows how to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSPopoverTouchBarItem] with an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSScrubber] view with a set of numbered text items:\n\n```swift\nfunc touchBar(_ touchBar: NSTouchBar, makeItemForIdentifier identifier: NSTouchBarItem.Identifier) -> NSTouchBarItem? {\n    guard identifier == scrubberPopover else { return nil }\n    \n    let popoverItem = NSPopoverTouchBarItem(identifier: identifier)\n    popoverItem.collapsedRepresentationLabel =\n        NSLocalizedString(\"Scrubber Popover\", comment: \"\")\n    popoverItem.customizationLabel =\n        NSLocalizedString(\"Scrubber Popover\", comment: \"\")\n    \n    let scrubber = PopoverScrubber()\n    scrubber.register(NSScrubberTextItemView.self, forItemIdentifier: textScrubber)\n    \n    scrubber.mode = .free\n    scrubber.selectionBackgroundStyle = .roundedBackground\n    scrubber.delegate = self\n    scrubber.dataSource = self\n    scrubber.presentingItem = popoverItem\n    \n    popoverItem.collapsedRepresentation = scrubber\n    \n    popoverItem.popoverTouchBar =\n        PopoverTouchBarSample(presentingItem: popoverItem)\n    \n    return popoverItem\n}\n```\n\n## Essentials\n\n- **Integrating a Toolbar and Touch Bar into Your App**: Provide users quick access to your app’s features from a toolbar and corresponding Touch Bar.\n- **NSTouchBar**: An object that provides dynamic contextual controls in the Touch Bar of supported models of MacBook Pro.\n- **NSTouchBarDelegate**: A protocol that allows you to provide the items for a bar dynamically.\n- **NSTouchBarProvider**: A protocol that an object adopts to create a bar object in your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Provide users quick access to your app’s features from a toolbar and corresponding Touch Bar.",
          "name" : "Integrating a Toolbar and Touch Bar into Your App",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/integrating-a-toolbar-and-touch-bar-into-your-app"
        },
        {
          "description" : "An object that provides dynamic contextual controls in the Touch Bar of supported models of MacBook Pro.",
          "name" : "NSTouchBar",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBar"
        },
        {
          "description" : "A protocol that allows you to provide the items for a bar dynamically.",
          "name" : "NSTouchBarDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBarDelegate"
        },
        {
          "description" : "A protocol that an object adopts to create a bar object in your app.",
          "name" : "NSTouchBarProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBarProvider"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Creating and Customizing the Touch Bar",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/creating-and-customizing-the-touch-bar"
}