{
  "abstract" : "Initiates a dragging operation from the view, allowing the user to drag one or more promised files (or directories) into any application that has window or view objects that accept promised file data.",
  "codeExamples" : [

  ],
  "contentHash" : "ecd765e7cec17ed4c4a2c5908d8cf1c90e5bf021864f67ce9a4958563b04cc51",
  "crawledAt" : "2025-12-04T20:07:58Z",
  "declaration" : {
    "code" : "@MainActor func dragPromisedFiles(ofTypes typeArray: [String], from rect: NSRect, source sourceObject: Any, slideBack flag: Bool, event: NSEvent) -> Bool",
    "language" : "swift"
  },
  "id" : "17E88BD1-39E3-4D77-A469-C45091FBA0EA",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the drag operation is initiated successfully, [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] otherwise.\n\n## Discussion\n\nThis method must be invoked only within an implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/mouseDown(with:)] method. As part of its implementation, this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/dragImage:at:offset:event:pasteboard:source:slideBack:].\n\nPromised files are files that do not exist, yet, but that the drag source, `sourceObject`, promises to create at a file system location specified by the drag destination when the drag is successfully dropped.\n\nSee [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/DragandDrop\/DragandDrop.html#\/\/apple_ref\/doc\/uid\/10000069i] for more information on dragging operations.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/dragPromisedFiles(ofTypes:from:source:slideBack:event:)\ncrawled: 2025-12-04T20:07:58Z\n---\n\n# dragPromisedFiles(ofTypes:from:source:slideBack:event:)\n\n**Instance Method**\n\nInitiates a dragging operation from the view, allowing the user to drag one or more promised files (or directories) into any application that has window or view objects that accept promised file data.\n\n## Declaration\n\n```swift\n@MainActor func dragPromisedFiles(ofTypes typeArray: [String], from rect: NSRect, source sourceObject: Any, slideBack flag: Bool, event: NSEvent) -> Bool\n```\n\n## Parameters\n\n- **typeArray**: An array of file types being promised. The array elements can consist of file extensions and HFS types encoded with the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileTypeForHFSTypeCode(_:)] function. If promising a directory of files, only include the top directory in the array.\n- **rect**: A rectangle that describes the position of the icon in the view’s coordinate system.\n- **sourceObject**: An object that serves as the controller of the dragging operation. It must conform to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDraggingSource] protocol, and is typically the view itself or its [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow] object.\n- **flag**: A Boolean that indicates whether the icon being dragged should slide back to its position in the view if the file isn’t accepted. The icon slides back to `aRect` if `slideBack` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], the promised files are not accepted by the dragging destination, and the user has not disabled icon animation; otherwise it simply disappears.\n- **event**: The mouse-down event object from which to initiate the drag operation. In particular, its mouse location is used for the offset of the icon being dragged.\n\n## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the drag operation is initiated successfully, [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] otherwise.\n\n## Discussion\n\nThis method must be invoked only within an implementation of the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/mouseDown(with:)] method. As part of its implementation, this method invokes [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/dragImage:at:offset:event:pasteboard:source:slideBack:].\n\nPromised files are files that do not exist, yet, but that the drag source, `sourceObject`, promises to create at a file system location specified by the drag destination when the drag is successfully dropped.\n\nSee [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/DragandDrop\/DragandDrop.html#\/\/apple_ref\/doc\/uid\/10000069i] for more information on dragging operations.\n\n## Related Documentation\n\n- **unregisterDraggedTypes()**: Unregisters the view as a possible destination in a dragging session.\n- **registerForDraggedTypes(_:)**: Registers the pasteboard types that the view will accept as the destination of an image-dragging session.\n- **shouldDelayWindowOrdering(for:)**: Allows the user to drag objects from the view without activating the app or moving the window of the view forward, possibly obscuring the destination.\n- **beginDraggingSession(with:event:source:)**: Initiates a dragging session with a group of dragging items.\n\n## Methods\n\n- **lockFocus()**: Locks the focus on the view, so subsequent commands take effect in the view’s window and coordinate system.\n- **lockFocusIfCanDraw()**: Locks the focus to the view atomically if the `canDraw` method returns `true` and returns the value of `canDraw`.\n- **lockFocusIfCanDraw(in:)**: Locks the focus to the view atomically if drawing can occur in the specified graphics context.\n- **unlockFocus()**: Unlocks focus from the current view.\n- **scroll(_:by:)**: Copies the visible portion of the view’s rendered image within a region and lays that portion down again at a specified offset .\n- **shouldDrawColor()**: Returns a Boolean value indicating whether the view is being drawn to an environment that supports color.\n- **allocateGState()**: Causes the view to maintain a private graphics state object, which encapsulates all parameters of the graphics environment.\n- **gState()**: Returns the identifier for the view’s graphics state object, or 0 if the view doesn’t have a graphics state object.\n- **setUpGState()**: Overridden by subclasses to (re)initialize the view’s graphics state object.\n- **renewGState()**: Invalidates the view’s graphics state object, if it has one.\n- **releaseGState()**: Frees the view’s graphics state object, if it has one.\n- **dragFile(_:from:slideBack:event:)**: Initiates a dragging operation from the view, allowing the user to drag a file icon to any application that has window or view objects that accept files.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Unregisters the view as a possible destination in a dragging session.",
          "name" : "unregisterDraggedTypes()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/unregisterDraggedTypes()"
        },
        {
          "description" : "Registers the pasteboard types that the view will accept as the destination of an image-dragging session.",
          "name" : "registerForDraggedTypes(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/registerForDraggedTypes(_:)"
        },
        {
          "description" : "Allows the user to drag objects from the view without activating the app or moving the window of the view forward, possibly obscuring the destination.",
          "name" : "shouldDelayWindowOrdering(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/shouldDelayWindowOrdering(for:)"
        },
        {
          "description" : "Initiates a dragging session with a group of dragging items.",
          "name" : "beginDraggingSession(with:event:source:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/beginDraggingSession(with:event:source:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Locks the focus on the view, so subsequent commands take effect in the view’s window and coordinate system.",
          "name" : "lockFocus()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/lockFocus()"
        },
        {
          "description" : "Locks the focus to the view atomically if the `canDraw` method returns `true` and returns the value of `canDraw`.",
          "name" : "lockFocusIfCanDraw()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/lockFocusIfCanDraw()"
        },
        {
          "description" : "Locks the focus to the view atomically if drawing can occur in the specified graphics context.",
          "name" : "lockFocusIfCanDraw(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/lockFocusIfCanDraw(in:)"
        },
        {
          "description" : "Unlocks focus from the current view.",
          "name" : "unlockFocus()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/unlockFocus()"
        },
        {
          "description" : "Copies the visible portion of the view’s rendered image within a region and lays that portion down again at a specified offset .",
          "name" : "scroll(_:by:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/scroll(_:by:)"
        },
        {
          "description" : "Returns a Boolean value indicating whether the view is being drawn to an environment that supports color.",
          "name" : "shouldDrawColor()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/shouldDrawColor()"
        },
        {
          "description" : "Causes the view to maintain a private graphics state object, which encapsulates all parameters of the graphics environment.",
          "name" : "allocateGState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/allocateGState()"
        },
        {
          "description" : "Returns the identifier for the view’s graphics state object, or 0 if the view doesn’t have a graphics state object.",
          "name" : "gState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/gState()"
        },
        {
          "description" : "Overridden by subclasses to (re)initialize the view’s graphics state object.",
          "name" : "setUpGState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/setUpGState()"
        },
        {
          "description" : "Invalidates the view’s graphics state object, if it has one.",
          "name" : "renewGState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/renewGState()"
        },
        {
          "description" : "Frees the view’s graphics state object, if it has one.",
          "name" : "releaseGState()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/releaseGState()"
        },
        {
          "description" : "Initiates a dragging operation from the view, allowing the user to drag a file icon to any application that has window or view objects that accept files.",
          "name" : "dragFile(_:from:slideBack:event:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/dragFile(_:from:slideBack:event:)"
        }
      ],
      "title" : "Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "dragPromisedFiles(ofTypes:from:source:slideBack:event:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSView\/dragPromisedFiles(ofTypes:from:source:slideBack:event:)"
}