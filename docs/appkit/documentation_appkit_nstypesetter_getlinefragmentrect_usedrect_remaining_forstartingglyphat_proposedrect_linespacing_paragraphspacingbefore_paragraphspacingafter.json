{
  "abstract" : "Calculates line fragment rectangle, line fragment used rectangle, and remaining rectangle for a line fragment.",
  "codeExamples" : [

  ],
  "contentHash" : "72ad88c0a2e835b9f66468ad271397504c56874ec0dde7ad795ca597ba769af6",
  "crawledAt" : "2025-12-02T07:33:29Z",
  "declaration" : {
    "code" : "func getLineFragmentRect(_ lineFragmentRect: NSRectPointer!, usedRect lineFragmentUsedRect: NSRectPointer!, remaining remainingRect: NSRectPointer!, forStartingGlyphAt startingGlyphIndex: Int, proposedRect: NSRect, lineSpacing: CGFloat, paragraphSpacingBefore: CGFloat, paragraphSpacingAfter: CGFloat)",
    "language" : "swift"
  },
  "id" : "18AC895E-46D2-4A5F-8454-F066FD6918B7",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThe height of the line fragment is determined using `lineSpacing`, `paragraphSpacingBefore`, and `paragraphSpacingAfter` as well as `proposedRect`. The width for `lineFragmentUsedRect` is set to the `lineFragmentRect` width. In the standard implementation, paragraph spacing is included in the line fragment rectangle but not the line fragment used rectangle; line spacing is included in both.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/getLineFragmentRect(_:usedRect:remaining:forStartingGlyphAt:proposedRect:lineSpacing:paragraphSpacingBefore:paragraphSpacingAfter:)\ncrawled: 2025-12-02T07:33:29Z\n---\n\n# getLineFragmentRect(_:usedRect:remaining:forStartingGlyphAt:proposedRect:lineSpacing:paragraphSpacingBefore:paragraphSpacingAfter:)\n\n**Instance Method**\n\nCalculates line fragment rectangle, line fragment used rectangle, and remaining rectangle for a line fragment.\n\n## Declaration\n\n```swift\nfunc getLineFragmentRect(_ lineFragmentRect: NSRectPointer!, usedRect lineFragmentUsedRect: NSRectPointer!, remaining remainingRect: NSRectPointer!, forStartingGlyphAt startingGlyphIndex: Int, proposedRect: NSRect, lineSpacing: CGFloat, paragraphSpacingBefore: CGFloat, paragraphSpacingAfter: CGFloat)\n```\n\n## Parameters\n\n- **lineFragmentRect**: On return, the calculated line fragment rectangle.\n- **lineFragmentUsedRect**: On return, the used rectangle (the portion of the line fragment rectangle that actually contains marks).\n- **remainingRect**: On return, the remaining rectangle of `proposedRect`.\n- **startingGlyphIndex**: The glyph index where the line fragment starts.\n- **proposedRect**: The proposed rectangle of the line fragment.\n- **lineSpacing**: The line spacing.\n- **paragraphSpacingBefore**: The spacing before the paragraph.\n- **paragraphSpacingAfter**: The spacing after the paragraph.\n\n## Discussion\n\nThe height of the line fragment is determined using `lineSpacing`, `paragraphSpacingBefore`, and `paragraphSpacingAfter` as well as `proposedRect`. The width for `lineFragmentUsedRect` is set to the `lineFragmentRect` width. In the standard implementation, paragraph spacing is included in the line fragment rectangle but not the line fragment used rectangle; line spacing is included in both.\n\n## Laying out glyphs\n\n- **layoutGlyphs(in:startingAtGlyphIndex:maxNumberOfLineFragments:nextGlyphIndex:)**: Lays out glyphs in the specified layout manager starting at a specified glyph.\n- **boundingBox(forControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)**: Returns the bounding rectangle for the specified control glyph with the specified parameters.\n- **getLineFragmentRect(_:usedRect:forParagraphSeparatorGlyphRange:atProposedOrigin:)**: Calculates the line fragment rectangle and line fragment used rectangle for blank lines.\n- **hyphenCharacter(forGlyphAt:)**: Returns the hyphen character to be inserted after the specified glyph.\n- **hyphenationFactor(forGlyphAt:)**: Returns the hyphenation factor in effect at a specified location.\n- **shouldBreakLine(byHyphenatingBeforeCharacterAt:)**: Returns whether the line being laid out should be broken by hyphenating at the specified character.\n- **shouldBreakLine(byWordBeforeCharacterAt:)**: Returns whether the line being laid out should be broken by a word break at the specified character.\n- **willSetLineFragmentRect(_:forGlyphRange:usedRect:baselineOffset:)**: Called by the typesetter just prior to storing the actual line fragment rectangle location in the layout manager.\n- **setHardInvalidation(_:forGlyphRange:)**: Sets whether to force the layout manager to invalidate the specified portion of the glyph cache when invalidating layout.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Lays out glyphs in the specified layout manager starting at a specified glyph.",
          "name" : "layoutGlyphs(in:startingAtGlyphIndex:maxNumberOfLineFragments:nextGlyphIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/layoutGlyphs(in:startingAtGlyphIndex:maxNumberOfLineFragments:nextGlyphIndex:)"
        },
        {
          "description" : "Returns the bounding rectangle for the specified control glyph with the specified parameters.",
          "name" : "boundingBox(forControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/boundingBox(forControlGlyphAt:for:proposedLineFragment:glyphPosition:characterIndex:)"
        },
        {
          "description" : "Calculates the line fragment rectangle and line fragment used rectangle for blank lines.",
          "name" : "getLineFragmentRect(_:usedRect:forParagraphSeparatorGlyphRange:atProposedOrigin:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/getLineFragmentRect(_:usedRect:forParagraphSeparatorGlyphRange:atProposedOrigin:)"
        },
        {
          "description" : "Returns the hyphen character to be inserted after the specified glyph.",
          "name" : "hyphenCharacter(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/hyphenCharacter(forGlyphAt:)"
        },
        {
          "description" : "Returns the hyphenation factor in effect at a specified location.",
          "name" : "hyphenationFactor(forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/hyphenationFactor(forGlyphAt:)"
        },
        {
          "description" : "Returns whether the line being laid out should be broken by hyphenating at the specified character.",
          "name" : "shouldBreakLine(byHyphenatingBeforeCharacterAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/shouldBreakLine(byHyphenatingBeforeCharacterAt:)"
        },
        {
          "description" : "Returns whether the line being laid out should be broken by a word break at the specified character.",
          "name" : "shouldBreakLine(byWordBeforeCharacterAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/shouldBreakLine(byWordBeforeCharacterAt:)"
        },
        {
          "description" : "Called by the typesetter just prior to storing the actual line fragment rectangle location in the layout manager.",
          "name" : "willSetLineFragmentRect(_:forGlyphRange:usedRect:baselineOffset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/willSetLineFragmentRect(_:forGlyphRange:usedRect:baselineOffset:)"
        },
        {
          "description" : "Sets whether to force the layout manager to invalidate the specified portion of the glyph cache when invalidating layout.",
          "name" : "setHardInvalidation(_:forGlyphRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/setHardInvalidation(_:forGlyphRange:)"
        }
      ],
      "title" : "Laying out glyphs"
    }
  ],
  "source" : "appleJSON",
  "title" : "getLineFragmentRect(_:usedRect:remaining:forStartingGlyphAt:proposedRect:lineSpacing:paragraphSpacingBefore:paragraphSpacingAfter:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTypesetter\/getLineFragmentRect(_:usedRect:remaining:forStartingGlyphAt:proposedRect:lineSpacing:paragraphSpacingBefore:paragraphSpacingAfter:)"
}