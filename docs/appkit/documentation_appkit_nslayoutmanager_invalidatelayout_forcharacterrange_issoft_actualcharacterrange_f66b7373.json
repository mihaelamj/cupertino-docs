{
  "abstract" : "Invalidates the layout information for the glyphs mapped to the given range of characters.",
  "codeExamples" : [

  ],
  "contentHash" : "3fae2daab1e33eda4a1c6ecea36b28fd1fd19d48c60c57356dfebc1c9a3a6f68",
  "crawledAt" : "2025-12-05T12:17:26Z",
  "declaration" : {
    "code" : "func invalidateLayout(forCharacterRange charRange: NSRange, isSoft flag: Bool, actualCharacterRange actualCharRange: NSRangePointer?)",
    "language" : "swift"
  },
  "id" : "76DF6A4B-37D6-402C-8219-65B70BD8F45C",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method only invalidates information; it performs no glyph generation or layout. You should rarely need to invoke this method.\n\nFor code that needs to work on both OS X v10.5 and previous releases, the following procedures should be used. For OS X v10.4 and before, invalidation should consist of\n\nAs of OS X v10.5, the semantics of the `flag` parameter are slightly different. Soft layout holes are obsolete in macOS 10.5 and later, so the flag is no longer necessary. If the method is called with `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], then it has the effect of invalidating layout.  If it’s called with the `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], then it does not actually invalidate layout; it invalidates a number of internal caches, but otherwise has no effect, and in general is unnecessary.\n\nThis method is superseded by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/invalidateLayout(forCharacterRange:actualCharacterRange:)] and will be deprecated in a future release.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/invalidateLayout(forCharacterRange:isSoft:actualCharacterRange:)\ncrawled: 2025-12-05T12:17:26Z\n---\n\n# invalidateLayout(forCharacterRange:isSoft:actualCharacterRange:)\n\n**Instance Method**\n\nInvalidates the layout information for the glyphs mapped to the given range of characters.\n\n## Declaration\n\n```swift\nfunc invalidateLayout(forCharacterRange charRange: NSRange, isSoft flag: Bool, actualCharacterRange actualCharRange: NSRangePointer?)\n```\n\n## Parameters\n\n- **charRange**: The character range for which glyphs are invalidated.\n- **flag**: If [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], invalidates internal caches in the layout manager; if [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], invalidates layout. See the discussion section.\n- **actualCharRange**: If not `NULL`, on output, the range of characters mapped to the glyphs whose layout information is invalidated. This range can be larger than the range of characters given due to the effect of context on glyphs and layout.\n\n## Discussion\n\nThis method only invalidates information; it performs no glyph generation or layout. You should rarely need to invoke this method.\n\nFor code that needs to work on both OS X v10.5 and previous releases, the following procedures should be used. For OS X v10.4 and before, invalidation should consist of\n\n1. Calling this method with the `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], for the range that has actually become invalid.\n2. Calling this method with the `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], for the range (if any) that follows that range, usually extending to the end of the text, that might need to be moved due to relayout of the invalidated range.\n\nAs of OS X v10.5, the semantics of the `flag` parameter are slightly different. Soft layout holes are obsolete in macOS 10.5 and later, so the flag is no longer necessary. If the method is called with `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], then it has the effect of invalidating layout.  If it’s called with the `flag` set to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], then it does not actually invalidate layout; it invalidates a number of internal caches, but otherwise has no effect, and in general is unnecessary.\n\nThis method is superseded by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSLayoutManager\/invalidateLayout(forCharacterRange:actualCharacterRange:)] and will be deprecated in a future release.\n\n## Methods\n\n- **showCGGlyphs(_:positions:count:font:matrix:attributes:in:)**: Renders the glyphs at the specified positions, using the specified attributes.\n- **invalidateGlyphs(onLayoutInvalidationForGlyphRange:)**: Specifies explicitly when portions of the glyph stream depend on layout.\n- **textStorage(_:edited:range:changeInLength:invalidatedRange:)**: Invalidates glyph and layout information for a portion of the text in the given text storage object.\n- **insertGlyph(_:atGlyphIndex:characterIndex:)**: Inserts a single glyph into the glyph stream at the given index and maps it to the character at the given character index.\n- **insertGlyphs(_:length:forStartingGlyphAt:characterIndex:)**: Inserts the given glyphs into the glyph cache at the given index and maps them to characters beginning at the given character index.\n- **glyph(at:)**: Returns the glyph at the specified index.\n- **glyph(at:isValidIndex:)**: Returns the glyph at a specified index, and optionally returns a flag indicating whether the requested index is valid.\n- **replaceGlyph(at:withGlyph:)**: Replaces the glyph at the given index with a new glyph.\n- **getGlyphs(_:range:)**: Fills the passed-in buffer with a sequence of glyphs.\n- **getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:)**: Returns the glyphs and information needed to perform layout for the given glyph range.\n- **getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:bidiLevels:)**: Returns the glyphs and information needed to perform layout for the given glyph range.\n- **deleteGlyphs(in:)**: Deletes the glyphs in the given range from the receiver’s glyph store.\n- **setCharacterIndex(_:forGlyphAt:)**: Sets the index of the character corresponding to the glyph at the given glyph index.\n- **intAttribute(_:forGlyphAt:)**: Returns the value of the attribute identified by the given attribute tag for the glyph at the given index.\n- **setIntAttribute(_:value:forGlyphAt:)**: Sets a custom attribute value for a given glyph.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Renders the glyphs at the specified positions, using the specified attributes.",
          "name" : "showCGGlyphs(_:positions:count:font:matrix:attributes:in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/showCGGlyphs(_:positions:count:font:matrix:attributes:in:)"
        },
        {
          "description" : "Specifies explicitly when portions of the glyph stream depend on layout.",
          "name" : "invalidateGlyphs(onLayoutInvalidationForGlyphRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/invalidateGlyphs(onLayoutInvalidationForGlyphRange:)"
        },
        {
          "description" : "Invalidates glyph and layout information for a portion of the text in the given text storage object.",
          "name" : "textStorage(_:edited:range:changeInLength:invalidatedRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/textStorage(_:edited:range:changeInLength:invalidatedRange:)"
        },
        {
          "description" : "Inserts a single glyph into the glyph stream at the given index and maps it to the character at the given character index.",
          "name" : "insertGlyph(_:atGlyphIndex:characterIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/insertGlyph(_:atGlyphIndex:characterIndex:)"
        },
        {
          "description" : "Inserts the given glyphs into the glyph cache at the given index and maps them to characters beginning at the given character index.",
          "name" : "insertGlyphs(_:length:forStartingGlyphAt:characterIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/insertGlyphs(_:length:forStartingGlyphAt:characterIndex:)"
        },
        {
          "description" : "Returns the glyph at the specified index.",
          "name" : "glyph(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyph(at:)"
        },
        {
          "description" : "Returns the glyph at a specified index, and optionally returns a flag indicating whether the requested index is valid.",
          "name" : "glyph(at:isValidIndex:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/glyph(at:isValidIndex:)"
        },
        {
          "description" : "Replaces the glyph at the given index with a new glyph.",
          "name" : "replaceGlyph(at:withGlyph:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/replaceGlyph(at:withGlyph:)"
        },
        {
          "description" : "Fills the passed-in buffer with a sequence of glyphs.",
          "name" : "getGlyphs(_:range:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/getGlyphs(_:range:)"
        },
        {
          "description" : "Returns the glyphs and information needed to perform layout for the given glyph range.",
          "name" : "getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:)"
        },
        {
          "description" : "Returns the glyphs and information needed to perform layout for the given glyph range.",
          "name" : "getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:bidiLevels:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/getGlyphs(in:glyphs:characterIndexes:glyphInscriptions:elasticBits:bidiLevels:)"
        },
        {
          "description" : "Deletes the glyphs in the given range from the receiver’s glyph store.",
          "name" : "deleteGlyphs(in:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/deleteGlyphs(in:)"
        },
        {
          "description" : "Sets the index of the character corresponding to the glyph at the given glyph index.",
          "name" : "setCharacterIndex(_:forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/setCharacterIndex(_:forGlyphAt:)"
        },
        {
          "description" : "Returns the value of the attribute identified by the given attribute tag for the glyph at the given index.",
          "name" : "intAttribute(_:forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/intAttribute(_:forGlyphAt:)"
        },
        {
          "description" : "Sets a custom attribute value for a given glyph.",
          "name" : "setIntAttribute(_:value:forGlyphAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/setIntAttribute(_:value:forGlyphAt:)"
        }
      ],
      "title" : "Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "invalidateLayout(forCharacterRange:isSoft:actualCharacterRange:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSLayoutManager\/invalidateLayout(forCharacterRange:isSoft:actualCharacterRange:)"
}