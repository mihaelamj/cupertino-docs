{
  "abstract" : "Validates whether a drop operation is possible at the specified location.",
  "codeExamples" : [

  ],
  "contentHash" : "b3ed54011bd271bb32d6890b4f729571fec3c8de6f5bef5ee29bf58cc83b19da",
  "crawledAt" : "2025-12-04T19:40:31Z",
  "declaration" : {
    "code" : "@MainActor optional func collectionView(_ collectionView: NSCollectionView, validateDrop draggingInfo: any NSDraggingInfo, proposedIndexPath proposedDropIndexPath: AutoreleasingUnsafeMutablePointer<NSIndexPath>, dropOperation proposedDropOperation: UnsafeMutablePointer<NSCollectionView.DropOperation>) -> NSDragOperation",
    "language" : "swift"
  },
  "id" : "2E0E00F7-63DD-4974-A8FC-BDA99F0B591C",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\nA value that indicates which dragging operation to perform. Return [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDragOperation\/NSDragOperationNone] to disallow a drop at the proposed location.\n\n## Discussion\n\nAlthough implementation of this method is optional, you must implement it to support drops onto the associated collection view. You must also call the collection view’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/registerForDraggedTypes(_:)] method to register the types of drops it supports. If you do not perform both of these actions, the collection view does not accept drops.\n\nWhen an interactive drag operation occurs, the collection view calls this method to determine whether the current mouse location is a valid place to drop the content. This method may be called many times during the course of the drag operation. Your implementation should look at the proposed location and return a constant that reflects how the drop would be handled.\n\nWhile validating the drop location, you can suggest a better drop location by updating the values in the `proposedDropIndexPath` and `proposedDropOperation` parameters. For example, you might suggest dropping the content before the specified item instead of on it. The collection view sets the `proposedDropOperation` parameter to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/DropOperation\/on] when the mouse is closer to the middle of an item than to its edges; otherwise, it sets the parameter to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/DropOperation\/before].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:validateDrop:proposedIndexPath:dropOperation:)\ncrawled: 2025-12-04T19:40:31Z\n---\n\n# collectionView(_:validateDrop:proposedIndexPath:dropOperation:)\n\n**Instance Method**\n\nValidates whether a drop operation is possible at the specified location.\n\n## Declaration\n\n```swift\n@MainActor optional func collectionView(_ collectionView: NSCollectionView, validateDrop draggingInfo: any NSDraggingInfo, proposedIndexPath proposedDropIndexPath: AutoreleasingUnsafeMutablePointer<NSIndexPath>, dropOperation proposedDropOperation: UnsafeMutablePointer<NSCollectionView.DropOperation>) -> NSDragOperation\n```\n\n## Parameters\n\n- **collectionView**: The collection view asking you to validate the drop operation.\n- **draggingInfo**: The information about the drag operation.\n- **proposedDropIndexPath**: The index path at which the drop would occur. This parameter is passed by-reference and can be modified to change the proposed index path.\n- **proposedDropOperation**: The type of drop operation being proposed. This parameter is passed by-reference and can be modified to change the drop operation type.\n\n## Return Value\n\nA value that indicates which dragging operation to perform. Return [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDragOperation\/NSDragOperationNone] to disallow a drop at the proposed location.\n\n## Discussion\n\nAlthough implementation of this method is optional, you must implement it to support drops onto the associated collection view. You must also call the collection view’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/registerForDraggedTypes(_:)] method to register the types of drops it supports. If you do not perform both of these actions, the collection view does not accept drops.\n\nWhen an interactive drag operation occurs, the collection view calls this method to determine whether the current mouse location is a valid place to drop the content. This method may be called many times during the course of the drag operation. Your implementation should look at the proposed location and return a constant that reflects how the drop would be handled.\n\nWhile validating the drop location, you can suggest a better drop location by updating the values in the `proposedDropIndexPath` and `proposedDropOperation` parameters. For example, you might suggest dropping the content before the specified item instead of on it. The collection view sets the `proposedDropOperation` parameter to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/DropOperation\/on] when the mouse is closer to the middle of an item than to its edges; otherwise, it sets the parameter to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSCollectionView\/DropOperation\/before].\n\n## Drag and Drop Support\n\n- **Supporting Collection View Drag and Drop Through File Promises**: Share data between macOS apps during drag and drop by using an item provider.\n- **collectionView(_:canDragItemsAt:with:)**: Returns a Boolean indicating whether a drag operation involving the specified items can begin.\n- **collectionView(_:pasteboardWriterForItemAt:)**: Provides the pasteboard writer for the item at the specified index path.\n- **collectionView(_:writeItemsAt:to:)**: Places the data for the drag operation on the pasteboard.\n- **collectionView(_:namesOfPromisedFilesDroppedAtDestination:forDraggedItemsAt:)**: Returns the names of the promised files that you created for a drag operation.\n- **collectionView(_:draggingImageForItemsAt:with:offset:)**: Creates and returns a drag image to represent the specified items during a drag.\n- **collectionView(_:draggingSession:willBeginAt:forItemsAt:)**: Notifies your delegate that a drag session is about to begin.\n- **collectionView(_:draggingSession:endedAt:dragOperation:)**: Notifies your delegate that a drag session ended.\n- **collectionView(_:updateDraggingItemsForDrag:)**: Asks your delegate to update the dragging items during a drag operation.\n- **collectionView(_:acceptDrop:indexPath:dropOperation:)**: Incorporates the dropped content into the collection view.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Share data between macOS apps during drag and drop by using an item provider.",
          "name" : "Supporting Collection View Drag and Drop Through File Promises",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/supporting-collection-view-drag-and-drop-through-file-promises"
        },
        {
          "description" : "Returns a Boolean indicating whether a drag operation involving the specified items can begin.",
          "name" : "collectionView(_:canDragItemsAt:with:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:canDragItemsAt:with:)-49wix"
        },
        {
          "description" : "Provides the pasteboard writer for the item at the specified index path.",
          "name" : "collectionView(_:pasteboardWriterForItemAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:pasteboardWriterForItemAt:)-5eyyl"
        },
        {
          "description" : "Places the data for the drag operation on the pasteboard.",
          "name" : "collectionView(_:writeItemsAt:to:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:writeItemsAt:to:)-23ozm"
        },
        {
          "description" : "Returns the names of the promised files that you created for a drag operation.",
          "name" : "collectionView(_:namesOfPromisedFilesDroppedAtDestination:forDraggedItemsAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:namesOfPromisedFilesDroppedAtDestination:forDraggedItemsAt:)-6yag4"
        },
        {
          "description" : "Creates and returns a drag image to represent the specified items during a drag.",
          "name" : "collectionView(_:draggingImageForItemsAt:with:offset:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:draggingImageForItemsAt:with:offset:)-898js"
        },
        {
          "description" : "Notifies your delegate that a drag session is about to begin.",
          "name" : "collectionView(_:draggingSession:willBeginAt:forItemsAt:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:draggingSession:willBeginAt:forItemsAt:)-68x2y"
        },
        {
          "description" : "Notifies your delegate that a drag session ended.",
          "name" : "collectionView(_:draggingSession:endedAt:dragOperation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:draggingSession:endedAt:dragOperation:)"
        },
        {
          "description" : "Asks your delegate to update the dragging items during a drag operation.",
          "name" : "collectionView(_:updateDraggingItemsForDrag:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:updateDraggingItemsForDrag:)"
        },
        {
          "description" : "Incorporates the dropped content into the collection view.",
          "name" : "collectionView(_:acceptDrop:indexPath:dropOperation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:acceptDrop:indexPath:dropOperation:)"
        }
      ],
      "title" : "Drag and Drop Support"
    }
  ],
  "source" : "appleJSON",
  "title" : "collectionView(_:validateDrop:proposedIndexPath:dropOperation:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSCollectionViewDelegate\/collectionView(_:validateDrop:proposedIndexPath:dropOperation:)"
}