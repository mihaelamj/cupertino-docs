{
  "abstract" : "Provide users quick access to your app’s features from a toolbar and corresponding Touch Bar.",
  "codeExamples" : [
    {
      "code" : "@IBOutlet weak var toolbar: NSToolbar!",
      "language" : "swift"
    },
    {
      "code" : "private extension NSToolbarItem.Identifier {\n    static let fontSize: NSToolbarItem.Identifier = NSToolbarItem.Identifier(rawValue: \"FontSize\")\n    static let fontStyle: NSToolbarItem.Identifier = NSToolbarItem.Identifier(rawValue: \"FontStyle\")\n}",
      "language" : "swift"
    },
    {
      "code" : "func toolbarAllowedItemIdentifiers(_ toolbar: NSToolbar) -> [NSToolbarItem.Identifier] {\n    return [ NSToolbarItem.Identifier.fontStyle,\n             NSToolbarItem.Identifier.fontSize,\n             NSToolbarItem.Identifier.space,\n             NSToolbarItem.Identifier.flexibleSpace,\n             NSToolbarItem.Identifier.print ]\n}",
      "language" : "swift"
    },
    {
      "code" : "func toolbarDefaultItemIdentifiers(_ toolbar: NSToolbar) -> [NSToolbarItem.Identifier] {\n    return [.fontStyle, .fontSize]\n}",
      "language" : "swift"
    },
    {
      "code" : "func toolbar(\n    _ toolbar: NSToolbar,\n    itemForItemIdentifier itemIdentifier: NSToolbarItem.Identifier,\n    willBeInsertedIntoToolbar flag: Bool) -> NSToolbarItem? {\n    \n    var toolbarItem: NSToolbarItem?\n    \n    \/** Create a new NSToolbarItem instance and set its attributes based on\n        the provided item identifier.\n     *\/\n    \n    if itemIdentifier == NSToolbarItem.Identifier.fontStyle {\n        \/\/ 1) Font style toolbar item.\n        toolbarItem =\n            customToolbarItem(itemForItemIdentifier: NSToolbarItem.Identifier.fontStyle.rawValue,\n                              label: NSLocalizedString(\"Font Style\", comment: \"\"),\n                              paletteLabel: NSLocalizedString(\"Font Style\", comment: \"\"),\n                              toolTip: NSLocalizedString(\"tool tip font style\", comment: \"\"),\n                              itemContent: styleSegmentView)!\n    } else if itemIdentifier == NSToolbarItem.Identifier.fontSize {\n        \/\/ 2) Font size toolbar item.\n        toolbarItem =\n            customToolbarItem(itemForItemIdentifier: NSToolbarItem.Identifier.fontSize.rawValue,\n                              label: NSLocalizedString(\"Font Size\", comment: \"\"),\n                              paletteLabel: NSLocalizedString(\"Font Size\", comment: \"\"),\n                              toolTip: NSLocalizedString(\"tool tip font size\", comment: \"\"),\n                              itemContent: fontSizeView)!\n    }\n    \n    return toolbarItem\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Font style toolbar item.\n@IBOutlet var styleSegmentView: NSView! \/\/ The font style changing view (ends up in an NSToolbarItem).\n\n\/\/ Font size toolbar item.\n@IBOutlet var fontSizeView: NSView! \/\/ The font size changing view (ends up in an NSToolbarItem).",
      "language" : "swift"
    },
    {
      "code" : "func customToolbarItem(\n    itemForItemIdentifier itemIdentifier: String,\n    label: String,\n    paletteLabel: String,\n    toolTip: String,\n    itemContent: AnyObject) -> NSToolbarItem? {\n    \n    let toolbarItem = NSToolbarItem(itemIdentifier: NSToolbarItem.Identifier(rawValue: itemIdentifier))\n    \n    toolbarItem.label = label\n    toolbarItem.paletteLabel = paletteLabel\n    toolbarItem.toolTip = toolTip\n    toolbarItem.target = self\n    \n    \/\/ Set the right attribute, depending on if we were given an image or a view.\n    if itemContent is NSImage {\n        if let image = itemContent as? NSImage {\n            toolbarItem.image = image\n        }\n    } else if itemContent is NSView {\n        if let view = itemContent as? NSView {\n            toolbarItem.view = view\n        }\n    } else {\n        assertionFailure(\"Invalid itemContent: object\")\n    }\n    \n    \/\/ We actually need an NSMenuItem here, so we construct one.\n    let menuItem: NSMenuItem = NSMenuItem()\n    menuItem.submenu = nil\n    menuItem.title = label\n    toolbarItem.menuFormRepresentation = menuItem\n    \n    return toolbarItem\n}",
      "language" : "swift"
    },
    {
      "code" : "func toolbarWillAddItem(_ notification: Notification) {\n    let userInfo = notification.userInfo!\n    if let addedItem = userInfo[\"item\"] as? NSToolbarItem {\n        let itemIdentifier = addedItem.itemIdentifier\n        if itemIdentifier == .print {\n            addedItem.toolTip = NSLocalizedString(\"print string\", comment: \"\")\n            addedItem.target = self\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "\/*\tIf you pass false here, you turn off the customization palette. The\n    NSWindow method -runToolbarCustomizationPalette: handles the display\n    of the palette, which you can see in Interface Builder is connected\n    to the\"Customize Toolbar\" menu item.\n *\/\ntoolbar.allowsUserCustomization = true\n\n\/*\tTell the toolbar that it should save any toolbar configuration changes\n    to user defaults, that is, persist any mode changes or item reordering.\n    The app writes the configuration to the app domain using the toolbar\n    identifier as the key.\n *\/\ntoolbar.autosavesConfiguration = true",
      "language" : "swift"
    },
    {
      "code" : "override func makeTouchBar() -> NSTouchBar? {\n    let touchBar = NSTouchBar()\n    touchBar.delegate = self\n    touchBar.customizationIdentifier = .touchBar\n    touchBar.defaultItemIdentifiers = [.fontStyle, .popover, NSTouchBarItem.Identifier.otherItemsProxy]\n    touchBar.customizationAllowedItemIdentifiers = [.fontStyle, .popover]\n    \n    return touchBar\n}",
      "language" : "swift"
    },
    {
      "code" : "func applicationDidFinishLaunching(_ aNotification: Notification) {\n    \n    \/\/ Allow users to customize the app's Touch Bar items.\n    NSApplication.shared.isAutomaticCustomizeTouchBarMenuItemEnabled = true\n    \n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "cee3462acd263fea4f113d2a6d8b918b7acbebf20708bdc1a464dc7c94625184",
  "crawledAt" : "2025-12-02T15:28:34Z",
  "id" : "57D698D8-86A8-4D84-BE74-BEF2CDB49CFB",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Overview\n\nThe *toolbar* appears in the space immediately below or next to a window’s title bar and above the app’s content. You use an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar] object to manage the items that appear in a toolbar, which are [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem] objects created in Interface Builder or source code.\n\nThis sample shows you how to add a toolbar to a window and add Touch Bar support that works in conjunction with the toolbar.\n\n### Add the Toolbar\n\nThe sample defines the custom class `WindowController`, which derives from [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowController] and conforms to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate] protocol. In Interface Builder, the sample creates an instance of `WindowController` in the Window Controller Scene of `Main.storyboard`, and adds an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar] object to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowController\/window] referenced by the controller. Then the sample connects the toolbar’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/delegate] to the `WindowController` instance.\n\nThe window controller also defines an outlet variable `toolbar`, making it possible to reference the toolbar instance in the source code of `WindowController.swift`.\n\n### Create Toolbar Item Identifiers\n\nEach [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem] object has a unique identifier of type [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/Identifier]. AppKit provides identifiers for standard toolbar items such as cloud sharing, printing, and showing the font and color palette. For custom toolbar items, the app provides the identifiers. For example, the sample provides two identifiers for its custom toolbar items: one for setting the font size and one for setting the font style of an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView].\n\n### Specify Allowed Toolbar Items\n\nTo tell the toolbar which items are available, the sample’s toolbar delegate implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarAllowedItemIdentifiers(_:)] method, which returns an array of item identifiers. The available items appear in the toolbar’s customization palette for customizing the toolbar when running the sample app.\n\n### Specify Default Toolbar Items\n\nWhen the sample app launches for the first time, a default set of items appear in the toolbar. The sample provides these items by implementing the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarDefaultItemIdentifiers(_:)] delegate method, which returns an array containing the font style and font size item identifiers.\n\n### Create a Toolbar Item from an Identifier\n\nThe toolbar asks its delegate to create a toolbar item by calling the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbar(_:itemForItemIdentifier:willBeInsertedIntoToolbar:)] method. It calls this method when adding an item to the toolbar but also when adding items to the toolbar’s customization palette.\n\nThe sample app’s implementation of this method creates items for the two identifiers created in the app, font style and font size.\n\nThe delegate isn’t responsible for creating toolbar items for standard identifiers; AppKit creates those toolbar items.\n\n### Use a Custom View for a Toolbar Item\n\nThe font style and font size toolbar items display a custom view that the sample defines in `Main.storyboard` and connects with outlets in `WindowController`.\n\nWhen the toolbar calls the delegate method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbar(_:itemForItemIdentifier:willBeInsertedIntoToolbar:)], the sample creates the toolbar item by calling its helper function `customToolbarItem`, passing in the custom view for the requested toolbar item.\n\n### Add More Attributes to a Toolbar Item\n\nThe sample’s toolbar delegate also implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarWillAddItem(_:)] method to know when the toolbar is about to add an item. This gives the delegate the opportunity to add or change state information for the item. For example, the sample sets the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/toolTip] property of a toolbar item with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/Identifier\/print] identifier.\n\n### Provide Toolbar Customization to Users\n\nThe toolbar displays the default items in the same order as they appear in the array that [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarDefaultItemIdentifiers(_:)] returns. But users can rearrange the items, add and remove items, and reset the toolbar to its default items by selecting View > Customize Toolbar, which displays the toolbar’s configuration palette. The sample app also saves the changes and reapplies them the next time the user launches the app.\n\nThe sample app provides these behaviors by setting the toolbar’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/allowsUserCustomization] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/autosavesConfiguration] properties to `true`.\n\n### Add Touch Bar Support\n\nThe sample app provides Touch Bar support that works in conjunction with the toolbar. Like the toolbar, the app provides two items on the Touch Bar: font style and font size.\n\nBefore the sample app can add items to the Touch Bar, it needs to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBar] object. The sample does this by overriding the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] method, where it creates and returns a new Touch Bar object.\n\nThen, similar to adding toolbar items, the sample implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate] method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate\/touchBar(_:makeItemForIdentifier:)], where it creates and returns Touch Bar items for the specified identifier.\n\n### Provide Touch Bar Customization to Users\n\nAs with the toolbar, the sample app lets users customize items in the Touch Bar by choosing View > Customize Touch Bar. The app provides this feature by setting the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/isAutomaticCustomizeTouchBarMenuItemEnabled] property to `true`.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/integrating-a-toolbar-and-touch-bar-into-your-app\ncrawled: 2025-12-02T15:28:34Z\n---\n\n# Integrating a Toolbar and Touch Bar into Your App\n\n**Sample Code**\n\nProvide users quick access to your app’s features from a toolbar and corresponding Touch Bar.\n\n## Overview\n\nThe *toolbar* appears in the space immediately below or next to a window’s title bar and above the app’s content. You use an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar] object to manage the items that appear in a toolbar, which are [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem] objects created in Interface Builder or source code.\n\nThis sample shows you how to add a toolbar to a window and add Touch Bar support that works in conjunction with the toolbar.\n\n### Add the Toolbar\n\nThe sample defines the custom class `WindowController`, which derives from [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowController] and conforms to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate] protocol. In Interface Builder, the sample creates an instance of `WindowController` in the Window Controller Scene of `Main.storyboard`, and adds an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar] object to the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindowController\/window] referenced by the controller. Then the sample connects the toolbar’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/delegate] to the `WindowController` instance.\n\nThe window controller also defines an outlet variable `toolbar`, making it possible to reference the toolbar instance in the source code of `WindowController.swift`.\n\n```swift\n@IBOutlet weak var toolbar: NSToolbar!\n```\n\n### Create Toolbar Item Identifiers\n\nEach [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem] object has a unique identifier of type [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/Identifier]. AppKit provides identifiers for standard toolbar items such as cloud sharing, printing, and showing the font and color palette. For custom toolbar items, the app provides the identifiers. For example, the sample provides two identifiers for its custom toolbar items: one for setting the font size and one for setting the font style of an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView].\n\n```swift\nprivate extension NSToolbarItem.Identifier {\n    static let fontSize: NSToolbarItem.Identifier = NSToolbarItem.Identifier(rawValue: \"FontSize\")\n    static let fontStyle: NSToolbarItem.Identifier = NSToolbarItem.Identifier(rawValue: \"FontStyle\")\n}\n```\n\n### Specify Allowed Toolbar Items\n\nTo tell the toolbar which items are available, the sample’s toolbar delegate implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarAllowedItemIdentifiers(_:)] method, which returns an array of item identifiers. The available items appear in the toolbar’s customization palette for customizing the toolbar when running the sample app.\n\n```swift\nfunc toolbarAllowedItemIdentifiers(_ toolbar: NSToolbar) -> [NSToolbarItem.Identifier] {\n    return [ NSToolbarItem.Identifier.fontStyle,\n             NSToolbarItem.Identifier.fontSize,\n             NSToolbarItem.Identifier.space,\n             NSToolbarItem.Identifier.flexibleSpace,\n             NSToolbarItem.Identifier.print ]\n}\n```\n\n### Specify Default Toolbar Items\n\nWhen the sample app launches for the first time, a default set of items appear in the toolbar. The sample provides these items by implementing the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarDefaultItemIdentifiers(_:)] delegate method, which returns an array containing the font style and font size item identifiers.\n\n```swift\nfunc toolbarDefaultItemIdentifiers(_ toolbar: NSToolbar) -> [NSToolbarItem.Identifier] {\n    return [.fontStyle, .fontSize]\n}\n```\n\n### Create a Toolbar Item from an Identifier\n\nThe toolbar asks its delegate to create a toolbar item by calling the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbar(_:itemForItemIdentifier:willBeInsertedIntoToolbar:)] method. It calls this method when adding an item to the toolbar but also when adding items to the toolbar’s customization palette.\n\nThe sample app’s implementation of this method creates items for the two identifiers created in the app, font style and font size.\n\n```swift\nfunc toolbar(\n    _ toolbar: NSToolbar,\n    itemForItemIdentifier itemIdentifier: NSToolbarItem.Identifier,\n    willBeInsertedIntoToolbar flag: Bool) -> NSToolbarItem? {\n    \n    var toolbarItem: NSToolbarItem?\n    \n    \/** Create a new NSToolbarItem instance and set its attributes based on\n        the provided item identifier.\n     *\/\n    \n    if itemIdentifier == NSToolbarItem.Identifier.fontStyle {\n        \/\/ 1) Font style toolbar item.\n        toolbarItem =\n            customToolbarItem(itemForItemIdentifier: NSToolbarItem.Identifier.fontStyle.rawValue,\n                              label: NSLocalizedString(\"Font Style\", comment: \"\"),\n                              paletteLabel: NSLocalizedString(\"Font Style\", comment: \"\"),\n                              toolTip: NSLocalizedString(\"tool tip font style\", comment: \"\"),\n                              itemContent: styleSegmentView)!\n    } else if itemIdentifier == NSToolbarItem.Identifier.fontSize {\n        \/\/ 2) Font size toolbar item.\n        toolbarItem =\n            customToolbarItem(itemForItemIdentifier: NSToolbarItem.Identifier.fontSize.rawValue,\n                              label: NSLocalizedString(\"Font Size\", comment: \"\"),\n                              paletteLabel: NSLocalizedString(\"Font Size\", comment: \"\"),\n                              toolTip: NSLocalizedString(\"tool tip font size\", comment: \"\"),\n                              itemContent: fontSizeView)!\n    }\n    \n    return toolbarItem\n}\n```\n\nThe delegate isn’t responsible for creating toolbar items for standard identifiers; AppKit creates those toolbar items.\n\n### Use a Custom View for a Toolbar Item\n\nThe font style and font size toolbar items display a custom view that the sample defines in `Main.storyboard` and connects with outlets in `WindowController`.\n\n```swift\n\/\/ Font style toolbar item.\n@IBOutlet var styleSegmentView: NSView! \/\/ The font style changing view (ends up in an NSToolbarItem).\n\n\/\/ Font size toolbar item.\n@IBOutlet var fontSizeView: NSView! \/\/ The font size changing view (ends up in an NSToolbarItem).\n```\n\nWhen the toolbar calls the delegate method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbar(_:itemForItemIdentifier:willBeInsertedIntoToolbar:)], the sample creates the toolbar item by calling its helper function `customToolbarItem`, passing in the custom view for the requested toolbar item.\n\n```swift\nfunc customToolbarItem(\n    itemForItemIdentifier itemIdentifier: String,\n    label: String,\n    paletteLabel: String,\n    toolTip: String,\n    itemContent: AnyObject) -> NSToolbarItem? {\n    \n    let toolbarItem = NSToolbarItem(itemIdentifier: NSToolbarItem.Identifier(rawValue: itemIdentifier))\n    \n    toolbarItem.label = label\n    toolbarItem.paletteLabel = paletteLabel\n    toolbarItem.toolTip = toolTip\n    toolbarItem.target = self\n    \n    \/\/ Set the right attribute, depending on if we were given an image or a view.\n    if itemContent is NSImage {\n        if let image = itemContent as? NSImage {\n            toolbarItem.image = image\n        }\n    } else if itemContent is NSView {\n        if let view = itemContent as? NSView {\n            toolbarItem.view = view\n        }\n    } else {\n        assertionFailure(\"Invalid itemContent: object\")\n    }\n    \n    \/\/ We actually need an NSMenuItem here, so we construct one.\n    let menuItem: NSMenuItem = NSMenuItem()\n    menuItem.submenu = nil\n    menuItem.title = label\n    toolbarItem.menuFormRepresentation = menuItem\n    \n    return toolbarItem\n}\n```\n\n### Add More Attributes to a Toolbar Item\n\nThe sample’s toolbar delegate also implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarWillAddItem(_:)] method to know when the toolbar is about to add an item. This gives the delegate the opportunity to add or change state information for the item. For example, the sample sets the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/toolTip] property of a toolbar item with the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarItem\/Identifier\/print] identifier.\n\n```swift\nfunc toolbarWillAddItem(_ notification: Notification) {\n    let userInfo = notification.userInfo!\n    if let addedItem = userInfo[\"item\"] as? NSToolbarItem {\n        let itemIdentifier = addedItem.itemIdentifier\n        if itemIdentifier == .print {\n            addedItem.toolTip = NSLocalizedString(\"print string\", comment: \"\")\n            addedItem.target = self\n        }\n    }\n}\n```\n\n### Provide Toolbar Customization to Users\n\nThe toolbar displays the default items in the same order as they appear in the array that [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbarDelegate\/toolbarDefaultItemIdentifiers(_:)] returns. But users can rearrange the items, add and remove items, and reset the toolbar to its default items by selecting View > Customize Toolbar, which displays the toolbar’s configuration palette. The sample app also saves the changes and reapplies them the next time the user launches the app.\n\nThe sample app provides these behaviors by setting the toolbar’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/allowsUserCustomization] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSToolbar\/autosavesConfiguration] properties to `true`.\n\n```swift\n\/*\tIf you pass false here, you turn off the customization palette. The\n    NSWindow method -runToolbarCustomizationPalette: handles the display\n    of the palette, which you can see in Interface Builder is connected\n    to the\"Customize Toolbar\" menu item.\n *\/\ntoolbar.allowsUserCustomization = true\n\n\/*\tTell the toolbar that it should save any toolbar configuration changes\n    to user defaults, that is, persist any mode changes or item reordering.\n    The app writes the configuration to the app domain using the toolbar\n    identifier as the key.\n *\/\ntoolbar.autosavesConfiguration = true\n```\n\n### Add Touch Bar Support\n\nThe sample app provides Touch Bar support that works in conjunction with the toolbar. Like the toolbar, the app provides two items on the Touch Bar: font style and font size.\n\nBefore the sample app can add items to the Touch Bar, it needs to create an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBar] object. The sample does this by overriding the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSResponder\/makeTouchBar()] method, where it creates and returns a new Touch Bar object.\n\nThen, similar to adding toolbar items, the sample implements the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate] method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTouchBarDelegate\/touchBar(_:makeItemForIdentifier:)], where it creates and returns Touch Bar items for the specified identifier.\n\n\n\n```swift\noverride func makeTouchBar() -> NSTouchBar? {\n    let touchBar = NSTouchBar()\n    touchBar.delegate = self\n    touchBar.customizationIdentifier = .touchBar\n    touchBar.defaultItemIdentifiers = [.fontStyle, .popover, NSTouchBarItem.Identifier.otherItemsProxy]\n    touchBar.customizationAllowedItemIdentifiers = [.fontStyle, .popover]\n    \n    return touchBar\n}\n```\n\n### Provide Touch Bar Customization to Users\n\nAs with the toolbar, the sample app lets users customize items in the Touch Bar by choosing View > Customize Touch Bar. The app provides this feature by setting the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/isAutomaticCustomizeTouchBarMenuItemEnabled] property to `true`.\n\n```swift\nfunc applicationDidFinishLaunching(_ aNotification: Notification) {\n    \n    \/\/ Allow users to customize the app's Touch Bar items.\n    NSApplication.shared.isAutomaticCustomizeTouchBarMenuItemEnabled = true\n    \n}\n```\n\n## Essentials\n\n- **Creating and Customizing the Touch Bar**: Adopt Touch Bar support by displaying interactive content and controls for your macOS apps.\n- **NSTouchBar**: An object that provides dynamic contextual controls in the Touch Bar of supported models of MacBook Pro.\n- **NSTouchBarDelegate**: A protocol that allows you to provide the items for a bar dynamically.\n- **NSTouchBarProvider**: A protocol that an object adopts to create a bar object in your app.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adopt Touch Bar support by displaying interactive content and controls for your macOS apps.",
          "name" : "Creating and Customizing the Touch Bar",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/creating-and-customizing-the-touch-bar"
        },
        {
          "description" : "An object that provides dynamic contextual controls in the Touch Bar of supported models of MacBook Pro.",
          "name" : "NSTouchBar",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBar"
        },
        {
          "description" : "A protocol that allows you to provide the items for a bar dynamically.",
          "name" : "NSTouchBarDelegate",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBarDelegate"
        },
        {
          "description" : "A protocol that an object adopts to create a bar object in your app.",
          "name" : "NSTouchBarProvider",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTouchBarProvider"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Integrating a Toolbar and Touch Bar into Your App",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/integrating-a-toolbar-and-touch-bar-into-your-app"
}