{
  "abstract" : "Allows an app to extend its state restoration period.",
  "codeExamples" : [

  ],
  "contentHash" : "ae63d4f750ee155a2d707164542f6fbed5066e0b5281236b667193733bde39c6",
  "crawledAt" : "2025-12-04T19:35:13Z",
  "declaration" : {
    "code" : "@MainActor func extendStateRestoration()",
    "language" : "swift"
  },
  "id" : "3F920B3C-99EC-4799-9E8E-56E5498361C4",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method allows an app to extend the state restoration period beyond the usual. For example, the app crashes before state restoration is complete, then it may offer to discard restorable state on the next launch.\n\nIf a window has some state that may take a long time to restore, such as a web page, you may use this method and methods to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] to extend the period of this crash protection beyond the default.\n\nYou call `extendStateRestoration` within your implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/restoreWindow(withIdentifier:state:completionHandler:)].  You would then call [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] some time after the window is fully restored.  If the app crashes in the interim, then it may offer to discard restorable state on the next launch.\n\nThe `extendStateRestoration` and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] methods act as a counter. Each call to `extendStateRestoration` increments the counter, and must be matched with a corresponding call to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] which decrements it.  When the counter reaches zero, the app is considered to have been fully restored, and any further calls are silently ignored.\n\nThis method is thread safe.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/extendStateRestoration()\ncrawled: 2025-12-04T19:35:13Z\n---\n\n# extendStateRestoration()\n\n**Instance Method**\n\nAllows an app to extend its state restoration period.\n\n## Declaration\n\n```swift\n@MainActor func extendStateRestoration()\n```\n\n## Discussion\n\nThis method allows an app to extend the state restoration period beyond the usual. For example, the app crashes before state restoration is complete, then it may offer to discard restorable state on the next launch.\n\nIf a window has some state that may take a long time to restore, such as a web page, you may use this method and methods to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] to extend the period of this crash protection beyond the default.\n\nYou call `extendStateRestoration` within your implementation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/restoreWindow(withIdentifier:state:completionHandler:)].  You would then call [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] some time after the window is fully restored.  If the app crashes in the interim, then it may offer to discard restorable state on the next launch.\n\nThe `extendStateRestoration` and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] methods act as a counter. Each call to `extendStateRestoration` increments the counter, and must be matched with a corresponding call to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSApplication\/completeStateRestoration()] which decrements it.  When the counter reaches zero, the app is considered to have been fully restored, and any further calls are silently ignored.\n\nThis method is thread safe.\n\n## Restoring App Windows at Launch\n\n- **isProtectedDataAvailable**\n- **completeStateRestoration()**: Completes the extended state restoration.\n- **restoreWindow(withIdentifier:state:completionHandler:)**: Invoked to request that a window be restored.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "isProtectedDataAvailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/isProtectedDataAvailable"
        },
        {
          "description" : "Completes the extended state restoration.",
          "name" : "completeStateRestoration()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/completeStateRestoration()"
        },
        {
          "description" : "Invoked to request that a window be restored.",
          "name" : "restoreWindow(withIdentifier:state:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/restoreWindow(withIdentifier:state:completionHandler:)"
        }
      ],
      "title" : "Restoring App Windows at Launch"
    }
  ],
  "source" : "appleJSON",
  "title" : "extendStateRestoration()",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSApplication\/extendStateRestoration()"
}