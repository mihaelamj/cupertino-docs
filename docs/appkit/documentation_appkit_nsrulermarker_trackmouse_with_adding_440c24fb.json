{
  "abstract" : "Handles user manipulation of the receiver in its ruler view.",
  "codeExamples" : [

  ],
  "contentHash" : "d90251f1bd8798650c7474e4f689c597dac67e628ecb73871fd0364f2f71aef6",
  "crawledAt" : "2025-12-03T09:16:42Z",
  "declaration" : {
    "code" : "func trackMouse(with mouseDownEvent: NSEvent, adding isAdding: Bool) -> Bool",
    "language" : "swift"
  },
  "id" : "E44220A1-2BF0-40B3-B0DF-24B6E6F0261F",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the user manipulation was allowed, [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if it was not allowed.\n\n## Discussion\n\n[doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSRulerView] objects invoke this method automatically to add a new marker or to move or remove an existing marker. You should never need to invoke it directly.\n\nIf the receiver is a new marker being added to its ruler view (`flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]), the receiver queries the ruler view’s client before adding itself to the ruler view. If the client responds to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldAdd:)] and that method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], this method immediately returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], and the new marker isn’t added.\n\nIf the receiver is not a new marker being added to its ruler view (`flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]), this method attempts to move or remove an existing marker, once again based on responses from the ruler view’s client view. If the receiver is neither movable nor removable, this method immediately returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. Further, if the ruler view’s client responds to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldMove:)] and returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], this method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], indicating the receiver can’t be moved.\n\nIf the receiver is being added or moved, this method queries the client view using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:willAdd:atLocation:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:willMove:toLocation:)], respectively. If the client responds to the method, the return value is used as the receiver’s location. These methods are invoked repeatedly as the receiver is dragged within the ruler view.\n\nIf the receiver is an existing marker being removed (dragged off the ruler), this method queries the client view using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldRemove:)]. If the client responds to this method and returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], the marker is pinned to the ruler view’s baseline (following the cursor on the baseline if it’s movable).\n\nWhen the user releases the mouse button, this method informs the client view of the marker’s new status using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didAdd:)], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didMove:)], or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didRemove:)] as appropriate. The client view can use this notification to set the marker’s represented object, modify its state and redisplay (for example, adjusting text layout around a new tab stop), or take whatever other action it might need.\n\nIf `flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and the user dragged the new marker away from the ruler, the marker isn’t added, no message is sent, and this method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false].\n\nSee [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Rulers\/Rulers.html#\/\/apple_ref\/doc\/uid\/10000089i] for more information on these client methods.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/trackMouse(with:adding:)\ncrawled: 2025-12-03T09:16:42Z\n---\n\n# trackMouse(with:adding:)\n\n**Instance Method**\n\nHandles user manipulation of the receiver in its ruler view.\n\n## Declaration\n\n```swift\nfunc trackMouse(with mouseDownEvent: NSEvent, adding isAdding: Bool) -> Bool\n```\n\n## Parameters\n\n- **mouseDownEvent**: The event that represents the user manipulation being attempted on the ruler marker.\n- **isAdding**: [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] to indicate that the receiver is a new marker being added to its ruler view, [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] otherwise.\n\n## Return Value\n\n[doc:\/\/com.apple.documentation\/documentation\/Swift\/true] if the user manipulation was allowed, [doc:\/\/com.apple.documentation\/documentation\/Swift\/false] if it was not allowed.\n\n## Discussion\n\n[doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSRulerView] objects invoke this method automatically to add a new marker or to move or remove an existing marker. You should never need to invoke it directly.\n\nIf the receiver is a new marker being added to its ruler view (`flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]), the receiver queries the ruler view’s client before adding itself to the ruler view. If the client responds to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldAdd:)] and that method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], this method immediately returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], and the new marker isn’t added.\n\nIf the receiver is not a new marker being added to its ruler view (`flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]), this method attempts to move or remove an existing marker, once again based on responses from the ruler view’s client view. If the receiver is neither movable nor removable, this method immediately returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false]. Further, if the ruler view’s client responds to [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldMove:)] and returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], this method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], indicating the receiver can’t be moved.\n\nIf the receiver is being added or moved, this method queries the client view using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:willAdd:atLocation:)] or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:willMove:toLocation:)], respectively. If the client responds to the method, the return value is used as the receiver’s location. These methods are invoked repeatedly as the receiver is dragged within the ruler view.\n\nIf the receiver is an existing marker being removed (dragged off the ruler), this method queries the client view using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:shouldRemove:)]. If the client responds to this method and returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false], the marker is pinned to the ruler view’s baseline (following the cursor on the baseline if it’s movable).\n\nWhen the user releases the mouse button, this method informs the client view of the marker’s new status using [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didAdd:)], [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didMove:)], or [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView\/rulerView(_:didRemove:)] as appropriate. The client view can use this notification to set the marker’s represented object, modify its state and redisplay (for example, adjusting text layout around a new tab stop), or take whatever other action it might need.\n\nIf `flag` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and the user dragged the new marker away from the ruler, the marker isn’t added, no message is sent, and this method returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/false].\n\nSee [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Rulers\/Rulers.html#\/\/apple_ref\/doc\/uid\/10000089i] for more information on these client methods.\n\n## Related Documentation\n\n- **isMovable**: A Boolean that indicates whether the user can move the receiver in its ruler view.\n- **isRemovable**: A Boolean that indicates whether the user can remove the receiver from its ruler view.\n\n## Drawing and event handling\n\n- **draw(_:)**: Draws the receiver’s image that appears in the supplied rectangle.\n- **isDragging**: A Boolean that indicates whether the receiver is being dragged.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean that indicates whether the user can move the receiver in its ruler view.",
          "name" : "isMovable",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/isMovable"
        },
        {
          "description" : "A Boolean that indicates whether the user can remove the receiver from its ruler view.",
          "name" : "isRemovable",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/isRemovable"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Draws the receiver’s image that appears in the supplied rectangle.",
          "name" : "draw(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/draw(_:)"
        },
        {
          "description" : "A Boolean that indicates whether the receiver is being dragged.",
          "name" : "isDragging",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/isDragging"
        }
      ],
      "title" : "Drawing and event handling"
    }
  ],
  "source" : "appleJSON",
  "title" : "trackMouse(with:adding:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSRulerMarker\/trackMouse(with:adding:)"
}