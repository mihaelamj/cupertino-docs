{
  "abstract" : "A set of methods that text views need to implement to interact properly with the text input management system.",
  "codeExamples" : [

  ],
  "conformingTypes" : [
    "NSTextView"
  ],
  "contentHash" : "0219cf1f937a320d34870fc1892d7de5c489ed8834bdf1ed05312875b9ee7e9b",
  "crawledAt" : "2025-12-01T10:42:58Z",
  "declaration" : {
    "code" : "protocol NSTextInputClient",
    "language" : "swift"
  },
  "id" : "603F9178-E48F-4D14-8695-362793A27748",
  "inheritedBy" : [
    "NSTextCheckingClient"
  ],
  "kind" : "protocol",
  "module" : "AppKit",
  "overview" : "## Overview\n\nTo create another text view class, you can either subclass [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView], or subclass [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextInputClient] protocol.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\ncrawled: 2025-12-01T10:42:58Z\n---\n\n# NSTextInputClient\n\n**Protocol**\n\nA set of methods that text views need to implement to interact properly with the text input management system.\n\n## Declaration\n\n```swift\nprotocol NSTextInputClient\n```\n\n## Overview\n\nTo create another text view class, you can either subclass [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextView], or subclass [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and implement the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextInputClient] protocol.\n\n\n\n## Handling marked text\n\n- **hasMarkedText()**: Returns a Boolean value indicating whether the receiver has marked text.\n- **markedRange()**: Returns the range of the marked text.\n- **selectedRange()**: Returns the range of selected text.\n- **setMarkedText(_:selectedRange:replacementRange:)**: Replaces a specified range in the receiver’s text storage with the given string and sets the selection.\n- **unmarkText()**: Unmarks the marked text.\n- **validAttributesForMarkedText()**: Returns an array of attribute names recognized by the receiver.\n\n## Storing text\n\n- **attributedString()**: Returns an attributed string representing the receiver’s text storage.\n- **attributedSubstring(forProposedRange:actualRange:)**: Returns an attributed string derived from the given range in the receiver’s text storage.\n- **insertText(_:replacementRange:)**: Inserts the given string into the receiver, replacing the specified content.\n\n## Getting character coordinates\n\n- **characterIndex(for:)**: Returns the index of the character whose bounding rectangle includes the given point.\n- **firstRect(forCharacterRange:actualRange:)**: Returns the first logical boundary rectangle for characters in the given range.\n- **baselineDeltaForCharacter(at:)**: Returns the baseline position of a given character relative to the origin of rectangle returned by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextInputClient\/firstRect(forCharacterRange:actualRange:)].\n- **drawsVerticallyForCharacter(at:)**: Informs the text input management system whether the protocol-conforming client renders the character at the given index vertically.\n- **fractionOfDistanceThroughGlyph(for:)**: Returns the fraction of the distance from the left side of the character to the right side that a given point lies.\n\n## Placing content\n\n- **documentVisibleRect**\n- **unionRectInVisibleSelectedRange**\n- **preferredTextAccessoryPlacement()**\n- **windowLevel()**: Returns the window level of the receiver.\n\n## Binding keystrokes\n\n- **doCommand(by:)**: Invokes the action specified by the given selector.\n\n## Supporting adaptive images\n\n- **supportsAdaptiveImageGlyph**: A Boolean value that indicates whether the document supports adaptive images in the input.\n- **insert(_:replacementRange:)**: Inserts an adaptive image into the text at the specifed location.\n\n## Text input\n\n- **Adopting the system text cursor in custom text views**: Incorporate the system text cursor into your custom text UI in AppKit.\n- **NSTextInputContext**: An object that represents the Cocoa text input system.\n- **NSTextAlternatives**: A list of alternative strings for a piece of text.\n- **NSTextContent**: A protocol that describes specific kinds of input content types.\n- **NSTextInsertionIndicator**: A view that represents the insertion indicator in text.\n- **NSTextInsertionIndicator.DisplayMode**: Constants that determine how to display the system text cursor in a custom text UI.\n- **NSTextInsertionIndicator.AutomaticModeOptions**: Options that affect the automatic display mode.\n\n## Inherited By\n\n- NSTextCheckingClient\n\n## Conforming Types\n\n- NSTextView\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value indicating whether the receiver has marked text.",
          "name" : "hasMarkedText()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/hasMarkedText()"
        },
        {
          "description" : "Returns the range of the marked text.",
          "name" : "markedRange()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/markedRange()"
        },
        {
          "description" : "Returns the range of selected text.",
          "name" : "selectedRange()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/selectedRange()"
        },
        {
          "description" : "Replaces a specified range in the receiver’s text storage with the given string and sets the selection.",
          "name" : "setMarkedText(_:selectedRange:replacementRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/setMarkedText(_:selectedRange:replacementRange:)"
        },
        {
          "description" : "Unmarks the marked text.",
          "name" : "unmarkText()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/unmarkText()"
        },
        {
          "description" : "Returns an array of attribute names recognized by the receiver.",
          "name" : "validAttributesForMarkedText()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/validAttributesForMarkedText()"
        }
      ],
      "title" : "Handling marked text"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns an attributed string representing the receiver’s text storage.",
          "name" : "attributedString()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/attributedString()"
        },
        {
          "description" : "Returns an attributed string derived from the given range in the receiver’s text storage.",
          "name" : "attributedSubstring(forProposedRange:actualRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/attributedSubstring(forProposedRange:actualRange:)"
        },
        {
          "description" : "Inserts the given string into the receiver, replacing the specified content.",
          "name" : "insertText(_:replacementRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/insertText(_:replacementRange:)"
        }
      ],
      "title" : "Storing text"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns the index of the character whose bounding rectangle includes the given point.",
          "name" : "characterIndex(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/characterIndex(for:)"
        },
        {
          "description" : "Returns the first logical boundary rectangle for characters in the given range.",
          "name" : "firstRect(forCharacterRange:actualRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/firstRect(forCharacterRange:actualRange:)"
        },
        {
          "description" : "Returns the baseline position of a given character relative to the origin of rectangle returned by [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTextInputClient\/firstRect(forCharacterRange:actualRange:)].",
          "name" : "baselineDeltaForCharacter(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/baselineDeltaForCharacter(at:)"
        },
        {
          "description" : "Informs the text input management system whether the protocol-conforming client renders the character at the given index vertically.",
          "name" : "drawsVerticallyForCharacter(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/drawsVerticallyForCharacter(at:)"
        },
        {
          "description" : "Returns the fraction of the distance from the left side of the character to the right side that a given point lies.",
          "name" : "fractionOfDistanceThroughGlyph(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/fractionOfDistanceThroughGlyph(for:)"
        }
      ],
      "title" : "Getting character coordinates"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "documentVisibleRect",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/documentVisibleRect"
        },
        {
          "description" : "",
          "name" : "unionRectInVisibleSelectedRange",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/unionRectInVisibleSelectedRange"
        },
        {
          "description" : "",
          "name" : "preferredTextAccessoryPlacement()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/preferredTextAccessoryPlacement()"
        },
        {
          "description" : "Returns the window level of the receiver.",
          "name" : "windowLevel()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/windowLevel()"
        }
      ],
      "title" : "Placing content"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Invokes the action specified by the given selector.",
          "name" : "doCommand(by:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/doCommand(by:)"
        }
      ],
      "title" : "Binding keystrokes"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the document supports adaptive images in the input.",
          "name" : "supportsAdaptiveImageGlyph",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/supportsAdaptiveImageGlyph"
        },
        {
          "description" : "Inserts an adaptive image into the text at the specifed location.",
          "name" : "insert(_:replacementRange:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient\/insert(_:replacementRange:)"
        }
      ],
      "title" : "Supporting adaptive images"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Incorporate the system text cursor into your custom text UI in AppKit.",
          "name" : "Adopting the system text cursor in custom text views",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/adopting-the-system-text-cursor-in-custom-text-views"
        },
        {
          "description" : "An object that represents the Cocoa text input system.",
          "name" : "NSTextInputContext",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputContext"
        },
        {
          "description" : "A list of alternative strings for a piece of text.",
          "name" : "NSTextAlternatives",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextAlternatives"
        },
        {
          "description" : "A protocol that describes specific kinds of input content types.",
          "name" : "NSTextContent",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextContent"
        },
        {
          "description" : "A view that represents the insertion indicator in text.",
          "name" : "NSTextInsertionIndicator",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInsertionIndicator"
        },
        {
          "description" : "Constants that determine how to display the system text cursor in a custom text UI.",
          "name" : "NSTextInsertionIndicator.DisplayMode",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInsertionIndicator\/DisplayMode-swift.enum"
        },
        {
          "description" : "Options that affect the automatic display mode.",
          "name" : "NSTextInsertionIndicator.AutomaticModeOptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInsertionIndicator\/AutomaticModeOptions-swift.struct"
        }
      ],
      "title" : "Text input"
    }
  ],
  "source" : "appleJSON",
  "title" : "NSTextInputClient",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSTextInputClient"
}