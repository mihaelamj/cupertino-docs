{
  "abstract" : "Prepare for animations for the content that Writing Tools is evaluating.",
  "codeExamples" : [

  ],
  "contentHash" : "763d8feac8999978446b9c2d60d9a7c0c0a81485883ab0c6a06771e5d680a353",
  "crawledAt" : "2025-12-02T18:02:43Z",
  "declaration" : {
    "code" : "func writingToolsCoordinator(_ writingToolsCoordinator: NSWritingToolsCoordinator, prepareFor textAnimation: NSWritingToolsCoordinator.TextAnimation, for range: NSRange, in context: NSWritingToolsCoordinator.Context, completion: @escaping () -> Void)",
    "language" : "swift"
  },
  "id" : "30F06143-F113-4606-AEC2-256B44A13044",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nDuring an interactive evaluation of your view’s text, Writing Tools creates different animations to provide feedback on what’s happening. For example, it creates an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/TextAnimation\/anticipate] animation to let people know the system is evaluating the text. The `textAnimation` parameter tells you what type of animation to prepare for.\n\nUse this method to prepare for the system-provided animations of your view’s content. For interactive animations, hide the text in the specified range temporarily while the system animations run. For non-interactive animations, dim the text for the duration of the animation to indicate it’s not editable. For animations to remove or insert text, you can also use this method to set up animations to reflow your view’s content to match the changes. At the end of a given animation, use your delegate’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:finish:for:in:completion:)] method to undo any changes you make to your content.\n\nFor a single animation type, the system calls this method, followed sequentially by the `writingToolsCoordinator(_:previewFor:range:context:completion:)` and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:finish:for:in:completion:)] methods. Each method executes asynchronously, but the system calls the next method in the sequence only after you call the completion handler of the previous method. However, multiple animations can run simultaneously, so check the `textAnimation` and `range` parameters to differentiate sequences.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:prepareFor:for:in:completion:)\ncrawled: 2025-12-02T18:02:43Z\n---\n\n# writingToolsCoordinator(_:prepareFor:for:in:completion:)\n\n**Instance Method**\n\nPrepare for animations for the content that Writing Tools is evaluating.\n\n## Declaration\n\n```swift\nfunc writingToolsCoordinator(_ writingToolsCoordinator: NSWritingToolsCoordinator, prepareFor textAnimation: NSWritingToolsCoordinator.TextAnimation, for range: NSRange, in context: NSWritingToolsCoordinator.Context, completion: @escaping () -> Void)\n```\n\n```swift\nfunc writingToolsCoordinator(_ writingToolsCoordinator: NSWritingToolsCoordinator, prepareFor textAnimation: NSWritingToolsCoordinator.TextAnimation, for range: NSRange, in context: NSWritingToolsCoordinator.Context) async\n```\n\n## Parameters\n\n- **writingToolsCoordinator**: The coordinator object notifying you that animations are about to begin.\n- **textAnimation**: The type of animation Writing Tools is preparing.\n- **range**: The range of text affected by the animation. This range is relative to the text in your context object, and it’s your responsibility to match that location to the correct location in your text storage. If you initialized the context object with the entire contents of your view’s text storage, you can use `range` as-is to access that text storage. However, if you initialized the context object with only a portion of your view’s text, add the starting location of your context object’s text to this value to get the correct range for that text storage.\n- **context**: The context object that contains the original text. Use this object to fetch the current text, and to match that text to your underlying text storage.\n- **completion**: A completion handler to execute when you are done. The handler has no return value and takes no parameters. You must call this handler at some point during your implementation.\n\n## Discussion\n\nDuring an interactive evaluation of your view’s text, Writing Tools creates different animations to provide feedback on what’s happening. For example, it creates an [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/TextAnimation\/anticipate] animation to let people know the system is evaluating the text. The `textAnimation` parameter tells you what type of animation to prepare for.\n\nUse this method to prepare for the system-provided animations of your view’s content. For interactive animations, hide the text in the specified range temporarily while the system animations run. For non-interactive animations, dim the text for the duration of the animation to indicate it’s not editable. For animations to remove or insert text, you can also use this method to set up animations to reflow your view’s content to match the changes. At the end of a given animation, use your delegate’s [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:finish:for:in:completion:)] method to undo any changes you make to your content.\n\nFor a single animation type, the system calls this method, followed sequentially by the `writingToolsCoordinator(_:previewFor:range:context:completion:)` and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:finish:for:in:completion:)] methods. Each method executes asynchronously, but the system calls the next method in the sequence only after you call the completion handler of the previous method. However, multiple animations can run simultaneously, so check the `textAnimation` and `range` parameters to differentiate sequences.\n\n## Animating inline text changes\n\n- **writingToolsCoordinator(_:requestsPreviewFor:of:in:completion:)**: Asks the delegate for a preview image and layout information for the specified text.\n- **writingToolsCoordinator(_:requestsPreviewFor:in:completion:)**: Asks the delegate for a preview image and layout information for the specified text.\n- **writingToolsCoordinator(_:finish:for:in:completion:)**: Asks the delegate to clean up any state related to the specified Writing Tools animation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Asks the delegate for a preview image and layout information for the specified text.",
          "name" : "writingToolsCoordinator(_:requestsPreviewFor:of:in:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsPreviewFor:of:in:completion:)"
        },
        {
          "description" : "Asks the delegate for a preview image and layout information for the specified text.",
          "name" : "writingToolsCoordinator(_:requestsPreviewFor:in:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:requestsPreviewFor:in:completion:)"
        },
        {
          "description" : "Asks the delegate to clean up any state related to the specified Writing Tools animation.",
          "name" : "writingToolsCoordinator(_:finish:for:in:completion:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:finish:for:in:completion:)"
        }
      ],
      "title" : "Animating inline text changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "writingToolsCoordinator(_:prepareFor:for:in:completion:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSWritingToolsCoordinator\/Delegate-swift.protocol\/writingToolsCoordinator(_:prepareFor:for:in:completion:)"
}