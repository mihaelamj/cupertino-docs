{
  "abstract" : "Opens a document located by a URL, optionally presents its user interface, and calls the passed-in completion handler.",
  "codeExamples" : [

  ],
  "contentHash" : "0c6fc9fb040f22f29fcca0b2a9fe964831180ff77c24138be3125d2258e95874",
  "crawledAt" : "2025-11-30T22:12:33Z",
  "declaration" : {
    "code" : "@MainActor func openDocument(withContentsOf url: URL, display displayDocument: Bool, completionHandler: @escaping (NSDocument?, Bool, (any Error)?) -> Void)",
    "language" : "swift"
  },
  "id" : "9F2EF2A9-35AB-4C3F-80F5-BCE188964E0F",
  "kind" : "method",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThe default implementation of this method checks to see if the document is already open or being opened, and if it is not determines the type of the document, calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] to instantiate it, and calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/addDocument(_:)] to record its opening. If `displayDocument` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and the document is not already open, the default implementation calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/makeWindowControllers()] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/showWindows()]. If the document is already open, the implementation just calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/showWindows()] if `displayDocument` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. If the relevant document class returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] when sent [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canConcurrentlyReadDocuments(ofType:)] then the invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] is done on a thread other than the main one, and when that has returned, the rest of the operation is done on the main thread.\n\nThe default implementation of this method uses the file coordination mechanism that was added to the Foundation framework in OS X v10.7. All of the work it does is one big coordinated read, and it passes the document to the `NSFileCoordinator` method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileCoordinator\/addFilePresenter(_:)] right after calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/addDocument(_:)]. (The balancing invocation of the `NSFileCoordinator` method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileCoordinator\/removeFilePresenter(_:)] is in the `NSDocument` method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/close()].)\n\nYou can override this method to customize how documents are opened. Its implementation, however, is somewhat complex, so you should generally investigate overriding one of the methods that it calls instead. However, you can override this method to do additional work before calling the underlying method on `super`. You can also call the underlying method on `super` with a custom completion handler that performs additional work before calling the original completion handler. If you do override this method you should investigate whether you should also override [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/reopenDocument(for:withContentsOf:display:completionHandler:)] to apply the same customization. In either case, take care to always call the completion handler on the main thread.\n\nYou can call this method to open a document.\n\n### Special Considerations\n\nFor backward binary compatibility with OS X v10.6 and earlier, the default implementation of this method calls `[self openDocumentWithContentsOfURL:url display:displayDocument error:&anError]` if that method or the even older [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/openDocumentWithContentsOfFile:display:] method is overridden and this one is not, instead of calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] and all the rest.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/openDocument(withContentsOf:display:completionHandler:)\ncrawled: 2025-11-30T22:12:33Z\n---\n\n# openDocument(withContentsOf:display:completionHandler:)\n\n**Instance Method**\n\nOpens a document located by a URL, optionally presents its user interface, and calls the passed-in completion handler.\n\n## Declaration\n\n```swift\n@MainActor func openDocument(withContentsOf url: URL, display displayDocument: Bool, completionHandler: @escaping (NSDocument?, Bool, (any Error)?) -> Void)\n```\n\n```swift\n@MainActor func openDocument(withContentsOf url: URL, display displayDocument: Bool) async throws -> (NSDocument, Bool)\n```\n\n## Parameters\n\n- **url**: The URL locating the document to open.\n- **displayDocument**: If [doc:\/\/com.apple.documentation\/documentation\/Swift\/true], displays the documentâ€™s user interface.\n- **completionHandler**: The completion handler block object passed in to be called at some point in the future, perhaps after the method invocation has returned. The completion handler must be called on the main thread.\n\nThe block takes three arguments:\n\n\n\n## Discussion\n\nThe default implementation of this method checks to see if the document is already open or being opened, and if it is not determines the type of the document, calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] to instantiate it, and calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/addDocument(_:)] to record its opening. If `displayDocument` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] and the document is not already open, the default implementation calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/makeWindowControllers()] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/showWindows()]. If the document is already open, the implementation just calls [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/showWindows()] if `displayDocument` is [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. If the relevant document class returns [doc:\/\/com.apple.documentation\/documentation\/Swift\/true] when sent [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/canConcurrentlyReadDocuments(ofType:)] then the invocation of [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] is done on a thread other than the main one, and when that has returned, the rest of the operation is done on the main thread.\n\nThe default implementation of this method uses the file coordination mechanism that was added to the Foundation framework in OS X v10.7. All of the work it does is one big coordinated read, and it passes the document to the `NSFileCoordinator` method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileCoordinator\/addFilePresenter(_:)] right after calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/addDocument(_:)]. (The balancing invocation of the `NSFileCoordinator` method [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSFileCoordinator\/removeFilePresenter(_:)] is in the `NSDocument` method [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocument\/close()].)\n\nYou can override this method to customize how documents are opened. Its implementation, however, is somewhat complex, so you should generally investigate overriding one of the methods that it calls instead. However, you can override this method to do additional work before calling the underlying method on `super`. You can also call the underlying method on `super` with a custom completion handler that performs additional work before calling the original completion handler. If you do override this method you should investigate whether you should also override [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/reopenDocument(for:withContentsOf:display:completionHandler:)] to apply the same customization. In either case, take care to always call the completion handler on the main thread.\n\nYou can call this method to open a document.\n\n### Special Considerations\n\nFor backward binary compatibility with OS X v10.6 and earlier, the default implementation of this method calls `[self openDocumentWithContentsOfURL:url display:displayDocument error:&anError]` if that method or the even older [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/openDocumentWithContentsOfFile:display:] method is overridden and this one is not, instead of calling [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)] and all the rest.\n\n## Creating and Opening Documents\n\n- **document(for:)**: Returns, for a given URL, the open document whose file or file package is located by the URL, or `nil` if there is no such open document.\n- **duplicateDocument(withContentsOf:copying:displayName:)**: Creates a new document by reading the contents for the document from another URL, presents its user interface, and returns the document if successful.\n- **openUntitledDocumentAndDisplay(_:)**: Creates a new untitled document, presents its user interface if `displayDocument` is `true`, and returns the document if successful.\n- **makeDocument(for:withContentsOf:ofType:)**: Instantiates a document located by a URL, of a specified type, but by reading the contents for the document from another URL, and returns it if successful.\n- **makeDocument(withContentsOf:ofType:)**: Instantiates a document located by a URL, of a specified type, and returns it if successful.\n- **makeUntitledDocument(ofType:)**: Instantiates a new untitled document of the specified type and returns it if successful.\n- **reopenDocument(for:withContentsOf:display:completionHandler:)**: Reopens a document, optionally located by a URL, by reading the contents for the document from another URL, optionally presents its user interface, and calls the passed-in completion handler.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns, for a given URL, the open document whose file or file package is located by the URL, or `nil` if there is no such open document.",
          "name" : "document(for:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/document(for:)-i5zi"
        },
        {
          "description" : "Creates a new document by reading the contents for the document from another URL, presents its user interface, and returns the document if successful.",
          "name" : "duplicateDocument(withContentsOf:copying:displayName:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/duplicateDocument(withContentsOf:copying:displayName:)"
        },
        {
          "description" : "Creates a new untitled document, presents its user interface if `displayDocument` is `true`, and returns the document if successful.",
          "name" : "openUntitledDocumentAndDisplay(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/openUntitledDocumentAndDisplay(_:)"
        },
        {
          "description" : "Instantiates a document located by a URL, of a specified type, but by reading the contents for the document from another URL, and returns it if successful.",
          "name" : "makeDocument(for:withContentsOf:ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/makeDocument(for:withContentsOf:ofType:)"
        },
        {
          "description" : "Instantiates a document located by a URL, of a specified type, and returns it if successful.",
          "name" : "makeDocument(withContentsOf:ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/makeDocument(withContentsOf:ofType:)"
        },
        {
          "description" : "Instantiates a new untitled document of the specified type and returns it if successful.",
          "name" : "makeUntitledDocument(ofType:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/makeUntitledDocument(ofType:)"
        },
        {
          "description" : "Reopens a document, optionally located by a URL, by reading the contents for the document from another URL, optionally presents its user interface, and calls the passed-in completion handler.",
          "name" : "reopenDocument(for:withContentsOf:display:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/reopenDocument(for:withContentsOf:display:completionHandler:)"
        }
      ],
      "title" : "Creating and Opening Documents"
    }
  ],
  "source" : "appleJSON",
  "title" : "openDocument(withContentsOf:display:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocumentController\/openDocument(withContentsOf:display:completionHandler:)"
}