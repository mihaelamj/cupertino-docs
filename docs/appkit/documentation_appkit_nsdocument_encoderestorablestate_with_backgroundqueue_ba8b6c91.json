{
  "abstract" : "Saves the interface-related state of the document.",
  "codeExamples" : [

  ],
  "contentHash" : "61b7e238cefe3069eef19564ba906313def5ce37fd9bc3f4c0077c6cbb9b0b5d",
  "crawledAt" : "2025-12-02T18:25:32Z",
  "declaration" : {
    "code" : "@MainActor func encodeRestorableState(with coder: NSCoder, backgroundQueue queue: OperationQueue)",
    "language" : "swift"
  },
  "id" : "C8339773-46F3-40D0-B50F-8E42145B5EE6",
  "kind" : "method",
  "language" : "swift",
  "module" : "AppKit",
  "overview" : "## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save the visual state of your responder to the specified archive. The default implementation of this method does nothing but specific subclasses (such as [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow]) override it to save important state information. Therefore, if you override this method, always call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the responder to its current state. For example, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTabView] class uses this method to save information about the currently selected tab. You must store enough data to reconfigure the responder and return it to its current state during a subsequent launch of the application.\n\nAppKit calls this method on your app’s main thread. If you want to encode any state information asynchronously on a background thread, submit one or more operation objects to the provided `queue`. Performing long-running operations asynchronously lets you free up the main thread for other operations more quickly. The encoding operation is not considered final until all operations submitted to `queue` finish.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/encodeRestorableState(with:backgroundQueue:)\ncrawled: 2025-12-02T18:25:32Z\n---\n\n# encodeRestorableState(with:backgroundQueue:)\n\n**Instance Method**\n\nSaves the interface-related state of the document.\n\n## Declaration\n\n```swift\n@MainActor func encodeRestorableState(with coder: NSCoder, backgroundQueue queue: OperationQueue)\n```\n\n## Parameters\n\n- **coder**: The coder object in which to save the responder’s interface-related state.\n- **queue**: A serial background operation queue on which to encode additional state asynchronously.\n\n## Discussion\n\nThis method is part of the window restoration system and is called at appropriate times to save the visual state of your responder to the specified archive. The default implementation of this method does nothing but specific subclasses (such as [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSView] and [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSWindow]) override it to save important state information. Therefore, if you override this method, always call `super` at some point in your implementation.\n\nSubclasses can override this method and use it to restore any information that would be needed to restore the responder to its current state. For example, the [doc:\/\/com.apple.appkit\/documentation\/AppKit\/NSTabView] class uses this method to save information about the currently selected tab. You must store enough data to reconfigure the responder and return it to its current state during a subsequent launch of the application.\n\nAppKit calls this method on your app’s main thread. If you want to encode any state information asynchronously on a background thread, submit one or more operation objects to the provided `queue`. Performing long-running operations asynchronously lets you free up the main thread for other operations more quickly. The encoding operation is not considered final until all operations submitted to `queue` finish.\n\nFor information about using a coder object to write data to an archive, see [https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/Archiving\/Archiving.html#\/\/apple_ref\/doc\/uid\/10000047i].\n\n## Managing Document Windows\n\n- **showWindows()**: Displays all of the document’s windows, bringing them to the front and making them main or key as necessary.\n- **setWindow(_:)**: Sets the window outlet of this document to the specified value.\n- **windowForSheet**: Returns the document window to use as the parent of a document-modal sheet.\n- **displayName**: The name of the document as displayed in the title bars of the document’s windows and in alert dialogs related to the document.\n- **defaultDraftName()**: Returns the default draft name for the document subclass.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Displays all of the document’s windows, bringing them to the front and making them main or key as necessary.",
          "name" : "showWindows()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/showWindows()"
        },
        {
          "description" : "Sets the window outlet of this document to the specified value.",
          "name" : "setWindow(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/setWindow(_:)"
        },
        {
          "description" : "Returns the document window to use as the parent of a document-modal sheet.",
          "name" : "windowForSheet",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/windowForSheet"
        },
        {
          "description" : "The name of the document as displayed in the title bars of the document’s windows and in alert dialogs related to the document.",
          "name" : "displayName",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/displayName"
        },
        {
          "description" : "Returns the default draft name for the document subclass.",
          "name" : "defaultDraftName()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/defaultDraftName()"
        }
      ],
      "title" : "Managing Document Windows"
    }
  ],
  "source" : "appleJSON",
  "title" : "encodeRestorableState(with:backgroundQueue:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AppKit\/NSDocument\/encodeRestorableState(with:backgroundQueue:)"
}