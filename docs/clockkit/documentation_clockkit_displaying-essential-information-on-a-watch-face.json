{
  "abstract" : "Implement complications in a watch app to display essential information on a watch face.",
  "codeExamples" : [
    {
      "code" : "func getSupportedTimeTravelDirections(for complication: CLKComplication,\n                                      withHandler handler: @escaping (CLKComplicationTimeTravelDirections) -> Void) {\n    handler([.forward])\n}",
      "language" : "swift"
    },
    {
      "code" : "func getTimelineEndDate(for complication: CLKComplication,\n                        withHandler handler: @escaping (Date?) -> Void) {\n    let delegate: ExtensionDelegate! = WKExtension.shared().delegate as? ExtensionDelegate\n    let endDateTime = delegate.timeline.endDateTime(after: Date())\n    handler(endDateTime)\n}",
      "language" : "swift"
    },
    {
      "code" : "func getTimelineEntries(for complication: CLKComplication, after date: Date, limit: Int,\n                        withHandler handler: @escaping ([CLKComplicationTimelineEntry]?) -> Void) {\n    let entries = nextDayEntries(for: complication, after: date, limit: limit)\n    handler(entries)\n}",
      "language" : "swift"
    },
    {
      "code" : "let template = CLKComplicationTemplateGraphicCornerStackText()\ntemplate.outerTextProvider = CLKSimpleTextProvider(text: event.name)\ntemplate.innerTextProvider = CLKRelativeDateTextProvider(date: event.startDateTime(onDate: Date()),\n                                                         style: .natural,\n                                                         units: [.hour, .minute, .second])\ntemplate.innerTextProvider.tintColor = .orange",
      "language" : "swift"
    },
    {
      "code" : "let tintedImageProvider = CLKImageProvider(onePieceImage: tintForground,\n                                           twoPieceImageBackground: tintBackground,\n                                           twoPieceImageForeground: tintForground)\nlet fullColorImageProvider = CLKFullColorImageProvider(fullColorImage: fullColorImage,\n                                                       tintedImageProvider: tintedImageProvider)",
      "language" : "swift"
    },
    {
      "code" : "let part1 = CLKSimpleTextProvider(text: \"HAS \")\npart1.tintColor = .blue\nlet part2 = CLKRelativeDateTextProvider(date: endDateTime, style: .naturalAbbreviated, units: [.minute])\npart2.tintColor = .orange\nlet part3 = CLKSimpleTextProvider(text: \" TO GO\")\npart3.tintColor = .green\ntemplate.body1TextProvider = CLKTextProvider(format: \"%@%@%@\", part1, part2, part3)",
      "language" : "swift"
    }
  ],
  "contentHash" : "44f9659b80c1d5fb3e8348130172537fc751021868644a691ea99b556d75fcdb",
  "crawledAt" : "2025-12-02T15:54:53Z",
  "id" : "8554FF50-A73B-49E2-B88B-8416D421C67D",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "ClockKit",
  "overview" : "## Overview\n\nThis sample code project shows how to present time-based information on the Infograph or Infograph Modular watch face using Graphic Corner, Graphic Circular, Graphic Bezel, and Graphic Rectangular complication families.\n\nComplications are small elements that display essential information (like weather, calendar, and activity tracking) right on the watch face. Each complication needs a data source, or a timeline, that describes what content to present and when. In this sample, the timeline contains 24 events named E00, E01, ……, E23, each of which lasts one hour and occurs every day. Each complication presents the progress and other essential information of the currently occurring event in its own visual form.\n\nA complication family can have multiple variants, and so this sample app provides a list for users to select and play with different variants. You can run the app on a watch that supports graphic complications, tap a family and pick a variant, then tap the Apply button to save the configuration and refresh the complications.\n\n### Configure the sample code project\n\nTo configure the sample code project, do the following in Xcode:\n\nTo show a complication on the watch:\n\nSee [https:\/\/support.apple.com\/guide\/watch\/customize-the-watch-face-apda6559ad78\/watchos] in the Apple Watch User Guide to learn how to configure the watch face.\n\n### Provide timeline entries for the complications\n\nTo keep the complications up to date, this sample implements the following [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationDataSource] methods to provide the supported timeline travel direction, the timeline end date, and the future timeline entries for all complications:\n\nAfter getting the timeline entries from the app, the system caches them and progresses through them automatically. After progressing through a reasonable amount data, the system wakes up the watch app and calls `getTimelineEntries(for:after:limit:withHandler:)` again for more entries.\n\n### Create complication templates\n\nEach timeline entry an app provides to the system has to contain a complication template, which is an instance of a [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplate] subclass describing the content and visual form of the complication. This sample provides a template for each variant of the graphic complication families. A real-world app may just support the variant that best fits the content it presents.\n\nCreating a complication template involves creating a template object and setting up its properties. The following code creates a [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplateGraphicCornerStackText] for a graphic corner complication:\n\nThe system supports multicolor text and full-color images, which can make a complication really vivid. Be aware that Infograph and Infograph Modular watch faces have multicolor and tinted modes that users can select when customizing the faces, and that the system automatically desaturates images on a tinted watch face by default. To avoid showing a desaturated image, this sample uses [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKFullColorImageProvider] to provide both full-color and tinted versions.\n\nMulticolor text providers display a single color in the tinted mode. This sample uses the following code to create a piece of text for the `body1TextProvider` property of the [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplateGraphicRectangularStandardBody] template, which highlights the relative date text in orange in the multicolor mode, and displays the white color in the tinted mode.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ClockKit\/displaying-essential-information-on-a-watch-face\ncrawled: 2025-12-02T15:54:53Z\n---\n\n# Displaying essential information on a watch face\n\n**Sample Code**\n\nImplement complications in a watch app to display essential information on a watch face.\n\n## Overview\n\nThis sample code project shows how to present time-based information on the Infograph or Infograph Modular watch face using Graphic Corner, Graphic Circular, Graphic Bezel, and Graphic Rectangular complication families.\n\nComplications are small elements that display essential information (like weather, calendar, and activity tracking) right on the watch face. Each complication needs a data source, or a timeline, that describes what content to present and when. In this sample, the timeline contains 24 events named E00, E01, ……, E23, each of which lasts one hour and occurs every day. Each complication presents the progress and other essential information of the currently occurring event in its own visual form.\n\nA complication family can have multiple variants, and so this sample app provides a list for users to select and play with different variants. You can run the app on a watch that supports graphic complications, tap a family and pick a variant, then tap the Apply button to save the configuration and refresh the complications.\n\n### Configure the sample code project\n\nTo configure the sample code project, do the following in Xcode:\n\n1. Select the `Complications` target, then change the bundle ID to `<Your iOS app bundle ID>`.  Select the appropriate team to let Xcode automatically manage your provisioning profile. See [doc:\/\/com.apple.documentation\/documentation\/Xcode\/preparing-your-app-for-distribution#Assign-the-project-to-a-team] for more details.\n2. Repeat step 1 for the WatchKit app and WatchKit Extension target. The bundle IDs should be `<Your iOS app bundle ID>.watchkitapp` and `<Your iOS app bundle ID>.watchkitapp.watchkitextension` respectively.\n3. Open the `Info.plist` file of the `WatchKit Extension` target, navigate to `NSExtension > NSExtensionAttributes > WKAppBundleIdentifier` key, and change the value of the key to `<Your iOS app bundle ID>.watchkitapp`.\n4. Select the `Complications WatchKit App` target and the device in Xcode’s schema field, then build and run the target on your device.\n\nTo show a complication on the watch:\n\n1. Select the Infograph or Infograph Modular watch face on the watch.\n2. Firmly press the watch face to show the customization screen, then tap the Customize button.\n3. Swipe left to show the complication configuration screen, then tap a complication.\n4. Rotate the Digital Crown to choose the Complications app.\n5. Press the Digital Crown and tap the screen to go back to the watch face.\n\nSee [https:\/\/support.apple.com\/guide\/watch\/customize-the-watch-face-apda6559ad78\/watchos] in the Apple Watch User Guide to learn how to configure the watch face.\n\n### Provide timeline entries for the complications\n\nTo keep the complications up to date, this sample implements the following [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationDataSource] methods to provide the supported timeline travel direction, the timeline end date, and the future timeline entries for all complications:\n\n- [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationDataSource\/getSupportedTimeTravelDirections(for:withHandler:)] The sample implements this method and passes `.forward` to the handler to tell the system this app can provide future data entries for all its complications.\n\n```swift\nfunc getSupportedTimeTravelDirections(for complication: CLKComplication,\n                                      withHandler handler: @escaping (CLKComplicationTimeTravelDirections) -> Void) {\n    handler([.forward])\n}\n```\n\n- [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationDataSource\/getTimelineEndDate(for:withHandler:)] The sample implements this method to provide the end date of the prepared timeline. The system doesn’t attempt to retrieve the future timeline entries if this method doesn’t have an implementation.\n\n```swift\nfunc getTimelineEndDate(for complication: CLKComplication,\n                        withHandler handler: @escaping (Date?) -> Void) {\n    let delegate: ExtensionDelegate! = WKExtension.shared().delegate as? ExtensionDelegate\n    let endDateTime = delegate.timeline.endDateTime(after: Date())\n    handler(endDateTime)\n}\n```\n\n- [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationDataSource\/getTimelineEntries(for:after:limit:withHandler:)] The sample implements this method to provide the future timeline entries. Each time the system calls this method, the sample provides the entries for the next day after the specified date time.\n\n```swift\nfunc getTimelineEntries(for complication: CLKComplication, after date: Date, limit: Int,\n                        withHandler handler: @escaping ([CLKComplicationTimelineEntry]?) -> Void) {\n    let entries = nextDayEntries(for: complication, after: date, limit: limit)\n    handler(entries)\n}\n```\n\nAfter getting the timeline entries from the app, the system caches them and progresses through them automatically. After progressing through a reasonable amount data, the system wakes up the watch app and calls `getTimelineEntries(for:after:limit:withHandler:)` again for more entries.\n\n### Create complication templates\n\nEach timeline entry an app provides to the system has to contain a complication template, which is an instance of a [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplate] subclass describing the content and visual form of the complication. This sample provides a template for each variant of the graphic complication families. A real-world app may just support the variant that best fits the content it presents.\n\nCreating a complication template involves creating a template object and setting up its properties. The following code creates a [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplateGraphicCornerStackText] for a graphic corner complication:\n\n```swift\nlet template = CLKComplicationTemplateGraphicCornerStackText()\ntemplate.outerTextProvider = CLKSimpleTextProvider(text: event.name)\ntemplate.innerTextProvider = CLKRelativeDateTextProvider(date: event.startDateTime(onDate: Date()),\n                                                         style: .natural,\n                                                         units: [.hour, .minute, .second])\ntemplate.innerTextProvider.tintColor = .orange\n```\n\nThe system supports multicolor text and full-color images, which can make a complication really vivid. Be aware that Infograph and Infograph Modular watch faces have multicolor and tinted modes that users can select when customizing the faces, and that the system automatically desaturates images on a tinted watch face by default. To avoid showing a desaturated image, this sample uses [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKFullColorImageProvider] to provide both full-color and tinted versions.\n\n```swift\nlet tintedImageProvider = CLKImageProvider(onePieceImage: tintForground,\n                                           twoPieceImageBackground: tintBackground,\n                                           twoPieceImageForeground: tintForground)\nlet fullColorImageProvider = CLKFullColorImageProvider(fullColorImage: fullColorImage,\n                                                       tintedImageProvider: tintedImageProvider)\n```\n\nMulticolor text providers display a single color in the tinted mode. This sample uses the following code to create a piece of text for the `body1TextProvider` property of the [doc:\/\/com.apple.clockkit\/documentation\/ClockKit\/CLKComplicationTemplateGraphicRectangularStandardBody] template, which highlights the relative date text in orange in the multicolor mode, and displays the white color in the tinted mode.\n\n```swift\nlet part1 = CLKSimpleTextProvider(text: \"HAS \")\npart1.tintColor = .blue\nlet part2 = CLKRelativeDateTextProvider(date: endDateTime, style: .naturalAbbreviated, units: [.minute])\npart2.tintColor = .orange\nlet part3 = CLKSimpleTextProvider(text: \" TO GO\")\npart3.tintColor = .green\ntemplate.body1TextProvider = CLKTextProvider(format: \"%@%@%@\", part1, part2, part3)\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "Displaying essential information on a watch face",
  "url" : "https:\/\/developer.apple.com\/documentation\/ClockKit\/displaying-essential-information-on-a-watch-face"
}