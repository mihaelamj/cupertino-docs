{
  "abstract" : "Link to the most recent autoupdating version of MapKit JS, or a version of your choice.",
  "codeExamples" : [
    {
      "code" : "import { load } from \"@apple\/mapkit-loader\";\n\nconst mapkit = await load({\n  token: \"Your MapKit JS token\",\n  language: \"en-US\",\n  libraries: [\"services\", \"full-map\", \"geojson\"],\n});",
      "language" : "javascript"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.0\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.1\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.1.0\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>",
      "language" : "html"
    },
    {
      "code" : "<script\n  src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n  crossorigin defer\n><\/script>",
      "language" : "javascript"
    },
    {
      "code" : "\/\/ This promise resolves when the browser finishes downloading and evaluating MapKit JS.\nconst mapKitJsLoadedPromise = new Promise(resolve => {\n    const element = document.createElement(\"script\");\n    element.addEventListener(\"load\", resolve, { once : true });\n    element.src = \"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n    element.crossOrigin = \"anonymous\";\n    document.head.appendChild(element);\n});",
      "language" : "javascript"
    },
    {
      "code" : "script-src 'nonce-{nonce-value}' 'wasm-unsafe-eval';\nstyle-src 'nonce-{nonce-value}';\nimg-src https:\/\/*.apple-mapkit.com blob:;\nconnect-src https:\/\/*.apple-mapkit.com blob:;\nworker-src https:\/\/*.apple-mapkit.com blob:;\nframe-src https:\/\/*.apple-mapkit.com;",
      "language" : "other"
    },
    {
      "code" : "<script\n  src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n  crossorigin async\n  data-callback=\"initMapKit\"\n  data-libraries=\"services,full-map,geojson\"\n  data-token=\"Your MapKit JS token\"\n  nonce=\"{nonce-value}\"\n><\/script>",
      "language" : "html"
    },
    {
      "code" : "\/\/ This promise resolves when MapKit JS downloads and evaluates.\nconst mapKitJsLoadedPromise = new Promise(resolve => {\n    const element = document.createElement(\"script\");\n    element.addEventListener(\"load\", resolve, { once : true });\n    element.nonce = \"{nonce-value}\";\n    element.src = \"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n    element.crossOrigin = \"anonymous\";\n    document.head.appendChild(element);\n});",
      "language" : "javascript"
    }
  ],
  "contentHash" : "fc41b97ee491f39c1b6064ad4830c90b84a3aba50f7a28ac7fecd2c9284a9ba3",
  "crawledAt" : "2025-12-07T14:59:37Z",
  "id" : "7D448D2C-577E-41B3-952D-6A70D0F1DB84",
  "kind" : "article",
  "language" : "data",
  "module" : "MapKit JS",
  "overview" : "## Overview\n\nWhen you include a map element on your webpage, your webpage loads a version of MapKit JS. Load the most recent version of MapKit JS available whenever possible.\n\nLoad MapKit JS directly using a `<script>` tag, or by using the `@apple\/mapkit-loader` package; save payload size and bandwidth by specifying only the libraries that you need. Increase the security of your website by implementing a Content Security Policy.\n\n## Load with the MapKit JS Loader\n\nThe `@apple\/mapkit-loader` package is a convenient way to load MapKit JS: it provides a single API that you can use to load MapKit JS directly from your JavaScript or TypeScript source code, without having access to HTML.\n\nIn the example below, the `mapkit` namespace object is available as soon as the `load()` function resolves:\n\nSee [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/creating-a-maps-token] to obtain a Maps token and insert that into the `token` property. To load more efficiently, instruct MapKit JS to load only the specific libraries that you need by setting the `libraries` array.\n\nYour application code needs to call the `load()` function as early as possible, but only when it needs MapKit JS. The [https:\/\/github.com\/apple\/mapkit-loader] contains additional examples about integrating with different Web Frameworks and server-side rendering.\n\nThe package automatically resolves type definitions for the interfaces that you load.\n\n## Select MapKit JS libraries\n\nPick only the interfaces you need to optimize your app load time. MapKit JS divides its interfaces into libraries that you can specify when loading the framework:\n\nYou can set the libraries to load statically by defining them in the `libraries` options array on the MapKit JS Loader `load()` function, within a script tag in the `data-libraries` attribute.\n\nYou may load additional libraries using the `mapkit.load()` method after MapKit JS initialization. The `mapkit.init()` method also offers a `libraries` property in [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/MapKitInitializationOptions].\n\n## Load with a script tag\n\nLoad MapKit JS through autoupdate URLs (which are backward-compatible with previous MapKit JS versions), as in the example below:\n\nSee [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/creating-a-maps-token] to obtain a Maps token and insert the token into the `data-token` attribute. To load MapKit JS more efficiently, specify that MapKit JS only loads the specific libraries that you need by setting the `data-libraries` attribute.\n\nOnce the callback triggers, `mapkit` is available as a global object. Install `@types\/apple-mapkit` separately to access its type definitions.\n\n### Select script element attributes\n\nThe `script` tag you use to load MapKit JS supports several attribute elements that allow you to customize the loading of the framework to support only the features you need.\n\nIn this example, MapKit JS self-initializes and self-loads the specified libraries, and then triggers the callback when loading of the libraries is complete. You can choose the MapKit JS interfaces and features by changing the libraries to load.\n\nThe script tag value is the URL that points to `mapkit.core.js`, the principal JavaScript file for MapKit JS, for all versions of the src attribute of this script tag. The `script` tag, and all the examples here, include two additional attributes recommended for use with MapKit JS:\n\nThe data attributes you can set on the `script` element are:\n\n## Choose specific releases using semantic versioning\n\nMapKit JS follows semantic versioning with each release. As a result, you have full control over when to upgrade to a new version of MapKit JS. Each version follows the standard semantic versioning pattern `MAJOR.MINOR.PATCH,` which conveys the following information:\n\nA backward-compatible new release that contains only bug fixes increases the patch version; a backward-compatible new release that contains new features or functionality increases the minor version. A new release that changes the API, so it’s no longer backward-compatible, increases the major version.\n\nIn this example, the script tag pins the major version at `5`, and the server automatically selects the latest `minor.patch` version. It’s also possible to request more specific versions by specifying the patch version, as the following example shows:\n\nHere, the script tag pins the `major.minor` version at `5.0`, and the server automatically selects the latest patch version.\n\nAutoupdate URLs have a cache time of 5 minutes.\n\n## Use explicitly versioned URLs\n\nIf your code depends upon a specific MapKit JS version, each version of MapKit JS has a unique URL. Linking to a specific version ensures that your app always gets that exact version of MapKit JS.\n\nMapKit JS Loader provides a `version` options property for setting the desired version.\n\nBelow are few examples of version URLs, loading MapKit JS with a `<script>` tag:\n\nBrowsers cache version URLs for a longer time. Use versioned URLs if you want to be in full control of when MapKit JS updates and get the benefits of browser caching.\n\n## Load the full bundle of MapKit JS\n\nA full browser bundle is also available, but it isn’t recommended in production for performance reasons. With the full bundle, the full MapKit JS interfaces are available as soon as the script tag loads.\n\nThis example uses the `defer` attribute in place of `async`. With this attribute, the browser evaluates the script only after the browser fully downloads and parses the HTML. This prevents `mapkit.js` from blocking the page load, but the `mapkit` instance isn’t available to the embedded `<script>` blocks in HTML until loading and evaluation is complete.\n\nAlternatively, if you need to load MapKit JS on-demand, create an `HTMLScriptElement`, insert it into the document and use a Javascript Promise, as the following example shows:\n\nThe loading of individual libraries isn’t applicable to the full bundle.\n\nMapKit JS Loader doesn’t support loading the full bundle.\n\n## Implement a Content Security Policy\n\nTo mitigate possible security attacks such as data injection or Cross-Site Scripting (XSS), consider implementing Content Security Policy (CSP) in your app. MapKit JS supports a `nonce`-based CSP.\n\nWhen implementing a CSP in MapKit JS:\n\nThe following example shows possible CSP directives:\n\nMapKit JS Loader provides a `nonce` options property for the value.\n\nThe following example demonstrates a script tag with a `nonce` value:\n\nThe following sample is a JavaScript example for loading MapKit JS dynamically:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/mapkitjs\/loading-the-latest-version-of-mapkit-js\ncrawled: 2025-12-07T14:59:37Z\n---\n\n# Loading the latest version of MapKit JS\n\n**Article**\n\nLink to the most recent autoupdating version of MapKit JS, or a version of your choice.\n\n## Overview\n\nWhen you include a map element on your webpage, your webpage loads a version of MapKit JS. Load the most recent version of MapKit JS available whenever possible.\n\nLoad MapKit JS directly using a `<script>` tag, or by using the `@apple\/mapkit-loader` package; save payload size and bandwidth by specifying only the libraries that you need. Increase the security of your website by implementing a Content Security Policy.\n\n## Load with the MapKit JS Loader\n\nThe `@apple\/mapkit-loader` package is a convenient way to load MapKit JS: it provides a single API that you can use to load MapKit JS directly from your JavaScript or TypeScript source code, without having access to HTML.\n\nIn the example below, the `mapkit` namespace object is available as soon as the `load()` function resolves:\n\n```javascript\nimport { load } from \"@apple\/mapkit-loader\";\n\nconst mapkit = await load({\n  token: \"Your MapKit JS token\",\n  language: \"en-US\",\n  libraries: [\"services\", \"full-map\", \"geojson\"],\n});\n```\n\nSee [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/creating-a-maps-token] to obtain a Maps token and insert that into the `token` property. To load more efficiently, instruct MapKit JS to load only the specific libraries that you need by setting the `libraries` array.\n\nYour application code needs to call the `load()` function as early as possible, but only when it needs MapKit JS. The [https:\/\/github.com\/apple\/mapkit-loader] contains additional examples about integrating with different Web Frameworks and server-side rendering.\n\nThe package automatically resolves type definitions for the interfaces that you load.\n\n## Select MapKit JS libraries\n\nPick only the interfaces you need to optimize your app load time. MapKit JS divides its interfaces into libraries that you can specify when loading the framework:\n\n\n\nYou can set the libraries to load statically by defining them in the `libraries` options array on the MapKit JS Loader `load()` function, within a script tag in the `data-libraries` attribute.\n\nYou may load additional libraries using the `mapkit.load()` method after MapKit JS initialization. The `mapkit.init()` method also offers a `libraries` property in [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/MapKitInitializationOptions].\n\n## Load with a script tag\n\nLoad MapKit JS through autoupdate URLs (which are backward-compatible with previous MapKit JS versions), as in the example below:\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\nSee [doc:\/\/com.apple.mapkitjs\/documentation\/MapKitJS\/creating-a-maps-token] to obtain a Maps token and insert the token into the `data-token` attribute. To load MapKit JS more efficiently, specify that MapKit JS only loads the specific libraries that you need by setting the `data-libraries` attribute.\n\nOnce the callback triggers, `mapkit` is available as a global object. Install `@types\/apple-mapkit` separately to access its type definitions.\n\n### Select script element attributes\n\nThe `script` tag you use to load MapKit JS supports several attribute elements that allow you to customize the loading of the framework to support only the features you need.\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\nIn this example, MapKit JS self-initializes and self-loads the specified libraries, and then triggers the callback when loading of the libraries is complete. You can choose the MapKit JS interfaces and features by changing the libraries to load.\n\nThe script tag value is the URL that points to `mapkit.core.js`, the principal JavaScript file for MapKit JS, for all versions of the src attribute of this script tag. The `script` tag, and all the examples here, include two additional attributes recommended for use with MapKit JS:\n\n\n\nThe data attributes you can set on the `script` element are:\n\n\n\n## Choose specific releases using semantic versioning\n\nMapKit JS follows semantic versioning with each release. As a result, you have full control over when to upgrade to a new version of MapKit JS. Each version follows the standard semantic versioning pattern `MAJOR.MINOR.PATCH,` which conveys the following information:\n\n\n\nA backward-compatible new release that contains only bug fixes increases the patch version; a backward-compatible new release that contains new features or functionality increases the minor version. A new release that changes the API, so it’s no longer backward-compatible, increases the major version.\n\nIn this example, the script tag pins the major version at `5`, and the server automatically selects the latest `minor.patch` version. It’s also possible to request more specific versions by specifying the patch version, as the following example shows:\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.x\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\nHere, the script tag pins the `major.minor` version at `5.0`, and the server automatically selects the latest patch version.\n\nAutoupdate URLs have a cache time of 5 minutes.\n\n## Use explicitly versioned URLs\n\nIf your code depends upon a specific MapKit JS version, each version of MapKit JS has a unique URL. Linking to a specific version ensures that your app always gets that exact version of MapKit JS.\n\nMapKit JS Loader provides a `version` options property for setting the desired version.\n\nBelow are few examples of version URLs, loading MapKit JS with a `<script>` tag:\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.0\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.0.1\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\n```html\n<script src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.1.0\/mapkit.core.js\"\n    crossorigin async\n    data-callback=\"initMapKit\"\n    data-libraries=\"services,full-map,geojson\"\n    data-token=\"Your MapKit JS token\"><\/script>\n```\n\nBrowsers cache version URLs for a longer time. Use versioned URLs if you want to be in full control of when MapKit JS updates and get the benefits of browser caching.\n\n## Load the full bundle of MapKit JS\n\n\n\nA full browser bundle is also available, but it isn’t recommended in production for performance reasons. With the full bundle, the full MapKit JS interfaces are available as soon as the script tag loads.\n\n```javascript\n<script\n  src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n  crossorigin defer\n><\/script>\n```\n\nThis example uses the `defer` attribute in place of `async`. With this attribute, the browser evaluates the script only after the browser fully downloads and parses the HTML. This prevents `mapkit.js` from blocking the page load, but the `mapkit` instance isn’t available to the embedded `<script>` blocks in HTML until loading and evaluation is complete.\n\nAlternatively, if you need to load MapKit JS on-demand, create an `HTMLScriptElement`, insert it into the document and use a Javascript Promise, as the following example shows:\n\n```javascript\n\/\/ This promise resolves when the browser finishes downloading and evaluating MapKit JS.\nconst mapKitJsLoadedPromise = new Promise(resolve => {\n    const element = document.createElement(\"script\");\n    element.addEventListener(\"load\", resolve, { once : true });\n    element.src = \"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n    element.crossOrigin = \"anonymous\";\n    document.head.appendChild(element);\n});\n```\n\nThe loading of individual libraries isn’t applicable to the full bundle.\n\nMapKit JS Loader doesn’t support loading the full bundle.\n\n## Implement a Content Security Policy\n\nTo mitigate possible security attacks such as data injection or Cross-Site Scripting (XSS), consider implementing Content Security Policy (CSP) in your app. MapKit JS supports a `nonce`-based CSP.\n\nWhen implementing a CSP in MapKit JS:\n\n- The website must set the `nonce` attribute on the script element when loading Mapkit JS.\n- MapKit JS needs to load workers and blob URLs, and connect to and load images from the MapKit CDN.\n- Complete rendering of the map and Look Around requires Web Assembly.\n\nThe following example shows possible CSP directives:\n\n```other\nscript-src 'nonce-{nonce-value}' 'wasm-unsafe-eval';\nstyle-src 'nonce-{nonce-value}';\nimg-src https:\/\/*.apple-mapkit.com blob:;\nconnect-src https:\/\/*.apple-mapkit.com blob:;\nworker-src https:\/\/*.apple-mapkit.com blob:;\nframe-src https:\/\/*.apple-mapkit.com;\n```\n\nMapKit JS Loader provides a `nonce` options property for the value.\n\nThe following example demonstrates a script tag with a `nonce` value:\n\n```html\n<script\n  src=\"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.core.js\"\n  crossorigin async\n  data-callback=\"initMapKit\"\n  data-libraries=\"services,full-map,geojson\"\n  data-token=\"Your MapKit JS token\"\n  nonce=\"{nonce-value}\"\n><\/script>\n```\n\nThe following sample is a JavaScript example for loading MapKit JS dynamically:\n\n```javascript\n\/\/ This promise resolves when MapKit JS downloads and evaluates.\nconst mapKitJsLoadedPromise = new Promise(resolve => {\n    const element = document.createElement(\"script\");\n    element.addEventListener(\"load\", resolve, { once : true });\n    element.nonce = \"{nonce-value}\";\n    element.src = \"https:\/\/cdn.apple-mapkit.com\/mk\/5.x.x\/mapkit.js\"\n    element.crossOrigin = \"anonymous\";\n    document.head.appendChild(element);\n});\n```\n\n## Essentials\n\n- **Displaying place information using the Maps Embed API**: Show place information on a map using a URL.\n- **Creating a Maps token**: Generate your token to access MapKit services with proper authorization.\n- **mapkit**: The JavaScript API for embedding Apple Maps on your website.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Show place information on a map using a URL.",
          "name" : "Displaying place information using the Maps Embed API",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKitJS\/displaying-place-information-using-the-maps-embed-api"
        },
        {
          "description" : "Generate your token to access MapKit services with proper authorization.",
          "name" : "Creating a Maps token",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKitJS\/creating-a-maps-token"
        },
        {
          "description" : "The JavaScript API for embedding Apple Maps on your website.",
          "name" : "mapkit",
          "url" : "https:\/\/developer.apple.com\/documentation\/MapKitJS\/mapkit"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Loading the latest version of MapKit JS",
  "url" : "https:\/\/developer.apple.com\/documentation\/mapkitjs\/loading-the-latest-version-of-mapkit-js"
}