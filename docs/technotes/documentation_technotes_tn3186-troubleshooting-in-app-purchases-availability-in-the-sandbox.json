{
  "abstract" : "Identify common configurations that make your In-App Purchases unavailable in the sandbox environment.",
  "codeExamples" : [

  ],
  "contentHash" : "e0c6edfdf1927021faebddc427ff086af7b9a6199c85b4e46c74897772e51bca",
  "crawledAt" : "2025-12-05T09:00:40Z",
  "id" : "B62F36CF-741E-4566-B572-0208D3183235",
  "kind" : "article",
  "language" : "swift",
  "overview" : "## Overview\n\nWhen testing your In-App Purchases in the Apple sandbox environment, your app may not display its products. After [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-submissions-to-app-review\/submit-for-review#submit-an-in-app-purchase] to App Review, they might also be missing or unresponsive during review. The sandbox environment is a test environment for testing the In-App Purchase implementation in your app with real product data from App Store Connect. TestFlight also uses the sandbox for In-App Purchases. StoreKit queries App Store Connect for this data when your app calls StoreKit APIs in the sandbox. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-in-app-purchases-with-sandbox].\n\nTo offer In-App Purchases in your app, call [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product\/products(for:)] with a list of [https:\/\/developer.apple.com\/help\/app-store-connect\/reference\/in-app-purchase-information] (`Product ID`) matching these products in the sandbox. `Product.products(for:)` returns an array that includes an instance of [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product] for each of the In-App Purchases. Update your app’s UI with these returned instances, which contain all In-App Purchase information configured in App Store Connect for your app.\n\nIf `Product.products(for:)` fails to return a `Product` instance for your products in the sandbox, validate your product identifier list and confirm you [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/set-a-price-for-an-in-app-purchase#set-a-price-for-an-in-app-purchase] and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/view-and-edit-in-app-purchase-information#add-and-remove-localizations] for each of the In-App Purchases.\n\nAfter you complete the above checks, retry the product request. If the In-App Purchases are still missing, it may be due to the following reasons:\n\n## Validate your product identifier list\n\nTo verify your product identifier list, perform these steps:\n\n## Identify the test environment\n\nApple provides test environments in Xcode and the Apple sandbox to help you verify your implementation of In-App Purchases. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox].\n\nIf your Xcode project contains a [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Create-a-StoreKit-configuration-file], ensure you are testing your In-App Purchases in the environment you wish to use. [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Disable-StoreKit-Testing-in-Xcode] in your Xcode project to test in the sandbox. [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Enable-StoreKit-Testing-in-Xcode] to test in Xcode local test environment.\n\n## Use a bundle ID registered in App Store Connect and enabled for In-App Purchase\n\nTesting your In-App Purchases in the sandbox requires that your app uses a [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/CFBundleIdentifier] registered in App Store Connect and enabled for In-App Purchase in [https:\/\/developer.apple.com\/account\/resources]. A bundle ID uniquely identifies your app throughout the system, for example, a bundle ID like `com.example` uniquely identifies an app using the bundle ID `com.example.myapp` and you are guaranteed that no other apps are using that same bundle ID. You register a bundle ID for your app when you [https:\/\/developer.apple.com\/help\/app-store-connect\/create-an-app-record\/add-a-new-app] for the app. App Store Connect displays the registered bundle ID under the App Information section of your app. In your Xcode project, the bundle ID appears in the [doc:\/\/com.apple.documentation\/documentation\/Xcode\/preparing-your-app-for-distribution#Set-the-bundle-ID] of your app’s target. Confirm the bundle ID in your Xcode project matches the bundle ID you have registered for your app.\n\nAfter you confirm your Xcode project uses a registered bundle ID, verify you have enabled the In-App Purchase [https:\/\/developer.apple.com\/documentation\/xcode\/adding-capabilities-to-your-app] for the bundle ID. In the Identifiers section of [https:\/\/developer.apple.com\/account\/resources], select your bundle ID, scroll down to In-App Purchase under Capabilities, then confirm you have selected the capability.\n\n## Sign your app with a valid certificate and provisioning profile\n\nTo use In-App Purchases in your app, you must sign your app with a provisioning profile that grants the app access to the In-App Purchase capability. For more information, see [https:\/\/developer.apple.com\/documentation\/xcode\/adding-capabilities-to-your-app]. A provisioning profile contains App ID and capabilities information. Inspect your provisioning profile, confirm the value of App ID matches your registered [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/CFBundleIdentifier] and capabilities includes In-App Purchase. To view the content of your provisioning profile, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/diagnosing-issues-with-entitlements#Check-Your-Provisioning-Profile] in [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/diagnosing-issues-with-entitlements].\n\nUse [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/dev80cc24546] to allow Xcode to manage code signing for you. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/distributing-your-app-to-registered-devices#Configure-code-signing].\n\n## Review your Apple Developer Program membership\n\nTo build apps with advanced capabilities such as In-App Purchase, you must have an active developer account. For more information, see [https:\/\/developer.apple.com\/support\/compare-memberships]. The following table lists reasons why your account might be inactive:\n\n## Ensure you have a Paid Apps Agreement in effect\n\nTo offer In-App Purchases in your app, you must have a [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/sign-and-update-agreements] in effect in App Store Connect. The agreement is in effect if App Store Connect shows an `Active` status in its Agreements section. For more information about the statuses, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/view-agreements-status]. The following table lists reasons why your Paid Apps Agreement might not be in effect:\n\n## Complete all banking and tax information\n\nAfter you accept the [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/sign-and-update-agreements], your [https:\/\/developer.apple.com\/help\/account\/access\/roles] needs to submit all required banking and tax information. The banking and tax information are complete if App Store Connect shows an `Active` status in its Bank Accounts and Tax Forms sections, respectively. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-banking-information\/enter-banking-information], [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-tax-information\/provide-tax-information], and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/view-agreements-status].\n\nAfter you renew the developer membership, check if your Account Holder needs to accept the Paid Apps Agreement and update the financial information again.\n\n## Retry your product request later\n\nWhen you edit In-App Purchase information in App Store Connect, it can take up to 1 hour for your changes to appear in the sandbox environment. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/view-and-edit-in-app-purchase-information].\n\n## Revision History",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Technotes\/tn3186-troubleshooting-in-app-purchases-availability-in-the-sandbox\ncrawled: 2025-12-05T09:00:40Z\n---\n\n# TN3186: Troubleshooting In-App Purchases availability in the sandbox\n\n**Article**\n\nIdentify common configurations that make your In-App Purchases unavailable in the sandbox environment.\n\n## Overview\n\nWhen testing your In-App Purchases in the Apple sandbox environment, your app may not display its products. After [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-submissions-to-app-review\/submit-for-review#submit-an-in-app-purchase] to App Review, they might also be missing or unresponsive during review. The sandbox environment is a test environment for testing the In-App Purchase implementation in your app with real product data from App Store Connect. TestFlight also uses the sandbox for In-App Purchases. StoreKit queries App Store Connect for this data when your app calls StoreKit APIs in the sandbox. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-in-app-purchases-with-sandbox].\n\n\n\nTo offer In-App Purchases in your app, call [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product\/products(for:)] with a list of [https:\/\/developer.apple.com\/help\/app-store-connect\/reference\/in-app-purchase-information] (`Product ID`) matching these products in the sandbox. `Product.products(for:)` returns an array that includes an instance of [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/Product] for each of the In-App Purchases. Update your app’s UI with these returned instances, which contain all In-App Purchase information configured in App Store Connect for your app.\n\nIf `Product.products(for:)` fails to return a `Product` instance for your products in the sandbox, validate your product identifier list and confirm you [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/set-a-price-for-an-in-app-purchase#set-a-price-for-an-in-app-purchase] and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/view-and-edit-in-app-purchase-information#add-and-remove-localizations] for each of the In-App Purchases.\n\nAfter you complete the above checks, retry the product request. If the In-App Purchases are still missing, it may be due to the following reasons:\n\n- Your [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/CFBundleIdentifier] doesn’t match the bundle ID of an app in App Store Connect.\n- Your bundle ID is disabled for the In-App Purchase capability in [https:\/\/developer.apple.com\/account\/resources].\n- You are using a [https:\/\/developer.apple.com\/help\/account\/identifiers\/register-an-app-id] for your app.\n- You signed your app with an invalid [https:\/\/developer.apple.com\/help\/account\/certificates\/certificates-overview] or [https:\/\/developer.apple.com\/help\/account\/provisioning-profiles\/edit-download-or-delete-profiles].\n- You have an inactive [https:\/\/developer.apple.com\/support\/compare-memberships].\n- You don’t have a [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/sign-and-update-agreements] in effect in App Store Connect.\n- You have incomplete or outdated [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-banking-information\/enter-banking-information] or [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-tax-information\/provide-tax-information] information in App Store Connect.\n\n\n\n## Validate your product identifier list\n\nTo verify your product identifier list, perform these steps:\n\n1. In your Xcode project, locate your app’s [doc:\/\/com.apple.documentation\/documentation\/Xcode\/preparing-your-app-for-distribution#Set-the-bundle-ID].\n2. In App Store Connect, find the app that matches your app’s bundle ID.\n3. Verify each product identifier in your list matches the product identifier (`Product ID`) of an In-App Purchase created for the app in App Store Connect.\n\n## Identify the test environment\n\nApple provides test environments in Xcode and the Apple sandbox to help you verify your implementation of In-App Purchases. For more information, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/testing-at-all-stages-of-development-with-xcode-and-the-sandbox].\n\nIf your Xcode project contains a [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Create-a-StoreKit-configuration-file], ensure you are testing your In-App Purchases in the environment you wish to use. [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Disable-StoreKit-Testing-in-Xcode] in your Xcode project to test in the sandbox. [doc:\/\/com.apple.documentation\/documentation\/Xcode\/setting-up-storekit-testing-in-xcode#Enable-StoreKit-Testing-in-Xcode] to test in Xcode local test environment.\n\n## Use a bundle ID registered in App Store Connect and enabled for In-App Purchase\n\nTesting your In-App Purchases in the sandbox requires that your app uses a [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/CFBundleIdentifier] registered in App Store Connect and enabled for In-App Purchase in [https:\/\/developer.apple.com\/account\/resources]. A bundle ID uniquely identifies your app throughout the system, for example, a bundle ID like `com.example` uniquely identifies an app using the bundle ID `com.example.myapp` and you are guaranteed that no other apps are using that same bundle ID. You register a bundle ID for your app when you [https:\/\/developer.apple.com\/help\/app-store-connect\/create-an-app-record\/add-a-new-app] for the app. App Store Connect displays the registered bundle ID under the App Information section of your app. In your Xcode project, the bundle ID appears in the [doc:\/\/com.apple.documentation\/documentation\/Xcode\/preparing-your-app-for-distribution#Set-the-bundle-ID] of your app’s target. Confirm the bundle ID in your Xcode project matches the bundle ID you have registered for your app.\n\nAfter you confirm your Xcode project uses a registered bundle ID, verify you have enabled the In-App Purchase [https:\/\/developer.apple.com\/documentation\/xcode\/adding-capabilities-to-your-app] for the bundle ID. In the Identifiers section of [https:\/\/developer.apple.com\/account\/resources], select your bundle ID, scroll down to In-App Purchase under Capabilities, then confirm you have selected the capability.\n\n\n\n## Sign your app with a valid certificate and provisioning profile\n\nTo use In-App Purchases in your app, you must sign your app with a provisioning profile that grants the app access to the In-App Purchase capability. For more information, see [https:\/\/developer.apple.com\/documentation\/xcode\/adding-capabilities-to-your-app]. A provisioning profile contains App ID and capabilities information. Inspect your provisioning profile, confirm the value of App ID matches your registered [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/CFBundleIdentifier] and capabilities includes In-App Purchase. To view the content of your provisioning profile, see [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/diagnosing-issues-with-entitlements#Check-Your-Provisioning-Profile] in [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/diagnosing-issues-with-entitlements].\n\n\n\nUse [https:\/\/help.apple.com\/xcode\/mac\/current\/#\/dev80cc24546] to allow Xcode to manage code signing for you. For more information, see [doc:\/\/com.apple.documentation\/documentation\/Xcode\/distributing-your-app-to-registered-devices#Configure-code-signing].\n\n## Review your Apple Developer Program membership\n\nTo build apps with advanced capabilities such as In-App Purchase, you must have an active developer account. For more information, see [https:\/\/developer.apple.com\/support\/compare-memberships]. The following table lists reasons why your account might be inactive:\n\n\n\n## Ensure you have a Paid Apps Agreement in effect\n\nTo offer In-App Purchases in your app, you must have a [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/sign-and-update-agreements] in effect in App Store Connect. The agreement is in effect if App Store Connect shows an `Active` status in its Agreements section. For more information about the statuses, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/view-agreements-status]. The following table lists reasons why your Paid Apps Agreement might not be in effect:\n\n\n\n## Complete all banking and tax information\n\nAfter you accept the [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/sign-and-update-agreements], your [https:\/\/developer.apple.com\/help\/account\/access\/roles] needs to submit all required banking and tax information. The banking and tax information are complete if App Store Connect shows an `Active` status in its Bank Accounts and Tax Forms sections, respectively. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-banking-information\/enter-banking-information], [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-tax-information\/provide-tax-information], and [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-agreements\/view-agreements-status].\n\nAfter you renew the developer membership, check if your Account Holder needs to accept the Paid Apps Agreement and update the financial information again.\n\n## Retry your product request later\n\nWhen you edit In-App Purchase information in App Store Connect, it can take up to 1 hour for your changes to appear in the sandbox environment. For more information, see [https:\/\/developer.apple.com\/help\/app-store-connect\/manage-in-app-purchases\/view-and-edit-in-app-purchase-information].\n\n## Revision History\n\n- **2025-04-29** First published.\n\n## Latest\n\n- **TN3190: USB audio device design considerations**: Learn the best techniques for designing devices that conform to the USB Audio Device Class specifications.\n- **TN3194: Handling account deletions and revoking tokens for Sign in with Apple**: Learn the best techniques for managing Sign in with Apple user sessions and responding to account deletion requests.\n- **TN3193: Managing the on-device foundation model’s context window**: Learn how to budget for the context window limit of Apple’s on-device foundation model and handle the error when reaching the limit.\n- **TN3115: Bluetooth State Restoration app relaunch rules**: Learn about the conditions under which an iOS app will be relaunched by Bluetooth State Restoration.\n- **TN3192: Migrating your iPad app from the deprecated UIRequiresFullScreen key**: Support iPad multitasking and dynamic resizing while updating your app to remove the deprecated full-screen compatibility mode.\n- **TN3151: Choosing the right networking API**: Learn which networking API is best for you.\n- **TN3111: iOS Wi-Fi API overview**: Explore the various Wi-Fi APIs available on iOS and their expected use cases.\n- **TN3191: IMAP extensions supported by Mail for iOS, iPadOS, and visionOS**: Learn which extensions to the RFC 3501 IMAP protocol are supported by Mail for iOS, iPadOS, and visionOS.\n- **TN3134: Network Extension provider deployment**: Explore the platforms, packaging, OS versions, and device configurations for Network Extension provider deployment.\n- **TN3179: Understanding local network privacy**: Learn how local network privacy affects your software.\n- **TN3189: Managing Mail background traffic load**: Identify iOS Mail background traffic and manage its impact on your IMAP server.\n- **TN3187: Migrating to the UIKit scene-based life cycle**: Update your app to receive scene-based life-cycle events and manage your user interface using scene objects and methods.\n- **TN3188: Troubleshooting In-App Purchases availability in the App Store**: Verify your In-App Purchases are approved and available for sale in the App Store.\n- **TN3185: Troubleshooting In-App Purchases availability in Xcode**: Inspect your active StoreKit configuration file for unexpected configurations.\n- **TN3182: Adding privacy tracking keys to your privacy manifest**: Declare the tracking domains you use in your app or third-party SDK in a privacy manifest.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Learn the best techniques for designing devices that conform to the USB Audio Device Class specifications.",
          "name" : "TN3190: USB audio device design considerations",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3190-USB-audio-device-design-considerations"
        },
        {
          "description" : "Learn the best techniques for managing Sign in with Apple user sessions and responding to account deletion requests.",
          "name" : "TN3194: Handling account deletions and revoking tokens for Sign in with Apple",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3194-handling-account-deletions-and-revoking-tokens-for-sign-in-with-apple"
        },
        {
          "description" : "Learn how to budget for the context window limit of Apple’s on-device foundation model and handle the error when reaching the limit.",
          "name" : "TN3193: Managing the on-device foundation model’s context window",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3193-managing-the-on-device-foundation-model-s-context-window"
        },
        {
          "description" : "Learn about the conditions under which an iOS app will be relaunched by Bluetooth State Restoration.",
          "name" : "TN3115: Bluetooth State Restoration app relaunch rules",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3115-bluetooth-state-restoration-app-relaunch-rules"
        },
        {
          "description" : "Support iPad multitasking and dynamic resizing while updating your app to remove the deprecated full-screen compatibility mode.",
          "name" : "TN3192: Migrating your iPad app from the deprecated UIRequiresFullScreen key",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3192-Migrating-your-app-from-the-deprecated-UIRequiresFullScreen-key"
        },
        {
          "description" : "Learn which networking API is best for you.",
          "name" : "TN3151: Choosing the right networking API",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3151-choosing-the-right-networking-api"
        },
        {
          "description" : "Explore the various Wi-Fi APIs available on iOS and their expected use cases.",
          "name" : "TN3111: iOS Wi-Fi API overview",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3111-ios-wifi-api-overview"
        },
        {
          "description" : "Learn which extensions to the RFC 3501 IMAP protocol are supported by Mail for iOS, iPadOS, and visionOS.",
          "name" : "TN3191: IMAP extensions supported by Mail for iOS, iPadOS, and visionOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3191-imap-extensions-supported-by-mail"
        },
        {
          "description" : "Explore the platforms, packaging, OS versions, and device configurations for Network Extension provider deployment.",
          "name" : "TN3134: Network Extension provider deployment",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3134-network-extension-provider-deployment"
        },
        {
          "description" : "Learn how local network privacy affects your software.",
          "name" : "TN3179: Understanding local network privacy",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3179-understanding-local-network-privacy"
        },
        {
          "description" : "Identify iOS Mail background traffic and manage its impact on your IMAP server.",
          "name" : "TN3189: Managing Mail background traffic load",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3189-managing-mail-background-traffic-load"
        },
        {
          "description" : "Update your app to receive scene-based life-cycle events and manage your user interface using scene objects and methods.",
          "name" : "TN3187: Migrating to the UIKit scene-based life cycle",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3187-Migrating-to-the-UIKit-scene-based-life-cycle"
        },
        {
          "description" : "Verify your In-App Purchases are approved and available for sale in the App Store.",
          "name" : "TN3188: Troubleshooting In-App Purchases availability in the App Store",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3188-troubleshooting-in-app-purchases-availability-in-the-app-store"
        },
        {
          "description" : "Inspect your active StoreKit configuration file for unexpected configurations.",
          "name" : "TN3185: Troubleshooting In-App Purchases availability in Xcode",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3185-troubleshooting-in-app-purchases-availability-in-xcode"
        },
        {
          "description" : "Declare the tracking domains you use in your app or third-party SDK in a privacy manifest.",
          "name" : "TN3182: Adding privacy tracking keys to your privacy manifest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3182-adding-privacy-tracking-keys-to-your-privacy-manifest"
        }
      ],
      "title" : "Latest"
    }
  ],
  "source" : "appleJSON",
  "title" : "TN3186: Troubleshooting In-App Purchases availability in the sandbox",
  "url" : "https:\/\/developer.apple.com\/documentation\/Technotes\/tn3186-troubleshooting-in-app-purchases-availability-in-the-sandbox"
}