{
  "abstract" : "An object that performs actions on messages as the system downloads them.",
  "codeExamples" : [
    {
      "code" : "<key>NSExtensionAttributes<\/key>\n<dict>\n    <key>MEExtensionCapabilities<\/key>\n    <array>\n        <string>MEMessageActionHandler<\/string>\n    <\/array>\n<\/dict>",
      "language" : "plist"
    }
  ],
  "contentHash" : "141f03664756800f24a3dad81ebdfeb1dfc5ada780743f63959364478f51961d",
  "crawledAt" : "2025-12-04T09:13:44Z",
  "declaration" : {
    "code" : "protocol MEMessageActionHandler : NSObjectProtocol",
    "language" : "swift"
  },
  "id" : "C9D71282-0EB4-4D80-9D69-92C918EE61EB",
  "kind" : "protocol",
  "language" : "swift",
  "module" : "MailKit",
  "overview" : "## Overview\n\nAs MailKit downloads messages, it invokes the [doc:\/\/com.apple.mailkit\/documentation\/MailKit\/MEMessageActionHandler\/decideAction(for:completionHandler:)] method on your handler. You indicate the action to take for each message, such as marking it as read or unread, flagging it, or archiving it.\n\nTo indicate that your extension contains a message action handler, add `MEMessageActionHandler` to the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSExtension\/NSExtensionAttributes\/MEExtensionCapabilities] array in the extension’s `Info.plist` file:",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/mailkit\/memessageactionhandler\ncrawled: 2025-12-04T09:13:44Z\n---\n\n# MEMessageActionHandler\n\n**Protocol**\n\nAn object that performs actions on messages as the system downloads them.\n\n## Declaration\n\n```swift\nprotocol MEMessageActionHandler : NSObjectProtocol\n```\n\n## Overview\n\nAs MailKit downloads messages, it invokes the [doc:\/\/com.apple.mailkit\/documentation\/MailKit\/MEMessageActionHandler\/decideAction(for:completionHandler:)] method on your handler. You indicate the action to take for each message, such as marking it as read or unread, flagging it, or archiving it.\n\nTo indicate that your extension contains a message action handler, add `MEMessageActionHandler` to the [doc:\/\/com.apple.documentation\/documentation\/BundleResources\/Information-Property-List\/NSExtension\/NSExtensionAttributes\/MEExtensionCapabilities] array in the extension’s `Info.plist` file:\n\n```plist\n<key>NSExtensionAttributes<\/key>\n<dict>\n    <key>MEExtensionCapabilities<\/key>\n    <array>\n        <string>MEMessageActionHandler<\/string>\n    <\/array>\n<\/dict>\n```\n\n## Performing Actions on Messages\n\n- **decideAction(for:completionHandler:)**: Determines the action that the system takes when it downloads a message.\n- **MEMessageAction**: An action the system performs on a message, such as setting a color or archiving it.\n- **MEMessageActionDecision**: The action that the system performs on a message, or a request to ask the action handler again later when the message content is available.\n- **MEMessageAction.MessageColor**: A color that the system uses to display a message in the message list.\n\n## Instance Properties\n\n- **requiredHeaders**\n\n## Inherits From\n\n- NSObjectProtocol\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Determines the action that the system takes when it downloads a message.",
          "name" : "decideAction(for:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEMessageActionHandler\/decideAction(for:completionHandler:)"
        },
        {
          "description" : "An action the system performs on a message, such as setting a color or archiving it.",
          "name" : "MEMessageAction",
          "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEMessageAction"
        },
        {
          "description" : "The action that the system performs on a message, or a request to ask the action handler again later when the message content is available.",
          "name" : "MEMessageActionDecision",
          "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEMessageActionDecision"
        },
        {
          "description" : "A color that the system uses to display a message in the message list.",
          "name" : "MEMessageAction.MessageColor",
          "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEMessageAction\/MessageColor"
        }
      ],
      "title" : "Performing Actions on Messages"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "requiredHeaders",
          "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEMessageActionHandler\/requiredHeaders"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObjectProtocol"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "MEMessageActionHandler",
  "url" : "https:\/\/developer.apple.com\/documentation\/mailkit\/memessageactionhandler"
}