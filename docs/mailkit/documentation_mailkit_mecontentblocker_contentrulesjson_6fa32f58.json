{
  "abstract" : "The rules, as JSON data, that the system applies when it displays a message.",
  "codeExamples" : [
    {
      "code" : "func contentRulesJSON() -> Data {\n    \/\/ A single rule that visually hides all links to example.com.\n    let rules = [\n        [\n            \"action\": [\n                \"type\": \"css-display-none\",\n                \"selector\": \"a[href*='example.com']\"\n            ],\n            \"trigger\": [ \"url-filter\": \".*\" ]\n        ]\n    ]\n    \n    \/\/ Serialize the array of rules to JSON.\n    let data = try? JSONSerialization.data(withJSONObject: rules, options: [])\n    \n    \/\/ Return the encoded rules, or an empty data if encoding failed.\n    return data ?? Data()\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "650339a1da5b4529815b44ec2dc58ba0059e20ba5ab3bc66c8c8b036b49d8919",
  "crawledAt" : "2025-12-04T07:41:41Z",
  "declaration" : {
    "code" : "func contentRulesJSON() -> Data",
    "language" : "swift"
  },
  "id" : "512C3CBD-56AC-4D2C-8A47-589CF7686CC0",
  "kind" : "method",
  "language" : "swift",
  "module" : "MailKit",
  "overview" : "## Return Value\n\nA data object that contains valid JSON content.\n\n## Discussion\n\nMailKit relies on WebKit to block content. Therefore, the JSON structure is the same that a content blocker extension for Safari uses. For details about the structure of the JSON to specify the content-blocking rules, see [https:\/\/webkit.org\/blog\/3476\/content-blockers-first-look\/].\n\nThe following code shows an example of a content blocker that uses a rule to hide all links from a specific domain:",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MailKit\/MEContentBlocker\/contentRulesJSON()\ncrawled: 2025-12-04T07:41:41Z\n---\n\n# contentRulesJSON()\n\n**Instance Method**\n\nThe rules, as JSON data, that the system applies when it displays a message.\n\n## Declaration\n\n```swift\nfunc contentRulesJSON() -> Data\n```\n\n## Return Value\n\nA data object that contains valid JSON content.\n\n## Discussion\n\nMailKit relies on WebKit to block content. Therefore, the JSON structure is the same that a content blocker extension for Safari uses. For details about the structure of the JSON to specify the content-blocking rules, see [https:\/\/webkit.org\/blog\/3476\/content-blockers-first-look\/].\n\nThe following code shows an example of a content blocker that uses a rule to hide all links from a specific domain:\n\n```swift\nfunc contentRulesJSON() -> Data {\n    \/\/ A single rule that visually hides all links to example.com.\n    let rules = [\n        [\n            \"action\": [\n                \"type\": \"css-display-none\",\n                \"selector\": \"a[href*='example.com']\"\n            ],\n            \"trigger\": [ \"url-filter\": \".*\" ]\n        ]\n    ]\n    \n    \/\/ Serialize the array of rules to JSON.\n    let data = try? JSONSerialization.data(withJSONObject: rules, options: [])\n    \n    \/\/ Return the encoded rules, or an empty data if encoding failed.\n    return data ?? Data()\n}\n```\n\n",
  "sections" : [

  ],
  "source" : "appleJSON",
  "title" : "contentRulesJSON()",
  "url" : "https:\/\/developer.apple.com\/documentation\/MailKit\/MEContentBlocker\/contentRulesJSON()"
}