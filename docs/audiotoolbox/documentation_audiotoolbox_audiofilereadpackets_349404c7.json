{
  "abstract" : "Reads a fixed duration of audio data from an audio file.",
  "codeExamples" : [

  ],
  "contentHash" : "1fd4dfee2e84c8adba29ae6dc52fbe5f2a449ea30516fb4e906c583cb134c08c",
  "crawledAt" : "2025-12-06T06:17:55Z",
  "declaration" : {
    "code" : "func AudioFileReadPackets(_ inAudioFile: AudioFileID, _ inUseCache: Bool, _ outNumBytes: UnsafeMutablePointer<UInt32>, _ outPacketDescriptions: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ inStartingPacket: Int64, _ ioNumPackets: UnsafeMutablePointer<UInt32>, _ outBuffer: UnsafeMutableRawPointer?) -> OSStatus",
    "language" : "swift"
  },
  "id" : "171EAD6D-9691-4A0A-9586-49BE76134F07",
  "kind" : "function",
  "language" : "swift",
  "module" : "Audio Toolbox",
  "overview" : "## Return Value\n\nA result code. See Result Codes.\n\n## Discussion\n\nIf you do not need to read a fixed duration of audio data, but rather want to use your memory buffer most efficiently, use [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] instead of this function.\n\nWhen reading variable bit-rate (VBR) audio data, using this function requires that you allocate more memory than you would for the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] function. See the descriptions for the `outBuffer` parameter in each of these two functions.\n\nIn addition, this function is less efficient than [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] when reading compressed file formats that do not have packet tables, such as MP3 or ADTS. Use this function only when you need to read a fixed duration of audio data, or when you are reading only uncompressed audio.\n\nAudio File Services reads one 32-bit chunk of a file at a time.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)\ncrawled: 2025-12-06T06:17:55Z\n---\n\n# AudioFileReadPackets(_:_:_:_:_:_:_:)\n\n**Function**\n\nReads a fixed duration of audio data from an audio file.\n\n## Declaration\n\n```swift\nfunc AudioFileReadPackets(_ inAudioFile: AudioFileID, _ inUseCache: Bool, _ outNumBytes: UnsafeMutablePointer<UInt32>, _ outPacketDescriptions: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ inStartingPacket: Int64, _ ioNumPackets: UnsafeMutablePointer<UInt32>, _ outBuffer: UnsafeMutableRawPointer?) -> OSStatus\n```\n\n## Parameters\n\n- **inAudioFile**: The audio file whose audio packets you want to read.\n- **inUseCache**: Set to `true` to cache the data. Otherwise, set to `false`.\n- **outNumBytes**: On output, the number of bytes actually read.\n- **outPacketDescriptions**: On output, an array of packet descriptions for the packets that were read. The array that you pass must be large enough to accommodate descriptions for the number of packets requested in the `ioNumPackets` parameter.\n\nThis parameter applies only to variable bit-rate data. If the file being read contains constant bit-rate (CBR) data, such as linear PCM, this parameter does not get filled. Pass `NULL` if the file’s data format is CBR.\n- **inStartingPacket**: The packet index of the first packet you want to read.\n- **ioNumPackets**: On input, the number of packets to read. On output, the number of packets actually read.\n\nYou will see a difference in the input and output values when this function has reached the end of the file you are reading. In this case, the output value for this parameter is smaller than its input value.\n- **outBuffer**: Memory that you allocate to hold the read packets. Determine an appropriate size by multiplying the number of packets requested (in the `ioNumPackets` parameter) by the maximum (or upper bound for) packet size of the audio file. For uncompressed audio formats, a packet is equal to a frame.\n\n## Return Value\n\nA result code. See Result Codes.\n\n## Discussion\n\nIf you do not need to read a fixed duration of audio data, but rather want to use your memory buffer most efficiently, use [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] instead of this function.\n\nWhen reading variable bit-rate (VBR) audio data, using this function requires that you allocate more memory than you would for the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] function. See the descriptions for the `outBuffer` parameter in each of these two functions.\n\nIn addition, this function is less efficient than [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)] when reading compressed file formats that do not have packet tables, such as MP3 or ADTS. Use this function only when you need to read a fixed duration of audio data, or when you are reading only uncompressed audio.\n\nAudio File Services reads one 32-bit chunk of a file at a time.\n\n## Related Documentation\n\n- **AudioFileWritePackets(_:_:_:_:_:_:_:)**: Writes packets of audio data to an audio data file.\n\n## Functions\n\n- **AudioComponentGetIcon(_:_:)**: The UIImage of the audio component’s icon.\n- **AudioComponentGetLastActiveTime(_:)**: The time at which the application publishing the component was last active.\n- **AudioHardwareServiceAddPropertyListener(_:_:_:_:)**: Registers a HAL audio object property listener callback function to be invoked when a specified property changes.\n- **AudioHardwareServiceGetPropertyData(_:_:_:_:_:_:)**: Gets the value for a specified property.\n- **AudioHardwareServiceGetPropertyDataSize(_:_:_:_:_:)**: Gets the payload size for a given property.\n- **AudioHardwareServiceHasProperty(_:_:)**: Queries a HAL audio object about whether or not it has a specified property.\n- **AudioHardwareServiceIsPropertySettable(_:_:_:)**: Queries a HAL audio object about whether a specified property is settable.\n- **AudioHardwareServiceRemovePropertyListener(_:_:_:_:)**: Unregisters a HAL audio object property listener callback function.\n- **AudioHardwareServiceSetPropertyData(_:_:_:_:_:_:)**: Asks a HAL audio object to change the value of a specified property.\n- **AudioOutputUnitGetHostIcon(_:_:)**: The host app’s icon.\n- **AudioOutputUnitPublish(_:_:_:_:)**: Registers an audio output unit for use by other applications.\n- **AudioSessionAddPropertyListener(_:_:_:)**: Adds a property listener callback function to your application’s audio session object.\n- **AudioSessionGetProperty(_:_:_:)**: Gets the value of a specified audio session property.\n- **AudioSessionGetPropertySize(_:_:)**: Gets the size of the value for a specified audio session property.\n- **AudioSessionInitialize(_:_:_:_:)**: Initializes an iOS application’s audio session object.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Writes packets of audio data to an audio data file.",
          "name" : "AudioFileWritePackets(_:_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileWritePackets(_:_:_:_:_:_:_:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The UIImage of the audio component’s icon.",
          "name" : "AudioComponentGetIcon(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioComponentGetIcon(_:_:)"
        },
        {
          "description" : "The time at which the application publishing the component was last active.",
          "name" : "AudioComponentGetLastActiveTime(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioComponentGetLastActiveTime(_:)"
        },
        {
          "description" : "Registers a HAL audio object property listener callback function to be invoked when a specified property changes.",
          "name" : "AudioHardwareServiceAddPropertyListener(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceAddPropertyListener(_:_:_:_:)"
        },
        {
          "description" : "Gets the value for a specified property.",
          "name" : "AudioHardwareServiceGetPropertyData(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceGetPropertyData(_:_:_:_:_:_:)"
        },
        {
          "description" : "Gets the payload size for a given property.",
          "name" : "AudioHardwareServiceGetPropertyDataSize(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceGetPropertyDataSize(_:_:_:_:_:)"
        },
        {
          "description" : "Queries a HAL audio object about whether or not it has a specified property.",
          "name" : "AudioHardwareServiceHasProperty(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceHasProperty(_:_:)"
        },
        {
          "description" : "Queries a HAL audio object about whether a specified property is settable.",
          "name" : "AudioHardwareServiceIsPropertySettable(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceIsPropertySettable(_:_:_:)"
        },
        {
          "description" : "Unregisters a HAL audio object property listener callback function.",
          "name" : "AudioHardwareServiceRemovePropertyListener(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceRemovePropertyListener(_:_:_:_:)"
        },
        {
          "description" : "Asks a HAL audio object to change the value of a specified property.",
          "name" : "AudioHardwareServiceSetPropertyData(_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioHardwareServiceSetPropertyData(_:_:_:_:_:_:)"
        },
        {
          "description" : "The host app’s icon.",
          "name" : "AudioOutputUnitGetHostIcon(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioOutputUnitGetHostIcon(_:_:)"
        },
        {
          "description" : "Registers an audio output unit for use by other applications.",
          "name" : "AudioOutputUnitPublish(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioOutputUnitPublish(_:_:_:_:)"
        },
        {
          "description" : "Adds a property listener callback function to your application’s audio session object.",
          "name" : "AudioSessionAddPropertyListener(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioSessionAddPropertyListener(_:_:_:)"
        },
        {
          "description" : "Gets the value of a specified audio session property.",
          "name" : "AudioSessionGetProperty(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioSessionGetProperty(_:_:_:)"
        },
        {
          "description" : "Gets the size of the value for a specified audio session property.",
          "name" : "AudioSessionGetPropertySize(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioSessionGetPropertySize(_:_:)"
        },
        {
          "description" : "Initializes an iOS application’s audio session object.",
          "name" : "AudioSessionInitialize(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioSessionInitialize(_:_:_:_:)"
        }
      ],
      "title" : "Functions"
    }
  ],
  "source" : "appleJSON",
  "title" : "AudioFileReadPackets(_:_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)"
}