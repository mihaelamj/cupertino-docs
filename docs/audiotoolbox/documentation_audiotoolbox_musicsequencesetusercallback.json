{
  "abstract" : "Registers a user callback function with a music sequence.",
  "codeExamples" : [
    {
      "code" : "inStartSliceBeat <= inEventTime < inEndSliceBeat",
      "language" : "objc"
    }
  ],
  "contentHash" : "b11fd71c0cf3b38a152dd94713d491fc177c647fd5cff814c20040c4658beebb",
  "crawledAt" : "2025-12-02T05:39:34Z",
  "declaration" : {
    "code" : "func MusicSequenceSetUserCallback(_ inSequence: MusicSequence, _ inCallback: MusicSequenceUserCallback?, _ inClientData: UnsafeMutableRawPointer?) -> OSStatus",
    "language" : "swift"
  },
  "id" : "54130676-59E1-4B68-B9ED-5AB9AD234D3F",
  "kind" : "function",
  "module" : "Audio Toolbox",
  "overview" : "## Return Value\n\nA result code.\n\n## Discussion\n\nThe music sequence invokes your callback for each user event added to any music track owned by the sequence. If there is a callback registered, then UserEvents will be chased when MusicPlayerSetTime is called. In that case the inStartSliceBeat and inEndSliceBeat will both be the same value and will be the beat that the player is chasing to.\n\nUsually, where the sequence data is being scheduled for playback, the following applies:\n\nThe only exception to this is if the track that owns the MusicEvent is looping. In this case the start beat will still be less than the end beat (so your callback can still determine that it is playing, and what beats are currently being scheduled), however, the inEventTime will be the original time-stamped time of the user event.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceSetUserCallback(_:_:_:)\ncrawled: 2025-12-02T05:39:34Z\n---\n\n# MusicSequenceSetUserCallback(_:_:_:)\n\n**Function**\n\nRegisters a user callback function with a music sequence.\n\n## Declaration\n\n```swift\nfunc MusicSequenceSetUserCallback(_ inSequence: MusicSequence, _ inCallback: MusicSequenceUserCallback?, _ inClientData: UnsafeMutableRawPointer?) -> OSStatus\n```\n\n## Parameters\n\n- **inSequence**: The music sequence that you want to add a user callback function to.\n- **inCallback**: A reference to your callback function. Use `NULL` to remove a registered callback function.\n- **inClientData**: Your data that the music sequence provides back to your callback function when it is invoked.\n\n## Return Value\n\nA result code.\n\n## Discussion\n\nThe music sequence invokes your callback for each user event added to any music track owned by the sequence. If there is a callback registered, then UserEvents will be chased when MusicPlayerSetTime is called. In that case the inStartSliceBeat and inEndSliceBeat will both be the same value and will be the beat that the player is chasing to.\n\nUsually, where the sequence data is being scheduled for playback, the following applies:\n\n```objc\ninStartSliceBeat <= inEventTime < inEndSliceBeat\n```\n\nThe only exception to this is if the track that owns the MusicEvent is looping. In this case the start beat will still be less than the end beat (so your callback can still determine that it is playing, and what beats are currently being scheduled), however, the inEventTime will be the original time-stamped time of the user event.\n\n## Managing Music Sequences\n\n- **NewMusicSequence(_:)**: Creates a new empty music sequence.\n- **DisposeMusicSequence(_:)**: Disposes of a music sequence.\n- **MusicSequenceBarBeatTimeToBeats(_:_:_:)**: Formats a music sequence’s bar-beat time to its beat time.\n- **MusicSequenceBeatsToBarBeatTime(_:_:_:_:)**: Formats a music sequence’s beat time to its bar-beat time.\n- **MusicSequenceDisposeTrack(_:_:)**: Removes a music track from a music sequence, and disposes of the track.\n- **MusicSequenceFileCreate(_:_:_:_:_:)**: Creates a MIDI file from the events in a music sequence.\n- **MusicSequenceFileCreateData(_:_:_:_:_:)**: Creates a data object containing the events from a music sequence.\n- **MusicSequenceFileLoad(_:_:_:_:)**: Loads data into a music sequence from a URL reference.\n- **MusicSequenceFileLoadData(_:_:_:_:)**: Load data into a music sequence from a data reference.\n- **MusicSequenceGetAUGraph(_:_:)**: Gets the audio processing graph associated with a music sequence.\n- **MusicSequenceGetBeatsForSeconds(_:_:_:)**: Calculates the number of beats that correspond to a number of seconds.\n- **MusicSequenceGetIndTrack(_:_:_:)**: Gets the music track at the specified track index.\n- **MusicSequenceGetInfoDictionary(_:)**: Returns a dictionary containing music sequence information.\n- **MusicSequenceGetSMPTEResolution(_:_:_:)**\n- **MusicSequenceGetSecondsForBeats(_:_:_:)**: Calculates the number of seconds that correspond to a number of beats.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a new empty music sequence.",
          "name" : "NewMusicSequence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/NewMusicSequence(_:)"
        },
        {
          "description" : "Disposes of a music sequence.",
          "name" : "DisposeMusicSequence(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/DisposeMusicSequence(_:)"
        },
        {
          "description" : "Formats a music sequence’s bar-beat time to its beat time.",
          "name" : "MusicSequenceBarBeatTimeToBeats(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceBarBeatTimeToBeats(_:_:_:)"
        },
        {
          "description" : "Formats a music sequence’s beat time to its bar-beat time.",
          "name" : "MusicSequenceBeatsToBarBeatTime(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceBeatsToBarBeatTime(_:_:_:_:)"
        },
        {
          "description" : "Removes a music track from a music sequence, and disposes of the track.",
          "name" : "MusicSequenceDisposeTrack(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceDisposeTrack(_:_:)"
        },
        {
          "description" : "Creates a MIDI file from the events in a music sequence.",
          "name" : "MusicSequenceFileCreate(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceFileCreate(_:_:_:_:_:)"
        },
        {
          "description" : "Creates a data object containing the events from a music sequence.",
          "name" : "MusicSequenceFileCreateData(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceFileCreateData(_:_:_:_:_:)"
        },
        {
          "description" : "Loads data into a music sequence from a URL reference.",
          "name" : "MusicSequenceFileLoad(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceFileLoad(_:_:_:_:)"
        },
        {
          "description" : "Load data into a music sequence from a data reference.",
          "name" : "MusicSequenceFileLoadData(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceFileLoadData(_:_:_:_:)"
        },
        {
          "description" : "Gets the audio processing graph associated with a music sequence.",
          "name" : "MusicSequenceGetAUGraph(_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetAUGraph(_:_:)"
        },
        {
          "description" : "Calculates the number of beats that correspond to a number of seconds.",
          "name" : "MusicSequenceGetBeatsForSeconds(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetBeatsForSeconds(_:_:_:)"
        },
        {
          "description" : "Gets the music track at the specified track index.",
          "name" : "MusicSequenceGetIndTrack(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetIndTrack(_:_:_:)"
        },
        {
          "description" : "Returns a dictionary containing music sequence information.",
          "name" : "MusicSequenceGetInfoDictionary(_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetInfoDictionary(_:)"
        },
        {
          "description" : "",
          "name" : "MusicSequenceGetSMPTEResolution(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetSMPTEResolution(_:_:_:)"
        },
        {
          "description" : "Calculates the number of seconds that correspond to a number of beats.",
          "name" : "MusicSequenceGetSecondsForBeats(_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceGetSecondsForBeats(_:_:_:)"
        }
      ],
      "title" : "Managing Music Sequences"
    }
  ],
  "source" : "appleJSON",
  "title" : "MusicSequenceSetUserCallback(_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/MusicSequenceSetUserCallback(_:_:_:)"
}