{
  "abstract" : "Retrieves output data from a codec.",
  "codeExamples" : [

  ],
  "contentHash" : "ef8c38cab2a67af77f781489af2283e426b973b79cd8b26d67e0172546976e26",
  "crawledAt" : "2025-12-06T06:10:11Z",
  "declaration" : {
    "code" : "func AudioCodecProduceOutputPackets(_ inCodec: AudioCodec, _ outOutputData: UnsafeMutableRawPointer, _ ioOutputDataByteSize: UnsafeMutablePointer<UInt32>, _ ioNumberPackets: UnsafeMutablePointer<UInt32>, _ outPacketDescription: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ outStatus: UnsafeMutablePointer<UInt32>) -> OSStatus",
    "language" : "swift"
  },
  "id" : "36DD1B2E-A312-499E-9EFB-6315C9493530",
  "kind" : "function",
  "language" : "swift",
  "module" : "Audio Toolbox",
  "overview" : "## Return Value\n\nReturns `NoErr` if successful. Returns `kAudioCodecStateError` if the codec has not been initialized. Returns `kAudioCodecNotEnoughBufferSpaceError` if the output buffer is not large enough for the requested number of packets. See `Result Codes` for other possible values.\n\n## Discussion\n\nThis function causes the codec to produce as many output packets as requested, provided there is sufficient input data. If there is not enough input data to produce the requested number of output packets, the `outStatus` parameter returns the value `kAudioCodecProduceOutputPacketNeedsMoreInputData` and the `ioNumberPackets` parameter indicates the actual number of packets produced. On the other hand, if there is enough input data to produce at least one additional full packet, the `outStatus` parameter returns the value `kAudioCodecProduceOutputPacketSuccessHasMore`.\n\nNote that decoders produce linear PCM data only in multiples of the number of frames in a packet of the encoded format. (See the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecAppendInputData(_:_:_:_:_:)] function for definitions of *packet* and *frame* as used by this API.) You can use the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecGetProperty(_:_:_:_:)] function to obtain this value from the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/kAudioCodecPropertyPacketFrameSize] property. Similarly, this property indicates how many frames of linear PCM data an encoder needs in order to produce a packet of the specified output format.\n\nOutput data can be produced only in multiples of whole packets.\n\nThe combination of the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecAppendInputData(_:_:_:_:_:)] and [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecProduceOutputPackets(_:_:_:_:_:_:)] functions implement a “push-pull” model of data handling. First, the input data is pushed into the codec, then the resulting output data is pulled out of that same codec.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioCodecProduceOutputPackets(_:_:_:_:_:_:)\ncrawled: 2025-12-06T06:10:11Z\n---\n\n# AudioCodecProduceOutputPackets(_:_:_:_:_:_:)\n\n**Function**\n\nRetrieves output data from a codec.\n\n## Declaration\n\n```swift\nfunc AudioCodecProduceOutputPackets(_ inCodec: AudioCodec, _ outOutputData: UnsafeMutableRawPointer, _ ioOutputDataByteSize: UnsafeMutablePointer<UInt32>, _ ioNumberPackets: UnsafeMutablePointer<UInt32>, _ outPacketDescription: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ outStatus: UnsafeMutablePointer<UInt32>) -> OSStatus\n```\n\n## Parameters\n\n- **inCodec**: An audio codec object. Because an audio codec object is a Component Manger component instance, you can use the Component Manager (for example, the functions [doc:\/\/com.apple.documentation\/documentation\/coreservices\/1516552-findnextcomponent] and OpenAComponent) to obtain an audio codec object.\n- **outOutputData**: The output data buffer.\n- **ioOutputDataByteSize**: Indicates the size of the output data buffer.\n- **ioNumberPackets**: On input, the number of packets desired. On output, the number of packets actually placed in the output buffer.\n- **outPacketDescription**: An array of `AudioStreamPacketDescription` structures that describes the packet layout of the data returned by the `outOutputData` parameter. Pass `NULL` if you do not want this information returned. Note that this information is provided only when the output format is not linear PCM.\n- **outStatus**: On output, information about the codec’s status to allow for proper data management. See [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/1494122-output-status-constants] for the possible values that can be returned.\n\n## Return Value\n\nReturns `NoErr` if successful. Returns `kAudioCodecStateError` if the codec has not been initialized. Returns `kAudioCodecNotEnoughBufferSpaceError` if the output buffer is not large enough for the requested number of packets. See `Result Codes` for other possible values.\n\n## Discussion\n\nThis function causes the codec to produce as many output packets as requested, provided there is sufficient input data. If there is not enough input data to produce the requested number of output packets, the `outStatus` parameter returns the value `kAudioCodecProduceOutputPacketNeedsMoreInputData` and the `ioNumberPackets` parameter indicates the actual number of packets produced. On the other hand, if there is enough input data to produce at least one additional full packet, the `outStatus` parameter returns the value `kAudioCodecProduceOutputPacketSuccessHasMore`.\n\nNote that decoders produce linear PCM data only in multiples of the number of frames in a packet of the encoded format. (See the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecAppendInputData(_:_:_:_:_:)] function for definitions of *packet* and *frame* as used by this API.) You can use the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecGetProperty(_:_:_:_:)] function to obtain this value from the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/kAudioCodecPropertyPacketFrameSize] property. Similarly, this property indicates how many frames of linear PCM data an encoder needs in order to produce a packet of the specified output format.\n\nOutput data can be produced only in multiples of whole packets.\n\nThe combination of the [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecAppendInputData(_:_:_:_:_:)] and [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioCodecProduceOutputPackets(_:_:_:_:_:_:)] functions implement a “push-pull” model of data handling. First, the input data is pushed into the codec, then the resulting output data is pulled out of that same codec.\n\n## Related Documentation\n\n- **AudioCodecInitialize(_:_:_:_:_:)**: Sets up the specified codec to perform a data format translation.\n- **AudioCodecGetProperty(_:_:_:_:)**: Retrieves the value of a codec property.\n\n## Accessing the Data\n\n- **AudioCodecAppendInputData(_:_:_:_:_:)**: Appends audio data to the codec’s input buffer.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Sets up the specified codec to perform a data format translation.",
          "name" : "AudioCodecInitialize(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioCodecInitialize(_:_:_:_:_:)"
        },
        {
          "description" : "Retrieves the value of a codec property.",
          "name" : "AudioCodecGetProperty(_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioCodecGetProperty(_:_:_:_:)"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Appends audio data to the codec’s input buffer.",
          "name" : "AudioCodecAppendInputData(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioCodecAppendInputData(_:_:_:_:_:)"
        }
      ],
      "title" : "Accessing the Data"
    }
  ],
  "source" : "appleJSON",
  "title" : "AudioCodecProduceOutputPackets(_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioCodecProduceOutputPackets(_:_:_:_:_:_:)"
}