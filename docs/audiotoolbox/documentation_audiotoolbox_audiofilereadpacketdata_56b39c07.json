{
  "abstract" : "Reads packets of audio data from an audio file.",
  "codeExamples" : [

  ],
  "contentHash" : "1403c2a308bf19b3648bb6f12a0141d4f4374c1dd4307ff93c3ccc719747d4f1",
  "crawledAt" : "2025-12-06T05:54:26Z",
  "declaration" : {
    "code" : "func AudioFileReadPacketData(_ inAudioFile: AudioFileID, _ inUseCache: Bool, _ ioNumBytes: UnsafeMutablePointer<UInt32>, _ outPacketDescriptions: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ inStartingPacket: Int64, _ ioNumPackets: UnsafeMutablePointer<UInt32>, _ outBuffer: UnsafeMutableRawPointer?) -> OSStatus",
    "language" : "swift"
  },
  "id" : "1270E453-CD7A-4BC7-8B6D-AF8A73EB336E",
  "kind" : "function",
  "language" : "swift",
  "module" : "Audio Toolbox",
  "overview" : "## Return Value\n\nA result code. See Result Codes.\n\n## Discussion\n\nUsing this function is memory efficient when reading variable bit-rate (VBR) audio data, whose packet sizes can vary for a given duration of sound.\n\nIf the buffer you provide in the `outBuffer` parameter is too small to hold the packets you request in `ioNumPackets`, the output values of `ioNumPackets` and `ioNumBytes` are reduced to reflect the packets that were placed into the buffer. You also see a difference in the input and output values for `ioNumPackets` when this function has reached the end of the file you are reading. In this case, the output value for this parameter is smaller than its input value.\n\nThis function is more efficient than [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)] when reading compressed file formats that do not have packet tables, such as MP3 or ADTS. This function is a good choice for reading either CBR (constant bit-rate) or VBR data if you do not need to read a fixed duration of audio. If you do need to read a fixed duration of audio, whether CBR  or VBR, use [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)] instead.\n\nAudio File Services reads one 32-bit chunk of a file at a time.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)\ncrawled: 2025-12-06T05:54:26Z\n---\n\n# AudioFileReadPacketData(_:_:_:_:_:_:_:)\n\n**Function**\n\nReads packets of audio data from an audio file.\n\n## Declaration\n\n```swift\nfunc AudioFileReadPacketData(_ inAudioFile: AudioFileID, _ inUseCache: Bool, _ ioNumBytes: UnsafeMutablePointer<UInt32>, _ outPacketDescriptions: UnsafeMutablePointer<AudioStreamPacketDescription>?, _ inStartingPacket: Int64, _ ioNumPackets: UnsafeMutablePointer<UInt32>, _ outBuffer: UnsafeMutableRawPointer?) -> OSStatus\n```\n\n## Parameters\n\n- **inAudioFile**: The audio file whose audio packets you want to read.\n- **inUseCache**: Set to `true` to cache the data. Otherwise, set to `false`.\n- **ioNumBytes**: On input, the size of the `outBuffer` parameter, in bytes. On output, the number of bytes actually read.\n\nYou will see a difference in the input and output values if the byte size for the number of packets you request in the `ioNumPackets` parameter is smaller than the buffer size you pass in the `outBuffer` parameter. In this case, the output value for this parameter is smaller than its input value.\n- **outPacketDescriptions**: On output, an array of packet descriptions for the packets that were read. The array that you pass in this parameter must be large enough to accommodate descriptions for the number of packets requested in the `ioNumPackets` parameter.\n\nThis parameter applies only to variable bit-rate data. If the file being read contains constant bit-rate (CBR) data, such as linear PCM, this parameter does not get filled. Pass `NULL` if the fileâ€™s data format is CBR.\n- **inStartingPacket**: The packet index of the first packet you want to read.\n- **ioNumPackets**: On input, the number of packets to read. On output, the number of packets actually read.\n- **outBuffer**: Memory that you allocate to hold the read packets. Determine an appropriate size by multiplying the number of packets requested (in the `ioNumPackets` parameter) by the typical packet size for the audio data in the file. For uncompressed audio formats, a packet is equal to a frame.\n\n## Return Value\n\nA result code. See Result Codes.\n\n## Discussion\n\nUsing this function is memory efficient when reading variable bit-rate (VBR) audio data, whose packet sizes can vary for a given duration of sound.\n\nIf the buffer you provide in the `outBuffer` parameter is too small to hold the packets you request in `ioNumPackets`, the output values of `ioNumPackets` and `ioNumBytes` are reduced to reflect the packets that were placed into the buffer. You also see a difference in the input and output values for `ioNumPackets` when this function has reached the end of the file you are reading. In this case, the output value for this parameter is smaller than its input value.\n\nThis function is more efficient than [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)] when reading compressed file formats that do not have packet tables, such as MP3 or ADTS. This function is a good choice for reading either CBR (constant bit-rate) or VBR data if you do not need to read a fixed duration of audio. If you do need to read a fixed duration of audio, whether CBR  or VBR, use [doc:\/\/com.apple.audiotoolbox\/documentation\/AudioToolbox\/AudioFileReadPackets(_:_:_:_:_:_:_:)] instead.\n\nAudio File Services reads one 32-bit chunk of a file at a time.\n\n## Reading and Writing Audio Files\n\n- **AudioFileReadBytes(_:_:_:_:_:)**: Reads bytes of audio data from an audio file.\n- **AudioFileWriteBytes(_:_:_:_:_:)**: Writes bytes of audio data to an audio file.\n- **AudioFileWritePackets(_:_:_:_:_:_:_:)**: Writes packets of audio data to an audio data file.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Reads bytes of audio data from an audio file.",
          "name" : "AudioFileReadBytes(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileReadBytes(_:_:_:_:_:)"
        },
        {
          "description" : "Writes bytes of audio data to an audio file.",
          "name" : "AudioFileWriteBytes(_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileWriteBytes(_:_:_:_:_:)"
        },
        {
          "description" : "Writes packets of audio data to an audio data file.",
          "name" : "AudioFileWritePackets(_:_:_:_:_:_:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileWritePackets(_:_:_:_:_:_:_:)"
        }
      ],
      "title" : "Reading and Writing Audio Files"
    }
  ],
  "source" : "appleJSON",
  "title" : "AudioFileReadPacketData(_:_:_:_:_:_:_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AudioToolbox\/AudioFileReadPacketData(_:_:_:_:_:_:_:)"
}