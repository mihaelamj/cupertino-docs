{
  "abstract" : "Provide options for users to delete their CloudKit data from your app.",
  "codeExamples" : [
    {
      "code" : "let containers: [CKContainer] = [\n    CKContainer.default(),\n    .init(identifier: \"iCloud.com.example.myexampleapp.documents\"),\n    .init(identifier: \"iCloud.com.example.myexampleapp.settings\")\n]",
      "language" : "swift"
    },
    {
      "code" : "for container in containers {\n    container.privateCloudDatabase.fetchAllRecordZones { zones, error in\n        guard let zones = zones, error == nil else {\n            print(\"Error fetching zones.\")\n            return\n        }\n        \n        let zoneIDs = zones.map { $0.zoneID }\n        let deletionOperation = CKModifyRecordZonesOperation(recordZonesToSave: nil, recordZoneIDsToDelete: zoneIDs)\n        \n        deletionOperation.modifyRecordZonesCompletionBlock = { _, deletedZones, error in\n            guard error == nil else {\n                let error = error!\n                \n                print(\"Error deleting records.\", error)\n                return\n            }\n\n            print(\"Records successfully deleted in this zone.\")\n        }\n        \n        container.privateCloudDatabase.add(deletionOperation)\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "bfa5eb95804a0c303c4cf75a6ad60b6a52a5af2711039e1cb35a4930e101f1f8",
  "crawledAt" : "2025-12-04T20:44:38Z",
  "id" : "EA3BE3E1-67C2-4092-89B9-9D7369F50B3D",
  "kind" : "article",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nIf your app stores data in CloudKit on behalf of your users, give them a simple way to delete their data.\n\n### Identify Containers\n\nTo be sure that you delete all of a user’s data that your app stores in CloudKit, cross-reference the list of containers your app has access to in Xcode and assemble a list of those containers’ identifiers. [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/identifying-an-app-s-containers] describes this process.\n\nThe example below stores containers in an array to use later for enumeration:\n\n### Delete Records\n\nThe example below uses an instance of [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKModifyRecordZonesOperation] to delete all records in each container’s private database:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CloudKit\/responding-to-requests-to-delete-data\ncrawled: 2025-12-04T20:44:38Z\n---\n\n# Responding to Requests to Delete Data\n\n**Article**\n\nProvide options for users to delete their CloudKit data from your app.\n\n## Overview\n\nIf your app stores data in CloudKit on behalf of your users, give them a simple way to delete their data.\n\n### Identify Containers\n\nTo be sure that you delete all of a user’s data that your app stores in CloudKit, cross-reference the list of containers your app has access to in Xcode and assemble a list of those containers’ identifiers. [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/identifying-an-app-s-containers] describes this process.\n\nThe example below stores containers in an array to use later for enumeration:\n\n```swift\nlet containers: [CKContainer] = [\n    CKContainer.default(),\n    .init(identifier: \"iCloud.com.example.myexampleapp.documents\"),\n    .init(identifier: \"iCloud.com.example.myexampleapp.settings\")\n]\n```\n\n### Delete Records\n\nThe example below uses an instance of [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKModifyRecordZonesOperation] to delete all records in each container’s private database:\n\n```swift\nfor container in containers {\n    container.privateCloudDatabase.fetchAllRecordZones { zones, error in\n        guard let zones = zones, error == nil else {\n            print(\"Error fetching zones.\")\n            return\n        }\n        \n        let zoneIDs = zones.map { $0.zoneID }\n        let deletionOperation = CKModifyRecordZonesOperation(recordZonesToSave: nil, recordZoneIDsToDelete: zoneIDs)\n        \n        deletionOperation.modifyRecordZonesCompletionBlock = { _, deletedZones, error in\n            guard error == nil else {\n                let error = error!\n                \n                print(\"Error deleting records.\", error)\n                return\n            }\n\n            print(\"Records successfully deleted in this zone.\")\n        }\n        \n        container.privateCloudDatabase.add(deletionOperation)\n    }\n}\n```\n\n## Privacy\n\n- **Encrypting User Data**: Deploy industry-standard security technologies using CloudKit encryption.\n- **Providing User Access to CloudKit Data**: Provide users access to the data your app stores on their behalf.\n- **Changing Access Controls on User Data**: Restrict access to or remove restrictions from a user’s data at their request.\n- **CKFetchWebAuthTokenOperation**: An operation that creates an authentication token for use with CloudKit web services.\n- **Identifying an App’s Containers**: Use Xcode’s Project navigator to find the identifiers of active CloudKit containers.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Deploy industry-standard security technologies using CloudKit encryption.",
          "name" : "Encrypting User Data",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/encrypting-user-data"
        },
        {
          "description" : "Provide users access to the data your app stores on their behalf.",
          "name" : "Providing User Access to CloudKit Data",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/providing-user-access-to-cloudkit-data"
        },
        {
          "description" : "Restrict access to or remove restrictions from a user’s data at their request.",
          "name" : "Changing Access Controls on User Data",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/changing-access-controls-on-user-data"
        },
        {
          "description" : "An operation that creates an authentication token for use with CloudKit web services.",
          "name" : "CKFetchWebAuthTokenOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchWebAuthTokenOperation"
        },
        {
          "description" : "Use Xcode’s Project navigator to find the identifiers of active CloudKit containers.",
          "name" : "Identifying an App’s Containers",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/identifying-an-app-s-containers"
        }
      ],
      "title" : "Privacy"
    }
  ],
  "source" : "appleJSON",
  "title" : "Responding to Requests to Delete Data",
  "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/responding-to-requests-to-delete-data"
}