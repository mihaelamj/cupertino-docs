{
  "abstract" : "An operation for retrieving records from a database.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "9023ad0805d04396d9f69f9232faed08fb8f7a1007ce885907342ec55b658744",
  "crawledAt" : "2025-12-07T18:21:42Z",
  "declaration" : {
    "code" : "class CKFetchRecordsOperation",
    "language" : "swift"
  },
  "id" : "ECBB5C24-9D75-46CA-BDBE-AE92F8E6B93A",
  "kind" : "class",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nUse this operation to retrieve the entire contents of each record or only a subset of its contained values. As records become available, the operation object reports progress about the state of the operation to several different blocks, which you can use to process the results.\n\nFetching records is a common use of CloudKit, even if your app doesn’t cache record IDs locally. For example, when you fetch a record related to the current record through a [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/Reference] object, you use the ID in the reference to perform the fetch.\n\nThe handlers you assign to process the fetched records execute serially on an internal queue that the fetch operation manages. Your handlers must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIn addition to data records, a fetch records operation can fetch the current user record. The [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordsOperation\/fetchCurrentUserRecordOperation()] method returns a specially configured operation object that retrieves the current user record. That record is a standard [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord] object that has no content initially. You can add data to the user record and save it as necessary. Don’t store sensitive personal information, such as passwords, in the user record because other users of your app can access the discoverable user record in a public database. If you must store sensitive information about a user, do so in a separate record that is accessible only to that user.\n\nIf you assign a closure to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation object, CloudKit calls it after the operation executes and returns its results. Use a closure to perform any housekeeping tasks for the operation, but don’t use it to process the results of the operation. The closure you specify should handle the failure of the operation to complete its task, whether due to an error or an explicit cancellation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/cloudkit\/ckfetchrecordsoperation\ncrawled: 2025-12-07T18:21:42Z\n---\n\n# CKFetchRecordsOperation\n\n**Class**\n\nAn operation for retrieving records from a database.\n\n## Declaration\n\n```swift\nclass CKFetchRecordsOperation\n```\n\n## Overview\n\nUse this operation to retrieve the entire contents of each record or only a subset of its contained values. As records become available, the operation object reports progress about the state of the operation to several different blocks, which you can use to process the results.\n\nFetching records is a common use of CloudKit, even if your app doesn’t cache record IDs locally. For example, when you fetch a record related to the current record through a [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/Reference] object, you use the ID in the reference to perform the fetch.\n\nThe handlers you assign to process the fetched records execute serially on an internal queue that the fetch operation manages. Your handlers must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIn addition to data records, a fetch records operation can fetch the current user record. The [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordsOperation\/fetchCurrentUserRecordOperation()] method returns a specially configured operation object that retrieves the current user record. That record is a standard [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord] object that has no content initially. You can add data to the user record and save it as necessary. Don’t store sensitive personal information, such as passwords, in the user record because other users of your app can access the discoverable user record in a public database. If you must store sensitive information about a user, do so in a separate record that is accessible only to that user.\n\nIf you assign a closure to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation object, CloudKit calls it after the operation executes and returns its results. Use a closure to perform any housekeeping tasks for the operation, but don’t use it to process the results of the operation. The closure you specify should handle the failure of the operation to complete its task, whether due to an error or an explicit cancellation.\n\n## Creating a Record Fetch Operation\n\n- **init(recordIDs:)**: Creates a fetch operation for retrieving the records with the specified IDs.\n- **init()**: Creates an empty fetch operation.\n\n## Getting the Current User Record\n\n- **fetchCurrentUserRecordOperation()**: Returns a fetch operation for retrieving the current user record.\n\n## Configuring a Record Fetch Operation\n\n- **recordIDs**: The record IDs of the records to fetch.\n- **desiredKeys**: The fields of the records to fetch.\n\n## Processing Record Fetch Results\n\n- **perRecordProgressBlock**: The closure to execute with progress information for individual records.\n- **perRecordCompletionBlock**: The closure to execute when a record becomes available.\n- **fetchRecordsCompletionBlock**: The closure to execute after CloudKit retrieves all of the records.\n\n## Instance Properties\n\n- **fetchRecordsResultBlock**\n- **perRecordResultBlock**\n\n## Fetch Requests\n\n- **CKFetchRecordZonesOperation**: An operation for retrieving record zones from a database.\n\n## Inherits From\n\n- CKDatabaseOperation\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a fetch operation for retrieving the records with the specified IDs.",
          "name" : "init(recordIDs:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/init(recordIDs:)"
        },
        {
          "description" : "Creates an empty fetch operation.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/init()"
        }
      ],
      "title" : "Creating a Record Fetch Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a fetch operation for retrieving the current user record.",
          "name" : "fetchCurrentUserRecordOperation()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/fetchCurrentUserRecordOperation()"
        }
      ],
      "title" : "Getting the Current User Record"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The record IDs of the records to fetch.",
          "name" : "recordIDs",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/recordIDs"
        },
        {
          "description" : "The fields of the records to fetch.",
          "name" : "desiredKeys",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/desiredKeys-31bbq"
        }
      ],
      "title" : "Configuring a Record Fetch Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The closure to execute with progress information for individual records.",
          "name" : "perRecordProgressBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/perRecordProgressBlock"
        },
        {
          "description" : "The closure to execute when a record becomes available.",
          "name" : "perRecordCompletionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/perRecordCompletionBlock"
        },
        {
          "description" : "The closure to execute after CloudKit retrieves all of the records.",
          "name" : "fetchRecordsCompletionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/fetchRecordsCompletionBlock"
        }
      ],
      "title" : "Processing Record Fetch Results"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "fetchRecordsResultBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/fetchRecordsResultBlock"
        },
        {
          "description" : "",
          "name" : "perRecordResultBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordsOperation\/perRecordResultBlock"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An operation for retrieving record zones from a database.",
          "name" : "CKFetchRecordZonesOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordZonesOperation"
        }
      ],
      "title" : "Fetch Requests"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "CKDatabaseOperation"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CKFetchRecordsOperation",
  "url" : "https:\/\/developer.apple.com\/documentation\/cloudkit\/ckfetchrecordsoperation"
}