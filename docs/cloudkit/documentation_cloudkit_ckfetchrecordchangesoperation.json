{
  "abstract" : "An operation that reports on the changed and deleted records in the specified record zone.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "591740a361dc32c632bb456ec12cf65691a7f18ac3c6742fbf11dfd9618dbf05",
  "crawledAt" : "2025-12-05T18:56:59Z",
  "declaration" : {
    "code" : "class CKFetchRecordChangesOperation",
    "language" : "swift"
  },
  "id" : "A5316B06-93B5-4B60-82BD-1E803F46F23E",
  "kind" : "class",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nUse this type of operation object to optimize fetch operations for locally managed sets of records. Specifically, use it when you maintain a local cache of your record data and need to synchronize that cache periodically with the server.\n\nTo get the most benefit out of a `CKFetchRecordChangesOperation` object, you must maintain a local cache of the records from the specified zone. Each time you fetch changes from that zone, the server provides a token that identifies your request. With each subsequent fetch request, you initialize the operation object with the token from the previous request, and the server returns only the records with changes since that request.\n\nThe blocks you assign to process the fetched records execute serially on an internal queue that the operation manages. Your blocks must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIf you assign a completion block to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation object, the system calls the completion block after the operation executes and returns its results to you. You can use a completion block to perform housekeeping tasks for the operation, but don’t use it to process the results of the operation. Any completion block you specify should handle the failure of the operation to complete its task, whether due to an error or an explicit cancellation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\ncrawled: 2025-12-05T18:56:59Z\n---\n\n# CKFetchRecordChangesOperation\n\n**Class**\n\nAn operation that reports on the changed and deleted records in the specified record zone.\n\n## Declaration\n\n```swift\nclass CKFetchRecordChangesOperation\n```\n\n## Overview\n\nUse this type of operation object to optimize fetch operations for locally managed sets of records. Specifically, use it when you maintain a local cache of your record data and need to synchronize that cache periodically with the server.\n\nTo get the most benefit out of a `CKFetchRecordChangesOperation` object, you must maintain a local cache of the records from the specified zone. Each time you fetch changes from that zone, the server provides a token that identifies your request. With each subsequent fetch request, you initialize the operation object with the token from the previous request, and the server returns only the records with changes since that request.\n\nThe blocks you assign to process the fetched records execute serially on an internal queue that the operation manages. Your blocks must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIf you assign a completion block to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation object, the system calls the completion block after the operation executes and returns its results to you. You can use a completion block to perform housekeeping tasks for the operation, but don’t use it to process the results of the operation. Any completion block you specify should handle the failure of the operation to complete its task, whether due to an error or an explicit cancellation.\n\n## Creating the Fetch Record Changes Operation\n\n- **init(recordZoneID:previousServerChangeToken:)**: Creates an operation for fetching changes in the specified record zone.\n- **init()**: Creates an empty fetch record changes operation.\n\n## Configuring the Fetch Record Changes Operation\n\n- **recordZoneID**: The ID of the record zone with the records you want to fetch.\n- **previousServerChangeToken**: The token that identifies the starting point for retrieving changes.\n- **desiredKeys**: The fields to fetch for the requested records.\n- **resultsLimit**: The maximum number of changed records to report with this operation object.\n- **moreComing**: A Boolean value that indicates whether more results are available.\n\n## Processing the Fetch Record Changes Results\n\n- **recordChangedBlock**: The block to execute with the contents of a changed record.\n- **recordWithIDWasDeletedBlock**: The block to execute with the ID of a deleted record.\n- **fetchRecordChangesCompletionBlock**: The block to execute when the system finishes processing all changes.\n\n## Deprecated classes\n\n- **CKDiscoverAllUserIdentitiesOperation**: An operation that uses the device’s contacts to search for discoverable iCloud users.\n- **CKDiscoverUserIdentitiesOperation**: An operation that uses the provided criteria to search for discoverable iCloud users.\n\n## Inherits From\n\n- CKDatabaseOperation\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an operation for fetching changes in the specified record zone.",
          "name" : "init(recordZoneID:previousServerChangeToken:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/init(recordZoneID:previousServerChangeToken:)"
        },
        {
          "description" : "Creates an empty fetch record changes operation.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/init()"
        }
      ],
      "title" : "Creating the Fetch Record Changes Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The ID of the record zone with the records you want to fetch.",
          "name" : "recordZoneID",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/recordZoneID"
        },
        {
          "description" : "The token that identifies the starting point for retrieving changes.",
          "name" : "previousServerChangeToken",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/previousServerChangeToken"
        },
        {
          "description" : "The fields to fetch for the requested records.",
          "name" : "desiredKeys",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/desiredKeys"
        },
        {
          "description" : "The maximum number of changed records to report with this operation object.",
          "name" : "resultsLimit",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/resultsLimit"
        },
        {
          "description" : "A Boolean value that indicates whether more results are available.",
          "name" : "moreComing",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/moreComing"
        }
      ],
      "title" : "Configuring the Fetch Record Changes Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The block to execute with the contents of a changed record.",
          "name" : "recordChangedBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/recordChangedBlock"
        },
        {
          "description" : "The block to execute with the ID of a deleted record.",
          "name" : "recordWithIDWasDeletedBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/recordWithIDWasDeletedBlock"
        },
        {
          "description" : "The block to execute when the system finishes processing all changes.",
          "name" : "fetchRecordChangesCompletionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation\/fetchRecordChangesCompletionBlock"
        }
      ],
      "title" : "Processing the Fetch Record Changes Results"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An operation that uses the device’s contacts to search for discoverable iCloud users.",
          "name" : "CKDiscoverAllUserIdentitiesOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDiscoverAllUserIdentitiesOperation"
        },
        {
          "description" : "An operation that uses the provided criteria to search for discoverable iCloud users.",
          "name" : "CKDiscoverUserIdentitiesOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDiscoverUserIdentitiesOperation"
        }
      ],
      "title" : "Deprecated classes"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "CKDatabaseOperation"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CKFetchRecordChangesOperation",
  "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchRecordChangesOperation"
}