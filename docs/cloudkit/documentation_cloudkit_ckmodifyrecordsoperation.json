{
  "abstract" : "An operation that modifies one or more records.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "290ee9141d3d8dcc7e292abc620d162f04bc6bbfa925182d79f45c50e5aeca12",
  "crawledAt" : "2025-12-07T19:46:17Z",
  "declaration" : {
    "code" : "class CKModifyRecordsOperation",
    "language" : "swift"
  },
  "id" : "3E5407A7-CCF4-41F6-976D-1DD9D15D48F3",
  "kind" : "class",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nAfter modifying the fields of a record, use this operation to save those changes to a database. You also use this operation to delete records permanently from a database.\n\nIf you’re saving a record that contains a reference to another record, set the reference’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/Reference\/action-swift.property] to indicate if the target record’s deletion should cascade to the saved record. This helps avoid orphaned records in explicit record hierarchies. When creating two new records that have a reference between them, use the same operation to save both records at the same time. During a save operation, CloudKit requires that the target record of the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/parent] reference, if set, exists in the database or is part of the same operation; all other reference fields are exempt from this requirement.\n\nWhen you save records, the value in the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKModifyRecordsOperation\/savePolicy] property determines how to proceed when CloudKit detects conflicts. Because records can change between the time you fetch them and the time you save them, the save policy determines whether new changes overwrite existing changes. By default, the operation reports an error when there’s a newer version on the server. You can change the default setting to permit your changes to overwrite the server values wholly or partially.\n\nThe handlers you assign to monitor progress of the operation execute serially on an internal queue that the operation manages. Your handlers must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIf you assign a completion handler to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation, CloudKit calls it after the operation executes and returns the results. Use the completion handler to perform any housekeeping tasks for the operation, but don’t use it to process the results of the operation. The completion handler you provide should manage any failures of the operation, whether due to an error or an explicit cancellation.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/cloudkit\/ckmodifyrecordsoperation\ncrawled: 2025-12-07T19:46:17Z\n---\n\n# CKModifyRecordsOperation\n\n**Class**\n\nAn operation that modifies one or more records.\n\n## Declaration\n\n```swift\nclass CKModifyRecordsOperation\n```\n\n## Overview\n\nAfter modifying the fields of a record, use this operation to save those changes to a database. You also use this operation to delete records permanently from a database.\n\nIf you’re saving a record that contains a reference to another record, set the reference’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/Reference\/action-swift.property] to indicate if the target record’s deletion should cascade to the saved record. This helps avoid orphaned records in explicit record hierarchies. When creating two new records that have a reference between them, use the same operation to save both records at the same time. During a save operation, CloudKit requires that the target record of the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKRecord\/parent] reference, if set, exists in the database or is part of the same operation; all other reference fields are exempt from this requirement.\n\nWhen you save records, the value in the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKModifyRecordsOperation\/savePolicy] property determines how to proceed when CloudKit detects conflicts. Because records can change between the time you fetch them and the time you save them, the save policy determines whether new changes overwrite existing changes. By default, the operation reports an error when there’s a newer version on the server. You can change the default setting to permit your changes to overwrite the server values wholly or partially.\n\nThe handlers you assign to monitor progress of the operation execute serially on an internal queue that the operation manages. Your handlers must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly.\n\nIf you assign a completion handler to the [doc:\/\/com.apple.documentation\/documentation\/Foundation\/Operation\/completionBlock] property of the operation, CloudKit calls it after the operation executes and returns the results. Use the completion handler to perform any housekeeping tasks for the operation, but don’t use it to process the results of the operation. The completion handler you provide should manage any failures of the operation, whether due to an error or an explicit cancellation.\n\n\n\n## Creating a Modify Record Operation\n\n- **init(recordsToSave:recordIDsToDelete:)**: Creates an operation for modifying the specified records.\n- **init()**: Creates an empty modify records operation.\n\n## Configuring the Modify Record Operation\n\n- **recordsToSave**: The records to save to the database.\n- **recordIDsToDelete**: The IDs of the records to delete permanently from the database.\n- **clientChangeTokenData**: A token that tracks local changes to records.\n- **isAtomic**: A Boolean value that indicates whether the entire operation fails when CloudKit can’t update one or more records in a record zone.\n- **savePolicy**: The policy to use when saving changes to records.\n- **CKModifyRecordsOperation.RecordSavePolicy**: Constants that indicate which policy to apply when saving records.\n\n## Processing the Modify Record Results\n\n- **perRecordProgressBlock**: The closure to execute with progress information for individual records.\n- **perRecordCompletionBlock**: The closure to execute when CloudKit saves a record.\n- **modifyRecordsCompletionBlock**: The closure to execute after CloudKit modifies all of the records.\n\n## Instance Properties\n\n- **modifyRecordsResultBlock**\n- **perRecordDeleteBlock**\n- **perRecordSaveBlock**\n\n## Transactions\n\n- **CKModifyRecordZonesOperation**: An operation that modifies one or more record zones.\n\n## Inherits From\n\n- CKDatabaseOperation\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates an operation for modifying the specified records.",
          "name" : "init(recordsToSave:recordIDsToDelete:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/init(recordsToSave:recordIDsToDelete:)"
        },
        {
          "description" : "Creates an empty modify records operation.",
          "name" : "init()",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/init()"
        }
      ],
      "title" : "Creating a Modify Record Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The records to save to the database.",
          "name" : "recordsToSave",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/recordsToSave"
        },
        {
          "description" : "The IDs of the records to delete permanently from the database.",
          "name" : "recordIDsToDelete",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/recordIDsToDelete"
        },
        {
          "description" : "A token that tracks local changes to records.",
          "name" : "clientChangeTokenData",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/clientChangeTokenData"
        },
        {
          "description" : "A Boolean value that indicates whether the entire operation fails when CloudKit can’t update one or more records in a record zone.",
          "name" : "isAtomic",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/isAtomic"
        },
        {
          "description" : "The policy to use when saving changes to records.",
          "name" : "savePolicy",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/savePolicy"
        },
        {
          "description" : "Constants that indicate which policy to apply when saving records.",
          "name" : "CKModifyRecordsOperation.RecordSavePolicy",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/RecordSavePolicy"
        }
      ],
      "title" : "Configuring the Modify Record Operation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The closure to execute with progress information for individual records.",
          "name" : "perRecordProgressBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/perRecordProgressBlock"
        },
        {
          "description" : "The closure to execute when CloudKit saves a record.",
          "name" : "perRecordCompletionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/perRecordCompletionBlock"
        },
        {
          "description" : "The closure to execute after CloudKit modifies all of the records.",
          "name" : "modifyRecordsCompletionBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/modifyRecordsCompletionBlock"
        }
      ],
      "title" : "Processing the Modify Record Results"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "",
          "name" : "modifyRecordsResultBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/modifyRecordsResultBlock"
        },
        {
          "description" : "",
          "name" : "perRecordDeleteBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/perRecordDeleteBlock-9czoo"
        },
        {
          "description" : "",
          "name" : "perRecordSaveBlock",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordsOperation\/perRecordSaveBlock-7yq9d"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An operation that modifies one or more record zones.",
          "name" : "CKModifyRecordZonesOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKModifyRecordZonesOperation"
        }
      ],
      "title" : "Transactions"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "CKDatabaseOperation"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CKModifyRecordsOperation",
  "url" : "https:\/\/developer.apple.com\/documentation\/cloudkit\/ckmodifyrecordsoperation"
}