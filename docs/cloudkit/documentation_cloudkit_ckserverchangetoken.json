{
  "abstract" : "An opaque token that represents a specific point in a database’s history.",
  "codeExamples" : [
    {
      "code" : "func writeToken(_ token: CKServerChangeToken, to url: URL) throws {\n    \/\/ Use a keyed archiver to securely encode the provided token.\n    let coder = NSKeyedArchiver(requiringSecureCoding: true)\n    coder.encode(token, forKey: \"token\")\n        \n    \/\/ Write the encoded data to disk. The caller provides the\n    \/\/ location as a file URL.\n    let data = coder.encodedData\n    try data.write(to: url)\n}\n    \nfunc readToken(at url: URL) throws -> CKServerChangeToken? {\n    \/\/ Create a Data instance with the contents of the file at\n    \/\/ the provided URL.\n    let data = try Data(contentsOf: url)\n        \n    \/\/ Use a keyed unarchiver to decode the token and return\n    \/\/ it to the caller.\n    let coder = try NSKeyedUnarchiver(forReadingFrom: data)\n    return coder.decodeObject(of: CKServerChangeToken.self, forKey: \"token\")\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "18f6bc38cd022edde0e0f9c646286d10ca9096dbffa88079a42d6eb2d5dcb0b6",
  "crawledAt" : "2025-12-02T13:35:53Z",
  "declaration" : {
    "code" : "class CKServerChangeToken",
    "language" : "swift"
  },
  "id" : "528D72D5-F376-482A-ACB7-E12B7F0D81D0",
  "kind" : "class",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nCloudKit uses server change tokens to record significant events in a database’s history, such as record creation, modification, and deletion. Using change tokens helps reduce the cost of a fetch operation — both the time to execute the fetch and the overall number of records it returns.\n\nYou don’t create change tokens. Instead, [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation] and [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordZoneChangesOperation] provide them during their execution and when they complete. Cache each token as you receive it, overwriting any previous token for the database or record zone you’re fetching from. Then, pass the cached token with your next fetch and CloudKit returns only the changes that occur after that point. Don’t infer any behavior or order from a token’s contents.\n\nThe change tokens that [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation] provides aren’t compatible with [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordZoneChangesOperation] and vice versa, so segregate them in your cache.\n\nChange tokens conform to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding] and are safe to cache on-disk, as the following example shows:",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CloudKit\/CKServerChangeToken\ncrawled: 2025-12-02T13:35:53Z\n---\n\n# CKServerChangeToken\n\n**Class**\n\nAn opaque token that represents a specific point in a database’s history.\n\n## Declaration\n\n```swift\nclass CKServerChangeToken\n```\n\n## Overview\n\nCloudKit uses server change tokens to record significant events in a database’s history, such as record creation, modification, and deletion. Using change tokens helps reduce the cost of a fetch operation — both the time to execute the fetch and the overall number of records it returns.\n\nYou don’t create change tokens. Instead, [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation] and [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordZoneChangesOperation] provide them during their execution and when they complete. Cache each token as you receive it, overwriting any previous token for the database or record zone you’re fetching from. Then, pass the cached token with your next fetch and CloudKit returns only the changes that occur after that point. Don’t infer any behavior or order from a token’s contents.\n\nThe change tokens that [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation] provides aren’t compatible with [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchRecordZoneChangesOperation] and vice versa, so segregate them in your cache.\n\nChange tokens conform to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding] and are safe to cache on-disk, as the following example shows:\n\n```swift\nfunc writeToken(_ token: CKServerChangeToken, to url: URL) throws {\n    \/\/ Use a keyed archiver to securely encode the provided token.\n    let coder = NSKeyedArchiver(requiringSecureCoding: true)\n    coder.encode(token, forKey: \"token\")\n        \n    \/\/ Write the encoded data to disk. The caller provides the\n    \/\/ location as a file URL.\n    let data = coder.encodedData\n    try data.write(to: url)\n}\n    \nfunc readToken(at url: URL) throws -> CKServerChangeToken? {\n    \/\/ Create a Data instance with the contents of the file at\n    \/\/ the provided URL.\n    let data = try Data(contentsOf: url)\n        \n    \/\/ Use a keyed unarchiver to decode the token and return\n    \/\/ it to the caller.\n    let coder = try NSKeyedUnarchiver(forReadingFrom: data)\n    return coder.decodeObject(of: CKServerChangeToken.self, forKey: \"token\")\n}\n```\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CKServerChangeToken",
  "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKServerChangeToken"
}