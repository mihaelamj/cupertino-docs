{
  "abstract" : "An object that describes a shared record’s metadata.",
  "codeExamples" : [

  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSCoding",
    "NSCopying",
    "NSObjectProtocol",
    "NSSecureCoding",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "f3816c1a84bce0a267e62c9993a29e5878e5fa2d9081551af95e4ff759cbf8e8",
  "crawledAt" : "2025-12-05T17:25:34Z",
  "declaration" : {
    "code" : "class Metadata",
    "language" : "swift"
  },
  "id" : "CD5893E9-EA9E-4EE4-A1C4-91B9AEA48F49",
  "kind" : "class",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Overview\n\nA share’s metadata is an intermediary object that provides access to the share, its owner, and, for a shared record hierarchy, its root record. Metadata also includes details about the current user’s participation in the share.\n\nYou don’t create metadata. CloudKit provides it to your app when the user taps or clicks a share’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/url], such as in an email or a message. The method CloudKit calls varies by platform and app configuration, and includes the following:\n\nRespond by checking the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/participantStatus] of the provided metadata. If the status is `pending`, use [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKAcceptSharesOperation] to accept participation in the share. You can also fetch metadata independent of this flow using [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation].\n\nFor a shared record hierarchy, the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/hierarchicalRootRecordID] property contains the ID of the share’s root record. When using [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation] to fetch metadata, you can include the entire root record by setting the operation’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation\/shouldFetchRootRecord] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. CloudKit then populates the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/rootRecord] property before it returns the metadata. You can further customize this behavior using the operation’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation\/rootRecordDesiredKeys-3xrex] property to specify which fields to return. This functionality isn’t applicable for a shared record zone because, unlike a shared record hierarchy, it doesn’t have a nominated root record.\n\nThe participant properties provide the current user’s acceptance status, permissions, and role. Use these values to determine what functionality to provide to the user. For example, only display editing controls for accepted participants with `readWrite` permissions.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/cloudkit\/ckshare\/metadata\ncrawled: 2025-12-05T17:25:34Z\n---\n\n# CKShare.Metadata\n\n**Class**\n\nAn object that describes a shared record’s metadata.\n\n## Declaration\n\n```swift\nclass Metadata\n```\n\n## Overview\n\nA share’s metadata is an intermediary object that provides access to the share, its owner, and, for a shared record hierarchy, its root record. Metadata also includes details about the current user’s participation in the share.\n\nYou don’t create metadata. CloudKit provides it to your app when the user taps or clicks a share’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/url], such as in an email or a message. The method CloudKit calls varies by platform and app configuration, and includes the following:\n\n- For a scene-based iOS app in a running or suspended state, CloudKit calls the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIWindowSceneDelegate\/windowScene(_:userDidAcceptCloudKitShareWith:)] method on your window scene delegate.\n- For a scene-based iOS app that’s not running, the system launches your app in response to the tap or click, and calls the [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UISceneDelegate\/scene(_:willConnectTo:options:)] method on your scene delegate. The `connectionOptions` parameter contains the metadata. Use its [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIScene\/ConnectionOptions\/cloudKitShareMetadata] property to access it.\n- For an iOS app that doesn’t use scenes, CloudKit calls your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/UIKit\/UIApplicationDelegate\/application(_:userDidAcceptCloudKitShareWith:)] method.\n- For a macOS app, CloudKit calls your app delegate’s [doc:\/\/com.apple.documentation\/documentation\/AppKit\/NSApplicationDelegate\/application(_:userDidAcceptCloudKitShareWith:)] method.\n- For a watchOS app, CloudKit calls the [doc:\/\/com.apple.documentation\/documentation\/WatchKit\/WKExtensionDelegate\/userDidAcceptCloudKitShare(with:)] method on your watch extension delegate.\n\nRespond by checking the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/participantStatus] of the provided metadata. If the status is `pending`, use [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKAcceptSharesOperation] to accept participation in the share. You can also fetch metadata independent of this flow using [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation].\n\nFor a shared record hierarchy, the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/hierarchicalRootRecordID] property contains the ID of the share’s root record. When using [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation] to fetch metadata, you can include the entire root record by setting the operation’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation\/shouldFetchRootRecord] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true]. CloudKit then populates the [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKShare\/Metadata\/rootRecord] property before it returns the metadata. You can further customize this behavior using the operation’s [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchShareMetadataOperation\/rootRecordDesiredKeys-3xrex] property to specify which fields to return. This functionality isn’t applicable for a shared record zone because, unlike a shared record hierarchy, it doesn’t have a nominated root record.\n\nThe participant properties provide the current user’s acceptance status, permissions, and role. Use these values to determine what functionality to provide to the user. For example, only display editing controls for accepted participants with `readWrite` permissions.\n\n## Accessing the Share\n\n- **share**: The share that owns the metadata.\n- **containerIdentifier**: The ID of the share’s container.\n- **ownerIdentity**: The identity of the share’s owner.\n\n## Accessing the Root Record\n\n- **hierarchicalRootRecordID**: The record ID of the shared hierarchy’s root record.\n- **rootRecord**: The share’s root record.\n- **rootRecordID**: The record ID of the share’s root record.\n\n## Accessing the Participant’s Capabilities\n\n- **participantRole**: The share’s participant role for the user who retrieves the metadata.\n- **participantPermission**: The share’s permissions for the user who retrieves the metadata.\n- **participantStatus**: The share’s participation status for the user who retrieves the metadata.\n- **participantType**: The share’s participation type for the user who retrieves the metadata.\n\n## Share Requests\n\n- **CKFetchShareMetadataOperation**: An operation that fetches metadata for one or more shares.\n- **CKAcceptSharesOperation**: An operation that confirms a user’s participation in a share.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSCoding\n- NSCopying\n- NSObjectProtocol\n- NSSecureCoding\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The share that owns the metadata.",
          "name" : "share",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/share"
        },
        {
          "description" : "The ID of the share’s container.",
          "name" : "containerIdentifier",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/containerIdentifier"
        },
        {
          "description" : "The identity of the share’s owner.",
          "name" : "ownerIdentity",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/ownerIdentity"
        }
      ],
      "title" : "Accessing the Share"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The record ID of the shared hierarchy’s root record.",
          "name" : "hierarchicalRootRecordID",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/hierarchicalRootRecordID"
        },
        {
          "description" : "The share’s root record.",
          "name" : "rootRecord",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/rootRecord"
        },
        {
          "description" : "The record ID of the share’s root record.",
          "name" : "rootRecordID",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/rootRecordID"
        }
      ],
      "title" : "Accessing the Root Record"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "The share’s participant role for the user who retrieves the metadata.",
          "name" : "participantRole",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/participantRole"
        },
        {
          "description" : "The share’s permissions for the user who retrieves the metadata.",
          "name" : "participantPermission",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/participantPermission"
        },
        {
          "description" : "The share’s participation status for the user who retrieves the metadata.",
          "name" : "participantStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/participantStatus"
        },
        {
          "description" : "The share’s participation type for the user who retrieves the metadata.",
          "name" : "participantType",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKShare\/Metadata\/participantType"
        }
      ],
      "title" : "Accessing the Participant’s Capabilities"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An operation that fetches metadata for one or more shares.",
          "name" : "CKFetchShareMetadataOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKFetchShareMetadataOperation"
        },
        {
          "description" : "An operation that confirms a user’s participation in a share.",
          "name" : "CKAcceptSharesOperation",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKAcceptSharesOperation"
        }
      ],
      "title" : "Share Requests"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "CKShare.Metadata",
  "url" : "https:\/\/developer.apple.com\/documentation\/cloudkit\/ckshare\/metadata"
}