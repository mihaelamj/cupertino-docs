{
  "abstract" : "Fetches all modified record zones and delivers them to a completion handler.",
  "codeExamples" : [

  ],
  "contentHash" : "578a7c3c5a00202f183a4c6ddbb6431344d7077e547faa900ea7d864a5585004",
  "crawledAt" : "2025-12-06T07:08:44Z",
  "declaration" : {
    "code" : "@preconcurrency func fetchDatabaseChanges(since changeToken: CKServerChangeToken?, resultsLimit: Int? = nil, completionHandler: @escaping (Result<(modifications: [CKDatabase.DatabaseChange.Modification], deletions: [CKDatabase.DatabaseChange.Deletion], changeToken: CKServerChangeToken, moreComing: Bool), any Error>) -> Void)",
    "language" : "swift"
  },
  "id" : "6F493DF1-17C0-4912-B6D0-35688F38D92C",
  "kind" : "method",
  "language" : "swift",
  "module" : "CloudKit",
  "overview" : "## Discussion\n\nThe completion handler takes a single [doc:\/\/com.apple.documentation\/documentation\/Swift\/Result] parameter that contains either a tuple, or an error if the request fails. For example, when the network is unavailable or the device doesn’t have an active iCloud account.\n\nWhen present, the tuple contains the following named elements:\n\nThis method fetches record zone changes in a database, which includes new record zones, changed zones — including deleted or purged zones — and zones that contain record changes.\n\nAlong with the fetched changes, CloudKit supplies a *change token*, which is an opaque token that denotes a specific point in the database’s history. Store this token and provide it the next time you execute this method. Change tokens conform to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding] and are safe to cache on-disk. Don’t infer any behavior or order from a token’s contents.\n\nFor information on a more configurable way to fetch database changes, see [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation].",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/fetchDatabaseChanges(since:resultsLimit:completionHandler:)\ncrawled: 2025-12-06T07:08:44Z\n---\n\n# fetchDatabaseChanges(since:resultsLimit:completionHandler:)\n\n**Instance Method**\n\nFetches all modified record zones and delivers them to a completion handler.\n\n## Declaration\n\n```swift\n@preconcurrency func fetchDatabaseChanges(since changeToken: CKServerChangeToken?, resultsLimit: Int? = nil, completionHandler: @escaping (Result<(modifications: [CKDatabase.DatabaseChange.Modification], deletions: [CKDatabase.DatabaseChange.Deletion], changeToken: CKServerChangeToken, moreComing: Bool), any Error>) -> Void)\n```\n\n## Parameters\n\n- **changeToken**: The change token from the previous execution of this method. If this is your app’s first fetch, or you want to refetch every change in the database’s history, specify `nil`.\n- **resultsLimit**: The maximum number of changes to return. The server may use a limit lower than this value.\n- **completionHandler**: The closure to execute with the fetch results.\n\n## Discussion\n\nThe completion handler takes a single [doc:\/\/com.apple.documentation\/documentation\/Swift\/Result] parameter that contains either a tuple, or an error if the request fails. For example, when the network is unavailable or the device doesn’t have an active iCloud account.\n\nWhen present, the tuple contains the following named elements:\n\n\n\nThis method fetches record zone changes in a database, which includes new record zones, changed zones — including deleted or purged zones — and zones that contain record changes.\n\nAlong with the fetched changes, CloudKit supplies a *change token*, which is an opaque token that denotes a specific point in the database’s history. Store this token and provide it the next time you execute this method. Change tokens conform to [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSSecureCoding] and are safe to cache on-disk. Don’t infer any behavior or order from a token’s contents.\n\nFor information on a more configurable way to fetch database changes, see [doc:\/\/com.apple.cloudkit\/documentation\/CloudKit\/CKFetchDatabaseChangesOperation].\n\n## Fetching Changes\n\n- **databaseChanges(since:resultsLimit:)**: Fetches all modified record zones and returns them to an awaiting caller.\n- **CKDatabase.DatabaseChange**: Objects that indicate the type of database change.\n- **recordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:)**: Fetches all modified records from a specific record zone and returns them to an awaiting caller.\n- **fetchRecordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:completionHandler:)**: Fetches all modified records from a specific record zone and delivers them to a completion handler.\n- **CKDatabase.RecordZoneChange**: Objects that indicate the type of record zone change.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Fetches all modified record zones and returns them to an awaiting caller.",
          "name" : "databaseChanges(since:resultsLimit:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/databaseChanges(since:resultsLimit:)"
        },
        {
          "description" : "Objects that indicate the type of database change.",
          "name" : "CKDatabase.DatabaseChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/DatabaseChange"
        },
        {
          "description" : "Fetches all modified records from a specific record zone and returns them to an awaiting caller.",
          "name" : "recordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/recordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:)"
        },
        {
          "description" : "Fetches all modified records from a specific record zone and delivers them to a completion handler.",
          "name" : "fetchRecordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/fetchRecordZoneChanges(inZoneWith:since:desiredKeys:resultsLimit:completionHandler:)"
        },
        {
          "description" : "Objects that indicate the type of record zone change.",
          "name" : "CKDatabase.RecordZoneChange",
          "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/RecordZoneChange"
        }
      ],
      "title" : "Fetching Changes"
    }
  ],
  "source" : "appleJSON",
  "title" : "fetchDatabaseChanges(since:resultsLimit:completionHandler:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/CloudKit\/CKDatabase\/fetchDatabaseChanges(since:resultsLimit:completionHandler:)"
}