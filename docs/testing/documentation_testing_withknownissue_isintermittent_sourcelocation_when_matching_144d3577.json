{
  "abstract" : "Invoke a function that has a known issue that is expected to occur during its execution.",
  "codeExamples" : [
    {
      "code" : "@Test func example() throws {\n  try withKnownIssue {\n    try flakyCall()\n  } when: {\n    callsAreFlakyOnThisPlatform()\n  } matching: { issue in\n    issue.error is FileNotFoundError\n  }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "343a7454296014045d9a7251d8b7f92fab59343224c336067a1d1172d86b116c",
  "crawledAt" : "2025-12-04T01:05:04Z",
  "declaration" : {
    "code" : "func withKnownIssue(_ comment: Comment? = nil, isIntermittent: Bool = false, sourceLocation: SourceLocation = #_sourceLocation, _ body: () throws -> Void, when precondition: () -> Bool = { true }, matching issueMatcher: @escaping KnownIssueMatcher = { _ in true }) rethrows",
    "language" : "swift"
  },
  "id" : "A74A8756-0F9C-4DDA-9AFC-29CD3CE4FCE9",
  "kind" : "function",
  "language" : "swift",
  "module" : "Swift Testing",
  "overview" : "## Discussion\n\nUse this function when a test is known to record one or more issues that should not cause the test to fail, or if a precondition affects whether issues are known to occur. For example:\n\nIt is not necessary to specify both `precondition` and `issueMatcher` if only one is relevant. If all errors and issues should be considered known issues, use [doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:sourceLocation:_:)] instead.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Testing\/withKnownIssue(_:isIntermittent:sourceLocation:_:when:matching:)\ncrawled: 2025-12-04T01:05:04Z\n---\n\n# withKnownIssue(_:isIntermittent:sourceLocation:_:when:matching:)\n\n**Function**\n\nInvoke a function that has a known issue that is expected to occur during its execution.\n\n## Declaration\n\n```swift\nfunc withKnownIssue(_ comment: Comment? = nil, isIntermittent: Bool = false, sourceLocation: SourceLocation = #_sourceLocation, _ body: () throws -> Void, when precondition: () -> Bool = { true }, matching issueMatcher: @escaping KnownIssueMatcher = { _ in true }) rethrows\n```\n\n## Parameters\n\n- **comment**: An optional comment describing the known issue.\n- **isIntermittent**: Whether or not the known issue occurs intermittently. If this argument is `true` and the known issue does not occur, no secondary issue is recorded.\n- **sourceLocation**: The source location to which any recorded issues should be attributed.\n- **body**: The function to invoke.\n- **precondition**: A function that determines if issues are known to occur during the execution of `body`. If this function returns `true`, encountered issues that are matched by `issueMatcher` are considered to be known issues; if this function returns `false`, `issueMatcher` is not called and they are treated as unknown.\n- **issueMatcher**: A function to invoke when an issue occurs that is used to determine if the issue is known to occur. By default, all issues match.\n\n## Discussion\n\n\n\nUse this function when a test is known to record one or more issues that should not cause the test to fail, or if a precondition affects whether issues are known to occur. For example:\n\n```swift\n@Test func example() throws {\n  try withKnownIssue {\n    try flakyCall()\n  } when: {\n    callsAreFlakyOnThisPlatform()\n  } matching: { issue in\n    issue.error is FileNotFoundError\n  }\n}\n```\n\nIt is not necessary to specify both `precondition` and `issueMatcher` if only one is relevant. If all errors and issues should be considered known issues, use [doc:\/\/org.swift.testing\/documentation\/Testing\/withKnownIssue(_:isIntermittent:sourceLocation:_:)] instead.\n\n\n\n## Related Documentation\n\n- **Known issues**: Mark issues as known when running tests.\n\n## Recording known issues in tests\n\n- **withKnownIssue(_:isIntermittent:sourceLocation:_:)**: Invoke a function that has a known issue that is expected to occur during its execution.\n- **withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:)**: Invoke a function that has a known issue that is expected to occur during its execution.\n- **withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:when:matching:)**: Invoke a function that has a known issue that is expected to occur during its execution.\n- **KnownIssueMatcher**: A function that is used to match known issues.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Mark issues as known when running tests.",
          "name" : "Known issues",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/known-issues"
        }
      ],
      "title" : "Related Documentation"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Invoke a function that has a known issue that is expected to occur during its execution.",
          "name" : "withKnownIssue(_:isIntermittent:sourceLocation:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/withKnownIssue(_:isIntermittent:sourceLocation:_:)"
        },
        {
          "description" : "Invoke a function that has a known issue that is expected to occur during its execution.",
          "name" : "withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:)"
        },
        {
          "description" : "Invoke a function that has a known issue that is expected to occur during its execution.",
          "name" : "withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:when:matching:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/withKnownIssue(_:isIntermittent:isolation:sourceLocation:_:when:matching:)"
        },
        {
          "description" : "A function that is used to match known issues.",
          "name" : "KnownIssueMatcher",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/KnownIssueMatcher"
        }
      ],
      "title" : "Recording known issues in tests"
    }
  ],
  "source" : "appleJSON",
  "title" : "withKnownIssue(_:isIntermittent:sourceLocation:_:when:matching:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/withKnownIssue(_:isIntermittent:sourceLocation:_:when:matching:)"
}