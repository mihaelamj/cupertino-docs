{
  "abstract" : "Check for expected values, outcomes, and asynchronous events in tests.",
  "codeExamples" : [
    {
      "code" : "@Test func calculatingOrderTotal() {\n  let calculator = OrderCalculator()\n  #expect(calculator.total(of: [3, 3]) == 7)\n  \/\/ Prints \"Expectation failed: (calculator.total(of: [3, 3]) → 6) == 7\"\n}",
      "language" : "swift"
    },
    {
      "code" : "@Test func returningCustomerRemembersUsualOrder() throws {\n  let customer = try #require(Customer(id: 123))\n  \/\/ The test runner doesn't reach this line if the customer is nil.\n  #expect(customer.usualOrder.countOfItems == 2)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "78c13fe29523b9ad70a0b9dfc7851cf04c72eb96ef482fc22850653eeaa6fe97",
  "crawledAt" : "2025-12-01T09:05:30Z",
  "id" : "43CDD99B-94FE-46B1-830F-59398477A5CC",
  "kind" : "collection",
  "module" : "Swift Testing",
  "overview" : "## Overview\n\nUse [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)] and [doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] macros to validate expected outcomes. To validate that an error is thrown, or *not* thrown, the testing library provides several overloads of the macros that you can use. For more information, see [doc:\/\/org.swift.testing\/documentation\/Testing\/testing-for-errors-in-swift-code].\n\nUse a [doc:\/\/org.swift.testing\/documentation\/Testing\/Confirmation] to confirm the occurrence of an asynchronous event that you can’t check directly using an expectation. For more information, see [doc:\/\/org.swift.testing\/documentation\/Testing\/testing-asynchronous-code].\n\n### Validate your code’s result\n\nTo validate that your code produces an expected value, use [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)]. This macro captures the expression you pass, and provides detailed information when the code doesn’t satisfy the expectation.\n\nYour test keeps running after [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)] fails. To stop the test when the code doesn’t satisfy a requirement, use [doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] instead:\n\n[doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] throws an instance of [doc:\/\/org.swift.testing\/documentation\/Testing\/ExpectationFailedError] when your code fails to satisfy the requirement.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/Testing\/Expectations\ncrawled: 2025-12-01T09:05:30Z\n---\n\n# Expectations and confirmations\n\n**API Collection**\n\nCheck for expected values, outcomes, and asynchronous events in tests.\n\n## Overview\n\nUse [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)] and [doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] macros to validate expected outcomes. To validate that an error is thrown, or *not* thrown, the testing library provides several overloads of the macros that you can use. For more information, see [doc:\/\/org.swift.testing\/documentation\/Testing\/testing-for-errors-in-swift-code].\n\nUse a [doc:\/\/org.swift.testing\/documentation\/Testing\/Confirmation] to confirm the occurrence of an asynchronous event that you can’t check directly using an expectation. For more information, see [doc:\/\/org.swift.testing\/documentation\/Testing\/testing-asynchronous-code].\n\n### Validate your code’s result\n\nTo validate that your code produces an expected value, use [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)]. This macro captures the expression you pass, and provides detailed information when the code doesn’t satisfy the expectation.\n\n```swift\n@Test func calculatingOrderTotal() {\n  let calculator = OrderCalculator()\n  #expect(calculator.total(of: [3, 3]) == 7)\n  \/\/ Prints \"Expectation failed: (calculator.total(of: [3, 3]) → 6) == 7\"\n}\n```\n\nYour test keeps running after [doc:\/\/org.swift.testing\/documentation\/Testing\/expect(_:_:sourceLocation:)] fails. To stop the test when the code doesn’t satisfy a requirement, use [doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] instead:\n\n```swift\n@Test func returningCustomerRemembersUsualOrder() throws {\n  let customer = try #require(Customer(id: 123))\n  \/\/ The test runner doesn't reach this line if the customer is nil.\n  #expect(customer.usualOrder.countOfItems == 2)\n}\n```\n\n[doc:\/\/org.swift.testing\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q] throws an instance of [doc:\/\/org.swift.testing\/documentation\/Testing\/ExpectationFailedError] when your code fails to satisfy the requirement.\n\n## Checking expectations\n\n- **expect(_:_:sourceLocation:)**: Check that an expectation has passed after a condition has been evaluated.\n- **require(_:_:sourceLocation:)**: Check that an expectation has passed after a condition has been evaluated and throw an error if it failed.\n- **require(_:_:sourceLocation:)**: Unwrap an optional value or, if it is `nil`, fail and throw an error.\n\n## Checking that errors are thrown\n\n- **Testing for errors in Swift code**: Ensure that your code handles errors in the way you expect.\n- **expect(throws:_:sourceLocation:performing:)**: Check that an expression always throws an error of a given type.\n- **expect(throws:_:sourceLocation:performing:)**: Check that an expression always throws a specific error.\n- **expect(_:sourceLocation:performing:throws:)**: Check that an expression always throws an error matching some condition.\n- **require(throws:_:sourceLocation:performing:)**: Check that an expression always throws an error of a given type, and throw an error if it does not.\n- **require(throws:_:sourceLocation:performing:)**\n- **require(_:sourceLocation:performing:throws:)**: Check that an expression always throws an error matching some condition, and throw an error if it does not.\n\n## Checking how processes exit\n\n- **Exit testing**: Use exit tests to test functionality that might cause a test process to exit.\n- **expect(processExitsWith:observing:_:sourceLocation:performing:)**: Check that an expression causes the process to terminate in a given fashion.\n- **require(processExitsWith:observing:_:sourceLocation:performing:)**: Check that an expression causes the process to terminate in a given fashion and throw an error if it did not.\n- **ExitStatus**: An enumeration describing possible status a process will report on exit.\n- **ExitTest**: A type describing an exit test.\n\n## Confirming that asynchronous events occur\n\n- **Testing asynchronous code**: Validate whether your code causes expected events to happen.\n- **confirmation(_:expectedCount:isolation:sourceLocation:_:)**: Confirm that some event occurs during the invocation of a function.\n- **confirmation(_:expectedCount:isolation:sourceLocation:_:)**: Confirm that some event occurs during the invocation of a function.\n- **Confirmation**: A type that can be used to confirm that an event occurs zero or more times.\n\n## Retrieving information about checked expectations\n\n- **Expectation**: A type describing an expectation that has been evaluated.\n- **ExpectationFailedError**: A type describing an error thrown when an expectation fails during evaluation.\n- **CustomTestStringConvertible**: A protocol describing types with a custom string representation when presented as part of a test’s output.\n\n## Representing source locations\n\n- **SourceLocation**: A type representing a location in source code.\n\n## Behavior validation\n\n- **Known issues**: Mark issues as known when running tests.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Check that an expectation has passed after a condition has been evaluated.",
          "name" : "expect(_:_:sourceLocation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/expect(_:_:sourceLocation:)"
        },
        {
          "description" : "Check that an expectation has passed after a condition has been evaluated and throw an error if it failed.",
          "name" : "require(_:_:sourceLocation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(_:_:sourceLocation:)-5l63q"
        },
        {
          "description" : "Unwrap an optional value or, if it is `nil`, fail and throw an error.",
          "name" : "require(_:_:sourceLocation:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(_:_:sourceLocation:)-6w9oo"
        }
      ],
      "title" : "Checking expectations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Ensure that your code handles errors in the way you expect.",
          "name" : "Testing for errors in Swift code",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/testing-for-errors-in-swift-code"
        },
        {
          "description" : "Check that an expression always throws an error of a given type.",
          "name" : "expect(throws:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/expect(throws:_:sourceLocation:performing:)-1hfms"
        },
        {
          "description" : "Check that an expression always throws a specific error.",
          "name" : "expect(throws:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/expect(throws:_:sourceLocation:performing:)-7du1h"
        },
        {
          "description" : "Check that an expression always throws an error matching some condition.",
          "name" : "expect(_:sourceLocation:performing:throws:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/expect(_:sourceLocation:performing:throws:)"
        },
        {
          "description" : "Check that an expression always throws an error of a given type, and throw an error if it does not.",
          "name" : "require(throws:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(throws:_:sourceLocation:performing:)-7n34r"
        },
        {
          "description" : "",
          "name" : "require(throws:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(throws:_:sourceLocation:performing:)-4djuw"
        },
        {
          "description" : "Check that an expression always throws an error matching some condition, and throw an error if it does not.",
          "name" : "require(_:sourceLocation:performing:throws:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(_:sourceLocation:performing:throws:)"
        }
      ],
      "title" : "Checking that errors are thrown"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use exit tests to test functionality that might cause a test process to exit.",
          "name" : "Exit testing",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/exit-testing"
        },
        {
          "description" : "Check that an expression causes the process to terminate in a given fashion.",
          "name" : "expect(processExitsWith:observing:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/expect(processExitsWith:observing:_:sourceLocation:performing:)"
        },
        {
          "description" : "Check that an expression causes the process to terminate in a given fashion and throw an error if it did not.",
          "name" : "require(processExitsWith:observing:_:sourceLocation:performing:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/require(processExitsWith:observing:_:sourceLocation:performing:)"
        },
        {
          "description" : "An enumeration describing possible status a process will report on exit.",
          "name" : "ExitStatus",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/ExitStatus"
        },
        {
          "description" : "A type describing an exit test.",
          "name" : "ExitTest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/ExitTest"
        }
      ],
      "title" : "Checking how processes exit"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Validate whether your code causes expected events to happen.",
          "name" : "Testing asynchronous code",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/testing-asynchronous-code"
        },
        {
          "description" : "Confirm that some event occurs during the invocation of a function.",
          "name" : "confirmation(_:expectedCount:isolation:sourceLocation:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/confirmation(_:expectedCount:isolation:sourceLocation:_:)-5mqz2"
        },
        {
          "description" : "Confirm that some event occurs during the invocation of a function.",
          "name" : "confirmation(_:expectedCount:isolation:sourceLocation:_:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/confirmation(_:expectedCount:isolation:sourceLocation:_:)-l3il"
        },
        {
          "description" : "A type that can be used to confirm that an event occurs zero or more times.",
          "name" : "Confirmation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/Confirmation"
        }
      ],
      "title" : "Confirming that asynchronous events occur"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type describing an expectation that has been evaluated.",
          "name" : "Expectation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/Expectation"
        },
        {
          "description" : "A type describing an error thrown when an expectation fails during evaluation.",
          "name" : "ExpectationFailedError",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/ExpectationFailedError"
        },
        {
          "description" : "A protocol describing types with a custom string representation when presented as part of a test’s output.",
          "name" : "CustomTestStringConvertible",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/CustomTestStringConvertible"
        }
      ],
      "title" : "Retrieving information about checked expectations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "A type representing a location in source code.",
          "name" : "SourceLocation",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/SourceLocation"
        }
      ],
      "title" : "Representing source locations"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Mark issues as known when running tests.",
          "name" : "Known issues",
          "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/known-issues"
        }
      ],
      "title" : "Behavior validation"
    }
  ],
  "source" : "appleJSON",
  "title" : "Expectations and confirmations",
  "url" : "https:\/\/developer.apple.com\/documentation\/Testing\/Expectations"
}