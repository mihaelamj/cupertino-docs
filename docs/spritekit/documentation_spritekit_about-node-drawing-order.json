{
  "abstract" : "Understand how SpriteKit layers your scene’s nodes from top to bottom.",
  "codeExamples" : [
    {
      "code" : "func addNodesTo(scene: SKScene,\n                color: SKColor, position: CGPoint,\n                parentZ: CGFloat, childZ: CGFloat) {\n    \n    let diameter: CGFloat = 250\n    let rect = CGRect(origin: position,\n                      size: CGSize(width: diameter, height: diameter))\n     \n    let parentNode = SKShapeNode(rect: rect)\n    let childNode = SKShapeNode(ellipseIn: rect.insetBy(dx: 10, dy: 10))\n  \n    [(parentNode, scene, parentZ), (childNode, parentNode, childZ)].forEach {\n        node, parent, zPosition in\n        \n        node.fillColor = color\n        node.strokeColor = .white\n        node.zPosition = zPosition\n        \n        parent.addChild(node)\n    }\n}\n\n  \naddNodesTo(scene: scene,\n           color: .red,\n           position: CGPoint(x: 300, y: 300),\n           parentZ: 10,\n           childZ: 10)\n \naddNodesTo(scene: scene,\n           color: .blue,\n           position: CGPoint(x: 350, y: 250),\n           parentZ: 15,\n           childZ: 10)",
      "language" : "swift"
    }
  ],
  "contentHash" : "71f75661ed7cbe82b362a1f0cf55d252fd61e82b81b54cee0e5e14efbf79d8a8",
  "crawledAt" : "2025-12-07T23:46:45Z",
  "id" : "993E1025-B81C-4E44-B02F-23228CBC12FC",
  "kind" : "article",
  "language" : "swift",
  "module" : "SpriteKit",
  "overview" : "## Overview\n\nThe standard behavior for scene rendering follows a simple pair of rules (as shown in the figure below):\n\n\n\nIn the figure above, the helicopter body and its components are all children of the `sky` node. So the scene renders its content as follows:\n\n### Draw Order Relative to the Parent Node\n\nMaintaining the order of a node’s children can be a lot of work. Instead, you can give each node an explicit height in the scene. You do this by setting a node’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKNode\/zPosition] property. The `zPosition` is the node’s height relative to its parent node, much as a node’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKNode\/position] property represents its x and y position relative to its parent’s position. So you use `zPosition` to place a node above or below the parent’s position.\n\nWhen you take `zPosition` into account, here is how the node tree is rendered:\n\n### Sibling Order Performance\n\nSpriteKit uses a deterministic rendering order based on the height nodes and their positions in the node tree. But, because the rendering order is so deterministic, SpriteKit may be unable to apply some rendering optimizations that it might otherwise apply. For example, it might be better if SpriteKit could gather all of the nodes that share the same texture and drawing mode and draw them with a single drawing pass. To enable these sorts of optimizations, you set the view’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKView\/ignoresSiblingOrder] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nWhen you ignore sibling order, SpriteKit uses the graphics hardware to render the nodes so that they appear sorted by `zPosition`. It sorts nodes into a drawing order that reduces the number of draw calls needed to render the scene. But with this optimized drawing order, you cannot predict the rendering order for nodes that share the same height. The rendering order may change each time a new frame is rendered. In many cases, the drawing order of these nodes is not important. For example, if the nodes are at the same height but do not overlap on screen, they can be drawn in any order.\n\nThe figure below shows an example of a tree that uses `zPosition` to determine the rendering order. In this example, the body of the helicopter is at a height of 100, and its children are rendered relative to its height. The two rotor nodes share the same height but do not overlap.\n\n\n\n### Interleaved Child Nodes from Different Parents\n\nBecause a child node’s `zPosition` is added to its parent’s `zPosition`, you can interleave child nodes from different parent nodes. Listing 1 shows code that creates two square parent nodes, each with a circular child node. The first node has a `zPosition` of 10 and its child node has a `zPosition` of 10. The second node has a `zPosition` of 15 and its child node also has a `zPosition` of 10.\n\nOnce added to the scene, the child of the first node has an effective global `zPosition` of 20 and the child of the second node has an effective global `zPosition` of 25, giving an interleaving effect.\n\nListing 1. Interleaving composite nodes\n\nThe figure below shows the resulting scene.\n\n\n\nBecause `zPosition` is additive across parent-child node relationships, you can use both tree order and `zPositions` to determine your scene’s rendering order. When rendering a complex scene, you should disable the sorting behavior and use the `zPositions` of nodes to create a deterministic scene order.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/SpriteKit\/about-node-drawing-order\ncrawled: 2025-12-07T23:46:45Z\n---\n\n# About Node Drawing Order\n\n**Article**\n\nUnderstand how SpriteKit layers your scene’s nodes from top to bottom.\n\n## Overview\n\nThe standard behavior for scene rendering follows a simple pair of rules (as shown in the figure below):\n\n- A parent draws its content before rendering its children.\n- Children are rendered in the order in which they appear in the child array.\n\n\n\nIn the figure above, the helicopter body and its components are all children of the `sky` node. So the scene renders its content as follows:\n\n1. The scene renders itself, clearing its contents to its background color.\n2. The scene renders the `sky` node.\n3. The `sky` node renders its children—the helicopter body and its components—in the order they were added as children.\n\n### Draw Order Relative to the Parent Node\n\nMaintaining the order of a node’s children can be a lot of work. Instead, you can give each node an explicit height in the scene. You do this by setting a node’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKNode\/zPosition] property. The `zPosition` is the node’s height relative to its parent node, much as a node’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKNode\/position] property represents its x and y position relative to its parent’s position. So you use `zPosition` to place a node above or below the parent’s position.\n\nWhen you take `zPosition` into account, here is how the node tree is rendered:\n\n1. Each node’s global `zPosition` is calculated by recursively adding its `zPosition` to its parent’s `zPosition`.\n2. Nodes are drawn in order from smallest `zPosition` to largest `zPosition`.\n3. If two nodes share the same `zPosition`, ancestors are rendered first, and siblings are rendered in child order.\n\n### Sibling Order Performance\n\nSpriteKit uses a deterministic rendering order based on the height nodes and their positions in the node tree. But, because the rendering order is so deterministic, SpriteKit may be unable to apply some rendering optimizations that it might otherwise apply. For example, it might be better if SpriteKit could gather all of the nodes that share the same texture and drawing mode and draw them with a single drawing pass. To enable these sorts of optimizations, you set the view’s [doc:\/\/com.apple.spritekit\/documentation\/SpriteKit\/SKView\/ignoresSiblingOrder] property to [doc:\/\/com.apple.documentation\/documentation\/Swift\/true].\n\nWhen you ignore sibling order, SpriteKit uses the graphics hardware to render the nodes so that they appear sorted by `zPosition`. It sorts nodes into a drawing order that reduces the number of draw calls needed to render the scene. But with this optimized drawing order, you cannot predict the rendering order for nodes that share the same height. The rendering order may change each time a new frame is rendered. In many cases, the drawing order of these nodes is not important. For example, if the nodes are at the same height but do not overlap on screen, they can be drawn in any order.\n\nThe figure below shows an example of a tree that uses `zPosition` to determine the rendering order. In this example, the body of the helicopter is at a height of 100, and its children are rendered relative to its height. The two rotor nodes share the same height but do not overlap.\n\n\n\n### Interleaved Child Nodes from Different Parents\n\nBecause a child node’s `zPosition` is added to its parent’s `zPosition`, you can interleave child nodes from different parent nodes. Listing 1 shows code that creates two square parent nodes, each with a circular child node. The first node has a `zPosition` of 10 and its child node has a `zPosition` of 10. The second node has a `zPosition` of 15 and its child node also has a `zPosition` of 10.\n\nOnce added to the scene, the child of the first node has an effective global `zPosition` of 20 and the child of the second node has an effective global `zPosition` of 25, giving an interleaving effect.\n\nListing 1. Interleaving composite nodes\n\n```swift\nfunc addNodesTo(scene: SKScene,\n                color: SKColor, position: CGPoint,\n                parentZ: CGFloat, childZ: CGFloat) {\n    \n    let diameter: CGFloat = 250\n    let rect = CGRect(origin: position,\n                      size: CGSize(width: diameter, height: diameter))\n     \n    let parentNode = SKShapeNode(rect: rect)\n    let childNode = SKShapeNode(ellipseIn: rect.insetBy(dx: 10, dy: 10))\n  \n    [(parentNode, scene, parentZ), (childNode, parentNode, childZ)].forEach {\n        node, parent, zPosition in\n        \n        node.fillColor = color\n        node.strokeColor = .white\n        node.zPosition = zPosition\n        \n        parent.addChild(node)\n    }\n}\n\n  \naddNodesTo(scene: scene,\n           color: .red,\n           position: CGPoint(x: 300, y: 300),\n           parentZ: 10,\n           childZ: 10)\n \naddNodesTo(scene: scene,\n           color: .blue,\n           position: CGPoint(x: 350, y: 250),\n           parentZ: 15,\n           childZ: 10)\n```\n\nThe figure below shows the resulting scene.\n\n\n\nBecause `zPosition` is additive across parent-child node relationships, you can use both tree order and `zPositions` to determine your scene’s rendering order. When rendering a complex scene, you should disable the sorting behavior and use the `zPositions` of nodes to create a deterministic scene order.\n\n\n\n## Configuring Draw Order\n\n- **zPosition**: The height of the node relative to its parent.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The height of the node relative to its parent.",
          "name" : "zPosition",
          "url" : "https:\/\/developer.apple.com\/documentation\/SpriteKit\/SKNode\/zPosition"
        }
      ],
      "title" : "Configuring Draw Order"
    }
  ],
  "source" : "appleJSON",
  "title" : "About Node Drawing Order",
  "url" : "https:\/\/developer.apple.com\/documentation\/SpriteKit\/about-node-drawing-order"
}