{
  "abstract" : "Add test postbacks to the test session.",
  "codeExamples" : [

  ],
  "contentHash" : "d2fca604f4296e86aedff299305f01b3bdbdfd843ca1c80f1e5bfcf52efbd6ad",
  "crawledAt" : "2025-12-02T20:24:32Z",
  "declaration" : {
    "code" : "func setPostbacks(_ postbacks: [SKAdTestPostback]) throws",
    "language" : "swift"
  },
  "id" : "94D3FFE2-5422-49C5-8261-471D564F53CC",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit Test",
  "overview" : "## Discussion\n\nAn error occurs if any of the test postbacks are invalid or if there’s an issue with the set of test postbacks. Otherwise, the test passes.\n\nCreate postbacks using the initializer for [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestPostback], [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestPostback\/init(version:adNetworkIdentifier:adCampaignIdentifier:appStoreItemIdentifier:sourceAppStoreItemIdentifier:conversionValue:fidelityType:isRedownload:didWin:postbackURL:)]. Add the postbacks to the test session by calling [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)].\n\nCalling [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)] overwrites previous postbacks in the test session, if any exist.\n\nInclude up to six test postbacks in your test session if you want to mimic the behavior of postbacks when users experience multiple ad impressions for the same app. For more information about attributions when there are multiple ad impressions, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\nThe array of test postbacks in the test session need to follow the same rules that SKAdNetwork uses for postbacks, including:",
  "platforms" : [
    "iOS",
    "iPadOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)\ncrawled: 2025-12-02T20:24:32Z\n---\n\n# setPostbacks(_:)\n\n**Instance Method**\n\nAdd test postbacks to the test session.\n\n## Declaration\n\n```swift\nfunc setPostbacks(_ postbacks: [SKAdTestPostback]) throws\n```\n\n## Parameters\n\n- **postbacks**: An array of one to six test postbacks you add to a test session. The first postback must always be the winning postback with a `didWin` value of `true`. There must be only one winning postback.\n\n## Discussion\n\nAn error occurs if any of the test postbacks are invalid or if there’s an issue with the set of test postbacks. Otherwise, the test passes.\n\nCreate postbacks using the initializer for [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestPostback], [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestPostback\/init(version:adNetworkIdentifier:adCampaignIdentifier:appStoreItemIdentifier:sourceAppStoreItemIdentifier:conversionValue:fidelityType:isRedownload:didWin:postbackURL:)]. Add the postbacks to the test session by calling [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)].\n\nCalling [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)] overwrites previous postbacks in the test session, if any exist.\n\nInclude up to six test postbacks in your test session if you want to mimic the behavior of postbacks when users experience multiple ad impressions for the same app. For more information about attributions when there are multiple ad impressions, see [doc:\/\/com.apple.documentation\/documentation\/StoreKit\/receiving-ad-attributions-and-postbacks].\n\nThe array of test postbacks in the test session need to follow the same rules that SKAdNetwork uses for postbacks, including:\n\n- The `postbacks` array can only contain up to six postbacks.\n- The first postback in the array must be the only winning postback in the array, with a `didWin` value of `true`.\n- All postbacks, except the first postback in the array, have a `didWin` value of `false`.\n\n## Adding and sending postbacks\n\n- **postbacks**: An array of test postbacks you set in the testing environment.\n- **flushPostbacks(responses:)**: Sends the test postbacks and handles the responses.\n- **SKANTestPostbackResponseHandler**: A type that represents the test postback response handler.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array of test postbacks you set in the testing environment.",
          "name" : "postbacks",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKAdTestSession\/postbacks"
        },
        {
          "description" : "Sends the test postbacks and handles the responses.",
          "name" : "flushPostbacks(responses:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKAdTestSession\/flushPostbacks(responses:)"
        },
        {
          "description" : "A type that represents the test postback response handler.",
          "name" : "SKANTestPostbackResponseHandler",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKANTestPostbackResponseHandler"
        }
      ],
      "title" : "Adding and sending postbacks"
    }
  ],
  "source" : "appleJSON",
  "title" : "setPostbacks(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKAdTestSession\/setPostbacks(_:)"
}