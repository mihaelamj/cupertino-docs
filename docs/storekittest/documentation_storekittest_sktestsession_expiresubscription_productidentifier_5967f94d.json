{
  "abstract" : "Causes the identified auto-renewable subscription to expire immediately in the test environment.",
  "codeExamples" : [

  ],
  "contentHash" : "433e97ffc34d1da7344408392f8644e9fedc4791eaad1a834ac920ee19309dfe",
  "crawledAt" : "2025-12-05T12:53:56Z",
  "declaration" : {
    "code" : "func expireSubscription(productIdentifier: String) throws",
    "language" : "swift"
  },
  "id" : "8C9D7720-EC7B-4428-9120-9F1275344158",
  "kind" : "method",
  "language" : "swift",
  "module" : "StoreKit Test",
  "overview" : "## Discussion\n\nUse this method to test how your app handles expired subscriptions and revoking access to content or service. This method forces the subscription to expire. Specifically, the testing environment disables auto-renew and changes the subscription’s expiration date to the current system time.\n\nYou can also test subscription expiration by accelerating the time in the testing environment to speed up subscription renewal periods. See [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKTestSession\/timeRate-swift.property] for more information.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst",
    "macOS",
    "tvOS",
    "visionOS",
    "watchOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/expireSubscription(productIdentifier:)\ncrawled: 2025-12-05T12:53:56Z\n---\n\n# expireSubscription(productIdentifier:)\n\n**Instance Method**\n\nCauses the identified auto-renewable subscription to expire immediately in the test environment.\n\n## Declaration\n\n```swift\nfunc expireSubscription(productIdentifier: String) throws\n```\n\n## Parameters\n\n- **productIdentifier**: The [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKTestTransaction\/productIdentifier] of the auto-renewable subscription to expire.\n\n## Discussion\n\nUse this method to test how your app handles expired subscriptions and revoking access to content or service. This method forces the subscription to expire. Specifically, the testing environment disables auto-renew and changes the subscription’s expiration date to the current system time.\n\nYou can also test subscription expiration by accelerating the time in the testing environment to speed up subscription renewal periods. See [doc:\/\/com.apple.storekittest\/documentation\/StoreKitTest\/SKTestSession\/timeRate-swift.property] for more information.\n\n## Testing subscription renewals\n\n- **timeRate**: The rate at which time passes for subscriptions in the test environment as compared to real time.\n- **SKTestSession.TimeRate**: The values for rates of time passing in the test environment.\n- **enableAutoRenewForTransaction(identifier:)**: Enables auto-renewing for an auto-renewable subscription in the test environment.\n- **disableAutoRenewForTransaction(identifier:)**: Disables auto-renewing for an auto-renewable subscription in the test environment.\n- **forceRenewalOfSubscription(productIdentifier:)**: Ends the previous subscription period and begins the next period in the test environment.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The rate at which time passes for subscriptions in the test environment as compared to real time.",
          "name" : "timeRate",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/timeRate-swift.property"
        },
        {
          "description" : "The values for rates of time passing in the test environment.",
          "name" : "SKTestSession.TimeRate",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/TimeRate-swift.enum"
        },
        {
          "description" : "Enables auto-renewing for an auto-renewable subscription in the test environment.",
          "name" : "enableAutoRenewForTransaction(identifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/enableAutoRenewForTransaction(identifier:)"
        },
        {
          "description" : "Disables auto-renewing for an auto-renewable subscription in the test environment.",
          "name" : "disableAutoRenewForTransaction(identifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/disableAutoRenewForTransaction(identifier:)"
        },
        {
          "description" : "Ends the previous subscription period and begins the next period in the test environment.",
          "name" : "forceRenewalOfSubscription(productIdentifier:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/forceRenewalOfSubscription(productIdentifier:)"
        }
      ],
      "title" : "Testing subscription renewals"
    }
  ],
  "source" : "appleJSON",
  "title" : "expireSubscription(productIdentifier:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/StoreKitTest\/SKTestSession\/expireSubscription(productIdentifier:)"
}