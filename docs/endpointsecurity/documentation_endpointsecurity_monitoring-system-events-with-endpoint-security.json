{
  "abstract" : "Receive notifications and authorization requests for sensitive operations by creating an Endpoint Security client for your app.",
  "codeExamples" : [

  ],
  "contentHash" : "020dc1ceaa63082dcc36de8f08ed7bc6f3affdb89d29fa993c5af55bc405f950",
  "crawledAt" : "2025-12-02T15:33:30Z",
  "id" : "4AC7C665-0169-4925-BC53-2FAFE95DE2E0",
  "kind" : "unknown",
  "language" : "occ",
  "module" : "Endpoint Security",
  "overview" : "## Overview\n\n`SampleEndpointApp` is a minimal system extension that shows how to use the Endpoint Security library. You can configure the extension to either receive notifications of events after they occur, or to allow or deny in-flight events.\n\n### Configure the Sample Code Project\n\nThis sample code project only runs on macOS 11 and later.\n\nYou can build the project to receive either `NOTIFY` or `AUTH` events. You control this in the Xcode file inspector.\n\nYou must set the “Extension” target membership on exactly one of these two files.\n\nTo install the system extension:\n\nAfter installing the system extension, you can monitor its activity as follows:\n\nTo  uninstall the system extension:",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/EndpointSecurity\/monitoring-system-events-with-endpoint-security\ncrawled: 2025-12-02T15:33:30Z\n---\n\n# Monitoring System Events with Endpoint Security\n\n**Sample Code**\n\nReceive notifications and authorization requests for sensitive operations by creating an Endpoint Security client for your app.\n\n## Overview\n\n\n\n`SampleEndpointApp` is a minimal system extension that shows how to use the Endpoint Security library. You can configure the extension to either receive notifications of events after they occur, or to allow or deny in-flight events.\n\n### Configure the Sample Code Project\n\nThis sample code project only runs on macOS 11 and later.\n\nYou can build the project to receive either `NOTIFY` or `AUTH` events. You control this in the Xcode file inspector.\n\n- For `NOTIFY` events: Select `notify_demo.c` and, in the file inspector, select the “Extension” target in the “Target Membership” section.\n- For `AUTH` events: Select `auth_demo.c` and, in the file inspector, select the “Extension” target in the “Target Membership” section.\n\nYou must set the “Extension” target membership on exactly one of these two files.\n\nTo install the system extension:\n\n1. Generate your Developer ID certificate. Refer to [https:\/\/developer.apple.com\/developer-id\/] for instructions.\n2. Request the Endpoint Security entitlement; see [https:\/\/developer.apple.com\/system-extensions\/].\n3. In Xcode, build and sign both the app and the extension with your Developer provisioning profile.\n4. Copy the app to `\/Applications`, and launch it from there. You can only install System Extensions for apps launched from the `\/Applications` folder.\n5. Click “Install Extension” and follow the prompts to allow the extension to launch.\n6. In System Preferences, choose Security & Privacy > Privacy. Scroll to “Full Disk Access” and grant permission to use the extension.\n7. In Terminal, run `systemextensionsctl list` to verify that the system extension is activated.\n8. In Terminal, run `sudo launchctl list <Team-ID>.com.example.apple-samplecode.SampleEndpointApp.Extension` to verify that the system extension is running.\n\nAfter installing the system extension, you can monitor its activity as follows:\n\n- If you built `notify_demo.c`, open the system log to see log messages every time a process executes, forks, or exits.\n- If you built `auth_demo.c`, the extension blocks any operations on an EICAR test file on your system. The extension also prevents writing to any file that starts with the read-only prefix, defined in `auth_demo.c` as `\/usr\/bin\/local`. For process executions, the extension denies new execs that use the signing ID `com.apple.TextEdit`; this means the extension will prevent the default `TextEdit.app` from launching.\n\nTo  uninstall the system extension:\n\n1. In Terminal, run `systemextensionsctl uninstall <Team-ID> com.example.apple-samplecode.SampleEndpointApp.Extension`.\n2. Alternatively, drag the sample app from the `\/Applications` folder to the Trash.\n\n## Event Monitoring\n\n- **Client**: An opaque type that maintains Endpoint Security client state, and functions related to this type.\n- **Message**: A type used by Endpoint Security to notify your client when a monitored action occurs.\n- **Event Types**: Types used by messages to deliver details specific to different kinds of Endpoint Security events.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "An opaque type that maintains Endpoint Security client state, and functions related to this type.",
          "name" : "Client",
          "url" : "https:\/\/developer.apple.com\/documentation\/EndpointSecurity\/client"
        },
        {
          "description" : "A type used by Endpoint Security to notify your client when a monitored action occurs.",
          "name" : "Message",
          "url" : "https:\/\/developer.apple.com\/documentation\/EndpointSecurity\/message"
        },
        {
          "description" : "Types used by messages to deliver details specific to different kinds of Endpoint Security events.",
          "name" : "Event Types",
          "url" : "https:\/\/developer.apple.com\/documentation\/EndpointSecurity\/event-types"
        }
      ],
      "title" : "Event Monitoring"
    }
  ],
  "source" : "appleJSON",
  "title" : "Monitoring System Events with Endpoint Security",
  "url" : "https:\/\/developer.apple.com\/documentation\/EndpointSecurity\/monitoring-system-events-with-endpoint-security"
}