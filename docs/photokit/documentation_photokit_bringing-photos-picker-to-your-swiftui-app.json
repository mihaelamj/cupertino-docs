{
  "abstract" : "Select media assets by using a Photos picker view that SwiftUI provides.",
  "codeExamples" : [
    {
      "code" : "CircularProfileImage(imageState: viewModel.imageState)\n\t.overlay(alignment: .bottomTrailing) {\n\t\tPhotosPicker(selection: $viewModel.imageSelection,\n\t\t\t\t\t matching: .images,\n\t\t\t\t\t photoLibrary: .shared()) {\n\t\t\tImage(systemName: \"pencil.circle.fill\")\n\t\t\t\t.symbolRenderingMode(.multicolor)\n\t\t\t\t.font(.system(size: 30))\n\t\t\t\t.foregroundColor(.accentColor)\n\t\t}\n\t\t.buttonStyle(.borderless)\n\t}",
      "language" : "swift"
    },
    {
      "code" : "@Published var imageSelection: PhotosPickerItem? = nil {\n    didSet {\n        if let imageSelection {\n            let progress = loadTransferable(from: imageSelection)\n            imageState = .loading(progress)\n        } else {\n            imageState = .empty\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "private func loadTransferable(from imageSelection: PhotosPickerItem) -> Progress {\n    return imageSelection.loadTransferable(type: ProfileImage.self) { result in\n        DispatchQueue.main.async {\n            guard imageSelection == self.imageSelection else {\n                print(\"Failed to get the selected item.\")\n                return\n            }\n            switch result {\n            case .success(let profileImage?):\n                self.imageState = .success(profileImage.image)\n            case .success(nil):\n                self.imageState = .empty\n            case .failure(let error):\n                self.imageState = .failure(error)\n            }\n        }\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "struct ProfileImage: Transferable {\n    let image: Image\n    \n    static var transferRepresentation: some TransferRepresentation {\n        DataRepresentation(importedContentType: .image) { data in\n        #if canImport(AppKit)\n            guard let nsImage = NSImage(data: data) else {\n                throw TransferError.importFailed\n            }\n            let image = Image(nsImage: nsImage)\n            return ProfileImage(image: image)\n        #elseif canImport(UIKit)\n            guard let uiImage = UIImage(data: data) else {\n                throw TransferError.importFailed\n            }\n            let image = Image(uiImage: uiImage)\n            return ProfileImage(image: image)\n        #else\n            throw TransferError.importFailed\n        #endif\n        }\n    }\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "560494f4a66b514e4c6f7f5c225fe4d1eb06d9582966e77f35b887159cccb6ff",
  "crawledAt" : "2025-12-04T07:07:48Z",
  "id" : "9AEB2534-79F5-43B0-82E0-B8025D7BF3A8",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "PhotosUI",
  "overview" : "## Overview\n\nThis sample shows how to use the SwiftUI Photos picker to browse and select a photo from your photo library. The app displays an interface that allows you to fill in customer profile details, and includes a button to select a photo from the Photos library. The sample explores how to retrieve a SwiftUI image by using [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/Transferable] — a new SwiftUI protocol you use to move data.\n\n### Configure the Sample Code Project\n\nBefore you run the sample code project in Xcode, ensure you’re using iOS 16 or later, watchOS 9 or later, macOS 13 or later.\n\nYou must use a physical device when building the watchOS target in Xcode.\n\n### Add a Photos picker view\n\nTo display the picker, the sample adds a [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PhotosPicker] view as an overlay to a profile image. The view provides a label that describes the action of choosing an item from the photo library. The sample displays assets that match the image type. In iOS 16 or later, [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct] contains new filters for [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/bursts], [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/cinematicVideos], and [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/depthEffectPhotos].\n\n### Load an image from the selection\n\nThe sample contains an [doc:\/\/com.apple.documentation\/documentation\/PhotosUI\/PhotosPickerItem] that contains the selection. The selection only contains a placeholder object. Some large files may take a long time to download, so the sample shows an inline loading indicator instead of an indicator that blocks execution.\n\nTo load the asset data, [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PhotosPickerItem] adopts [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/Transferable]. The sample attempts to retrieve the SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Image] from the item. A failure can occur when the system attempts to retrieve the data. For example, if the picker tries to download data from iCloud Photos without a network connection.\n\nIn advanced data transfer cases, an app can control the type of data to load by defining a custom model object that conforms to the `Transferable` protocol. The sample creates a model `ProfileImage` to handle loading a [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/DataRepresentation] of an image, and converts it to a `UIImage` or `NSImage`.\n\nWhen handling many items at the same time, or large assets, use [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/FileRepresentation] to load assets as files and reduce memory usage. When loading assets as files, copy them to an app directory and remove them when they’re no longer needed.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/photokit\/bringing-photos-picker-to-your-swiftui-app\ncrawled: 2025-12-04T07:07:48Z\n---\n\n# Bringing Photos picker to your SwiftUI app\n\n**Sample Code**\n\nSelect media assets by using a Photos picker view that SwiftUI provides.\n\n## Overview\n\nThis sample shows how to use the SwiftUI Photos picker to browse and select a photo from your photo library. The app displays an interface that allows you to fill in customer profile details, and includes a button to select a photo from the Photos library. The sample explores how to retrieve a SwiftUI image by using [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/Transferable] — a new SwiftUI protocol you use to move data.\n\n\n\n### Configure the Sample Code Project\n\nBefore you run the sample code project in Xcode, ensure you’re using iOS 16 or later, watchOS 9 or later, macOS 13 or later.\n\nYou must use a physical device when building the watchOS target in Xcode.\n\n### Add a Photos picker view\n\nTo display the picker, the sample adds a [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PhotosPicker] view as an overlay to a profile image. The view provides a label that describes the action of choosing an item from the photo library. The sample displays assets that match the image type. In iOS 16 or later, [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct] contains new filters for [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/bursts], [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/cinematicVideos], and [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PHPickerFilter-swift.struct\/depthEffectPhotos].\n\n```swift\nCircularProfileImage(imageState: viewModel.imageState)\n\t.overlay(alignment: .bottomTrailing) {\n\t\tPhotosPicker(selection: $viewModel.imageSelection,\n\t\t\t\t\t matching: .images,\n\t\t\t\t\t photoLibrary: .shared()) {\n\t\t\tImage(systemName: \"pencil.circle.fill\")\n\t\t\t\t.symbolRenderingMode(.multicolor)\n\t\t\t\t.font(.system(size: 30))\n\t\t\t\t.foregroundColor(.accentColor)\n\t\t}\n\t\t.buttonStyle(.borderless)\n\t}\n```\n\n### Load an image from the selection\n\nThe sample contains an [doc:\/\/com.apple.documentation\/documentation\/PhotosUI\/PhotosPickerItem] that contains the selection. The selection only contains a placeholder object. Some large files may take a long time to download, so the sample shows an inline loading indicator instead of an indicator that blocks execution.\n\n```swift\n@Published var imageSelection: PhotosPickerItem? = nil {\n    didSet {\n        if let imageSelection {\n            let progress = loadTransferable(from: imageSelection)\n            imageState = .loading(progress)\n        } else {\n            imageState = .empty\n        }\n    }\n}\n```\n\nTo load the asset data, [doc:\/\/com.apple.photokit\/documentation\/PhotosUI\/PhotosPickerItem] adopts [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/Transferable]. The sample attempts to retrieve the SwiftUI [doc:\/\/com.apple.documentation\/documentation\/SwiftUI\/Image] from the item. A failure can occur when the system attempts to retrieve the data. For example, if the picker tries to download data from iCloud Photos without a network connection.\n\n```swift\nprivate func loadTransferable(from imageSelection: PhotosPickerItem) -> Progress {\n    return imageSelection.loadTransferable(type: ProfileImage.self) { result in\n        DispatchQueue.main.async {\n            guard imageSelection == self.imageSelection else {\n                print(\"Failed to get the selected item.\")\n                return\n            }\n            switch result {\n            case .success(let profileImage?):\n                self.imageState = .success(profileImage.image)\n            case .success(nil):\n                self.imageState = .empty\n            case .failure(let error):\n                self.imageState = .failure(error)\n            }\n        }\n    }\n}\n```\n\nIn advanced data transfer cases, an app can control the type of data to load by defining a custom model object that conforms to the `Transferable` protocol. The sample creates a model `ProfileImage` to handle loading a [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/DataRepresentation] of an image, and converts it to a `UIImage` or `NSImage`.\n\n```swift\nstruct ProfileImage: Transferable {\n    let image: Image\n    \n    static var transferRepresentation: some TransferRepresentation {\n        DataRepresentation(importedContentType: .image) { data in\n        #if canImport(AppKit)\n            guard let nsImage = NSImage(data: data) else {\n                throw TransferError.importFailed\n            }\n            let image = Image(nsImage: nsImage)\n            return ProfileImage(image: image)\n        #elseif canImport(UIKit)\n            guard let uiImage = UIImage(data: data) else {\n                throw TransferError.importFailed\n            }\n            let image = Image(uiImage: uiImage)\n            return ProfileImage(image: image)\n        #else\n            throw TransferError.importFailed\n        #endif\n        }\n    }\n}\n```\n\nWhen handling many items at the same time, or large assets, use [doc:\/\/com.apple.documentation\/documentation\/CoreTransferable\/FileRepresentation] to load assets as files and reduce memory usage. When loading assets as files, copy them to an app directory and remove them when they’re no longer needed.\n\n## Sample code\n\n- **Browsing and Modifying Photo Albums**: Help users organize their photos into albums and browse photo collections in a grid-based layout using PhotoKit.\n- **Selecting Photos and Videos in iOS**: Improve the user experience of finding and selecting assets by using the Photos picker.\n- **Implementing an inline Photos picker**: Embed a system-provided, half-height Photos picker into your app’s view.\n- **Creating a Slideshow Project Extension for Photos**: Augment the macOS Photos app with extensions that support project creation.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Help users organize their photos into albums and browse photo collections in a grid-based layout using PhotoKit.",
          "name" : "Browsing and Modifying Photo Albums",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/browsing-and-modifying-photo-albums"
        },
        {
          "description" : "Improve the user experience of finding and selecting assets by using the Photos picker.",
          "name" : "Selecting Photos and Videos in iOS",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/selecting-photos-and-videos-in-ios"
        },
        {
          "description" : "Embed a system-provided, half-height Photos picker into your app’s view.",
          "name" : "Implementing an inline Photos picker",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/implementing-an-inline-photos-picker"
        },
        {
          "description" : "Augment the macOS Photos app with extensions that support project creation.",
          "name" : "Creating a Slideshow Project Extension for Photos",
          "url" : "https:\/\/developer.apple.com\/documentation\/PhotoKit\/creating-a-slideshow-project-extension-for-photos"
        }
      ],
      "title" : "Sample code"
    }
  ],
  "source" : "appleJSON",
  "title" : "Bringing Photos picker to your SwiftUI app",
  "url" : "https:\/\/developer.apple.com\/documentation\/photokit\/bringing-photos-picker-to-your-swiftui-app"
}