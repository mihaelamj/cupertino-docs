{
  "abstract" : "Sets a preference to enable echo-canceled input on supported hardware.",
  "codeExamples" : [

  ],
  "contentHash" : "fb0dea42ee2a8b0f7b3a0eceb22ed8300b2e4c300f693402a2011d44195ef305",
  "crawledAt" : "2025-11-30T22:39:25Z",
  "declaration" : {
    "code" : "func setPrefersEchoCancelledInput(_ value: Bool) throws",
    "language" : "swift"
  },
  "id" : "12995BEC-FD0C-4D3A-B4D8-91532F86F70A",
  "kind" : "method",
  "module" : "AVFAudio",
  "overview" : "## Discussion\n\nApps may want to record the built-in microphone’s input while also playing audio with the built-in speaker. Enabling echo-canceled input is useful when the app needs the input signal to be clear of any echoes from the audio playing out of the built-in speaker.\n\nAudio sessions using Apple’s voice processing APIs don’t need this option because the system automatically applies echo cancellation to these routes. The voice processing solution is tuned for voice signals, unlike this option, which is tuned for better capture of a wider range of audio signals in the presence of built-in speaker echo.\n\nThis option is valid only when used with [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/Category-swift.struct\/playAndRecord] category and [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/Mode-swift.struct\/default] mode, and is only available on certain 2024 or later iPhone models. Query the [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputAvailable] property to determine whether a device supports this setting. Other recording sessions might be interrupted if this option is not compatible with sessions that are already recording.\n\nAfter an audio session goes active, you can query the [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputEnabled] property to test whether the system honored the setting.",
  "platforms" : [
    "iOS",
    "iPadOS",
    "Mac Catalyst"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession\/setPrefersEchoCancelledInput(_:)\ncrawled: 2025-11-30T22:39:25Z\n---\n\n# setPrefersEchoCancelledInput(_:)\n\n**Instance Method**\n\nSets a preference to enable echo-canceled input on supported hardware.\n\n## Declaration\n\n```swift\nfunc setPrefersEchoCancelledInput(_ value: Bool) throws\n```\n\n## Parameters\n\n- **value**: A Boolean value that indicates the preference to set.\n\n## Discussion\n\nApps may want to record the built-in microphone’s input while also playing audio with the built-in speaker. Enabling echo-canceled input is useful when the app needs the input signal to be clear of any echoes from the audio playing out of the built-in speaker.\n\nAudio sessions using Apple’s voice processing APIs don’t need this option because the system automatically applies echo cancellation to these routes. The voice processing solution is tuned for voice signals, unlike this option, which is tuned for better capture of a wider range of audio signals in the presence of built-in speaker echo.\n\nThis option is valid only when used with [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/Category-swift.struct\/playAndRecord] category and [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/Mode-swift.struct\/default] mode, and is only available on certain 2024 or later iPhone models. Query the [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputAvailable] property to determine whether a device supports this setting. Other recording sessions might be interrupted if this option is not compatible with sessions that are already recording.\n\nAfter an audio session goes active, you can query the [doc:\/\/com.apple.avfaudio\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputEnabled] property to test whether the system honored the setting.\n\n\n\n## Configuring echo cancellation\n\n- **isEchoCancelledInputAvailable**: A Boolean value that indicates whether the built-in microphone and speaker route supports echo cancellation.\n- **isEchoCancelledInputEnabled**: A Boolean value that indicates whether an echo-canceled input is in an enabled state.\n- **prefersEchoCancelledInput**: A Boolean value that indicates the audio session’s preference for using an echo-canceled input.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "A Boolean value that indicates whether the built-in microphone and speaker route supports echo cancellation.",
          "name" : "isEchoCancelledInputAvailable",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputAvailable"
        },
        {
          "description" : "A Boolean value that indicates whether an echo-canceled input is in an enabled state.",
          "name" : "isEchoCancelledInputEnabled",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession\/isEchoCancelledInputEnabled"
        },
        {
          "description" : "A Boolean value that indicates the audio session’s preference for using an echo-canceled input.",
          "name" : "prefersEchoCancelledInput",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession\/prefersEchoCancelledInput"
        }
      ],
      "title" : "Configuring echo cancellation"
    }
  ],
  "source" : "appleJSON",
  "title" : "setPrefersEchoCancelledInput(_:)",
  "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession\/setPrefersEchoCancelledInput(_:)"
}