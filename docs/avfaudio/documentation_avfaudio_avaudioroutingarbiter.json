{
  "abstract" : "An object for configuring macOS apps to participate in AirPods Automatic Switching.",
  "codeExamples" : [
    {
      "code" : "func startCall() {\n    let arbiter = AVAudioRoutingArbiter.shared\n    arbiter.begin(category: .playAndRecordVoice) { deviceChanged, error in\n        \/\/ Start VoIP session.\n    }\n}\n\nfunc endCall() {\n    \/\/ End VoIP session.\n    AVAudioRoutingArbiter.shared.leave()\n}",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "CVarArg",
    "CustomDebugStringConvertible",
    "CustomStringConvertible",
    "Equatable",
    "Hashable",
    "NSObjectProtocol",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "3aa5b56659a301ebf5cd0cf23dfd6e8fa105919f05ebe3021fbe7dfbfbea7694",
  "crawledAt" : "2025-12-04T02:52:17Z",
  "declaration" : {
    "code" : "class AVAudioRoutingArbiter",
    "language" : "swift"
  },
  "id" : "6C0F4E62-8815-4366-9B2B-05CE2B3B9E13",
  "kind" : "class",
  "language" : "swift",
  "module" : "AVFAudio",
  "overview" : "## Overview\n\nAirPods Automatic Switching is a feature of Apple operating systems that intelligently connects wireless headphones to the most appropriate audio device in a multidevice environment. For example, if a user plays a movie on iPad, and then locks the device and starts playing music on iPhone, the system automatically switches the source audio device from iPad to iPhone.\n\niOS apps automatically participate in AirPods Automatic Switching. To enable your macOS app to participate in this behavior, use `AVAudioRoutingArbiter` to indicate when your app starts and finishes playing or recording audio. For example, a Voice over IP (VoIP) app might request arbitration before starting a call, and when the arbitration completes, begin the VoIP session. Likewise, when the call ends, the app would end the VoIP session and leave arbitration.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/avfaudio\/avaudioroutingarbiter\ncrawled: 2025-12-04T02:52:17Z\n---\n\n# AVAudioRoutingArbiter\n\n**Class**\n\nAn object for configuring macOS apps to participate in AirPods Automatic Switching.\n\n## Declaration\n\n```swift\nclass AVAudioRoutingArbiter\n```\n\n## Overview\n\nAirPods Automatic Switching is a feature of Apple operating systems that intelligently connects wireless headphones to the most appropriate audio device in a multidevice environment. For example, if a user plays a movie on iPad, and then locks the device and starts playing music on iPhone, the system automatically switches the source audio device from iPad to iPhone.\n\niOS apps automatically participate in AirPods Automatic Switching. To enable your macOS app to participate in this behavior, use `AVAudioRoutingArbiter` to indicate when your app starts and finishes playing or recording audio. For example, a Voice over IP (VoIP) app might request arbitration before starting a call, and when the arbitration completes, begin the VoIP session. Likewise, when the call ends, the app would end the VoIP session and leave arbitration.\n\n```swift\nfunc startCall() {\n    let arbiter = AVAudioRoutingArbiter.shared\n    arbiter.begin(category: .playAndRecordVoice) { deviceChanged, error in\n        \/\/ Start VoIP session.\n    }\n}\n\nfunc endCall() {\n    \/\/ End VoIP session.\n    AVAudioRoutingArbiter.shared.leave()\n}\n```\n\n\n\n## Creating a Routing Arbiter\n\n- **shared**: The shared routing arbiter object.\n\n## Participating in AirPods Automatic Switching\n\n- **begin(category:completionHandler:)**: Begins routing arbitration to take ownership of a nearby Bluetooth audio route.\n- **AVAudioRoutingArbiter.Category**: Categories that describe the general nature of your app’s audio use.\n- **leave()**: Stops an app’s participation in audio routing arbitration.\n\n## System audio\n\n- **Handling audio interruptions**: Observe audio session notifications to ensure that your app responds appropriately to interruptions.\n- **Responding to audio route changes**: Observe audio session notifications to ensure that your app responds appropriately to route changes.\n- **Routing audio to specific devices in multidevice sessions**: Map audio channels to specific devices in multiroute sessions for recording and playback.\n- **Adding synthesized speech to calls**: Provide a more accessible experience by adding your app’s audio to a call.\n- **Capturing stereo audio from built-In microphones**: Configure an iOS device’s built-in microphones to add stereo recording capabilities to your app.\n- **AVAudioSession**: An object that communicates to the system how you intend to use audio in your app.\n- **AVAudioApplication**: An object that manages one or more audio sessions that belong to an app.\n\n## Inherits From\n\n- NSObject\n\n## Conforms To\n\n- CVarArg\n- CustomDebugStringConvertible\n- CustomStringConvertible\n- Equatable\n- Hashable\n- NSObjectProtocol\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "The shared routing arbiter object.",
          "name" : "shared",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioRoutingArbiter\/shared"
        }
      ],
      "title" : "Creating a Routing Arbiter"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Begins routing arbitration to take ownership of a nearby Bluetooth audio route.",
          "name" : "begin(category:completionHandler:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioRoutingArbiter\/begin(category:completionHandler:)"
        },
        {
          "description" : "Categories that describe the general nature of your app’s audio use.",
          "name" : "AVAudioRoutingArbiter.Category",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioRoutingArbiter\/Category"
        },
        {
          "description" : "Stops an app’s participation in audio routing arbitration.",
          "name" : "leave()",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioRoutingArbiter\/leave()"
        }
      ],
      "title" : "Participating in AirPods Automatic Switching"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Observe audio session notifications to ensure that your app responds appropriately to interruptions.",
          "name" : "Handling audio interruptions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/handling-audio-interruptions"
        },
        {
          "description" : "Observe audio session notifications to ensure that your app responds appropriately to route changes.",
          "name" : "Responding to audio route changes",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/responding-to-audio-route-changes"
        },
        {
          "description" : "Map audio channels to specific devices in multiroute sessions for recording and playback.",
          "name" : "Routing audio to specific devices in multidevice sessions",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/routing-audio-to-specific-devices-in-multidevice-sessions"
        },
        {
          "description" : "Provide a more accessible experience by adding your app’s audio to a call.",
          "name" : "Adding synthesized speech to calls",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/Adding-synthesized-speech-to-calls"
        },
        {
          "description" : "Configure an iOS device’s built-in microphones to add stereo recording capabilities to your app.",
          "name" : "Capturing stereo audio from built-In microphones",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/capturing-stereo-audio-from-built-in-microphones"
        },
        {
          "description" : "An object that communicates to the system how you intend to use audio in your app.",
          "name" : "AVAudioSession",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioSession"
        },
        {
          "description" : "An object that manages one or more audio sessions that belong to an app.",
          "name" : "AVAudioApplication",
          "url" : "https:\/\/developer.apple.com\/documentation\/AVFAudio\/AVAudioApplication"
        }
      ],
      "title" : "System audio"
    },
    {
      "content" : "",
      "items" : [
        {
          "name" : "NSObject"
        }
      ],
      "title" : "Inherits From"
    }
  ],
  "source" : "appleJSON",
  "title" : "AVAudioRoutingArbiter",
  "url" : "https:\/\/developer.apple.com\/documentation\/avfaudio\/avaudioroutingarbiter"
}