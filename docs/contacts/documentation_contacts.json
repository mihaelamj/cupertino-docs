{
  "abstract" : "Access the user’s contacts, and format and localize contact information.",
  "codeExamples" : [
    {
      "code" : "import UIKit\nimport Contacts\n \n\/\/ Create a mutable object to add to the contact.\nlet contact = CNMutableContact()\n\n\/\/ Store the profile picture as data.\nlet image = UIImage(systemName: \"person.crop.circle\")\ncontact.imageData = image?.jpegData(compressionQuality: 1.0)\n\ncontact.givenName = \"John\"\ncontact.familyName = \"Appleseed\"\n\nlet homeEmail = CNLabeledValue(label: CNLabelHome, value: \"john@example.com\" as NSString)\nlet workEmail = CNLabeledValue(label: CNLabelWork, value: \"j.appleseed@icloud.com\" as NSString)\ncontact.emailAddresses = [homeEmail, workEmail]\n\ncontact.phoneNumbers = [CNLabeledValue(\n    label: CNLabelPhoneNumberiPhone,\n    value: CNPhoneNumber(stringValue: \"(408) 555-0126\"))]\n\nlet homeAddress = CNMutablePostalAddress()\nhomeAddress.street = \"One Apple Park Way\"\nhomeAddress.city = \"Cupertino\"\nhomeAddress.state = \"CA\"\nhomeAddress.postalCode = \"95014\"\ncontact.postalAddresses = [CNLabeledValue(label: CNLabelHome, value: homeAddress)]\n\nvar birthday = DateComponents()\nbirthday.day = 1\nbirthday.month = 4\nbirthday.year = 1988  \/\/ (Optional) Omit the year value for a yearless birthday.\ncontact.birthday = birthday\n\n\/\/ Save the newly created contact.\nlet store = CNContactStore()\nlet saveRequest = CNSaveRequest()\nsaveRequest.add(contact, toContainerWithIdentifier: nil)\n\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Formatting the contact name.\nlet fullName = CNContactFormatter.string(from: contact, style: .fullName)\nprint(\"\\(String(describing: fullName))\")\n\/\/ John Appleseed\n\n\/\/ Formatting the postal address.\nlet postalString = CNPostalAddressFormatter().string(from: homeAddress)\nprint(\"\\(postalString)\")\n\/\/ One Apple Park Way\n\/\/ Cupertino\n\/\/ CA\n\/\/ 95014",
      "language" : "swift"
    },
    {
      "code" : "\/\/ The device locale is Spanish.\nlet displayName = CNContact.localizedString(forKey: CNContactNicknameKey)\nprint(displayName)\n\/\/ Prints \"alias\"\n\nlet displayLabel = CNLabeledValue<NSString>.localizedString(forLabel: CNLabelHome)\nprint(displayLabel)\n\/\/ Prints \"casa\".",
      "language" : "swift"
    },
    {
      "code" : "let predicate = CNContact.predicateForContacts(matchingName: \"Appleseed\")",
      "language" : "swift"
    },
    {
      "code" : "let keysToFetch = [CNContactGivenNameKey, CNContactFamilyNameKey] as [CNKeyDescriptor]",
      "language" : "swift"
    },
    {
      "code" : "let store = CNContactStore()\ndo {\n    let predicate = CNContact.predicateForContacts(matchingName: \"Appleseed\")\n    let contacts = try store.unifiedContacts(matching: predicate, keysToFetch: keysToFetch)\n    print(\"Fetched contacts: \\(contacts)\")\n} catch {\n    print(\"Failed to fetch contact, error: \\(error)\")\n    \/\/ Handle the error.\n}",
      "language" : "swift"
    },
    {
      "code" : "let keysToFetch = [CNContactEmailAddressesKey as CNKeyDescriptor, CNContactFormatter.descriptorForRequiredKeys(for: .fullName)]",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Check whether the phone number is available for the given contact.\nif contact.isKeyAvailable(CNContactPhoneNumbersKey) {\n    print(\"\\(contact.phoneNumbers)\")\n} else {\n    \/\/ Refetch the keys.\n    let keysToFetch = [CNContactGivenNameKey, CNContactFamilyNameKey, CNContactPhoneNumbersKey] as [CNKeyDescriptor]\n\n    do {\n        let refetchedContact = try store.unifiedContact(withIdentifier: contact.identifier, keysToFetch: keysToFetch)\n        print(\"\\(refetchedContact.phoneNumbers)\")\n    } catch {\n        print(\"Failed to fetch contact, error: \\(error)\")\n        \/\/ Handle the error.\n    }\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Create a new contact.\nlet newContact = CNMutableContact()\nnewContact.givenName = \"John\"\nnewContact.familyName = \"Appleseed\"\n\n\/\/ Save the contact.\nlet saveRequest = CNSaveRequest()\nsaveRequest.add(newContact, toContainerWithIdentifier: nil)\n\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Update the home email address for John Appleseed.\nguard let mutableContact = contact.mutableCopy() as? CNMutableContact else { return }\nlet newEmail = CNLabeledValue(label: CNLabelHome, value: \"john@example.com\" as NSString)\nmutableContact.emailAddresses.append(newEmail)\n\nlet saveRequest = CNSaveRequest()\nsaveRequest.update(mutableContact)\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "39adf04763ccbfd1142a120189082a0a1e862bdd7b08c1d359ec9afcbbd548b3",
  "crawledAt" : "2025-12-04T20:29:16Z",
  "id" : "0AB674EB-60B0-45C1-97CA-39F0790B4550",
  "kind" : "framework",
  "language" : "swift",
  "module" : "Contacts",
  "overview" : "## Overview\n\nThe Contacts framework provides Swift and Objective-C APIs to access the user’s contact information. Because most apps read contact information without making any changes, this framework is optimized for thread-safe, read-only usage.\n\n### Working with the user’s contacts\n\nThe Contacts framework is available on all Apple platforms, and replaces the Address Book framework in iOS and macOS.\n\n#### Contact objects\n\nThe contact class ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact]) is a thread-safe, immutable value object of contact properties, such as the contact’s name, image, and phone numbers.\n\n\n\nThe contact class is like [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDictionary] in that it has a mutable subclass, [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNMutableContact], you can use to modify contact properties. For contact properties that can have multiple values, such as phone numbers and email addresses, the framework uses an array of [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue] objects. The labeled value class is a thread-safe, immutable tuple of labels and values. Labels describe each value to the user, allowing differentiation, such as home and work phone numbers. The Contacts framework provides some predefined labels and you can create your own custom labels.\n\n#### Formatting and localization\n\nThe Contacts framework helps you format and localize contact information. For example, you can correctly format a contact name (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter]) or format an international postal address (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNPostalAddressFormatter]).\n\nYou can display localized object property names and predefined labels based on the current locale setting of the device. Many objects in the Contacts framework, such as [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact], include the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNSocialProfile\/localizedString(forKey:)] method, which lets you get the localized version of a key name. In addition, the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue] class includes the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue\/localizedString(forLabel:)] method, which lets you get the localized label for the predefined labels in the Contacts framework.\n\n#### Fetching contacts\n\nYou can fetch contacts using the contact store ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore]), which represents the user’s Contacts database. The contact store encapsulates all I\/O operations and is responsible for fetching and saving contacts and groups. Because the contact store methods are synchronous, it’s best practice to use them on background threads. If necessary, you can safely send immutable fetch results back to the main thread.\n\nThe Contacts framework provides several ways to constrain contacts that return from a fetch, including predefined predicates and the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] property.\n\n[doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact] provides predicates for filtering the contacts you want to fetch. For example, to fetch contacts that have the name *Appleseed*, use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/predicateForContacts(matchingName:)] and pass in `Appleseed`.\n\nNote that the Contacts framework doesn’t support generic and compound predicates.\n\nYou can use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] to limit the contact properties that you fetch. For example, if you want to fetch only the given name and the family name of a contact, you specify those contact keys in a [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array.\n\nTo fetch a contact using both a predicate ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/predicateForContacts(matchingName:)]) and a [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array, use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore\/unifiedContacts(matching:keysToFetch:)].\n\nThe Contacts framework can also perform operations on the fetched contacts, such as formatting contact names. Each operation requires a specific set of contact keys to correctly perform the operation. The contact keys are key descriptor objects that you need to include within the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array. For example, if you want to fetch the contact’s email addresses and also be able to format the contact’s name (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter]), include both [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactEmailAddressesKey] and the key descriptor object that [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter\/descriptorForRequiredKeys(for:)] returns in the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array.\n\n#### Privacy\n\nUsers can grant or deny access to contact data on a per-app basis. Any call to [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] blocks the app while asking the user to grant or deny access. Note that the user receives a prompt only the first time an app requests access; all subsequent [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] calls use the existing permissions. To avoid having your app’s UI main thread block for this access, you can use either the asynchronous method [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore\/requestAccess(for:completionHandler:)] or dispatch your [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] usage to a background thread.\n\n#### Partial contacts\n\nA partial contact results when the system fetches only some of a contact object’s properties from a contact store. All fetched contact objects are partial contacts. If you try to access a property value that the system didn’t fetch, you get an exception. If you are unsure which keys the system fetched in the contact, check the availability of the property values before you access them. You can either use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/isKeyAvailable(_:)] to check the availability of a single contact key, or [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/areKeysAvailable(_:)] to check multiple keys. If the desired keys aren’t available, refetch the contact with them.\n\n#### Unified contacts\n\nYou can automatically link contacts in different accounts that represent the same person. Linked contacts display in macOS and iOS apps as unified contacts. A unified contact is an in-memory, temporary view of the set of linked contacts that the system merges into one contact.\n\n\n\nBy default the Contacts framework returns unified contacts. Each fetched unified contact object ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact]) has its own unique identifier that’s different from any individual contact’s identifier in the set of linked contacts. When refetching a unified contact, be sure to use its identifier.\n\n#### Saving contacts\n\nThe contact store ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore]) also saves changes to the Contacts framework objects. The [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNSaveRequest] class enables save operations and allows batching of changes to multiple contacts and groups into a single operation. After adding all objects to the save request, it can execute with a contact store as the code example below shows. Don’t access the objects in the save request while the save is executing, because the objects may have modifications.\n\nCreate and save a new contact.\n\nModify and save an existing contact.\n\n#### Contacts changed notifications\n\nAfter successfully executing a save, the contact store posts a [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/CNContactStoreDidChange] notification to the default notification center. If you cache any Contacts framework objects, you need to refetch those objects, either by their identifiers, or with the predicates that you used to originally fetch them, and then release the cached objects. Note that cached objects are stale, but not invalid.\n\n#### Containers and groups\n\nA user may have contacts in their device’s local account or server accounts that they configure to sync contacts. Each account has at least one container of contacts. A contact can be in only one container.\n\n\n\nA group is a set of contacts within a container. Not all accounts support groups, and some accounts also support subgroups. An iCloud account has only one container and may have many groups, but no subgroups. An Exchange account doesn’t support groups, but may have multiple containers representing Exchange folders.\n\n",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/contacts\ncrawled: 2025-12-04T20:29:16Z\n---\n\n# Contacts\n\n**Framework**\n\nAccess the user’s contacts, and format and localize contact information.\n\n## Overview\n\nThe Contacts framework provides Swift and Objective-C APIs to access the user’s contact information. Because most apps read contact information without making any changes, this framework is optimized for thread-safe, read-only usage.\n\n### Working with the user’s contacts\n\nThe Contacts framework is available on all Apple platforms, and replaces the Address Book framework in iOS and macOS.\n\n#### Contact objects\n\nThe contact class ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact]) is a thread-safe, immutable value object of contact properties, such as the contact’s name, image, and phone numbers.\n\n\n\nThe contact class is like [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSDictionary] in that it has a mutable subclass, [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNMutableContact], you can use to modify contact properties. For contact properties that can have multiple values, such as phone numbers and email addresses, the framework uses an array of [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue] objects. The labeled value class is a thread-safe, immutable tuple of labels and values. Labels describe each value to the user, allowing differentiation, such as home and work phone numbers. The Contacts framework provides some predefined labels and you can create your own custom labels.\n\n```swift\nimport UIKit\nimport Contacts\n \n\/\/ Create a mutable object to add to the contact.\nlet contact = CNMutableContact()\n\n\/\/ Store the profile picture as data.\nlet image = UIImage(systemName: \"person.crop.circle\")\ncontact.imageData = image?.jpegData(compressionQuality: 1.0)\n\ncontact.givenName = \"John\"\ncontact.familyName = \"Appleseed\"\n\nlet homeEmail = CNLabeledValue(label: CNLabelHome, value: \"john@example.com\" as NSString)\nlet workEmail = CNLabeledValue(label: CNLabelWork, value: \"j.appleseed@icloud.com\" as NSString)\ncontact.emailAddresses = [homeEmail, workEmail]\n\ncontact.phoneNumbers = [CNLabeledValue(\n    label: CNLabelPhoneNumberiPhone,\n    value: CNPhoneNumber(stringValue: \"(408) 555-0126\"))]\n\nlet homeAddress = CNMutablePostalAddress()\nhomeAddress.street = \"One Apple Park Way\"\nhomeAddress.city = \"Cupertino\"\nhomeAddress.state = \"CA\"\nhomeAddress.postalCode = \"95014\"\ncontact.postalAddresses = [CNLabeledValue(label: CNLabelHome, value: homeAddress)]\n\nvar birthday = DateComponents()\nbirthday.day = 1\nbirthday.month = 4\nbirthday.year = 1988  \/\/ (Optional) Omit the year value for a yearless birthday.\ncontact.birthday = birthday\n\n\/\/ Save the newly created contact.\nlet store = CNContactStore()\nlet saveRequest = CNSaveRequest()\nsaveRequest.add(contact, toContainerWithIdentifier: nil)\n\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}\n```\n\n#### Formatting and localization\n\nThe Contacts framework helps you format and localize contact information. For example, you can correctly format a contact name (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter]) or format an international postal address (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNPostalAddressFormatter]).\n\n```swift\n\/\/ Formatting the contact name.\nlet fullName = CNContactFormatter.string(from: contact, style: .fullName)\nprint(\"\\(String(describing: fullName))\")\n\/\/ John Appleseed\n\n\/\/ Formatting the postal address.\nlet postalString = CNPostalAddressFormatter().string(from: homeAddress)\nprint(\"\\(postalString)\")\n\/\/ One Apple Park Way\n\/\/ Cupertino\n\/\/ CA\n\/\/ 95014\n```\n\nYou can display localized object property names and predefined labels based on the current locale setting of the device. Many objects in the Contacts framework, such as [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact], include the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNSocialProfile\/localizedString(forKey:)] method, which lets you get the localized version of a key name. In addition, the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue] class includes the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNLabeledValue\/localizedString(forLabel:)] method, which lets you get the localized label for the predefined labels in the Contacts framework.\n\n```swift\n\/\/ The device locale is Spanish.\nlet displayName = CNContact.localizedString(forKey: CNContactNicknameKey)\nprint(displayName)\n\/\/ Prints \"alias\"\n\nlet displayLabel = CNLabeledValue<NSString>.localizedString(forLabel: CNLabelHome)\nprint(displayLabel)\n\/\/ Prints \"casa\".\n```\n\n#### Fetching contacts\n\nYou can fetch contacts using the contact store ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore]), which represents the user’s Contacts database. The contact store encapsulates all I\/O operations and is responsible for fetching and saving contacts and groups. Because the contact store methods are synchronous, it’s best practice to use them on background threads. If necessary, you can safely send immutable fetch results back to the main thread.\n\nThe Contacts framework provides several ways to constrain contacts that return from a fetch, including predefined predicates and the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] property.\n\n[doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact] provides predicates for filtering the contacts you want to fetch. For example, to fetch contacts that have the name *Appleseed*, use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/predicateForContacts(matchingName:)] and pass in `Appleseed`.\n\n```swift\nlet predicate = CNContact.predicateForContacts(matchingName: \"Appleseed\")\n```\n\nNote that the Contacts framework doesn’t support generic and compound predicates.\n\nYou can use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] to limit the contact properties that you fetch. For example, if you want to fetch only the given name and the family name of a contact, you specify those contact keys in a [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array.\n\n```swift\nlet keysToFetch = [CNContactGivenNameKey, CNContactFamilyNameKey] as [CNKeyDescriptor]\n```\n\nTo fetch a contact using both a predicate ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/predicateForContacts(matchingName:)]) and a [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array, use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore\/unifiedContacts(matching:keysToFetch:)].\n\n```swift\nlet store = CNContactStore()\ndo {\n    let predicate = CNContact.predicateForContacts(matchingName: \"Appleseed\")\n    let contacts = try store.unifiedContacts(matching: predicate, keysToFetch: keysToFetch)\n    print(\"Fetched contacts: \\(contacts)\")\n} catch {\n    print(\"Failed to fetch contact, error: \\(error)\")\n    \/\/ Handle the error.\n}\n```\n\nThe Contacts framework can also perform operations on the fetched contacts, such as formatting contact names. Each operation requires a specific set of contact keys to correctly perform the operation. The contact keys are key descriptor objects that you need to include within the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array. For example, if you want to fetch the contact’s email addresses and also be able to format the contact’s name (using [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter]), include both [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactEmailAddressesKey] and the key descriptor object that [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFormatter\/descriptorForRequiredKeys(for:)] returns in the [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactFetchRequest\/keysToFetch] array.\n\n```swift\nlet keysToFetch = [CNContactEmailAddressesKey as CNKeyDescriptor, CNContactFormatter.descriptorForRequiredKeys(for: .fullName)]\n```\n\n#### Privacy\n\nUsers can grant or deny access to contact data on a per-app basis. Any call to [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] blocks the app while asking the user to grant or deny access. Note that the user receives a prompt only the first time an app requests access; all subsequent [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] calls use the existing permissions. To avoid having your app’s UI main thread block for this access, you can use either the asynchronous method [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore\/requestAccess(for:completionHandler:)] or dispatch your [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore] usage to a background thread.\n\n\n\n#### Partial contacts\n\nA partial contact results when the system fetches only some of a contact object’s properties from a contact store. All fetched contact objects are partial contacts. If you try to access a property value that the system didn’t fetch, you get an exception. If you are unsure which keys the system fetched in the contact, check the availability of the property values before you access them. You can either use [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/isKeyAvailable(_:)] to check the availability of a single contact key, or [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact\/areKeysAvailable(_:)] to check multiple keys. If the desired keys aren’t available, refetch the contact with them.\n\n```swift\n\/\/ Check whether the phone number is available for the given contact.\nif contact.isKeyAvailable(CNContactPhoneNumbersKey) {\n    print(\"\\(contact.phoneNumbers)\")\n} else {\n    \/\/ Refetch the keys.\n    let keysToFetch = [CNContactGivenNameKey, CNContactFamilyNameKey, CNContactPhoneNumbersKey] as [CNKeyDescriptor]\n\n    do {\n        let refetchedContact = try store.unifiedContact(withIdentifier: contact.identifier, keysToFetch: keysToFetch)\n        print(\"\\(refetchedContact.phoneNumbers)\")\n    } catch {\n        print(\"Failed to fetch contact, error: \\(error)\")\n        \/\/ Handle the error.\n    }\n}\n```\n\n#### Unified contacts\n\nYou can automatically link contacts in different accounts that represent the same person. Linked contacts display in macOS and iOS apps as unified contacts. A unified contact is an in-memory, temporary view of the set of linked contacts that the system merges into one contact.\n\n\n\nBy default the Contacts framework returns unified contacts. Each fetched unified contact object ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContact]) has its own unique identifier that’s different from any individual contact’s identifier in the set of linked contacts. When refetching a unified contact, be sure to use its identifier.\n\n#### Saving contacts\n\nThe contact store ([doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNContactStore]) also saves changes to the Contacts framework objects. The [doc:\/\/com.apple.contacts\/documentation\/Contacts\/CNSaveRequest] class enables save operations and allows batching of changes to multiple contacts and groups into a single operation. After adding all objects to the save request, it can execute with a contact store as the code example below shows. Don’t access the objects in the save request while the save is executing, because the objects may have modifications.\n\n\n\nCreate and save a new contact.\n\n```swift\n\/\/ Create a new contact.\nlet newContact = CNMutableContact()\nnewContact.givenName = \"John\"\nnewContact.familyName = \"Appleseed\"\n\n\/\/ Save the contact.\nlet saveRequest = CNSaveRequest()\nsaveRequest.add(newContact, toContainerWithIdentifier: nil)\n\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}\n```\n\nModify and save an existing contact.\n\n```swift\n\/\/ Update the home email address for John Appleseed.\nguard let mutableContact = contact.mutableCopy() as? CNMutableContact else { return }\nlet newEmail = CNLabeledValue(label: CNLabelHome, value: \"john@example.com\" as NSString)\nmutableContact.emailAddresses.append(newEmail)\n\nlet saveRequest = CNSaveRequest()\nsaveRequest.update(mutableContact)\ndo {\n    try store.execute(saveRequest)\n} catch {\n    print(\"Saving contact failed, error: \\(error)\")\n    \/\/ Handle the error.\n}\n```\n\n#### Contacts changed notifications\n\nAfter successfully executing a save, the contact store posts a [doc:\/\/com.apple.documentation\/documentation\/Foundation\/NSNotification\/Name-swift.struct\/CNContactStoreDidChange] notification to the default notification center. If you cache any Contacts framework objects, you need to refetch those objects, either by their identifiers, or with the predicates that you used to originally fetch them, and then release the cached objects. Note that cached objects are stale, but not invalid.\n\n#### Containers and groups\n\nA user may have contacts in their device’s local account or server accounts that they configure to sync contacts. Each account has at least one container of contacts. A contact can be in only one container.\n\n\n\nA group is a set of contacts within a container. Not all accounts support groups, and some accounts also support subgroups. An iCloud account has only one container and may have many groups, but no subgroups. An Exchange account doesn’t support groups, but may have multiple containers representing Exchange folders.\n\n\n\n## Essentials\n\n- **Accessing the contact store**: Request permission from the person to read and write their contact data.\n- **Accessing a person’s contact data using Contacts and ContactsUI**: Allow people to grant your app access to contact data by adding the Contact access button and Contact access picker to your app.\n- **CNContactStore**: The object that fetches and saves contacts, groups, and containers from the user’s Contacts database.\n- **NSContactsUsageDescription**: A message that tells people why the app is requesting access to their contacts.\n- **com.apple.developer.contacts.notes**: A Boolean value that indicates whether the app may access the notes in contact entries.\n\n## Contact data\n\n- **CNContact**: An immutable object that stores information about a single contact, such as the contact’s first name, phone numbers, and addresses.\n- **CNMutableContact**: A mutable object that stores information about a single contact, such as the contact’s first name, phone numbers, and addresses.\n- **Data Objects**: Access contact-related data, such as the user’s postal address and phone number.\n- **Contact Keys**: Specify contact-related properties during fetch operations.\n\n## Fetch and save requests\n\n- **CNContactFetchRequest**: An object that defines the options to use when fetching contacts.\n- **CNFetchRequest**: The base class for contact fetch requests.\n- **CNFetchResult**: An object that represents the result of a change-history fetch request.\n- **CNSaveRequest**: An object that collects the changes you want to save to the user’s contacts database.\n\n## Change history data\n\n- **CNChangeHistoryAddContactEvent**: An object that represents a user adding a contact.\n- **CNChangeHistoryAddGroupEvent**: An object that represents a user adding a group.\n- **CNChangeHistoryAddMemberToGroupEvent**: An object that represents a user adding a contact to a group.\n- **CNChangeHistoryAddSubgroupToGroupEvent**: An object that represents a user adding a subgroup to a group.\n- **CNChangeHistoryDeleteContactEvent**: An object that represents a user deleting a contact.\n- **CNChangeHistoryDeleteGroupEvent**: An object that represents a user deleting a group.\n- **CNChangeHistoryDropEverythingEvent**: An object that indicates the delegate should drop all contacts and groups before handling change events.\n- **CNChangeHistoryEvent**: An object that represents the user adding, updating, or deleting a contact or group.\n- **CNChangeHistoryFetchRequest**: An object that specifies the criteria for fetching change history.\n- **CNChangeHistoryRemoveMemberFromGroupEvent**: An object that represents a user removing a contact from a group.\n- **CNChangeHistoryRemoveSubgroupFromGroupEvent**: An object that represents a user removing a subgroup from a group.\n- **CNChangeHistoryUpdateContactEvent**: An object that represents a user updating a contact.\n- **CNChangeHistoryUpdateGroupEvent**: An object that represents an updated group event.\n- **CNChangeHistoryEventVisitor**: An interface for receiving notice of changes to contacts and groups.\n\n## Formatters\n\n- **CNContactFormatter**: An object that you use to format contact information before displaying it to the user.\n- **CNPostalAddressFormatter**: An object that you use to format a contact’s postal addresses.\n- **CNContactVCardSerialization**: An object you use to convert to and from a vCard representation of the user’s contacts.\n- **CNContactsUserDefaults**: An object that defines the default options to use when displaying contacts.\n\n## Errors\n\n- **Error Information**: Diagnose errors generated by the Contacts framework.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Request permission from the person to read and write their contact data.",
          "name" : "Accessing the contact store",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/accessing-the-contact-store"
        },
        {
          "description" : "Allow people to grant your app access to contact data by adding the Contact access button and Contact access picker to your app.",
          "name" : "Accessing a person’s contact data using Contacts and ContactsUI",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/accessing-a-person-s-contact-data-using-contacts-and-contactsui"
        },
        {
          "description" : "The object that fetches and saves contacts, groups, and containers from the user’s Contacts database.",
          "name" : "CNContactStore",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContactStore"
        },
        {
          "description" : "A message that tells people why the app is requesting access to their contacts.",
          "name" : "NSContactsUsageDescription",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Information-Property-List\/NSContactsUsageDescription"
        },
        {
          "description" : "A Boolean value that indicates whether the app may access the notes in contact entries.",
          "name" : "com.apple.developer.contacts.notes",
          "url" : "https:\/\/developer.apple.com\/documentation\/BundleResources\/Entitlements\/com.apple.developer.contacts.notes"
        }
      ],
      "title" : "Essentials"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An immutable object that stores information about a single contact, such as the contact’s first name, phone numbers, and addresses.",
          "name" : "CNContact",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContact"
        },
        {
          "description" : "A mutable object that stores information about a single contact, such as the contact’s first name, phone numbers, and addresses.",
          "name" : "CNMutableContact",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNMutableContact"
        },
        {
          "description" : "Access contact-related data, such as the user’s postal address and phone number.",
          "name" : "Data Objects",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/data-objects"
        },
        {
          "description" : "Specify contact-related properties during fetch operations.",
          "name" : "Contact Keys",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/contact-keys"
        }
      ],
      "title" : "Contact data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that defines the options to use when fetching contacts.",
          "name" : "CNContactFetchRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContactFetchRequest"
        },
        {
          "description" : "The base class for contact fetch requests.",
          "name" : "CNFetchRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNFetchRequest"
        },
        {
          "description" : "An object that represents the result of a change-history fetch request.",
          "name" : "CNFetchResult",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNFetchResult"
        },
        {
          "description" : "An object that collects the changes you want to save to the user’s contacts database.",
          "name" : "CNSaveRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNSaveRequest"
        }
      ],
      "title" : "Fetch and save requests"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that represents a user adding a contact.",
          "name" : "CNChangeHistoryAddContactEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryAddContactEvent"
        },
        {
          "description" : "An object that represents a user adding a group.",
          "name" : "CNChangeHistoryAddGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryAddGroupEvent"
        },
        {
          "description" : "An object that represents a user adding a contact to a group.",
          "name" : "CNChangeHistoryAddMemberToGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryAddMemberToGroupEvent"
        },
        {
          "description" : "An object that represents a user adding a subgroup to a group.",
          "name" : "CNChangeHistoryAddSubgroupToGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryAddSubgroupToGroupEvent"
        },
        {
          "description" : "An object that represents a user deleting a contact.",
          "name" : "CNChangeHistoryDeleteContactEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryDeleteContactEvent"
        },
        {
          "description" : "An object that represents a user deleting a group.",
          "name" : "CNChangeHistoryDeleteGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryDeleteGroupEvent"
        },
        {
          "description" : "An object that indicates the delegate should drop all contacts and groups before handling change events.",
          "name" : "CNChangeHistoryDropEverythingEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryDropEverythingEvent"
        },
        {
          "description" : "An object that represents the user adding, updating, or deleting a contact or group.",
          "name" : "CNChangeHistoryEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryEvent"
        },
        {
          "description" : "An object that specifies the criteria for fetching change history.",
          "name" : "CNChangeHistoryFetchRequest",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryFetchRequest"
        },
        {
          "description" : "An object that represents a user removing a contact from a group.",
          "name" : "CNChangeHistoryRemoveMemberFromGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryRemoveMemberFromGroupEvent"
        },
        {
          "description" : "An object that represents a user removing a subgroup from a group.",
          "name" : "CNChangeHistoryRemoveSubgroupFromGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryRemoveSubgroupFromGroupEvent"
        },
        {
          "description" : "An object that represents a user updating a contact.",
          "name" : "CNChangeHistoryUpdateContactEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryUpdateContactEvent"
        },
        {
          "description" : "An object that represents an updated group event.",
          "name" : "CNChangeHistoryUpdateGroupEvent",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryUpdateGroupEvent"
        },
        {
          "description" : "An interface for receiving notice of changes to contacts and groups.",
          "name" : "CNChangeHistoryEventVisitor",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNChangeHistoryEventVisitor"
        }
      ],
      "title" : "Change history data"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An object that you use to format contact information before displaying it to the user.",
          "name" : "CNContactFormatter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContactFormatter"
        },
        {
          "description" : "An object that you use to format a contact’s postal addresses.",
          "name" : "CNPostalAddressFormatter",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNPostalAddressFormatter"
        },
        {
          "description" : "An object you use to convert to and from a vCard representation of the user’s contacts.",
          "name" : "CNContactVCardSerialization",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContactVCardSerialization"
        },
        {
          "description" : "An object that defines the default options to use when displaying contacts.",
          "name" : "CNContactsUserDefaults",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/CNContactsUserDefaults"
        }
      ],
      "title" : "Formatters"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Diagnose errors generated by the Contacts framework.",
          "name" : "Error Information",
          "url" : "https:\/\/developer.apple.com\/documentation\/Contacts\/error-information"
        }
      ],
      "title" : "Errors"
    }
  ],
  "source" : "appleJSON",
  "title" : "Contacts",
  "url" : "https:\/\/developer.apple.com\/documentation\/contacts"
}