{
  "abstract" : "Use test data to ensure your integration with the Roster API works correctly.",
  "codeExamples" : [
    {
      "code" : "URL: https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/authorize",
      "language" : "other"
    },
    {
      "code" : "https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\n",
      "language" : "other"
    },
    {
      "code" : "Content-Type: application\/x-www-form-urlencoded",
      "language" : "other"
    },
    {
      "code" : "{\n    \"access_token\":\"a1b054845b71446108514503d37086c7a.0.nwsw.xuSePX9jsQ6IjTq8CqMsdw\",\n    \"token_type\":\"Bearer\",\n    \"expires_in\":3600,\n    \"refresh_token\":\"r23b98899c8e6466493f55ab7505d24ae.0.nwsw.WkPIjDsKblacDkVc_khN2g\"\n}",
      "language" : "other"
    },
    {
      "code" : "curl --request GET \\\n  --url 'https:\/\/api-school.apple.com\/rosterapi\/v1\/users?limit=2' \\\n  --header 'Authorization: Bearer [ACCESS_TOKEN]'",
      "language" : "other"
    },
    {
      "code" : "{\n  \"users\": [\n    {\n      \"givenName\": \"given100\",\n      \"middleName\": \"middle100\",\n      \"familyName\": \"family100\",\n      \"id\": \"001385.dmdTSkZEVVdLaXRjS3U2bTNJUUFMNlIzQlNHUTUz.RVB0\",\n      \"grade\": \"4\",\n      \"email\": \"given100family100@mytestschool.org\",\n      \"roleLocationMapping\": [\n        {\n          \"roleName\": \"Student\",\n          \"locationId\": \"LO:1234\"\n        }\n      ],\n      \"dateCreated\": \"2020-07-06T20:32:00Z\",\n      \"dateLastModified\": \"2022-12-13T19:46:46.404451216Z\"\n    },\n    {\n      \"givenName\": \"given101\",\n      \"middleName\": \"middle101\",\n      \"familyName\": \"family101\",\n      \"id\": \"001385.dmdTSkZEVVdLaXRjS3U2bTNJUUVMNlIzQlNHUTUz.RVB0\",\n      \"roleLocationMapping\": [\n        {\n          \"roleName\": \"Student\",\n          \"locationId\": \"LO:1234\"\n        }\n      ],\n      \"dateCreated\": \"2020-07-06T20:32:00Z\",\n      \"dateLastModified\": \"2022-12-13T19:46:46.406289073Z\"\n    }\n  ],\n  \"nextPageToken\": \"mOG8EzKsKDOMbs2ruJa5tQ\",\n  \"moreToFollow\": true\n}",
      "language" : "other"
    },
    {
      "code" : "URL: https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\nRequest Type: POST\nRequest Body:\nclient_id=\"Your client ID\"\nclient_secret=\"Your Client secret\"\ngrant_type=refresh_token\nrefresh_token=\"The refresh token received\"\n\nHeaders:\nContent-Type: application\/x-www-form-urlencoded",
      "language" : "other"
    },
    {
      "code" : "{\n    \"access_token\":\"a1b054845b71446108514503d37086c7a.0.nwsw.xuSePX9jsQ6IjTq8CqMsdw\",\n    \"token_type\":\"Bearer\",\n    \"expires_in\":3600\n}",
      "language" : "other"
    }
  ],
  "contentHash" : "91559c681354595c14ad3d967af222c43e1a7ea344afd33c536d0efa452f044e",
  "crawledAt" : "2025-12-03T04:53:18Z",
  "id" : "845AEE0B-2F12-4592-9CB6-2638E5BD4B87",
  "kind" : "article",
  "language" : "data",
  "module" : "Roster API",
  "overview" : "## Overview\n\nTesting your Roster API integration before deployment is critical to the success of your implementation. The Roster API provides a *test scope* that you use to obtain sample user and class data for testing to ensure your integration is correct.\n\nUse the test scope to generate an access token, then query the various endpoints of the Roster API. When the Roster API receives the request, it responds with test data that represents the dataset and provides all possible states of user and class records.\n\n### Configure the test scope\n\nFrom your developer account, select Certificates, Identifiers & Profiles. When performing the steps to select the primary app identifier, choose “Roster API: Test data access” in the Organizational Data Sharing Scopes section.\n\nEnsure the service URL has the test scope configured in the Apple Developer website. The following screenshot shows where to configure the test scope:\n\n\n\n### Test the authorization endpoint\n\nAs explained in the WWDC 2022 session [https:\/\/developer.apple.com\/videos\/play\/wwdc2022\/10053\/], you need to generate the grant code to get the access token.\n\nUse the following URL when creating the integration:\n\nUse the following query parameters:\n\nThe URL opens the Apple OAuth consent screen. Enter your developer account credentials.\n\nAfter successfully logging in, you receive the grant code in the registered redirect URI.\n\n### Generate the access and refresh tokens\n\nWith your grant code, generate the access and refresh tokens. Create the `POST` request from your server with the following URL:\n\nIn the request body, set the following parameters:\n\nSet the header as follows:\n\nThis generates both the access and refresh tokens. You receive a response like the following:\n\nAccess tokens expire after one hour. If yours expires, you can use the refresh token you receive to create a new access token. For more information, see Handle an expired token, below.\n\n### Perform a request\n\nAfter receiving the access token, perform a Roster API request using the test scope. Replace `[ACCESS_TOKEN]` with the token you receive from the previous step.\n\nYou receive a response like the following:\n\n### Handle an expired access token\n\nIf your access token expires, use the refresh token to generate a new access token.\n\nYou receive the following response:\n\nThese steps describe how to fetch sample user and class data for testing the Roster API. Follow the same steps to generate the access and refresh tokens for production. Ensure that the scopes you request for production are for `edu.users.read` and `edu.classes.read`.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope\ncrawled: 2025-12-03T04:53:18Z\n---\n\n# Validating with the Roster API test scope\n\n**Article**\n\nUse test data to ensure your integration with the Roster API works correctly.\n\n## Overview\n\nTesting your Roster API integration before deployment is critical to the success of your implementation. The Roster API provides a *test scope* that you use to obtain sample user and class data for testing to ensure your integration is correct.\n\nUse the test scope to generate an access token, then query the various endpoints of the Roster API. When the Roster API receives the request, it responds with test data that represents the dataset and provides all possible states of user and class records.\n\n### Configure the test scope\n\nFrom your developer account, select Certificates, Identifiers & Profiles. When performing the steps to select the primary app identifier, choose “Roster API: Test data access” in the Organizational Data Sharing Scopes section.\n\nEnsure the service URL has the test scope configured in the Apple Developer website. The following screenshot shows where to configure the test scope:\n\n\n\n### Test the authorization endpoint\n\nAs explained in the WWDC 2022 session [https:\/\/developer.apple.com\/videos\/play\/wwdc2022\/10053\/], you need to generate the grant code to get the access token.\n\nUse the following URL when creating the integration:\n\n```other\nURL: https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/authorize\n```\n\nUse the following query parameters:\n\n\n\nThe URL opens the Apple OAuth consent screen. Enter your developer account credentials.\n\nAfter successfully logging in, you receive the grant code in the registered redirect URI.\n\n### Generate the access and refresh tokens\n\nWith your grant code, generate the access and refresh tokens. Create the `POST` request from your server with the following URL:\n\n```other\nhttps:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\n\n```\n\nIn the request body, set the following parameters:\n\n\n\nSet the header as follows:\n\n```other\nContent-Type: application\/x-www-form-urlencoded\n```\n\nThis generates both the access and refresh tokens. You receive a response like the following:\n\n```other\n{\n    \"access_token\":\"a1b054845b71446108514503d37086c7a.0.nwsw.xuSePX9jsQ6IjTq8CqMsdw\",\n    \"token_type\":\"Bearer\",\n    \"expires_in\":3600,\n    \"refresh_token\":\"r23b98899c8e6466493f55ab7505d24ae.0.nwsw.WkPIjDsKblacDkVc_khN2g\"\n}\n```\n\nAccess tokens expire after one hour. If yours expires, you can use the refresh token you receive to create a new access token. For more information, see Handle an expired token, below.\n\n### Perform a request\n\nAfter receiving the access token, perform a Roster API request using the test scope. Replace `[ACCESS_TOKEN]` with the token you receive from the previous step.\n\n```other\ncurl --request GET \\\n  --url 'https:\/\/api-school.apple.com\/rosterapi\/v1\/users?limit=2' \\\n  --header 'Authorization: Bearer [ACCESS_TOKEN]'\n```\n\nYou receive a response like the following:\n\n```other\n{\n  \"users\": [\n    {\n      \"givenName\": \"given100\",\n      \"middleName\": \"middle100\",\n      \"familyName\": \"family100\",\n      \"id\": \"001385.dmdTSkZEVVdLaXRjS3U2bTNJUUFMNlIzQlNHUTUz.RVB0\",\n      \"grade\": \"4\",\n      \"email\": \"given100family100@mytestschool.org\",\n      \"roleLocationMapping\": [\n        {\n          \"roleName\": \"Student\",\n          \"locationId\": \"LO:1234\"\n        }\n      ],\n      \"dateCreated\": \"2020-07-06T20:32:00Z\",\n      \"dateLastModified\": \"2022-12-13T19:46:46.404451216Z\"\n    },\n    {\n      \"givenName\": \"given101\",\n      \"middleName\": \"middle101\",\n      \"familyName\": \"family101\",\n      \"id\": \"001385.dmdTSkZEVVdLaXRjS3U2bTNJUUVMNlIzQlNHUTUz.RVB0\",\n      \"roleLocationMapping\": [\n        {\n          \"roleName\": \"Student\",\n          \"locationId\": \"LO:1234\"\n        }\n      ],\n      \"dateCreated\": \"2020-07-06T20:32:00Z\",\n      \"dateLastModified\": \"2022-12-13T19:46:46.406289073Z\"\n    }\n  ],\n  \"nextPageToken\": \"mOG8EzKsKDOMbs2ruJa5tQ\",\n  \"moreToFollow\": true\n}\n```\n\n### Handle an expired access token\n\nIf your access token expires, use the refresh token to generate a new access token.\n\n```other\nURL: https:\/\/appleid.apple.com\/auth\/oauth2\/v2\/token\nRequest Type: POST\nRequest Body:\nclient_id=\"Your client ID\"\nclient_secret=\"Your Client secret\"\ngrant_type=refresh_token\nrefresh_token=\"The refresh token received\"\n\nHeaders:\nContent-Type: application\/x-www-form-urlencoded\n```\n\nYou receive the following response:\n\n```other\n{\n    \"access_token\":\"a1b054845b71446108514503d37086c7a.0.nwsw.xuSePX9jsQ6IjTq8CqMsdw\",\n    \"token_type\":\"Bearer\",\n    \"expires_in\":3600\n}\n```\n\nThese steps describe how to fetch sample user and class data for testing the Roster API. Follow the same steps to generate the access and refresh tokens for production. Ensure that the scopes you request for production are for `edu.users.read` and `edu.classes.read`.\n\n## Essentials\n\n- **Obtaining information about people and classes**: Prepare your app to request organizational information from a server.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Prepare your app to request organizational information from a server.",
          "name" : "Obtaining information about people and classes",
          "url" : "https:\/\/developer.apple.com\/documentation\/RosterAPI\/obtaining-information-about-people-and-classes"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Validating with the Roster API test scope",
  "url" : "https:\/\/developer.apple.com\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope"
}