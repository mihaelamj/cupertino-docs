{
  "abstract" : "Prepare your app to request organizational information from a server.",
  "codeExamples" : [
    {
      "code" : "{\n    \"iss\": \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\"\n    \"aud\": \"[CLIENT_ID]\",\n    \"iat\": 1508184845,\n    \"jti\": \"abede...67890\",\n    \"events\": [\n        {\n            \"type\": \"consent-revoked\",\n            \"sub\": \"001273.YVlIczRoMFRGbll4ODIzRUV0M2NLNkFRM0VHUTdQ.RVBY\",\n            \"org_id\": \"8e257987-f221-4171-887d-efead972993b\",\n            \"scopes\": \"edu.classes.read edu.users.read\"\n            \"event_time\": 1508184845\n        }\n    ]\n}",
      "language" : "other"
    },
    {
      "code" : "{\n    \"id\": \"8e257987-f221-4171-887d-efead972993b\",\n    \"type\": \"EDUCATION\",\n    \"name\": \"Apple School Manager Test Organization\",\n    \"dateCreated\": \"2016-07-26T18:11:51Z\",\n    \"dateLastModified\": \"2016-07-26T18:11:51Z\", \n    \"domains\": [{\"name\": \"mytestschool.org\", \"isVerified\": false}]\n}",
      "language" : "other"
    }
  ],
  "contentHash" : "d85d2a5aac46f2183056da770df07097b189ab254ab67850202599194095ca9a",
  "crawledAt" : "2025-12-01T09:42:40Z",
  "id" : "E236AB6D-FB06-4BF7-BE49-446B88319792",
  "kind" : "article",
  "module" : "Roster API",
  "overview" : "## Overview\n\nRoster API gives you access to information about the people and classes within an Apple School Manager (ASM) organization. To accomplish this, register for access, then perform queries to obtain the users and classes in that organization.\n\n### Plan your integration design\n\nWhen planning the design for the integration, create roles that allow specific accounts to perform the steps for integrating your app with Roster API. Provide only those roles with the privileges to perform create, read, update, and delete operations for the integration. For example, in ASM, only accounts that have administrator or site-manager roles can authorize an app to use Roster API.\n\nConsider that there’s only one configuration at the organizational level. Accounts belonging to the roles with privileges work with this single configuration. This means that any changes that one privileged account makes are visible to other privileged accounts.\n\n### Select the primary App ID\n\nUse your credentials to log in to the [http:\/\/developer.apple.com\/], then choose Certificates, IDs & Profiles > Services, and click the Configure button in the Account & Organizational Data Sharing section.\n\n\n\nClick the Add button (+) to the right of Configurations, or click the Configure button in the Get Started with Account & Organizational Data Sharing section.\n\n\n\nChoose the primary App ID from the drop-down menu, then click Continue.\n\n\n\n### Set the return URLs\n\nReturn URLs receive the grant code after successfully authorizing with Apple. From the Organizational Data Sharing Scopes options, select Roster API: User access, Roster API: Class access, and Roster API: Test Data access.  For more information about the test data access scope, see [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope].\n\nAdd your return URLs in the Return URLs section, then enter a URL for the Server to Server Notification Endpoint so you can receive updates about people and accounts.\n\n\n\nReview your configuration and click Confirm.\n\n\n\n### Generate the client secret\n\nBefore you can generate the access token, you’ll first need to generate the client secret, which you’ll need to create the token. See [doc:\/\/com.apple.documentation\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nNext, choose an existing key, or create a new key by clicking the Add button (+).\n\n\n\nEnter a key name if you’re creating a new key, select Account & Organizational Data Sharing, and click Continue.\n\n\n\nReview the information and then click Register to register the key.\n\n\n\nClick Download, then set up a client secret. See [doc:\/\/com.apple.documentation\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\n\n\n### Validate using the test scope\n\nTo ensure your integration works correctly, test it before providing it to users. See [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope].\n\n### Receive revocation notifications\n\nASM organizations can set up integration with the supported apps to import information about people and classes.\n\nIf an organization decides to revoke an app, Apple sends out a revocation notification to the URL you configures as the Server to Server Notification Endpoint. After receiving the  notification, remove all data associated with that organization.\n\nThe following is an example revocation notification request:\n\nInformation for `org_id` and `scopes` are part of the payload. Use `org_id` to remove all data associated with the organization.\n\nUse the `\/rosterapi\/v1\/organization` endpoint to determine the `org_id` when obtaining user and class information for an organization. The following is a sample response:\n\nUse `id` as the identifier to associate records to a certain organization. When the revocation notification arrives, delete those records associated with the organization that matches `org_id`.\n\n### Synchronize data with Apple School Manager\n\nApple synchronizes data in ASM with authorized student information systems every 24 hours. Fetch data using Roster API once every 24 hours to have the most up to date data in your app. If you need to reduce your resource usage, consider fetching data less frequently, for example once every 48 hours or once every week.\n\nDesign your synchronization to handle class and roster updates. When someone removes a student from a class in ASM, or deletes a class, subsequent requests to [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/returns-a-users-for-an-Apple-School-Manager-class] and [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/returns-a-list-of-classes-for-an-Apple-School-Manager-organization] don’t include the removed items. Consider whether to show teachers existing data and give them the option to remove it manually, or automatically remove the deleted records.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/RosterAPI\/obtaining-information-about-people-and-classes\ncrawled: 2025-12-01T09:42:40Z\n---\n\n# Obtaining information about people and classes\n\n**Article**\n\nPrepare your app to request organizational information from a server.\n\n## Overview\n\nRoster API gives you access to information about the people and classes within an Apple School Manager (ASM) organization. To accomplish this, register for access, then perform queries to obtain the users and classes in that organization.\n\n### Plan your integration design\n\nWhen planning the design for the integration, create roles that allow specific accounts to perform the steps for integrating your app with Roster API. Provide only those roles with the privileges to perform create, read, update, and delete operations for the integration. For example, in ASM, only accounts that have administrator or site-manager roles can authorize an app to use Roster API.\n\nConsider that there’s only one configuration at the organizational level. Accounts belonging to the roles with privileges work with this single configuration. This means that any changes that one privileged account makes are visible to other privileged accounts.\n\n### Select the primary App ID\n\nUse your credentials to log in to the [http:\/\/developer.apple.com\/], then choose Certificates, IDs & Profiles > Services, and click the Configure button in the Account & Organizational Data Sharing section.\n\n\n\nClick the Add button (+) to the right of Configurations, or click the Configure button in the Get Started with Account & Organizational Data Sharing section.\n\n\n\nChoose the primary App ID from the drop-down menu, then click Continue.\n\n\n\n### Set the return URLs\n\nReturn URLs receive the grant code after successfully authorizing with Apple. From the Organizational Data Sharing Scopes options, select Roster API: User access, Roster API: Class access, and Roster API: Test Data access.  For more information about the test data access scope, see [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope].\n\nAdd your return URLs in the Return URLs section, then enter a URL for the Server to Server Notification Endpoint so you can receive updates about people and accounts.\n\n\n\nReview your configuration and click Confirm.\n\n\n\n### Generate the client secret\n\nBefore you can generate the access token, you’ll first need to generate the client secret, which you’ll need to create the token. See [doc:\/\/com.apple.documentation\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\nNext, choose an existing key, or create a new key by clicking the Add button (+).\n\n\n\nEnter a key name if you’re creating a new key, select Account & Organizational Data Sharing, and click Continue.\n\n\n\nReview the information and then click Register to register the key.\n\n\n\nClick Download, then set up a client secret. See [doc:\/\/com.apple.documentation\/documentation\/AccountOrganizationalDataSharing\/creating-a-client-secret].\n\n\n\n### Validate using the test scope\n\nTo ensure your integration works correctly, test it before providing it to users. See [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope].\n\n### Receive revocation notifications\n\nASM organizations can set up integration with the supported apps to import information about people and classes.\n\nIf an organization decides to revoke an app, Apple sends out a revocation notification to the URL you configures as the Server to Server Notification Endpoint. After receiving the  notification, remove all data associated with that organization.\n\nThe following is an example revocation notification request:\n\n```other\n{\n    \"iss\": \"https:\/\/appleid.apple.com\/auth\/oauth2\/v2\"\n    \"aud\": \"[CLIENT_ID]\",\n    \"iat\": 1508184845,\n    \"jti\": \"abede...67890\",\n    \"events\": [\n        {\n            \"type\": \"consent-revoked\",\n            \"sub\": \"001273.YVlIczRoMFRGbll4ODIzRUV0M2NLNkFRM0VHUTdQ.RVBY\",\n            \"org_id\": \"8e257987-f221-4171-887d-efead972993b\",\n            \"scopes\": \"edu.classes.read edu.users.read\"\n            \"event_time\": 1508184845\n        }\n    ]\n}\n```\n\nInformation for `org_id` and `scopes` are part of the payload. Use `org_id` to remove all data associated with the organization.\n\nUse the `\/rosterapi\/v1\/organization` endpoint to determine the `org_id` when obtaining user and class information for an organization. The following is a sample response:\n\n```other\n{\n    \"id\": \"8e257987-f221-4171-887d-efead972993b\",\n    \"type\": \"EDUCATION\",\n    \"name\": \"Apple School Manager Test Organization\",\n    \"dateCreated\": \"2016-07-26T18:11:51Z\",\n    \"dateLastModified\": \"2016-07-26T18:11:51Z\", \n    \"domains\": [{\"name\": \"mytestschool.org\", \"isVerified\": false}]\n}\n```\n\nUse `id` as the identifier to associate records to a certain organization. When the revocation notification arrives, delete those records associated with the organization that matches `org_id`.\n\n### Synchronize data with Apple School Manager\n\nApple synchronizes data in ASM with authorized student information systems every 24 hours. Fetch data using Roster API once every 24 hours to have the most up to date data in your app. If you need to reduce your resource usage, consider fetching data less frequently, for example once every 48 hours or once every week.\n\nDesign your synchronization to handle class and roster updates. When someone removes a student from a class in ASM, or deletes a class, subsequent requests to [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/returns-a-users-for-an-Apple-School-Manager-class] and [doc:\/\/com.apple.rosterapi\/documentation\/RosterAPI\/returns-a-list-of-classes-for-an-Apple-School-Manager-organization] don’t include the removed items. Consider whether to show teachers existing data and give them the option to remove it manually, or automatically remove the deleted records.\n\n## Essentials\n\n- **Validating with the Roster API test scope**: Use test data to ensure your integration with the Roster API works correctly.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Use test data to ensure your integration with the Roster API works correctly.",
          "name" : "Validating with the Roster API test scope",
          "url" : "https:\/\/developer.apple.com\/documentation\/RosterAPI\/validating-with-the-roster-api-test-scope"
        }
      ],
      "title" : "Essentials"
    }
  ],
  "source" : "appleJSON",
  "title" : "Obtaining information about people and classes",
  "url" : "https:\/\/developer.apple.com\/documentation\/RosterAPI\/obtaining-information-about-people-and-classes"
}