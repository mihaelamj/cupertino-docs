{
  "abstract" : "Adjust your UI when a person chooses to dim flashing lights on their Apple device.",
  "codeExamples" : [
    {
      "code" : "ForEach(videoFlashingTimes, id: \\.self) { timeRange in\n    \/\/ Draws red rectangles to indicate which segments of the video\n    \/\/ contain flashing light effects. The position relies on the\n    \/\/ start and end times of each segment in `videoFlashingTimes`.\n    RoundedRectangle(cornerRadius: 2)\n        .fill(.red)\n        .position(x: (timeRange[0] * width) + ((timeRange[1] * width) - (timeRange[0] * width)) \/ 2)\n        .frame(width: (timeRange[1] * width) - (timeRange[0] * width), height: 10)\n}",
      "language" : "swift"
    },
    {
      "code" : "import MediaAccessibility",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Registers for the system notification that posts when the value of\n\/\/ the Dim Flashing Lights setting changes.\nNotificationCenter.default.addObserver(self,\n    selector: #selector(dimFlashingLightsChanged),\n    name: kMADimFlashingLightsChangedNotification as NSNotification.Name,\n    object: nil)",
      "language" : "swift"
    },
    {
      "code" : "@objc\nfunc dimFlashingLightsChanged(_ notification: Notification) {\n    \/\/ Updates `dimFlashingLightsStatus` to the new value of the\n    \/\/ Dim Flashing Light setting.\n    dimFlashingLightsStatus = MADimFlashingLightsEnabled()\n}",
      "language" : "swift"
    },
    {
      "code" : "\/\/ Checks the status of the Dim Flashing Lights setting to determine\n\/\/ whether to draw the custom media timeline.\nif playerManager.dimFlashingLightsStatus {\n    VStack {\n        Text(\"Custom Media Timeline\")\n            .font(.title2)\n            .padding(.bottom)\n        GeometryReader { proxy in\n            \/\/ Draws a timeline view that's the same width as the\n            \/\/ video player.\n            FlashingTimelineView(proxy.size.width)\n            \n            \/\/ Draws a custom playback indicator on top of the\n            \/\/ timeline view.\n            RoundedRectangle(cornerRadius: 2)\n                .fill(.black)\n                .border(.white)\n                .position(x: playerManager.playbackPercentage * proxy.size.width)\n                .frame(width: 9, height: 9)\n        }\n    }\n    .padding(.top)\n}",
      "language" : "swift"
    }
  ],
  "contentHash" : "164f226e8060d3b61db60141908e192a89b9c6d7f000fc2b79a77ec0b129978d",
  "crawledAt" : "2025-12-02T15:28:11Z",
  "id" : "DB6D000C-718A-4E90-B233-5BAF02707B87",
  "kind" : "unknown",
  "language" : "swift",
  "module" : "Media Accessibility",
  "overview" : "## Overview\n\nDim Flashing Lights is a setting that allows a person to indicate that they want to avoid bright, frequent flashes of light on their Apple device. When a person turns on this setting, the device automatically dims video content when the system detects flashing or strobing effects.\n\nIn your app, you can check the current value of this setting and make any necessary adjustments to your UI when the value changes. For example, this sample code project demonstrates how to draw a custom media timeline that indicates which portions of a video contain flashing lights. For other examples of changes you might make in your UI in response to this setting, read [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/flashing-lights].\n\n### Configure the sample code project\n\nThis sample code project relies on changes to a system setting. To observe a change in the sample app’s UI, change the value of the Dim Flashing Lights setting at any time, and return to the app to observe how the UI responds.\n\nTo change the setting, open Settings > Accessibility > Motion and turn on Dim Flashing Lights.\n\n### Play the video with dimmed flashing\n\nWith Dim Flashing Lights on, play the sample video in the video player. The sample app shows a custom media timeline below the video in the [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVPlayer]. This timeline annotates the segments of the sample video that present a high risk of flashing lights.\n\n[x-source-tag:\/\/FlashingTimelineView]\n\nWhen the video playback reaches one of those segments, the system automatically dims the video to reduce the flashing effects.\n\n### Register for changes in the flashing lights setting\n\nThis sample app draws the custom media timeline only when the Dim Flashing Lights setting is on, which the app determines through a system notification. First, the app imports the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility] framework to interact with the API.\n\nThen, it registers to receive the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/kMADimFlashingLightsChangedNotification] notification, which the system sends when a person turns the setting on or off.\n\n[x-source-tag:\/\/RegisterForNotification]\n\nWhen the app receives the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/kMADimFlashingLightsChangedNotification] notification, it sets the variable `dimFlashingLightsStatus` to the current value of the system setting, which the system reports through [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/MADimFlashingLightsEnabled()].\n\n[x-source-tag:\/\/SettingChanged]\n\n### Draw the custom media timeline if the setting is on\n\nWhen the app draws its UI, it checks the value of the current setting status, `dimFlashingLightsStatus`, to determine whether to draw the custom media timeline.\n\n[x-source-tag:\/\/CreateUI]\n\nIf you turn the setting off, the sample app’s UI updates to remove the custom media timeline.",
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/MediaAccessibility\/responding-to-changes-in-the-flashing-lights-setting\ncrawled: 2025-12-02T15:28:11Z\n---\n\n# Responding to changes in the flashing lights setting\n\n**Sample Code**\n\nAdjust your UI when a person chooses to dim flashing lights on their Apple device.\n\n## Overview\n\nDim Flashing Lights is a setting that allows a person to indicate that they want to avoid bright, frequent flashes of light on their Apple device. When a person turns on this setting, the device automatically dims video content when the system detects flashing or strobing effects.\n\nIn your app, you can check the current value of this setting and make any necessary adjustments to your UI when the value changes. For example, this sample code project demonstrates how to draw a custom media timeline that indicates which portions of a video contain flashing lights. For other examples of changes you might make in your UI in response to this setting, read [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/flashing-lights].\n\n\n\n### Configure the sample code project\n\nThis sample code project relies on changes to a system setting. To observe a change in the sample app’s UI, change the value of the Dim Flashing Lights setting at any time, and return to the app to observe how the UI responds.\n\nTo change the setting, open Settings > Accessibility > Motion and turn on Dim Flashing Lights.\n\n### Play the video with dimmed flashing\n\nWith Dim Flashing Lights on, play the sample video in the video player. The sample app shows a custom media timeline below the video in the [doc:\/\/com.apple.documentation\/documentation\/AVFoundation\/AVPlayer]. This timeline annotates the segments of the sample video that present a high risk of flashing lights.\n\n```swift\nForEach(videoFlashingTimes, id: \\.self) { timeRange in\n    \/\/ Draws red rectangles to indicate which segments of the video\n    \/\/ contain flashing light effects. The position relies on the\n    \/\/ start and end times of each segment in `videoFlashingTimes`.\n    RoundedRectangle(cornerRadius: 2)\n        .fill(.red)\n        .position(x: (timeRange[0] * width) + ((timeRange[1] * width) - (timeRange[0] * width)) \/ 2)\n        .frame(width: (timeRange[1] * width) - (timeRange[0] * width), height: 10)\n}\n```\n\n[x-source-tag:\/\/FlashingTimelineView]\n\nWhen the video playback reaches one of those segments, the system automatically dims the video to reduce the flashing effects.\n\n### Register for changes in the flashing lights setting\n\nThis sample app draws the custom media timeline only when the Dim Flashing Lights setting is on, which the app determines through a system notification. First, the app imports the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility] framework to interact with the API.\n\n```swift\nimport MediaAccessibility\n```\n\nThen, it registers to receive the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/kMADimFlashingLightsChangedNotification] notification, which the system sends when a person turns the setting on or off.\n\n```swift\n\/\/ Registers for the system notification that posts when the value of\n\/\/ the Dim Flashing Lights setting changes.\nNotificationCenter.default.addObserver(self,\n    selector: #selector(dimFlashingLightsChanged),\n    name: kMADimFlashingLightsChangedNotification as NSNotification.Name,\n    object: nil)\n```\n\n[x-source-tag:\/\/RegisterForNotification]\n\nWhen the app receives the [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/kMADimFlashingLightsChangedNotification] notification, it sets the variable `dimFlashingLightsStatus` to the current value of the system setting, which the system reports through [doc:\/\/com.apple.mediaaccessibility\/documentation\/MediaAccessibility\/MADimFlashingLightsEnabled()].\n\n```swift\n@objc\nfunc dimFlashingLightsChanged(_ notification: Notification) {\n    \/\/ Updates `dimFlashingLightsStatus` to the new value of the\n    \/\/ Dim Flashing Light setting.\n    dimFlashingLightsStatus = MADimFlashingLightsEnabled()\n}\n```\n\n[x-source-tag:\/\/SettingChanged]\n\n### Draw the custom media timeline if the setting is on\n\nWhen the app draws its UI, it checks the value of the current setting status, `dimFlashingLightsStatus`, to determine whether to draw the custom media timeline.\n\n```swift\n\/\/ Checks the status of the Dim Flashing Lights setting to determine\n\/\/ whether to draw the custom media timeline.\nif playerManager.dimFlashingLightsStatus {\n    VStack {\n        Text(\"Custom Media Timeline\")\n            .font(.title2)\n            .padding(.bottom)\n        GeometryReader { proxy in\n            \/\/ Draws a timeline view that's the same width as the\n            \/\/ video player.\n            FlashingTimelineView(proxy.size.width)\n            \n            \/\/ Draws a custom playback indicator on top of the\n            \/\/ timeline view.\n            RoundedRectangle(cornerRadius: 2)\n                .fill(.black)\n                .border(.white)\n                .position(x: playerManager.playbackPercentage * proxy.size.width)\n                .frame(width: 9, height: 9)\n        }\n    }\n    .padding(.top)\n}\n```\n\n[x-source-tag:\/\/CreateUI]\n\nIf you turn the setting off, the sample app’s UI updates to remove the custom media timeline.\n\n## Dim flashing lights\n\n- **MADimFlashingLightsEnabled()**: Returns a Boolean value that indicates whether the flashing lights setting is enabled on the device.\n- **kMADimFlashingLightsChangedNotification**: A notification that posts when a person changes the flashing lights setting on the device.\n- **MAFlashingLightsProcessor**: A class that processes a framebuffer object to detect and dim sequences of flashing lights.\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Returns a Boolean value that indicates whether the flashing lights setting is enabled on the device.",
          "name" : "MADimFlashingLightsEnabled()",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaAccessibility\/MADimFlashingLightsEnabled()"
        },
        {
          "description" : "A notification that posts when a person changes the flashing lights setting on the device.",
          "name" : "kMADimFlashingLightsChangedNotification",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaAccessibility\/kMADimFlashingLightsChangedNotification"
        },
        {
          "description" : "A class that processes a framebuffer object to detect and dim sequences of flashing lights.",
          "name" : "MAFlashingLightsProcessor",
          "url" : "https:\/\/developer.apple.com\/documentation\/MediaAccessibility\/MAFlashingLightsProcessor"
        }
      ],
      "title" : "Dim flashing lights"
    }
  ],
  "source" : "appleJSON",
  "title" : "Responding to changes in the flashing lights setting",
  "url" : "https:\/\/developer.apple.com\/documentation\/MediaAccessibility\/responding-to-changes-in-the-flashing-lights-setting"
}