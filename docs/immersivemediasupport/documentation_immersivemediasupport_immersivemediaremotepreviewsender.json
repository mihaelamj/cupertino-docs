{
  "abstract" : "An observable object that helps an app send the required data to all connected receiver apps to help facilitate the complete preview of the immersive media playback.",
  "codeExamples" : [
    {
      "code" : "func setupNWParameters() -> NWParameters {\n    let tcpOptions = NWProtocolTCP.Options()\n    let tls = \/* setup TLS security options *\/\n\n    let ret = NWParameters(tls: tls, tcp: tcpOptions)\n\n    let options = NWProtocolFramer.Options(definition: ImmersiveMediaPreviewMessagingProtocol.definition)\n    ret.defaultProtocolStack.applicationProtocols.insert(options, at: 0)\n\n    return ret\n}",
      "language" : "swift"
    },
    {
      "code" : "let parameters = setupNWParameters()\nlet browser = NWBrowser(for: .bonjour(type: serviceType, domain: nil), using: parameters)",
      "language" : "swift"
    },
    {
      "code" : "let parameters = setupNWParameters()\nlet listener = try NWListener(using: parameters)",
      "language" : "swift"
    }
  ],
  "conformsTo" : [
    "Copyable",
    "Observable",
    "Sendable",
    "SendableMetatype"
  ],
  "contentHash" : "19931d60daf01fff535de5e3d8d6e4979ff06837a14192b94d98941184ff1349",
  "crawledAt" : "2025-12-02T15:42:20Z",
  "declaration" : {
    "code" : "class ImmersiveMediaRemotePreviewSender",
    "language" : "swift"
  },
  "id" : "A053A1D5-B661-420F-8E69-4041FD2AD324",
  "kind" : "class",
  "language" : "swift",
  "module" : "Immersive Media Support",
  "overview" : "## Overview\n\nThe apps have to implement the protocol [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaPreviewMessagingProtocol] so that messages exchanged between sender and receivers are in the correct format for processing. The apps need to provide this as custom protocol when establishing the network connection between the sender and the receivers.\n\nIt’s also important to configure the NWParameters to be secure by adding TLS security options as the example below.",
  "platforms" : [
    "macOS"
  ],
  "rawMarkdown" : "---\nsource: https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\ncrawled: 2025-12-02T15:42:20Z\n---\n\n# ImmersiveMediaRemotePreviewSender\n\n**Class**\n\nAn observable object that helps an app send the required data to all connected receiver apps to help facilitate the complete preview of the immersive media playback.\n\n## Declaration\n\n```swift\nclass ImmersiveMediaRemotePreviewSender\n```\n\n## Overview\n\nThe apps have to implement the protocol [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaPreviewMessagingProtocol] so that messages exchanged between sender and receivers are in the correct format for processing. The apps need to provide this as custom protocol when establishing the network connection between the sender and the receivers.\n\nIt’s also important to configure the NWParameters to be secure by adding TLS security options as the example below.\n\n```swift\nfunc setupNWParameters() -> NWParameters {\n    let tcpOptions = NWProtocolTCP.Options()\n    let tls = \/* setup TLS security options *\/\n\n    let ret = NWParameters(tls: tls, tcp: tcpOptions)\n\n    let options = NWProtocolFramer.Options(definition: ImmersiveMediaPreviewMessagingProtocol.definition)\n    ret.defaultProtocolStack.applicationProtocols.insert(options, at: 0)\n\n    return ret\n}\n```\n\n```swift\nlet parameters = setupNWParameters()\nlet browser = NWBrowser(for: .bonjour(type: serviceType, domain: nil), using: parameters)\n```\n\n```swift\nlet parameters = setupNWParameters()\nlet listener = try NWListener(using: parameters)\n```\n\n## Initializers\n\n- **init(networkParameters:)**: Creates a preview sender using the specified network parameters, if any.\n\n## Instance Properties\n\n- **connectedReceiverNames**: An array with the names of all receives currently receiving data from this instance. When a receiver goes offline, this array will be automatically updated.\n- **isReadyToSendData**: A Boolean value that indicates whether this preview sender is ready to send data.\n- **preferredFrameRate**: The preferred frame rate to use when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best framerate based on network quality.\n- **preferredVideoHeight**: The preferred video height to be used when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best resolution.\n- **preferredVideoWidth**: The preferred video width to use when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best resolution.\n\n## Instance Methods\n\n- **connectReceiver(name:endpoint:)**: Adds an [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewReceiver] to the sender as an active participant of the network preview. Any updates on the sender will be propagated to all active receivers (frames, camera information, static metadata).\n- **disconnectReceiver(name:)**: Disconnects a specific remote preview receiver associated with the name provided when [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/connectReceiver(name:endpoint:)] was called.\n- **send(audioBuffer:)**: Sends an audio frame to all connected receivers.\n- **send(taggedBuffers:presentationTimeStamp:frameDuration:)**: Sends a video frame to all the connected receivers using its tagged buffers representation.\n- **send(venueDescriptor:)**: Sends a venue descriptor to all connected receivers.\n- **send(videoBuffer:)**: Sends the video frame to the receivers.\n- **send(videoFrame:presentationTimeStamp:frameDuration:metadata:)**: Sends a video frame to all the connected receivers using its sample buffer representation.\n- **sendVenueDescriptor(at:)**: Sends an AIME to all connected receivers.\n- **start()**: Starts the sender.\n- **stop()**: Stops the sender - all current connected receivers will be disconnected and streaming will stop.\n\n## Conforms To\n\n- Copyable\n- Observable\n- Sendable\n- SendableMetatype\n\n",
  "sections" : [
    {
      "content" : "",
      "items" : [
        {
          "description" : "Creates a preview sender using the specified network parameters, if any.",
          "name" : "init(networkParameters:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/init(networkParameters:)"
        }
      ],
      "title" : "Initializers"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "An array with the names of all receives currently receiving data from this instance. When a receiver goes offline, this array will be automatically updated.",
          "name" : "connectedReceiverNames",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/connectedReceiverNames"
        },
        {
          "description" : "A Boolean value that indicates whether this preview sender is ready to send data.",
          "name" : "isReadyToSendData",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/isReadyToSendData"
        },
        {
          "description" : "The preferred frame rate to use when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best framerate based on network quality.",
          "name" : "preferredFrameRate",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/preferredFrameRate"
        },
        {
          "description" : "The preferred video height to be used when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best resolution.",
          "name" : "preferredVideoHeight",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/preferredVideoHeight"
        },
        {
          "description" : "The preferred video width to use when sending and previewing frames. This is optional; a value of `-1` enables the system to decide the best resolution.",
          "name" : "preferredVideoWidth",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/preferredVideoWidth"
        }
      ],
      "title" : "Instance Properties"
    },
    {
      "content" : "",
      "items" : [
        {
          "description" : "Adds an [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewReceiver] to the sender as an active participant of the network preview. Any updates on the sender will be propagated to all active receivers (frames, camera information, static metadata).",
          "name" : "connectReceiver(name:endpoint:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/connectReceiver(name:endpoint:)"
        },
        {
          "description" : "Disconnects a specific remote preview receiver associated with the name provided when [doc:\/\/com.apple.immersivemediasupport\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/connectReceiver(name:endpoint:)] was called.",
          "name" : "disconnectReceiver(name:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/disconnectReceiver(name:)"
        },
        {
          "description" : "Sends an audio frame to all connected receivers.",
          "name" : "send(audioBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/send(audioBuffer:)"
        },
        {
          "description" : "Sends a video frame to all the connected receivers using its tagged buffers representation.",
          "name" : "send(taggedBuffers:presentationTimeStamp:frameDuration:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/send(taggedBuffers:presentationTimeStamp:frameDuration:)"
        },
        {
          "description" : "Sends a venue descriptor to all connected receivers.",
          "name" : "send(venueDescriptor:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/send(venueDescriptor:)"
        },
        {
          "description" : "Sends the video frame to the receivers.",
          "name" : "send(videoBuffer:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/send(videoBuffer:)"
        },
        {
          "description" : "Sends a video frame to all the connected receivers using its sample buffer representation.",
          "name" : "send(videoFrame:presentationTimeStamp:frameDuration:metadata:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/send(videoFrame:presentationTimeStamp:frameDuration:metadata:)"
        },
        {
          "description" : "Sends an AIME to all connected receivers.",
          "name" : "sendVenueDescriptor(at:)",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/sendVenueDescriptor(at:)"
        },
        {
          "description" : "Starts the sender.",
          "name" : "start()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/start()"
        },
        {
          "description" : "Stops the sender - all current connected receivers will be disconnected and streaming will stop.",
          "name" : "stop()",
          "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender\/stop()"
        }
      ],
      "title" : "Instance Methods"
    }
  ],
  "source" : "appleJSON",
  "title" : "ImmersiveMediaRemotePreviewSender",
  "url" : "https:\/\/developer.apple.com\/documentation\/ImmersiveMediaSupport\/ImmersiveMediaRemotePreviewSender"
}